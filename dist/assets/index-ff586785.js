var ch=Object.defineProperty;var uh=(n,r,e)=>r in n?ch(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;var q=(n,r,e)=>(uh(n,typeof r!="symbol"?r+"":r,e),e);import{j as c,F as vt,a as b,L as ke,u as Pn,m as dh,A as fh,b as Vs,c as Uu,R as ph,d as fe,N as hh,B as mh}from"./ui-4e39a595.js";import{a as ua,b as P,r as p,g as vh,R as gh,c as yh,d as $a}from"./vendor-db7faedb.js";function Bk(){import.meta.url,import("_").catch(()=>1);async function*n(){}}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function e(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(a){if(a.ep)return;a.ep=!0;const s=e(a);fetch(a.href,s)}})();var Vu,Gl=ua;Vu=Gl.createRoot,Gl.hydrateRoot;const bh=({children:n})=>c(vt,{children:n});class wh extends P.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r,e){console.error("ErrorBoundary caught an error:",r,e)}render(){const{children:r}=this.props,{hasError:e}=this.state;return e?"ОШИБКА":r}}function me(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(e.length?" "+e.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var _h={};function Ho(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:_h}var Ku=Object.assign,gs=Object.getOwnPropertyDescriptor,qt=Object.defineProperty,Ks=Object.prototype,uo=[];Object.freeze(uo);var zu={};Object.freeze(zu);var Dh=typeof Proxy<"u",Sh=Object.toString();function qu(){Dh||me("Proxy not available")}function Qu(n){var r=!1;return function(){if(!r)return r=!0,n.apply(this,arguments)}}var vr=function(){};function Tt(n){return typeof n=="function"}function Kn(n){var r=typeof n;switch(r){case"string":case"symbol":case"number":return!0}return!1}function zs(n){return n!==null&&typeof n=="object"}function vn(n){if(!zs(n))return!1;var r=Object.getPrototypeOf(n);if(r==null)return!0;var e=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return typeof e=="function"&&e.toString()===Sh}function Xu(n){var r=n==null?void 0:n.constructor;return r?r.name==="GeneratorFunction"||r.displayName==="GeneratorFunction":!1}function da(n,r,e){qt(n,r,{enumerable:!1,writable:!0,configurable:!0,value:e})}function Zu(n,r,e){qt(n,r,{enumerable:!1,writable:!1,configurable:!0,value:e})}function tr(n,r){var e="isMobX"+n;return r.prototype[e]=!0,function(t){return zs(t)&&t[e]===!0}}function $r(n){return n instanceof Map}function fa(n){return n instanceof Set}var Ju=typeof Object.getOwnPropertySymbols<"u";function Nh(n){var r=Object.keys(n);if(!Ju)return r;var e=Object.getOwnPropertySymbols(n);return e.length?[].concat(r,e.filter(function(t){return Ks.propertyIsEnumerable.call(n,t)})):r}var Sr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Ju?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function ed(n){return n===null?null:typeof n=="object"?""+n:n}function ln(n,r){return Ks.hasOwnProperty.call(n,r)}var Eh=Object.getOwnPropertyDescriptors||function(r){var e={};return Sr(r).forEach(function(t){e[t]=gs(r,t)}),e};function Wl(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,xh(t.key),t)}}function Uo(n,r,e){return r&&Wl(n.prototype,r),e&&Wl(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function zn(){return zn=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},zn.apply(this,arguments)}function td(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,fo(n,r)}function fo(n,r){return fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},fo(n,r)}function Ai(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function kh(n,r){if(n){if(typeof n=="string")return jl(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return jl(n,r)}}function jl(n,r){(r==null||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function gr(n,r){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e)return(e=e.call(n)).next.bind(e);if(Array.isArray(n)||(e=kh(n))||r&&n&&typeof n.length=="number"){e&&(n=e);var t=0;return function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ch(n,r){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var t=e.call(n,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function xh(n){var r=Ch(n,"string");return typeof r=="symbol"?r:String(r)}var Kt=Symbol("mobx-stored-annotations");function Qt(n){function r(e,t){if(pa(t))return n.decorate_20223_(e,t);Yr(e,t,n)}return Object.assign(r,n)}function Yr(n,r,e){ln(n,Kt)||da(n,Kt,zn({},n[Kt])),Fh(e)||(n[Kt][r]=e)}function Oh(n){return ln(n,Kt)||da(n,Kt,zn({},n[Kt])),n[Kt]}function pa(n){return typeof n=="object"&&typeof n.kind=="string"}var ne=Symbol("mobx administration"),ha=function(){function n(e){e===void 0&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ve.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var r=n.prototype;return r.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},r.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},r.reportObserved=function(){return bd(this)},r.reportChanged=function(){Nt(),wd(this),Et()},r.toString=function(){return this.name_},n}(),Vo=tr("Atom",ha);function nd(n,r,e){r===void 0&&(r=vr),e===void 0&&(e=vr);var t=new ha(n);return r!==vr&&Wm(t,r),e!==vr&&Ed(t,e),t}function Ph(n,r){return n===r}function Mh(n,r){return Jo(n,r)}function Th(n,r){return Jo(n,r,1)}function Ah(n,r){return Object.is?Object.is(n,r):n===r?n!==0||1/n===1/r:n!==n&&r!==r}var ys={identity:Ph,structural:Mh,default:Ah,shallow:Th};function qn(n,r,e){return Pd(n)?n:Array.isArray(n)?Xe.array(n,{name:e}):vn(n)?Xe.object(n,void 0,{name:e}):$r(n)?Xe.map(n,{name:e}):fa(n)?Xe.set(n,{name:e}):typeof n=="function"&&!Js(n)&&!ra(n)?Xu(n)?Er(n):na(e,n):n}function Rh(n,r,e){if(n==null||aa(n)||ei(n)||rr(n)||Gr(n))return n;if(Array.isArray(n))return Xe.array(n,{name:e,deep:!1});if(vn(n))return Xe.object(n,void 0,{name:e,deep:!1});if($r(n))return Xe.map(n,{name:e,deep:!1});if(fa(n))return Xe.set(n,{name:e,deep:!1})}function qs(n){return n}function Lh(n,r){return Jo(n,r)?r:n}var Ih="override";function Fh(n){return n.annotationType_===Ih}function ma(n,r){return{annotationType_:n,options_:r,make_:$h,extend_:Yh,decorate_20223_:Gh}}function $h(n,r,e,t){var a;if((a=this.options_)!=null&&a.bound)return this.extend_(n,r,e,!1)===null?0:1;if(t===n.target_)return this.extend_(n,r,e,!1)===null?0:2;if(Js(e.value))return 1;var s=rd(n,this,r,e,!1);return qt(t,r,s),2}function Yh(n,r,e,t){var a=rd(n,this,r,e);return n.defineProperty_(r,a,t)}function Gh(n,r){var e=r.kind,t=r.name,a=r.addInitializer,s=this,i=function(u){var d,f,h,m;return Qn((d=(f=s.options_)==null?void 0:f.name)!=null?d:t.toString(),u,(h=(m=s.options_)==null?void 0:m.autoAction)!=null?h:!1)};if(e=="field"){a(function(){Yr(this,t,s)});return}if(e=="method"){var o;return Js(n)||(n=i(n)),(o=this.options_)!=null&&o.bound&&a(function(){var l=this,u=l[t].bind(l);u.isMobxAction=!0,l[t]=u}),n}me("Cannot apply '"+s.annotationType_+"' to '"+String(t)+"' (kind: "+e+"):"+("\n'"+s.annotationType_+"' can only be used on properties with a function value."))}function Wh(n,r,e,t){r.annotationType_,t.value}function rd(n,r,e,t,a){var s,i,o,l,u,d,f;a===void 0&&(a=B.safeDescriptors),Wh(n,r,e,t);var h=t.value;if((s=r.options_)!=null&&s.bound){var m;h=h.bind((m=n.proxy_)!=null?m:n.target_)}return{value:Qn((i=(o=r.options_)==null?void 0:o.name)!=null?i:e.toString(),h,(l=(u=r.options_)==null?void 0:u.autoAction)!=null?l:!1,(d=r.options_)!=null&&d.bound?(f=n.proxy_)!=null?f:n.target_:void 0),configurable:a?n.isPlainObject_:!0,enumerable:!1,writable:!a}}function ad(n,r){return{annotationType_:n,options_:r,make_:jh,extend_:Bh,decorate_20223_:Hh}}function jh(n,r,e,t){var a;if(t===n.target_)return this.extend_(n,r,e,!1)===null?0:2;if((a=this.options_)!=null&&a.bound&&(!ln(n.target_,r)||!ra(n.target_[r]))&&this.extend_(n,r,e,!1)===null)return 0;if(ra(e.value))return 1;var s=sd(n,this,r,e,!1,!1);return qt(t,r,s),2}function Bh(n,r,e,t){var a,s=sd(n,this,r,e,(a=this.options_)==null?void 0:a.bound);return n.defineProperty_(r,s,t)}function Hh(n,r){var e,t=r.name,a=r.addInitializer;return ra(n)||(n=Er(n)),(e=this.options_)!=null&&e.bound&&a(function(){var s=this,i=s[t].bind(s);i.isMobXFlow=!0,s[t]=i}),n}function Uh(n,r,e,t){r.annotationType_,t.value}function sd(n,r,e,t,a,s){s===void 0&&(s=B.safeDescriptors),Uh(n,r,e,t);var i=t.value;if(ra(i)||(i=Er(i)),a){var o;i=i.bind((o=n.proxy_)!=null?o:n.target_),i.isMobXFlow=!0}return{value:i,configurable:s?n.isPlainObject_:!0,enumerable:!1,writable:!s}}function Ko(n,r){return{annotationType_:n,options_:r,make_:Vh,extend_:Kh,decorate_20223_:zh}}function Vh(n,r,e){return this.extend_(n,r,e,!1)===null?0:1}function Kh(n,r,e,t){return qh(n,this,r,e),n.defineComputedProperty_(r,zn({},this.options_,{get:e.get,set:e.set}),t)}function zh(n,r){var e=this,t=r.name,a=r.addInitializer;return a(function(){var s=ar(this)[ne],i=zn({},e.options_,{get:n,context:this});i.name||(i.name="ObservableObject."+t.toString()),s.values_.set(t,new Nr(i))}),function(){return this[ne].getObservablePropValue_(t)}}function qh(n,r,e,t){r.annotationType_,t.get}function Qs(n,r){return{annotationType_:n,options_:r,make_:Qh,extend_:Xh,decorate_20223_:Zh}}function Qh(n,r,e){return this.extend_(n,r,e,!1)===null?0:1}function Xh(n,r,e,t){var a,s;return Jh(n,this),n.defineObservableProperty_(r,e.value,(a=(s=this.options_)==null?void 0:s.enhancer)!=null?a:qn,t)}function Zh(n,r){var e=this,t=r.kind,a=r.name,s=new WeakSet;function i(o,l){var u,d,f=ar(o)[ne],h=new Bn(l,(u=(d=e.options_)==null?void 0:d.enhancer)!=null?u:qn,"ObservableObject."+a.toString(),!1);f.values_.set(a,h),s.add(o)}if(t=="accessor")return{get:function(){return s.has(this)||i(this,n.get.call(this)),this[ne].getObservablePropValue_(a)},set:function(l){return s.has(this)||i(this,l),this[ne].setObservablePropValue_(a,l)},init:function(l){return s.has(this)||i(this,l),l}}}function Jh(n,r,e,t){r.annotationType_}var em="true",tm=id();function id(n){return{annotationType_:em,options_:n,make_:nm,extend_:rm,decorate_20223_:am}}function nm(n,r,e,t){var a,s;if(e.get)return Xs.make_(n,r,e,t);if(e.set){var i=Qn(r.toString(),e.set);return t===n.target_?n.defineProperty_(r,{configurable:B.safeDescriptors?n.isPlainObject_:!0,set:i})===null?0:2:(qt(t,r,{configurable:!0,set:i}),2)}if(t!==n.target_&&typeof e.value=="function"){var o;if(Xu(e.value)){var l,u=(l=this.options_)!=null&&l.autoBind?Er.bound:Er;return u.make_(n,r,e,t)}var d=(o=this.options_)!=null&&o.autoBind?na.bound:na;return d.make_(n,r,e,t)}var f=((a=this.options_)==null?void 0:a.deep)===!1?Xe.ref:Xe;if(typeof e.value=="function"&&(s=this.options_)!=null&&s.autoBind){var h;e.value=e.value.bind((h=n.proxy_)!=null?h:n.target_)}return f.make_(n,r,e,t)}function rm(n,r,e,t){var a,s;if(e.get)return Xs.extend_(n,r,e,t);if(e.set)return n.defineProperty_(r,{configurable:B.safeDescriptors?n.isPlainObject_:!0,set:Qn(r.toString(),e.set)},t);if(typeof e.value=="function"&&(a=this.options_)!=null&&a.autoBind){var i;e.value=e.value.bind((i=n.proxy_)!=null?i:n.target_)}var o=((s=this.options_)==null?void 0:s.deep)===!1?Xe.ref:Xe;return o.extend_(n,r,e,t)}function am(n,r){me("'"+this.annotationType_+"' cannot be used as a decorator")}var sm="observable",im="observable.ref",om="observable.shallow",lm="observable.struct",od={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(od);function Ya(n){return n||od}var po=Qs(sm),cm=Qs(im,{enhancer:qs}),um=Qs(om,{enhancer:Rh}),dm=Qs(lm,{enhancer:Lh}),ld=Qt(po);function Ga(n){return n.deep===!0?qn:n.deep===!1?qs:pm(n.defaultDecorator)}function fm(n){var r;return n?(r=n.defaultDecorator)!=null?r:id(n):void 0}function pm(n){var r,e;return n&&(r=(e=n.options_)==null?void 0:e.enhancer)!=null?r:qn}function cd(n,r,e){if(pa(r))return po.decorate_20223_(n,r);if(Kn(r)){Yr(n,r,po);return}return Pd(n)?n:vn(n)?Xe.object(n,r,e):Array.isArray(n)?Xe.array(n,r):$r(n)?Xe.map(n,r):fa(n)?Xe.set(n,r):typeof n=="object"&&n!==null?n:Xe.box(n,r)}Ku(cd,ld);var hm={box:function(r,e){var t=Ya(e);return new Bn(r,Ga(t),t.name,!0,t.equals)},array:function(r,e){var t=Ya(e);return(B.useProxies===!1||t.proxy===!1?dv:tv)(r,Ga(t),t.name)},map:function(r,e){var t=Ya(e);return new Rd(r,Ga(t),t.name)},set:function(r,e){var t=Ya(e);return new Fd(r,Ga(t),t.name)},object:function(r,e,t){return Mn(function(){return Cd(B.useProxies===!1||(t==null?void 0:t.proxy)===!1?ar({},t):Xm({},t),r,e)})},ref:Qt(cm),shallow:Qt(um),deep:ld,struct:Qt(dm)},Xe=Ku(cd,hm),ud="computed",mm="computed.struct",ho=Ko(ud),vm=Ko(mm,{equals:ys.structural}),Xs=function(r,e){if(pa(e))return ho.decorate_20223_(r,e);if(Kn(e))return Yr(r,e,ho);if(vn(r))return Qt(Ko(ud,r));var t=vn(e)?e:{};return t.get=r,t.name||(t.name=r.name||""),new Nr(t)};Object.assign(Xs,ho);Xs.struct=Qt(vm);var Bl,Hl,bs=0,gm=1,ym=(Bl=(Hl=gs(function(){},"name"))==null?void 0:Hl.configurable)!=null?Bl:!1,Ul={value:"action",configurable:!0,writable:!1,enumerable:!1};function Qn(n,r,e,t){e===void 0&&(e=!1);function a(){return bm(n,e,r,t||this,arguments)}return a.isMobxAction=!0,a.toString=function(){return r.toString()},ym&&(Ul.value=n,qt(a,"name",Ul)),a}function bm(n,r,e,t,a){var s=wm(n,r);try{return e.apply(t,a)}catch(i){throw s.error_=i,i}finally{_m(s)}}function wm(n,r,e,t){var a=!1,s=0,i=B.trackingDerivation,o=!r||!i;Nt();var l=B.allowStateChanges;o&&(nr(),l=zo(!0));var u=Qo(!0),d={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:a,startTime_:s,actionId_:gm++,parentActionId_:bs};return bs=d.actionId_,d}function _m(n){bs!==n.actionId_&&me(30),bs=n.parentActionId_,n.error_!==void 0&&(B.suppressReactionErrors=!0),qo(n.prevAllowStateChanges_),Jr(n.prevAllowStateReads_),Et(),n.runAsAction_&&cn(n.prevDerivation_),B.suppressReactionErrors=!1}function zo(n){var r=B.allowStateChanges;return B.allowStateChanges=n,r}function qo(n){B.allowStateChanges=n}var dd;dd=Symbol.toPrimitive;var Bn=function(n){td(r,n);function r(t,a,s,i,o){var l;return s===void 0&&(s="ObservableValue"),o===void 0&&(o=ys.default),l=n.call(this,s)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=a,l.name_=s,l.equals=o,l.value_=a(t,void 0,s),l}var e=r.prototype;return e.dehanceValue=function(a){return this.dehancer!==void 0?this.dehancer(a):a},e.set=function(a){this.value_,a=this.prepareNewValue_(a),a!==B.UNCHANGED&&this.setNewValue_(a)},e.prepareNewValue_=function(a){if(Dt(this)){var s=St(this,{object:this,type:Xt,newValue:a});if(!s)return B.UNCHANGED;a=s.newValue}return a=this.enhancer(a,this.value_,this.name_),this.equals(this.value_,a)?B.UNCHANGED:a},e.setNewValue_=function(a){var s=this.value_;this.value_=a,this.reportChanged(),Ot(this)&&Pt(this,{type:Xt,object:this,newValue:a,oldValue:s})},e.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},e.intercept_=function(a){return va(this,a)},e.observe_=function(a,s){return s&&a({observableKind:"value",debugObjectName:this.name_,object:this,type:Xt,newValue:this.value_,oldValue:void 0}),ga(this,a)},e.raw=function(){return this.value_},e.toJSON=function(){return this.get()},e.toString=function(){return this.name_+"["+this.value_+"]"},e.valueOf=function(){return ed(this.get())},e[dd]=function(){return this.valueOf()},r}(ha),fd;fd=Symbol.toPrimitive;var Nr=function(){function n(e){this.dependenciesState_=ve.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ve.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new _s(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ws.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||me(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Qn("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ys.structural:ys.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var r=n.prototype;return r.onBecomeStale_=function(){km(this)},r.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},r.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},r.get=function(){if(this.isComputing_&&me(32,this.name_,this.derivation),B.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)mo(this)&&(this.warnAboutUntrackedRead_(),Nt(),this.value_=this.computeValue_(!1),Et());else if(bd(this),mo(this)){var t=B.trackingContext;this.keepAlive_&&!t&&(B.trackingContext=this),this.trackAndCompute()&&Em(this),B.trackingContext=t}var a=this.value_;if(is(a))throw a.cause;return a},r.set=function(t){if(this.setter_){this.isRunningSetter_&&me(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else me(34,this.name_)},r.trackAndCompute=function(){var t=this.value_,a=this.dependenciesState_===ve.NOT_TRACKING_,s=this.computeValue_(!0),i=a||is(t)||is(s)||!this.equals_(t,s);return i&&(this.value_=s),i},r.computeValue_=function(t){this.isComputing_=!0;var a=zo(!1),s;if(t)s=pd(this,this.derivation,this.scope_);else if(B.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(i){s=new _s(i)}return qo(a),this.isComputing_=!1,s},r.suspend_=function(){this.keepAlive_||(vo(this),this.value_=void 0)},r.observe_=function(t,a){var s=this,i=!0,o=void 0;return Im(function(){var l=s.get();if(!i||a){var u=nr();t({observableKind:"computed",debugObjectName:s.name_,type:Xt,object:s,newValue:l,oldValue:o}),cn(u)}i=!1,o=l})},r.warnAboutUntrackedRead_=function(){},r.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},r.valueOf=function(){return ed(this.get())},r[fd]=function(){return this.valueOf()},n}(),Zs=tr("ComputedValue",Nr),ve;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(ve||(ve={}));var ws;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(ws||(ws={}));var _s=function(r){this.cause=void 0,this.cause=r};function is(n){return n instanceof _s}function mo(n){switch(n.dependenciesState_){case ve.UP_TO_DATE_:return!1;case ve.NOT_TRACKING_:case ve.STALE_:return!0;case ve.POSSIBLY_STALE_:{for(var r=Qo(!0),e=nr(),t=n.observing_,a=t.length,s=0;s<a;s++){var i=t[s];if(Zs(i)){if(B.disableErrorBoundaries)i.get();else try{i.get()}catch(o){return cn(e),Jr(r),!0}if(n.dependenciesState_===ve.STALE_)return cn(e),Jr(r),!0}}return md(n),cn(e),Jr(r),!1}}}function pd(n,r,e){var t=Qo(!0);md(n),n.newObserving_=new Array(n.observing_.length+100),n.unboundDepsCount_=0,n.runId_=++B.runId;var a=B.trackingDerivation;B.trackingDerivation=n,B.inBatch++;var s;if(B.disableErrorBoundaries===!0)s=r.call(e);else try{s=r.call(e)}catch(i){s=new _s(i)}return B.inBatch--,B.trackingDerivation=a,Dm(n),Jr(t),s}function Dm(n){for(var r=n.observing_,e=n.observing_=n.newObserving_,t=ve.UP_TO_DATE_,a=0,s=n.unboundDepsCount_,i=0;i<s;i++){var o=e[i];o.diffValue_===0&&(o.diffValue_=1,a!==i&&(e[a]=o),a++),o.dependenciesState_>t&&(t=o.dependenciesState_)}for(e.length=a,n.newObserving_=null,s=r.length;s--;){var l=r[s];l.diffValue_===0&&gd(l,n),l.diffValue_=0}for(;a--;){var u=e[a];u.diffValue_===1&&(u.diffValue_=0,Nm(u,n))}t!==ve.UP_TO_DATE_&&(n.dependenciesState_=t,n.onBecomeStale_())}function vo(n){var r=n.observing_;n.observing_=[];for(var e=r.length;e--;)gd(r[e],n);n.dependenciesState_=ve.NOT_TRACKING_}function hd(n){var r=nr();try{return n()}finally{cn(r)}}function nr(){var n=B.trackingDerivation;return B.trackingDerivation=null,n}function cn(n){B.trackingDerivation=n}function Qo(n){var r=B.allowStateReads;return B.allowStateReads=n,r}function Jr(n){B.allowStateReads=n}function md(n){if(n.dependenciesState_!==ve.UP_TO_DATE_){n.dependenciesState_=ve.UP_TO_DATE_;for(var r=n.observing_,e=r.length;e--;)r[e].lowestObserverState_=ve.UP_TO_DATE_}}var os=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ls=!0,vd=!1,B=function(){var n=Ho();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(ls=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new os().version&&(ls=!1),ls?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new os):(setTimeout(function(){vd||me(35)},1),new os)}();function Sm(){if((B.pendingReactions.length||B.inBatch||B.isRunningReactions)&&me(36),vd=!0,ls){var n=Ho();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),B=new os}}function Nm(n,r){n.observers_.add(r),n.lowestObserverState_>r.dependenciesState_&&(n.lowestObserverState_=r.dependenciesState_)}function gd(n,r){n.observers_.delete(r),n.observers_.size===0&&yd(n)}function yd(n){n.isPendingUnobservation_===!1&&(n.isPendingUnobservation_=!0,B.pendingUnobservations.push(n))}function Nt(){B.inBatch++}function Et(){if(--B.inBatch===0){_d();for(var n=B.pendingUnobservations,r=0;r<n.length;r++){var e=n[r];e.isPendingUnobservation_=!1,e.observers_.size===0&&(e.isBeingObserved_&&(e.isBeingObserved_=!1,e.onBUO()),e instanceof Nr&&e.suspend_())}B.pendingUnobservations=[]}}function bd(n){var r=B.trackingDerivation;return r!==null?(r.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=r.runId_,r.newObserving_[r.unboundDepsCount_++]=n,!n.isBeingObserved_&&B.trackingContext&&(n.isBeingObserved_=!0,n.onBO())),n.isBeingObserved_):(n.observers_.size===0&&B.inBatch>0&&yd(n),!1)}function wd(n){n.lowestObserverState_!==ve.STALE_&&(n.lowestObserverState_=ve.STALE_,n.observers_.forEach(function(r){r.dependenciesState_===ve.UP_TO_DATE_&&r.onBecomeStale_(),r.dependenciesState_=ve.STALE_}))}function Em(n){n.lowestObserverState_!==ve.STALE_&&(n.lowestObserverState_=ve.STALE_,n.observers_.forEach(function(r){r.dependenciesState_===ve.POSSIBLY_STALE_?r.dependenciesState_=ve.STALE_:r.dependenciesState_===ve.UP_TO_DATE_&&(n.lowestObserverState_=ve.UP_TO_DATE_)}))}function km(n){n.lowestObserverState_===ve.UP_TO_DATE_&&(n.lowestObserverState_=ve.POSSIBLY_STALE_,n.observers_.forEach(function(r){r.dependenciesState_===ve.UP_TO_DATE_&&(r.dependenciesState_=ve.POSSIBLY_STALE_,r.onBecomeStale_())}))}var Ds=function(){function n(e,t,a,s){e===void 0&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ve.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=ws.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=a,this.requiresObservable_=s}var r=n.prototype;return r.onBecomeStale_=function(){this.schedule_()},r.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,B.pendingReactions.push(this),_d())},r.isScheduled=function(){return this.isScheduled_},r.runReaction_=function(){if(!this.isDisposed_){Nt(),this.isScheduled_=!1;var t=B.trackingContext;if(B.trackingContext=this,mo(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(a){this.reportExceptionInDerivation_(a)}}B.trackingContext=t,Et()}},r.track=function(t){if(!this.isDisposed_){Nt(),this.isRunning_=!0;var a=B.trackingContext;B.trackingContext=this;var s=pd(this,t,void 0);B.trackingContext=a,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&vo(this),is(s)&&this.reportExceptionInDerivation_(s.cause),Et()}},r.reportExceptionInDerivation_=function(t){var a=this;if(this.errorHandler_){this.errorHandler_(t,this);return}if(B.disableErrorBoundaries)throw t;var s="[mobx] uncaught error in '"+this+"'";B.suppressReactionErrors||console.error(s,t),B.globalReactionErrorHandlers.forEach(function(i){return i(t,a)})},r.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Nt(),vo(this),Et()))},r.getDisposer_=function(t){var a=this,s=function i(){a.dispose(),t==null||t.removeEventListener==null||t.removeEventListener("abort",i)};return t==null||t.addEventListener==null||t.addEventListener("abort",s),s[ne]=this,s},r.toString=function(){return"Reaction["+this.name_+"]"},r.trace=function(t){},n}(),Cm=100,go=function(r){return r()};function _d(){B.inBatch>0||B.isRunningReactions||go(xm)}function xm(){B.isRunningReactions=!0;for(var n=B.pendingReactions,r=0;n.length>0;){++r===Cm&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var e=n.splice(0),t=0,a=e.length;t<a;t++)e[t].runReaction_()}B.isRunningReactions=!1}var Ss=tr("Reaction",Ds);function Om(n){var r=go;go=function(t){return n(function(){return r(t)})}}function ea(){return!1}function Pm(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Dd="action",Mm="action.bound",Sd="autoAction",Tm="autoAction.bound",Am="<unnamed action>",yo=ma(Dd),Rm=ma(Mm,{bound:!0}),bo=ma(Sd,{autoAction:!0}),Lm=ma(Tm,{autoAction:!0,bound:!0});function Nd(n){var r=function(t,a){if(Tt(t))return Qn(t.name||Am,t,n);if(Tt(a))return Qn(t,a,n);if(pa(a))return(n?bo:yo).decorate_20223_(t,a);if(Kn(a))return Yr(t,a,n?bo:yo);if(Kn(t))return Qt(ma(n?Sd:Dd,{name:t,autoAction:n}))};return r}var yr=Nd(!1);Object.assign(yr,yo);var na=Nd(!0);Object.assign(na,bo);yr.bound=Qt(Rm);na.bound=Qt(Lm);function Js(n){return Tt(n)&&n.isMobxAction===!0}function Im(n,r){var e,t,a,s,i;r===void 0&&(r=zu);var o=(e=(t=r)==null?void 0:t.name)!=null?e:"Autorun",l=!r.scheduler&&!r.delay,u;if(l)u=new Ds(o,function(){this.track(h)},r.onError,r.requiresObservable);else{var d=$m(r),f=!1;u=new Ds(o,function(){f||(f=!0,d(function(){f=!1,u.isDisposed_||u.track(h)}))},r.onError,r.requiresObservable)}function h(){n(u)}return(a=r)!=null&&(s=a.signal)!=null&&s.aborted||u.schedule_(),u.getDisposer_((i=r)==null?void 0:i.signal)}var Fm=function(r){return r()};function $m(n){return n.scheduler?n.scheduler:n.delay?function(r){return setTimeout(r,n.delay)}:Fm}var Ym="onBO",Gm="onBUO";function Wm(n,r,e){return kd(Ym,n,r,e)}function Ed(n,r,e){return kd(Gm,n,r,e)}function kd(n,r,e,t){var a=typeof t=="function"?kr(r,e):kr(r),s=Tt(t)?t:e,i=n+"L";return a[i]?a[i].add(s):a[i]=new Set([s]),function(){var o=a[i];o&&(o.delete(s),o.size===0&&delete a[i])}}var jm="never",Wa="always",Bm="observed";function Hm(n){n.isolateGlobalState===!0&&Sm();var r=n.useProxies,e=n.enforceActions;if(r!==void 0&&(B.useProxies=r===Wa?!0:r===jm?!1:typeof Proxy<"u"),r==="ifavailable"&&(B.verifyProxies=!0),e!==void 0){var t=e===Wa?Wa:e===Bm;B.enforceActions=t,B.allowStateChanges=!(t===!0||t===Wa)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(a){a in n&&(B[a]=!!n[a])}),B.allowStateReads=!B.observableRequiresReaction,n.reactionScheduler&&Om(n.reactionScheduler)}function Cd(n,r,e,t){var a=Eh(r);return Mn(function(){var s=ar(n,t)[ne];Sr(a).forEach(function(i){s.extend_(i,a[i],e&&i in e?e[i]:!0)})}),n}function Um(n,r){return xd(kr(n,r))}function xd(n){var r={name:n.name_};return n.observing_&&n.observing_.length>0&&(r.dependencies=Vm(n.observing_).map(xd)),r}function Vm(n){return Array.from(new Set(n))}var Km=0;function Od(){this.message="FLOW_CANCELLED"}Od.prototype=Object.create(Error.prototype);var Ri=ad("flow"),zm=ad("flow.bound",{bound:!0}),Er=Object.assign(function(r,e){if(pa(e))return Ri.decorate_20223_(r,e);if(Kn(e))return Yr(r,e,Ri);var t=r,a=t.name||"<unnamed flow>",s=function(){var o=this,l=arguments,u=++Km,d=yr(a+" - runid: "+u+" - init",t).apply(o,l),f,h=void 0,m=new Promise(function(v,g){var y=0;f=g;function w(E){h=void 0;var N;try{N=yr(a+" - runid: "+u+" - yield "+y++,d.next).call(d,E)}catch(_){return g(_)}x(N)}function k(E){h=void 0;var N;try{N=yr(a+" - runid: "+u+" - yield "+y++,d.throw).call(d,E)}catch(_){return g(_)}x(N)}function x(E){if(Tt(E==null?void 0:E.then)){E.then(x,g);return}return E.done?v(E.value):(h=Promise.resolve(E.value),h.then(w,k))}w(void 0)});return m.cancel=yr(a+" - runid: "+u+" - cancel",function(){try{h&&Vl(h);var v=d.return(void 0),g=Promise.resolve(v.value);g.then(vr,vr),Vl(g),f(new Od)}catch(y){f(y)}}),m};return s.isMobXFlow=!0,s},Ri);Er.bound=Qt(zm);function Vl(n){Tt(n.cancel)&&n.cancel()}function ra(n){return(n==null?void 0:n.isMobXFlow)===!0}function qm(n,r){return n?r!==void 0?aa(n)?n[ne].values_.has(r):!1:aa(n)||!!n[ne]||Vo(n)||Ss(n)||Zs(n):!1}function Pd(n){return qm(n)}function on(n,r){r===void 0&&(r=void 0),Nt();try{return n.apply(r)}finally{Et()}}function ur(n){return n[ne]}var Qm={has:function(r,e){return ur(r).has_(e)},get:function(r,e){return ur(r).get_(e)},set:function(r,e,t){var a;return Kn(e)?(a=ur(r).set_(e,t,!0))!=null?a:!0:!1},deleteProperty:function(r,e){var t;return Kn(e)?(t=ur(r).delete_(e,!0))!=null?t:!0:!1},defineProperty:function(r,e,t){var a;return(a=ur(r).defineProperty_(e,t))!=null?a:!0},ownKeys:function(r){return ur(r).ownKeys_()},preventExtensions:function(r){me(13)}};function Xm(n,r){var e,t;return qu(),n=ar(n,r),(t=(e=n[ne]).proxy_)!=null?t:e.proxy_=new Proxy(n,Qm)}function Dt(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function va(n,r){var e=n.interceptors_||(n.interceptors_=[]);return e.push(r),Qu(function(){var t=e.indexOf(r);t!==-1&&e.splice(t,1)})}function St(n,r){var e=nr();try{for(var t=[].concat(n.interceptors_||[]),a=0,s=t.length;a<s&&(r=t[a](r),r&&!r.type&&me(14),!!r);a++);return r}finally{cn(e)}}function Ot(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function ga(n,r){var e=n.changeListeners_||(n.changeListeners_=[]);return e.push(r),Qu(function(){var t=e.indexOf(r);t!==-1&&e.splice(t,1)})}function Pt(n,r){var e=nr(),t=n.changeListeners_;if(t){t=t.slice();for(var a=0,s=t.length;a<s;a++)t[a](r);cn(e)}}function Zm(n,r,e){return Mn(function(){var t,a=ar(n,e)[ne];(t=r)!=null||(r=Oh(n)),Sr(r).forEach(function(s){return a.make_(s,r[s])})}),n}var Li=Symbol("mobx-keys");function ya(n,r,e){return vn(n)?Cd(n,n,r,e):(Mn(function(){var t=ar(n,e)[ne];if(!n[Li]){var a=Object.getPrototypeOf(n),s=new Set([].concat(Sr(n),Sr(a)));s.delete("constructor"),s.delete(ne),da(a,Li,s)}n[Li].forEach(function(i){return t.make_(i,r&&i in r?r[i]:!0)})}),n)}var Kl="splice",Xt="update",Jm=1e4,ev={get:function(r,e){var t=r[ne];return e===ne?t:e==="length"?t.getArrayLength_():typeof e=="string"&&!isNaN(e)?t.get_(parseInt(e)):ln(Ns,e)?Ns[e]:r[e]},set:function(r,e,t){var a=r[ne];return e==="length"&&a.setArrayLength_(t),typeof e=="symbol"||isNaN(e)?r[e]=t:a.set_(parseInt(e),t),!0},preventExtensions:function(){me(15)}},Xo=function(){function n(e,t,a,s){e===void 0&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=a,this.legacyMode_=s,this.atom_=new ha(e),this.enhancer_=function(i,o){return t(i,o,"ObservableArray[..]")}}var r=n.prototype;return r.dehanceValue_=function(t){return this.dehancer!==void 0?this.dehancer(t):t},r.dehanceValues_=function(t){return this.dehancer!==void 0&&t.length>0?t.map(this.dehancer):t},r.intercept_=function(t){return va(this,t)},r.observe_=function(t,a){return a===void 0&&(a=!1),a&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),ga(this,t)},r.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},r.setArrayLength_=function(t){(typeof t!="number"||isNaN(t)||t<0)&&me("Out of range: "+t);var a=this.values_.length;if(t!==a)if(t>a){for(var s=new Array(t-a),i=0;i<t-a;i++)s[i]=void 0;this.spliceWithArray_(a,0,s)}else this.spliceWithArray_(t,a-t)},r.updateArrayLength_=function(t,a){t!==this.lastKnownLength_&&me(16),this.lastKnownLength_+=a,this.legacyMode_&&a>0&&Wd(t+a+1)},r.spliceWithArray_=function(t,a,s){var i=this;this.atom_;var o=this.values_.length;if(t===void 0?t=0:t>o?t=o:t<0&&(t=Math.max(0,o+t)),arguments.length===1?a=o-t:a==null?a=0:a=Math.max(0,Math.min(a,o-t)),s===void 0&&(s=uo),Dt(this)){var l=St(this,{object:this.proxy_,type:Kl,index:t,removedCount:a,added:s});if(!l)return uo;a=l.removedCount,s=l.added}if(s=s.length===0?s:s.map(function(f){return i.enhancer_(f,void 0)}),this.legacyMode_){var u=s.length-a;this.updateArrayLength_(o,u)}var d=this.spliceItemsIntoValues_(t,a,s);return(a!==0||s.length!==0)&&this.notifyArraySplice_(t,s,d),this.dehanceValues_(d)},r.spliceItemsIntoValues_=function(t,a,s){if(s.length<Jm){var i;return(i=this.values_).splice.apply(i,[t,a].concat(s))}else{var o=this.values_.slice(t,t+a),l=this.values_.slice(t+a);this.values_.length+=s.length-a;for(var u=0;u<s.length;u++)this.values_[t+u]=s[u];for(var d=0;d<l.length;d++)this.values_[t+s.length+d]=l[d];return o}},r.notifyArrayChildUpdate_=function(t,a,s){var i=!this.owned_&&ea(),o=Ot(this),l=o||i?{observableKind:"array",object:this.proxy_,type:Xt,debugObjectName:this.atom_.name_,index:t,newValue:a,oldValue:s}:null;this.atom_.reportChanged(),o&&Pt(this,l)},r.notifyArraySplice_=function(t,a,s){var i=!this.owned_&&ea(),o=Ot(this),l=o||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Kl,index:t,removed:s,added:a,removedCount:s.length,addedCount:a.length}:null;this.atom_.reportChanged(),o&&Pt(this,l)},r.get_=function(t){if(this.legacyMode_&&t>=this.values_.length){console.warn("[mobx] Out of bounds read: "+t);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t])},r.set_=function(t,a){var s=this.values_;if(this.legacyMode_&&t>s.length&&me(17,t,s.length),t<s.length){this.atom_;var i=s[t];if(Dt(this)){var o=St(this,{type:Xt,object:this.proxy_,index:t,newValue:a});if(!o)return;a=o.newValue}a=this.enhancer_(a,i);var l=a!==i;l&&(s[t]=a,this.notifyArrayChildUpdate_(t,a,i))}else{for(var u=new Array(t+1-s.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=a,this.spliceWithArray_(s.length,0,u)}},n}();function tv(n,r,e,t){return e===void 0&&(e="ObservableArray"),t===void 0&&(t=!1),qu(),Mn(function(){var a=new Xo(e,r,t,!1);Zu(a.values_,ne,a);var s=new Proxy(a.values_,ev);return a.proxy_=s,n&&n.length&&a.spliceWithArray_(0,0,n),s})}var Ns={clear:function(){return this.splice(0)},replace:function(r){var e=this[ne];return e.spliceWithArray_(0,e.values_.length,r)},toJSON:function(){return this.slice()},splice:function(r,e){for(var t=arguments.length,a=new Array(t>2?t-2:0),s=2;s<t;s++)a[s-2]=arguments[s];var i=this[ne];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(r);case 2:return i.spliceWithArray_(r,e)}return i.spliceWithArray_(r,e,a)},spliceWithArray:function(r,e,t){return this[ne].spliceWithArray_(r,e,t)},push:function(){for(var r=this[ne],e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r.spliceWithArray_(r.values_.length,0,t),r.values_.length},pop:function(){return this.splice(Math.max(this[ne].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var r=this[ne],e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r.spliceWithArray_(0,0,t),r.values_.length},reverse:function(){return B.trackingDerivation&&me(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){B.trackingDerivation&&me(37,"sort");var r=this.slice();return r.sort.apply(r,arguments),this.replace(r),this},remove:function(r){var e=this[ne],t=e.dehanceValues_(e.values_).indexOf(r);return t>-1?(this.splice(t,1),!0):!1}};Ee("at",gt);Ee("concat",gt);Ee("flat",gt);Ee("includes",gt);Ee("indexOf",gt);Ee("join",gt);Ee("lastIndexOf",gt);Ee("slice",gt);Ee("toString",gt);Ee("toLocaleString",gt);Ee("toSorted",gt);Ee("toSpliced",gt);Ee("with",gt);Ee("every",Lt);Ee("filter",Lt);Ee("find",Lt);Ee("findIndex",Lt);Ee("findLast",Lt);Ee("findLastIndex",Lt);Ee("flatMap",Lt);Ee("forEach",Lt);Ee("map",Lt);Ee("some",Lt);Ee("toReversed",Lt);Ee("reduce",Md);Ee("reduceRight",Md);function Ee(n,r){typeof Array.prototype[n]=="function"&&(Ns[n]=r(n))}function gt(n){return function(){var r=this[ne];r.atom_.reportObserved();var e=r.dehanceValues_(r.values_);return e[n].apply(e,arguments)}}function Lt(n){return function(r,e){var t=this,a=this[ne];a.atom_.reportObserved();var s=a.dehanceValues_(a.values_);return s[n](function(i,o){return r.call(e,i,o,t)})}}function Md(n){return function(){var r=this,e=this[ne];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_),a=arguments[0];return arguments[0]=function(s,i,o){return a(s,i,o,r)},t[n].apply(t,arguments)}}var nv=tr("ObservableArrayAdministration",Xo);function ei(n){return zs(n)&&nv(n[ne])}var Td,Ad,rv={},Nn="add",Es="delete";Td=Symbol.iterator;Ad=Symbol.toStringTag;var Rd=function(){function n(e,t,a){var s=this;t===void 0&&(t=qn),a===void 0&&(a="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ne]=rv,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=a,Tt(Map)||me(18),Mn(function(){s.keysAtom_=nd("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,e&&s.merge(e)})}var r=n.prototype;return r.has_=function(t){return this.data_.has(t)},r.has=function(t){var a=this;if(!B.trackingDerivation)return this.has_(t);var s=this.hasMap_.get(t);if(!s){var i=s=new Bn(this.has_(t),qs,"ObservableMap.key?",!1);this.hasMap_.set(t,i),Ed(i,function(){return a.hasMap_.delete(t)})}return s.get()},r.set=function(t,a){var s=this.has_(t);if(Dt(this)){var i=St(this,{type:s?Xt:Nn,object:this,newValue:a,name:t});if(!i)return this;a=i.newValue}return s?this.updateValue_(t,a):this.addValue_(t,a),this},r.delete=function(t){var a=this;if(this.keysAtom_,Dt(this)){var s=St(this,{type:Es,object:this,name:t});if(!s)return!1}if(this.has_(t)){var i=ea(),o=Ot(this),l=o||i?{observableKind:"map",debugObjectName:this.name_,type:Es,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return on(function(){var u;a.keysAtom_.reportChanged(),(u=a.hasMap_.get(t))==null||u.setNewValue_(!1);var d=a.data_.get(t);d.setNewValue_(void 0),a.data_.delete(t)}),o&&Pt(this,l),!0}return!1},r.updateValue_=function(t,a){var s=this.data_.get(t);if(a=s.prepareNewValue_(a),a!==B.UNCHANGED){var i=ea(),o=Ot(this),l=o||i?{observableKind:"map",debugObjectName:this.name_,type:Xt,object:this,oldValue:s.value_,name:t,newValue:a}:null;s.setNewValue_(a),o&&Pt(this,l)}},r.addValue_=function(t,a){var s=this;this.keysAtom_,on(function(){var u,d=new Bn(a,s.enhancer_,"ObservableMap.key",!1);s.data_.set(t,d),a=d.value_,(u=s.hasMap_.get(t))==null||u.setNewValue_(!0),s.keysAtom_.reportChanged()});var i=ea(),o=Ot(this),l=o||i?{observableKind:"map",debugObjectName:this.name_,type:Nn,object:this,name:t,newValue:a}:null;o&&Pt(this,l)},r.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},r.dehanceValue_=function(t){return this.dehancer!==void 0?this.dehancer(t):t},r.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},r.values=function(){var t=this,a=this.keys();return sa({next:function(){var i=a.next(),o=i.done,l=i.value;return{done:o,value:o?void 0:t.get(l)}}})},r.entries=function(){var t=this,a=this.keys();return sa({next:function(){var i=a.next(),o=i.done,l=i.value;return{done:o,value:o?void 0:[l,t.get(l)]}}})},r[Td]=function(){return this.entries()},r.forEach=function(t,a){for(var s=gr(this),i;!(i=s()).done;){var o=i.value,l=o[0],u=o[1];t.call(a,u,l,this)}},r.merge=function(t){var a=this;return rr(t)&&(t=new Map(t)),on(function(){vn(t)?Nh(t).forEach(function(s){return a.set(s,t[s])}):Array.isArray(t)?t.forEach(function(s){var i=s[0],o=s[1];return a.set(i,o)}):$r(t)?(t.constructor!==Map&&me(19,t),t.forEach(function(s,i){return a.set(i,s)})):t!=null&&me(20,t)}),this},r.clear=function(){var t=this;on(function(){hd(function(){for(var a=gr(t.keys()),s;!(s=a()).done;){var i=s.value;t.delete(i)}})})},r.replace=function(t){var a=this;return on(function(){for(var s=av(t),i=new Map,o=!1,l=gr(a.data_.keys()),u;!(u=l()).done;){var d=u.value;if(!s.has(d)){var f=a.delete(d);if(f)o=!0;else{var h=a.data_.get(d);i.set(d,h)}}}for(var m=gr(s.entries()),v;!(v=m()).done;){var g=v.value,y=g[0],w=g[1],k=a.data_.has(y);if(a.set(y,w),a.data_.has(y)){var x=a.data_.get(y);i.set(y,x),k||(o=!0)}}if(!o)if(a.data_.size!==i.size)a.keysAtom_.reportChanged();else for(var E=a.data_.keys(),N=i.keys(),_=E.next(),S=N.next();!_.done;){if(_.value!==S.value){a.keysAtom_.reportChanged();break}_=E.next(),S=N.next()}a.data_=i}),this},r.toString=function(){return"[object ObservableMap]"},r.toJSON=function(){return Array.from(this)},r.observe_=function(t,a){return ga(this,t)},r.intercept_=function(t){return va(this,t)},Uo(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Ad,get:function(){return"Map"}}]),n}(),rr=tr("ObservableMap",Rd);function av(n){if($r(n)||rr(n))return n;if(Array.isArray(n))return new Map(n);if(vn(n)){var r=new Map;for(var e in n)r.set(e,n[e]);return r}else return me(21,n)}var Ld,Id,sv={};Ld=Symbol.iterator;Id=Symbol.toStringTag;var Fd=function(){function n(e,t,a){var s=this;t===void 0&&(t=qn),a===void 0&&(a="ObservableSet"),this.name_=void 0,this[ne]=sv,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=a,Tt(Set)||me(22),this.enhancer_=function(i,o){return t(i,o,a)},Mn(function(){s.atom_=nd(s.name_),e&&s.replace(e)})}var r=n.prototype;return r.dehanceValue_=function(t){return this.dehancer!==void 0?this.dehancer(t):t},r.clear=function(){var t=this;on(function(){hd(function(){for(var a=gr(t.data_.values()),s;!(s=a()).done;){var i=s.value;t.delete(i)}})})},r.forEach=function(t,a){for(var s=gr(this),i;!(i=s()).done;){var o=i.value;t.call(a,o,o,this)}},r.add=function(t){var a=this;if(this.atom_,Dt(this)){var s=St(this,{type:Nn,object:this,newValue:t});if(!s)return this}if(!this.has(t)){on(function(){a.data_.add(a.enhancer_(t,void 0)),a.atom_.reportChanged()});var i=!1,o=Ot(this),l=o||i?{observableKind:"set",debugObjectName:this.name_,type:Nn,object:this,newValue:t}:null;o&&Pt(this,l)}return this},r.delete=function(t){var a=this;if(Dt(this)){var s=St(this,{type:Es,object:this,oldValue:t});if(!s)return!1}if(this.has(t)){var i=!1,o=Ot(this),l=o||i?{observableKind:"set",debugObjectName:this.name_,type:Es,object:this,oldValue:t}:null;return on(function(){a.atom_.reportChanged(),a.data_.delete(t)}),o&&Pt(this,l),!0}return!1},r.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},r.entries=function(){var t=0,a=Array.from(this.keys()),s=Array.from(this.values());return sa({next:function(){var o=t;return t+=1,o<s.length?{value:[a[o],s[o]],done:!1}:{done:!0}}})},r.keys=function(){return this.values()},r.values=function(){this.atom_.reportObserved();var t=this,a=0,s=Array.from(this.data_.values());return sa({next:function(){return a<s.length?{value:t.dehanceValue_(s[a++]),done:!1}:{done:!0}}})},r.replace=function(t){var a=this;return Gr(t)&&(t=new Set(t)),on(function(){Array.isArray(t)?(a.clear(),t.forEach(function(s){return a.add(s)})):fa(t)?(a.clear(),t.forEach(function(s){return a.add(s)})):t!=null&&me("Cannot initialize set from "+t)}),this},r.observe_=function(t,a){return ga(this,t)},r.intercept_=function(t){return va(this,t)},r.toJSON=function(){return Array.from(this)},r.toString=function(){return"[object ObservableSet]"},r[Ld]=function(){return this.values()},Uo(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Id,get:function(){return"Set"}}]),n}(),Gr=tr("ObservableSet",Fd),zl=Object.create(null),ql="remove",$d=function(){function n(e,t,a,s){t===void 0&&(t=new Map),s===void 0&&(s=tm),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=a,this.defaultAnnotation_=s,this.keysAtom_=new ha("ObservableObject.keys"),this.isPlainObject_=vn(this.target_)}var r=n.prototype;return r.getObservablePropValue_=function(t){return this.values_.get(t).get()},r.setObservablePropValue_=function(t,a){var s=this.values_.get(t);if(s instanceof Nr)return s.set(a),!0;if(Dt(this)){var i=St(this,{type:Xt,object:this.proxy_||this.target_,name:t,newValue:a});if(!i)return null;a=i.newValue}if(a=s.prepareNewValue_(a),a!==B.UNCHANGED){var o=Ot(this),l=!1,u=o||l?{type:Xt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:t,newValue:a}:null;s.setNewValue_(a),o&&Pt(this,u)}return!0},r.get_=function(t){return B.trackingDerivation&&!ln(this.target_,t)&&this.has_(t),this.target_[t]},r.set_=function(t,a,s){return s===void 0&&(s=!1),ln(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,a):s?Reflect.set(this.target_,t,a):(this.target_[t]=a,!0):this.extend_(t,{value:a,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},r.has_=function(t){if(!B.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var a=this.pendingKeys_.get(t);return a||(a=new Bn(t in this.target_,qs,"ObservableObject.key?",!1),this.pendingKeys_.set(t,a)),a.get()},r.make_=function(t,a){if(a===!0&&(a=this.defaultAnnotation_),a!==!1){if(!(t in this.target_)){var s;if((s=this.target_[Kt])!=null&&s[t])return;me(1,a.annotationType_,this.name_+"."+t.toString())}for(var i=this.target_;i&&i!==Ks;){var o=gs(i,t);if(o){var l=a.make_(this,t,o,i);if(l===0)return;if(l===1)break}i=Object.getPrototypeOf(i)}Xl(this,a,t)}},r.extend_=function(t,a,s,i){if(i===void 0&&(i=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(t,a,i);var o=s.extend_(this,t,a,i);return o&&Xl(this,s,t),o},r.defineProperty_=function(t,a,s){s===void 0&&(s=!1),this.keysAtom_;try{Nt();var i=this.delete_(t);if(!i)return i;if(Dt(this)){var o=St(this,{object:this.proxy_||this.target_,name:t,type:Nn,newValue:a.value});if(!o)return null;var l=o.newValue;a.value!==l&&(a=zn({},a,{value:l}))}if(s){if(!Reflect.defineProperty(this.target_,t,a))return!1}else qt(this.target_,t,a);this.notifyPropertyAddition_(t,a.value)}finally{Et()}return!0},r.defineObservableProperty_=function(t,a,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Nt();var o=this.delete_(t);if(!o)return o;if(Dt(this)){var l=St(this,{object:this.proxy_||this.target_,name:t,type:Nn,newValue:a});if(!l)return null;a=l.newValue}var u=Ql(t),d={configurable:B.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(i){if(!Reflect.defineProperty(this.target_,t,d))return!1}else qt(this.target_,t,d);var f=new Bn(a,s,"ObservableObject.key",!1);this.values_.set(t,f),this.notifyPropertyAddition_(t,f.value_)}finally{Et()}return!0},r.defineComputedProperty_=function(t,a,s){s===void 0&&(s=!1),this.keysAtom_;try{Nt();var i=this.delete_(t);if(!i)return i;if(Dt(this)){var o=St(this,{object:this.proxy_||this.target_,name:t,type:Nn,newValue:void 0});if(!o)return null}a.name||(a.name="ObservableObject.key"),a.context=this.proxy_||this.target_;var l=Ql(t),u={configurable:B.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(s){if(!Reflect.defineProperty(this.target_,t,u))return!1}else qt(this.target_,t,u);this.values_.set(t,new Nr(a)),this.notifyPropertyAddition_(t,void 0)}finally{Et()}return!0},r.delete_=function(t,a){if(a===void 0&&(a=!1),this.keysAtom_,!ln(this.target_,t))return!0;if(Dt(this)){var s=St(this,{object:this.proxy_||this.target_,name:t,type:ql});if(!s)return null}try{var i,o;Nt();var l=Ot(this),u=!1,d=this.values_.get(t),f=void 0;if(!d&&(l||u)){var h;f=(h=gs(this.target_,t))==null?void 0:h.value}if(a){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(d&&(this.values_.delete(t),d instanceof Bn&&(f=d.value_),wd(d)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(o=i.get(t))==null||o.set(t in this.target_),l||u){var m={type:ql,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:f,name:t};l&&Pt(this,m)}}finally{Et()}return!0},r.observe_=function(t,a){return ga(this,t)},r.intercept_=function(t){return va(this,t)},r.notifyPropertyAddition_=function(t,a){var s,i,o=Ot(this),l=!1;if(o||l){var u=o||l?{type:Nn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:a}:null;o&&Pt(this,u)}(s=this.pendingKeys_)==null||(i=s.get(t))==null||i.set(!0),this.keysAtom_.reportChanged()},r.ownKeys_=function(){return this.keysAtom_.reportObserved(),Sr(this.target_)},r.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function ar(n,r){var e;if(ln(n,ne))return n;var t=(e=r==null?void 0:r.name)!=null?e:"ObservableObject",a=new $d(n,new Map,String(t),fm(r));return da(n,ne,a),n}var iv=tr("ObservableObjectAdministration",$d);function Ql(n){return zl[n]||(zl[n]={get:function(){return this[ne].getObservablePropValue_(n)},set:function(e){return this[ne].setObservablePropValue_(n,e)}})}function aa(n){return zs(n)?iv(n[ne]):!1}function Xl(n,r,e){var t;(t=n.target_[Kt])==null||delete t[e]}var ov=Gd(0),lv=function(){var n=!1,r={};return Object.defineProperty(r,"0",{set:function(){n=!0}}),Object.create(r)[0]=1,n===!1}(),Ii=0,Yd=function(){};function cv(n,r){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,r):n.prototype.__proto__!==void 0?n.prototype.__proto__=r:n.prototype=r}cv(Yd,Array.prototype);var Zo=function(n,r,e){td(t,n);function t(s,i,o,l){var u;return o===void 0&&(o="ObservableArray"),l===void 0&&(l=!1),u=n.call(this)||this,Mn(function(){var d=new Xo(o,i,l,!0);d.proxy_=Ai(u),Zu(Ai(u),ne,d),s&&s.length&&u.spliceWithArray(0,0,s),lv&&Object.defineProperty(Ai(u),"0",ov)}),u}var a=t.prototype;return a.concat=function(){this[ne].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),o.map(function(u){return ei(u)?u.slice():u}))},a[e]=function(){var s=this,i=0;return sa({next:function(){return i<s.length?{value:s[i++],done:!1}:{done:!0,value:void 0}}})},Uo(t,[{key:"length",get:function(){return this[ne].getArrayLength_()},set:function(i){this[ne].setArrayLength_(i)}},{key:r,get:function(){return"Array"}}]),t}(Yd,Symbol.toStringTag,Symbol.iterator);Object.entries(Ns).forEach(function(n){var r=n[0],e=n[1];r!=="concat"&&da(Zo.prototype,r,e)});function Gd(n){return{enumerable:!1,configurable:!0,get:function(){return this[ne].get_(n)},set:function(e){this[ne].set_(n,e)}}}function uv(n){qt(Zo.prototype,""+n,Gd(n))}function Wd(n){if(n>Ii){for(var r=Ii;r<n+100;r++)uv(r);Ii=n}}Wd(1e3);function dv(n,r,e){return new Zo(n,r,e)}function kr(n,r){if(typeof n=="object"&&n!==null){if(ei(n))return r!==void 0&&me(23),n[ne].atom_;if(Gr(n))return n.atom_;if(rr(n)){if(r===void 0)return n.keysAtom_;var e=n.data_.get(r)||n.hasMap_.get(r);return e||me(25,r,wo(n)),e}if(aa(n)){if(!r)return me(26);var t=n[ne].values_.get(r);return t||me(27,r,wo(n)),t}if(Vo(n)||Zs(n)||Ss(n))return n}else if(Tt(n)&&Ss(n[ne]))return n[ne];me(28)}function jd(n,r){if(n||me(29),r!==void 0)return jd(kr(n,r));if(Vo(n)||Zs(n)||Ss(n)||rr(n)||Gr(n))return n;if(n[ne])return n[ne];me(24,n)}function wo(n,r){var e;if(r!==void 0)e=kr(n,r);else{if(Js(n))return n.name;aa(n)||rr(n)||Gr(n)?e=jd(n):e=kr(n)}return e.name_}function Mn(n){var r=nr(),e=zo(!0);Nt();try{return n()}finally{Et(),qo(e),cn(r)}}var Zl=Ks.toString;function Jo(n,r,e){return e===void 0&&(e=-1),_o(n,r,e)}function _o(n,r,e,t,a){if(n===r)return n!==0||1/n===1/r;if(n==null||r==null)return!1;if(n!==n)return r!==r;var s=typeof n;if(s!=="function"&&s!=="object"&&typeof r!="object")return!1;var i=Zl.call(n);if(i!==Zl.call(r))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":return+n!=+n?+r!=+r:+n==0?1/+n===1/r:+n==+r;case"[object Date]":case"[object Boolean]":return+n==+r;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(r);case"[object Map]":case"[object Set]":e>=0&&e++;break}n=Jl(n),r=Jl(r);var o=i==="[object Array]";if(!o){if(typeof n!="object"||typeof r!="object")return!1;var l=n.constructor,u=r.constructor;if(l!==u&&!(Tt(l)&&l instanceof l&&Tt(u)&&u instanceof u)&&"constructor"in n&&"constructor"in r)return!1}if(e===0)return!1;e<0&&(e=-1),t=t||[],a=a||[];for(var d=t.length;d--;)if(t[d]===n)return a[d]===r;if(t.push(n),a.push(r),o){if(d=n.length,d!==r.length)return!1;for(;d--;)if(!_o(n[d],r[d],e-1,t,a))return!1}else{var f=Object.keys(n),h;if(d=f.length,Object.keys(r).length!==d)return!1;for(;d--;)if(h=f[d],!(ln(r,h)&&_o(n[h],r[h],e-1,t,a)))return!1}return t.pop(),a.pop(),!0}function Jl(n){return ei(n)?n.slice():$r(n)||rr(n)||fa(n)||Gr(n)?Array.from(n.entries()):n}function sa(n){return n[Symbol.iterator]=fv,n}function fv(){return this}["Symbol","Map","Set"].forEach(function(n){var r=Ho();typeof r[n]>"u"&&me("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Pm,extras:{getDebugName:wo},$mobx:ne});if(!p.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Zm)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function pv(n){n()}function hv(n){n||(n=pv),Hm({reactionScheduler:n})}function mv(n){return Um(n)}var vv=1e4,gv=1e4,yv=function(){function n(r){var e=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(t){t===void 0&&(t=vv),clearTimeout(e.sweepTimeout),e.sweepTimeout=void 0;var a=Date.now();e.registrations.forEach(function(s,i){a-s.registeredAt>=t&&(e.finalize(s.value),e.registrations.delete(i))}),e.registrations.size>0&&e.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){e.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this.registrations.set(t,{value:e,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.registrations.delete(r)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,gv))}}),n}(),bv=typeof FinalizationRegistry<"u"?FinalizationRegistry:yv,Do=new bv(function(n){var r;(r=n.reaction)===null||r===void 0||r.dispose(),n.reaction=null}),Bd={exports:{}},Hd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cr=p;function wv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var _v=typeof Object.is=="function"?Object.is:wv,Dv=Cr.useState,Sv=Cr.useEffect,Nv=Cr.useLayoutEffect,Ev=Cr.useDebugValue;function kv(n,r){var e=r(),t=Dv({inst:{value:e,getSnapshot:r}}),a=t[0].inst,s=t[1];return Nv(function(){a.value=e,a.getSnapshot=r,Fi(a)&&s({inst:a})},[n,e,r]),Sv(function(){return Fi(a)&&s({inst:a}),n(function(){Fi(a)&&s({inst:a})})},[n]),Ev(e),e}function Fi(n){var r=n.getSnapshot;n=n.value;try{var e=r();return!_v(n,e)}catch(t){return!0}}function Cv(n,r){return r()}var xv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Cv:kv;Hd.useSyncExternalStore=Cr.useSyncExternalStore!==void 0?Cr.useSyncExternalStore:xv;Bd.exports=Hd;var Ov=Bd.exports;function ec(n){n.reaction=new Ds("observer".concat(n.name),function(){var r;n.stateVersion=Symbol(),(r=n.onStoreChange)===null||r===void 0||r.call(n)})}function Pv(n,r){r===void 0&&(r="observed");var e=P.useRef(null);if(!e.current){var t={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:r,subscribe:function(o){return Do.unregister(t),t.onStoreChange=o,t.reaction||(ec(t),t.stateVersion=Symbol()),function(){var l;t.onStoreChange=null,(l=t.reaction)===null||l===void 0||l.dispose(),t.reaction=null}},getSnapshot:function(){return t.stateVersion}};e.current=t}var a=e.current;a.reaction||(ec(a),Do.register(e,a,a)),P.useDebugValue(a.reaction,mv),Ov.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot);var s,i;if(a.reaction.track(function(){try{s=n()}catch(o){i=o}}),i)throw i;return s}var $i,Yi,Ud=typeof Symbol=="function"&&Symbol.for,Mv=(Yi=($i=Object.getOwnPropertyDescriptor(function(){},"name"))===null||$i===void 0?void 0:$i.configurable)!==null&&Yi!==void 0?Yi:!1,tc=Ud?Symbol.for("react.forward_ref"):typeof p.forwardRef=="function"&&p.forwardRef(function(n){return null}).$$typeof,nc=Ud?Symbol.for("react.memo"):typeof p.memo=="function"&&p.memo(function(n){return null}).$$typeof;function Be(n,r){var e;if(nc&&n.$$typeof===nc)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var t=(e=r==null?void 0:r.forwardRef)!==null&&e!==void 0?e:!1,a=n,s=n.displayName||n.name;if(tc&&n.$$typeof===tc&&(t=!0,a=n.render,typeof a!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var i=function(o,l){return Pv(function(){return a(o,l)},s)};return i.displayName=n.displayName,Mv&&Object.defineProperty(i,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(i.contextTypes=n.contextTypes),t&&(i=p.forwardRef(i)),i=p.memo(i),Av(n,i),i}var Tv={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Av(n,r){Object.keys(n).forEach(function(e){Tv[e]||Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})}var Gi;hv(ua.unstable_batchedUpdates);Gi=Do.finalizeAllImmediately;/*! js-cookie v3.0.5 | MIT */function ja(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)n[t]=e[t]}return n}var Rv={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function So(n,r){function e(a,s,i){if(!(typeof document>"u")){i=ja({},r,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in i)i[l]&&(o+="; "+l,i[l]!==!0&&(o+="="+i[l].split(";")[0]));return document.cookie=a+"="+n.write(s,a)+o}}function t(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var s=document.cookie?document.cookie.split("; "):[],i={},o=0;o<s.length;o++){var l=s[o].split("="),u=l.slice(1).join("=");try{var d=decodeURIComponent(l[0]);if(i[d]=n.read(u,d),a===d)break}catch(f){}}return a?i[a]:i}}return Object.create({set:e,get:t,remove:function(a,s){e(a,"",ja({},s,{expires:-1}))},withAttributes:function(a){return So(this.converter,ja({},this.attributes,a))},withConverter:function(a){return So(ja({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}var Ze=So(Rv,{path:"/"});const rc=([n,r])=>typeof r=="string"?"".concat(n,"-").concat(r):n,W=(n,r)=>{const e=p.useMemo(()=>n.trim(),[n]),t=p.useMemo(()=>(r||"").trim(),[r]),a=p.useCallback(i=>{if(!i)return"".concat(e," ").concat(t).trim();const o=Object.entries(i).filter(([l])=>i[l]).map(l=>"".concat(e,"--").concat(rc(l)));return[e,...o,t].join(" ").trim()},[e,t]),s=p.useCallback((i,o)=>{const l="".concat(e,"__").concat(i.trim());if(!o)return l.trim();const u=Object.entries(o).filter(([d])=>o[d]).map(d=>"".concat(l,"--").concat(rc(d)));return[l,...u].join(" ")},[e]);return[a,s]};function Lv(n,r){if(n==null)return{};var e={},t=Object.keys(n),a,s;for(s=0;s<t.length;s++)a=t[s],!(r.indexOf(a)>=0)&&(e[a]=n[a]);return e}function ks(){return ks=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},ks.apply(this,arguments)}function No(n,r){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},No(n,r)}function Iv(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,No(n,r)}function Wr(n,r,e,t){function a(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(d){try{u(t.next(d))}catch(f){i(f)}}function l(d){try{u(t.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((t=t.apply(n,r||[])).next())})}function jr(n,r){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},t,a,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(d){return l([u,d])}}function l(u){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(e=0)),e;)try{if(t=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,a=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){e.label=u[1];break}if(u[0]===6&&e.label<s[1]){e.label=s[1],s=u;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(u);break}s[2]&&e.ops.pop(),e.trys.pop();continue}u=r.call(n,e)}catch(d){u=[6,d],a=0}finally{t=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ac(n,r){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var t=e.call(n),a,s=[],i;try{for(;(r===void 0||r-- >0)&&!(a=t.next()).done;)s.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(e=t.return)&&e.call(t)}finally{if(i)throw i.error}}return s}function ta(n,r,e){if(e||arguments.length===2)for(var t=0,a=r.length,s;t<a;t++)(s||!(t in r))&&(s||(s=Array.prototype.slice.call(r,0,t)),s[t]=r[t]);return n.concat(s||Array.prototype.slice.call(r))}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var sc=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,Fv=/\\([\u000b\u0020-\u00ff])/g,$v=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,Yv=Gv;function Gv(n){if(!n)throw new TypeError("argument string is required");var r=typeof n=="object"?Wv(n):n;if(typeof r!="string")throw new TypeError("argument string is required to be a string");var e=r.indexOf(";"),t=e!==-1?r.slice(0,e).trim():r.trim();if(!$v.test(t))throw new TypeError("invalid media type");var a=new jv(t.toLowerCase());if(e!==-1){var s,i,o;for(sc.lastIndex=e;i=sc.exec(r);){if(i.index!==e)throw new TypeError("invalid parameter format");e+=i[0].length,s=i[1].toLowerCase(),o=i[2],o.charCodeAt(0)===34&&(o=o.slice(1,-1),o.indexOf("\\")!==-1&&(o=o.replace(Fv,"$1"))),a.parameters[s]=o}if(e!==r.length)throw new TypeError("invalid parameter format")}return a}function Wv(n){var r;if(typeof n.getHeader=="function"?r=n.getHeader("content-type"):typeof n.headers=="object"&&(r=n.headers&&n.headers["content-type"]),typeof r!="string")throw new TypeError("content-type header is missing from object");return r}function jv(n){this.parameters=Object.create(null),this.type=n}var hr=new Map,Vd=function(r){return r.cloneNode(!0)},ic=function(){return window.location.protocol==="file:"},Kd=function(r,e,t){var a=new XMLHttpRequest;a.onreadystatechange=function(){try{if(!/\.svg/i.test(r)&&a.readyState===2){var s=a.getResponseHeader("Content-Type");if(!s)throw new Error("Content type not found");var i=Yv(s).type;if(!(i==="image/svg+xml"||i==="text/plain"))throw new Error("Invalid content type: ".concat(i))}if(a.readyState===4){if(a.status===404||a.responseXML===null)throw new Error(ic()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+r);if(a.status===200||ic()&&a.status===0)t(null,a);else throw new Error("There was a problem injecting the SVG: "+a.status+" "+a.statusText)}}catch(o){if(a.abort(),o instanceof Error)t(o,a);else throw o}},a.open("GET",r),a.withCredentials=e,a.overrideMimeType&&a.overrideMimeType("text/xml"),a.send()},Sn={},oc=function(r,e){Sn[r]=Sn[r]||[],Sn[r].push(e)},Bv=function(r){for(var e=function(i,o){setTimeout(function(){if(Array.isArray(Sn[r])){var l=hr.get(r),u=Sn[r][i];l instanceof SVGSVGElement&&u(null,Vd(l)),l instanceof Error&&u(l),i===Sn[r].length-1&&delete Sn[r]}},0)},t=0,a=Sn[r].length;t<a;t++)e(t)},Hv=function(r,e,t){if(hr.has(r)){var a=hr.get(r);if(a===void 0){oc(r,t);return}if(a instanceof SVGSVGElement){t(null,Vd(a));return}}hr.set(r,void 0),oc(r,t),Kd(r,e,function(s,i){var o;s?hr.set(r,s):((o=i.responseXML)===null||o===void 0?void 0:o.documentElement)instanceof SVGSVGElement&&hr.set(r,i.responseXML.documentElement),Bv(r)})},Uv=function(r,e,t){Kd(r,e,function(a,s){var i;a?t(a):((i=s.responseXML)===null||i===void 0?void 0:i.documentElement)instanceof SVGSVGElement&&t(null,s.responseXML.documentElement)})},Vv=0,Kv=function(){return++Vv},Ft=[],lc={},zv="http://www.w3.org/2000/svg",Wi="http://www.w3.org/1999/xlink",cc=function(r,e,t,a,s,i,o){var l=r.getAttribute("data-src")||r.getAttribute("src");if(!l){o(new Error("Invalid data-src or src attribute"));return}if(Ft.indexOf(r)!==-1){Ft.splice(Ft.indexOf(r),1),r=null;return}Ft.push(r),r.setAttribute("src","");var u=a?Hv:Uv;u(l,s,function(d,f){if(!f){Ft.splice(Ft.indexOf(r),1),r=null,o(d);return}var h=r.getAttribute("id");h&&f.setAttribute("id",h);var m=r.getAttribute("title");m&&f.setAttribute("title",m);var v=r.getAttribute("width");v&&f.setAttribute("width",v);var g=r.getAttribute("height");g&&f.setAttribute("height",g);var y=Array.from(new Set(ta(ta(ta([],(f.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(r.getAttribute("class")||"").split(" "),!0))).join(" ").trim();f.setAttribute("class",y);var w=r.getAttribute("style");w&&f.setAttribute("style",w),f.setAttribute("data-src",l);var k=[].filter.call(r.attributes,function(A){return/^data-\w[\w-]*$/.test(A.name)});if(Array.prototype.forEach.call(k,function(A){A.name&&A.value&&f.setAttribute(A.name,A.value)}),t){var x={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},E,N,_,S,D;Object.keys(x).forEach(function(A){E=A,_=x[A],N=f.querySelectorAll(E+"[id]");for(var M=function(ie,ae){S=N[ie].id,D=S+"-"+Kv();var ue;Array.prototype.forEach.call(_,function(de){ue=f.querySelectorAll("["+de+'*="'+S+'"]');for(var Ve=0,ct=ue.length;Ve<ct;Ve++){var yt=ue[Ve].getAttribute(de);yt&&!yt.match(new RegExp('url\\("?#'+S+'"?\\)'))||ue[Ve].setAttribute(de,"url(#"+D+")")}});for(var Me=f.querySelectorAll("[*|href]"),Ue=[],nt=0,Ct=Me.length;nt<Ct;nt++){var rt=Me[nt].getAttributeNS(Wi,"href");rt&&rt.toString()==="#"+N[ie].id&&Ue.push(Me[nt])}for(var X=0,J=Ue.length;X<J;X++)Ue[X].setAttributeNS(Wi,"href","#"+D);N[ie].id=D},K=0,Y=N.length;K<Y;K++)M(K)})}f.removeAttribute("xmlns:a");for(var C=f.querySelectorAll("script"),O=[],R,F,T=0,$=C.length;T<$;T++)F=C[T].getAttribute("type"),(!F||F==="application/ecmascript"||F==="application/javascript"||F==="text/javascript")&&(R=C[T].innerText||C[T].textContent,R&&O.push(R),f.removeChild(C[T]));if(O.length>0&&(e==="always"||e==="once"&&!lc[l])){for(var L=0,H=O.length;L<H;L++)new Function(O[L])(window);lc[l]=!0}var U=f.querySelectorAll("style");if(Array.prototype.forEach.call(U,function(A){A.textContent+=""}),f.setAttribute("xmlns",zv),f.setAttribute("xmlns:xlink",Wi),i(f),!r.parentNode){Ft.splice(Ft.indexOf(r),1),r=null,o(new Error("Parent node is null"));return}r.parentNode.replaceChild(f,r),Ft.splice(Ft.indexOf(r),1),r=null,o(null,f)})},qv=function(r,e){var t=e===void 0?{}:e,a=t.afterAll,s=a===void 0?function(){}:a,i=t.afterEach,o=i===void 0?function(){}:i,l=t.beforeEach,u=l===void 0?function(){}:l,d=t.cacheRequests,f=d===void 0?!0:d,h=t.evalScripts,m=h===void 0?"never":h,v=t.httpRequestWithCredentials,g=v===void 0?!1:v,y=t.renumerateIRIElements,w=y===void 0?!0:y;if(r&&"length"in r)for(var k=0,x=0,E=r.length;x<E;x++)cc(r[x],m,w,f,g,u,function(N,_){o(N,_),r&&"length"in r&&r.length===++k&&s(k)});else r?cc(r,m,w,f,g,u,function(N,_){o(N,_),s(1),r=null}):s(0)},zd={exports:{}},Qv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xv=Qv,Zv=Xv;function qd(){}function Qd(){}Qd.resetWarningCache=qd;var Jv=function(){function n(t,a,s,i,o,l){if(l!==Zv){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function r(){return n}var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Qd,resetWarningCache:qd};return e.PropTypes=e,e};zd.exports=Jv();var xe=zd.exports;const Se=vh(xe);var eg=function(r){var e=(r==null?void 0:r.ownerDocument)||document;return e.defaultView||window},tg=function(r,e){for(var t in r)if(!(t in e))return!0;for(var a in e)if(r[a]!==e[a])return!0;return!1},ng=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],Ba="http://www.w3.org/2000/svg",uc="http://www.w3.org/1999/xlink",el=function(n){Iv(r,n);function r(){for(var t,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return t=n.call.apply(n,[this].concat(s))||this,t.initialState={hasError:!1,isLoading:!0},t.state=t.initialState,t._isMounted=!1,t.reactWrapper=void 0,t.nonReactWrapper=void 0,t.refCallback=function(o){t.reactWrapper=o},t}var e=r.prototype;return e.renderSVG=function(){var a=this;if(this.reactWrapper instanceof eg(this.reactWrapper).Node){var s=this.props,i=s.desc,o=s.evalScripts,l=s.httpRequestWithCredentials,u=s.renumerateIRIElements,d=s.src,f=s.title,h=s.useRequestCache,m=this.props.onError,v=this.props.beforeInjection,g=this.props.afterInjection,y=this.props.wrapper,w,k;y==="svg"?(w=document.createElementNS(Ba,y),w.setAttribute("xmlns",Ba),w.setAttribute("xmlns:xlink",uc),k=document.createElementNS(Ba,y)):(w=document.createElement(y),k=document.createElement(y)),w.appendChild(k),k.dataset.src=d,this.nonReactWrapper=this.reactWrapper.appendChild(w);var x=function(S){if(a.removeSVG(),!a._isMounted){m(S);return}a.setState(function(){return{hasError:!0,isLoading:!1}},function(){m(S)})},E=function(S,D){if(S){x(S);return}a._isMounted&&a.setState(function(){return{isLoading:!1}},function(){try{g(D)}catch(C){x(C)}})},N=function(S){if(S.setAttribute("role","img"),i){var D=S.querySelector(":scope > desc");D&&S.removeChild(D);var C=document.createElement("desc");C.innerHTML=i,S.prepend(C)}if(f){var O=S.querySelector(":scope > title");O&&S.removeChild(O);var R=document.createElement("title");R.innerHTML=f,S.prepend(R)}try{v(S)}catch(F){x(F)}};qv(k,{afterEach:E,beforeEach:N,cacheRequests:h,evalScripts:o,httpRequestWithCredentials:l,renumerateIRIElements:u})}},e.removeSVG=function(){var a;(a=this.nonReactWrapper)!=null&&a.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},e.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},e.componentDidUpdate=function(a){var s=this;tg(ks({},a),this.props)&&this.setState(function(){return s.initialState},function(){s.removeSVG(),s.renderSVG()})},e.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},e.render=function(){var a=this.props;a.afterInjection,a.beforeInjection,a.desc,a.evalScripts;var s=a.fallback;a.httpRequestWithCredentials;var i=a.loading;a.renumerateIRIElements,a.src,a.title,a.useRequestCache;var o=a.wrapper,l=Lv(a,ng),u=o;return p.createElement(u,ks({},l,{ref:this.refCallback},o==="svg"?{xmlns:Ba,xmlnsXlink:uc}:{}),this.state.isLoading&&i&&p.createElement(i,null),this.state.hasError&&s&&p.createElement(s,null))},r}(p.Component);el.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"};el.propTypes={afterInjection:xe.func,beforeInjection:xe.func,desc:xe.string,evalScripts:xe.oneOf(["always","once","never"]),fallback:xe.oneOfType([xe.func,xe.object,xe.string]),httpRequestWithCredentials:xe.bool,loading:xe.oneOfType([xe.func,xe.object,xe.string]),onError:xe.func,renumerateIRIElements:xe.bool,src:xe.string.isRequired,title:xe.string,useRequestCache:xe.bool,wrapper:xe.oneOf(["div","span","svg"])};const re=n=>{const{icon:r,className:e,width:t="auto",height:a="auto"}=n,s=r.split("--"),[i]=W("svg",e);return c(el,{wrapper:"span",src:"/svg/".concat(s[0],".svg"),className:i({transform:s[1]}),beforeInjection:o=>{o.setAttribute("style","width: ".concat(t,"; height: ").concat(a))}})};const z=n=>{const{className:r,theme:e,icon:t,onClick:a,type:s,href:i="",children:o,small:l,size:u,typeBtn:d="button",hoverContent:f,hoverIcon:h,active:m,loading:v,refInner:g}=n,[y,w]=W("button",r),[k,x]=p.useState(o),[E,N]=p.useState(t),_=C=>{(f||h)&&(C?(N(h),x(f)):(N(t),x(o)))};p.useEffect(()=>{N(t),x(o)},[o,t]);const S=b(vt,{children:[!v&&E&&c(re,{width:"16px",height:"16px",icon:E,className:w("icon")}),v&&c("span",{className:w("loading")}),v?!E:k]});return(()=>{switch(s){case"Link":return c(ke,{to:i,className:y({theme:e,small:l,size:u,active:m}),children:S});case"button-close":return c("button",{className:y({close:!0}),onClick:a,type:"button",disabled:m,ref:g,"aria-label":"закрыть",children:c(re,{icon:"cross",width:"20px",height:"20px"})});case"button":default:return c("button",{className:y({theme:e,small:l,size:u,active:m}),onClick:a,type:d==="button"?"button":"submit",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),disabled:m,ref:g,children:S})}})()};let rg=class{constructor(){this.isOpen=!1,this.window="login",this.funcModal=()=>{},this.setIsOpen=r=>{this.isOpen=r},this.setWindow=r=>{this.window=r},this.setFuncModal=r=>{this.funcModal=r},ya(this)}};const ba=new rg;let ag=class{constructor(){this.isAuth=!!Ze.get("token"),this.name=Ze.get("name")||"",this.avatar=Ze.get("avatar")||"",this.userInfo={avatar:Ze.get("avatar")||"",email:"",name:"",id:0,username:"",firstName:"",lastName:"",country:"",coverImage:"",aboutMe:"",totalAddedGoals:0,totalCompletedGoals:0,totalCompletedLists:0,totalAddedLists:0,totalAchievements:0},this.addedGoals={goals:[],totalAdded:0},this.addedLists={lists:[],totalAdded:0},this.mainGoals={easyGoals:{data:[],countCompleted:0},mediumGoals:{data:[],countCompleted:0},hardGoals:{data:[],countCompleted:0}},this.setIsAuth=r=>{this.isAuth=r},this.setName=r=>{this.name=r},this.setUserInfo=r=>{this.userInfo=r},this.setAddedGoals=r=>{this.addedGoals=r},this.setAddedLists=r=>{this.addedLists=r},this.setMainGoals=r=>{this.mainGoals=r},this.setAvatar=r=>{this.avatar=r},ya(this)}};const Tn=new ag;let sg=class{constructor(){this.queue=[],this.visibleNotifications=[],ya(this)}addNotification(r){const e=Math.random().toString(36).substr(2,9);this.queue.push({id:e,...r}),this.showNextNotification()}showNextNotification(){for(;this.visibleNotifications.length<3&&this.queue.length>0;){const r=this.queue.shift();r&&(this.visibleNotifications.push(r),setTimeout(()=>this.removeNotification(r.id),7e3))}}removeNotification(r){this.visibleNotifications=this.visibleNotifications.filter(e=>e.id!==r),this.showNextNotification()}};const oe=new sg,Xd=(n={})=>{const r={};return n!=null&&n.auth&&Ze.get("token")&&(r.Authorization="Token ".concat(Ze.get("token"))),n!=null&&n.file||(r["Content-Type"]="application/json"),r},tl=async(n,r,e={})=>{const{showErrorNotification:t=!0,showSuccessNotification:a=!0}=e,s=Xd(e);try{const i=await fetch("/api/".concat(n,"/"),{method:r,headers:s,body:e.body?e.file?e.body:JSON.stringify(e.body):void 0}),o=await i.json();return i.ok?(a&&(e!=null&&e.success?oe.addNotification(e.success):oe.addNotification({type:"success",title:"Успешно"})),{success:!0,data:o}):(t&&(e!=null&&e.error?oe.addNotification(e.error):oe.addNotification({type:"error",title:"Ошибка",message:o.error||"Что-то пошло не так"})),{success:!1,errors:o.error})}catch(i){return oe.addNotification({type:"error",title:"Ошибка сервера",message:"Что-то пошло не так"}),Promise.reject(i)}},ft=(n,r)=>tl(n,"POST",r),nl=(n,r)=>tl(n,"DELETE",r),Pe=async(n,r)=>{const e=Xd(r);let t="";if(r!=null&&r.get){const a=Object.entries(r.get).filter(([i,o])=>o!=null).reduce((i,[o,l])=>({...i,[o]:String(l)}),{});t=new URLSearchParams(a).toString()}try{const a=await fetch("/api/".concat(n).concat(t?"?".concat(t):""),{headers:e}),s=await a.json();return a.ok?{success:!0,data:s}:{success:!1,errors:s.error}}catch(a){return Promise.reject(a)}},ti=(n,r)=>tl(n,"PUT",r),rl=async n=>{const r=await Pe("user".concat(n?"/".concat(n):""),{auth:!0});r.success&&Tn.setUserInfo(r.data)};let ig=class{constructor(){this.header="transparent",this.page="isMainPage",this.full=!0,this.setHeader=r=>{this.header=r},this.setPage=r=>{this.page=r},this.setFull=r=>{this.full=r},ya(this)}};const et=new ig;const Br=n=>{const{className:r,avatar:e,size:t="small",noBorder:a=!1}=n,[s,i]=W("avatar",r),o=()=>{switch(t){case"medium":return"24px";case"medium-56":return"32px";case"large-96":return"48px";case"large":return"96px";default:return"16px"}};return c("div",{className:s({size:t,noBorder:a}),children:e&&e!=="undefined"?c("img",{className:i("image"),src:e||"",alt:"Аватар"}):c(re,{icon:"avatar",className:i("icon"),width:o(),height:o()})})};const He=n=>{const{className:r,vertical:e,margin:t,height:a=0}=n,[s]=W("line",r);return e?c("div",{style:{display:"flex",alignItems:"center"},children:c("div",{className:s({vertical:e}),style:{margin:t,height:"calc(100% + ".concat(a,"px)")}})}):c("hr",{className:s(),style:{margin:t}})};const og=Be(n=>{const{className:r}=n,{header:e,page:t}=et,{setIsOpen:a,setWindow:s}=ba,{isAuth:i,name:o,avatar:l,setAvatar:u,setIsAuth:d,setName:f,userInfo:h}=Tn,[m,v]=W("header",r),g=Pn();p.useEffect(()=>{(async()=>await rl())()},[]);const y=()=>{a(!0),s("login")},w=()=>{a(!0),s("registration")},k=()=>{Ze.remove("token"),Ze.remove("avatar"),Ze.remove("name"),Ze.remove("user-id"),u(""),d(!1),f(""),g("/")};return c("header",{className:m({theme:e}),children:b("div",{className:v("wrapper"),children:[c(ke,{className:v("logo"),to:"/","aria-label":"Главная",children:c(re,{icon:"delting"})}),c("nav",{className:v("nav"),children:b("ul",{className:v("list"),children:[c("li",{className:v("item"),children:c(ke,{className:v("item-link",{active:t==="isUserSelf"}),to:"/user/self",children:"Моя доска"})}),c("li",{className:v("item"),children:c(ke,{className:v("item-link",{active:t==="isMainGoals"}),to:"/list/100-goals",children:"100 целей"})}),c("li",{className:v("item"),children:c(ke,{className:v("item-link",{active:t==="isCategories"}),to:"/categories",children:"Категории"})}),c("li",{className:v("item"),children:c(ke,{className:v("item-link",{active:t==="isCategoriesAll"}),to:"/categories/all",children:"Цели и списки"})}),c("li",{className:v("item"),children:c(ke,{className:v("item-link",{active:t==="isLeaders"}),to:"/leaders",children:"Лидеры"})})]})}),i?b("div",{className:v("profile-wrapper"),children:[b("div",{className:v("profile"),children:[c(Br,{avatar:l,size:"small",noBorder:!0}),c("span",{className:v("nickname"),children:o})]}),b("div",{className:v("profile-menu"),children:[c(ke,{className:v("menu-item"),to:"/user/".concat(h==null?void 0:h.id,"/showcase/"),children:"Мой профиль"}),c(ke,{className:v("menu-item"),to:"/user/self",children:"Дашборд"}),c(ke,{className:v("menu-item"),to:"/user/self/achievements",children:"Достижения"}),c(ke,{className:v("menu-item"),to:"/user/self/active-goals",children:"Активные цели и списки"}),c(ke,{className:v("menu-item"),to:"/user/self/done-goals",children:"Выполненные"}),c(ke,{className:v("menu-item"),to:"/user/self/settings",children:"Настройки"}),c(He,{margin:"8px 0"}),c("button",{type:"button",className:v("menu-item"),onClick:k,children:"Выход"})]})]}):b("div",{className:v("profile"),children:[c(z,{className:v("sign-in"),theme:"blue-light",size:"small",onClick:y,children:"Войти"}),c(z,{className:v("registration"),theme:"blue",size:"small",icon:"rocket",onClick:w,children:"Регистрация"})]})]})})});const We=n=>{const{className:r,type:e="text",placeholder:t,id:a,text:s,value:i,setValue:o,setValueTarget:l,iconBegin:u,autoComplete:d="off",error:f,required:h,onFocus:m,onBlur:v,onKeyDown:g}=n,[y,w]=W("field-input",r),[k,x]=p.useState(e),E=()=>{x(k==="password"?"text":"password")},N=_=>{l?l(_):o&&o(_.target.value)};return b("div",{className:y({error:!!f}),children:[s&&c("label",{className:w("label"),htmlFor:a,children:s}),b("div",{className:w("wrapper"),children:[u&&c(re,{icon:u,className:w("icon-begin")}),k==="textarea"?c("textarea",{className:w("input",{iconBegin:!!u}),id:a,placeholder:t,value:i,onChange:N,onFocus:m,onBlur:v,onKeyDown:g}):c("input",{className:w("input",{iconBegin:!!u}),id:a,type:k,placeholder:t,value:i,onChange:N,autoComplete:d,required:h,onFocus:m,onBlur:v,onKeyDown:g}),e==="password"&&c("button",{type:"button",className:w("show-password"),onClick:E,"aria-label":"Показать пароль",children:k==="password"?c(re,{icon:"eye"}):c(re,{icon:"eye-closed"})})]}),f==null?void 0:f.map(_=>c("p",{className:w("error"),children:_}))]})},lg=async(n,r,e)=>await ft("login",{body:{email:n,password:r,remember_me:e},showErrorNotification:!1});const Zd=n=>{const{className:r,id:e,text:t,checked:a,setChecked:s}=n,[i,o]=W("field-checkbox"),l=u=>{(u.key===" "||u.key==="Enter")&&(u.preventDefault(),s(!a))};return b("div",{className:i(),children:[c("input",{className:o("input"),id:e,type:"checkbox",value:e,onChange:()=>s(!a),checked:a}),b("label",{className:"".concat(o("label")," ").concat(r),htmlFor:e,children:[c("span",{className:o("checkbox"),role:"button",tabIndex:0,onKeyDown:l,"aria-label":t,children:c(re,{icon:"done",className:o("icon")})}),t]})]})};const ce=n=>{const{className:r,tag:e="h4",theme:t,children:a}=n,[s]=W("title",r);return(()=>{switch(e){case"h1":return c("h1",{className:s({tag:e,theme:t}),children:a});case"h2":return c("h2",{className:s({tag:e,theme:t}),children:a});case"h3":return c("h3",{className:s({tag:e,theme:t}),children:a});case"h4":default:return c("h4",{className:s({tag:e,theme:t}),children:a})}})()},Jd=n=>{const{className:r,openRegistration:e,successLogin:t,isPage:a}=n,[s,i]=W("login",r),[o,l]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[m,v]=p.useState(!1),g=async y=>{h(""),y.preventDefault();const w=await lg(o,u,m);w.success?t(w.data):h("Неправильные данные")};return b("form",{className:s({page:a}),onSubmit:y=>g(y),children:[c(re,{icon:"icon-logo",className:i("logo")}),c(ce,{tag:"h3",className:i("title"),children:"Вход в лучшую жизнь"}),b("div",{className:i("form"),children:[c(We,{placeholder:"E-mail",id:"email",text:"E-mail",value:o,setValue:l,className:i("field"),required:!0}),c(We,{placeholder:"Пароль для входа",id:"password",text:"Пароль",value:u,setValue:d,className:i("field"),type:"password",required:!0}),f&&c("p",{className:i("error"),children:f}),c("div",{className:i("move"),children:c(Zd,{id:"remember",text:"Запомнить меня",checked:m,setChecked:v})}),c(z,{typeBtn:"submit",icon:"sign-in",theme:"blue",className:i("btn"),onClick:g,children:"Войти"}),b("p",{className:i("registration"),children:["У вас нет аккаунта?"," ",c(z,{theme:"no-border",className:i("btn-registration"),onClick:e,children:"Регистрация"})]})]})]})},cg=async(n,r)=>await ft("register",{body:{email:n,password:r},showErrorNotification:!1});const ef=n=>{const{className:r,openLogin:e,successRegistration:t,isPage:a}=n,[s,i]=W("registration",r),[o,l]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[m,v]=p.useState({}),g=async y=>{if(v({}),y.preventDefault(),u!==f){v({password:["Пароли не совпадают"]});return}const w=await cg(o,u);w.success?t(w):v(w.errors)};return b("form",{className:s({page:a}),onSubmit:g,children:[c(re,{icon:"icon-logo",className:i("logo")}),c(ce,{tag:"h3",className:i("title"),children:"Вступить в лучшую жизнь"}),b("div",{className:i("form"),children:[c(We,{placeholder:"E-mail",type:"email",id:"password",text:"E-mail",value:o,setValue:l,className:i("field"),autoComplete:"email",error:m==null?void 0:m.email,required:!0}),c(We,{placeholder:"Пароль для входа",id:"new-password",text:"Пароль",value:u,setValue:d,className:i("field"),type:"password",autoComplete:"new-password",required:!0,error:m.password}),c(We,{placeholder:"Повтор ввода пароля",id:"repeatPassword",text:"Повторите пароль",value:f,setValue:h,className:i("field"),type:"password",autoComplete:"new-password",required:!0}),c(z,{icon:"rocket",theme:"blue",className:i("btn"),typeBtn:"submit",children:"Зарегистрироваться"}),b("p",{className:i("sign-in"),children:["У вас уже есть аккаунт?",c(z,{theme:"no-border",className:i("btn-sign-in"),onClick:e,children:"Вход"})]})]})]})};var ug=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function wa(n,r){var e=dg(n);if(typeof e.path!="string"){var t=n.webkitRelativePath;Object.defineProperty(e,"path",{value:typeof r=="string"?r:typeof t=="string"&&t.length>0?t:n.name,writable:!1,configurable:!1,enumerable:!0})}return e}function dg(n){var r=n.name,e=r&&r.lastIndexOf(".")!==-1;if(e&&!n.type){var t=r.split(".").pop().toLowerCase(),a=ug.get(t);a&&Object.defineProperty(n,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return n}var fg=[".DS_Store","Thumbs.db"];function pg(n){return Wr(this,void 0,void 0,function(){return jr(this,function(r){return Cs(n)&&hg(n.dataTransfer)?[2,yg(n.dataTransfer,n.type)]:mg(n)?[2,vg(n)]:Array.isArray(n)&&n.every(function(e){return"getFile"in e&&typeof e.getFile=="function"})?[2,gg(n)]:[2,[]]})})}function hg(n){return Cs(n)}function mg(n){return Cs(n)&&Cs(n.target)}function Cs(n){return typeof n=="object"&&n!==null}function vg(n){return Eo(n.target.files).map(function(r){return wa(r)})}function gg(n){return Wr(this,void 0,void 0,function(){var r;return jr(this,function(e){switch(e.label){case 0:return[4,Promise.all(n.map(function(t){return t.getFile()}))];case 1:return r=e.sent(),[2,r.map(function(t){return wa(t)})]}})})}function yg(n,r){return Wr(this,void 0,void 0,function(){var e,t;return jr(this,function(a){switch(a.label){case 0:return n.items?(e=Eo(n.items).filter(function(s){return s.kind==="file"}),r!=="drop"?[2,e]:[4,Promise.all(e.map(bg))]):[3,2];case 1:return t=a.sent(),[2,dc(tf(t))];case 2:return[2,dc(Eo(n.files).map(function(s){return wa(s)}))]}})})}function dc(n){return n.filter(function(r){return fg.indexOf(r.name)===-1})}function Eo(n){if(n===null)return[];for(var r=[],e=0;e<n.length;e++){var t=n[e];r.push(t)}return r}function bg(n){if(typeof n.webkitGetAsEntry!="function")return fc(n);var r=n.webkitGetAsEntry();return r&&r.isDirectory?nf(r):fc(n)}function tf(n){return n.reduce(function(r,e){return ta(ta([],ac(r),!1),ac(Array.isArray(e)?tf(e):[e]),!1)},[])}function fc(n){var r=n.getAsFile();if(!r)return Promise.reject("".concat(n," is not a File"));var e=wa(r);return Promise.resolve(e)}function wg(n){return Wr(this,void 0,void 0,function(){return jr(this,function(r){return[2,n.isDirectory?nf(n):_g(n)]})})}function nf(n){var r=n.createReader();return new Promise(function(e,t){var a=[];function s(){var i=this;r.readEntries(function(o){return Wr(i,void 0,void 0,function(){var l,u,d;return jr(this,function(f){switch(f.label){case 0:if(o.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return l=f.sent(),e(l),[3,4];case 3:return u=f.sent(),t(u),[3,4];case 4:return[3,6];case 5:d=Promise.all(o.map(wg)),a.push(d),s(),f.label=6;case 6:return[2]}})})},function(o){t(o)})}s()})}function _g(n){return Wr(this,void 0,void 0,function(){return jr(this,function(r){return[2,new Promise(function(e,t){n.file(function(a){var s=wa(a,n.fullPath);e(s)},function(a){t(a)})})]})})}var Dg=function(n,r){if(n&&r){var e=Array.isArray(r)?r:r.split(","),t=n.name||"",a=(n.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return e.some(function(i){var o=i.trim().toLowerCase();return o.charAt(0)==="."?t.toLowerCase().endsWith(o):o.endsWith("/*")?s===o.replace(/\/.*$/,""):a===o})}return!0};function pc(n){return Eg(n)||Ng(n)||af(n)||Sg()}function Sg(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ng(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Eg(n){if(Array.isArray(n))return ko(n)}function hc(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,t)}return e}function mc(n){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?hc(Object(e),!0).forEach(function(t){rf(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):hc(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function rf(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function ia(n,r){return xg(n)||Cg(n,r)||af(n,r)||kg()}function kg(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function af(n,r){if(n){if(typeof n=="string")return ko(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ko(n,r)}}function ko(n,r){(r==null||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function Cg(n,r){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var t=[],a=!0,s=!1,i,o;try{for(e=e.call(n);!(a=(i=e.next()).done)&&(t.push(i.value),!(r&&t.length===r));a=!0);}catch(l){s=!0,o=l}finally{try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}return t}}function xg(n){if(Array.isArray(n))return n}var Og="file-invalid-type",Pg="file-too-large",Mg="file-too-small",Tg="too-many-files",Ag=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var e=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Og,message:"File type must be ".concat(e)}},vc=function(r){return{code:Pg,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},gc=function(r){return{code:Mg,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},Rg={code:Tg,message:"Too many files"};function sf(n,r){var e=n.type==="application/x-moz-file"||Dg(n,r);return[e,e?null:Ag(r)]}function of(n,r,e){if($n(n.size))if($n(r)&&$n(e)){if(n.size>e)return[!1,vc(e)];if(n.size<r)return[!1,gc(r)]}else{if($n(r)&&n.size<r)return[!1,gc(r)];if($n(e)&&n.size>e)return[!1,vc(e)]}return[!0,null]}function $n(n){return n!=null}function Lg(n){var r=n.files,e=n.accept,t=n.minSize,a=n.maxSize,s=n.multiple,i=n.maxFiles,o=n.validator;return!s&&r.length>1||s&&i>=1&&r.length>i?!1:r.every(function(l){var u=sf(l,e),d=ia(u,1),f=d[0],h=of(l,t,a),m=ia(h,1),v=m[0],g=o?o(l):null;return f&&v&&!g})}function xs(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Ha(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!n.target&&!!n.target.files}function yc(n){n.preventDefault()}function Ig(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Fg(n){return n.indexOf("Edge/")!==-1}function $g(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Ig(n)||Fg(n)}function $t(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return function(t){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return r.some(function(o){return!xs(t)&&o&&o.apply(void 0,[t].concat(s)),xs(t)})}}function Yg(){return"showOpenFilePicker"in window}function Gg(n){if($n(n)){var r=Object.entries(n).filter(function(e){var t=ia(e,2),a=t[0],s=t[1],i=!0;return lf(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(cf))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(e,t){var a=ia(t,2),s=a[0],i=a[1];return mc(mc({},e),{},rf({},s,i))},{});return[{description:"Files",accept:r}]}return n}function Wg(n){if($n(n))return Object.entries(n).reduce(function(r,e){var t=ia(e,2),a=t[0],s=t[1];return[].concat(pc(r),[a],pc(s))},[]).filter(function(r){return lf(r)||cf(r)}).join(",")}function jg(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Bg(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function lf(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||/\w+\/[-+.\w]+/g.test(n)}function cf(n){return/^.*\.[\w]+$/.test(n)}var Hg=["children"],Ug=["open"],Vg=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Kg=["refKey","onChange","onClick"];function zg(n){return Xg(n)||Qg(n)||uf(n)||qg()}function qg(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qg(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Xg(n){if(Array.isArray(n))return Co(n)}function ji(n,r){return ey(n)||Jg(n,r)||uf(n,r)||Zg()}function Zg(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uf(n,r){if(n){if(typeof n=="string")return Co(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Co(n,r)}}function Co(n,r){(r==null||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function Jg(n,r){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var t=[],a=!0,s=!1,i,o;try{for(e=e.call(n);!(a=(i=e.next()).done)&&(t.push(i.value),!(r&&t.length===r));a=!0);}catch(l){s=!0,o=l}finally{try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}return t}}function ey(n){if(Array.isArray(n))return n}function bc(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,t)}return e}function Re(n){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?bc(Object(e),!0).forEach(function(t){xo(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):bc(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function xo(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function Os(n,r){if(n==null)return{};var e=ty(n,r),t,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(a=0;a<s.length;a++)t=s[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(n,t)&&(e[t]=n[t])}return e}function ty(n,r){if(n==null)return{};var e={},t=Object.keys(n),a,s;for(s=0;s<t.length;s++)a=t[s],!(r.indexOf(a)>=0)&&(e[a]=n[a]);return e}var al=p.forwardRef(function(n,r){var e=n.children,t=Os(n,Hg),a=Xn(t),s=a.open,i=Os(a,Ug);return p.useImperativeHandle(r,function(){return{open:s}},[s]),P.createElement(p.Fragment,null,e(Re(Re({},i),{},{open:s})))});al.displayName="Dropzone";var df={disabled:!1,getFilesFromEvent:pg,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};al.defaultProps=df;al.propTypes={children:Se.func,accept:Se.objectOf(Se.arrayOf(Se.string)),multiple:Se.bool,preventDropOnDocument:Se.bool,noClick:Se.bool,noKeyboard:Se.bool,noDrag:Se.bool,noDragEventsBubbling:Se.bool,minSize:Se.number,maxSize:Se.number,maxFiles:Se.number,disabled:Se.bool,getFilesFromEvent:Se.func,onFileDialogCancel:Se.func,onFileDialogOpen:Se.func,useFsAccessApi:Se.bool,autoFocus:Se.bool,onDragEnter:Se.func,onDragLeave:Se.func,onDragOver:Se.func,onDrop:Se.func,onDropAccepted:Se.func,onDropRejected:Se.func,onError:Se.func,validator:Se.func};var Oo={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Xn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=Re(Re({},df),n),e=r.accept,t=r.disabled,a=r.getFilesFromEvent,s=r.maxSize,i=r.minSize,o=r.multiple,l=r.maxFiles,u=r.onDragEnter,d=r.onDragLeave,f=r.onDragOver,h=r.onDrop,m=r.onDropAccepted,v=r.onDropRejected,g=r.onFileDialogCancel,y=r.onFileDialogOpen,w=r.useFsAccessApi,k=r.autoFocus,x=r.preventDropOnDocument,E=r.noClick,N=r.noKeyboard,_=r.noDrag,S=r.noDragEventsBubbling,D=r.onError,C=r.validator,O=p.useMemo(function(){return Wg(e)},[e]),R=p.useMemo(function(){return Gg(e)},[e]),F=p.useMemo(function(){return typeof y=="function"?y:wc},[y]),T=p.useMemo(function(){return typeof g=="function"?g:wc},[g]),$=p.useRef(null),L=p.useRef(null),H=p.useReducer(ny,Oo),U=ji(H,2),A=U[0],M=U[1],K=A.isFocused,Y=A.isFileDialogActive,ee=p.useRef(typeof window<"u"&&window.isSecureContext&&w&&Yg()),ie=function(){!ee.current&&Y&&setTimeout(function(){if(L.current){var Q=L.current.files;Q.length||(M({type:"closeDialog"}),T())}},300)};p.useEffect(function(){return window.addEventListener("focus",ie,!1),function(){window.removeEventListener("focus",ie,!1)}},[L,Y,T,ee]);var ae=p.useRef([]),ue=function(Q){$.current&&$.current.contains(Q.target)||(Q.preventDefault(),ae.current=[])};p.useEffect(function(){return x&&(document.addEventListener("dragover",yc,!1),document.addEventListener("drop",ue,!1)),function(){x&&(document.removeEventListener("dragover",yc),document.removeEventListener("drop",ue))}},[$,x]),p.useEffect(function(){return!t&&k&&$.current&&$.current.focus(),function(){}},[$,k,t]);var Me=p.useCallback(function(G){D?D(G):console.error(G)},[D]),Ue=p.useCallback(function(G){G.preventDefault(),G.persist(),te(G),ae.current=[].concat(zg(ae.current),[G.target]),Ha(G)&&Promise.resolve(a(G)).then(function(Q){if(!(xs(G)&&!S)){var be=Q.length,Ie=be>0&&Lg({files:Q,accept:O,minSize:i,maxSize:s,multiple:o,maxFiles:l,validator:C}),Ke=be>0&&!Ie;M({isDragAccept:Ie,isDragReject:Ke,isDragActive:!0,type:"setDraggedFiles"}),u&&u(G)}}).catch(function(Q){return Me(Q)})},[a,u,Me,S,O,i,s,o,l,C]),nt=p.useCallback(function(G){G.preventDefault(),G.persist(),te(G);var Q=Ha(G);if(Q&&G.dataTransfer)try{G.dataTransfer.dropEffect="copy"}catch(be){}return Q&&f&&f(G),!1},[f,S]),Ct=p.useCallback(function(G){G.preventDefault(),G.persist(),te(G);var Q=ae.current.filter(function(Ie){return $.current&&$.current.contains(Ie)}),be=Q.indexOf(G.target);be!==-1&&Q.splice(be,1),ae.current=Q,!(Q.length>0)&&(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ha(G)&&d&&d(G))},[$,d,S]),rt=p.useCallback(function(G,Q){var be=[],Ie=[];G.forEach(function(Ke){var an=sf(Ke,O),Qe=ji(an,2),An=Qe[0],sn=Qe[1],cr=of(Ke,i,s),gn=ji(cr,2),Oi=gn[0],Pi=gn[1],Mi=C?C(Ke):null;if(An&&Oi&&!Mi)be.push(Ke);else{var Ti=[sn,Pi];Mi&&(Ti=Ti.concat(Mi)),Ie.push({file:Ke,errors:Ti.filter(function(lh){return lh})})}}),(!o&&be.length>1||o&&l>=1&&be.length>l)&&(be.forEach(function(Ke){Ie.push({file:Ke,errors:[Rg]})}),be.splice(0)),M({acceptedFiles:be,fileRejections:Ie,type:"setFiles"}),h&&h(be,Ie,Q),Ie.length>0&&v&&v(Ie,Q),be.length>0&&m&&m(be,Q)},[M,o,O,i,s,l,h,m,v,C]),X=p.useCallback(function(G){G.preventDefault(),G.persist(),te(G),ae.current=[],Ha(G)&&Promise.resolve(a(G)).then(function(Q){xs(G)&&!S||rt(Q,G)}).catch(function(Q){return Me(Q)}),M({type:"reset"})},[a,rt,Me,S]),J=p.useCallback(function(){if(ee.current){M({type:"openDialog"}),F();var G={multiple:o,types:R};window.showOpenFilePicker(G).then(function(Q){return a(Q)}).then(function(Q){rt(Q,null),M({type:"closeDialog"})}).catch(function(Q){jg(Q)?(T(Q),M({type:"closeDialog"})):Bg(Q)?(ee.current=!1,L.current?(L.current.value=null,L.current.click()):Me(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Me(Q)});return}L.current&&(M({type:"openDialog"}),F(),L.current.value=null,L.current.click())},[M,F,T,w,rt,Me,R,o]),de=p.useCallback(function(G){!$.current||!$.current.isEqualNode(G.target)||(G.key===" "||G.key==="Enter"||G.keyCode===32||G.keyCode===13)&&(G.preventDefault(),J())},[$,J]),Ve=p.useCallback(function(){M({type:"focus"})},[]),ct=p.useCallback(function(){M({type:"blur"})},[]),yt=p.useCallback(function(){E||($g()?setTimeout(J,0):J())},[E,J]),It=function(Q){return t?null:Q},rn=function(Q){return N?null:It(Q)},j=function(Q){return _?null:It(Q)},te=function(Q){S&&Q.stopPropagation()},I=p.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=G.refKey,be=Q===void 0?"ref":Q,Ie=G.role,Ke=G.onKeyDown,an=G.onFocus,Qe=G.onBlur,An=G.onClick,sn=G.onDragEnter,cr=G.onDragOver,gn=G.onDragLeave,Oi=G.onDrop,Pi=Os(G,Vg);return Re(Re(xo({onKeyDown:rn($t(Ke,de)),onFocus:rn($t(an,Ve)),onBlur:rn($t(Qe,ct)),onClick:It($t(An,yt)),onDragEnter:j($t(sn,Ue)),onDragOver:j($t(cr,nt)),onDragLeave:j($t(gn,Ct)),onDrop:j($t(Oi,X)),role:typeof Ie=="string"&&Ie!==""?Ie:"presentation"},be,$),!t&&!N?{tabIndex:0}:{}),Pi)}},[$,de,Ve,ct,yt,Ue,nt,Ct,X,N,_,t]),se=p.useCallback(function(G){G.stopPropagation()},[]),Ne=p.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=G.refKey,be=Q===void 0?"ref":Q,Ie=G.onChange,Ke=G.onClick,an=Os(G,Kg),Qe=xo({accept:O,multiple:o,type:"file",style:{display:"none"},onChange:It($t(Ie,X)),onClick:It($t(Ke,se)),tabIndex:-1},be,L);return Re(Re({},Qe),an)}},[L,e,o,X,t]);return Re(Re({},A),{},{isFocused:K&&!t,getRootProps:I,getInputProps:Ne,rootRef:$,inputRef:L,open:It(J)})}function ny(n,r){switch(r.type){case"focus":return Re(Re({},n),{},{isFocused:!0});case"blur":return Re(Re({},n),{},{isFocused:!1});case"openDialog":return Re(Re({},Oo),{},{isFileDialogActive:!0});case"closeDialog":return Re(Re({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Re(Re({},n),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return Re(Re({},n),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return Re({},Oo);default:return n}}function wc(){}const Ps={itemsPerPage:0,page:0,totalPages:0,totalItems:0},ry={experienceEarned:0,goalsCompleted:0,reviewsAdded:0};class ay{constructor(){this.comments=[],this.lists=[],this.infoPaginationLists=Ps,this.infoPaginationComments=Ps,this.id=0,this.setComments=r=>{this.comments=r},this.setLists=r=>{this.lists=r},this.setInfoPaginationLists=r=>{this.infoPaginationLists=r},this.setInfoPaginationComments=r=>{this.infoPaginationComments=r},this.setId=r=>{this.id=r},ya(this)}}const ni=new ay,sy=async n=>await ft("comments/add",{body:n,auth:!0,file:!0}),sl={hard:"Тяжело",medium:"Средне",easy:"Легко"},ff={hard:"Тяжелая категория",medium:"Средняя категория",easy:"Легкая категория"},dt=[{name:"Легко",value:"easy"},{name:"Средне",value:"medium"},{name:"Тяжело",value:"hard"}];const ht=({options:n,activeOption:r,onSelect:e,text:t,className:a,filter:s,placeholder:i="Сделайте выбор",disabled:o=!1})=>{var _,S;const[l,u]=p.useState(!1),[d,f]=p.useState(null),h=p.useRef(null),m=p.useRef([]),[v,g]=W("select",a),y=()=>{o||(u(!l),!l&&typeof r=="number"&&f(r))},w=D=>{h.current&&!h.current.contains(D.target)&&u(!1)},k=D=>{o||(e(D),u(!1))},x=D=>{if(!o){if(!l&&(D.key==="Enter"||D.key===" "||D.key==="ArrowDown")){D.preventDefault(),u(!0),f(r!==null?r:0);return}if(l)switch(D.key){case"Escape":D.preventDefault(),u(!1);break;case"ArrowDown":D.preventDefault(),f(C=>{var R;const O=C===null?0:(C+1)%n.length;return(R=m.current[O])==null||R.scrollIntoView({block:"nearest"}),O});break;case"ArrowUp":D.preventDefault(),f(C=>{var R;const O=C===null||C===0?n.length-1:C-1;return(R=m.current[O])==null||R.scrollIntoView({block:"nearest"}),O});break;case"Enter":case" ":D.preventDefault(),d!==null&&k(d);break}}},E=D=>{o||(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),y())},N=(D,C)=>{o||(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),k(C))};return p.useEffect(()=>(document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}),[]),p.useEffect(()=>{m.current=m.current.slice(0,n.length)},[n.length]),b("div",{className:v({filter:s,disabled:o}),ref:h,onKeyDown:x,role:"combobox","aria-haspopup":"listbox","aria-expanded":l,"aria-controls":l?"select-options-list":void 0,"aria-label":t||"Выпадающий список",tabIndex:o?-1:0,"aria-disabled":o,children:[t&&c("p",{className:g("text"),children:t}),b("button",{type:"button",className:g("option",{isOpen:l,placeholder:typeof r!="number",disabled:o}),onClick:y,onKeyDown:E,"aria-label":typeof r=="number"?"Выбрано: ".concat((_=n[r])==null?void 0:_.name):i,disabled:o,children:[c(re,{icon:s?"sort":"arrow--right"}),c("span",{className:g("option-text"),children:typeof r=="number"?(S=n[r])==null?void 0:S.name:i})]}),l&&!o&&c("ul",{id:"select-options-list",className:g("list"),role:"listbox","aria-label":"Доступные опции",children:n.map((D,C)=>c("li",{ref:O=>{m.current[C]=O},className:g("item",{active:r===C,highlighted:d===C}),onClick:()=>k(C),onKeyDown:O=>N(O,C),role:"option","aria-selected":r===C,tabIndex:0,children:D.name},D.value))})]})};const iy=n=>{const{className:r,closeModal:e}=n,[t,a]=W("add-review",r),[s,i]=p.useState(null),[o,l]=p.useState(""),[u,d]=p.useState([]),{setComments:f,comments:h,id:m}=ni,v=p.useCallback(x=>{if(x.length+u.length>10){oe.addNotification({type:"error",title:"Слишком много фотографий",message:"Можно загрузить не более 10 фотографий."});return}d(E=>[...E,...x])},[u]),{getRootProps:g,getInputProps:y}=Xn({onDrop:v}),w=async x=>{if(x.preventDefault(),typeof s!="number")return;const E=new FormData;E.append("complexity",dt[s].value),E.append("text",o),E.append("goal_id",m.toString()),u.forEach(_=>{E.append("photo",_)});const N=await sy(E);N.success&&(e(),f([N.data,...h]))},k=(x,E)=>{x.stopPropagation(),d([...u.slice(0,E),...u.slice(E+1)])};return b("form",{className:t(),onSubmit:w,children:[c(ce,{tag:"h2",className:a("title"),children:"Написать отзыв к цели"}),c(ht,{className:a("field"),placeholder:"Насколько вам было тяжело выполнить цель?",options:dt,activeOption:s,onSelect:i,text:"Сложность"}),c(We,{placeholder:"Опишите свои впечатления о выполнении",id:"new-comment",text:"Комментарий",value:o,setValue:l,className:a("field"),type:"textarea"}),c("p",{className:a("field-title"),children:"Фотографии"}),b("div",{...g({className:a("dropzone")}),children:[c("input",{...y()}),b("div",{className:a("photos"),children:[c("div",{className:a("btn-add"),children:c(re,{icon:"plus"})}),u.map((x,E)=>b("div",{className:a("photo-wrapper"),children:[c("img",{className:a("photo"),src:URL.createObjectURL(x),alt:"Фотография ".concat(E+1)}),c("button",{className:a("delete-photo"),type:"button",onClick:N=>k(N,E),"aria-label":"Удалить фотографию",children:c(re,{icon:"cross"})})]},"".concat(x.name,"-").concat(x.lastModified)))]})]}),b("div",{className:a("btns-wrapper"),children:[c(z,{theme:"blue-light",className:a("btn"),onClick:e,children:"Отмена"}),c(z,{theme:"blue",className:a("btn"),typeBtn:"submit",children:"Опубликовать (+10 опыта)"})]})]})},oy=async n=>await ti("users/change-password",{body:n,auth:!0});const ly=n=>{const{className:r,closeModal:e}=n,[t,a]=W("change-password",r),[s,i]=p.useState(""),[o,l]=p.useState(""),[u,d]=p.useState(""),f=async h=>{if(h.preventDefault(),o!==u)return;(await oy({oldPassword:s,newPassword:o})).success&&e()};return b("form",{className:t(),onSubmit:f,children:[c(ce,{tag:"h2",className:a("title"),children:"Изменить пароль"}),c(We,{placeholder:"Введите ваш пароль",id:"password",text:"Текущий пароль",value:s,setValue:i,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"current-password"}),c(We,{placeholder:"Введите ваш новый пароль",id:"new-password",text:"Новый пароль",value:o,setValue:l,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"new-password"}),c(We,{placeholder:"Повтор ввода нового пароля",id:"repeat-new-password",text:"Повторите новый пароль",value:u,setValue:d,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"new-password"}),b("div",{className:a("btns-wrapper"),children:[c(z,{theme:"blue-light",className:a("btn"),onClick:e,children:"Отмена"}),c(z,{theme:"blue",className:a("btn"),typeBtn:"submit",children:"Изменить пароль"})]})]})};const cy=n=>{const{className:r,closeModal:e,funcModal:t}=n,[a,s]=W("confirm-execution-all-goal",r),i=async()=>{try{t()&&e()}catch(o){oe.addNotification({type:"error",title:"Упс",message:"Что-то пошло не так"})}};return b("section",{className:a(),children:[c(ce,{tag:"h2",className:s("title"),children:"Выполнение всех целей списка"}),c("p",{className:s("text"),children:"Вы действительно хотите отметить все цели выполненными? Отменить это действие можно только вручную по каждой цели."}),b("div",{className:s("btns-wrapper"),children:[c(z,{theme:"blue-light",className:s("btn"),onClick:e,children:"Отмена"}),c(z,{theme:"blue",className:s("btn"),onClick:i,children:"Выполнить"})]})]})};const _c=n=>{const{className:r,closeModal:e,funcModal:t}=n,[a,s]=W("delete-goal",r),i=async()=>{t()&&e()};return b("section",{className:a(),children:[c(ce,{tag:"h2",className:s("title"),children:"Удаление цели"}),c("p",{className:s("text"),children:"Вы действительно хотите удалить цель? Написанный отзыв будет будет удалён вместе с целью."}),b("div",{className:s("btns-wrapper"),children:[c(z,{theme:"blue-light",className:s("btn"),onClick:e,children:"Отмена"}),c(z,{theme:"red",className:s("btn"),onClick:i,children:"Удалить"})]})]})};const uy=Be(n=>{const{className:r}=n,[e,t]=W("modal",r),{isOpen:a,setIsOpen:s,window:i,setWindow:o,funcModal:l}=ba,{setIsAuth:u,setName:d,setAvatar:f}=Tn,h=p.useRef(null),m=p.useRef(null),v=()=>{s(!1)},g=()=>{o("registration")},y=()=>{o("login")},w=E=>{Ze.set("name",E.name||""),v(),d(E.name||""),u(!0),f(Ze.get("avatar")||"")},k=E=>{E.key==="Escape"&&v()},x=E=>{if(E.key!=="Tab"||!h.current)return;const N=h.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(N.length===0)return;const _=N[0],S=N[N.length-1];E.shiftKey&&document.activeElement===_?(E.preventDefault(),S.focus()):!E.shiftKey&&document.activeElement===S&&(E.preventDefault(),_.focus())};return p.useEffect(()=>(a?(document.addEventListener("keyup",k),document.addEventListener("keydown",x),setTimeout(()=>{if(h.current){const E=h.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');E.length>0?E[0].focus():m.current&&m.current.focus()}},50)):(document.removeEventListener("keyup",k),document.removeEventListener("keydown",x)),()=>{document.removeEventListener("keyup",k),document.removeEventListener("keydown",x)}),[a,s]),a?b("section",{className:e({isOpen:a}),children:[b("div",{className:t("window",{type:i}),ref:h,children:[i==="login"&&c(Jd,{openRegistration:g,successLogin:w}),i==="registration"&&c(ef,{openLogin:y,successRegistration:w}),i==="change-password"&&c(ly,{closeModal:v}),i==="add-review"&&c(iy,{closeModal:v}),i==="delete-goal"&&c(_c,{closeModal:v,funcModal:l}),i==="delete-list"&&c(_c,{closeModal:v,funcModal:l}),i==="confirm-execution-all-goal"&&c(cy,{closeModal:v,funcModal:l}),c(z,{theme:"blue-light",className:t("close"),onClick:v,refInner:m,children:c(re,{icon:"cross"})})]}),c("button",{"aria-label":"Закрыть окно",type:"button",className:t("base"),onClick:v})]}):null});const dy=Be(({id:n,type:r,title:e,message:t,actionText:a,action:s})=>{const[i,o]=W("notification");return b(dh.div,{className:i({type:r}),initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.9},transition:{duration:.3},children:[c(re,{icon:"info",className:o("info",{type:r})}),b("div",{className:o("content"),children:[c("h3",{className:o("title"),children:e}),typeof t=="string"&&c("p",{children:t}),a&&c(z,{className:o("btn"),onClick:s,theme:"no-border",children:a})]}),c(z,{type:"button-close",onClick:()=>oe.removeNotification(n)})]})});const fy=Be(()=>{const[n]=W("notification-container");return c("div",{className:n(),children:c(fh,{children:oe.visibleNotifications.map(r=>c(dy,{...r},r.id))})})}),it=(n,r,e=!0)=>n%10===1&&n%100!==11?"".concat(e?n:""," ").concat(r[0]):n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?"".concat(e?n:""," ").concat(r[1]||r[0]):"".concat(e?n:""," ").concat(r[2]||r[0]);const il=n=>{const{className:r,img:e,children:t,category:a,show:s=!0,blacked:i,withoutBlack:o}=n,[l,u]=W("gradient",r);return b("div",{className:l(),children:[c("img",{src:e.src,alt:e.alt,className:u("img",{blacked:i})}),c("div",{className:u("color",{category:a,show:s,blacked:i,withoutBlack:o})}),c("div",{className:u("top-info"),children:t})]})};const py=n=>{const{className:r,category:e}=n,[t,a]=W("card-category",r);return c("section",{className:t(),children:c(ke,{to:"/categories/".concat(e.nameEn),className:a("gradient"),children:c(il,{img:{src:e.image,alt:e.name},category:e.nameEn,withoutBlack:!0,children:b("div",{className:a("description"),children:[c(ce,{className:a("title"),theme:"white",tag:"h3",children:e.name}),c("p",{className:a("goals"),children:it(e.goalCount,["цель","цели","целей"])})]})})})})};const pf=({categories:n})=>{const[r,e]=W("categories");return b("main",{className:r(),children:[c(ce,{className:e("title"),tag:"h1",children:"Категории"}),c("section",{className:e("list"),children:!!n.length&&n.map(t=>c(py,{category:t,className:e("item")},t.id))})]})},sr=async()=>await Pe("categories"),hy=()=>{const[n,r]=p.useState([]);return p.useEffect(()=>{(async()=>{const e=await sr();e.success&&r(e.data)})()},[]),c(pf,{categories:n})},my=({page:n})=>{const{setPage:r,setHeader:e,setFull:t}=et;return p.useEffect(()=>{r(n),e("white"),t(!1)},[]),c(hy,{page:n})};const ri=n=>{const{className:r,done:e,all:t,goal:a,text:s}=n,[i,o]=W("progress",r);return b("div",{className:i({goal:a,text:!!s}),children:[!a&&!s&&c("span",{className:o("count"),children:"".concat(e,"/").concat(t)}),c("div",{className:o("line"),children:c("div",{className:o("line-done",{all:t===e}),style:{width:"".concat(Math.round(e/(t||1)*100),"%")}})}),s&&c("span",{className:o("count"),children:s}),a&&c("span",{className:o("count"),children:"".concat(Math.round(e/(t||1)*100),"%")})]})};const pt=n=>{const{icon:r,className:e,text:t,category:a,theme:s,classNameIcon:i,complexity:o}=n,[l]=W("tag",e);return b("span",{className:l({category:a,theme:s}),children:[r&&c(re,{className:i,icon:r}),t&&t,o&&sl[o]]})};const hf=n=>{const{className:r,theme:e,category:t,complexity:a,done:s,added:i,medal:o,time:l,separator:u}=n,[d]=W("tags",r);return b("section",{className:d(),children:[t&&c(pt,{category:t.nameEn,text:t.name,theme:e}),(u==null?void 0:u.some(f=>f==="category"))&&c(He,{vertical:!0}),o&&c(pt,{text:o,theme:e,icon:"medal"}),(u==null?void 0:u.some(f=>f==="medal"))&&c(He,{vertical:!0}),c(pt,{text:sl[a],theme:e,icon:a}),(u==null?void 0:u.some(f=>f==="complexity"))&&c(He,{vertical:!0}),!!i&&c(pt,{text:i,theme:e,icon:"people"}),(u==null?void 0:u.some(f=>f==="added"))&&c(He,{vertical:!0}),!!s&&c(pt,{text:s,theme:e,icon:"done"}),(u==null?void 0:u.some(f=>f==="done"))&&c(He,{vertical:!0}),!!l&&c(pt,{text:l,theme:e,icon:"watch"})]})};const xr=n=>{const{className:r,goal:e,horizontal:t,isList:a,onClickAdd:s,onClickDelete:i,onClickMark:o}=n,[l,u]=W("card",r);return b("section",{className:l({horizontal:t}),children:[c(ke,{to:"/".concat(a?"list":"goals","/").concat(e.code),className:u("gradient"),children:c(il,{img:{src:e.image,alt:e.title},category:e.category.nameEn,show:e.completedByUser,children:b("div",{className:u("img-tags"),children:[e.addedByUser&&!e.completedByUser&&c(pt,{icon:"watch",theme:"light"}),e.completedByUser&&c(pt,{icon:"done",theme:"light",classNameIcon:u("img-tag-icon-done")}),c(pt,{text:e.category.name,category:e.category.nameEn,className:u("img-tag-category")})]})})}),b("div",{className:u("info"),children:[b(ke,{to:"/".concat(a?"list":"goals","/").concat(e.code),className:u("info-link"),children:[c(ce,{tag:"h3",className:u("title"),children:e.title}),c("p",{className:u("text"),children:e.shortDescription})]}),c(He,{}),b("div",{className:u("tags-wrapper"),children:[c(hf,{complexity:e.complexity,added:e.totalAdded,time:"7 дней",theme:"integrate",className:u("tags",{added:e.addedByUser}),separator:["complexity",!!e.totalAdded&&"added"]}),a&&c(ri,{done:e.userCompletedGoals,all:e.goalsCount}),b("div",{className:u("buttons"),children:[!e.addedByUser&&c(z,{theme:"blue",icon:"plus",size:"small",onClick:s}),e.addedByUser&&c(z,{theme:"blue-light",icon:"trash",size:"small",onClick:i}),(e.addedByUser||e.completedByUser)&&!a&&c(z,{theme:e.completedByUser?"green":"blue-light",size:"small",onClick:o,children:c(re,{icon:"done",width:"16px",height:"16px",className:u("btn-done",{active:e.completedByUser})})})]})]})]})]})};const Ua=async(n,r)=>await Pe("goals/".concat(n,"/all"),{auth:!0,get:r}),Va=async(n,r)=>await Pe("goal-lists/".concat(n,"/all"),{auth:!0,get:r}),ai=async n=>await ft("goals/".concat(n,"/add"),{auth:!0}),si=async n=>await ft("goal-lists/".concat(n,"/add"),{auth:!0}),_a=async(n,r,e)=>await ft("goals/".concat(n,"/mark"),{auth:!0,body:{done:r},success:e}),ii=async n=>await ft("goals/".concat(n,"/remove"),{auth:!0}),oi=async n=>await ft("goal-lists/".concat(n,"/remove"),{auth:!0});const vy=n=>{const{head:r,icon:e="filter",items:t,onFinish:a,multipleSelectedText:s=["Выбрано несколько"],multipleThreshold:i=2}=n,[o,l]=p.useState(!1),[u,d]=p.useState(r.name),[f,h]=p.useState(!0),[m,v]=p.useState(t.reduce((N,_)=>({...N,[_.code]:{value:!1,name:_.name}}),{})),g=p.useRef(null),[y,w]=W("filters-checkbox"),k=()=>{l(!o)},x=N=>{g.current&&!g.current.contains(N.target)&&l(!1)},E=()=>{const N=Object.keys(m).reduce((_,S)=>({..._,[S]:{value:!1,name:m[S].name}}),{});v(N),h(!0)};return p.useEffect(()=>(document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}),[]),p.useEffect(()=>{if(!o){const N=Object.entries(m).filter(_=>_[1].value);if(N.length){N.length>i&&s?d("Выбрано ".concat(it(N.length,s))):d(N.map(S=>S[1].name).join(", ")),h(!1);const _=N.map(S=>S[0]);a(_)}else d(r.name),h(!0),a([])}},[o,m]),p.useEffect(()=>{v(t.reduce((N,_)=>{const S=m[_.code]?m[_.code].value:!1;return{...N,[_.code]:{value:S,name:_.name}}},{}))},[t]),b("div",{className:y(),ref:g,children:[b("button",{type:"button",className:w("option"),onClick:k,"aria-label":"Выберите",children:[c(re,{icon:e}),c("span",{className:w("option-text"),children:u})]}),o&&b("ul",{className:w("list"),children:[c("li",{className:w("head",{active:f}),onClick:E,role:"button",tabIndex:0,children:r.name}),c(He,{margin:"8px 0"}),t.map(N=>{var _,S;return c("li",{className:w("item",{selected:(_=m[N.code])==null?void 0:_.value}),children:c(Zd,{className:w("checkbox"),text:N.name,id:N.code,checked:((S=m[N.code])==null?void 0:S.value)||!1,setChecked:D=>{v({...m,[N.code]:{value:D,name:N.name}})}})},N.code)})]})]})};const gy=(n,r,e=5)=>{const t=[];if(r<=e)for(let a=1;a<=r;a+=1)t.push({number:a,symbol:a});else{const a=Math.floor(e/2);t.push({number:1,symbol:1});const s=Math.max(2,n>r-2?r-(e-1):n-a),i=Math.min(r-1,n<3?e:n+a);n-a>2&&t.push({symbol:"...",number:Math.floor((s+1)/2)});for(let o=s;o<=i;o+=1)t.push({number:o,symbol:o});n+a<r-1&&t.push({symbol:"...",number:Math.floor((r+i)/2)}),t.push({number:r,symbol:r})}return t},Dc=n=>{const{className:r,goToPage:e,currentPage:t,totalPages:a}=n,[s,i]=p.useState(t),[o,l]=W("pagination",r),[u,d]=p.useState(!1),f=gy(s,a),h=async m=>{const v=s;d(!0),i(m),await e(m)||i(v),d(!1)};return p.useEffect(()=>{i(t)},[t]),a<2?null:b("div",{className:o(),children:[c(z,{theme:"blue-light",icon:"arrow--bottom",className:l("arrow",{notShow:!(t>1)}),onClick:()=>h(t-1)}),c("div",{className:l("pages"),children:f.map(m=>c(z,{theme:"blue-light",onClick:()=>h(m.number),className:l("page"),active:m.number===s,loading:u&&s===m.number,children:m.symbol},m.number))}),c(z,{theme:"blue-light",icon:"arrow",className:l("arrow",{notShow:!(t<a)}),onClick:()=>h(t+1)})]})};const yy=n=>{const{className:r,buttons:e,active:t,base:a=""}=n,[s,i]=W("switch",r);return c("section",{className:s(),children:e.map(o=>b(ke,{to:"".concat(a).concat(o.url),className:i("link",{active:t===o.page}),children:[o.name,!!o.count&&c("span",{className:i("count"),children:o.count})]},o.url))})},yn=[{name:"Новые",value:"-created_at"},{name:"Старые",value:"created_at"},{name:"Cамые популярные",value:"-added_by_users"},{name:"Больше всего выполненные",value:"-completed_by_users"}],ol=n=>{const{className:r,code:e="all",subPage:t,category:a,userId:s,completed:i,beginUrl:o,columns:l,categories:u}=n,[d,f]=W("catalog-items",r),[h,m]=p.useState({data:[],pagination:Ps}),[v,g]=p.useState({data:[],pagination:Ps}),[y,w]=p.useState(0),[k,x]=p.useState(""),[E,N]=p.useState(null),[_,S]=p.useState(s?{user_id:s,completed:i}:{}),[D,C]=p.useState([]),O=p.useMemo(()=>{let M="";return a&&(M=a.category.parentCategory?"".concat(a.category.parentCategory.nameEn,"/").concat(a.category.nameEn):a.category.nameEn),[{url:"".concat(o).concat(M),name:"Цели",page:"goals",count:h.pagination.totalItems},{url:"".concat(o).concat(M,"/lists"),name:"Списки",page:"lists",count:v.pagination.totalItems}]},[h,v,a,o]),R=p.useMemo(()=>u?u.map(M=>({name:M.name,code:M.nameEn})):[],[u]);p.useEffect(()=>{(async()=>{const M=s?{user_id:s,completed:i}:{};S(M);const K=await Ua(e,M);K.success&&m(K.data)})()},[t,e,i,s]),p.useEffect(()=>{(async()=>{const M=s?{user_id:s,completed:i}:{};S(M);const K=await Va(e,M);K.success&&g(K.data)})()},[t,e,i,s]),p.useEffect(()=>{w(0),x(""),C([])},[t,o]);const F=async(M,K,Y)=>{try{let ee;const ie={..._,sort_by:M,page:K,...Y&&Y.length>0?{categories:Y.join(",")}:{}};return t==="goals"?ee=await Ua(e,ie):ee=await Va(e,ie),ee.success?(t==="goals"?m(ee.data):g(ee.data),!0):!1}catch(ee){return!1}},T=async M=>{w(M),await F(yn[M].value,void 0,D)},$=async M=>await F(yn[y].value,M,D),L=M=>{x(M);const K=300;E&&clearTimeout(E),N(setTimeout(async()=>{if(t==="goals")if(M.length>=3){const Y=await Ua(e,{sort_by:yn[y].value,search:M,...D.length>0?{categories:D.join(",")}:{}});Y.success&&m(Y.data)}else{const Y=await Ua(e,{sort_by:yn[y].value,search:"",...D.length>0?{categories:D.join(",")}:{}});Y.success&&m(Y.data)}else if(M.length>=3){const Y=await Va(e,{sort_by:yn[y].value,search:M,...D.length>0?{categories:D.join(",")}:{}});Y.success&&g(Y.data)}else{const Y=await Va(e,{sort_by:yn[y].value,search:"",...D.length>0?{categories:D.join(",")}:{}});Y.success&&g(Y.data)}},K))},H=async M=>{C(M),await F(yn[y].value,void 0,M)},U=async(M,K,Y,ee)=>{const ie=await(Y==="add"?ai(M):Y==="delete"?ii(M):_a(M,!ee));if(ie.success&&h){const ae={...h.data[K],addedByUser:Y!=="delete",completedByUser:Y==="mark"?!ee:h.data[K].completedByUser,totalAdded:ie.data.users_added_count},ue=[...h.data];ue[K]=ae,m({...h,data:ue})}},A=async(M,K,Y)=>{const ee=await(Y==="add"?si(M):oi(M));if(ee.success){const ie={...v.data[K],addedByUser:Y==="add",totalAdded:ee.data.users_added_count},ae=[...v.data];ae[K]=ie,g({...v,data:ae})}};return b("section",{className:d(),children:[b("div",{className:f("filters"),children:[c(yy,{className:f("switch"),buttons:O,active:t||""}),c(We,{className:f("search"),placeholder:"Поисковой запрос",id:"searching",value:k,setValue:L,iconBegin:"search"}),u&&u.length>0&&c(vy,{head:{name:"Все категории",code:"all"},items:R,onFinish:H,multipleSelectedText:["категория","категории","категорий"],multipleThreshold:1}),c(ht,{options:yn,activeOption:y,onSelect:T,filter:!0})]}),t==="goals"?c("section",{className:f("goals",{columns:l}),children:h.data.map((M,K)=>c(xr,{className:f("goal"),goal:M,onClickAdd:()=>U(M.code,K,"add"),onClickDelete:()=>U(M.code,K,"delete"),onClickMark:()=>U(M.code,K,"mark",M.completedByUser)},M.code))}):c("section",{className:f("goals",{columns:l}),children:v.data.map((M,K)=>c(xr,{className:f("list"),goal:M,horizontal:!0,isList:!0,onClickAdd:()=>A(M.code,K,"add"),onClickDelete:()=>A(M.code,K,"delete")},M.code))}),t==="lists"?c(Dc,{currentPage:v.pagination.page,totalPages:v.pagination.totalPages,goToPage:$}):c(Dc,{currentPage:h.pagination.page,totalPages:h.pagination.totalPages,goToPage:$})]},e)};const by=n=>{var u,d;const{className:r,category:e,isSub:t,refHeader:a}=n,[s,i]=W("header-category",r),[o,l]=p.useState(!1);return p.useEffect(()=>{const f=()=>{const m=window.scrollY>160;l(m)};return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),b("header",{className:s({category:t&&((u=e.category.parentCategory)!=null&&u.nameEn)?(d=e.category.parentCategory)==null?void 0:d.nameEn:e.category.nameEn,fixed:o}),style:{backgroundImage:"url(".concat(e.category.image,")")},ref:a,children:[b("div",{className:i("title-wrapper"),children:[t&&e.category.parentCategory&&c(ke,{to:"/categories/".concat(e.category.parentCategory.nameEn),children:b(ce,{className:i("title-link"),tag:"h1",children:[e.category.parentCategory.name," / "]})}),c(ce,{tag:"h1",theme:"white",className:i("title"),children:e.category.name})]}),!!e.subcategories.length&&!o&&c("section",{className:i("subcategories"),children:e.subcategories.map(f=>b(ke,{className:i("subcategory"),to:"/categories/".concat(e.category.nameEn,"/").concat(f.nameEn),children:[f.icon&&c("img",{className:i("subcategory-icon"),src:f.icon,alt:f.name}),f.name]},f.nameEn))})]})},Wn=async n=>await Pe("categories/".concat(n)),wy=async n=>await Pe("goals/".concat(n,"/popular"),{auth:!0}),_y=async n=>await Pe("goal-lists/".concat(n,"/popular"),{auth:!0});const Dy=({subPage:n,page:r})=>{const[e,t]=W("category"),[a,s]=p.useState(null),[i,o]=p.useState([]),[l,u]=p.useState([]),[d,f]=p.useState([]),h=p.useRef(null),{id:m}=Vs();p.useEffect(()=>{(async()=>{if(!m){const y=await sr();y.success&&f(y.data)}})()},[m]),p.useEffect(()=>{m&&(async()=>{const y=await Wn(m);y.success&&s(y.data)})()},[m]),p.useEffect(()=>{(async()=>{const y=await wy(m||"all");y.success&&o(y.data)})()},[m]),p.useEffect(()=>{(async()=>{const y=await _y(m||"all");y.success&&u(y.data)})()},[m]);const v=async(y,w,k,x)=>{const E=await(k==="add"?ai(y):k==="delete"?ii(y):_a(y,!x));if(E.success&&i){const N={...i[w],addedByUser:k!=="delete",completedByUser:k==="mark"?!x:i[w].completedByUser,totalAdded:E.data.users_added_count},_=[...i];_[w]=N,o(_)}},g=async(y,w,k)=>{const x=await(k==="add"?si(y):oi(y));if(x.success){const E={...l[w],addedByUser:k==="add",totalAdded:x.data.users_added_count},N=[...l];N[w]=E,u(N)}};return b("main",{className:e({sub:r==="isSubCategories",empty:!(a!=null&&a.subcategories.length),all:!m}),children:[m&&m!=="all"&&a&&c(by,{category:a,className:t("header"),isSub:r==="isSubCategories",refHeader:h}),!!i.length&&b(vt,{children:[b("div",{className:t("wrapper-title"),children:[c(ce,{tag:"h2",children:"Популярные цели этой недели"}),c(z,{type:"Link",theme:"blue",icon:"plus",href:"/goals/create".concat(m&&m!=="all"?"?category=".concat(m):""),size:"small",children:"Добавить цель"})]}),c("section",{className:t("popular-goals"),children:i.map((y,w)=>c(xr,{goal:y,className:t("popular-goal"),onClickAdd:()=>v(y.code,w,"add"),onClickDelete:()=>v(y.code,w,"delete"),onClickMark:()=>v(y.code,w,"mark",y.completedByUser)},y.code))})]}),!!l.length&&b(vt,{children:[b("div",{className:t("wrapper-title"),children:[c(ce,{tag:"h2",children:"Популярные списки этой недели"}),c(z,{type:"Link",theme:"blue",icon:"plus",href:"/list/create".concat(m&&m!=="all"?"?category=".concat(m):""),size:"small",children:"Добавить список целей"})]}),c("section",{className:t("popular-lists"),children:l.map((y,w)=>c(xr,{horizontal:!0,isList:!0,goal:y,className:t("popular-list"),onClickAdd:()=>g(y.code,w,"add"),onClickDelete:()=>g(y.code,w,"delete")},y.code))})]}),c(ce,{className:t("title"),tag:"h2",children:"Все цели и списки"}),c(ol,{code:m||"all",className:t("all-goals"),subPage:n,category:a,beginUrl:m?"/categories/":"/categories/all",categories:d}),!m&&c(pf,{categories:d})]})},dr=({page:n,subPage:r})=>{const{setPage:e,setHeader:t,setFull:a}=et;return p.useEffect(()=>{e(n),n==="isCategoriesAll"?(t("white"),a(!1)):(t("transparent"),a(!0))},[n]),c(Dy,{page:n,subPage:r})},mf=6048e5,Sy=864e5,li=6e4,ci=36e5,Ny=1e3,Sc=Symbol.for("constructDateFrom");function De(n,r){return typeof n=="function"?n(r):n&&typeof n=="object"&&Sc in n?n[Sc](r):n instanceof Date?new n.constructor(r):new Date(r)}function Z(n,r){return De(r||n,n)}function Mt(n,r,e){const t=Z(n,e==null?void 0:e.in);return isNaN(r)?De((e==null?void 0:e.in)||n,NaN):(r&&t.setDate(t.getDate()+r),t)}function At(n,r,e){const t=Z(n,e==null?void 0:e.in);if(isNaN(r))return De((e==null?void 0:e.in)||n,NaN);if(!r)return t;const a=t.getDate(),s=De((e==null?void 0:e.in)||n,t.getTime());s.setMonth(t.getMonth()+r+1,0);const i=s.getDate();return a>=i?s:(t.setFullYear(s.getFullYear(),s.getMonth(),a),t)}function vf(n,r,e){return De((e==null?void 0:e.in)||n,+Z(n)+r)}function Ey(n,r,e){return vf(n,r*ci,e)}let ky={};function ir(){return ky}function Rt(n,r){var o,l,u,d,f,h,m,v;const e=ir(),t=(v=(m=(d=(u=r==null?void 0:r.weekStartsOn)!=null?u:(l=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)!=null?d:e.weekStartsOn)!=null?m:(h=(f=e.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?v:0,a=Z(n,r==null?void 0:r.in),s=a.getDay(),i=(s<t?7:0)+s-t;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Or(n,r){return Rt(n,{...r,weekStartsOn:1})}function gf(n,r){const e=Z(n,r==null?void 0:r.in),t=e.getFullYear(),a=De(e,0);a.setFullYear(t+1,0,4),a.setHours(0,0,0,0);const s=Or(a),i=De(e,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const o=Or(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Ms(n){const r=Z(n),e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),+n-+e}function en(n,...r){const e=De.bind(null,n||r.find(t=>typeof t=="object"));return r.map(e)}function Zn(n,r){const e=Z(n,r==null?void 0:r.in);return e.setHours(0,0,0,0),e}function Pr(n,r,e){const[t,a]=en(e==null?void 0:e.in,n,r),s=Zn(t),i=Zn(a),o=+s-Ms(s),l=+i-Ms(i);return Math.round((o-l)/Sy)}function Cy(n,r){const e=gf(n,r),t=De((r==null?void 0:r.in)||n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Or(t)}function Po(n,r,e){const t=Z(n,e==null?void 0:e.in);return t.setTime(t.getTime()+r*li),t}function ll(n,r,e){return At(n,r*3,e)}function xy(n,r,e){return vf(n,r*1e3,e)}function Ts(n,r,e){return Mt(n,r*7,e)}function un(n,r,e){return At(n,r*12,e)}function Nc(n,r){let e,t=r==null?void 0:r.in;return n.forEach(a=>{!t&&typeof a=="object"&&(t=De.bind(null,a));const s=Z(a,t);(!e||e<s||isNaN(+s))&&(e=s)}),De(t,e||NaN)}function Ec(n,r){let e,t=r==null?void 0:r.in;return n.forEach(a=>{!t&&typeof a=="object"&&(t=De.bind(null,a));const s=Z(a,t);(!e||e>s||isNaN(+s))&&(e=s)}),De(t,e||NaN)}function Oy(n,r,e){const[t,a]=en(e==null?void 0:e.in,n,r);return+Zn(t)==+Zn(a)}function dn(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function As(n){return!(!dn(n)&&typeof n!="number"||isNaN(+Z(n)))}function Rs(n,r,e){const[t,a]=en(e==null?void 0:e.in,n,r),s=t.getFullYear()-a.getFullYear(),i=t.getMonth()-a.getMonth();return s*12+i}function Hn(n,r){const e=Z(n,r==null?void 0:r.in);return Math.trunc(e.getMonth()/3)+1}function Ls(n,r,e){const[t,a]=en(e==null?void 0:e.in,n,r),s=t.getFullYear()-a.getFullYear(),i=Hn(t)-Hn(a);return s*4+i}function Is(n,r,e){const[t,a]=en(e==null?void 0:e.in,n,r);return t.getFullYear()-a.getFullYear()}function Py(n,r,e){const[t,a]=en(e==null?void 0:e.in,n,r),s=kc(t,a),i=Math.abs(Pr(t,a));t.setDate(t.getDate()-s*i);const o=+(kc(t,a)===-s),l=s*(i-o);return l===0?0:l}function kc(n,r){const e=n.getFullYear()-r.getFullYear()||n.getMonth()-r.getMonth()||n.getDate()-r.getDate()||n.getHours()-r.getHours()||n.getMinutes()-r.getMinutes()||n.getSeconds()-r.getSeconds()||n.getMilliseconds()-r.getMilliseconds();return e<0?-1:e>0?1:e}function yf(n,r){const e=Z(n,r==null?void 0:r.in);return e.setHours(23,59,59,999),e}function bf(n,r){const e=Z(n,r==null?void 0:r.in),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Mo(n,r){const e=Z(n,r==null?void 0:r.in),t=e.getMonth(),a=t-t%3;return e.setMonth(a,1),e.setHours(0,0,0,0),e}function wf(n,r){const e=Z(n,r==null?void 0:r.in);return e.setDate(1),e.setHours(0,0,0,0),e}function _f(n,r){const e=Z(n,r==null?void 0:r.in),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function ui(n,r){const e=Z(n,r==null?void 0:r.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function My(n,r){var o,l,u,d,f,h,m,v;const e=ir(),t=(v=(m=(d=(u=r==null?void 0:r.weekStartsOn)!=null?u:(l=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)!=null?d:e.weekStartsOn)!=null?m:(h=(f=e.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?v:0,a=Z(n,r==null?void 0:r.in),s=a.getDay(),i=(s<t?-7:0)+6-(s-t);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}const Ty={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ay=(n,r,e)=>{let t;const a=Ty[n];return typeof a=="string"?t=a:r===1?t=a.one:t=a.other.replace("{{count}}",r.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+t:t+" ago":t};function br(n){return(r={})=>{const e=r.width?String(r.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const Ry={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ly={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Iy={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fy={date:br({formats:Ry,defaultWidth:"full"}),time:br({formats:Ly,defaultWidth:"full"}),dateTime:br({formats:Iy,defaultWidth:"full"})},$y={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yy=(n,r,e,t)=>$y[n];function Bt(n){return(r,e)=>{const t=e!=null&&e.context?String(e.context):"standalone";let a;if(t==="formatting"&&n.formattingValues){const i=n.defaultFormattingWidth||n.defaultWidth,o=e!=null&&e.width?String(e.width):i;a=n.formattingValues[o]||n.formattingValues[i]}else{const i=n.defaultWidth,o=e!=null&&e.width?String(e.width):n.defaultWidth;a=n.values[o]||n.values[i]}const s=n.argumentCallback?n.argumentCallback(r):r;return a[s]}}const Gy={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wy={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jy={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},By={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Uy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vy=(n,r)=>{const e=Number(n),t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Ky={ordinalNumber:Vy,era:Bt({values:Gy,defaultWidth:"wide"}),quarter:Bt({values:Wy,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Bt({values:jy,defaultWidth:"wide"}),day:Bt({values:By,defaultWidth:"wide"}),dayPeriod:Bt({values:Hy,defaultWidth:"wide",formattingValues:Uy,defaultFormattingWidth:"wide"})};function Ht(n){return(r,e={})=>{const t=e.width,a=t&&n.matchPatterns[t]||n.matchPatterns[n.defaultMatchWidth],s=r.match(a);if(!s)return null;const i=s[0],o=t&&n.parsePatterns[t]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?qy(o,f=>f.test(i)):zy(o,f=>f.test(i));let u;u=n.valueCallback?n.valueCallback(l):l,u=e.valueCallback?e.valueCallback(u):u;const d=r.slice(i.length);return{value:u,rest:d}}}function zy(n,r){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&r(n[e]))return e}function qy(n,r){for(let e=0;e<n.length;e++)if(r(n[e]))return e}function Df(n){return(r,e={})=>{const t=r.match(n.matchPattern);if(!t)return null;const a=t[0],s=r.match(n.parsePattern);if(!s)return null;let i=n.valueCallback?n.valueCallback(s[0]):s[0];i=e.valueCallback?e.valueCallback(i):i;const o=r.slice(a.length);return{value:i,rest:o}}}const Qy=/^(\d+)(th|st|nd|rd)?/i,Xy=/\d+/i,Zy={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jy={any:[/^b/i,/^(a|c)/i]},eb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tb={any:[/1/i,/2/i,/3/i,/4/i]},nb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ab={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sb={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ib={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ob={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lb={ordinalNumber:Df({matchPattern:Qy,parsePattern:Xy,valueCallback:n=>parseInt(n,10)}),era:Ht({matchPatterns:Zy,defaultMatchWidth:"wide",parsePatterns:Jy,defaultParseWidth:"any"}),quarter:Ht({matchPatterns:eb,defaultMatchWidth:"wide",parsePatterns:tb,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ht({matchPatterns:nb,defaultMatchWidth:"wide",parsePatterns:rb,defaultParseWidth:"any"}),day:Ht({matchPatterns:ab,defaultMatchWidth:"wide",parsePatterns:sb,defaultParseWidth:"any"}),dayPeriod:Ht({matchPatterns:ib,defaultMatchWidth:"any",parsePatterns:ob,defaultParseWidth:"any"})},Sf={code:"en-US",formatDistance:Ay,formatLong:Fy,formatRelative:Yy,localize:Ky,match:lb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cb(n,r){const e=Z(n,r==null?void 0:r.in);return Pr(e,ui(e))+1}function cl(n,r){const e=Z(n,r==null?void 0:r.in),t=+Or(e)-+Cy(e);return Math.round(t/mf)+1}function ul(n,r){var d,f,h,m,v,g,y,w;const e=Z(n,r==null?void 0:r.in),t=e.getFullYear(),a=ir(),s=(w=(y=(m=(h=r==null?void 0:r.firstWeekContainsDate)!=null?h:(f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)!=null?m:a.firstWeekContainsDate)!=null?y:(g=(v=a.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)!=null?w:1,i=De((r==null?void 0:r.in)||n,0);i.setFullYear(t+1,0,s),i.setHours(0,0,0,0);const o=Rt(i,r),l=De((r==null?void 0:r.in)||n,0);l.setFullYear(t,0,s),l.setHours(0,0,0,0);const u=Rt(l,r);return+e>=+o?t+1:+e>=+u?t:t-1}function ub(n,r){var o,l,u,d,f,h,m,v;const e=ir(),t=(v=(m=(d=(u=r==null?void 0:r.firstWeekContainsDate)!=null?u:(l=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)!=null?d:e.firstWeekContainsDate)!=null?m:(h=(f=e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)!=null?v:1,a=ul(n,r),s=De((r==null?void 0:r.in)||n,0);return s.setFullYear(a,0,t),s.setHours(0,0,0,0),Rt(s,r)}function Nf(n,r){const e=Z(n,r==null?void 0:r.in),t=+Rt(e,r)-+ub(e,r);return Math.round(t/mf)+1}function we(n,r){const e=n<0?"-":"",t=Math.abs(n).toString().padStart(r,"0");return e+t}const bn={y(n,r){const e=n.getFullYear(),t=e>0?e:1-e;return we(r==="yy"?t%100:t,r.length)},M(n,r){const e=n.getMonth();return r==="M"?String(e+1):we(e+1,2)},d(n,r){return we(n.getDate(),r.length)},a(n,r){const e=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,r){return we(n.getHours()%12||12,r.length)},H(n,r){return we(n.getHours(),r.length)},m(n,r){return we(n.getMinutes(),r.length)},s(n,r){return we(n.getSeconds(),r.length)},S(n,r){const e=r.length,t=n.getMilliseconds(),a=Math.trunc(t*Math.pow(10,e-3));return we(a,r.length)}},fr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cc={G:function(n,r,e){const t=n.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return e.era(t,{width:"abbreviated"});case"GGGGG":return e.era(t,{width:"narrow"});case"GGGG":default:return e.era(t,{width:"wide"})}},y:function(n,r,e){if(r==="yo"){const t=n.getFullYear(),a=t>0?t:1-t;return e.ordinalNumber(a,{unit:"year"})}return bn.y(n,r)},Y:function(n,r,e,t){const a=ul(n,t),s=a>0?a:1-a;if(r==="YY"){const i=s%100;return we(i,2)}return r==="Yo"?e.ordinalNumber(s,{unit:"year"}):we(s,r.length)},R:function(n,r){const e=gf(n);return we(e,r.length)},u:function(n,r){const e=n.getFullYear();return we(e,r.length)},Q:function(n,r,e){const t=Math.ceil((n.getMonth()+1)/3);switch(r){case"Q":return String(t);case"QQ":return we(t,2);case"Qo":return e.ordinalNumber(t,{unit:"quarter"});case"QQQ":return e.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(t,{width:"wide",context:"formatting"})}},q:function(n,r,e){const t=Math.ceil((n.getMonth()+1)/3);switch(r){case"q":return String(t);case"qq":return we(t,2);case"qo":return e.ordinalNumber(t,{unit:"quarter"});case"qqq":return e.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(t,{width:"wide",context:"standalone"})}},M:function(n,r,e){const t=n.getMonth();switch(r){case"M":case"MM":return bn.M(n,r);case"Mo":return e.ordinalNumber(t+1,{unit:"month"});case"MMM":return e.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(t,{width:"wide",context:"formatting"})}},L:function(n,r,e){const t=n.getMonth();switch(r){case"L":return String(t+1);case"LL":return we(t+1,2);case"Lo":return e.ordinalNumber(t+1,{unit:"month"});case"LLL":return e.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(t,{width:"wide",context:"standalone"})}},w:function(n,r,e,t){const a=Nf(n,t);return r==="wo"?e.ordinalNumber(a,{unit:"week"}):we(a,r.length)},I:function(n,r,e){const t=cl(n);return r==="Io"?e.ordinalNumber(t,{unit:"week"}):we(t,r.length)},d:function(n,r,e){return r==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):bn.d(n,r)},D:function(n,r,e){const t=cb(n);return r==="Do"?e.ordinalNumber(t,{unit:"dayOfYear"}):we(t,r.length)},E:function(n,r,e){const t=n.getDay();switch(r){case"E":case"EE":case"EEE":return e.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(t,{width:"short",context:"formatting"});case"EEEE":default:return e.day(t,{width:"wide",context:"formatting"})}},e:function(n,r,e,t){const a=n.getDay(),s=(a-t.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return we(s,2);case"eo":return e.ordinalNumber(s,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});case"eeee":default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(n,r,e,t){const a=n.getDay(),s=(a-t.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return we(s,r.length);case"co":return e.ordinalNumber(s,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});case"cccc":default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(n,r,e){const t=n.getDay(),a=t===0?7:t;switch(r){case"i":return String(a);case"ii":return we(a,r.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(t,{width:"short",context:"formatting"});case"iiii":default:return e.day(t,{width:"wide",context:"formatting"})}},a:function(n,r,e){const a=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,r,e){const t=n.getHours();let a;switch(t===12?a=fr.noon:t===0?a=fr.midnight:a=t/12>=1?"pm":"am",r){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,r,e){const t=n.getHours();let a;switch(t>=17?a=fr.evening:t>=12?a=fr.afternoon:t>=4?a=fr.morning:a=fr.night,r){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,r,e){if(r==="ho"){let t=n.getHours()%12;return t===0&&(t=12),e.ordinalNumber(t,{unit:"hour"})}return bn.h(n,r)},H:function(n,r,e){return r==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):bn.H(n,r)},K:function(n,r,e){const t=n.getHours()%12;return r==="Ko"?e.ordinalNumber(t,{unit:"hour"}):we(t,r.length)},k:function(n,r,e){let t=n.getHours();return t===0&&(t=24),r==="ko"?e.ordinalNumber(t,{unit:"hour"}):we(t,r.length)},m:function(n,r,e){return r==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):bn.m(n,r)},s:function(n,r,e){return r==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):bn.s(n,r)},S:function(n,r){return bn.S(n,r)},X:function(n,r,e){const t=n.getTimezoneOffset();if(t===0)return"Z";switch(r){case"X":return Oc(t);case"XXXX":case"XX":return Fn(t);case"XXXXX":case"XXX":default:return Fn(t,":")}},x:function(n,r,e){const t=n.getTimezoneOffset();switch(r){case"x":return Oc(t);case"xxxx":case"xx":return Fn(t);case"xxxxx":case"xxx":default:return Fn(t,":")}},O:function(n,r,e){const t=n.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+xc(t,":");case"OOOO":default:return"GMT"+Fn(t,":")}},z:function(n,r,e){const t=n.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+xc(t,":");case"zzzz":default:return"GMT"+Fn(t,":")}},t:function(n,r,e){const t=Math.trunc(+n/1e3);return we(t,r.length)},T:function(n,r,e){return we(+n,r.length)}};function xc(n,r=""){const e=n>0?"-":"+",t=Math.abs(n),a=Math.trunc(t/60),s=t%60;return s===0?e+String(a):e+String(a)+r+we(s,2)}function Oc(n,r){return n%60===0?(n>0?"-":"+")+we(Math.abs(n)/60,2):Fn(n,r)}function Fn(n,r=""){const e=n>0?"-":"+",t=Math.abs(n),a=we(Math.trunc(t/60),2),s=we(t%60,2);return e+a+r+s}const Pc=(n,r)=>{switch(n){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Ef=(n,r)=>{switch(n){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},db=(n,r)=>{const e=n.match(/(P+)(p+)?/)||[],t=e[1],a=e[2];if(!a)return Pc(n,r);let s;switch(t){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Pc(t,r)).replace("{{time}}",Ef(a,r))},To={p:Ef,P:db},fb=/^D+$/,pb=/^Y+$/,hb=["D","DD","YY","YYYY"];function kf(n){return fb.test(n)}function Cf(n){return pb.test(n)}function Ao(n,r,e){const t=mb(n,r,e);if(console.warn(t),hb.includes(n))throw new RangeError(t)}function mb(n,r,e){const t=n[0]==="Y"?"years":"days of the month";return"Use `".concat(n.toLowerCase(),"` instead of `").concat(n,"` (in `").concat(r,"`) for formatting ").concat(t," to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}const vb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yb=/^'([^]*?)'?$/,bb=/''/g,wb=/[a-zA-Z]/;function Mr(n,r,e){var d,f,h,m,v,g,y,w,k,x,E,N,_,S,D,C,O,R;const t=ir(),a=(f=(d=e==null?void 0:e.locale)!=null?d:t.locale)!=null?f:Sf,s=(x=(k=(g=(v=e==null?void 0:e.firstWeekContainsDate)!=null?v:(m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)!=null?g:t.firstWeekContainsDate)!=null?k:(w=(y=t.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)!=null?x:1,i=(R=(O=(S=(_=e==null?void 0:e.weekStartsOn)!=null?_:(N=(E=e==null?void 0:e.locale)==null?void 0:E.options)==null?void 0:N.weekStartsOn)!=null?S:t.weekStartsOn)!=null?O:(C=(D=t.locale)==null?void 0:D.options)==null?void 0:C.weekStartsOn)!=null?R:0,o=Z(n,e==null?void 0:e.in);if(!As(o))throw new RangeError("Invalid time value");let l=r.match(gb).map(F=>{const T=F[0];if(T==="p"||T==="P"){const $=To[T];return $(F,a.formatLong)}return F}).join("").match(vb).map(F=>{if(F==="''")return{isToken:!1,value:"'"};const T=F[0];if(T==="'")return{isToken:!1,value:_b(F)};if(Cc[T])return{isToken:!0,value:F};if(T.match(wb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:F}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return l.map(F=>{if(!F.isToken)return F.value;const T=F.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&Cf(T)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&kf(T))&&Ao(T,r,String(n));const $=Cc[T[0]];return $(o,T,a.localize,u)}).join("")}function _b(n){const r=n.match(yb);return r?r[1].replace(bb,"'"):n}function Mc(n,r){return Z(n,r==null?void 0:r.in).getDate()}function Db(n,r){return Z(n,r==null?void 0:r.in).getDay()}function Sb(n,r){const e=Z(n,r==null?void 0:r.in),t=e.getFullYear(),a=e.getMonth(),s=De(e,0);return s.setFullYear(t,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Nb(){return Object.assign({},ir())}function fn(n,r){return Z(n,r==null?void 0:r.in).getHours()}function Eb(n,r){const e=Z(n,r==null?void 0:r.in).getDay();return e===0?7:e}function pn(n,r){return Z(n,r==null?void 0:r.in).getMinutes()}function ot(n,r){return Z(n,r==null?void 0:r.in).getMonth()}function kn(n){return Z(n).getSeconds()}function Ro(n){return+Z(n)}function le(n,r){return Z(n,r==null?void 0:r.in).getFullYear()}function xn(n,r){return+Z(n)>+Z(r)}function Jn(n,r){return+Z(n)<+Z(r)}function kb(n,r){return+Z(n)==+Z(r)}function Cb(n,r){const e=xb(r)?new r(0):De(r,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function xb(n){var r;return typeof n=="function"&&((r=n.prototype)==null?void 0:r.constructor)===n}const Ob=10;class xf{constructor(){q(this,"subPriority",0)}validate(r,e){return!0}}class Pb extends xf{constructor(r,e,t,a,s){super(),this.value=r,this.validateValue=e,this.setValue=t,this.priority=a,s&&(this.subPriority=s)}validate(r,e){return this.validateValue(r,this.value,e)}set(r,e,t){return this.setValue(r,e,this.value,t)}}class Mb extends xf{constructor(e,t){super();q(this,"priority",Ob);q(this,"subPriority",-1);this.context=e||(a=>De(t,a))}set(e,t){return t.timestampIsSet?e:De(e,Cb(e,this.context))}}class ge{run(r,e,t,a){const s=this.parse(r,e,t,a);return s?{setter:new Pb(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(r,e,t){return!0}}class Tb extends ge{constructor(){super(...arguments);q(this,"priority",140);q(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,a){switch(t){case"G":case"GG":case"GGG":return a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"});case"GGGGG":return a.era(e,{width:"narrow"});case"GGGG":default:return a.era(e,{width:"wide"})||a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"})}}set(e,t,a){return t.era=a,e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}const Ye={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ut={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ge(n,r){return n&&{value:r(n.value),rest:n.rest}}function Le(n,r){const e=r.match(n);return e?{value:parseInt(e[0],10),rest:r.slice(e[0].length)}:null}function Vt(n,r){const e=r.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:r.slice(1)};const t=e[1]==="+"?1:-1,a=e[2]?parseInt(e[2],10):0,s=e[3]?parseInt(e[3],10):0,i=e[5]?parseInt(e[5],10):0;return{value:t*(a*ci+s*li+i*Ny),rest:r.slice(e[0].length)}}function Of(n){return Le(Ye.anyDigitsSigned,n)}function $e(n,r){switch(n){case 1:return Le(Ye.singleDigit,r);case 2:return Le(Ye.twoDigits,r);case 3:return Le(Ye.threeDigits,r);case 4:return Le(Ye.fourDigits,r);default:return Le(new RegExp("^\\d{1,"+n+"}"),r)}}function Fs(n,r){switch(n){case 1:return Le(Ye.singleDigitSigned,r);case 2:return Le(Ye.twoDigitsSigned,r);case 3:return Le(Ye.threeDigitsSigned,r);case 4:return Le(Ye.fourDigitsSigned,r);default:return Le(new RegExp("^-?\\d{1,"+n+"}"),r)}}function dl(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Pf(n,r){const e=r>0,t=e?r:1-r;let a;if(t<=50)a=n||100;else{const s=t+50,i=Math.trunc(s/100)*100,o=n>=s%100;a=n+i-(o?100:0)}return e?a:1-a}function Mf(n){return n%400===0||n%4===0&&n%100!==0}class Ab extends ge{constructor(){super(...arguments);q(this,"priority",130);q(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,a){const s=i=>({year:i,isTwoDigitYear:t==="yy"});switch(t){case"y":return Ge($e(4,e),s);case"yo":return Ge(a.ordinalNumber(e,{unit:"year"}),s);default:return Ge($e(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a){const s=e.getFullYear();if(a.isTwoDigitYear){const o=Pf(a.year,s);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const i=!("era"in t)||t.era===1?a.year:1-a.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class Rb extends ge{constructor(){super(...arguments);q(this,"priority",130);q(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,a){const s=i=>({year:i,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Ge($e(4,e),s);case"Yo":return Ge(a.ordinalNumber(e,{unit:"year"}),s);default:return Ge($e(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a,s){const i=ul(e,s);if(a.isTwoDigitYear){const l=Pf(a.year,i);return e.setFullYear(l,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Rt(e,s)}const o=!("era"in t)||t.era===1?a.year:1-a.year;return e.setFullYear(o,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Rt(e,s)}}class Lb extends ge{constructor(){super(...arguments);q(this,"priority",130);q(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return Fs(t==="R"?4:t.length,e)}set(e,t,a){const s=De(e,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Or(s)}}class Ib extends ge{constructor(){super(...arguments);q(this,"priority",130);q(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return Fs(t==="u"?4:t.length,e)}set(e,t,a){return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class Fb extends ge{constructor(){super(...arguments);q(this,"priority",120);q(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"Q":case"QQ":return $e(t.length,e);case"Qo":return a.ordinalNumber(e,{unit:"quarter"});case"QQQ":return a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(e,{width:"wide",context:"formatting"})||a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class $b extends ge{constructor(){super(...arguments);q(this,"priority",120);q(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"q":case"qq":return $e(t.length,e);case"qo":return a.ordinalNumber(e,{unit:"quarter"});case"qqq":return a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(e,{width:"wide",context:"standalone"})||a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class Yb extends ge{constructor(){super(...arguments);q(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);q(this,"priority",110)}parse(e,t,a){const s=i=>i-1;switch(t){case"M":return Ge(Le(Ye.month,e),s);case"MM":return Ge($e(2,e),s);case"Mo":return Ge(a.ordinalNumber(e,{unit:"month"}),s);case"MMM":return a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(e,{width:"wide",context:"formatting"})||a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}class Gb extends ge{constructor(){super(...arguments);q(this,"priority",110);q(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,a){const s=i=>i-1;switch(t){case"L":return Ge(Le(Ye.month,e),s);case"LL":return Ge($e(2,e),s);case"Lo":return Ge(a.ordinalNumber(e,{unit:"month"}),s);case"LLL":return a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(e,{width:"wide",context:"standalone"})||a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}function Wb(n,r,e){const t=Z(n,e==null?void 0:e.in),a=Nf(t,e)-r;return t.setDate(t.getDate()-a*7),Z(t,e==null?void 0:e.in)}class jb extends ge{constructor(){super(...arguments);q(this,"priority",100);q(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,a){switch(t){case"w":return Le(Ye.week,e);case"wo":return a.ordinalNumber(e,{unit:"week"});default:return $e(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a,s){return Rt(Wb(e,a,s),s)}}function Bb(n,r,e){const t=Z(n,e==null?void 0:e.in),a=cl(t,e)-r;return t.setDate(t.getDate()-a*7),t}class Hb extends ge{constructor(){super(...arguments);q(this,"priority",100);q(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,a){switch(t){case"I":return Le(Ye.week,e);case"Io":return a.ordinalNumber(e,{unit:"week"});default:return $e(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a){return Or(Bb(e,a))}}const Ub=[31,28,31,30,31,30,31,31,30,31,30,31],Vb=[31,29,31,30,31,30,31,31,30,31,30,31];class Kb extends ge{constructor(){super(...arguments);q(this,"priority",90);q(this,"subPriority",1);q(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"d":return Le(Ye.date,e);case"do":return a.ordinalNumber(e,{unit:"date"});default:return $e(t.length,e)}}validate(e,t){const a=e.getFullYear(),s=Mf(a),i=e.getMonth();return s?t>=1&&t<=Vb[i]:t>=1&&t<=Ub[i]}set(e,t,a){return e.setDate(a),e.setHours(0,0,0,0),e}}class zb extends ge{constructor(){super(...arguments);q(this,"priority",90);q(this,"subpriority",1);q(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,a){switch(t){case"D":case"DD":return Le(Ye.dayOfYear,e);case"Do":return a.ordinalNumber(e,{unit:"date"});default:return $e(t.length,e)}}validate(e,t){const a=e.getFullYear();return Mf(a)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,a){return e.setMonth(0,a),e.setHours(0,0,0,0),e}}function fl(n,r,e){var f,h,m,v,g,y,w,k;const t=ir(),a=(k=(w=(v=(m=e==null?void 0:e.weekStartsOn)!=null?m:(h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?v:t.weekStartsOn)!=null?w:(y=(g=t.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)!=null?k:0,s=Z(n,e==null?void 0:e.in),i=s.getDay(),l=(r%7+7)%7,u=7-a,d=r<0||r>6?r-(i+u)%7:(l+u)%7-(i+u)%7;return Mt(s,d,e)}class qb extends ge{constructor(){super(...arguments);q(this,"priority",90);q(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"E":case"EE":case"EEE":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=fl(e,a,s),e.setHours(0,0,0,0),e}}class Qb extends ge{constructor(){super(...arguments);q(this,"priority",90);q(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,a,s){const i=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(t){case"e":case"ee":return Ge($e(t.length,e),i);case"eo":return Ge(a.ordinalNumber(e,{unit:"day"}),i);case"eee":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeeee":return a.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=fl(e,a,s),e.setHours(0,0,0,0),e}}class Xb extends ge{constructor(){super(...arguments);q(this,"priority",90);q(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,a,s){const i=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(t){case"c":case"cc":return Ge($e(t.length,e),i);case"co":return Ge(a.ordinalNumber(e,{unit:"day"}),i);case"ccc":return a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"ccccc":return a.day(e,{width:"narrow",context:"standalone"});case"cccccc":return a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(e,{width:"wide",context:"standalone"})||a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=fl(e,a,s),e.setHours(0,0,0,0),e}}function Zb(n,r,e){const t=Z(n,e==null?void 0:e.in),a=Eb(t,e),s=r-a;return Mt(t,s,e)}class Jb extends ge{constructor(){super(...arguments);q(this,"priority",90);q(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,a){const s=i=>i===0?7:i;switch(t){case"i":case"ii":return $e(t.length,e);case"io":return a.ordinalNumber(e,{unit:"day"});case"iii":return Ge(a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return Ge(a.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Ge(a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Ge(a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,a){return e=Zb(e,a),e.setHours(0,0,0,0),e}}class ew extends ge{constructor(){super(...arguments);q(this,"priority",80);q(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,a){switch(t){case"a":case"aa":case"aaa":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(dl(a),0,0,0),e}}class tw extends ge{constructor(){super(...arguments);q(this,"priority",80);q(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,a){switch(t){case"b":case"bb":case"bbb":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(dl(a),0,0,0),e}}class nw extends ge{constructor(){super(...arguments);q(this,"priority",80);q(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,a){switch(t){case"B":case"BB":case"BBB":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(dl(a),0,0,0),e}}class rw extends ge{constructor(){super(...arguments);q(this,"priority",70);q(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,a){switch(t){case"h":return Le(Ye.hour12h,e);case"ho":return a.ordinalNumber(e,{unit:"hour"});default:return $e(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,a){const s=e.getHours()>=12;return s&&a<12?e.setHours(a+12,0,0,0):!s&&a===12?e.setHours(0,0,0,0):e.setHours(a,0,0,0),e}}class aw extends ge{constructor(){super(...arguments);q(this,"priority",70);q(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,a){switch(t){case"H":return Le(Ye.hour23h,e);case"Ho":return a.ordinalNumber(e,{unit:"hour"});default:return $e(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,a){return e.setHours(a,0,0,0),e}}class sw extends ge{constructor(){super(...arguments);q(this,"priority",70);q(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,a){switch(t){case"K":return Le(Ye.hour11h,e);case"Ko":return a.ordinalNumber(e,{unit:"hour"});default:return $e(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.getHours()>=12&&a<12?e.setHours(a+12,0,0,0):e.setHours(a,0,0,0),e}}class iw extends ge{constructor(){super(...arguments);q(this,"priority",70);q(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,a){switch(t){case"k":return Le(Ye.hour24h,e);case"ko":return a.ordinalNumber(e,{unit:"hour"});default:return $e(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,a){const s=a<=24?a%24:a;return e.setHours(s,0,0,0),e}}class ow extends ge{constructor(){super(...arguments);q(this,"priority",60);q(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"m":return Le(Ye.minute,e);case"mo":return a.ordinalNumber(e,{unit:"minute"});default:return $e(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setMinutes(a,0,0),e}}class lw extends ge{constructor(){super(...arguments);q(this,"priority",50);q(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"s":return Le(Ye.second,e);case"so":return a.ordinalNumber(e,{unit:"second"});default:return $e(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setSeconds(a,0),e}}class cw extends ge{constructor(){super(...arguments);q(this,"priority",30);q(this,"incompatibleTokens",["t","T"])}parse(e,t){const a=s=>Math.trunc(s*Math.pow(10,-t.length+3));return Ge($e(t.length,e),a)}set(e,t,a){return e.setMilliseconds(a),e}}class uw extends ge{constructor(){super(...arguments);q(this,"priority",10);q(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return Vt(Ut.basicOptionalMinutes,e);case"XX":return Vt(Ut.basic,e);case"XXXX":return Vt(Ut.basicOptionalSeconds,e);case"XXXXX":return Vt(Ut.extendedOptionalSeconds,e);case"XXX":default:return Vt(Ut.extended,e)}}set(e,t,a){return t.timestampIsSet?e:De(e,e.getTime()-Ms(e)-a)}}class dw extends ge{constructor(){super(...arguments);q(this,"priority",10);q(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return Vt(Ut.basicOptionalMinutes,e);case"xx":return Vt(Ut.basic,e);case"xxxx":return Vt(Ut.basicOptionalSeconds,e);case"xxxxx":return Vt(Ut.extendedOptionalSeconds,e);case"xxx":default:return Vt(Ut.extended,e)}}set(e,t,a){return t.timestampIsSet?e:De(e,e.getTime()-Ms(e)-a)}}class fw extends ge{constructor(){super(...arguments);q(this,"priority",40);q(this,"incompatibleTokens","*")}parse(e){return Of(e)}set(e,t,a){return[De(e,a*1e3),{timestampIsSet:!0}]}}class pw extends ge{constructor(){super(...arguments);q(this,"priority",20);q(this,"incompatibleTokens","*")}parse(e){return Of(e)}set(e,t,a){return[De(e,a),{timestampIsSet:!0}]}}const hw={G:new Tb,y:new Ab,Y:new Rb,R:new Lb,u:new Ib,Q:new Fb,q:new $b,M:new Yb,L:new Gb,w:new jb,I:new Hb,d:new Kb,D:new zb,E:new qb,e:new Qb,c:new Xb,i:new Jb,a:new ew,b:new tw,B:new nw,h:new rw,H:new aw,K:new sw,k:new iw,m:new ow,s:new lw,S:new cw,X:new uw,x:new dw,t:new fw,T:new pw},mw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gw=/^'([^]*?)'?$/,yw=/''/g,bw=/\S/,ww=/[a-zA-Z]/;function _w(n,r,e,t){var y,w,k,x,E,N,_,S,D,C,O,R,F,T,$,L,H,U;const a=()=>De((t==null?void 0:t.in)||e,NaN),s=Nb(),i=(w=(y=t==null?void 0:t.locale)!=null?y:s.locale)!=null?w:Sf,o=(C=(D=(N=(E=t==null?void 0:t.firstWeekContainsDate)!=null?E:(x=(k=t==null?void 0:t.locale)==null?void 0:k.options)==null?void 0:x.firstWeekContainsDate)!=null?N:s.firstWeekContainsDate)!=null?D:(S=(_=s.locale)==null?void 0:_.options)==null?void 0:S.firstWeekContainsDate)!=null?C:1,l=(U=(H=(T=(F=t==null?void 0:t.weekStartsOn)!=null?F:(R=(O=t==null?void 0:t.locale)==null?void 0:O.options)==null?void 0:R.weekStartsOn)!=null?T:s.weekStartsOn)!=null?H:(L=($=s.locale)==null?void 0:$.options)==null?void 0:L.weekStartsOn)!=null?U:0;if(!r)return n?a():Z(e,t==null?void 0:t.in);const u={firstWeekContainsDate:o,weekStartsOn:l,locale:i},d=[new Mb(t==null?void 0:t.in,e)],f=r.match(vw).map(A=>{const M=A[0];if(M in To){const K=To[M];return K(A,i.formatLong)}return A}).join("").match(mw),h=[];for(let A of f){!(t!=null&&t.useAdditionalWeekYearTokens)&&Cf(A)&&Ao(A,r,n),!(t!=null&&t.useAdditionalDayOfYearTokens)&&kf(A)&&Ao(A,r,n);const M=A[0],K=hw[M];if(K){const{incompatibleTokens:Y}=K;if(Array.isArray(Y)){const ie=h.find(ae=>Y.includes(ae.token)||ae.token===M);if(ie)throw new RangeError("The format string mustn't contain `".concat(ie.fullToken,"` and `").concat(A,"` at the same time"))}else if(K.incompatibleTokens==="*"&&h.length>0)throw new RangeError("The format string mustn't contain `".concat(A,"` and any other token at the same time"));h.push({token:M,fullToken:A});const ee=K.run(n,A,i.match,u);if(!ee)return a();d.push(ee.setter),n=ee.rest}else{if(M.match(ww))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");if(A==="''"?A="'":M==="'"&&(A=Dw(A)),n.indexOf(A)===0)n=n.slice(A.length);else return a()}}if(n.length>0&&bw.test(n))return a();const m=d.map(A=>A.priority).sort((A,M)=>M-A).filter((A,M,K)=>K.indexOf(A)===M).map(A=>d.filter(M=>M.priority===A).sort((M,K)=>K.subPriority-M.subPriority)).map(A=>A[0]);let v=Z(e,t==null?void 0:t.in);if(isNaN(+v))return a();const g={};for(const A of m){if(!A.validate(v,u))return a();const M=A.set(v,g,u);Array.isArray(M)?(v=M[0],Object.assign(g,M[1])):v=M}return v}function Dw(n){return n.match(gw)[1].replace(yw,"'")}function Tc(n,r,e){const[t,a]=en(e==null?void 0:e.in,n,r);return+Rt(t,e)==+Rt(a,e)}function Sw(n,r,e){const[t,a]=en(e==null?void 0:e.in,n,r);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()}function Nw(n,r,e){const[t,a]=en(e==null?void 0:e.in,n,r);return+Mo(t)==+Mo(a)}function Ew(n,r,e){const[t,a]=en(e==null?void 0:e.in,n,r);return t.getFullYear()===a.getFullYear()}function oa(n,r,e){const t=+Z(n,e==null?void 0:e.in),[a,s]=[+Z(r.start,e==null?void 0:e.in),+Z(r.end,e==null?void 0:e.in)].sort((i,o)=>i-o);return t>=a&&t<=s}function kw(n,r,e){return Mt(n,-r,e)}function Qr(n,r){var u;const e=()=>De(r==null?void 0:r.in,NaN),t=(u=r==null?void 0:r.additionalDigits)!=null?u:2,a=Pw(n);let s;if(a.date){const d=Mw(a.date,t);s=Tw(d.restDateString,d.year)}if(!s||isNaN(+s))return e();const i=+s;let o=0,l;if(a.time&&(o=Aw(a.time),isNaN(o)))return e();if(a.timezone){if(l=Rw(a.timezone),isNaN(l))return e()}else{const d=new Date(i+o),f=Z(0,r==null?void 0:r.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Z(i+o+l,r==null?void 0:r.in)}const Ka={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Cw=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xw=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ow=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Pw(n){const r={},e=n.split(Ka.dateTimeDelimiter);let t;if(e.length>2)return r;if(/:/.test(e[0])?t=e[0]:(r.date=e[0],t=e[1],Ka.timeZoneDelimiter.test(r.date)&&(r.date=n.split(Ka.timeZoneDelimiter)[0],t=n.substr(r.date.length,n.length))),t){const a=Ka.timezone.exec(t);a?(r.time=t.replace(a[1],""),r.timezone=a[1]):r.time=t}return r}function Mw(n,r){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),t=n.match(e);if(!t)return{year:NaN,restDateString:""};const a=t[1]?parseInt(t[1]):null,s=t[2]?parseInt(t[2]):null;return{year:s===null?a:s*100,restDateString:n.slice((t[1]||t[2]).length)}}function Tw(n,r){if(r===null)return new Date(NaN);const e=n.match(Cw);if(!e)return new Date(NaN);const t=!!e[4],a=Kr(e[1]),s=Kr(e[2])-1,i=Kr(e[3]),o=Kr(e[4]),l=Kr(e[5])-1;if(t)return Yw(r,o,l)?Lw(r,o,l):new Date(NaN);{const u=new Date(0);return!Fw(r,s,i)||!$w(r,a)?new Date(NaN):(u.setUTCFullYear(r,s,Math.max(a,i)),u)}}function Kr(n){return n?parseInt(n):1}function Aw(n){const r=n.match(xw);if(!r)return NaN;const e=Bi(r[1]),t=Bi(r[2]),a=Bi(r[3]);return Gw(e,t,a)?e*ci+t*li+a*1e3:NaN}function Bi(n){return n&&parseFloat(n.replace(",","."))||0}function Rw(n){if(n==="Z")return 0;const r=n.match(Ow);if(!r)return 0;const e=r[1]==="+"?-1:1,t=parseInt(r[2]),a=r[3]&&parseInt(r[3])||0;return Ww(t,a)?e*(t*ci+a*li):NaN}function Lw(n,r,e){const t=new Date(0);t.setUTCFullYear(n,0,4);const a=t.getUTCDay()||7,s=(r-1)*7+e+1-a;return t.setUTCDate(t.getUTCDate()+s),t}const Iw=[31,null,31,30,31,30,31,31,30,31,30,31];function Tf(n){return n%400===0||n%4===0&&n%100!==0}function Fw(n,r,e){return r>=0&&r<=11&&e>=1&&e<=(Iw[r]||(Tf(n)?29:28))}function $w(n,r){return r>=1&&r<=(Tf(n)?366:365)}function Yw(n,r,e){return r>=1&&r<=53&&e>=0&&e<=6}function Gw(n,r,e){return n===24?r===0&&e===0:e>=0&&e<60&&r>=0&&r<60&&n>=0&&n<25}function Ww(n,r){return r>=0&&r<=59}function wt(n,r,e){const t=Z(n,e==null?void 0:e.in),a=t.getFullYear(),s=t.getDate(),i=De((e==null?void 0:e.in)||n,0);i.setFullYear(a,r,15),i.setHours(0,0,0,0);const o=Sb(i);return t.setMonth(r,Math.min(s,o)),t}function cs(n,r,e){const t=Z(n,e==null?void 0:e.in);return t.setHours(r),t}function us(n,r,e){const t=Z(n,e==null?void 0:e.in);return t.setMinutes(r),t}function mr(n,r,e){const t=Z(n,e==null?void 0:e.in),a=Math.trunc(t.getMonth()/3)+1,s=r-a;return wt(t,t.getMonth()+s*3)}function ds(n,r,e){const t=Z(n,e==null?void 0:e.in);return t.setSeconds(r),t}function Gt(n,r,e){const t=Z(n,e==null?void 0:e.in);return isNaN(+t)?De((e==null?void 0:e.in)||n,NaN):(t.setFullYear(r),t)}function Un(n,r,e){return At(n,-r,e)}function Af(n,r,e){return ll(n,-r,e)}function Ac(n,r,e){return Ts(n,-r,e)}function Tr(n,r,e){return un(n,-r,e)}function zr(n,r){if(n.one!==void 0&&r===1)return n.one;const e=r%10,t=r%100;return e===1&&t!==11?n.singularNominative.replace("{{count}}",String(r)):e>=2&&e<=4&&(t<10||t>20)?n.singularGenitive.replace("{{count}}",String(r)):n.pluralGenitive.replace("{{count}}",String(r))}function at(n){return(r,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?n.future?zr(n.future,r):"через "+zr(n.regular,r):n.past?zr(n.past,r):zr(n.regular,r)+" назад":zr(n.regular,r)}const jw={lessThanXSeconds:at({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:at({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(n,r)=>r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:at({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:at({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:at({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:at({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:at({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:at({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:at({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:at({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:at({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:at({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:at({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:at({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:at({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},Bw=(n,r,e)=>jw[n](r,e),Hw={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},Uw={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},Vw={any:"{{date}}, {{time}}"},Kw={date:br({formats:Hw,defaultWidth:"full"}),time:br({formats:Uw,defaultWidth:"full"}),dateTime:br({formats:Vw,defaultWidth:"any"})},pl=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function zw(n){const r=pl[n];switch(n){case 0:return"'в прошлое "+r+" в' p";case 1:case 2:case 4:return"'в прошлый "+r+" в' p";case 3:case 5:case 6:return"'в прошлую "+r+" в' p"}}function Rc(n){const r=pl[n];return n===2?"'во "+r+" в' p":"'в "+r+" в' p"}function qw(n){const r=pl[n];switch(n){case 0:return"'в следующее "+r+" в' p";case 1:case 2:case 4:return"'в следующий "+r+" в' p";case 3:case 5:case 6:return"'в следующую "+r+" в' p"}}const Qw={lastWeek:(n,r,e)=>{const t=n.getDay();return Tc(n,r,e)?Rc(t):zw(t)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(n,r,e)=>{const t=n.getDay();return Tc(n,r,e)?Rc(t):qw(t)},other:"P"},Xw=(n,r,e,t)=>{const a=Qw[n];return typeof a=="function"?a(r,e,t):a},Zw={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},Jw={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},e_={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},t_={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},n_={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},r_={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},a_={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},s_=(n,r)=>{const e=Number(n),t=r==null?void 0:r.unit;let a;return t==="date"?a="-е":t==="week"||t==="minute"||t==="second"?a="-я":a="-й",e+a},i_={ordinalNumber:s_,era:Bt({values:Zw,defaultWidth:"wide"}),quarter:Bt({values:Jw,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Bt({values:e_,defaultWidth:"wide",formattingValues:t_,defaultFormattingWidth:"wide"}),day:Bt({values:n_,defaultWidth:"wide"}),dayPeriod:Bt({values:r_,defaultWidth:"any",formattingValues:a_,defaultFormattingWidth:"wide"})},o_=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,l_=/\d+/i,c_={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},u_={any:[/^д/i,/^н/i]},d_={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},f_={any:[/1/i,/2/i,/3/i,/4/i]},p_={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},h_={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},m_={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},v_={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},g_={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},y_={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},b_={ordinalNumber:Df({matchPattern:o_,parsePattern:l_,valueCallback:n=>parseInt(n,10)}),era:Ht({matchPatterns:c_,defaultMatchWidth:"wide",parsePatterns:u_,defaultParseWidth:"any"}),quarter:Ht({matchPatterns:d_,defaultMatchWidth:"wide",parsePatterns:f_,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ht({matchPatterns:p_,defaultMatchWidth:"wide",parsePatterns:h_,defaultParseWidth:"any"}),day:Ht({matchPatterns:m_,defaultMatchWidth:"wide",parsePatterns:v_,defaultParseWidth:"any"}),dayPeriod:Ht({matchPatterns:g_,defaultMatchWidth:"wide",parsePatterns:y_,defaultParseWidth:"any"})},hl={code:"ru",formatDistance:Bw,formatLong:Kw,formatRelative:Xw,localize:i_,match:b_,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Rf(n){var r,e,t="";if(typeof n=="string"||typeof n=="number")t+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(r=0;r<a;r++)n[r]&&(e=Rf(n[r]))&&(t&&(t+=" "),t+=e)}else for(e in n)n[e]&&(t&&(t+=" "),t+=e);return t}function Je(){for(var n,r,e=0,t="",a=arguments.length;e<a;e++)(n=arguments[e])&&(r=Rf(n))&&(t&&(t+=" "),t+=r);return t}function di(){return typeof window<"u"}function Hr(n){return Lf(n)?(n.nodeName||"").toLowerCase():"#document"}function mt(n){var r;return(n==null||(r=n.ownerDocument)==null?void 0:r.defaultView)||window}function tn(n){var r;return(r=(Lf(n)?n.ownerDocument:n.document)||window.document)==null?void 0:r.documentElement}function Lf(n){return di()?n instanceof Node||n instanceof mt(n).Node:!1}function lt(n){return di()?n instanceof Element||n instanceof mt(n).Element:!1}function Jt(n){return di()?n instanceof HTMLElement||n instanceof mt(n).HTMLElement:!1}function Lc(n){return!di()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof mt(n).ShadowRoot}function Da(n){const{overflow:r,overflowX:e,overflowY:t,display:a}=kt(n);return/auto|scroll|overlay|hidden|clip/.test(r+t+e)&&!["inline","contents"].includes(a)}function w_(n){return["table","td","th"].includes(Hr(n))}function fi(n){return[":popover-open",":modal"].some(r=>{try{return n.matches(r)}catch(e){return!1}})}function ml(n){const r=vl(),e=lt(n)?kt(n):n;return["transform","translate","scale","rotate","perspective"].some(t=>e[t]?e[t]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!r&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!r&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(t=>(e.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(e.contain||"").includes(t))}function __(n){let r=On(n);for(;Jt(r)&&!Ar(r);){if(ml(r))return r;if(fi(r))return null;r=On(r)}return null}function vl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ar(n){return["html","body","#document"].includes(Hr(n))}function kt(n){return mt(n).getComputedStyle(n)}function pi(n){return lt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function On(n){if(Hr(n)==="html")return n;const r=n.assignedSlot||n.parentNode||Lc(n)&&n.host||tn(n);return Lc(r)?r.host:r}function If(n){const r=On(n);return Ar(r)?n.ownerDocument?n.ownerDocument.body:n.body:Jt(r)&&Da(r)?r:If(r)}function la(n,r,e){var t;r===void 0&&(r=[]),e===void 0&&(e=!0);const a=If(n),s=a===((t=n.ownerDocument)==null?void 0:t.body),i=mt(a);if(s){const o=Lo(i);return r.concat(i,i.visualViewport||[],Da(a)?a:[],o&&e?la(o):[])}return r.concat(a,la(a,[],e))}function Lo(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Rr=Math.min,Vn=Math.max,$s=Math.round,za=Math.floor,Zt=n=>({x:n,y:n}),D_={left:"right",right:"left",bottom:"top",top:"bottom"},S_={start:"end",end:"start"};function N_(n,r,e){return Vn(n,Rr(r,e))}function hi(n,r){return typeof n=="function"?n(r):n}function Lr(n){return n.split("-")[0]}function Sa(n){return n.split("-")[1]}function E_(n){return n==="x"?"y":"x"}function gl(n){return n==="y"?"height":"width"}function ca(n){return["top","bottom"].includes(Lr(n))?"y":"x"}function yl(n){return E_(ca(n))}function k_(n,r,e){e===void 0&&(e=!1);const t=Sa(n),a=yl(n),s=gl(a);let i=a==="x"?t===(e?"end":"start")?"right":"left":t==="start"?"bottom":"top";return r.reference[s]>r.floating[s]&&(i=Ys(i)),[i,Ys(i)]}function C_(n){const r=Ys(n);return[Io(n),r,Io(r)]}function Io(n){return n.replace(/start|end/g,r=>S_[r])}function x_(n,r,e){const t=["left","right"],a=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(n){case"top":case"bottom":return e?r?a:t:r?t:a;case"left":case"right":return r?s:i;default:return[]}}function O_(n,r,e,t){const a=Sa(n);let s=x_(Lr(n),e==="start",t);return a&&(s=s.map(i=>i+"-"+a),r&&(s=s.concat(s.map(Io)))),s}function Ys(n){return n.replace(/left|right|bottom|top/g,r=>D_[r])}function P_(n){return{top:0,right:0,bottom:0,left:0,...n}}function Ff(n){return typeof n!="number"?P_(n):{top:n,right:n,bottom:n,left:n}}function Gs(n){const{x:r,y:e,width:t,height:a}=n;return{width:t,height:a,top:e,left:r,right:r+t,bottom:e+a,x:r,y:e}}function Ic(n,r,e){let{reference:t,floating:a}=n;const s=ca(r),i=yl(r),o=gl(i),l=Lr(r),u=s==="y",d=t.x+t.width/2-a.width/2,f=t.y+t.height/2-a.height/2,h=t[o]/2-a[o]/2;let m;switch(l){case"top":m={x:d,y:t.y-a.height};break;case"bottom":m={x:d,y:t.y+t.height};break;case"right":m={x:t.x+t.width,y:f};break;case"left":m={x:t.x-a.width,y:f};break;default:m={x:t.x,y:t.y}}switch(Sa(r)){case"start":m[i]-=h*(e&&u?-1:1);break;case"end":m[i]+=h*(e&&u?-1:1);break}return m}const M_=async(n,r,e)=>{const{placement:t="bottom",strategy:a="absolute",middleware:s=[],platform:i}=e,o=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(r));let u=await i.getElementRects({reference:n,floating:r,strategy:a}),{x:d,y:f}=Ic(u,t,l),h=t,m={},v=0;for(let g=0;g<o.length;g++){const{name:y,fn:w}=o[g],{x:k,y:x,data:E,reset:N}=await w({x:d,y:f,initialPlacement:t,placement:h,strategy:a,middlewareData:m,rects:u,platform:i,elements:{reference:n,floating:r}});d=k!=null?k:d,f=x!=null?x:f,m={...m,[y]:{...m[y],...E}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:n,floating:r,strategy:a}):N.rects),{x:d,y:f}=Ic(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function T_(n,r){var e;r===void 0&&(r={});const{x:t,y:a,platform:s,rects:i,elements:o,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=hi(r,n),v=Ff(m),y=o[h?f==="floating"?"reference":"floating":f],w=Gs(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(y)))==null||e?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),k=f==="floating"?{x:t,y:a,width:i.floating.width,height:i.floating.height}:i.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),E=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},N=Gs(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:k,offsetParent:x,strategy:l}):k);return{top:(w.top-N.top+v.top)/E.y,bottom:(N.bottom-w.bottom+v.bottom)/E.y,left:(w.left-N.left+v.left)/E.x,right:(N.right-w.right+v.right)/E.x}}const A_=n=>({name:"arrow",options:n,async fn(r){const{x:e,y:t,placement:a,rects:s,platform:i,elements:o,middlewareData:l}=r,{element:u,padding:d=0}=hi(n,r)||{};if(u==null)return{};const f=Ff(d),h={x:e,y:t},m=yl(a),v=gl(m),g=await i.getDimensions(u),y=m==="y",w=y?"top":"left",k=y?"bottom":"right",x=y?"clientHeight":"clientWidth",E=s.reference[v]+s.reference[m]-h[m]-s.floating[v],N=h[m]-s.reference[m],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=_?_[x]:0;(!S||!await(i.isElement==null?void 0:i.isElement(_)))&&(S=o.floating[x]||s.floating[v]);const D=E/2-N/2,C=S/2-g[v]/2-1,O=Rr(f[w],C),R=Rr(f[k],C),F=O,T=S-g[v]-R,$=S/2-g[v]/2+D,L=N_(F,$,T),H=!l.arrow&&Sa(a)!=null&&$!==L&&s.reference[v]/2-($<F?O:R)-g[v]/2<0,U=H?$<F?$-F:$-T:0;return{[m]:h[m]+U,data:{[m]:L,centerOffset:$-L-U,...H&&{alignmentOffset:U}},reset:H}}}),R_=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(r){var e,t;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:l,elements:u}=r,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=hi(n,r);if((e=s.arrow)!=null&&e.alignmentOffset)return{};const w=Lr(a),k=ca(o),x=Lr(o)===o,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=h||(x||!g?[Ys(o)]:C_(o)),_=v!=="none";!h&&_&&N.push(...O_(o,g,v,E));const S=[o,...N],D=await T_(r,y),C=[];let O=((t=s.flip)==null?void 0:t.overflows)||[];if(d&&C.push(D[w]),f){const $=k_(a,i,E);C.push(D[$[0]],D[$[1]])}if(O=[...O,{placement:a,overflows:C}],!C.every($=>$<=0)){var R,F;const $=(((R=s.flip)==null?void 0:R.index)||0)+1,L=S[$];if(L)return{data:{index:$,overflows:O},reset:{placement:L}};let H=(F=O.filter(U=>U.overflows[0]<=0).sort((U,A)=>U.overflows[1]-A.overflows[1])[0])==null?void 0:F.placement;if(!H)switch(m){case"bestFit":{var T;const U=(T=O.filter(A=>{if(_){const M=ca(A.placement);return M===k||M==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(M=>M>0).reduce((M,K)=>M+K,0)]).sort((A,M)=>A[1]-M[1])[0])==null?void 0:T[0];U&&(H=U);break}case"initialPlacement":H=o;break}if(a!==H)return{reset:{placement:H}}}return{}}}};async function L_(n,r){const{placement:e,platform:t,elements:a}=n,s=await(t.isRTL==null?void 0:t.isRTL(a.floating)),i=Lr(e),o=Sa(e),l=ca(e)==="y",u=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,f=hi(r,n);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(m=o==="end"?v*-1:v),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const I_=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(r){var e,t;const{x:a,y:s,placement:i,middlewareData:o}=r,l=await L_(r,n);return i===((e=o.offset)==null?void 0:e.placement)&&(t=o.arrow)!=null&&t.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:i}}}}};function $f(n){const r=kt(n);let e=parseFloat(r.width)||0,t=parseFloat(r.height)||0;const a=Jt(n),s=a?n.offsetWidth:e,i=a?n.offsetHeight:t,o=$s(e)!==s||$s(t)!==i;return o&&(e=s,t=i),{width:e,height:t,$:o}}function bl(n){return lt(n)?n:n.contextElement}function wr(n){const r=bl(n);if(!Jt(r))return Zt(1);const e=r.getBoundingClientRect(),{width:t,height:a,$:s}=$f(r);let i=(s?$s(e.width):e.width)/t,o=(s?$s(e.height):e.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const F_=Zt(0);function Yf(n){const r=mt(n);return!vl()||!r.visualViewport?F_:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function $_(n,r,e){return r===void 0&&(r=!1),!e||r&&e!==mt(n)?!1:r}function er(n,r,e,t){r===void 0&&(r=!1),e===void 0&&(e=!1);const a=n.getBoundingClientRect(),s=bl(n);let i=Zt(1);r&&(t?lt(t)&&(i=wr(t)):i=wr(n));const o=$_(s,e,t)?Yf(s):Zt(0);let l=(a.left+o.x)/i.x,u=(a.top+o.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=mt(s),m=t&&lt(t)?mt(t):t;let v=h,g=Lo(v);for(;g&&t&&m!==v;){const y=wr(g),w=g.getBoundingClientRect(),k=kt(g),x=w.left+(g.clientLeft+parseFloat(k.paddingLeft))*y.x,E=w.top+(g.clientTop+parseFloat(k.paddingTop))*y.y;l*=y.x,u*=y.y,d*=y.x,f*=y.y,l+=x,u+=E,v=mt(g),g=Lo(v)}}return Gs({width:d,height:f,x:l,y:u})}function wl(n,r){const e=pi(n).scrollLeft;return r?r.left+e:er(tn(n)).left+e}function Gf(n,r,e){e===void 0&&(e=!1);const t=n.getBoundingClientRect(),a=t.left+r.scrollLeft-(e?0:wl(n,t)),s=t.top+r.scrollTop;return{x:a,y:s}}function Y_(n){let{elements:r,rect:e,offsetParent:t,strategy:a}=n;const s=a==="fixed",i=tn(t),o=r?fi(r.floating):!1;if(t===i||o&&s)return e;let l={scrollLeft:0,scrollTop:0},u=Zt(1);const d=Zt(0),f=Jt(t);if((f||!f&&!s)&&((Hr(t)!=="body"||Da(i))&&(l=pi(t)),Jt(t))){const m=er(t);u=wr(t),d.x=m.x+t.clientLeft,d.y=m.y+t.clientTop}const h=i&&!f&&!s?Gf(i,l,!0):Zt(0);return{width:e.width*u.x,height:e.height*u.y,x:e.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:e.y*u.y-l.scrollTop*u.y+d.y+h.y}}function G_(n){return Array.from(n.getClientRects())}function W_(n){const r=tn(n),e=pi(n),t=n.ownerDocument.body,a=Vn(r.scrollWidth,r.clientWidth,t.scrollWidth,t.clientWidth),s=Vn(r.scrollHeight,r.clientHeight,t.scrollHeight,t.clientHeight);let i=-e.scrollLeft+wl(n);const o=-e.scrollTop;return kt(t).direction==="rtl"&&(i+=Vn(r.clientWidth,t.clientWidth)-a),{width:a,height:s,x:i,y:o}}function j_(n,r){const e=mt(n),t=tn(n),a=e.visualViewport;let s=t.clientWidth,i=t.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;const u=vl();(!u||u&&r==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o,y:l}}function B_(n,r){const e=er(n,!0,r==="fixed"),t=e.top+n.clientTop,a=e.left+n.clientLeft,s=Jt(n)?wr(n):Zt(1),i=n.clientWidth*s.x,o=n.clientHeight*s.y,l=a*s.x,u=t*s.y;return{width:i,height:o,x:l,y:u}}function Fc(n,r,e){let t;if(r==="viewport")t=j_(n,e);else if(r==="document")t=W_(tn(n));else if(lt(r))t=B_(r,e);else{const a=Yf(n);t={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return Gs(t)}function Wf(n,r){const e=On(n);return e===r||!lt(e)||Ar(e)?!1:kt(e).position==="fixed"||Wf(e,r)}function H_(n,r){const e=r.get(n);if(e)return e;let t=la(n,[],!1).filter(o=>lt(o)&&Hr(o)!=="body"),a=null;const s=kt(n).position==="fixed";let i=s?On(n):n;for(;lt(i)&&!Ar(i);){const o=kt(i),l=ml(i);!l&&o.position==="fixed"&&(a=null),(s?!l&&!a:!l&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Da(i)&&!l&&Wf(n,i))?t=t.filter(d=>d!==i):a=o,i=On(i)}return r.set(n,t),t}function U_(n){let{element:r,boundary:e,rootBoundary:t,strategy:a}=n;const i=[...e==="clippingAncestors"?fi(r)?[]:H_(r,this._c):[].concat(e),t],o=i[0],l=i.reduce((u,d)=>{const f=Fc(r,d,a);return u.top=Vn(f.top,u.top),u.right=Rr(f.right,u.right),u.bottom=Rr(f.bottom,u.bottom),u.left=Vn(f.left,u.left),u},Fc(r,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function V_(n){const{width:r,height:e}=$f(n);return{width:r,height:e}}function K_(n,r,e){const t=Jt(r),a=tn(r),s=e==="fixed",i=er(n,!0,s,r);let o={scrollLeft:0,scrollTop:0};const l=Zt(0);if(t||!t&&!s)if((Hr(r)!=="body"||Da(a))&&(o=pi(r)),t){const h=er(r,!0,s,r);l.x=h.x+r.clientLeft,l.y=h.y+r.clientTop}else a&&(l.x=wl(a));const u=a&&!t&&!s?Gf(a,o):Zt(0),d=i.left+o.scrollLeft-l.x-u.x,f=i.top+o.scrollTop-l.y-u.y;return{x:d,y:f,width:i.width,height:i.height}}function Hi(n){return kt(n).position==="static"}function $c(n,r){if(!Jt(n)||kt(n).position==="fixed")return null;if(r)return r(n);let e=n.offsetParent;return tn(n)===e&&(e=e.ownerDocument.body),e}function jf(n,r){const e=mt(n);if(fi(n))return e;if(!Jt(n)){let a=On(n);for(;a&&!Ar(a);){if(lt(a)&&!Hi(a))return a;a=On(a)}return e}let t=$c(n,r);for(;t&&w_(t)&&Hi(t);)t=$c(t,r);return t&&Ar(t)&&Hi(t)&&!ml(t)?e:t||__(n)||e}const z_=async function(n){const r=this.getOffsetParent||jf,e=this.getDimensions,t=await e(n.floating);return{reference:K_(n.reference,await r(n.floating),n.strategy),floating:{x:0,y:0,width:t.width,height:t.height}}};function q_(n){return kt(n).direction==="rtl"}const Q_={convertOffsetParentRelativeRectToViewportRelativeRect:Y_,getDocumentElement:tn,getClippingRect:U_,getOffsetParent:jf,getElementRects:z_,getClientRects:G_,getDimensions:V_,getScale:wr,isElement:lt,isRTL:q_};function Bf(n,r){return n.x===r.x&&n.y===r.y&&n.width===r.width&&n.height===r.height}function X_(n,r){let e=null,t;const a=tn(n);function s(){var o;clearTimeout(t),(o=e)==null||o.disconnect(),e=null}function i(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=n.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(o||r(),!h||!m)return;const v=za(f),g=za(a.clientWidth-(d+h)),y=za(a.clientHeight-(f+m)),w=za(d),x={rootMargin:-v+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Vn(0,Rr(1,l))||1};let E=!0;function N(_){const S=_[0].intersectionRatio;if(S!==l){if(!E)return i();S?i(!1,S):t=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!Bf(u,n.getBoundingClientRect())&&i(),E=!1}try{e=new IntersectionObserver(N,{...x,root:a.ownerDocument})}catch(_){e=new IntersectionObserver(N,x)}e.observe(n)}return i(!0),s}function Z_(n,r,e,t){t===void 0&&(t={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=t,u=bl(n),d=a||s?[...u?la(u):[],...la(r)]:[];d.forEach(w=>{a&&w.addEventListener("scroll",e,{passive:!0}),s&&w.addEventListener("resize",e)});const f=u&&o?X_(u,e):null;let h=-1,m=null;i&&(m=new ResizeObserver(w=>{let[k]=w;k&&k.target===u&&m&&(m.unobserve(r),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(r)})),e()}),u&&!l&&m.observe(u),m.observe(r));let v,g=l?er(n):null;l&&y();function y(){const w=er(n);g&&!Bf(g,w)&&e(),g=w,v=requestAnimationFrame(y)}return e(),()=>{var w;d.forEach(k=>{a&&k.removeEventListener("scroll",e),s&&k.removeEventListener("resize",e)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const J_=I_,e0=R_,Yc=A_,t0=(n,r,e)=>{const t=new Map,a={platform:Q_,...e},s={...a.platform,_c:t};return M_(n,r,{...a,platform:s})};var fs=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Ws(n,r){if(n===r)return!0;if(typeof n!=typeof r)return!1;if(typeof n=="function"&&n.toString()===r.toString())return!0;let e,t,a;if(n&&r&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==r.length)return!1;for(t=e;t--!==0;)if(!Ws(n[t],r[t]))return!1;return!0}if(a=Object.keys(n),e=a.length,e!==Object.keys(r).length)return!1;for(t=e;t--!==0;)if(!{}.hasOwnProperty.call(r,a[t]))return!1;for(t=e;t--!==0;){const s=a[t];if(!(s==="_owner"&&n.$$typeof)&&!Ws(n[s],r[s]))return!1}return!0}return n!==n&&r!==r}function Hf(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Gc(n,r){const e=Hf(n);return Math.round(r*e)/e}function Ui(n){const r=p.useRef(n);return fs(()=>{r.current=n}),r}function n0(n){n===void 0&&(n={});const{placement:r="bottom",strategy:e="absolute",middleware:t=[],platform:a,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:l,open:u}=n,[d,f]=p.useState({x:0,y:0,strategy:e,placement:r,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(t);Ws(h,t)||m(t);const[v,g]=p.useState(null),[y,w]=p.useState(null),k=p.useCallback(A=>{A!==_.current&&(_.current=A,g(A))},[]),x=p.useCallback(A=>{A!==S.current&&(S.current=A,w(A))},[]),E=s||v,N=i||y,_=p.useRef(null),S=p.useRef(null),D=p.useRef(d),C=l!=null,O=Ui(l),R=Ui(a),F=Ui(u),T=p.useCallback(()=>{if(!_.current||!S.current)return;const A={placement:r,strategy:e,middleware:h};R.current&&(A.platform=R.current),t0(_.current,S.current,A).then(M=>{const K={...M,isPositioned:F.current!==!1};$.current&&!Ws(D.current,K)&&(D.current=K,ua.flushSync(()=>{f(K)}))})},[h,r,e,R,F]);fs(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const $=p.useRef(!1);fs(()=>($.current=!0,()=>{$.current=!1}),[]),fs(()=>{if(E&&(_.current=E),N&&(S.current=N),E&&N){if(O.current)return O.current(E,N,T);T()}},[E,N,T,O,C]);const L=p.useMemo(()=>({reference:_,floating:S,setReference:k,setFloating:x}),[k,x]),H=p.useMemo(()=>({reference:E,floating:N}),[E,N]),U=p.useMemo(()=>{const A={position:e,left:0,top:0};if(!H.floating)return A;const M=Gc(H.floating,d.x),K=Gc(H.floating,d.y);return o?{...A,transform:"translate("+M+"px, "+K+"px)",...Hf(H.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:M,top:K}},[e,o,H.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:T,refs:L,elements:H,floatingStyles:U}),[d,T,L,H,U])}const r0=n=>{function r(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:t,padding:a}=typeof n=="function"?n(e):n;return t&&r(t)?t.current!=null?Yc({element:t.current,padding:a}).fn(e):{}:t?Yc({element:t,padding:a}).fn(e):{}}}},a0=(n,r)=>({...J_(n),options:[n,r]}),s0=(n,r)=>({...e0(n),options:[n,r]}),i0=(n,r)=>({...r0(n),options:[n,r]}),Uf={...gh},o0=Uf.useInsertionEffect,l0=o0||(n=>n());function c0(n){const r=p.useRef(()=>{});return l0(()=>{r.current=n}),p.useCallback(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r.current==null?void 0:r.current(...t)},[])}var js=typeof document<"u"?p.useLayoutEffect:p.useEffect;let Wc=!1,u0=0;const jc=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+u0++;function d0(){const[n,r]=p.useState(()=>Wc?jc():void 0);return js(()=>{n==null&&r(jc())},[]),p.useEffect(()=>{Wc=!0},[]),n}const f0=Uf.useId,Vf=f0||d0,p0=p.forwardRef(function(r,e){const{context:{placement:t,elements:{floating:a},middlewareData:{arrow:s,shift:i}},width:o=14,height:l=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:h,d:m,style:{transform:v,...g}={},...y}=r,w=Vf(),[k,x]=p.useState(!1);if(js(()=>{if(!a)return;kt(a).direction==="rtl"&&x(!0)},[a]),!a)return null;const[E,N]=t.split("-"),_=E==="top"||E==="bottom";let S=f;(_&&i!=null&&i.x||!_&&i!=null&&i.y)&&(S=null);const D=d*2,C=D/2,O=o/2*(u/-8+1),R=l/2*u/4,F=!!m,T=S&&N==="end"?"bottom":"top";let $=S&&N==="end"?"right":"left";S&&k&&($=N==="end"?"left":"right");const L=(s==null?void 0:s.x)!=null?S||s.x:"",H=(s==null?void 0:s.y)!=null?S||s.y:"",U=m||"M0,0"+(" H"+o)+(" L"+(o-O)+","+(l-R))+(" Q"+o/2+","+l+" "+O+","+(l-R))+" Z",A={top:F?"rotate(180deg)":"",left:F?"rotate(90deg)":"rotate(-90deg)",bottom:F?"":"rotate(180deg)",right:F?"rotate(-90deg)":"rotate(90deg)"}[E];return b("svg",{...y,"aria-hidden":!0,ref:e,width:F?o:o+D,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[$]:L,[T]:H,[E]:_||F?"100%":"calc(100% - "+D/2+"px)",transform:[A,v].filter(M=>!!M).join(" "),...g},children:[D>0&&c("path",{clipPath:"url(#"+w+")",fill:"none",stroke:h,strokeWidth:D+(m?0:1),d:U}),c("path",{stroke:D&&!m?y.fill:"none",d:U}),c("clipPath",{id:w,children:c("rect",{x:-C,y:C*(F?-1:1),width:o+D,height:o})})]})});function h0(){const n=new Map;return{emit(r,e){var t;(t=n.get(r))==null||t.forEach(a=>a(e))},on(r,e){n.set(r,[...n.get(r)||[],e])},off(r,e){var t;n.set(r,((t=n.get(r))==null?void 0:t.filter(a=>a!==e))||[])}}}const m0=p.createContext(null),v0=p.createContext(null),g0=()=>{var n;return((n=p.useContext(m0))==null?void 0:n.id)||null},y0=()=>p.useContext(v0);function b0(n){const{open:r=!1,onOpenChange:e,elements:t}=n,a=Vf(),s=p.useRef({}),[i]=p.useState(()=>h0()),o=g0()!=null,[l,u]=p.useState(t.reference),d=c0((m,v,g)=>{s.current.openEvent=m?v:void 0,i.emit("openchange",{open:m,event:v,reason:g,nested:o}),e==null||e(m,v,g)}),f=p.useMemo(()=>({setPositionReference:u}),[]),h=p.useMemo(()=>({reference:l||t.reference||null,floating:t.floating||null,domReference:t.reference}),[l,t.reference,t.floating]);return p.useMemo(()=>({dataRef:s,open:r,onOpenChange:d,elements:h,events:i,floatingId:a,refs:f}),[r,d,h,i,a,f])}function w0(n){n===void 0&&(n={});const{nodeId:r}=n,e=b0({...n,elements:{reference:null,floating:null,...n.elements}}),t=n.rootContext||e,a=t.elements,[s,i]=p.useState(null),[o,l]=p.useState(null),d=(a==null?void 0:a.domReference)||s,f=p.useRef(null),h=y0();js(()=>{d&&(f.current=d)},[d]);const m=n0({...n,elements:{...a,...o&&{reference:o}}}),v=p.useCallback(x=>{const E=lt(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),getClientRects:()=>x.getClientRects(),contextElement:x}:x;l(E),m.refs.setReference(E)},[m.refs]),g=p.useCallback(x=>{(lt(x)||x===null)&&(f.current=x,i(x)),(lt(m.refs.reference.current)||m.refs.reference.current===null||x!==null&&!lt(x))&&m.refs.setReference(x)},[m.refs]),y=p.useMemo(()=>({...m.refs,setReference:g,setPositionReference:v,domReference:f}),[m.refs,g,v]),w=p.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),k=p.useMemo(()=>({...m,...t,refs:y,elements:w,nodeId:r}),[m,y,w,r,t]);return js(()=>{t.dataRef.current.floatingContext=k;const x=h==null?void 0:h.nodesRef.current.find(E=>E.id===r);x&&(x.context=k)}),p.useMemo(()=>({...m,context:k,refs:y,elements:w}),[m,y,w,k])}/*!
  react-datepicker v8.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Fo=function(r,e){return Fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},Fo(r,e)};function qe(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Fo(n,r);function e(){this.constructor=n}n.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var he=function(){return he=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},he.apply(this,arguments)};function zt(n,r,e){if(e||arguments.length===2)for(var t=0,a=r.length,s;t<a;t++)(s||!(t in r))&&(s||(s=Array.prototype.slice.call(r,0,t)),s[t]=r[t]);return n.concat(s||Array.prototype.slice.call(r))}var _0=function(n){var r=n.showTimeSelectOnly,e=r===void 0?!1:r,t=n.showTime,a=t===void 0?!1:t,s=n.className,i=n.children,o=e?"Choose Time":"Choose Date".concat(a?" and Time":"");return P.createElement("div",{className:s,role:"dialog","aria-label":o,"aria-modal":"true"},i)},D0=function(n,r){var e=p.useRef(null),t=p.useRef(n);t.current=n;var a=p.useCallback(function(s){var i,o=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;e.current&&!e.current.contains(o)&&(r&&o instanceof HTMLElement&&o.classList.contains(r)||(i=t.current)===null||i===void 0||i.call(t,s))},[r]);return p.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),e},mi=function(n){var r=n.children,e=n.onClickOutside,t=n.className,a=n.containerRef,s=n.style,i=n.ignoreClass,o=D0(e,i);return P.createElement("div",{className:t,style:s,ref:function(l){o.current=l,a&&(a.current=l)}},r)},V;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(V||(V={}));function _l(){var n=typeof window<"u"?window:globalThis;return n}var Na=12;function ye(n){if(n==null)return new Date;var r=typeof n=="string"?Qr(n):Z(n);return vi(r)?r:new Date}function Vi(n,r,e,t,a){a===void 0&&(a=ye());for(var s=Ir(e)||Ir(Dl()),i=Array.isArray(r)?r:[r],o=0,l=i;o<l.length;o++){var u=l[o],d=_w(n,u,a,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(vi(d)&&(!t||n===Oe(d,u,e)))return d}return null}function vi(n,r){return As(n)&&!Jn(n,new Date("1/1/1800"))}function Oe(n,r,e){if(e==="en")return Mr(n,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var t=e?Ir(e):void 0;return e&&!t&&console.warn('A locale object was not found for the provided string ["'.concat(e,'"].')),t=t||Ir(Dl()),Mr(n,r,{locale:t,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function bt(n,r){var e=r.dateFormat,t=r.locale,a=Array.isArray(e)&&e.length>0?e[0]:e;return n&&Oe(n,a,t)||""}function S0(n,r,e){if(!n)return"";var t=bt(n,e),a=r?bt(r,e):"";return"".concat(t," - ").concat(a)}function N0(n,r){if(!(n!=null&&n.length))return"";var e=n[0]?bt(n[0],r):"";if(n.length===1)return e;if(n.length===2&&n[1]){var t=bt(n[1],r);return"".concat(e,", ").concat(t)}var a=n.length-1;return"".concat(e," (+").concat(a,")")}function Ki(n,r){var e=r.hour,t=e===void 0?0:e,a=r.minute,s=a===void 0?0:a,i=r.second,o=i===void 0?0:i;return cs(us(ds(n,o),s),t)}function E0(n){return cl(n)}function k0(n,r){return Oe(n,"ddd",r)}function ps(n){return Zn(n)}function Cn(n,r,e){var t=Ir(r||Dl());return Rt(n,{locale:t,weekStartsOn:e})}function hn(n){return wf(n)}function Xr(n){return ui(n)}function Bc(n){return Mo(n)}function Hc(){return Zn(ye())}function Uc(n){return yf(n)}function C0(n){return My(n)}function x0(n){return bf(n)}function Wt(n,r){return n&&r?Ew(n,r):!n&&!r}function st(n,r){return n&&r?Sw(n,r):!n&&!r}function Bs(n,r){return n&&r?Nw(n,r):!n&&!r}function pe(n,r){return n&&r?Oy(n,r):!n&&!r}function jn(n,r){return n&&r?kb(n,r):!n&&!r}function Zr(n,r,e){var t,a=Zn(r),s=yf(e);try{t=oa(n,{start:a,end:s})}catch(i){t=!1}return t}function O0(n,r){var e=_l();e.__localeData__||(e.__localeData__={}),e.__localeData__[n]=r}function Dl(){var n=_l();return n.__localeId__}function Ir(n){if(typeof n=="string"){var r=_l();return r.__localeData__?r.__localeData__[n]:void 0}else return n}function P0(n,r,e){return r(Oe(n,"EEEE",e))}function M0(n,r){return Oe(n,"EEEEEE",r)}function T0(n,r){return Oe(n,"EEE",r)}function Sl(n,r){return Oe(wt(ye(),n),"LLLL",r)}function Kf(n,r){return Oe(wt(ye(),n),"LLL",r)}function A0(n,r){return Oe(mr(ye(),n),"QQQ",r)}function _t(n,r){var e=r===void 0?{}:r,t=e.minDate,a=e.maxDate,s=e.excludeDates,i=e.excludeDateIntervals,o=e.includeDates,l=e.includeDateIntervals,u=e.filterDate;return Ea(n,{minDate:t,maxDate:a})||s&&s.some(function(d){return d instanceof Date?pe(n,d):pe(n,d.date)})||i&&i.some(function(d){var f=d.start,h=d.end;return oa(n,{start:f,end:h})})||o&&!o.some(function(d){return pe(n,d)})||l&&!l.some(function(d){var f=d.start,h=d.end;return oa(n,{start:f,end:h})})||u&&!u(ye(n))||!1}function Nl(n,r){var e=r===void 0?{}:r,t=e.excludeDates,a=e.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var i=s.start,o=s.end;return oa(n,{start:i,end:o})}):t&&t.some(function(s){var i;return s instanceof Date?pe(n,s):pe(n,(i=s.date)!==null&&i!==void 0?i:new Date)})||!1}function zf(n,r){var e=r===void 0?{}:r,t=e.minDate,a=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate;return Ea(n,{minDate:t?wf(t):void 0,maxDate:a?bf(a):void 0})||(s==null?void 0:s.some(function(l){return st(n,l instanceof Date?l:l.date)}))||i&&!i.some(function(l){return st(n,l)})||o&&!o(ye(n))||!1}function qa(n,r,e,t){var a=le(n),s=ot(n),i=le(r),o=ot(r),l=le(t);return a===i&&a===l?s<=e&&e<=o:a<i?l===a&&s<=e||l===i&&o>=e||l<i&&l>a:!1}function R0(n,r){var e=r===void 0?{}:r,t=e.minDate,a=e.maxDate,s=e.excludeDates,i=e.includeDates;return Ea(n,{minDate:t,maxDate:a})||s&&s.some(function(o){return st(o instanceof Date?o:o.date,n)})||i&&!i.some(function(o){return st(o,n)})||!1}function Qa(n,r){var e=r===void 0?{}:r,t=e.minDate,a=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate;return Ea(n,{minDate:t,maxDate:a})||(s==null?void 0:s.some(function(l){return Bs(n,l instanceof Date?l:l.date)}))||i&&!i.some(function(l){return Bs(n,l)})||o&&!o(ye(n))||!1}function Xa(n,r,e){if(!r||!e||!As(r)||!As(e))return!1;var t=le(r),a=le(e);return t<=n&&a>=n}function hs(n,r){var e=r===void 0?{}:r,t=e.minDate,a=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate,l=new Date(n,0,1);return Ea(l,{minDate:t?ui(t):void 0,maxDate:a?_f(a):void 0})||(s==null?void 0:s.some(function(u){return Wt(l,u instanceof Date?u:u.date)}))||i&&!i.some(function(u){return Wt(l,u)})||o&&!o(ye(l))||!1}function Za(n,r,e,t){var a=le(n),s=Hn(n),i=le(r),o=Hn(r),l=le(t);return a===i&&a===l?s<=e&&e<=o:a<i?l===a&&s<=e||l===i&&o>=e||l<i&&l>a:!1}function Ea(n,r){var e,t=r===void 0?{}:r,a=t.minDate,s=t.maxDate;return(e=a&&Pr(n,a)<0||s&&Pr(n,s)>0)!==null&&e!==void 0?e:!1}function Vc(n,r){return r.some(function(e){return fn(e)===fn(n)&&pn(e)===pn(n)&&kn(e)===kn(n)})}function Kc(n,r){var e=r===void 0?{}:r,t=e.excludeTimes,a=e.includeTimes,s=e.filterTime;return t&&Vc(n,t)||a&&!Vc(n,a)||s&&!s(n)||!1}function zc(n,r){var e=r.minTime,t=r.maxTime;if(!e||!t)throw new Error("Both minTime and maxTime props required");var a=ye();a=cs(a,fn(n)),a=us(a,pn(n)),a=ds(a,kn(n));var s=ye();s=cs(s,fn(e)),s=us(s,pn(e)),s=ds(s,kn(e));var i=ye();i=cs(i,fn(t)),i=us(i,pn(t)),i=ds(i,kn(t));var o;try{o=!oa(a,{start:s,end:i})}catch(l){o=!1}return o}function qc(n,r){var e=r===void 0?{}:r,t=e.minDate,a=e.includeDates,s=Un(n,1);return t&&Rs(t,s)>0||a&&a.every(function(i){return Rs(i,s)>0})||!1}function Qc(n,r){var e=r===void 0?{}:r,t=e.maxDate,a=e.includeDates,s=At(n,1);return t&&Rs(s,t)>0||a&&a.every(function(i){return Rs(s,i)>0})||!1}function L0(n,r){var e=r===void 0?{}:r,t=e.minDate,a=e.includeDates,s=ui(n),i=Af(s,1);return t&&Ls(t,i)>0||a&&a.every(function(o){return Ls(o,i)>0})||!1}function I0(n,r){var e=r===void 0?{}:r,t=e.maxDate,a=e.includeDates,s=_f(n),i=ll(s,1);return t&&Ls(i,t)>0||a&&a.every(function(o){return Ls(i,o)>0})||!1}function Xc(n,r){var e=r===void 0?{}:r,t=e.minDate,a=e.includeDates,s=Tr(n,1);return t&&Is(t,s)>0||a&&a.every(function(i){return Is(i,s)>0})||!1}function F0(n,r){var e=r===void 0?{}:r,t=e.minDate,a=e.yearItemNumber,s=a===void 0?Na:a,i=Xr(Tr(n,s)),o=En(i,s).endPeriod,l=t&&le(t);return l&&l>o||!1}function Zc(n,r){var e=r===void 0?{}:r,t=e.maxDate,a=e.includeDates,s=un(n,1);return t&&Is(s,t)>0||a&&a.every(function(i){return Is(s,i)>0})||!1}function $0(n,r){var e=r===void 0?{}:r,t=e.maxDate,a=e.yearItemNumber,s=a===void 0?Na:a,i=un(n,s),o=En(i,s).startPeriod,l=t&&le(t);return l&&l<o||!1}function qf(n){var r=n.minDate,e=n.includeDates;if(e&&r){var t=e.filter(function(a){return Pr(a,r)>=0});return Ec(t)}else return e?Ec(e):r}function Qf(n){var r=n.maxDate,e=n.includeDates;if(e&&r){var t=e.filter(function(a){return Pr(a,r)<=0});return Nc(t)}else return e?Nc(e):r}function Jc(n,r){var e;n===void 0&&(n=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var t=new Map,a=0,s=n.length;a<s;a++){var i=n[a];if(dn(i)){var o=Oe(i,"MM.dd.yyyy"),l=t.get(o)||[];l.includes(r)||(l.push(r),t.set(o,l))}else if(typeof i=="object"){var u=Object.keys(i),d=(e=u[0])!==null&&e!==void 0?e:"",f=i[d];if(typeof d=="string"&&Array.isArray(f))for(var h=0,m=f.length;h<m;h++){var v=f[h];if(v){var o=Oe(v,"MM.dd.yyyy"),l=t.get(o)||[];l.includes(d)||(l.push(d),t.set(o,l))}}}}return t}function Y0(n,r){return n.length!==r.length?!1:n.every(function(e,t){return e===r[t]})}function G0(n,r){n===void 0&&(n=[]),r===void 0&&(r="react-datepicker__day--holidays");var e=new Map;return n.forEach(function(t){var a=t.date,s=t.holidayName;if(dn(a)){var i=Oe(a,"MM.dd.yyyy"),o=e.get(i)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===r&&Y0(o.holidayNames,[s]))){o.className=r;var l=o.holidayNames;o.holidayNames=l?zt(zt([],l,!0),[s],!1):[s],e.set(i,o)}}}),e}function W0(n,r,e,t,a){for(var s=a.length,i=[],o=0;o<s;o++){var l=n,u=a[o];u&&(l=Ey(l,fn(u)),l=Po(l,pn(u)),l=xy(l,kn(u)));var d=Po(n,(e+1)*t);xn(l,r)&&Jn(l,d)&&u!=null&&i.push(u)}return i}function eu(n){return n<10?"0".concat(n):"".concat(n)}function En(n,r){r===void 0&&(r=Na);var e=Math.ceil(le(n)/r)*r,t=e-(r-1);return{startPeriod:t,endPeriod:e}}function j0(n){var r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),e=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+e-+r)/36e5)}function tu(n){var r=n.getSeconds(),e=n.getMilliseconds();return Z(n.getTime()-r*1e3-e)}function B0(n,r){return tu(n).getTime()===tu(r).getTime()}function nu(n){if(!dn(n))throw new Error("Invalid date");var r=new Date(n);return r.setHours(0,0,0,0),r}function ru(n,r){if(!dn(n)||!dn(r))throw new Error("Invalid date received");var e=nu(n),t=nu(r);return Jn(e,t)}function Xf(n){return n.key===V.Space}var H0=function(n){qe(r,n);function r(e){var t=n.call(this,e)||this;return t.inputRef=P.createRef(),t.onTimeChange=function(a){var s,i;t.setState({time:a});var o=t.props.date,l=o instanceof Date&&!isNaN(+o),u=l?o:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),f=d[0],h=d[1];u.setHours(Number(f)),u.setMinutes(Number(h))}(i=(s=t.props).onChange)===null||i===void 0||i.call(s,u)},t.renderTimeInput=function(){var a=t.state.time,s=t.props,i=s.date,o=s.timeString,l=s.customTimeInput;return l?p.cloneElement(l,{date:i,value:a,onChange:t.onTimeChange}):P.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:t.inputRef,onClick:function(){var u;(u=t.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){t.onTimeChange(u.target.value||o)}})},t.state={time:t.props.timeString},t}return r.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},r.prototype.render=function(){return P.createElement("div",{className:"react-datepicker__input-time-container"},P.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),P.createElement("div",{className:"react-datepicker-time__input-container"},P.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(p.Component),U0=function(n){qe(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.dayEl=p.createRef(),e.handleClick=function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)},e.handleMouseEnter=function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)},e.handleOnKeyDown=function(t){var a,s,i=t.key;i===V.Space&&(t.preventDefault(),t.key=V.Enter),(s=(a=e.props).handleOnKeyDown)===null||s===void 0||s.call(a,t)},e.isSameDay=function(t){return pe(e.props.day,t)},e.isKeyboardSelected=function(){var t;if(e.props.disabledKeyboardNavigation)return!1;var a=e.props.selectsMultiple?(t=e.props.selectedDates)===null||t===void 0?void 0:t.some(function(i){return e.isSameDayOrWeek(i)}):e.isSameDayOrWeek(e.props.selected),s=e.props.preSelection&&e.isDisabled(e.props.preSelection);return!a&&e.isSameDayOrWeek(e.props.preSelection)&&!s},e.isDisabled=function(t){return t===void 0&&(t=e.props.day),_t(t,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(){return Nl(e.props.day,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.isStartOfWeek=function(){return pe(e.props.day,Cn(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameWeek=function(t){return e.props.showWeekPicker&&pe(t,Cn(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameDayOrWeek=function(t){return e.isSameDay(t)||e.isSameWeek(t)},e.getHighLightedClass=function(){var t=e.props,a=t.day,s=t.highlightDates;if(!s)return!1;var i=Oe(a,"MM.dd.yyyy");return s.get(i)},e.getHolidaysClass=function(){var t,a=e.props,s=a.day,i=a.holidays;if(!i)return[void 0];var o=Oe(s,"MM.dd.yyyy");return i.has(o)?[(t=i.get(o))===null||t===void 0?void 0:t.className]:[void 0]},e.isInRange=function(){var t=e.props,a=t.day,s=t.startDate,i=t.endDate;return!s||!i?!1:Zr(a,s,i)},e.isInSelectingRange=function(){var t,a=e.props,s=a.day,i=a.selectsStart,o=a.selectsEnd,l=a.selectsRange,u=a.selectsDisabledDaysInRange,d=a.startDate,f=a.endDate,h=(t=e.props.selectingDate)!==null&&t!==void 0?t:e.props.preSelection;return!(i||o||l)||!h||!u&&e.isDisabled()?!1:i&&f&&(Jn(h,f)||jn(h,f))?Zr(s,h,f):o&&d&&!f&&(xn(h,d)||jn(h,d))||l&&d&&!f&&(xn(h,d)||jn(h,d))?Zr(s,d,h):!1},e.isSelectingRangeStart=function(){var t;if(!e.isInSelectingRange())return!1;var a=e.props,s=a.day,i=a.startDate,o=a.selectsStart,l=(t=e.props.selectingDate)!==null&&t!==void 0?t:e.props.preSelection;return o?pe(s,l):pe(s,i)},e.isSelectingRangeEnd=function(){var t;if(!e.isInSelectingRange())return!1;var a=e.props,s=a.day,i=a.endDate,o=a.selectsEnd,l=a.selectsRange,u=(t=e.props.selectingDate)!==null&&t!==void 0?t:e.props.preSelection;return o||l?pe(s,u):pe(s,i)},e.isRangeStart=function(){var t=e.props,a=t.day,s=t.startDate,i=t.endDate;return!s||!i?!1:pe(s,a)},e.isRangeEnd=function(){var t=e.props,a=t.day,s=t.startDate,i=t.endDate;return!s||!i?!1:pe(i,a)},e.isWeekend=function(){var t=Db(e.props.day);return t===0||t===6},e.isAfterMonth=function(){return e.props.month!==void 0&&(e.props.month+1)%12===ot(e.props.day)},e.isBeforeMonth=function(){return e.props.month!==void 0&&(ot(e.props.day)+1)%12===e.props.month},e.isCurrentDay=function(){return e.isSameDay(ye())},e.isSelected=function(){var t;return e.props.selectsMultiple?(t=e.props.selectedDates)===null||t===void 0?void 0:t.some(function(a){return e.isSameDayOrWeek(a)}):e.isSameDayOrWeek(e.props.selected)},e.getClassNames=function(t){var a=e.props.dayClassName?e.props.dayClassName(t):void 0;return Je("react-datepicker__day",a,"react-datepicker__day--"+k0(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass(),e.getHolidaysClass())},e.getAriaLabel=function(){var t=e.props,a=t.day,s=t.ariaLabelPrefixWhenEnabled,i=s===void 0?"Choose":s,o=t.ariaLabelPrefixWhenDisabled,l=o===void 0?"Not available":o,u=e.isDisabled()||e.isExcluded()?l:i;return"".concat(u," ").concat(Oe(a,"PPPP",e.props.locale))},e.getTitle=function(){var t=e.props,a=t.day,s=t.holidays,i=s===void 0?new Map:s,o=t.excludeDates,l=Oe(a,"MM.dd.yyyy"),u=[];return i.has(l)&&u.push.apply(u,i.get(l).holidayNames),e.isExcluded()&&u.push(o==null?void 0:o.filter(function(d){return d instanceof Date?pe(d,a):pe(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},e.getTabIndex=function(){var t=e.props.selected,a=e.props.preSelection,s=!(e.props.showWeekPicker&&(e.props.showWeekNumber||!e.isStartOfWeek()))&&(e.isKeyboardSelected()||e.isSameDay(t)&&pe(a,t))?0:-1;return s},e.handleFocusDay=function(){var t;e.shouldFocusDay()&&((t=e.dayEl.current)===null||t===void 0||t.focus({preventScroll:!0}))},e.renderDayContents=function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(Mc(e.props.day),e.props.day):Mc(e.props.day)},e.render=function(){return P.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.props.usePointerEvent?void 0:e.handleMouseEnter,onPointerEnter:e.props.usePointerEvent?e.handleMouseEnter:void 0,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),e.getTitle()!==""&&P.createElement("span",{className:"overlay"},e.getTitle()))},e}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var e=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},r.prototype.isDayActiveElement=function(){var e,t,a;return((t=(e=this.props.containerRef)===null||e===void 0?void 0:e.current)===null||t===void 0?void 0:t.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(p.Component),V0=function(n){qe(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.weekNumberEl=p.createRef(),e.handleClick=function(t){e.props.onClick&&e.props.onClick(t)},e.handleOnKeyDown=function(t){var a,s,i=t.key;i===V.Space&&(t.preventDefault(),t.key=V.Enter),(s=(a=e.props).handleOnKeyDown)===null||s===void 0||s.call(a,t)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!pe(e.props.date,e.props.selected)&&pe(e.props.date,e.props.preSelection)},e.getTabIndex=function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||pe(e.props.date,e.props.selected)&&pe(e.props.preSelection,e.props.selected))?0:-1},e.handleFocusWeekNumber=function(t){var a=!1;e.getTabIndex()===0&&!(t!=null&&t.isInputFocused)&&pe(e.props.date,e.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(a=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})},e}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},r.prototype.render=function(){var e=this.props,t=e.weekNumber,a=e.isWeekDisabled,s=e.ariaLabelPrefix,i=s===void 0?r.defaultProps.ariaLabelPrefix:s,o=e.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!a,"react-datepicker__week-number--selected":!!o&&pe(this.props.date,this.props.selected)};return P.createElement("div",{ref:this.weekNumberEl,className:Je(l),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},t)},r}(p.Component),K0=function(n){qe(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.isDisabled=function(t){return _t(t,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.handleDayClick=function(t,a){e.props.onDayClick&&e.props.onDayClick(t,a)},e.handleDayMouseEnter=function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)},e.handleWeekClick=function(t,a,s){for(var i,o,l,u=new Date(t),d=0;d<7;d++){var f=new Date(t);f.setDate(f.getDate()+d);var h=!e.isDisabled(f);if(h){u=f;break}}typeof e.props.onWeekSelect=="function"&&e.props.onWeekSelect(u,a,s),e.props.showWeekPicker&&e.handleDayClick(u,s),((i=e.props.shouldCloseOnSelect)!==null&&i!==void 0?i:r.defaultProps.shouldCloseOnSelect)&&((l=(o=e.props).setOpen)===null||l===void 0||l.call(o,!1))},e.formatWeekNumber=function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):E0(t)},e.isWeekDisabled=function(){for(var t=e.startOfWeek(),a=Mt(t,6),s=new Date(t);s<=a;){if(!e.isDisabled(s))return!1;s=Mt(s,1)}return!0},e.renderDays=function(){var t=e.startOfWeek(),a=[],s=e.formatWeekNumber(t);if(e.props.showWeekNumber){var i=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(e,t,s):void 0;a.push(P.createElement(V0,he({key:"W"},r.defaultProps,e.props,{weekNumber:s,isWeekDisabled:e.isWeekDisabled(),date:t,onClick:i})))}return a.concat([0,1,2,3,4,5,6].map(function(o){var l=Mt(t,o);return P.createElement(U0,he({},r.defaultProps,e.props,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:e.handleDayClick.bind(e,l),onMouseEnter:e.handleDayMouseEnter.bind(e,l)}))}))},e.startOfWeek=function(){return Cn(e.props.day,e.props.locale,e.props.calendarStartDay)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!pe(e.startOfWeek(),e.props.selected)&&pe(e.startOfWeek(),e.props.preSelection)},e}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":pe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return P.createElement("div",{className:Je(e)},this.renderDays())},r}(p.Component),qr,z0=6,_r={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},zi=(qr={},qr[_r.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},qr[_r.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},qr[_r.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},qr),Ja=1;function au(n,r){return n?_r.FOUR_COLUMNS:r?_r.TWO_COLUMNS:_r.THREE_COLUMNS}var q0=function(n){qe(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.MONTH_REFS=zt([],Array(12),!0).map(function(){return p.createRef()}),e.QUARTER_REFS=zt([],Array(4),!0).map(function(){return p.createRef()}),e.isDisabled=function(t){return _t(t,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(t){return Nl(t,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.handleDayClick=function(t,a){var s,i;(i=(s=e.props).onDayClick)===null||i===void 0||i.call(s,t,a,e.props.orderInDisplay)},e.handleDayMouseEnter=function(t){var a,s;(s=(a=e.props).onDayMouseEnter)===null||s===void 0||s.call(a,t)},e.handleMouseLeave=function(){var t,a;(a=(t=e.props).onMouseLeave)===null||a===void 0||a.call(t)},e.isRangeStartMonth=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:st(wt(s,t),i)},e.isRangeStartQuarter=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Bs(mr(s,t),i)},e.isRangeEndMonth=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:st(wt(s,t),o)},e.isRangeEndQuarter=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:Bs(mr(s,t),o)},e.isInSelectingRangeMonth=function(t){var a,s=e.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,h=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return!(o||l||u)||!h?!1:o&&f?qa(h,f,t,i):l&&d||u&&d&&!f?qa(d,h,t,i):!1},e.isSelectingMonthRangeStart=function(t){var a;if(!e.isInSelectingRangeMonth(t))return!1;var s=e.props,i=s.day,o=s.startDate,l=s.selectsStart,u=wt(i,t),d=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return l?st(u,d):st(u,o)},e.isSelectingMonthRangeEnd=function(t){var a;if(!e.isInSelectingRangeMonth(t))return!1;var s=e.props,i=s.day,o=s.endDate,l=s.selectsEnd,u=s.selectsRange,d=wt(i,t),f=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return l||u?st(d,f):st(d,o)},e.isInSelectingRangeQuarter=function(t){var a,s=e.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,h=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return!(o||l||u)||!h?!1:o&&f?Za(h,f,t,i):l&&d||u&&d&&!f?Za(d,h,t,i):!1},e.isWeekInMonth=function(t){var a=e.props.day,s=Mt(t,6);return st(t,a)||st(s,a)},e.isCurrentMonth=function(t,a){return le(t)===le(ye())&&a===ot(ye())},e.isCurrentQuarter=function(t,a){return le(t)===le(ye())&&a===Hn(ye())},e.isSelectedMonth=function(t,a,s){return ot(s)===a&&le(t)===le(s)},e.isSelectMonthInList=function(t,a,s){return s.some(function(i){return e.isSelectedMonth(t,a,i)})},e.isSelectedQuarter=function(t,a,s){return Hn(t)===a&&le(t)===le(s)},e.renderWeeks=function(){for(var t=[],a=e.props.fixedHeight,s=0,i=!1,o=Cn(hn(e.props.day),e.props.locale,e.props.calendarStartDay),l=function(v){return e.props.showWeekPicker?Cn(v,e.props.locale,e.props.calendarStartDay):e.props.preSelection},u=function(v){return e.props.showWeekPicker?Cn(v,e.props.locale,e.props.calendarStartDay):e.props.selected},d=e.props.selected?u(e.props.selected):void 0,f=e.props.preSelection?l(e.props.preSelection):void 0;t.push(P.createElement(K0,he({},e.props,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,key:s,day:o,month:ot(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:e.props.showWeekNumbers}))),!i;){s++,o=Ts(o,1);var h=a&&s>=z0,m=!a&&!e.isWeekInMonth(o);if(h||m)if(e.props.peekNextMonth)i=!0;else break}return t},e.onMonthClick=function(t,a){var s=e.isMonthDisabledForLabelDate(a),i=s.isDisabled,o=s.labelDate;i||e.handleDayClick(hn(o),t)},e.onMonthMouseEnter=function(t){var a=e.isMonthDisabledForLabelDate(t),s=a.isDisabled,i=a.labelDate;s||e.handleDayMouseEnter(hn(i))},e.handleMonthNavigation=function(t,a){var s,i,o,l;(i=(s=e.props).setPreSelection)===null||i===void 0||i.call(s,a),(l=(o=e.MONTH_REFS[t])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()},e.handleKeyboardNavigation=function(t,a,s){var i,o=e.props,l=o.selected,u=o.preSelection,d=o.setPreSelection,f=o.minDate,h=o.maxDate,m=o.showFourColumnMonthYearPicker,v=o.showTwoColumnMonthYearPicker;if(u){var g=au(m,v),y=e.getVerticalOffset(g),w=(i=zi[g])===null||i===void 0?void 0:i.grid,k=function(S,D,C){var O,R,F=D,T=C;switch(S){case V.ArrowRight:F=At(D,Ja),T=C===11?0:C+Ja;break;case V.ArrowLeft:F=Un(D,Ja),T=C===0?11:C-Ja;break;case V.ArrowUp:F=Un(D,y),T=!((O=w==null?void 0:w[0])===null||O===void 0)&&O.includes(C)?C+12-y:C-y;break;case V.ArrowDown:F=At(D,y),T=!((R=w==null?void 0:w[w.length-1])===null||R===void 0)&&R.includes(C)?C-12+y:C+y;break}return{newCalculatedDate:F,newCalculatedMonth:T}},x=function(S,D,C){for(var O=40,R=S,F=!1,T=0,$=k(R,D,C),L=$.newCalculatedDate,H=$.newCalculatedMonth;!F;){if(T>=O){L=D,H=C;break}if(f&&L<f){R=V.ArrowRight;var U=k(R,L,H);L=U.newCalculatedDate,H=U.newCalculatedMonth}if(h&&L>h){R=V.ArrowLeft;var U=k(R,L,H);L=U.newCalculatedDate,H=U.newCalculatedMonth}if(R0(L,e.props)){var U=k(R,L,H);L=U.newCalculatedDate,H=U.newCalculatedMonth}else F=!0;T++}return{newCalculatedDate:L,newCalculatedMonth:H}};if(a===V.Enter){e.isMonthDisabled(s)||(e.onMonthClick(t,s),d==null||d(l));return}var E=x(a,u,s),N=E.newCalculatedDate,_=E.newCalculatedMonth;switch(a){case V.ArrowRight:case V.ArrowLeft:case V.ArrowUp:case V.ArrowDown:e.handleMonthNavigation(_,N);break}}},e.getVerticalOffset=function(t){var a,s;return(s=(a=zi[t])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},e.onMonthKeyDown=function(t,a){var s=e.props,i=s.disabledKeyboardNavigation,o=s.handleOnMonthKeyDown,l=t.key;l!==V.Tab&&t.preventDefault(),i||e.handleKeyboardNavigation(t,l,a),o&&o(t)},e.onQuarterClick=function(t,a){var s=mr(e.props.day,a);Qa(s,e.props)||e.handleDayClick(Bc(s),t)},e.onQuarterMouseEnter=function(t){var a=mr(e.props.day,t);Qa(a,e.props)||e.handleDayMouseEnter(Bc(a))},e.handleQuarterNavigation=function(t,a){var s,i,o,l;e.isDisabled(a)||e.isExcluded(a)||((i=(s=e.props).setPreSelection)===null||i===void 0||i.call(s,a),(l=(o=e.QUARTER_REFS[t-1])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus())},e.onQuarterKeyDown=function(t,a){var s,i,o=t.key;if(!e.props.disabledKeyboardNavigation)switch(o){case V.Enter:e.onQuarterClick(t,a),(i=(s=e.props).setPreSelection)===null||i===void 0||i.call(s,e.props.selected);break;case V.ArrowRight:if(!e.props.preSelection)break;e.handleQuarterNavigation(a===4?1:a+1,ll(e.props.preSelection,1));break;case V.ArrowLeft:if(!e.props.preSelection)break;e.handleQuarterNavigation(a===1?4:a-1,Af(e.props.preSelection,1));break}},e.isMonthDisabledForLabelDate=function(t){var a,s=e.props,i=s.day,o=s.minDate,l=s.maxDate,u=s.excludeDates,d=s.includeDates,f=wt(i,t);return{isDisabled:(a=(o||l||u||d)&&zf(f,e.props))!==null&&a!==void 0?a:!1,labelDate:f}},e.isMonthDisabled=function(t){var a=e.isMonthDisabledForLabelDate(t).isDisabled;return a},e.getMonthClassNames=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate,l=a.preSelection,u=a.monthClassName,d=u?u(wt(s,t)):void 0,f=e.getSelection();return Je("react-datepicker__month-text","react-datepicker__month-".concat(t),d,{"react-datepicker__month-text--disabled":e.isMonthDisabled(t),"react-datepicker__month-text--selected":f?e.isSelectMonthInList(s,t,f):void 0,"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&l&&e.isSelectedMonth(s,t,l)&&!e.isMonthDisabled(t),"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":i&&o?qa(i,o,t,s):void 0,"react-datepicker__month-text--range-start":e.isRangeStartMonth(t),"react-datepicker__month-text--range-end":e.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":e.isCurrentMonth(s,t)})},e.getTabIndex=function(t){if(e.props.preSelection==null)return"-1";var a=ot(e.props.preSelection),s=e.isMonthDisabledForLabelDate(a).isDisabled,i=t===a&&!(s||e.props.disabledKeyboardNavigation)?"0":"-1";return i},e.getQuarterTabIndex=function(t){if(e.props.preSelection==null)return"-1";var a=Hn(e.props.preSelection),s=Qa(e.props.day,e.props),i=t===a&&!(s||e.props.disabledKeyboardNavigation)?"0":"-1";return i},e.getAriaLabel=function(t){var a=e.props,s=a.chooseDayAriaLabelPrefix,i=s===void 0?"Choose":s,o=a.disabledDayAriaLabelPrefix,l=o===void 0?"Not available":o,u=a.day,d=a.locale,f=wt(u,t),h=e.isDisabled(f)||e.isExcluded(f)?l:i;return"".concat(h," ").concat(Oe(f,"MMMM yyyy",d))},e.getQuarterClassNames=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate,l=a.selected,u=a.minDate,d=a.maxDate,f=a.excludeDates,h=a.includeDates,m=a.filterDate,v=a.preSelection,g=a.disabledKeyboardNavigation,y=(u||d||f||h||m)&&Qa(mr(s,t),e.props);return Je("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":l?e.isSelectedQuarter(s,t,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&v&&e.isSelectedQuarter(s,t,v)&&!y,"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":i&&o?Za(i,o,t,s):void 0,"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(t),"react-datepicker__quarter-text--today":e.isCurrentQuarter(s,t)})},e.getMonthContent=function(t){var a=e.props,s=a.showFullMonthYearPicker,i=a.renderMonthContent,o=a.locale,l=a.day,u=Kf(t,o),d=Sl(t,o);return i?i(t,u,d,l):s?d:u},e.getQuarterContent=function(t){var a,s=e.props,i=s.renderQuarterContent,o=s.locale,l=A0(t,o);return(a=i==null?void 0:i(t,l))!==null&&a!==void 0?a:l},e.renderMonths=function(){var t,a=e.props,s=a.showTwoColumnMonthYearPicker,i=a.showFourColumnMonthYearPicker,o=a.day,l=a.selected,u=(t=zi[au(i,s)])===null||t===void 0?void 0:t.grid;return u==null?void 0:u.map(function(d,f){return P.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(h,m){return P.createElement("div",{ref:e.MONTH_REFS[h],key:m,onClick:function(v){e.onMonthClick(v,h)},onKeyDown:function(v){Xf(v)&&(v.preventDefault(),v.key=V.Enter),e.onMonthKeyDown(v,h)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onMonthMouseEnter(h)},onPointerEnter:e.props.usePointerEvent?function(){return e.onMonthMouseEnter(h)}:void 0,tabIndex:Number(e.getTabIndex(h)),className:e.getMonthClassNames(h),"aria-disabled":e.isMonthDisabled(h),role:"option","aria-label":e.getAriaLabel(h),"aria-current":e.isCurrentMonth(o,h)?"date":void 0,"aria-selected":l?e.isSelectedMonth(o,h,l):void 0},e.getMonthContent(h))}))})},e.renderQuarters=function(){var t=e.props,a=t.day,s=t.selected,i=[1,2,3,4];return P.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(o,l){return P.createElement("div",{key:l,ref:e.QUARTER_REFS[l],role:"option",onClick:function(u){e.onQuarterClick(u,o)},onKeyDown:function(u){e.onQuarterKeyDown(u,o)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onQuarterMouseEnter(o)},onPointerEnter:e.props.usePointerEvent?function(){return e.onQuarterMouseEnter(o)}:void 0,className:e.getQuarterClassNames(o),"aria-selected":s?e.isSelectedQuarter(a,o,s):void 0,tabIndex:Number(e.getQuarterTabIndex(o)),"aria-current":e.isCurrentQuarter(a,o)?"date":void 0},e.getQuarterContent(o))}))},e.getClassNames=function(){var t=e.props,a=t.selectingDate,s=t.selectsStart,i=t.selectsEnd,o=t.showMonthYearPicker,l=t.showQuarterYearPicker,u=t.showWeekPicker;return Je("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||i)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},e}return r.prototype.getSelection=function(){var e=this.props,t=e.selected,a=e.selectedDates,s=e.selectsMultiple;if(s)return a;if(t)return[t]},r.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,a=e.showQuarterYearPicker,s=e.day,i=e.ariaLabelPrefix,o=i===void 0?"Month ":i,l=o?o.trim()+" ":"";return P.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Oe(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},r}(p.Component),Q0=function(n){qe(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.isSelectedMonth=function(t){return e.props.month===t},e.renderOptions=function(){return e.props.monthNames.map(function(t,a){return P.createElement("div",{className:e.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(e,a),"aria-selected":e.isSelectedMonth(a)?"true":void 0},e.isSelectedMonth(a)?P.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",t)})},e.onChange=function(t){return e.props.onChange(t)},e.handleClickOutside=function(){return e.props.onCancel()},e}return r.prototype.render=function(){return P.createElement(mi,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(p.Component),X0=function(n){qe(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(t){return t.map(function(a,s){return P.createElement("option",{key:a,value:s},a)})},e.renderSelectMode=function(t){return P.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(a){return e.onChange(parseInt(a.target.value))}},e.renderSelectOptions(t))},e.renderReadView=function(t,a){return P.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},P.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),P.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[e.props.month]))},e.renderDropdown=function(t){return P.createElement(Q0,he({key:"dropdown"},e.props,{monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(t){var a=e.state.dropdownVisible,s=[e.renderReadView(!a,t)];return a&&s.unshift(e.renderDropdown(t)),s},e.onChange=function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return r.prototype.render=function(){var e=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return Kf(s,e.props.locale)}:function(s){return Sl(s,e.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(t);break;case"select":a=this.renderSelectMode(t);break}return P.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},r}(p.Component);function Z0(n,r){for(var e=[],t=hn(n),a=hn(r);!xn(t,a);)e.push(ye(t)),t=At(t,1);return e}var J0=function(n){qe(r,n);function r(e){var t=n.call(this,e)||this;return t.renderOptions=function(){return t.state.monthYearsList.map(function(a){var s=Ro(a),i=Wt(t.props.date,a)&&st(t.props.date,a);return P.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:t.onChange.bind(t,s),"aria-selected":i?"true":void 0},i?P.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Oe(a,t.props.dateFormat,t.props.locale))})},t.onChange=function(a){return t.props.onChange(a)},t.handleClickOutside=function(){t.props.onCancel()},t.state={monthYearsList:Z0(t.props.minDate,t.props.maxDate)},t}return r.prototype.render=function(){var e=Je({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return P.createElement(mi,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(p.Component),eD=function(n){qe(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var t=hn(e.props.minDate),a=hn(e.props.maxDate),s=[];!xn(t,a);){var i=Ro(t);s.push(P.createElement("option",{key:i,value:i},Oe(t,e.props.dateFormat,e.props.locale))),t=At(t,1)}return s},e.onSelectChange=function(t){e.onChange(parseInt(t.target.value))},e.renderSelectMode=function(){return P.createElement("select",{value:Ro(hn(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(t){var a=Oe(e.props.date,e.props.dateFormat,e.props.locale);return P.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:e.toggleDropdown},P.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),P.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},e.renderDropdown=function(){return P.createElement(J0,he({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var t=e.state.dropdownVisible,a=[e.renderReadView(!t)];return t&&a.unshift(e.renderDropdown()),a},e.onChange=function(t){e.toggleDropdown();var a=ye(t);Wt(e.props.date,a)&&st(e.props.date,a)||e.props.onChange(a)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return r.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return P.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},r}(p.Component),tD=function(n){qe(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.state={height:null},e.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var t,a,s;e.list&&(e.list.scrollTop=(s=e.centerLi&&r.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-((a=(t=e.header)===null||t===void 0?void 0:t.clientHeight)!==null&&a!==void 0?a:0):e.list.clientHeight,e.centerLi))!==null&&s!==void 0?s:0)})},e.handleClick=function(t){var a,s;(e.props.minTime||e.props.maxTime)&&zc(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&Kc(t,e.props)||(s=(a=e.props).onChange)===null||s===void 0||s.call(a,t)},e.isSelectedTime=function(t){return e.props.selected&&B0(e.props.selected,t)},e.isDisabledTime=function(t){return(e.props.minTime||e.props.maxTime)&&zc(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&Kc(t,e.props)},e.liClasses=function(t){var a,s=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t):void 0];return e.isSelectedTime(t)&&s.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(t)&&s.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(fn(t)*3600+pn(t)*60+kn(t))%(((a=e.props.intervals)!==null&&a!==void 0?a:r.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},e.handleOnKeyDown=function(t,a){var s,i;t.key===V.Space&&(t.preventDefault(),t.key=V.Enter),(t.key===V.ArrowUp||t.key===V.ArrowLeft)&&t.target instanceof HTMLElement&&t.target.previousSibling&&(t.preventDefault(),t.target.previousSibling instanceof HTMLElement&&t.target.previousSibling.focus()),(t.key===V.ArrowDown||t.key===V.ArrowRight)&&t.target instanceof HTMLElement&&t.target.nextSibling&&(t.preventDefault(),t.target.nextSibling instanceof HTMLElement&&t.target.nextSibling.focus()),t.key===V.Enter&&e.handleClick(a),(i=(s=e.props).handleOnKeyDown)===null||i===void 0||i.call(s,t)},e.renderTimes=function(){for(var t,a=[],s=typeof e.props.format=="string"?e.props.format:"p",i=(t=e.props.intervals)!==null&&t!==void 0?t:r.defaultProps.intervals,o=e.props.selected||e.props.openToDate||ye(),l=ps(o),u=e.props.injectTimes&&e.props.injectTimes.sort(function(y,w){return y.getTime()-w.getTime()}),d=60*j0(o),f=d/i,h=0;h<f;h++){var m=Po(l,h*i);if(a.push(m),u){var v=W0(l,m,h,i,u);a=a.concat(v)}}var g=a.reduce(function(y,w){return w.getTime()<=o.getTime()?w:y},a[0]);return a.map(function(y){return P.createElement("li",{key:y.valueOf(),onClick:e.handleClick.bind(e,y),className:e.liClasses(y),ref:function(w){y===g&&(e.centerLi=w)},onKeyDown:function(w){e.handleOnKeyDown(w,y)},tabIndex:y===g?0:-1,role:"option","aria-selected":e.isSelectedTime(y)?"true":void 0,"aria-disabled":e.isDisabledTime(y)?"true":void 0},Oe(y,s,e.props.locale))})},e.renderTimeCaption=function(){return e.props.showTimeCaption===!1?P.createElement(P.Fragment,null):P.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(e.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},P.createElement("div",{className:"react-datepicker-time__header"},e.props.timeCaption))},e}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},r.prototype.componentWillUnmount=function(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()},r.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},r.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var e=this,t,a=this.state.height;return P.createElement("div",{className:"react-datepicker__time-container ".concat(((t=this.props.todayButton)!==null&&t!==void 0?t:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),P.createElement("div",{className:"react-datepicker__time"},P.createElement("div",{className:"react-datepicker__time-box"},P.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){e.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},r}(p.Component),su=3,nD=function(n){qe(r,n);function r(e){var t=n.call(this,e)||this;return t.YEAR_REFS=zt([],Array(t.props.yearItemNumber),!0).map(function(){return p.createRef()}),t.isDisabled=function(a){return _t(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(a){return Nl(a,{excludeDates:t.props.excludeDates})},t.selectingDate=function(){var a;return(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection},t.updateFocusOnPaginate=function(a){var s=function(){var i,o;(o=(i=t.YEAR_REFS[a])===null||i===void 0?void 0:i.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(s)},t.handleYearClick=function(a,s){t.props.onDayClick&&t.props.onDayClick(a,s)},t.handleYearNavigation=function(a,s){var i,o,l,u,d=t.props,f=d.date,h=d.yearItemNumber;if(!(f===void 0||h===void 0)){var m=En(f,h).startPeriod;t.isDisabled(s)||t.isExcluded(s)||((o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),a-m<0?t.updateFocusOnPaginate(h-(m-a)):a-m>=h?t.updateFocusOnPaginate(Math.abs(h-(a-m))):(u=(l=t.YEAR_REFS[a-m])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},t.isSameDay=function(a,s){return pe(a,s)},t.isCurrentYear=function(a){return a===le(ye())},t.isRangeStart=function(a){return t.props.startDate&&t.props.endDate&&Wt(Gt(ye(),a),t.props.startDate)},t.isRangeEnd=function(a){return t.props.startDate&&t.props.endDate&&Wt(Gt(ye(),a),t.props.endDate)},t.isInRange=function(a){return Xa(a,t.props.startDate,t.props.endDate)},t.isInSelectingRange=function(a){var s=t.props,i=s.selectsStart,o=s.selectsEnd,l=s.selectsRange,u=s.startDate,d=s.endDate;return!(i||o||l)||!t.selectingDate()?!1:i&&d?Xa(a,t.selectingDate(),d):o&&u||l&&u&&!d?Xa(a,u,t.selectingDate()):!1},t.isSelectingRangeStart=function(a){var s;if(!t.isInSelectingRange(a))return!1;var i=t.props,o=i.startDate,l=i.selectsStart,u=Gt(ye(),a);return l?Wt(u,(s=t.selectingDate())!==null&&s!==void 0?s:null):Wt(u,o!=null?o:null)},t.isSelectingRangeEnd=function(a){var s;if(!t.isInSelectingRange(a))return!1;var i=t.props,o=i.endDate,l=i.selectsEnd,u=i.selectsRange,d=Gt(ye(),a);return l||u?Wt(d,(s=t.selectingDate())!==null&&s!==void 0?s:null):Wt(d,o!=null?o:null)},t.isKeyboardSelected=function(a){if(!(t.props.date===void 0||t.props.selected==null||t.props.preSelection==null)){var s=t.props,i=s.minDate,o=s.maxDate,l=s.excludeDates,u=s.includeDates,d=s.filterDate,f=Xr(Gt(t.props.date,a)),h=(i||o||l||u||d)&&hs(a,t.props);return!t.props.disabledKeyboardNavigation&&!t.props.inline&&!pe(f,Xr(t.props.selected))&&pe(f,Xr(t.props.preSelection))&&!h}},t.isSelectedYear=function(a){var s=t.props,i=s.selectsMultiple,o=s.selected,l=s.selectedDates;return i?l==null?void 0:l.some(function(u){return a===le(u)}):!o||a===le(o)},t.onYearClick=function(a,s){var i=t.props.date;i!==void 0&&t.handleYearClick(Xr(Gt(i,s)),a)},t.onYearKeyDown=function(a,s){var i,o,l=a.key,u=t.props,d=u.date,f=u.yearItemNumber,h=u.handleOnKeyDown;if(l!==V.Tab&&a.preventDefault(),!t.props.disabledKeyboardNavigation)switch(l){case V.Enter:if(t.props.selected==null)break;t.onYearClick(a,s),(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,t.props.selected);break;case V.ArrowRight:if(t.props.preSelection==null)break;t.handleYearNavigation(s+1,un(t.props.preSelection,1));break;case V.ArrowLeft:if(t.props.preSelection==null)break;t.handleYearNavigation(s-1,Tr(t.props.preSelection,1));break;case V.ArrowUp:{if(d===void 0||f===void 0||t.props.preSelection==null)break;var m=En(d,f).startPeriod,v=su,g=s-v;if(g<m){var y=f%v;s>=m&&s<m+y?v=y:v+=y,g=s-v}t.handleYearNavigation(g,Tr(t.props.preSelection,v));break}case V.ArrowDown:{if(d===void 0||f===void 0||t.props.preSelection==null)break;var w=En(d,f).endPeriod,v=su,g=s+v;if(g>w){var y=f%v;s<=w&&s>w-y?v=y:v+=y,g=s+v}t.handleYearNavigation(g,un(t.props.preSelection,v));break}}h&&h(a)},t.getYearClassNames=function(a){var s=t.props,i=s.date,o=s.minDate,l=s.maxDate,u=s.excludeDates,d=s.includeDates,f=s.filterDate,h=s.yearClassName;return Je("react-datepicker__year-text","react-datepicker__year-".concat(a),i?h==null?void 0:h(Gt(i,a)):void 0,{"react-datepicker__year-text--selected":t.isSelectedYear(a),"react-datepicker__year-text--disabled":(o||l||u||d||f)&&hs(a,t.props),"react-datepicker__year-text--keyboard-selected":t.isKeyboardSelected(a),"react-datepicker__year-text--range-start":t.isRangeStart(a),"react-datepicker__year-text--range-end":t.isRangeEnd(a),"react-datepicker__year-text--in-range":t.isInRange(a),"react-datepicker__year-text--in-selecting-range":t.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":t.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":t.isSelectingRangeEnd(a),"react-datepicker__year-text--today":t.isCurrentYear(a)})},t.getYearTabIndex=function(a){if(t.props.disabledKeyboardNavigation||t.props.preSelection==null)return"-1";var s=le(t.props.preSelection),i=hs(a,t.props);return a===s&&!i?"0":"-1"},t.getYearContent=function(a){return t.props.renderYearContent?t.props.renderYearContent(a):a},t}return r.prototype.render=function(){var e=this,t=[],a=this.props,s=a.date,i=a.yearItemNumber,o=a.onYearMouseEnter,l=a.onYearMouseLeave;if(s===void 0)return null;for(var u=En(s,i),d=u.startPeriod,f=u.endPeriod,h=function(g){t.push(P.createElement("div",{ref:m.YEAR_REFS[g-d],onClick:function(y){e.onYearClick(y,g)},onKeyDown:function(y){Xf(y)&&(y.preventDefault(),y.key=V.Enter),e.onYearKeyDown(y,g)},tabIndex:Number(m.getYearTabIndex(g)),className:m.getYearClassNames(g),onMouseEnter:m.props.usePointerEvent?void 0:function(y){return o(y,g)},onPointerEnter:m.props.usePointerEvent?function(y){return o(y,g)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(y){return l(y,g)},onPointerLeave:m.props.usePointerEvent?function(y){return l(y,g)}:void 0,key:g,"aria-current":m.isCurrentYear(g)?"date":void 0},m.getYearContent(g)))},m=this,v=d;v<=f;v++)h(v);return P.createElement("div",{className:"react-datepicker__year"},P.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},r}(p.Component);function rD(n,r,e,t){for(var a=[],s=0;s<2*r+1;s++){var i=n+r-s,o=!0;e&&(o=le(e)<=i),t&&o&&(o=le(t)>=i),o&&a.push(i)}return a}var aD=function(n){qe(r,n);function r(e){var t=n.call(this,e)||this;t.renderOptions=function(){var o=t.props.year,l=t.state.yearsList.map(function(f){return P.createElement("div",{className:o===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:t.onChange.bind(t,f),"aria-selected":o===f?"true":void 0},o===f?P.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),u=t.props.minDate?le(t.props.minDate):null,d=t.props.maxDate?le(t.props.maxDate):null;return(!d||!t.state.yearsList.find(function(f){return f===d}))&&l.unshift(P.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:t.incrementYears},P.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!t.state.yearsList.find(function(f){return f===u}))&&l.push(P.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:t.decrementYears},P.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},t.onChange=function(o){t.props.onChange(o)},t.handleClickOutside=function(){t.props.onCancel()},t.shiftYears=function(o){var l=t.state.yearsList.map(function(u){return u+o});t.setState({yearsList:l})},t.incrementYears=function(){return t.shiftYears(1)},t.decrementYears=function(){return t.shiftYears(-1)};var a=e.yearDropdownItemNumber,s=e.scrollableYearDropdown,i=a||(s?10:5);return t.state={yearsList:rD(t.props.year,i,t.props.minDate,t.props.maxDate)},t.dropdownRef=p.createRef(),t}return r.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,a=t?t.find(function(s){return s.ariaSelected}):null;e.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},r.prototype.render=function(){var e=Je({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return P.createElement(mi,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(p.Component),sD=function(n){qe(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var t=e.props.minDate?le(e.props.minDate):1900,a=e.props.maxDate?le(e.props.maxDate):2100,s=[],i=t;i<=a;i++)s.push(P.createElement("option",{key:i,value:i},i));return s},e.onSelectChange=function(t){e.onChange(parseInt(t.target.value))},e.renderSelectMode=function(){return P.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(t){return P.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return e.toggleDropdown(a)}},P.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),P.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))},e.renderDropdown=function(){return P.createElement(aD,he({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var t=e.state.dropdownVisible,a=[e.renderReadView(!t)];return t&&a.unshift(e.renderDropdown()),a},e.onChange=function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)},e.toggleDropdown=function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)})},e.handleYearChange=function(t,a){var s;(s=e.onSelect)===null||s===void 0||s.call(e,t,a),e.setOpen()},e.onSelect=function(t,a){var s,i;(i=(s=e.props).onSelect)===null||i===void 0||i.call(s,t,a)},e.setOpen=function(){var t,a;(a=(t=e.props).setOpen)===null||a===void 0||a.call(t,!0)},e}return r.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return P.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},r}(p.Component),iD=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],oD=function(n){var r=(n.className||"").split(/\s+/);return iD.some(function(e){return r.indexOf(e)>=0})},lD=function(n){qe(r,n);function r(e){var t=n.call(this,e)||this;return t.monthContainer=void 0,t.handleClickOutside=function(a){t.props.onClickOutside(a)},t.setClickOutsideRef=function(){return t.containerRef.current},t.handleDropdownFocus=function(a){var s,i;oD(a.target)&&((i=(s=t.props).onDropdownFocus)===null||i===void 0||i.call(s,a))},t.getDateInView=function(){var a=t.props,s=a.preSelection,i=a.selected,o=a.openToDate,l=qf(t.props),u=Qf(t.props),d=ye(),f=o||i||s;return f||(l&&Jn(d,l)?l:u&&xn(d,u)?u:d)},t.increaseMonth=function(){t.setState(function(a){var s=a.date;return{date:At(s,1)}},function(){return t.handleMonthChange(t.state.date)})},t.decreaseMonth=function(){t.setState(function(a){var s=a.date;return{date:Un(s,1)}},function(){return t.handleMonthChange(t.state.date)})},t.handleDayClick=function(a,s,i){t.props.onSelect(a,s,i),t.props.setPreSelection&&t.props.setPreSelection(a)},t.handleDayMouseEnter=function(a){t.setState({selectingDate:a}),t.props.onDayMouseEnter&&t.props.onDayMouseEnter(a)},t.handleMonthMouseLeave=function(){t.setState({selectingDate:void 0}),t.props.onMonthMouseLeave&&t.props.onMonthMouseLeave()},t.handleYearMouseEnter=function(a,s){t.setState({selectingDate:Gt(ye(),s)}),t.props.onYearMouseEnter&&t.props.onYearMouseEnter(a,s)},t.handleYearMouseLeave=function(a,s){t.props.onYearMouseLeave&&t.props.onYearMouseLeave(a,s)},t.handleYearChange=function(a){var s,i,o,l;(i=(s=t.props).onYearChange)===null||i===void 0||i.call(s,a),t.setState({isRenderAriaLiveMessage:!0}),t.props.adjustDateOnChange&&(t.props.onSelect(a),(l=(o=t.props).setOpen)===null||l===void 0||l.call(o,!0)),t.props.setPreSelection&&t.props.setPreSelection(a)},t.getEnabledPreSelectionDateForMonth=function(a){if(!_t(a,t.props))return a;for(var s=hn(a),i=x0(a),o=Py(i,s),l=null,u=0;u<=o;u++){var d=Mt(s,u);if(!_t(d,t.props)){l=d;break}}return l},t.handleMonthChange=function(a){var s,i,o,l=(s=t.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;t.handleCustomMonthChange(l),t.props.adjustDateOnChange&&(t.props.onSelect(l),(o=(i=t.props).setOpen)===null||o===void 0||o.call(i,!0)),t.props.setPreSelection&&t.props.setPreSelection(l)},t.handleCustomMonthChange=function(a){var s,i;(i=(s=t.props).onMonthChange)===null||i===void 0||i.call(s,a),t.setState({isRenderAriaLiveMessage:!0})},t.handleMonthYearChange=function(a){t.handleYearChange(a),t.handleMonthChange(a)},t.changeYear=function(a){t.setState(function(s){var i=s.date;return{date:Gt(i,Number(a))}},function(){return t.handleYearChange(t.state.date)})},t.changeMonth=function(a){t.setState(function(s){var i=s.date;return{date:wt(i,Number(a))}},function(){return t.handleMonthChange(t.state.date)})},t.changeMonthYear=function(a){t.setState(function(s){var i=s.date;return{date:Gt(wt(i,ot(a)),le(a))}},function(){return t.handleMonthYearChange(t.state.date)})},t.header=function(a){a===void 0&&(a=t.state.date);var s=Cn(a,t.props.locale,t.props.calendarStartDay),i=[];return t.props.showWeekNumbers&&i.push(P.createElement("div",{key:"W",className:"react-datepicker__day-name"},t.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map(function(o){var l=Mt(s,o),u=t.formatWeekday(l,t.props.locale),d=t.props.weekDayClassName?t.props.weekDayClassName(l):void 0;return P.createElement("div",{key:o,"aria-label":Oe(l,"EEEE",t.props.locale),className:Je("react-datepicker__day-name",d)},u)}))},t.formatWeekday=function(a,s){return t.props.formatWeekDay?P0(a,t.props.formatWeekDay,s):t.props.useWeekdaysShort?T0(a,s):M0(a,s)},t.decreaseYear=function(){t.setState(function(a){var s,i=a.date;return{date:Tr(i,t.props.showYearPicker?(s=t.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.clearSelectingDate=function(){t.setState({selectingDate:void 0})},t.renderPreviousButton=function(){var a,s,i;if(!t.props.renderCustomHeader){var o=(a=t.props.monthsShown)!==null&&a!==void 0?a:r.defaultProps.monthsShown,l=t.props.showPreviousMonths?o-1:0,u=(s=t.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=Un(t.state.date,u),f;switch(!0){case t.props.showMonthYearPicker:f=Xc(t.state.date,t.props);break;case t.props.showYearPicker:f=F0(t.state.date,t.props);break;case t.props.showQuarterYearPicker:f=L0(t.state.date,t.props);break;default:f=qc(d,t.props);break}if(!(!((i=t.props.forceShowMonthNavigation)!==null&&i!==void 0?i:r.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&f||t.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=t.decreaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(v=t.decreaseYear),f&&t.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),v=void 0);var g=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,y=t.props,w=y.previousMonthButtonLabel,k=w===void 0?r.defaultProps.previousMonthButtonLabel:w,x=y.previousYearButtonLabel,E=x===void 0?r.defaultProps.previousYearButtonLabel:x,N=t.props,_=N.previousMonthAriaLabel,S=_===void 0?typeof k=="string"?k:"Previous Month":_,D=N.previousYearAriaLabel,C=D===void 0?typeof E=="string"?E:"Previous Year":D;return P.createElement("button",{type:"button",className:m.join(" "),onClick:v,onKeyDown:t.props.handleOnKeyDown,"aria-label":g?C:S},P.createElement("span",{className:h.join(" ")},g?E:k))}}},t.increaseYear=function(){t.setState(function(a){var s,i=a.date;return{date:un(i,t.props.showYearPicker?(s=t.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.renderNextButton=function(){var a;if(!t.props.renderCustomHeader){var s;switch(!0){case t.props.showMonthYearPicker:s=Zc(t.state.date,t.props);break;case t.props.showYearPicker:s=$0(t.state.date,t.props);break;case t.props.showQuarterYearPicker:s=I0(t.state.date,t.props);break;default:s=Qc(t.state.date,t.props);break}if(!(!((a=t.props.forceShowMonthNavigation)!==null&&a!==void 0?a:r.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&s||t.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];t.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),t.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var l=t.increaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(l=t.increaseYear),s&&t.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,d=t.props,f=d.nextMonthButtonLabel,h=f===void 0?r.defaultProps.nextMonthButtonLabel:f,m=d.nextYearButtonLabel,v=m===void 0?r.defaultProps.nextYearButtonLabel:m,g=t.props,y=g.nextMonthAriaLabel,w=y===void 0?typeof h=="string"?h:"Next Month":y,k=g.nextYearAriaLabel,x=k===void 0?typeof v=="string"?v:"Next Year":k;return P.createElement("button",{type:"button",className:i.join(" "),onClick:l,onKeyDown:t.props.handleOnKeyDown,"aria-label":u?x:w},P.createElement("span",{className:o.join(" ")},u?v:h))}}},t.renderCurrentMonth=function(a){a===void 0&&(a=t.state.date);var s=["react-datepicker__current-month"];return t.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),t.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),t.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),P.createElement("h2",{className:s.join(" ")},Oe(a,t.props.dateFormat,t.props.locale))},t.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!t.props.showYearDropdown||a))return P.createElement(sD,he({},r.defaultProps,t.props,{date:t.state.date,onChange:t.changeYear,year:le(t.state.date)}))},t.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!t.props.showMonthDropdown||a))return P.createElement(X0,he({},r.defaultProps,t.props,{month:ot(t.state.date),onChange:t.changeMonth}))},t.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!t.props.showMonthYearDropdown||a))return P.createElement(eD,he({},r.defaultProps,t.props,{date:t.state.date,onChange:t.changeMonthYear}))},t.handleTodayButtonClick=function(a){t.props.onSelect(Hc(),a),t.props.setPreSelection&&t.props.setPreSelection(Hc())},t.renderTodayButton=function(){if(!(!t.props.todayButton||t.props.showTimeSelectOnly))return P.createElement("div",{className:"react-datepicker__today-button",onClick:t.handleTodayButtonClick},t.props.todayButton)},t.renderDefaultHeader=function(a){var s=a.monthDate,i=a.i;return P.createElement("div",{className:"react-datepicker__header ".concat(t.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},t.renderCurrentMonth(s),P.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(t.props.dropdownMode),onFocus:t.handleDropdownFocus},t.renderMonthDropdown(i!==0),t.renderMonthYearDropdown(i!==0),t.renderYearDropdown(i!==0)),P.createElement("div",{className:"react-datepicker__day-names"},t.header(s)))},t.renderCustomHeader=function(a){var s,i,o=a.monthDate,l=a.i;if(t.props.showTimeSelect&&!t.state.monthContainer||t.props.showTimeSelectOnly)return null;var u=qc(t.state.date,t.props),d=Qc(t.state.date,t.props),f=Xc(t.state.date,t.props),h=Zc(t.state.date,t.props),m=!t.props.showMonthYearPicker&&!t.props.showQuarterYearPicker&&!t.props.showYearPicker;return P.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:t.props.onDropdownFocus},(i=(s=t.props).renderCustomHeader)===null||i===void 0?void 0:i.call(s,he(he({},t.state),{customHeaderCount:l,monthDate:o,changeMonth:t.changeMonth,changeYear:t.changeYear,decreaseMonth:t.decreaseMonth,increaseMonth:t.increaseMonth,decreaseYear:t.decreaseYear,increaseYear:t.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:h})),m&&P.createElement("div",{className:"react-datepicker__day-names"},t.header(o)))},t.renderYearHeader=function(a){var s=a.monthDate,i=t.props,o=i.showYearPicker,l=i.yearItemNumber,u=l===void 0?r.defaultProps.yearItemNumber:l,d=En(s,u),f=d.startPeriod,h=d.endPeriod;return P.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(f," - ").concat(h):le(s))},t.renderHeader=function(a){var s=a.monthDate,i=a.i,o=i===void 0?0:i,l={monthDate:s,i:o};switch(!0){case t.props.renderCustomHeader!==void 0:return t.renderCustomHeader(l);case(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker):return t.renderYearHeader(l);default:return t.renderDefaultHeader(l)}},t.renderMonths=function(){var a,s;if(!(t.props.showTimeSelectOnly||t.props.showYearPicker)){for(var i=[],o=(a=t.props.monthsShown)!==null&&a!==void 0?a:r.defaultProps.monthsShown,l=t.props.showPreviousMonths?o-1:0,u=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?un(t.state.date,l):Un(t.state.date,l),d=(s=t.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<o;++f){var h=f-d+l,m=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?un(u,h):At(u,h),v="month-".concat(f),g=f<o-1,y=f>0;i.push(P.createElement("div",{key:v,ref:function(w){t.monthContainer=w!=null?w:void 0},className:"react-datepicker__month-container"},t.renderHeader({monthDate:m,i:f}),P.createElement(q0,he({},r.defaultProps,t.props,{containerRef:t.containerRef,ariaLabelPrefix:t.props.monthAriaLabelPrefix,day:m,onDayClick:t.handleDayClick,handleOnKeyDown:t.props.handleOnDayKeyDown,handleOnMonthKeyDown:t.props.handleOnKeyDown,onDayMouseEnter:t.handleDayMouseEnter,onMouseLeave:t.handleMonthMouseLeave,orderInDisplay:f,selectingDate:t.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:y}))))}return i}},t.renderYears=function(){if(!t.props.showTimeSelectOnly&&t.props.showYearPicker)return P.createElement("div",{className:"react-datepicker__year--container"},t.renderHeader({monthDate:t.state.date}),P.createElement(nD,he({},r.defaultProps,t.props,{selectingDate:t.state.selectingDate,date:t.state.date,onDayClick:t.handleDayClick,clearSelectingDate:t.clearSelectingDate,onYearMouseEnter:t.handleYearMouseEnter,onYearMouseLeave:t.handleYearMouseLeave})))},t.renderTimeSection=function(){if(t.props.showTimeSelect&&(t.state.monthContainer||t.props.showTimeSelectOnly))return P.createElement(tD,he({},r.defaultProps,t.props,{onChange:t.props.onTimeChange,format:t.props.timeFormat,intervals:t.props.timeIntervals,monthRef:t.state.monthContainer}))},t.renderInputTimeSection=function(){var a=t.props.selected?new Date(t.props.selected):void 0,s=a&&vi(a)&&!!t.props.selected,i=s?"".concat(eu(a.getHours()),":").concat(eu(a.getMinutes())):"";if(t.props.showTimeInput)return P.createElement(H0,he({},r.defaultProps,t.props,{date:a,timeString:i,onChange:t.props.onTimeChange}))},t.renderAriaLiveRegion=function(){var a,s=En(t.state.date,(a=t.props.yearItemNumber)!==null&&a!==void 0?a:r.defaultProps.yearItemNumber),i=s.startPeriod,o=s.endPeriod,l;return t.props.showYearPicker?l="".concat(i," - ").concat(o):t.props.showMonthYearPicker||t.props.showQuarterYearPicker?l=le(t.state.date):l="".concat(Sl(ot(t.state.date),t.props.locale)," ").concat(le(t.state.date)),P.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t.state.isRenderAriaLiveMessage&&l)},t.renderChildren=function(){if(t.props.children)return P.createElement("div",{className:"react-datepicker__children-container"},t.props.children)},t.containerRef=p.createRef(),t.state={date:t.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Na}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){e.setState({monthContainer:e.monthContainer})}())},r.prototype.componentDidUpdate=function(e){var t=this;if(this.props.preSelection&&(!pe(this.props.preSelection,e.preSelection)||this.props.monthSelectedIn!==e.monthSelectedIn)){var a=!st(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!pe(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var e=this.props.container||_0;return P.createElement(mi,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},P.createElement("div",{style:{display:"contents"},ref:this.containerRef},P.createElement(e,{className:Je("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},r}(p.Component),cD=function(n){var r=n.icon,e=n.className,t=e===void 0?"":e,a=n.onClick,s="react-datepicker__calendar-icon";if(typeof r=="string")return P.createElement("i",{className:"".concat(s," ").concat(r," ").concat(t),"aria-hidden":"true",onClick:a});if(P.isValidElement(r)){var i=r;return P.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(s," ").concat(t),onClick:function(o){typeof i.props.onClick=="function"&&i.props.onClick(o),typeof a=="function"&&a(o)}})}return P.createElement("svg",{className:"".concat(s," ").concat(t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},P.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Zf=function(n){qe(r,n);function r(e){var t=n.call(this,e)||this;return t.portalRoot=null,t.el=document.createElement("div"),t}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return yh.createPortal(this.props.children,this.el)},r}(p.Component),uD="[tabindex], a, button, input, select, textarea",dD=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},Jf=function(n){qe(r,n);function r(e){var t=n.call(this,e)||this;return t.getTabChildren=function(){var a;return Array.prototype.slice.call((a=t.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(uD),1,-1).filter(dD)},t.handleFocusStart=function(){var a=t.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},t.handleFocusEnd=function(){var a=t.getTabChildren();a&&a.length>1&&a[0].focus()},t.tabLoopRef=p.createRef(),t}return r.prototype.render=function(){var e;return((e=this.props.enableTabLoop)!==null&&e!==void 0?e:r.defaultProps.enableTabLoop)?P.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},P.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,P.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(p.Component);function fD(n){var r=function(e){var t,a=typeof e.hidePopper=="boolean"?e.hidePopper:!0,s=p.useRef(null),i=w0(he({open:!a,whileElementsMounted:Z_,placement:e.popperPlacement,middleware:zt([s0({padding:15}),a0(10),i0({element:s})],(t=e.popperModifiers)!==null&&t!==void 0?t:[],!0)},e.popperProps)),o=he(he({},e),{hidePopper:a,popperProps:he(he({},i),{arrowRef:s})});return P.createElement(n,he({},o))};return r}var pD=function(n){qe(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var e=this.props,t=e.className,a=e.wrapperClassName,s=e.hidePopper,i=s===void 0?r.defaultProps.hidePopper:s,o=e.popperComponent,l=e.targetComponent,u=e.enableTabLoop,d=e.popperOnKeyDown,f=e.portalId,h=e.portalHost,m=e.popperProps,v=e.showArrow,g=void 0;if(!i){var y=Je("react-datepicker-popper",t);g=P.createElement(Jf,{enableTabLoop:u},P.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:y,"data-placement":m.placement,onKeyDown:d},o,v&&P.createElement(p0,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=p.createElement(this.props.popperContainer,{},g)),f&&!i&&(g=P.createElement(Zf,{portalId:f,portalHost:h},g));var w=Je("react-datepicker-wrapper",a);return P.createElement(P.Fragment,null,P.createElement("div",{ref:m.refs.setReference,className:w},l),g)},r}(p.Component),hD=fD(pD),iu="react-datepicker-ignore-onclickoutside";function mD(n,r){return n&&r?ot(n)!==ot(r)||le(n)!==le(r):n!==r}var qi="Date input not valid.",vD=function(n){qe(r,n);function r(e){var t=n.call(this,e)||this;return t.calendar=null,t.input=null,t.getPreSelection=function(){return t.props.openToDate?t.props.openToDate:t.props.selectsEnd&&t.props.startDate?t.props.startDate:t.props.selectsStart&&t.props.endDate?t.props.endDate:ye()},t.modifyHolidays=function(){var a;return(a=t.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,i){var o=new Date(i.date);return vi(o)?zt(zt([],s,!0),[he(he({},i),{date:o})],!1):s},[])},t.calcInitialState=function(){var a,s=t.getPreSelection(),i=qf(t.props),o=Qf(t.props),l=i&&Jn(s,ps(i))?i:o&&xn(s,Uc(o))?o:s;return{open:t.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=t.props.selectsRange?t.props.startDate:t.props.selected)!==null&&a!==void 0?a:l,highlightDates:Jc(t.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},t.resetHiddenStatus=function(){t.setState(he(he({},t.state),{wasHidden:!1}))},t.setHiddenStatus=function(){t.setState(he(he({},t.state),{wasHidden:!0}))},t.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&t.setHiddenStatus()},t.clearPreventFocusTimeout=function(){t.preventFocusTimeout&&clearTimeout(t.preventFocusTimeout)},t.setFocus=function(){var a,s;(s=(a=t.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},t.setBlur=function(){var a,s;(s=(a=t.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),t.cancelFocusInput()},t.deferBlur=function(){requestAnimationFrame(function(){t.setBlur()})},t.setOpen=function(a,s){s===void 0&&(s=!1),t.setState({open:a,preSelection:a&&t.state.open?t.state.preSelection:t.calcInitialState().preSelection,lastPreSelectChange:Qi},function(){a||t.setState(function(i){return{focused:s?i.focused:!1}},function(){!s&&t.deferBlur(),t.setState({inputValue:null})})})},t.inputOk=function(){return dn(t.state.preSelection)},t.isCalendarOpen=function(){return t.props.open===void 0?t.state.open&&!t.props.disabled&&!t.props.readOnly:t.props.open},t.handleFocus=function(a){var s,i,o=t.state.wasHidden,l=o?t.state.open:!0;o&&t.resetHiddenStatus(),t.state.preventFocus||((i=(s=t.props).onFocus)===null||i===void 0||i.call(s,a),l&&!t.props.preventOpenOnFocus&&!t.props.readOnly&&t.setOpen(!0)),t.setState({focused:!0})},t.sendFocusBackToInput=function(){t.preventFocusTimeout&&t.clearPreventFocusTimeout(),t.setState({preventFocus:!0},function(){t.preventFocusTimeout=setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})})},t.cancelFocusInput=function(){clearTimeout(t.inputFocusTimeout),t.inputFocusTimeout=void 0},t.deferFocusInput=function(){t.cancelFocusInput(),t.inputFocusTimeout=setTimeout(function(){return t.setFocus()},1)},t.handleDropdownFocus=function(){t.cancelFocusInput()},t.handleBlur=function(a){var s,i;(!t.state.open||t.props.withPortal||t.props.showTimeInput)&&((i=(s=t.props).onBlur)===null||i===void 0||i.call(s,a)),t.state.open&&t.props.open===!1&&t.setOpen(!1),t.setState({focused:!1})},t.handleCalendarClickOutside=function(a){var s,i;t.props.inline||t.setOpen(!1),(i=(s=t.props).onClickOutside)===null||i===void 0||i.call(s,a),t.props.withPortal&&a.preventDefault()},t.handleChange=function(){for(var a,s,i,o,l,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var f=u[0];if(!(t.props.onChangeRaw&&(t.props.onChangeRaw.apply(t,u),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){t.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:gD});var h=t.props,m=h.selectsRange,v=h.startDate,g=h.endDate,y=(a=t.props.dateFormat)!==null&&a!==void 0?a:r.defaultProps.dateFormat,w=(s=t.props.strictParsing)!==null&&s!==void 0?s:r.defaultProps.strictParsing,k=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(m){var x=k.split("-",2).map(function(R){return R.trim()}),E=x[0],N=x[1],_=Vi(E!=null?E:"",y,t.props.locale,w),S=Vi(N!=null?N:"",y,t.props.locale,w),D=(v==null?void 0:v.getTime())!==(_==null?void 0:_.getTime()),C=(g==null?void 0:g.getTime())!==(S==null?void 0:S.getTime());if(!D&&!C||_&&_t(_,t.props)||S&&_t(S,t.props))return;(o=(i=t.props).onChange)===null||o===void 0||o.call(i,[_,S],f)}else{var O=Vi(k,y,t.props.locale,w,(l=t.props.selected)!==null&&l!==void 0?l:void 0);(O||!k)&&t.setSelected(O,f,!0)}}},t.handleSelect=function(a,s,i){if(t.props.shouldCloseOnSelect&&!t.props.showTimeSelect&&t.sendFocusBackToInput(),t.props.onChangeRaw&&t.props.onChangeRaw(s),t.setSelected(a,s,!1,i),t.props.showDateSelect&&t.setState({isRenderAriaLiveMessage:!0}),!t.props.shouldCloseOnSelect||t.props.showTimeSelect)t.setPreSelection(a);else if(!t.props.inline){t.props.selectsRange||t.setOpen(!1);var o=t.props,l=o.startDate,u=o.endDate;l&&!u&&(t.props.swapRange||!ru(a,l))&&t.setOpen(!1)}},t.setSelected=function(a,s,i,o){var l,u,d=a;if(t.props.showYearPicker){if(d!==null&&hs(le(d),t.props))return}else if(t.props.showMonthYearPicker){if(d!==null&&zf(d,t.props))return}else if(d!==null&&_t(d,t.props))return;var f=t.props,h=f.onChange,m=f.selectsRange,v=f.startDate,g=f.endDate,y=f.selectsMultiple,w=f.selectedDates,k=f.minTime,x=f.swapRange;if(!jn(t.props.selected,d)||t.props.allowSameDay||m||y)if(d!==null&&(t.props.selected&&(!i||!t.props.showTimeSelect&&!t.props.showTimeSelectOnly&&!t.props.showTimeInput)&&(d=Ki(d,{hour:fn(t.props.selected),minute:pn(t.props.selected),second:kn(t.props.selected)})),!i&&(t.props.showTimeSelect||t.props.showTimeSelectOnly)&&k&&(d=Ki(d,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),t.props.inline||t.setState({preSelection:d}),t.props.focusSelectedMonth||t.setState({monthSelectedIn:o})),m){var E=!v&&!g,N=v&&!g,_=v&&g;E?h==null||h([d,null],s):N&&(d===null?h==null||h([null,null],s):ru(d,v)?x?h==null||h([d,v],s):h==null||h([d,null],s):h==null||h([v,d],s)),_&&(h==null||h([d,null],s))}else if(y){if(d!==null)if(!(w!=null&&w.length))h==null||h([d],s);else{var S=w.some(function(C){return pe(C,d)});if(S){var D=w.filter(function(C){return!pe(C,d)});h==null||h(D,s)}else h==null||h(zt(zt([],w,!0),[d],!1),s)}}else h==null||h(d,s);i||((u=(l=t.props).onSelect)===null||u===void 0||u.call(l,d,s),t.setState({inputValue:null}))},t.setPreSelection=function(a){var s=dn(t.props.minDate),i=dn(t.props.maxDate),o=!0;if(a){var l=ps(a);if(s&&i)o=Zr(a,t.props.minDate,t.props.maxDate);else if(s){var u=ps(t.props.minDate);o=xn(a,u)||jn(l,u)}else if(i){var d=Uc(t.props.maxDate);o=Jn(a,d)||jn(l,d)}}o&&t.setState({preSelection:a})},t.toggleCalendar=function(){t.setOpen(!t.state.open)},t.handleTimeChange=function(a){var s,i;if(!(t.props.selectsRange||t.props.selectsMultiple)){var o=t.props.selected?t.props.selected:t.getPreSelection(),l=t.props.selected?a:Ki(o,{hour:fn(a),minute:pn(a)});t.setState({preSelection:l}),(i=(s=t.props).onChange)===null||i===void 0||i.call(s,l),t.props.shouldCloseOnSelect&&!t.props.showTimeInput&&(t.sendFocusBackToInput(),t.setOpen(!1)),t.props.showTimeInput&&t.setOpen(!0),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),t.setState({inputValue:null})}},t.onInputClick=function(){var a,s;!t.props.disabled&&!t.props.readOnly&&t.setOpen(!0),(s=(a=t.props).onInputClick)===null||s===void 0||s.call(a)},t.onInputKeyDown=function(a){var s,i,o,l,u,d;(i=(s=t.props).onKeyDown)===null||i===void 0||i.call(s,a);var f=a.key;if(!t.state.open&&!t.props.inline&&!t.props.preventOpenOnFocus){(f===V.ArrowDown||f===V.ArrowUp||f===V.Enter)&&((o=t.onInputClick)===null||o===void 0||o.call(t));return}if(t.state.open){if(f===V.ArrowDown||f===V.ArrowUp){a.preventDefault();var h=t.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":t.props.showWeekPicker&&t.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':t.props.showFullMonthYearPicker||t.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((l=t.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(h);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var v=ye(t.state.preSelection);f===V.Enter?(a.preventDefault(),a.target.blur(),t.inputOk()&&t.state.lastPreSelectChange===Qi?(t.handleSelect(v,a),!t.props.shouldCloseOnSelect&&t.setPreSelection(v)):t.setOpen(!1)):f===V.Escape?(a.preventDefault(),a.target.blur(),t.sendFocusBackToInput(),t.setOpen(!1)):f===V.Tab&&t.setOpen(!1),t.inputOk()||(d=(u=t.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:qi})}},t.onPortalKeyDown=function(a){var s=a.key;s===V.Escape&&(a.preventDefault(),t.setState({preventFocus:!0},function(){t.setOpen(!1),setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})}))},t.onDayKeyDown=function(a){var s,i,o,l,u,d,f=t.props,h=f.minDate,m=f.maxDate,v=f.disabledKeyboardNavigation,g=f.showWeekPicker,y=f.shouldCloseOnSelect,w=f.locale,k=f.calendarStartDay,x=f.adjustDateOnChange,E=f.inline;if((i=(s=t.props).onKeyDown)===null||i===void 0||i.call(s,a),!v){var N=a.key,_=a.shiftKey,S=ye(t.state.preSelection),D=function(L,H){var U=H;switch(L){case V.ArrowRight:U=g?Ts(H,1):Mt(H,1);break;case V.ArrowLeft:U=g?Ac(H,1):kw(H,1);break;case V.ArrowUp:U=Ac(H,1);break;case V.ArrowDown:U=Ts(H,1);break;case V.PageUp:U=_?Tr(H,1):Un(H,1);break;case V.PageDown:U=_?un(H,1):At(H,1);break;case V.Home:U=Cn(H,w,k);break;case V.End:U=C0(H);break}return U},C=function(L,H){for(var U=40,A=L,M=!1,K=0,Y=D(L,H);!M;){if(K>=U){Y=H;break}h&&Y<h&&(A=V.ArrowRight,Y=_t(h,t.props)?D(A,Y):h),m&&Y>m&&(A=V.ArrowLeft,Y=_t(m,t.props)?D(A,Y):m),_t(Y,t.props)?((A===V.PageUp||A===V.Home)&&(A=V.ArrowRight),(A===V.PageDown||A===V.End)&&(A=V.ArrowLeft),Y=D(A,Y)):M=!0,K++}return Y};if(N===V.Enter){a.preventDefault(),t.handleSelect(S,a),!y&&t.setPreSelection(S);return}else if(N===V.Escape){a.preventDefault(),t.setOpen(!1),t.inputOk()||(l=(o=t.props).onInputError)===null||l===void 0||l.call(o,{code:1,msg:qi});return}var O=null;switch(N){case V.ArrowLeft:case V.ArrowRight:case V.ArrowUp:case V.ArrowDown:case V.PageUp:case V.PageDown:case V.Home:case V.End:O=C(N,S);break}if(!O){(d=(u=t.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:qi});return}if(a.preventDefault(),t.setState({lastPreSelectChange:Qi}),x&&t.setSelected(O),t.setPreSelection(O),E){var R=ot(S),F=ot(O),T=le(S),$=le(O);R!==F||T!==$?t.setState({shouldFocusDayInline:!0}):t.setState({shouldFocusDayInline:!1})}}},t.onPopperKeyDown=function(a){var s=a.key;s===V.Escape&&(a.preventDefault(),t.sendFocusBackToInput())},t.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),t.sendFocusBackToInput();var s=t.props,i=s.selectsRange,o=s.onChange;i?o==null||o([null,null],a):o==null||o(null,a),t.setState({inputValue:null})},t.clear=function(){t.onClearClick()},t.onScroll=function(a){typeof t.props.closeOnScroll=="boolean"&&t.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&t.setOpen(!1):typeof t.props.closeOnScroll=="function"&&t.props.closeOnScroll(a)&&t.setOpen(!1)},t.renderCalendar=function(){var a,s;return!t.props.inline&&!t.isCalendarOpen()?null:P.createElement(lD,he({showMonthYearDropdown:void 0,ref:function(i){t.calendar=i}},t.props,t.state,{setOpen:t.setOpen,dateFormat:(a=t.props.dateFormatCalendar)!==null&&a!==void 0?a:r.defaultProps.dateFormatCalendar,onSelect:t.handleSelect,onClickOutside:t.handleCalendarClickOutside,holidays:G0(t.modifyHolidays()),outsideClickIgnoreClass:iu,onDropdownFocus:t.handleDropdownFocus,onTimeChange:t.handleTimeChange,className:t.props.calendarClassName,container:t.props.calendarContainer,handleOnKeyDown:t.props.onKeyDown,handleOnDayKeyDown:t.onDayKeyDown,setPreSelection:t.setPreSelection,dropdownMode:(s=t.props.dropdownMode)!==null&&s!==void 0?s:r.defaultProps.dropdownMode}),t.props.children)},t.renderAriaLiveRegion=function(){var a=t.props,s=a.dateFormat,i=s===void 0?r.defaultProps.dateFormat:s,o=a.locale,l=t.props.showTimeInput||t.props.showTimeSelect,u=l?"PPPPp":"PPPP",d;return t.props.selectsRange?d="Selected start date: ".concat(bt(t.props.startDate,{dateFormat:u,locale:o}),". ").concat(t.props.endDate?"End date: "+bt(t.props.endDate,{dateFormat:u,locale:o}):""):t.props.showTimeSelectOnly?d="Selected time: ".concat(bt(t.props.selected,{dateFormat:i,locale:o})):t.props.showYearPicker?d="Selected year: ".concat(bt(t.props.selected,{dateFormat:"yyyy",locale:o})):t.props.showMonthYearPicker?d="Selected month: ".concat(bt(t.props.selected,{dateFormat:"MMMM yyyy",locale:o})):t.props.showQuarterYearPicker?d="Selected quarter: ".concat(bt(t.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):d="Selected date: ".concat(bt(t.props.selected,{dateFormat:u,locale:o})),P.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},t.renderDateInput=function(){var a,s,i,o=Je(t.props.className,(a={},a[iu]=t.state.open,a)),l=t.props.customInput||P.createElement("input",{type:"text"}),u=t.props.customInputRef||"ref",d=t.props,f=d.dateFormat,h=f===void 0?r.defaultProps.dateFormat:f,m=d.locale,v=typeof t.props.value=="string"?t.props.value:typeof t.state.inputValue=="string"?t.state.inputValue:t.props.selectsRange?S0(t.props.startDate,t.props.endDate,{dateFormat:h,locale:m}):t.props.selectsMultiple?N0((i=t.props.selectedDates)!==null&&i!==void 0?i:[],{dateFormat:h,locale:m}):bt(t.props.selected,{dateFormat:h,locale:m});return p.cloneElement(l,(s={},s[u]=function(g){t.input=g},s.value=v,s.onBlur=t.handleBlur,s.onChange=t.handleChange,s.onClick=t.onInputClick,s.onFocus=t.handleFocus,s.onKeyDown=t.onInputKeyDown,s.id=t.props.id,s.name=t.props.name,s.form=t.props.form,s.autoFocus=t.props.autoFocus,s.placeholder=t.props.placeholderText,s.disabled=t.props.disabled,s.autoComplete=t.props.autoComplete,s.className=Je(l.props.className,o),s.title=t.props.title,s.readOnly=t.props.readOnly,s.required=t.props.required,s.tabIndex=t.props.tabIndex,s["aria-describedby"]=t.props.ariaDescribedBy,s["aria-invalid"]=t.props.ariaInvalid,s["aria-labelledby"]=t.props.ariaLabelledBy,s["aria-required"]=t.props.ariaRequired,s))},t.renderClearButton=function(){var a=t.props,s=a.isClearable,i=a.disabled,o=a.selected,l=a.startDate,u=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,h=f===void 0?"":f,m=a.ariaLabelClose,v=m===void 0?"Close":m,g=a.selectedDates;return s&&(o!=null||l!=null||u!=null||g!=null&&g.length)?P.createElement("button",{type:"button",className:Je("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":v,onClick:t.onClearClick,title:d,tabIndex:-1}):null},t.state=t.calcInitialState(),t.preventFocusTimeout=void 0,t}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Na,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(e,t){var a,s,i,o;e.inline&&mD(e.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Jc(this.props.highlightDates)}),!t.focused&&!jn(e.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),t.open===!0&&this.state.open===!1&&((o=(i=this.props).onCalendarClose)===null||o===void 0||o.call(i)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,a=e.icon,s=e.calendarIconClassname,i=e.calendarIconClassName,o=e.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),P.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&P.createElement(cD,he({icon:a,className:Je(i,!i&&s,l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?P.createElement(Jf,{enableTabLoop:this.props.enableTabLoop},P.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=P.createElement(Zf,he({portalId:this.props.portalId},this.props),t)),P.createElement("div",null,this.renderInputContainer(),t)}return P.createElement(hD,he({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(p.Component),gD="input",Qi="navigate";O0("ru",hl);const ep=p.forwardRef(({value:n,onClick:r,onChange:e,placeholder:t,id:a,...s},i)=>b("div",{className:"custom-date-input",children:[c("input",{ref:i,id:a,value:n,onClick:r,onChange:e,placeholder:t,readOnly:!0,...s}),c("button",{type:"button",onClick:r,"aria-label":"Календарь",children:c(re,{icon:"calender",className:"calendar-icon"})})]}));ep.displayName="CustomDateInput";const tp=({className:n="",onChange:r,id:e,selected:t,minDate:a,maxDate:s,...i})=>{const o=new Date;o.setFullYear(o.getFullYear()+10);const l=s||o,u=new Date;u.setDate(u.getDate()+1);const d=a||u,f=h=>{r(h)};return c("div",{className:"date-picker ".concat(n),children:c(vD,{locale:"ru",dateFormat:"dd.MM.yyyy",onChange:f,customInput:c(ep,{id:e}),maxDate:l,minDate:d,showPopperArrow:!1,placeholderText:"ДД.ММ.ГГГГ",selected:t,...i})})};const Ur=({isLoading:n,children:r})=>{const[e,t]=W("loader");return!n&&!r?null:b("div",{className:e(),children:[n&&c("div",{className:t("overlay"),children:b("svg",{width:"80",height:"80",viewBox:"-10 -10 50 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",overflow:"visible",children:[b("g",{className:t("aim"),children:[c("circle",{cx:"11.3667",cy:"14.56",r:"11.25",fill:"#E05A4F"}),c("circle",{cx:"11.3667",cy:"14.56",r:"8.25",fill:"white"}),c("circle",{cx:"11.3667",cy:"14.56",r:"4.25",fill:"#E05A4F"})]}),b("g",{className:t("dart"),children:[c("rect",{x:"10.33",y:"13.48",width:"18.63",height:"2.077",rx:"1.0385",transform:"rotate(-30.16 10.33 13.48)",fill:"white"}),c("path",{d:"M21.2094 9.564L25.0427 11.212C25.6205 11.4604 26.2818 11.4201 26.827 11.1033L30.4352 9.00667L25.6838 6.964L21.2094 9.564Z",fill:"#3A89D8"}),c("path",{d:"M20.176 7.76267L20.6746 3.59748C20.7498 2.96968 21.1151 2.41344 21.6603 2.09662L25.2685 3.64657e-06L24.6505 5.16267L20.176 7.76267Z",fill:"#3A89D8"})]})]})}),c("div",{className:t("content",{blurred:n}),children:r})]})};const yD=["books"],bD=({onGoalSelected:n,className:r,category:e})=>{const[t,a]=W("external-goal-search",r),[s,i]=p.useState(""),[o]=p.useState("books"),[l,u]=p.useState([]),[d,f]=p.useState(!1),[h,m]=p.useState(1),[v,g]=p.useState(!1),[y,w]=p.useState({}),k=d||s.length<2;if(p.useEffect(()=>{w({})},[l]),e&&!yD.includes(e)||!e)return null;const x=async()=>{if(s.length<2){u([]),g(!1);return}f(!0),g(!0);try{const D=await Pe("goals/search-external",{get:{category:o,query:s}});D.success&&D.data.results?u(D.data.results):(oe.addNotification({type:"error",title:"Ошибка",message:"Не удалось найти подходящие цели"}),u([]))}catch(D){console.error("Ошибка при поиске:",D),oe.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при поиске"}),u([])}finally{f(!1)}},E=D=>{i(D),D.length===0&&(u([]),g(!1))},N=D=>{w(C=>({...C,[D]:!1}))},_=D=>{w(C=>({...C,[D]:!1}))},S=async D=>{const C={title:D.title,description:D.description||"Цель: ".concat(D.title),external_id:D.externalId,externalType:D.type,complexity:dt[h].value};D.imageUrl?(w(O=>({...O,[String(D.externalId)]:!0})),C.imageUrl=D.imageUrl,w(O=>({...O,[String(D.externalId)]:!1}))):oe.addNotification({type:"warning",title:"Внимание",message:"Не удалось загрузить изображение. Вам нужно будет выбрать его вручную."}),n(C),u([]),i(""),g(!1),oe.addNotification({type:"success",title:"Готово",message:"Данные цели загружены! Проверьте и дополните при необходимости."})};return b("div",{className:t(),children:[c("h3",{className:a("title"),children:"Найти готовую цель"}),b("div",{className:a("search-panel"),children:[c("div",{className:a("selectors"),children:c(ht,{className:a("complexity-select"),placeholder:"Выберите сложность",options:dt,activeOption:h,onSelect:m,text:"Сложность"})}),b("div",{className:a("search-field"),children:[c(We,{id:"external-search",text:"Поиск",value:s,setValue:E,placeholder:"Введите название для поиска...",iconBegin:"search",className:a("search-input"),onKeyDown:D=>{D.key==="Enter"&&!k&&(D.preventDefault(),x())}}),c(z,{theme:"blue",icon:"search",onClick:x,size:"medium",className:"".concat(a("search-button")," ").concat(k?"disabled":""),children:d?"Поиск...":"Найти"})]})]}),c("div",{className:a("results-container",{"is-empty":l.length===0&&!d}),children:b(Ur,{isLoading:d,children:[l.length>0&&c("div",{className:a("results"),children:l.map(D=>b("div",{className:a("result-item"),children:[c("div",{className:a("result-image"),children:D.imageUrl?c("img",{src:D.imageUrl,alt:D.title,onLoad:()=>N(String(D.externalId)),onError:()=>_(String(D.externalId))}):c("div",{className:a("no-image"),children:c(re,{icon:"mount"})})}),b("div",{className:a("result-details"),children:[c("h4",{className:a("result-title"),children:D.title}),D.description&&b("p",{className:a("result-description"),children:[D.description.substring(0,150),"..."]}),b("div",{className:a("result-meta"),children:[D.type==="movie"&&D.releaseDate&&b("span",{children:["Год: ",D.releaseDate.substring(0,4)]}),D.type==="book"&&D.authors&&b("span",{children:["Авторы: ",D.authors.join(", ")]}),D.type==="travel"&&D.address&&b("span",{children:["Адрес: ",D.address]})]}),c(z,{theme:"green",onClick:()=>S(D),className:"".concat(a("add-button")," ").concat(y[String(D.externalId)]?"disabled":""),icon:"plus",children:y[String(D.externalId)]?"Проверка...":"Добавить как цель"})]})]},"".concat(D.type,"-").concat(D.externalId)))}),l.length===0&&v&&!d&&b("div",{className:a("no-results"),children:[c(re,{icon:"info",className:a("info-icon")}),c("p",{children:"Ничего не найдено. Попробуйте другой запрос."})]})]})})]})},np=async n=>await Pe("goals/search-similar",{get:{query:n}}),ou=async n=>await ft("goals/create",{body:n,file:!0,auth:!0}),rp=(n,r,e=!1)=>{let t=null;return function(...a){const s=()=>{t=null,e||n.apply(this,a)},i=e&&!t;t&&clearTimeout(t),t=setTimeout(s,r),i&&n.apply(this,a)}};const wD=({goal:n,onSelect:r})=>{const[e,t]=W("similar-goal-item"),a=s=>{(s.key==="Enter"||s.key===" ")&&r(n)};return b("div",{className:e(),onClick:()=>r(n),onKeyDown:a,role:"button",tabIndex:0,children:[b("div",{className:t("content"),children:[c("div",{className:t("image-container"),children:n.image?c("img",{src:n.image,alt:n.title,className:t("image")}):c("div",{className:t("no-image"),children:c(re,{icon:"mount"})})}),b("div",{className:t("info"),children:[c("h4",{className:t("title"),children:n.title}),c("p",{className:t("complexity"),children:n.complexity}),c("p",{className:t("description"),children:n.shortDescription})]})]}),c("div",{className:t("select-icon"),children:c(re,{icon:"arrow--right"})})]})};const ap=n=>{const{className:r,onGoalCreated:e,hideNavigation:t=!1,noForm:a=!1,onSubmitForm:s,initialCategory:i,lockCategory:o=!1,initialCategoryParam:l}=n,u=Pn(),d=Uu(),[f,h]=W("add-goal",r),[m,v]=p.useState(""),[g,y]=p.useState(""),[w,k]=p.useState(1),[x,E]=p.useState(null),[N,_]=p.useState(null),[S,D]=p.useState(""),[C,O]=p.useState(null),[R,F]=p.useState(null),[T,$]=p.useState([]),[L,H]=p.useState([]),[U,A]=p.useState(!1),[M,K]=p.useState([]),[,Y]=p.useState(!1),[ee,ie]=p.useState(!1),[ae,ue]=p.useState(!1),Me=j=>{v(j)};p.useEffect(()=>{(async()=>{try{const te=await sr();te.success&&$(te.data)}catch(te){oe.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[]),p.useEffect(()=>{x!==null&&(async()=>{const te=await Wn(T[x].nameEn);te.success&&H(te.data.subcategories),_(null)})()},[x,T]),p.useEffect(()=>{if(i&&T.length>0)if(i.parentCategory){const j=T.findIndex(te=>{var I;return te.id===((I=i.parentCategory)==null?void 0:I.id)});j!==-1&&(E(j),(async()=>{const I=await Wn(T[j].nameEn);if(I.success){H(I.data.subcategories);const se=I.data.subcategories.findIndex(Ne=>Ne.id===i.id);se!==-1&&_(se)}})())}else{const j=T.findIndex(te=>te.id===i.id);j!==-1&&E(j)}},[i,T]),p.useEffect(()=>{if(l&&T.length>0){const j=T.findIndex(te=>te.nameEn===l);j!==-1&&E(j)}else{const te=new URLSearchParams(d.search).get("category");if(te&&T.length>0){const I=T.findIndex(se=>se.nameEn===te);I!==-1&&E(I)}}},[l,d.search,T]);const Ue=p.useCallback(rp(async j=>{var te;if(j.length<3){K([]),Y(!1),ie(!1);return}try{const I=await np(j);I.success&&((te=I==null?void 0:I.data)!=null&&te.results)&&(K(I.data.results),ie(I.data.results.length>0&&ae))}catch(I){console.error("Ошибка при поиске похожих целей:",I)}finally{Y(!1)}},500),[ae]);p.useEffect(()=>{m?(Y(!0),Ue(m)):(K([]),ie(!1))},[m,Ue]);const nt=()=>{ue(!0),M.length>0&&ie(!0)},Ct=()=>{setTimeout(()=>{ue(!1),ie(!1)},200)},rt=j=>{v(j.title),y(j.description);const te=dt.findIndex(se=>se.value===j.complexity);te!==-1&&k(te);const I=T.findIndex(se=>se.id===j.category.id);I!==-1&&(E(I),(async()=>{const Ne=await Wn(T[I].nameEn);if(Ne.success&&(H(Ne.data.subcategories),j.subcategory)){const G=Ne.data.subcategories.findIndex(Q=>{var be;return Q.id===((be=j.subcategory)==null?void 0:be.id)});G!==-1&&_(G)}})()),ie(!1),ue(!1),oe.addNotification({type:"warning",title:"Данные заполнены",message:"Поля формы заполнены данными выбранной цели. Вы можете изменить их перед созданием."})},X=p.useCallback(j=>{j.length>0&&(O(j[0]),F(null))},[]),{getRootProps:J,getInputProps:de}=Xn({onDrop:X,accept:{"image/*":[".jpeg",".jpg",".png",".gif"]},maxFiles:1}),Ve=()=>{v(""),y(""),k(null),E(null),_(null),D(""),O(null),F(null),K([])},ct=async j=>{if(j.preventDefault(),s){s(j);return}if(!m||!g||w===null||x===null||!C&&!R){oe.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}A(!0);try{const te=new FormData;te.append("title",m),te.append("description",g),w!==null&&te.append("complexity",dt[w].value),N!==null?te.append("category",L[N].id.toString()):x!==null&&te.append("category",T[x].id.toString()),C?te.append("image",C):R&&te.append("image_url",R),S&&te.append("deadline",S);const I=await ou(te);if(I.success)oe.addNotification({type:"success",title:"Успех",message:"Цель успешно создана"}),I.data.message&&oe.addNotification({type:"warning",title:"Обратите внимание",message:I.data.message}),e&&I.data?(e(I.data),Ve()):t||u("/goals/".concat(I.data.code));else throw new Error(I.error||"Неизвестная ошибка")}catch(te){oe.addNotification({type:"error",title:"Ошибка",message:te instanceof Error?te.message:"Не удалось создать цель"})}finally{A(!1)}},yt=async()=>{if(!m||!g||w===null||x===null||!C&&!R){oe.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}A(!0);try{const j=new FormData;j.append("title",m),j.append("description",g),w!==null&&j.append("complexity",dt[w].value),N!==null?j.append("category",L[N].id.toString()):x!==null&&j.append("category",T[x].id.toString()),C?j.append("image",C):R&&j.append("image_url",R),S&&j.append("deadline",S);const te=await ou(j);if(te.success)oe.addNotification({type:"success",title:"Успех",message:"Цель успешно создана"}),e&&te.data?(e(te.data),Ve()):t||u("/goals/".concat(te.data.code));else throw new Error(te.error||"Неизвестная ошибка")}catch(j){oe.addNotification({type:"error",title:"Ошибка",message:j instanceof Error?j.message:"Не удалось создать цель"})}finally{A(!1)}},It=j=>{if(v(j.title||""),y(j.description||""),j.complexity){const te=dt.findIndex(I=>I.value===j.complexity);te!==-1&&k(te)}if(j.category){const te=T.findIndex(I=>{var se;return I.id===((se=j.category)==null?void 0:se.id)});te!==-1&&(E(te),(async()=>{const se=await Wn(T[te].nameEn);if(se.success&&(H(se.data.subcategories),j.subcategory)){const Ne=se.data.subcategories.findIndex(G=>{var Q;return G.id===((Q=j.subcategory)==null?void 0:Q.id)});Ne!==-1&&_(Ne)}})())}j.imageUrl?(F(j.imageUrl),O(null)):j.image&&(F(j.image),O(null)),oe.addNotification({type:"success",title:"Готово",message:"Данные цели загружены! Проверьте и дополните при необходимости."})},rn=b(vt,{children:[!t&&b("div",{className:h("wrapper-title"),children:[c(ce,{tag:"h1",className:h("title"),children:"Создание новой цели"}),c(z,{size:"small",type:"Link",theme:"blue",icon:"plus",href:"/list/create",children:"Добавить список целей"})]}),c(Ur,{isLoading:U,children:b("div",{className:h("content"),children:[b("div",{className:h("edit-info-message"),children:[c(re,{icon:"info",className:h("info-icon")}),c("p",{children:"Вы сможете отредактировать или удалить цель в течение 24ч после создания, затем действие будет недоступно"})]}),c("div",{className:h("external-search-section"),children:c(bD,{onGoalSelected:It,className:h("external-search"),category:N!==null&&L.length>0?L[N].nameEn:x!==null?T[x].nameEn:void 0})}),b("div",{className:h("image-section"),children:[c("p",{className:h("field-title"),children:"Изображение цели *"}),!C&&!R?b("div",{...J({className:h("dropzone")}),children:[c("input",{...de()}),b("div",{className:h("upload-placeholder"),children:[c(re,{icon:"mount",className:h("upload-icon")}),c("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})]}):b("div",{className:h("image-preview"),children:[C&&c("img",{src:URL.createObjectURL(C),alt:"Предпросмотр",className:h("preview")}),R&&!C&&c("img",{src:R,alt:"Предпросмотр из источника",className:h("preview")}),c(z,{className:h("remove-image"),type:"button-close",onClick:()=>{O(null),F(null)}})]})]}),b("div",{className:h("form"),children:[b("div",{className:h("field-container"),children:[c(We,{placeholder:"Введите название цели",id:"goal-title",text:"Название цели *",value:m,setValue:Me,className:h("field"),required:!0,onFocus:nt,onBlur:Ct}),ee&&b("div",{className:h("similar-goals"),children:[b("div",{className:h("similar-header"),children:[c("h3",{className:h("similar-title"),children:"Похожие цели"}),c("button",{type:"button",className:h("close-similar"),onClick:()=>ie(!1),"aria-label":"Закрыть",children:c(re,{icon:"cross"})})]}),c("p",{className:h("similar-desc"),children:"Найдены похожие цели. Нажмите на цель, чтобы заполнить форму её данными:"}),c("div",{className:h("similar-list"),children:M.map(j=>c(wD,{goal:j,onSelect:rt},j.id))})]})]}),c(ht,{className:h("field"),placeholder:"Выберите категорию",options:T.map(j=>({name:j.name,value:j.nameEn})),activeOption:x,onSelect:E,text:"Категория *",disabled:o}),x!==null&&L.length>0&&c(ht,{className:h("field"),placeholder:"Выберите подкатегорию (необязательно)",options:L.map(j=>({name:j.name,value:j.nameEn})),activeOption:N,onSelect:_,text:"Подкатегория",disabled:o}),c(ht,{className:h("field"),placeholder:"Выберите сложность",options:dt,activeOption:w,onSelect:k,text:"Сложность *"}),c(We,{placeholder:"Опишите цель подробно",id:"goal-description",text:"Описание *",value:g,setValue:y,className:h("field"),type:"textarea",required:!0}),b("div",{className:h("date-field-container"),children:[c("p",{className:h("field-title"),children:"Планируемая дата реализации"}),c(tp,{selected:S?new Date(S):null,onChange:j=>{D(j?Mr(j,"yyyy-MM-dd"):"")},className:h("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))}),c("small",{id:"date-format-hint",className:h("format-hint"),children:"Укажите планируемую дату достижения цели (не ранее завтрашнего дня)"})]}),b("div",{className:h("btns-wrapper"),children:[!t&&c(z,{theme:"blue-light",className:h("btn"),onClick:()=>u(-1),type:"button",children:"Отмена"}),c(z,{theme:"blue",className:h("btn"),typeBtn:"submit",onClick:a?j=>{j.preventDefault(),yt()}:void 0,children:"Создать цель (+15 опыта)"})]})]})]})})]});return a?c("div",{className:f(),children:rn}):c("form",{className:f(),onSubmit:ct,children:rn})},_D=({page:n})=>{const{setPage:r,setHeader:e,setFull:t}=et;return p.useEffect(()=>{r(n),e("white"),t(!1)},[n,r,e,t]),c(ap,{})},DD=async n=>await ft("goal-lists/create",{body:n,file:!0,auth:!0});const SD=({goal:n,onAdd:r})=>{const[e,t]=W("goal-search-item");return b("div",{className:e(),children:[b("div",{className:t("content"),children:[c("div",{className:t("image-container"),children:n.image?c("img",{src:n.image,alt:n.title,className:t("image")}):c("div",{className:t("no-image"),children:c(re,{icon:"mount"})})}),b("div",{className:t("info"),children:[c("h4",{className:t("title"),children:n.title}),c("p",{className:t("complexity"),children:n.complexity}),c("p",{className:t("description"),children:n.shortDescription})]})]}),c("button",{type:"button",className:t("add-btn"),onClick:()=>r(n),"aria-label":"Добавить цель",children:c(re,{icon:"plus"})})]})};const Xi="addGoalList_cachedData",ND=n=>{const{className:r}=n,e=Pn(),t=Uu(),[a,s]=W("add-goal-list",r),[i,o]=p.useState(""),[l,u]=p.useState(""),[d,f]=p.useState(null),[h,m]=p.useState(null),[v,g]=p.useState(null),[y,w]=p.useState(null),[k,x]=p.useState([]),[E,N]=p.useState([]),[_,S]=p.useState(!1),[D,C]=p.useState(!1),[O,R]=p.useState([]),[F,T]=p.useState(""),[$,L]=p.useState([]),[,H]=p.useState(!1),[U,A]=p.useState(!1);p.useEffect(()=>{(()=>{try{const J=localStorage.getItem(Xi);if(J){const de=JSON.parse(J);o(de.title),u(de.description),f(de.activeComplexity),m(de.activeCategory),g(de.activeSubcategory),R(de.selectedGoals)}}catch(J){console.error("Ошибка при загрузке кешированных данных:",J)}})()},[]),p.useEffect(()=>{if(!i&&!l&&d===null&&h===null&&O.length===0)return;(()=>{try{const J={title:i,description:l,activeComplexity:d,activeCategory:h,activeSubcategory:v,selectedGoals:O};localStorage.setItem(Xi,JSON.stringify(J))}catch(J){console.error("Ошибка при кешировании данных:",J)}})()},[i,l,d,h,v,O]),p.useEffect(()=>{A(h!==null)},[h]);const M=()=>{try{localStorage.removeItem(Xi)}catch(X){console.error("Ошибка при очистке кеша:",X)}},K=X=>{o(X)};p.useEffect(()=>{(async()=>{try{const J=await sr();J.success&&x(J.data)}catch(J){oe.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[]),p.useEffect(()=>{h!==null&&(async()=>{const J=await Wn(k[h].nameEn);J.success&&N(J.data.subcategories),g(null)})()},[h,k]),p.useEffect(()=>{const J=new URLSearchParams(t.search).get("category");if(J&&k.length>0){const de=k.findIndex(Ve=>Ve.nameEn===J);de!==-1&&m(de)}},[t.search,k]);const Y=p.useCallback(rp(async X=>{var J;if(X.length<3){L([]),H(!1);return}try{const de=await np(X);if(de.success&&((J=de.data)!=null&&J.results)){const Ve=de.data.results.filter(ct=>!O.some(yt=>yt.id===ct.id));L(Ve)}}catch(de){console.error("Ошибка при поиске целей:",de)}finally{H(!1)}},500),[O]);p.useEffect(()=>{F?(H(!0),Y(F)):L([])},[F,Y]);const ee=p.useCallback(X=>{X.length>0&&w(X[0])},[]),{getRootProps:ie,getInputProps:ae}=Xn({onDrop:ee,accept:{"image/*":[".jpeg",".jpg",".png",".gif"]},maxFiles:1}),ue=()=>{w(null)},Me=X=>{R(J=>[...J,X]),L(J=>J.filter(de=>de.id!==X.id)),T("")},Ue=X=>{R(J=>J.filter(de=>de.id!==X))},nt=X=>{R(J=>[...J,X]),C(!1),oe.addNotification({type:"success",title:"Успех",message:"Цель успешно добавлена в список"})},Ct=X=>{X.preventDefault(),X.stopPropagation()},rt=async X=>{if(X.preventDefault(),!i||!l||d===null||h===null||!y){oe.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}if(O.length===0){oe.addNotification({type:"error",title:"Ошибка",message:"Добавьте хотя бы одну цель в список"});return}S(!0);try{const J=new FormData;J.append("title",i),J.append("description",l),d!==null&&J.append("complexity",dt[d].value),v!==null?J.append("category",E[v].id.toString()):h!==null&&J.append("category",k[h].id.toString()),J.append("image",y),O.forEach(Ve=>{J.append("goals[]",Ve.id.toString())});const de=await DD(J);if(de.success)M(),oe.addNotification({type:"success",title:"Успех",message:"Список целей успешно создан"}),e("/list/".concat(de.data.code));else throw new Error(de.error||"Неизвестная ошибка")}catch(J){oe.addNotification({type:"error",title:"Ошибка",message:J instanceof Error?J.message:"Не удалось создать список целей"})}finally{S(!1)}};return b("form",{className:a(),onSubmit:rt,children:[c(ce,{tag:"h1",className:s("title"),children:"Создание нового списка целей"}),b("div",{className:s("content"),children:[b("div",{className:s("image-section"),children:[c("p",{className:s("field-title"),children:"Изображение списка *"}),y?b("div",{className:s("image-preview"),children:[c("img",{src:URL.createObjectURL(y),alt:"Предпросмотр",className:s("preview")}),c("button",{type:"button",className:s("remove-image"),onClick:ue,"aria-label":"Удалить изображение",onKeyDown:X=>{(X.key==="Enter"||X.key===" ")&&ue()},children:c(re,{icon:"cross"})})]}):b("div",{...ie({className:s("dropzone")}),children:[c("input",{...ae()}),b("div",{className:s("upload-placeholder"),children:[c(re,{icon:"mount",className:s("upload-icon")}),c("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})]})]}),b("div",{className:s("form"),children:[c("div",{className:s("field-wrapper"),children:c(We,{placeholder:"Введите название списка целей",id:"goal-list-title",text:"Название списка *",value:i,setValue:K,className:s("field"),required:!0})}),c(ht,{className:s("field"),placeholder:"Выберите категорию",options:k.map(X=>({name:X.name,value:X.nameEn})),activeOption:h,onSelect:m,text:"Категория *"}),h!==null&&E.length>0&&c(ht,{className:s("field"),placeholder:"Выберите подкатегорию (необязательно)",options:E.map(X=>({name:X.name,value:X.nameEn})),activeOption:v,onSelect:g,text:"Подкатегория"}),c(ht,{className:s("field"),placeholder:"Выберите сложность",options:dt,activeOption:d,onSelect:f,text:"Сложность *"}),c(We,{placeholder:"Опишите список целей подробно",id:"goal-list-description",text:"Описание *",value:l,setValue:u,className:s("field"),type:"textarea",required:!0}),b("div",{className:s("goals-section"),children:[c(ce,{tag:"h2",className:s("subtitle"),children:"Добавление целей в список"}),b("div",{className:s("search-container"),children:[c(We,{placeholder:"Поиск существующих целей",id:"goal-search",text:"Поиск целей",value:F,setValue:T,className:s("search-field"),iconBegin:"search"}),$.length>0&&c("div",{className:s("search-results"),children:$.map(X=>c(SD,{goal:X,onAdd:Me},X.id))})]}),b("div",{className:s("selected-goals"),children:[b("h3",{className:s("section-title"),children:["Выбранные цели (",O.length,")"]}),O.length>0?c("div",{className:s("goals-list"),children:O.map(X=>b("div",{className:s("goal-item"),children:[b("div",{className:s("goal-content"),children:[c("div",{className:s("goal-image-container"),children:X.image?c("img",{src:X.image,alt:X.title,className:s("goal-image")}):c("div",{className:s("goal-no-image"),children:c(re,{icon:"mount"})})}),b("div",{className:s("goal-info"),children:[c("h4",{className:s("goal-title"),children:X.title}),c("p",{className:s("goal-complexity"),children:sl[X.complexity]}),c("p",{className:s("goal-description"),children:X.shortDescription})]})]}),c("button",{type:"button",className:s("goal-remove-btn"),onClick:()=>Ue(X.id),"aria-label":"Удалить цель",onKeyDown:J=>{(J.key==="Enter"||J.key===" ")&&Ue(X.id)},children:c(re,{icon:"cross"})})]},X.id))}):c("div",{className:s("empty-message"),children:"Вы еще не добавили ни одной цели. Воспользуйтесь поиском или создайте новую цель."})]}),c("div",{className:s("add-new-goal"),children:D?b("div",{className:s("new-goal-form"),children:[c(ce,{tag:"h3",className:s("form-title"),children:"Создание новой цели"}),c("div",{className:s("embedded-add-goal-wrapper"),children:c(ap,{className:s("embedded-add-goal"),onGoalCreated:nt,hideNavigation:!0,noForm:!0,onSubmitForm:Ct,initialCategory:v!==null?E[v]:k[h],lockCategory:!0})}),c("div",{className:s("form-buttons"),children:c(z,{theme:"blue-light",className:s("cancel-btn"),onClick:()=>C(!1),type:"button",children:"Отмена"})})]}):c(z,{theme:"blue-light",className:s("add-goal-btn"),onClick:()=>{U?C(!0):oe.addNotification({type:"warning",title:"Внимание",message:"Для создания цели необходимо сначала выбрать категорию списка"})},type:"button",icon:"plus",children:"Создать новую цель"})})]}),b("div",{className:s("btns-wrapper"),children:[c(z,{theme:"blue-light",className:s("btn"),onClick:()=>e(-1),type:"button",children:"Отмена"}),c(z,{theme:"blue",className:s("btn"),typeBtn:"submit",children:_?"Создание...":"Создать список целей (+20 опыта)"})]})]})]})]})},ED=({page:n})=>{const{setPage:r,setHeader:e,setFull:t}=et;return p.useEffect(()=>{r(n),e("white"),t(!1)},[n,r,e,t]),c(ND,{})},sp=async n=>{try{return await Pe("timer/".concat(n,"/get"),{auth:!0,showSuccessNotification:!1,showErrorNotification:!1})}catch(r){return console.error("Error getting goal timer:",r),{success:!1,error:r instanceof Error?r.message:"Неизвестная ошибка при получении таймера"}}},kD=async(n=!0)=>{try{return await Pe("timers",{auth:!0,get:{include_expired:n.toString()},showSuccessNotification:!1,showErrorNotification:!1})}catch(r){return console.error("Error getting user timers:",r),{success:!1,error:r instanceof Error?r.message:"Неизвестная ошибка при получении таймеров"}}};const CD=async n=>{try{const r=await nl("timer/".concat(n,"/delete/"),{auth:!0,showSuccessNotification:!1,showErrorNotification:!1});return r.success?{success:!0,message:r.data.message||"Срок выполнения удален"}:{success:!1,message:r.errors||"Не удалось удалить срок выполнения"}}catch(r){return console.error("Error deleting goal timer:",r),{success:!1,message:"Произошла ошибка при удалении срока выполнения"}}},xD=async(n,r)=>{var e;try{const t=r.includes("T")?r.split("T")[0]:r,a=await ti("timer/".concat(n,"/"),{auth:!0,body:{deadline:t},showSuccessNotification:!1,showErrorNotification:!1});if(a.success&&((e=a.data)!=null&&e.timer)){const s=a.data.timer;return{success:!0,timer:{...s,goal:{code:n,title:s.goal_title||"",image:s.goal_image}},message:a.data.message||"Срок успешно установлен"}}return{success:!1,message:a.errors||"Не удалось установить срок выполнения"}}catch(t){return console.error("Error setting goal timer:",t),{success:!1,message:"Произошла ошибка при установке срока выполнения"}}};const OD=({goalCode:n,timer:r,onTimerUpdate:e})=>{const[t,a]=p.useState(!1),[s,i]=p.useState(r!=null&&r.deadline?Qr(r.deadline):null),[o,l]=p.useState(r||null),[u,d]=p.useState(null),[f,h]=p.useState(!1),[m,v]=W("goal-timer"),g=async()=>{var _;h(!0);try{const S=await sp(n);S.success&&((_=S.data)!=null&&_.timer)&&(l(S.data.timer),i(Qr(S.data.timer.deadline)))}catch(S){d("Не удалось получить информацию о сроке выполнения")}finally{h(!1)}};p.useEffect(()=>{r||g()},[r,n]);const y=_=>Mr(Qr(_),"d MMMM yyyy",{locale:hl}),w=async()=>{if(!s){d("Пожалуйста, выберите дату");return}h(!0),d(null);try{const _=Mr(s,"yyyy-MM-dd"),S=await xD(n,_);S.success&&S.timer?(l(S.timer),e&&e(S.timer),a(!1),oe.addNotification({type:"success",title:"Успех",message:S.message||"Срок выполнения установлен"})):d(S.message||"Не удалось установить срок выполнения")}catch(_){d("Произошла ошибка при установке срока выполнения")}finally{h(!1)}},k=async()=>{h(!0);try{const _=await CD(n);_.success?(l(null),i(null),e&&e(null),oe.addNotification({type:"success",title:"Успех",message:_.message||"Срок выполнения удален"})):d(_.message||"Не удалось удалить срок выполнения")}catch(_){d("Произошла ошибка при удалении срока выполнения")}finally{h(!1)}},x=()=>{a(!1),d(null),o!=null&&o.deadline?i(Qr(o.deadline)):i(null)},E=()=>f?c(z,{onClick:()=>{},theme:"blue",className:v("save-button"),children:"Сохранение..."}):c(z,{onClick:w,theme:"blue",className:v("save-button"),children:"Сохранить"}),N=()=>f?c(z,{onClick:()=>{},theme:"red",className:v("delete-button"),children:"Удаление..."}):c(z,{onClick:k,theme:"red",className:v("delete-button"),children:"Удалить"});return b("div",{className:m(),children:[u&&c("div",{className:v("error"),children:u}),t?b("div",{className:v("setup"),children:[c("div",{className:v("date-picker"),children:c(tp,{className:v("date-input"),placeholderText:"ДД.ММ.ГГГГ",selected:s,onChange:i,minDate:new Date(new Date().setDate(new Date().getDate()+1))})}),b("div",{className:v("actions"),children:[E(),c(z,{onClick:f?()=>{}:x,theme:"blue-light",className:v("cancel-button"),children:"Отмена"})]})]}):c("div",{className:v("display"),children:o!=null&&o.deadline?b("div",{className:v("info"),children:[b("div",{className:v("deadline"),children:[c("span",{className:v("label"),children:"Срок выполнения:"}),c("span",{className:v("date"),children:y(o.deadline)}),o.daysLeft!==void 0&&c("span",{className:v("days-left",{expired:o.isExpired}),children:o.isExpired?"Срок истек":"".concat(it(o.daysLeft,["Остался","Осталось","Осталось"],!1),": ").concat(it(o.daysLeft,["день","дня","дней"]))})]}),b("div",{className:v("actions"),children:[c(z,{onClick:f?()=>{}:()=>a(!0),theme:"blue-light",className:v("edit-button"),children:"Изменить"}),N()]})]}):c(z,{onClick:f?()=>{}:()=>a(!0),theme:"blue-light",className:v("set-button"),children:"Установить срок выполнения"})})]})},ip=n=>{const{className:r,title:e,image:t,added:a,updateGoal:s,code:i,done:o,isList:l,openAddReview:u,editGoal:d,canEdit:f}=n,[h,m]=p.useState(null),[v,g]=W("aside-goal",r),{setIsOpen:y,setWindow:w,setFuncModal:k}=ba;p.useEffect(()=>{(async()=>{var S;if(a&&!l){const D=await sp(i);D.success&&((S=D.data)!=null&&S.timer)?m(D.data.timer):m(null)}})()},[i,a,l]);const x=_=>{m(_)},E=()=>{w("confirm-execution-all-goal"),y(!0),l&&k(()=>s(i,"mark-all"))},N=()=>{w("delete-goal"),y(!0),k(()=>s(i,"delete"))};return b("aside",{className:v(),children:[c("img",{src:t,alt:e,className:g("image")}),b("div",{className:g("info"),children:[!l&&a&&c(z,{theme:o?"green":"blue",onClick:()=>s(i,"mark",o),icon:"plus",className:g("btn",{done:!0}),hoverContent:o?"Отменить выполнение":"",hoverIcon:o?"cross":"",children:o?"Выполнено":"Выполнить"}),l&&a&&!o&&c(z,{theme:"blue",onClick:E,icon:"done",className:g("btn"),children:"Выполнить все цели"}),!a&&c(z,{onClick:()=>s(i,"add"),icon:"plus",className:g("btn"),theme:"blue",children:"Добавить к себе"}),!l&&o&&c(z,{theme:"blue-light",onClick:u,icon:"comment",className:g("btn"),children:"Написать отзыв"}),a&&c(z,{theme:"blue-light",onClick:N,icon:"trash",className:g("btn"),children:"Удалить"}),f&&d&&c(z,{theme:"blue-light",onClick:d,icon:"edit",className:g("btn"),children:"Редактировать"}),a&&!l&&b(vt,{children:[c(He,{className:g("line")}),c(OD,{timer:h,goalCode:i,onTimerUpdate:x})]}),c(He,{className:g("line")}),c(z,{theme:"blue-light",icon:"mount",onClick:()=>{window.open("https://telegram.me/share/url?url=".concat(window.location.href),"sharer","status=0,toolbar=0,width=650,height=500")},className:g("btn"),children:"Поделиться"})]})]})};var Fe={},El={},ka={},Ca={},op="Expected a function",lu=0/0,PD="[object Symbol]",MD=/^\s+|\s+$/g,TD=/^[-+]0x[0-9a-f]+$/i,AD=/^0b[01]+$/i,RD=/^0o[0-7]+$/i,LD=parseInt,ID=typeof $a=="object"&&$a&&$a.Object===Object&&$a,FD=typeof self=="object"&&self&&self.Object===Object&&self,$D=ID||FD||Function("return this")(),YD=Object.prototype,GD=YD.toString,WD=Math.max,jD=Math.min,Zi=function(){return $D.Date.now()};function BD(n,r,e){var t,a,s,i,o,l,u=0,d=!1,f=!1,h=!0;if(typeof n!="function")throw new TypeError(op);r=cu(r)||0,Hs(e)&&(d=!!e.leading,f="maxWait"in e,s=f?WD(cu(e.maxWait)||0,r):s,h="trailing"in e?!!e.trailing:h);function m(_){var S=t,D=a;return t=a=void 0,u=_,i=n.apply(D,S),i}function v(_){return u=_,o=setTimeout(w,r),d?m(_):i}function g(_){var S=_-l,D=_-u,C=r-S;return f?jD(C,s-D):C}function y(_){var S=_-l,D=_-u;return l===void 0||S>=r||S<0||f&&D>=s}function w(){var _=Zi();if(y(_))return k(_);o=setTimeout(w,g(_))}function k(_){return o=void 0,h&&t?m(_):(t=a=void 0,i)}function x(){o!==void 0&&clearTimeout(o),u=0,t=l=a=o=void 0}function E(){return o===void 0?i:k(Zi())}function N(){var _=Zi(),S=y(_);if(t=arguments,a=this,l=_,S){if(o===void 0)return v(l);if(f)return o=setTimeout(w,r),m(l)}return o===void 0&&(o=setTimeout(w,r)),i}return N.cancel=x,N.flush=E,N}function HD(n,r,e){var t=!0,a=!0;if(typeof n!="function")throw new TypeError(op);return Hs(e)&&(t="leading"in e?!!e.leading:t,a="trailing"in e?!!e.trailing:a),BD(n,r,{leading:t,maxWait:r,trailing:a})}function Hs(n){var r=typeof n;return!!n&&(r=="object"||r=="function")}function UD(n){return!!n&&typeof n=="object"}function VD(n){return typeof n=="symbol"||UD(n)&&GD.call(n)==PD}function cu(n){if(typeof n=="number")return n;if(VD(n))return lu;if(Hs(n)){var r=typeof n.valueOf=="function"?n.valueOf():n;n=Hs(r)?r+"":r}if(typeof n!="string")return n===0?n:+n;n=n.replace(MD,"");var e=AD.test(n);return e||RD.test(n)?LD(n.slice(2),e?2:8):TD.test(n)?lu:+n}var KD=HD,xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.addPassiveEventListener=function(r,e,t){var a=t.name;a||(a=e,console.warn("Listener must be a named function.")),ms.has(e)||ms.set(e,new Set);var s=ms.get(e);if(!s.has(a)){var i=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,l)}catch(u){}return o}();r.addEventListener(e,t,i?{passive:!0}:!1),s.add(a)}};xa.removePassiveEventListener=function(r,e,t){r.removeEventListener(e,t),ms.get(e).delete(t.name||e)};var ms=new Map;Object.defineProperty(Ca,"__esModule",{value:!0});var zD=KD,qD=QD(zD),uu=xa;function QD(n){return n&&n.__esModule?n:{default:n}}var XD=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,qD.default)(r,e)},Te={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(r,e){if(r){var t=XD(function(a){Te.scrollHandler(r)},e);return Te.scrollSpyContainers.push(r),(0,uu.addPassiveEventListener)(r,"scroll",t),function(){(0,uu.removePassiveEventListener)(r,"scroll",t),Te.scrollSpyContainers.splice(Te.scrollSpyContainers.indexOf(r),1)}}return function(){}},isMounted:function(r){return Te.scrollSpyContainers.indexOf(r)!==-1},currentPositionX:function(r){if(r===document){var e=window.scrollY!==void 0,t=(document.compatMode||"")==="CSS1Compat";return e?window.scrollX:t?document.documentElement.scrollLeft:document.body.scrollLeft}else return r.scrollLeft},currentPositionY:function(r){if(r===document){var e=window.scrollX!==void 0,t=(document.compatMode||"")==="CSS1Compat";return e?window.scrollY:t?document.documentElement.scrollTop:document.body.scrollTop}else return r.scrollTop},scrollHandler:function(r){var e=Te.scrollSpyContainers[Te.scrollSpyContainers.indexOf(r)].spyCallbacks||[];e.forEach(function(t){return t(Te.currentPositionX(r),Te.currentPositionY(r))})},addStateHandler:function(r){Te.spySetState.push(r)},addSpyHandler:function(r,e){var t=Te.scrollSpyContainers[Te.scrollSpyContainers.indexOf(e)];t.spyCallbacks||(t.spyCallbacks=[]),t.spyCallbacks.push(r)},updateStates:function(){Te.spySetState.forEach(function(r){return r()})},unmount:function(r,e){Te.scrollSpyContainers.forEach(function(t){return t.spyCallbacks&&t.spyCallbacks.length&&t.spyCallbacks.indexOf(e)>-1&&t.spyCallbacks.splice(t.spyCallbacks.indexOf(e),1)}),Te.spySetState&&Te.spySetState.length&&Te.spySetState.indexOf(r)>-1&&Te.spySetState.splice(Te.spySetState.indexOf(r),1),document.removeEventListener("scroll",Te.scrollHandler)},update:function(){return Te.scrollSpyContainers.forEach(function(r){return Te.scrollHandler(r)})}};Ca.default=Te;var Vr={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});var ZD=function(r,e){var t=r.indexOf("#")===0?r.substring(1):r,a=t?"#"+t:"",s=window&&window.location,i=a?s.pathname+s.search+a:s.pathname+s.search;e?history.pushState(history.state,"",i):history.replaceState(history.state,"",i)},JD=function(){return window.location.hash.replace(/^#/,"")},eS=function(r){return function(e){return r.contains?r!=e&&r.contains(e):!!(r.compareDocumentPosition(e)&16)}},tS=function(r){return getComputedStyle(r).position!=="static"},Ji=function(r,e){for(var t=r.offsetTop,a=r.offsetParent;a&&!e(a);)t+=a.offsetTop,a=a.offsetParent;return{offsetTop:t,offsetParent:a}},nS=function(r,e,t){if(t)return r===document?e.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(r).position!=="static"?e.offsetLeft:e.offsetLeft-r.offsetLeft;if(r===document)return e.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(tS(r)){if(e.offsetParent!==r){var a=function(d){return d===r||d===document},s=Ji(e,a),i=s.offsetTop,o=s.offsetParent;if(o!==r)throw new Error("Seems containerElement is not an ancestor of the Element");return i}return e.offsetTop}if(e.offsetParent===r.offsetParent)return e.offsetTop-r.offsetTop;var l=function(d){return d===document};return Ji(e,l).offsetTop-Ji(r,l).offsetTop};Oa.default={updateHash:ZD,getHash:JD,filterElementInContainer:eS,scrollOffset:nS};var gi={},kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.default={defaultEasing:function(r){return r<.5?Math.pow(r*2,2)/2:1-Math.pow((1-r)*2,2)/2},linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:-1+(4-2*r)*r},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}};var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});var rS=xa,aS=["mousedown","wheel","touchmove","keydown"];Cl.default={subscribe:function(r){return typeof document<"u"&&aS.forEach(function(e){return(0,rS.addPassiveEventListener)(document,e,r)})}};var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});var $o={registered:{},scrollEvent:{register:function(r,e){$o.registered[r]=e},remove:function(r){$o.registered[r]=null}}};Pa.default=$o;Object.defineProperty(gi,"__esModule",{value:!0});var sS=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},iS=Oa;yi(iS);var oS=kl,du=yi(oS),lS=Cl,cS=yi(lS),uS=Pa,jt=yi(uS);function yi(n){return n&&n.__esModule?n:{default:n}}var lp=function(r){return du.default[r.smooth]||du.default.defaultEasing},dS=function(r){return typeof r=="function"?r:function(){return r}},fS=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Yo=function(){return fS()||function(n,r,e){window.setTimeout(n,e||1e3/60,new Date().getTime())}}(),cp=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},up=function(r){var e=r.data.containerElement;if(e&&e!==document&&e!==document.body)return e.scrollLeft;var t=window.pageXOffset!==void 0,a=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:a?document.documentElement.scrollLeft:document.body.scrollLeft},dp=function(r){var e=r.data.containerElement;if(e&&e!==document&&e!==document.body)return e.scrollTop;var t=window.pageXOffset!==void 0,a=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:a?document.documentElement.scrollTop:document.body.scrollTop},pS=function(r){var e=r.data.containerElement;if(e&&e!==document&&e!==document.body)return e.scrollWidth-e.offsetWidth;var t=document.body,a=document.documentElement;return Math.max(t.scrollWidth,t.offsetWidth,a.clientWidth,a.scrollWidth,a.offsetWidth)},hS=function(r){var e=r.data.containerElement;if(e&&e!==document&&e!==document.body)return e.scrollHeight-e.offsetHeight;var t=document.body,a=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)},mS=function n(r,e,t){var a=e.data;if(!e.ignoreCancelEvents&&a.cancel){jt.default.registered.end&&jt.default.registered.end(a.to,a.target,a.currentPositionY);return}if(a.delta=Math.round(a.targetPosition-a.startPosition),a.start===null&&(a.start=t),a.progress=t-a.start,a.percent=a.progress>=a.duration?1:r(a.progress/a.duration),a.currentPosition=a.startPosition+Math.ceil(a.delta*a.percent),a.containerElement&&a.containerElement!==document&&a.containerElement!==document.body?e.horizontal?a.containerElement.scrollLeft=a.currentPosition:a.containerElement.scrollTop=a.currentPosition:e.horizontal?window.scrollTo(a.currentPosition,0):window.scrollTo(0,a.currentPosition),a.percent<1){var s=n.bind(null,r,e);Yo.call(window,s);return}jt.default.registered.end&&jt.default.registered.end(a.to,a.target,a.currentPosition)},xl=function(r){r.data.containerElement=r?r.containerId?document.getElementById(r.containerId):r.container&&r.container.nodeType?r.container:document:null},Ma=function(r,e,t,a){e.data=e.data||cp(),window.clearTimeout(e.data.delayTimeout);var s=function(){e.data.cancel=!0};if(cS.default.subscribe(s),xl(e),e.data.start=null,e.data.cancel=!1,e.data.startPosition=e.horizontal?up(e):dp(e),e.data.targetPosition=e.absolute?r:r+e.data.startPosition,e.data.startPosition===e.data.targetPosition){jt.default.registered.end&&jt.default.registered.end(e.data.to,e.data.target,e.data.currentPosition);return}e.data.delta=Math.round(e.data.targetPosition-e.data.startPosition),e.data.duration=dS(e.duration)(e.data.delta),e.data.duration=isNaN(parseFloat(e.data.duration))?1e3:parseFloat(e.data.duration),e.data.to=t,e.data.target=a;var i=lp(e),o=mS.bind(null,i,e);if(e&&e.delay>0){e.data.delayTimeout=window.setTimeout(function(){jt.default.registered.begin&&jt.default.registered.begin(e.data.to,e.data.target),Yo.call(window,o)},e.delay);return}jt.default.registered.begin&&jt.default.registered.begin(e.data.to,e.data.target),Yo.call(window,o)},bi=function(r){return r=sS({},r),r.data=r.data||cp(),r.absolute=!0,r},vS=function(r){Ma(0,bi(r))},gS=function(r,e){Ma(r,bi(e))},yS=function(r){r=bi(r),xl(r),Ma(r.horizontal?pS(r):hS(r),r)},bS=function(r,e){e=bi(e),xl(e);var t=e.horizontal?up(e):dp(e);Ma(r+t,e)};gi.default={animateTopScroll:Ma,getAnimationType:lp,scrollToTop:vS,scrollToBottom:yS,scrollTo:gS,scrollMore:bS};Object.defineProperty(Vr,"__esModule",{value:!0});var wS=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},_S=Oa,DS=Ol(_S),SS=gi,NS=Ol(SS),ES=Pa,es=Ol(ES);function Ol(n){return n&&n.__esModule?n:{default:n}}var ts={},fu=void 0;Vr.default={unmount:function(){ts={}},register:function(r,e){ts[r]=e},unregister:function(r){delete ts[r]},get:function(r){return ts[r]||document.getElementById(r)||document.getElementsByName(r)[0]||document.getElementsByClassName(r)[0]},setActiveLink:function(r){return fu=r},getActiveLink:function(){return fu},scrollTo:function(r,e){var t=this.get(r);if(!t){console.warn("target Element not found");return}e=wS({},e,{absolute:!1});var a=e.containerId,s=e.container,i=void 0;a?i=document.getElementById(a):s&&s.nodeType?i=s:i=document,e.absolute=!0;var o=e.horizontal,l=DS.default.scrollOffset(i,t,o)+(e.offset||0);if(!e.smooth){es.default.registered.begin&&es.default.registered.begin(r,t),i===document?e.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):i.scrollTop=l,es.default.registered.end&&es.default.registered.end(r,t);return}NS.default.animateTopScroll(l,e,r,t)}};var wi={};Object.defineProperty(wi,"__esModule",{value:!0});var kS=Oa,eo=CS(kS);function CS(n){return n&&n.__esModule?n:{default:n}}var xS={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(r){this.scroller=r,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(r,e){this.containers[r]=e},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var r=this,e=this.getHash();e?window.setTimeout(function(){r.scrollTo(e,!0),r.initialized=!0},10):this.initialized=!0},scrollTo:function(r,e){var t=this.scroller,a=t.get(r);if(a&&(e||r!==t.getActiveLink())){var s=this.containers[r]||document;t.scrollTo(r,{container:s})}},getHash:function(){return eo.default.getHash()},changeHash:function(r,e){this.isInitialized()&&eo.default.getHash()!==r&&eo.default.updateHash(r,e)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};wi.default=xS;Object.defineProperty(ka,"__esModule",{value:!0});var ns=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},OS=function(){function n(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}return function(r,e,t){return e&&n(r.prototype,e),t&&n(r,t),r}}(),PS=p,pu=Ta(PS),MS=Ca,rs=Ta(MS),TS=Vr,AS=Ta(TS),RS=xe,Ce=Ta(RS),LS=wi,wn=Ta(LS);function Ta(n){return n&&n.__esModule?n:{default:n}}function IS(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function FS(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function $S(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var hu={to:Ce.default.string.isRequired,containerId:Ce.default.string,container:Ce.default.object,activeClass:Ce.default.string,activeStyle:Ce.default.object,spy:Ce.default.bool,horizontal:Ce.default.bool,smooth:Ce.default.oneOfType([Ce.default.bool,Ce.default.string]),offset:Ce.default.number,delay:Ce.default.number,isDynamic:Ce.default.bool,onClick:Ce.default.func,duration:Ce.default.oneOfType([Ce.default.number,Ce.default.func]),absolute:Ce.default.bool,onSetActive:Ce.default.func,onSetInactive:Ce.default.func,ignoreCancelEvents:Ce.default.bool,hashSpy:Ce.default.bool,saveHashHistory:Ce.default.bool,spyThrottle:Ce.default.number};ka.default=function(n,r){var e=r||AS.default,t=function(s){$S(i,s);function i(o){IS(this,i);var l=FS(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o));return a.call(l),l.state={active:!1},l.beforeUnmountCallbacks=[],l}return OS(i,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,u=this.props.container;return l&&!u?document.getElementById(l):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();if(!rs.default.isMounted(l)){var u=rs.default.mount(l,this.props.spyThrottle);this.beforeUnmountCallbacks.push(u)}this.props.hashSpy&&(wn.default.isMounted()||wn.default.mount(e),wn.default.mapContainer(this.props.to,l)),rs.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){rs.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(l){return l()})}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var u={};this.state&&this.state.active?u=ns({},this.props.style,this.props.activeStyle):u=ns({},this.props.style);var d=ns({},this.props);for(var f in hu)d.hasOwnProperty(f)&&delete d[f];return d.className=l,d.style=u,d.onClick=this.handleClick,pu.default.createElement(n,d)}}]),i}(pu.default.PureComponent),a=function(){var i=this;this.scrollTo=function(o,l){e.scrollTo(o,ns({},i.state,l))},this.handleClick=function(o){i.props.onClick&&i.props.onClick(o),o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault(),i.scrollTo(i.props.to,i.props)},this.spyHandler=function(o,l){var u=i.getScrollSpyContainer();if(!(wn.default.isMounted()&&!wn.default.isInitialized())){var d=i.props.horizontal,f=i.props.to,h=null,m=void 0,v=void 0;if(d){var g=0,y=0,w=0;if(u.getBoundingClientRect){var k=u.getBoundingClientRect();w=k.left}if(!h||i.props.isDynamic){if(h=e.get(f),!h)return;var x=h.getBoundingClientRect();g=x.left-w+o,y=g+x.width}var E=o-i.props.offset;m=E>=Math.floor(g)&&E<Math.floor(y),v=E<Math.floor(g)||E>=Math.floor(y)}else{var N=0,_=0,S=0;if(u.getBoundingClientRect){var D=u.getBoundingClientRect();S=D.top}if(!h||i.props.isDynamic){if(h=e.get(f),!h)return;var C=h.getBoundingClientRect();N=C.top-S+l,_=N+C.height}var O=l-i.props.offset;m=O>=Math.floor(N)&&O<Math.floor(_),v=O<Math.floor(N)||O>=Math.floor(_)}var R=e.getActiveLink();if(v){if(f===R&&e.setActiveLink(void 0),i.props.hashSpy&&wn.default.getHash()===f){var F=i.props.saveHashHistory,T=F===void 0?!1:F;wn.default.changeHash("",T)}i.props.spy&&i.state.active&&(i.setState({active:!1}),i.props.onSetInactive&&i.props.onSetInactive(f,h))}if(m&&(R!==f||i.state.active===!1)){e.setActiveLink(f);var $=i.props.saveHashHistory,L=$===void 0?!1:$;i.props.hashSpy&&wn.default.changeHash(f,L),i.props.spy&&(i.setState({active:!0}),i.props.onSetActive&&i.props.onSetActive(f,h))}}}};return t.propTypes=hu,t.defaultProps={offset:0},t};Object.defineProperty(El,"__esModule",{value:!0});var YS=p,mu=fp(YS),GS=ka,WS=fp(GS);function fp(n){return n&&n.__esModule?n:{default:n}}function jS(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function vu(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function BS(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var HS=function(n){BS(r,n);function r(){var e,t,a,s;jS(this,r);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return s=(t=(a=vu(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),a),a.render=function(){return mu.default.createElement("a",a.props,a.props.children)},t),vu(a,s)}return r}(mu.default.Component);El.default=(0,WS.default)(HS);var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});var US=function(){function n(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}return function(r,e,t){return e&&n(r.prototype,e),t&&n(r,t),r}}(),VS=p,gu=pp(VS),KS=ka,zS=pp(KS);function pp(n){return n&&n.__esModule?n:{default:n}}function qS(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function QS(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function XS(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var ZS=function(n){XS(r,n);function r(){return qS(this,r),QS(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return US(r,[{key:"render",value:function(){return gu.default.createElement("button",this.props,this.props.children)}}]),r}(gu.default.Component);Pl.default=(0,zS.default)(ZS);var Ml={},_i={};Object.defineProperty(_i,"__esModule",{value:!0});var JS=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},eN=function(){function n(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}return function(r,e,t){return e&&n(r.prototype,e),t&&n(r,t),r}}(),tN=p,yu=Di(tN),nN=ua;Di(nN);var rN=Vr,bu=Di(rN),aN=xe,wu=Di(aN);function Di(n){return n&&n.__esModule?n:{default:n}}function sN(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function iN(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function oN(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}_i.default=function(n){var r=function(e){oN(t,e);function t(a){sN(this,t);var s=iN(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return s.childBindings={domNode:null},s}return eN(t,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;bu.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){bu.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return yu.default.createElement(n,JS({},this.props,{parentBindings:this.childBindings}))}}]),t}(yu.default.Component);return r.propTypes={name:wu.default.string,id:wu.default.string},r};Object.defineProperty(Ml,"__esModule",{value:!0});var _u=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},lN=function(){function n(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}return function(r,e,t){return e&&n(r.prototype,e),t&&n(r,t),r}}(),cN=p,Du=Tl(cN),uN=_i,dN=Tl(uN),fN=xe,Su=Tl(fN);function Tl(n){return n&&n.__esModule?n:{default:n}}function pN(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function hN(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function mN(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var hp=function(n){mN(r,n);function r(){return pN(this,r),hN(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return lN(r,[{key:"render",value:function(){var t=this,a=_u({},this.props);return delete a.name,a.parentBindings&&delete a.parentBindings,Du.default.createElement("div",_u({},a,{ref:function(i){t.props.parentBindings.domNode=i}}),this.props.children)}}]),r}(Du.default.Component);hp.propTypes={name:Su.default.string,id:Su.default.string};Ml.default=(0,dN.default)(hp);var to=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},Nu=function(){function n(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}return function(r,e,t){return e&&n(r.prototype,e),t&&n(r,t),r}}();function Eu(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function ku(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function Cu(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var as=p,Rn=Ca,no=Vr,Ae=xe,_n=wi,xu={to:Ae.string.isRequired,containerId:Ae.string,container:Ae.object,activeClass:Ae.string,spy:Ae.bool,smooth:Ae.oneOfType([Ae.bool,Ae.string]),offset:Ae.number,delay:Ae.number,isDynamic:Ae.bool,onClick:Ae.func,duration:Ae.oneOfType([Ae.number,Ae.func]),absolute:Ae.bool,onSetActive:Ae.func,onSetInactive:Ae.func,ignoreCancelEvents:Ae.bool,hashSpy:Ae.bool,spyThrottle:Ae.number},vN={Scroll:function(r,e){console.warn("Helpers.Scroll is deprecated since v1.7.0");var t=e||no,a=function(i){Cu(o,i);function o(l){Eu(this,o);var u=ku(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return s.call(u),u.state={active:!1},u}return Nu(o,[{key:"getScrollSpyContainer",value:function(){var u=this.props.containerId,d=this.props.container;return u?document.getElementById(u):d&&d.nodeType?d:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var u=this.getScrollSpyContainer();Rn.isMounted(u)||Rn.mount(u,this.props.spyThrottle),this.props.hashSpy&&(_n.isMounted()||_n.mount(t),_n.mapContainer(this.props.to,u)),this.props.spy&&Rn.addStateHandler(this.stateHandler),Rn.addSpyHandler(this.spyHandler,u),this.setState({container:u})}}},{key:"componentWillUnmount",value:function(){Rn.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var u="";this.state&&this.state.active?u=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():u=this.props.className;var d=to({},this.props);for(var f in xu)d.hasOwnProperty(f)&&delete d[f];return d.className=u,d.onClick=this.handleClick,as.createElement(r,d)}}]),o}(as.Component),s=function(){var o=this;this.scrollTo=function(l,u){t.scrollTo(l,to({},o.state,u))},this.handleClick=function(l){o.props.onClick&&o.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),o.scrollTo(o.props.to,o.props)},this.stateHandler=function(){t.getActiveLink()!==o.props.to&&(o.state!==null&&o.state.active&&o.props.onSetInactive&&o.props.onSetInactive(),o.setState({active:!1}))},this.spyHandler=function(l){var u=o.getScrollSpyContainer();if(!(_n.isMounted()&&!_n.isInitialized())){var d=o.props.to,f=null,h=0,m=0,v=0;if(u.getBoundingClientRect){var g=u.getBoundingClientRect();v=g.top}if(!f||o.props.isDynamic){if(f=t.get(d),!f)return;var y=f.getBoundingClientRect();h=y.top-v+l,m=h+y.height}var w=l-o.props.offset,k=w>=Math.floor(h)&&w<Math.floor(m),x=w<Math.floor(h)||w>=Math.floor(m),E=t.getActiveLink();if(x)return d===E&&t.setActiveLink(void 0),o.props.hashSpy&&_n.getHash()===d&&_n.changeHash(),o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive()),Rn.updateStates();if(k&&E!==d)return t.setActiveLink(d),o.props.hashSpy&&_n.changeHash(d),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(d)),Rn.updateStates()}}};return a.propTypes=xu,a.defaultProps={offset:0},a},Element:function(r){console.warn("Helpers.Element is deprecated since v1.7.0");var e=function(t){Cu(a,t);function a(s){Eu(this,a);var i=ku(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,s));return i.childBindings={domNode:null},i}return Nu(a,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(i){this.props.name!==i.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;no.unregister(this.props.name)}},{key:"registerElems",value:function(i){no.register(i,this.childBindings.domNode)}},{key:"render",value:function(){return as.createElement(r,to({},this.props,{parentBindings:this.childBindings}))}}]),a}(as.Component);return e.propTypes={name:Ae.string,id:Ae.string},e}},gN=vN;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.Helpers=Fe.ScrollElement=Fe.ScrollLink=Fe.animateScroll=Fe.scrollSpy=Fe.Events=Ep=Fe.scroller=Fe.Element=Fe.Button=Fe.Link=void 0;var yN=El,mp=nn(yN),bN=Pl,vp=nn(bN),wN=Ml,gp=nn(wN),_N=Vr,yp=nn(_N),DN=Pa,bp=nn(DN),SN=Ca,wp=nn(SN),NN=gi,_p=nn(NN),EN=ka,Dp=nn(EN),kN=_i,Sp=nn(kN),CN=gN,Np=nn(CN);function nn(n){return n&&n.__esModule?n:{default:n}}Fe.Link=mp.default;Fe.Button=vp.default;Fe.Element=gp.default;var Ep=Fe.scroller=yp.default;Fe.Events=bp.default;Fe.scrollSpy=wp.default;Fe.animateScroll=_p.default;Fe.ScrollLink=Dp.default;Fe.ScrollElement=Sp.default;Fe.Helpers=Np.default;Fe.default={Link:mp.default,Button:vp.default,Element:gp.default,scroller:yp.default,Events:bp.default,scrollSpy:wp.default,animateScroll:_p.default,ScrollLink:Dp.default,ScrollElement:Sp.default,Helpers:Np.default};const xN=async n=>await Pe("goals/".concat(n,"/comments"),{auth:!0}),ON=async(n,r)=>await ft("comments/".concat(n,"/like-or-dislike"),{auth:!0,body:{isLike:r}}),kp="carousel",Cp="controller",PN="navigation",MN="no-scroll",Al="portal",TN="root",xp="toolbar",ro="loading",ao="error",so="complete",AN="placeholder",RN=n=>"active-slide-".concat(n),Op="flex_center",LN="no_scroll",Pp="no_scroll_padding",IN="slide_wrapper",Yn="prev",Gn="next",Ou="swipe",Fr="close",Mp="onPointerDown",Tp="onPointerMove",Ap="onPointerUp",Rp="onPointerLeave",Lp="onPointerCancel",Ip="onKeyDown",FN="onKeyUp",Fp="onWheel",$N="Escape",YN="ArrowLeft",GN="ArrowRight",WN="button",Go="icon",$p="contain",Pu="cover",jN="Unknown action type",Yp="yarl__";function mn(...n){return[...n].filter(Boolean).join(" ")}function _e(n){return"".concat(Yp).concat(n)}function ut(n){return"--".concat(Yp).concat(n)}function Aa(n,r){return"".concat(n).concat(r?"_".concat(r):"")}function Rl(n){return r=>Aa(n,r)}function BN(n,r){var e;return(e=n==null?void 0:n[r])!==null&&e!==void 0?e:r}function Gp(...n){return()=>{n.forEach(r=>{r()})}}function or(n,r,e){return()=>{const t=p.useContext(e);if(!t)throw new Error("".concat(n," must be used within a ").concat(r,".Provider"));return t}}function Wp(){return typeof window<"u"}function HN(n,r=0){const e=10**r;return Math.round((n+Number.EPSILON)*e)/e}function jp(n){return n.type===void 0||n.type==="image"}function UN(n,r){return n.imageFit===Pu||n.imageFit!==$p&&r===Pu}function Si(n){return typeof n=="string"?Number.parseInt(n,10):n}function Us(n){if(typeof n=="number")return{pixel:n};if(typeof n=="string"){const r=Si(n);return n.endsWith("%")?{percent:r}:{pixel:r}}return{pixel:0}}function VN(n,r){const e=Us(r),t=e.percent!==void 0?n.width/100*e.percent:e.pixel;return{width:Math.max(n.width-2*t,0),height:Math.max(n.height-2*t,0)}}function Bp(n,r){return r>0?(n%r+r)%r:0}function Hp(n){return n.length>0}function Up(n,r){return n[Bp(r,n.length)]}function Wo(n,r){return Hp(n)?Up(n,r):void 0}function KN(n){return jp(n)?n.src:void 0}function zN(n,r,e=0){return Math.min(n.preload,Math.max(n.finite?r.length-1:Math.floor(r.length/2),e))}const qN=Number(p.version.split(".")[0])>=19;function QN(n){return{inert:qN?n:n?"":void 0}}const jo={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Fr]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:$p,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function lr(n,r){return{name:n,component:r}}function ze(n,r){return{module:n,children:r}}function Vp(n,r,e){return n.module.name===r?e(n):n.children?[ze(n.module,n.children.flatMap(t=>{var a;return(a=Vp(t,r,e))!==null&&a!==void 0?a:[]}))]:[n]}function pr(n,r,e){return n.flatMap(t=>{var a;return(a=Vp(t,r,e))!==null&&a!==void 0?a:[]})}function XN(n,r=[],e=[]){let t=n;const a=m=>{const v=[...t];for(;v.length>0;){const g=v.pop();if((g==null?void 0:g.module.name)===m)return!0;g!=null&&g.children&&v.push(...g.children)}return!1},s=(m,v)=>{if(m===""){t=[ze(v,t)];return}t=pr(t,m,g=>[ze(v,[g])])},i=(m,v)=>{t=pr(t,m,g=>[ze(g.module,[ze(v,g.children)])])},o=(m,v,g)=>{t=pr(t,m,y=>{var w;return[ze(y.module,[...g?[ze(v)]:[],...(w=y.children)!==null&&w!==void 0?w:[],...g?[]:[ze(v)]])]})},l=(m,v,g)=>{t=pr(t,m,y=>[...g?[ze(v)]:[],y,...g?[]:[ze(v)]])},u=m=>{i(Cp,m)},d=(m,v)=>{t=pr(t,m,g=>[ze(v,g.children)])},f=m=>{t=pr(t,m,v=>v.children)},h=m=>{e.push(m)};return r.forEach(m=>{m({contains:a,addParent:s,append:i,addChild:o,addSibling:l,addModule:u,replace:d,remove:f,augment:h})}),{config:t,augmentation:m=>e.reduce((v,g)=>g(v),m)}}const Kp=p.createContext(null),Ll=or("useDocument","DocumentContext",Kp);function ZN({nodeRef:n,children:r}){const e=p.useMemo(()=>{const t=s=>{var i;return((i=s||n.current)===null||i===void 0?void 0:i.ownerDocument)||document};return{getOwnerDocument:t,getOwnerWindow:s=>{var i;return((i=t(s))===null||i===void 0?void 0:i.defaultView)||window}}},[n]);return p.createElement(Kp.Provider,{value:e},r)}const zp=p.createContext(null),Ni=or("useEvents","EventsContext",zp);function JN({children:n}){const[r]=p.useState({});p.useEffect(()=>()=>{Object.keys(r).forEach(t=>delete r[t])},[r]);const e=p.useMemo(()=>{const t=(i,o)=>{var l;(l=r[i])===null||l===void 0||l.splice(0,r[i].length,...r[i].filter(u=>u!==o))};return{publish:(...[i,o])=>{var l;(l=r[i])===null||l===void 0||l.forEach(u=>u(o))},subscribe:(i,o)=>(r[i]||(r[i]=[]),r[i].push(o),()=>t(i,o)),unsubscribe:t}},[r]);return p.createElement(zp.Provider,{value:e},n)}const qp=p.createContext(null),Ra=or("useLightboxProps","LightboxPropsContext",qp);function eE({children:n,...r}){return p.createElement(qp.Provider,{value:r},n)}const Qp=p.createContext(null),Ei=or("useLightboxState","LightboxStateContext",Qp),Xp=p.createContext(null),tE=or("useLightboxDispatch","LightboxDispatchContext",Xp);function nE(n,r){switch(r.type){case"swipe":{const{slides:e}=n,t=(r==null?void 0:r.increment)||0,a=n.globalIndex+t,s=Bp(a,e.length),i=Wo(e,s),o=t||r.duration?{increment:t,duration:r.duration,easing:r.easing}:void 0;return{slides:e,currentIndex:s,globalIndex:a,currentSlide:i,animation:o}}case"update":return r.slides!==n.slides||r.index!==n.currentIndex?{slides:r.slides,currentIndex:r.index,globalIndex:r.index,currentSlide:Wo(r.slides,r.index)}:n;default:throw new Error(jN)}}function rE({slides:n,index:r,children:e}){const[t,a]=p.useReducer(nE,{slides:n,currentIndex:r,globalIndex:r,currentSlide:Wo(n,r)});p.useEffect(()=>{a({type:"update",slides:n,index:r})},[n,r]);const s=p.useMemo(()=>({...t,state:t,dispatch:a}),[t,a]);return p.createElement(Xp.Provider,{value:a},p.createElement(Qp.Provider,{value:s},e))}const Zp=p.createContext(null),ki=or("useTimeouts","TimeoutsContext",Zp);function aE({children:n}){const[r]=p.useState([]);p.useEffect(()=>()=>{r.forEach(t=>window.clearTimeout(t)),r.splice(0,r.length)},[r]);const e=p.useMemo(()=>{const t=i=>{r.splice(0,r.length,...r.filter(o=>o!==i))};return{setTimeout:(i,o)=>{const l=window.setTimeout(()=>{t(l),i()},o);return r.push(l),l},clearTimeout:i=>{i!==void 0&&(t(i),window.clearTimeout(i))}}},[r]);return p.createElement(Zp.Provider,{value:e},n)}const Jp=p.forwardRef(function({label:r,className:e,icon:t,renderIcon:a,onClick:s,style:i,...o},l){const{styles:u,labels:d}=Ra(),f=BN(d,r);return p.createElement("button",{ref:l,type:"button",title:f,"aria-label":f,className:mn(_e(WN),e),onClick:s,style:{...i,...u.button},...o},a?a():p.createElement(t,{className:_e(Go),style:u.icon}))});function sE(n,r){const e=t=>p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...t},r);return e.displayName=n,e}function La(n,r){return sE(n,p.createElement("g",{fill:"currentColor"},p.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r))}const iE=La("Close",p.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),oE=La("Previous",p.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),lE=La("Next",p.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),cE=La("Loading",p.createElement(p.Fragment,null,Array.from({length:8}).map((n,r,e)=>p.createElement("line",{key:r,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/e.length*(r+1),transform:"rotate(".concat(360/e.length*r,", 12, 12)")})))),uE=La("Error",p.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Ia=Wp()?p.useLayoutEffect:p.useEffect;function eh(){const[n,r]=p.useState(!1);return p.useEffect(()=>{var e,t;const a=(e=window.matchMedia)===null||e===void 0?void 0:e.call(window,"(prefers-reduced-motion: reduce)");r(a==null?void 0:a.matches);const s=i=>r(i.matches);return(t=a==null?void 0:a.addEventListener)===null||t===void 0||t.call(a,"change",s),()=>{var i;return(i=a==null?void 0:a.removeEventListener)===null||i===void 0?void 0:i.call(a,"change",s)}},[]),n}function dE(n){let r=0,e=0,t=0;const s=window.getComputedStyle(n).transform.match(/matrix.*\((.+)\)/);if(s){const i=s[1].split(",").map(Si);i.length===6?(r=i[4],e=i[5]):i.length===16&&(r=i[12],e=i[13],t=i[14])}return{x:r,y:e,z:t}}function Mu(n,r){const e=p.useRef(),t=p.useRef(),a=eh();return Ia(()=>{var s,i,o;if(n.current&&e.current!==void 0&&!a){const{keyframes:l,duration:u,easing:d,onfinish:f}=r(e.current,n.current.getBoundingClientRect(),dE(n.current))||{};if(l&&u){(s=t.current)===null||s===void 0||s.cancel(),t.current=void 0;try{t.current=(o=(i=n.current).animate)===null||o===void 0?void 0:o.call(i,l,{duration:u,easing:d})}catch(h){console.error(h)}t.current&&(t.current.onfinish=()=>{t.current=void 0,f==null||f()})}}e.current=void 0}),{prepareAnimation:s=>{e.current=s},isAnimationPlaying:()=>{var s;return((s=t.current)===null||s===void 0?void 0:s.playState)==="running"}}}function th(){const n=p.useRef(null),r=p.useRef(),[e,t]=p.useState();return{setContainerRef:p.useCallback(s=>{n.current=s,r.current&&(r.current.disconnect(),r.current=void 0);const i=()=>{if(s){const o=window.getComputedStyle(s),l=u=>parseFloat(u)||0;t({width:Math.round(s.clientWidth-l(o.paddingLeft)-l(o.paddingRight)),height:Math.round(s.clientHeight-l(o.paddingTop)-l(o.paddingBottom))})}else t(void 0)};i(),s&&typeof ResizeObserver<"u"&&(r.current=new ResizeObserver(i),r.current.observe(s))},[]),containerRef:n,containerRect:e}}function vs(){const n=p.useRef(),{setTimeout:r,clearTimeout:e}=ki();return p.useCallback((t,a)=>{e(n.current),n.current=r(t,a>0?a:0)},[r,e])}function je(n){const r=p.useRef(n);return Ia(()=>{r.current=n}),p.useCallback((...e)=>{var t;return(t=r.current)===null||t===void 0?void 0:t.call(r,...e)},[])}function Tu(n,r){typeof n=="function"?n(r):n&&(n.current=r)}function Bo(n,r){return p.useMemo(()=>n==null&&r==null?null:e=>{Tu(n,e),Tu(r,e)},[n,r])}function fE(n,r=!1){const e=p.useRef();Ia(()=>{r&&e.current&&(e.current=!1,n())},[r,n]);const t=p.useCallback(()=>{e.current=!0},[]),a=p.useCallback(()=>{e.current=!1},[]);return{onFocus:t,onBlur:a}}function Il(){const[n,r]=p.useState(!1);return Ia(()=>{r(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),n}function pE(){const[n]=p.useState({}),r=p.useCallback((a,s)=>{var i;(i=n[a])===null||i===void 0||i.forEach(o=>{s.isPropagationStopped()||o(s)})},[n]),e=p.useMemo(()=>({onPointerDown:a=>r(Mp,a),onPointerMove:a=>r(Tp,a),onPointerUp:a=>r(Ap,a),onPointerLeave:a=>r(Rp,a),onPointerCancel:a=>r(Lp,a),onKeyDown:a=>r(Ip,a),onKeyUp:a=>r(FN,a),onWheel:a=>r(Fp,a)}),[r]),t=p.useCallback((a,s)=>(n[a]||(n[a]=[]),n[a].unshift(s),()=>{const i=n[a];i&&i.splice(0,i.length,...i.filter(o=>o!==s))}),[n]);return{registerSensors:e,subscribeSensors:t}}function Au(n,r){const e=p.useRef(0),t=vs(),a=je((...s)=>{e.current=Date.now(),n(s)});return p.useCallback((...s)=>{t(()=>{a(s)},r-(Date.now()-e.current))},[r,a,t])}const io=Rl("slide"),oo=Rl("slide_image");function hE({slide:n,offset:r,render:e,rect:t,imageFit:a,imageProps:s,onClick:i,onLoad:o,onError:l,style:u}){var d,f,h,m,v,g,y;const[w,k]=p.useState(ro),{publish:x}=Ni(),{setTimeout:E}=ki(),N=p.useRef(null);p.useEffect(()=>{r===0&&x(RN(w))},[r,w,x]);const _=je(Y=>{("decode"in Y?Y.decode():Promise.resolve()).catch(()=>{}).then(()=>{Y.parentNode&&(k(so),E(()=>{o==null||o(Y)},0))})}),S=p.useCallback(Y=>{N.current=Y,Y!=null&&Y.complete&&_(Y)},[_]),D=p.useCallback(Y=>{_(Y.currentTarget)},[_]),C=je(()=>{k(ao),l==null||l()}),O=UN(n,a),R=(Y,ee)=>Number.isFinite(Y)?Y:ee,F=R(Math.max(...((f=(d=n.srcSet)===null||d===void 0?void 0:d.map(Y=>Y.width))!==null&&f!==void 0?f:[]).concat(n.width?[n.width]:[]).filter(Boolean)),((h=N.current)===null||h===void 0?void 0:h.naturalWidth)||0),T=R(Math.max(...((v=(m=n.srcSet)===null||m===void 0?void 0:m.map(Y=>Y.height))!==null&&v!==void 0?v:[]).concat(n.height?[n.height]:[]).filter(Boolean)),((g=N.current)===null||g===void 0?void 0:g.naturalHeight)||0),$=F&&T?{maxWidth:"min(".concat(F,"px, 100%)"),maxHeight:"min(".concat(T,"px, 100%)")}:{maxWidth:"100%",maxHeight:"100%"},L=(y=n.srcSet)===null||y===void 0?void 0:y.sort((Y,ee)=>Y.width-ee.width).map(Y=>"".concat(Y.src," ").concat(Y.width,"w")).join(", "),H=()=>t&&!O&&n.width&&n.height?t.height/n.height*n.width:Number.MAX_VALUE,U=L&&t&&Wp()?"".concat(Math.round(Math.min(H(),t.width)),"px"):void 0,{style:A,className:M,...K}=s||{};return p.createElement(p.Fragment,null,p.createElement("img",{ref:S,onLoad:D,onError:C,onClick:i,draggable:!1,className:mn(_e(oo()),O&&_e(oo("cover")),w!==so&&_e(oo("loading")),M),style:{...$,...u,...A},...K,alt:n.alt,sizes:U,srcSet:L,src:n.src}),w!==so&&p.createElement("div",{className:_e(io(AN))},w===ro&&(e!=null&&e.iconLoading?e.iconLoading():p.createElement(cE,{className:mn(_e(Go),_e(io(ro)))})),w===ao&&(e!=null&&e.iconError?e.iconError():p.createElement(uE,{className:mn(_e(Go),_e(io(ao)))}))))}const mE=p.forwardRef(function({className:r,children:e,...t},a){const s=p.useRef(null);return p.createElement(ZN,{nodeRef:s},p.createElement("div",{ref:Bo(a,s),className:mn(_e("root"),r),...t},e))});var tt;(function(n){n[n.NONE=0]="NONE",n[n.SWIPE=1]="SWIPE",n[n.PULL=2]="PULL",n[n.ANIMATION=3]="ANIMATION"})(tt||(tt={}));function vE(n,r,e,t,a){p.useEffect(()=>a?()=>{}:Gp(n(Mp,r),n(Tp,e),n(Ap,t),n(Rp,t),n(Lp,t)),[n,r,e,t,a])}var xt;(function(n){n[n.NONE=0]="NONE",n[n.SWIPE=1]="SWIPE",n[n.PULL=2]="PULL"})(xt||(xt={}));const lo=30;function gE(n,r,e,t,a,s,i,o,l,u,d,f,h,m){const v=p.useRef(0),g=p.useRef([]),y=p.useRef(),w=p.useRef(0),k=p.useRef(xt.NONE),x=p.useCallback(C=>{y.current===C.pointerId&&(y.current=void 0,k.current=xt.NONE);const O=g.current;O.splice(0,O.length,...O.filter(R=>R.pointerId!==C.pointerId))},[]),E=p.useCallback(C=>{x(C),C.persist(),g.current.push(C)},[x]),N=je(C=>{E(C)}),_=(C,O)=>u&&C>O||l&&C<-O,S=je(C=>{if(g.current.find(O=>O.pointerId===C.pointerId)&&y.current===C.pointerId){const O=Date.now()-w.current,R=v.current;k.current===xt.SWIPE?Math.abs(R)>.3*e||Math.abs(R)>5&&O<t?i(R,O):o(R):k.current===xt.PULL&&(_(R,2*lo)?h(R,O):m(R)),v.current=0,k.current=xt.NONE}x(C)}),D=je(C=>{const O=g.current.find(R=>R.pointerId===C.pointerId);if(O){const R=y.current===C.pointerId;if(C.buttons===0){R&&v.current!==0?S(C):x(O);return}const F=C.clientX-O.clientX,T=C.clientY-O.clientY;if(y.current===void 0){const $=L=>{E(C),y.current=C.pointerId,w.current=Date.now(),k.current=L};Math.abs(F)>Math.abs(T)&&Math.abs(F)>lo&&r(F)?($(xt.SWIPE),a()):Math.abs(T)>Math.abs(F)&&_(T,lo)&&($(xt.PULL),d())}else R&&(k.current===xt.SWIPE?(v.current=F,s(F)):k.current===xt.PULL&&(v.current=T,f(T)))}});vE(n,N,D,S)}function yE({preventDefaultWheelX:n,preventDefaultWheelY:r}){const e=p.useRef(null),t=je(a=>{const s=Math.abs(a.deltaX)>Math.abs(a.deltaY);(s&&n||!s&&r||a.ctrlKey)&&a.preventDefault()});return p.useCallback(a=>{var s;a?a.addEventListener("wheel",t,{passive:!1}):(s=e.current)===null||s===void 0||s.removeEventListener("wheel",t),e.current=a},[t])}function bE(n,r,e,t,a,s,i,o,l){const u=p.useRef(0),d=p.useRef(0),f=p.useRef(),h=p.useRef(),m=p.useRef(0),v=p.useRef(),g=p.useRef(0),{setTimeout:y,clearTimeout:w}=ki(),k=p.useCallback(()=>{f.current&&(w(f.current),f.current=void 0)},[w]),x=p.useCallback(()=>{h.current&&(w(h.current),h.current=void 0)},[w]),E=je(()=>{n!==tt.SWIPE&&(u.current=0,g.current=0,k(),x())});p.useEffect(E,[n,E]);const N=je(S=>{h.current=void 0,u.current===S&&l(u.current)}),_=je(S=>{if(S.ctrlKey||Math.abs(S.deltaY)>Math.abs(S.deltaX))return;const D=C=>{m.current=C,w(v.current),v.current=C>0?y(()=>{m.current=0,v.current=void 0},300):void 0};if(n===tt.NONE){if(Math.abs(S.deltaX)<=1.2*Math.abs(m.current)){D(S.deltaX);return}if(!e(-S.deltaX))return;if(d.current+=S.deltaX,k(),Math.abs(d.current)>30)d.current=0,D(0),g.current=Date.now(),s();else{const C=d.current;f.current=y(()=>{f.current=void 0,C===d.current&&(d.current=0)},a)}}else if(n===tt.SWIPE){let C=u.current-S.deltaX;if(C=Math.min(Math.abs(C),t)*Math.sign(C),u.current=C,i(C),x(),Math.abs(C)>.2*t){D(S.deltaX),o(C,Date.now()-g.current);return}h.current=y(()=>N(C),2*a)}else D(S.deltaX)});p.useEffect(()=>r(Fp,_),[r,_])}const Ru=Rl("container"),nh=p.createContext(null),Fa=or("useController","ControllerContext",nh);function wE({children:n,...r}){var e;const{carousel:t,animation:a,controller:s,on:i,styles:o,render:l}=r,{closeOnPullUp:u,closeOnPullDown:d,preventDefaultWheelX:f,preventDefaultWheelY:h}=s,[m,v]=p.useState(),g=Ei(),y=tE(),[w,k]=p.useState(tt.NONE),x=p.useRef(0),E=p.useRef(0),N=p.useRef(1),{registerSensors:_,subscribeSensors:S}=pE(),{subscribe:D,publish:C}=Ni(),O=vs(),R=vs(),F=vs(),{containerRef:T,setContainerRef:$,containerRect:L}=th(),H=Bo(yE({preventDefaultWheelX:f,preventDefaultWheelY:h}),$),U=p.useRef(null),A=Bo(U,void 0),{getOwnerDocument:M}=Ll(),K=Il(),Y=I=>(K?-1:1)*(typeof I=="number"?I:1),ee=je(()=>{var I;return(I=T.current)===null||I===void 0?void 0:I.focus()}),ie=je(()=>r),ae=je(()=>g),ue=p.useCallback(I=>C(Yn,I),[C]),Me=p.useCallback(I=>C(Gn,I),[C]),Ue=p.useCallback(()=>C(Fr),[C]),nt=I=>!(t.finite&&(Y(I)>0&&g.currentIndex===0||Y(I)<0&&g.currentIndex===g.slides.length-1)),Ct=I=>{var se;x.current=I,(se=T.current)===null||se===void 0||se.style.setProperty(ut("swipe_offset"),"".concat(Math.round(I),"px"))},rt=I=>{var se,Ne;E.current=I,N.current=(()=>{const be=(()=>d&&I>0?I:u&&I<0?-I:0)();return Math.min(Math.max(HN(1-be/60*(1-.5),2),.5),1)})(),(se=T.current)===null||se===void 0||se.style.setProperty(ut("pull_offset"),"".concat(Math.round(I),"px")),(Ne=T.current)===null||Ne===void 0||Ne.style.setProperty(ut("pull_opacity"),"".concat(N.current))},{prepareAnimation:X}=Mu(U,(I,se,Ne)=>{if(U.current&&L)return{keyframes:[{transform:"translate(0, ".concat(I.rect.y-se.y+Ne.y,"px)"),opacity:I.opacity},{transform:"translate(0, 0)",opacity:1}],duration:I.duration,easing:a.easing.fade}}),J=(I,se)=>{if(u||d){rt(I);let Ne=0;U.current&&(Ne=a.fade*(se?2:1),X({rect:U.current.getBoundingClientRect(),opacity:N.current,duration:Ne})),F(()=>{rt(0),k(tt.NONE)},Ne),k(tt.ANIMATION),se||Ue()}},{prepareAnimation:de,isAnimationPlaying:Ve}=Mu(U,(I,se,Ne)=>{var G;if(U.current&&L&&(!((G=g.animation)===null||G===void 0)&&G.duration)){const Q=Us(t.spacing),be=(Q.percent?Q.percent*L.width/100:Q.pixel)||0;return{keyframes:[{transform:"translate(".concat(Y(g.globalIndex-I.index)*(L.width+be)+I.rect.x-se.x+Ne.x,"px, 0)")},{transform:"translate(0, 0)"}],duration:g.animation.duration,easing:g.animation.easing}}}),ct=je(I=>{var se,Ne;const G=I.offset||0,Q=G?a.swipe:(se=a.navigation)!==null&&se!==void 0?se:a.swipe,be=!G&&!Ve()?a.easing.navigation:a.easing.swipe;let{direction:Ie}=I;const Ke=(Ne=I.count)!==null&&Ne!==void 0?Ne:1;let an=tt.ANIMATION,Qe=Q*Ke;if(!Ie){const sn=L==null?void 0:L.width,cr=I.duration||0,gn=sn?Q/sn*Math.abs(G):Q;Ke!==0?(cr<gn?Qe=Qe/gn*Math.max(cr,gn/5):sn&&(Qe=Q/sn*(sn-Math.abs(G))),Ie=Y(G)>0?Yn:Gn):Qe=Q/2}let An=0;Ie===Yn?nt(Y(1))?An=-Ke:(an=tt.NONE,Qe=Q):Ie===Gn&&(nt(Y(-1))?An=Ke:(an=tt.NONE,Qe=Q)),Qe=Math.round(Qe),R(()=>{Ct(0),k(tt.NONE)},Qe),U.current&&de({rect:U.current.getBoundingClientRect(),index:g.globalIndex}),k(an),C(Ou,{type:"swipe",increment:An,duration:Qe,easing:be})});p.useEffect(()=>{var I,se;!((I=g.animation)===null||I===void 0)&&I.increment&&(!((se=g.animation)===null||se===void 0)&&se.duration)&&O(()=>y({type:"swipe",increment:0}),g.animation.duration)},[g.animation,y,O]);const yt=[S,nt,(L==null?void 0:L.width)||0,a.swipe,()=>k(tt.SWIPE),I=>Ct(I),(I,se)=>ct({offset:I,duration:se,count:1}),I=>ct({offset:I,count:0})],It=[()=>{d&&k(tt.PULL)},I=>rt(I),I=>J(I),I=>J(I,!0)];gE(...yt,u,d,...It),bE(w,...yt);const rn=je(()=>{s.focus&&M().querySelector(".".concat(_e(Al)," .").concat(_e(Ru())))&&ee()});p.useEffect(rn,[rn]);const j=je(()=>{var I;(I=i.view)===null||I===void 0||I.call(i,{index:g.currentIndex})});p.useEffect(j,[g.globalIndex,j]),p.useEffect(()=>Gp(D(Yn,I=>ct({direction:Yn,...I})),D(Gn,I=>ct({direction:Gn,...I})),D(Ou,I=>y(I))),[D,ct,y]);const te=p.useMemo(()=>({prev:ue,next:Me,close:Ue,focus:ee,slideRect:L?VN(L,t.padding):{width:0,height:0},containerRect:L||{width:0,height:0},subscribeSensors:S,containerRef:T,setCarouselRef:A,toolbarWidth:m,setToolbarWidth:v}),[ue,Me,Ue,ee,S,L,T,A,m,v,t.padding]);return p.useImperativeHandle(s.ref,()=>({prev:ue,next:Me,close:Ue,focus:ee,getLightboxProps:ie,getLightboxState:ae}),[ue,Me,Ue,ee,ie,ae]),p.createElement("div",{ref:H,className:mn(_e(Ru()),_e(Op)),style:{...w===tt.SWIPE?{[ut("swipe_offset")]:"".concat(Math.round(x.current),"px")}:null,...w===tt.PULL?{[ut("pull_offset")]:"".concat(Math.round(E.current),"px"),[ut("pull_opacity")]:"".concat(N.current)}:null,...s.touchAction!=="none"?{[ut("controller_touch_action")]:s.touchAction}:null,...o.container},...s.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,..._},L&&p.createElement(nh.Provider,{value:te},n,(e=l.controls)===null||e===void 0?void 0:e.call(l)))}const _E=lr(Cp,wE);function Ln(n){return Aa(kp,n)}function Lu(n){return Aa("slide",n)}function DE({slide:n,offset:r}){const e=p.useRef(null),{currentIndex:t}=Ei(),{slideRect:a,close:s,focus:i}=Fa(),{render:o,carousel:{imageFit:l,imageProps:u},on:{click:d},controller:{closeOnBackdropClick:f},styles:{slide:h}}=Ra(),{getOwnerDocument:m}=Ll(),v=r!==0;p.useEffect(()=>{var w;v&&(!((w=e.current)===null||w===void 0)&&w.contains(m().activeElement))&&i()},[v,i,m]);const g=()=>{var w,k,x,E;let N=(w=o.slide)===null||w===void 0?void 0:w.call(o,{slide:n,offset:r,rect:a});return!N&&jp(n)&&(N=p.createElement(hE,{slide:n,offset:r,render:o,rect:a,imageFit:l,imageProps:u,onClick:v?void 0:()=>d==null?void 0:d({index:t})})),N?p.createElement(p.Fragment,null,(k=o.slideHeader)===null||k===void 0?void 0:k.call(o,{slide:n}),((x=o.slideContainer)!==null&&x!==void 0?x:({children:_})=>_)({slide:n,children:N}),(E=o.slideFooter)===null||E===void 0?void 0:E.call(o,{slide:n})):null},y=w=>{const k=e.current,x=w.target instanceof HTMLElement?w.target:void 0;f&&x&&k&&(x===k||Array.from(k.children).find(E=>E===x)&&x.classList.contains(_e(IN)))&&s()};return p.createElement("div",{ref:e,className:mn(_e(Lu()),!v&&_e(Lu("current")),_e(Op)),...QN(v),onClick:y,style:h},g())}function SE(){const n=Ra().styles.slide;return p.createElement("div",{className:_e("slide"),style:n})}function NE({carousel:n}){const{slides:r,currentIndex:e,globalIndex:t}=Ei(),{setCarouselRef:a}=Fa(),s=Us(n.spacing),i=Us(n.padding),o=zN(n,r,1),l=[];if(Hp(r))for(let u=e-o;u<=e+o;u+=1){const d=Up(r,u),f=t-e+u,h=n.finite&&(u<0||u>r.length-1);l.push(h?{key:f}:{key:["".concat(f),KN(d)].filter(Boolean).join("|"),offset:u-e,slide:d})}return p.createElement("div",{ref:a,className:mn(_e(Ln()),l.length>0&&_e(Ln("with_slides"))),style:{["".concat(ut(Ln("slides_count")))]:l.length,["".concat(ut(Ln("spacing_px")))]:s.pixel||0,["".concat(ut(Ln("spacing_percent")))]:s.percent||0,["".concat(ut(Ln("padding_px")))]:i.pixel||0,["".concat(ut(Ln("padding_percent")))]:i.percent||0}},l.map(({key:u,slide:d,offset:f})=>d?p.createElement(DE,{key:u,slide:d,offset:f}):p.createElement(SE,{key:u})))}const EE=lr(kp,NE);function rh(){const{carousel:n}=Ra(),{slides:r,currentIndex:e}=Ei(),t=r.length===0||n.finite&&e===0,a=r.length===0||n.finite&&e===r.length-1;return{prevDisabled:t,nextDisabled:a}}function kE(n){var r;const e=Il(),{publish:t}=Ni(),{animation:a}=Ra(),{prevDisabled:s,nextDisabled:i}=rh(),o=((r=a.navigation)!==null&&r!==void 0?r:a.swipe)/2,l=Au(()=>t(Yn),o),u=Au(()=>t(Gn),o),d=je(f=>{switch(f.key){case $N:t(Fr);break;case YN:(e?i:s)||(e?u:l)();break;case GN:(e?s:i)||(e?l:u)();break}});p.useEffect(()=>n(Ip,d),[n,d])}function Iu({label:n,icon:r,renderIcon:e,action:t,onClick:a,disabled:s,style:i}){return p.createElement(Jp,{label:n,icon:r,renderIcon:e,className:_e("navigation_".concat(t)),disabled:s,onClick:a,style:i,...fE(Fa().focus,s)})}function CE({render:{buttonPrev:n,buttonNext:r,iconPrev:e,iconNext:t},styles:a}){const{prev:s,next:i,subscribeSensors:o}=Fa(),{prevDisabled:l,nextDisabled:u}=rh();return kE(o),p.createElement(p.Fragment,null,n?n():p.createElement(Iu,{label:"Previous",action:Yn,icon:oE,renderIcon:e,style:a.navigationPrev,disabled:l,onClick:s}),r?r():p.createElement(Iu,{label:"Next",action:Gn,icon:lE,renderIcon:t,style:a.navigationNext,disabled:u,onClick:i}))}const xE=lr(PN,CE),Fu=_e(LN),OE=_e(Pp);function PE(n){return"style"in n}function $u(n,r,e){const t=window.getComputedStyle(n),a=e?"padding-left":"padding-right",s=e?t.paddingLeft:t.paddingRight,i=n.style.getPropertyValue(a);return n.style.setProperty(a,"".concat((Si(s)||0)+r,"px")),()=>{i?n.style.setProperty(a,i):n.style.removeProperty(a)}}function ME({noScroll:{disabled:n},children:r}){const e=Il(),{getOwnerDocument:t,getOwnerWindow:a}=Ll();return p.useEffect(()=>{if(n)return()=>{};const s=[],i=a(),{body:o,documentElement:l}=t(),u=Math.round(i.innerWidth-l.clientWidth);if(u>0){s.push($u(o,u,e));const d=o.getElementsByTagName("*");for(let f=0;f<d.length;f+=1){const h=d[f];PE(h)&&i.getComputedStyle(h).getPropertyValue("position")==="fixed"&&!h.classList.contains(OE)&&s.push($u(h,u,e))}}return o.classList.add(Fu),()=>{o.classList.remove(Fu),s.forEach(d=>d())}},[e,n,t,a]),p.createElement(p.Fragment,null,r)}const TE=lr(MN,ME);function Yu(n){return Aa(Al,n)}function Gu(n,r,e){const t=n.getAttribute(r);return n.setAttribute(r,e),()=>{t?n.setAttribute(r,t):n.removeAttribute(r)}}function AE({children:n,animation:r,styles:e,className:t,on:a,portal:s,close:i}){const[o,l]=p.useState(!1),[u,d]=p.useState(!1),f=p.useRef([]),h=p.useRef(null),{setTimeout:m}=ki(),{subscribe:v}=Ni(),y=eh()?0:r.fade;p.useEffect(()=>(l(!0),()=>{l(!1),d(!1)}),[]);const w=je(()=>{f.current.forEach(N=>N()),f.current=[]}),k=je(()=>{var N;d(!1),w(),(N=a.exiting)===null||N===void 0||N.call(a),m(()=>{var _;(_=a.exited)===null||_===void 0||_.call(a),i()},y)});p.useEffect(()=>v(Fr,k),[v,k]);const x=je(N=>{var _,S,D;N.scrollTop,d(!0),(_=a.entering)===null||_===void 0||_.call(a);const C=(D=(S=N.parentNode)===null||S===void 0?void 0:S.children)!==null&&D!==void 0?D:[];for(let O=0;O<C.length;O+=1){const R=C[O];["TEMPLATE","SCRIPT","STYLE"].indexOf(R.tagName)===-1&&R!==N&&(f.current.push(Gu(R,"inert","")),f.current.push(Gu(R,"aria-hidden","true")))}f.current.push(()=>{var O,R;(R=(O=h.current)===null||O===void 0?void 0:O.focus)===null||R===void 0||R.call(O)}),m(()=>{var O;(O=a.entered)===null||O===void 0||O.call(a)},y)}),E=p.useCallback(N=>{N?x(N):w()},[x,w]);return o?ua.createPortal(p.createElement(mE,{ref:E,className:mn(t,_e(Yu()),_e(Pp),u&&_e(Yu("open"))),role:"presentation","aria-live":"polite",style:{...r.fade!==jo.animation.fade?{[ut("fade_animation_duration")]:"".concat(y,"ms")}:null,...r.easing.fade!==jo.animation.easing.fade?{[ut("fade_animation_timing_function")]:r.easing.fade}:null,...e.root},onFocus:N=>{h.current||(h.current=N.relatedTarget)}},n),s.root||document.body):null}const RE=lr(Al,AE);function LE({children:n}){return p.createElement(p.Fragment,null,n)}const IE=lr(TN,LE);function FE(n){return Aa(xp,n)}function $E({toolbar:{buttons:n},render:{buttonClose:r,iconClose:e},styles:t}){const{close:a,setToolbarWidth:s}=Fa(),{setContainerRef:i,containerRect:o}=th();Ia(()=>{s(o==null?void 0:o.width)},[s,o==null?void 0:o.width]);const l=()=>r?r():p.createElement(Jp,{key:Fr,label:"Close",icon:iE,renderIcon:e,onClick:a});return p.createElement("div",{ref:i,style:t.toolbar,className:_e(FE())},n==null?void 0:n.map(u=>u===Fr?l():u))}const YE=lr(xp,$E);function ah(n,r){var e;return p.createElement(n.module.component,{key:n.module.name,...r},(e=n.children)===null||e===void 0?void 0:e.map(t=>ah(t,r)))}function GE(n,r={}){const{easing:e,...t}=n,{easing:a,...s}=r;return{easing:{...e,...a},...t,...s}}function WE({carousel:n,animation:r,render:e,toolbar:t,controller:a,noScroll:s,on:i,plugins:o,slides:l,index:u,...d}){const{animation:f,carousel:h,render:m,toolbar:v,controller:g,noScroll:y,on:w,slides:k,index:x,plugins:E,...N}=jo,{config:_,augmentation:S}=XN([ze(RE,[ze(TE,[ze(_E,[ze(EE),ze(YE),ze(xE)])])])],o||E),D=S({animation:GE(f,r),carousel:{...h,...n},render:{...m,...e},toolbar:{...v,...t},controller:{...g,...a},noScroll:{...y,...s},on:{...w,...i},...N,...d});return D.open?p.createElement(eE,{...D},p.createElement(rE,{slides:l||k,index:Si(u||x)},p.createElement(aE,null,p.createElement(JN,null,ah(ze(IE,_),D))))):null}const jE=n=>{const r=new Date(n),e=t=>["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][t];return"".concat(r.getDate()," ").concat(e(r.getMonth())," ").concat(r.getFullYear())},BE=n=>{const r=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],e=new Date(n).getMonth();return r[e]};const HE=n=>{const{className:r,comment:e,isUser:t,onClickScore:a}=n,[s,i]=W("comment-goal",r),[o,l]=p.useState(!1),[u,d]=p.useState(0),f=e.photos?e.photos.map(h=>({src:h.image})):[];return b("article",{className:s(),children:[b("div",{className:i("info"),children:[b("div",{className:i("user-info"),children:[c(Br,{avatar:e.userAvatar,size:"medium"}),t?b("div",{className:i("user-wrapper"),children:[c(pt,{category:e.goalCategory.nameEn,text:e.goalCategory.name}),c("p",{className:i("user-level"),children:it(e.userTotalCompletedGoals,["цель выполнена","цели выполнено","целей выполнено"])})]}):b("div",{className:i("user-wrapper"),children:[c("h4",{children:e.userName}),c("p",{className:i("user-level"),children:it(e.userTotalCompletedGoals,["цель выполнена","цели выполнено","целей выполнено"])})]})]}),b("div",{className:i("comment-info"),children:[c("span",{className:i("date"),children:jE(e.dateCreated)}),c("div",{className:i("vertical-line")}),c(pt,{complexity:e.complexity,theme:"integrate",icon:e.complexity})]})]}),c("hr",{className:i("horizontal-line")}),c("p",{className:i("text"),children:e.text}),e.photos&&!!e.photos.length&&c("div",{className:i("comment-images"),children:e.photos.map((h,m)=>c("img",{src:h.image,alt:"Изображение комментария",className:i("comment-img"),role:"button",tabIndex:0,onClick:()=>{d(m),l(!0)},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(d(m),l(!0))}},h.id))}),b("div",{className:i("score"),children:[c(z,{icon:"like",small:!0,theme:e.hasLiked?"green":"blue-light",onClick:()=>a(e.id,!0),className:i("like"),children:e.likesCount}),c(z,{icon:"like--bottom",small:!0,theme:e.hasDisliked?"red":"blue-light",onClick:()=>a(e.id,!1),children:e.dislikesCount})]}),c(WE,{open:o,close:()=>l(!1),slides:f,index:u,carousel:{finite:!0,padding:"16px"},controller:{closeOnBackdropClick:!0},animation:{fade:300},styles:{container:{backgroundColor:"rgba(0, 0, 0, .8)"}}})]})};const sh=Be(n=>{const{className:r,comments:e,isUser:t,setComments:a}=n,[s,i]=W("comments-goal",r),o=l=>async(u,d)=>{const f=await ON(u,d);if(f.success){const h=e.slice(0,l),m=e.slice(l+1);a([...h,{...e[l],...f.data},...m])}};return c("div",{className:s(),children:c("section",{className:i("items"),children:e&&!!e.length&&e.map((l,u)=>c(HE,{className:i("comment"),isUser:t,comment:l,onClickScore:o(u)},l.id))})})});const Ci=n=>{const{className:r,items:e,progressData:t,progress:a,horizontal:s,backgroundOff:i}=n,[o,l]=W("info-goal",r);return b("section",{className:o({horizontal:s,backgroundOff:i}),children:[b("div",{className:l("wrapper"),children:[e.map((u,d)=>b(p.Fragment,{children:[b("div",{className:l("item"),children:[c("span",{className:l("title"),children:u.title}),c("span",{className:l("text"),children:u.value})]}),d!==e.length-1&&c("div",{className:l("vertical-line")})]},d)),!!e.length&&s&&t&&c("div",{className:l("vertical-line")}),s&&t&&b("div",{className:l("wrapper-horizontal"),children:[c("span",{className:l("title"),children:"Мой прогресс выполнения"}),c("span",{className:l("text"),children:"".concat(t.completed,"/").concat(t.total)})]})]}),a&&t&&t.total>0&&b(vt,{children:[c(He,{vertical:s,margin:"5px 24px",height:-10}),c(ri,{done:t.completed,all:t.total,goal:!0})]})]})};const Fl=n=>{const{className:r,tabs:e,active:t,base:a="",vertical:s}=n,[i,o]=W("tabs",r);return c("section",{className:i({vertical:s}),children:e.map(l=>b(ke,{to:"".concat(a).concat(l.url),className:o("link",{active:t===l.page}),children:[l.icon&&c(re,{icon:l.icon}),l.name,!!l.count&&c("span",{className:o("count"),children:l.count})]},l.name))})},ih=n=>{const{className:r,goal:e,page:t,isList:a}=n,[s,i]=W("description-with-links",r),[o,l]=p.useState(!0),u=()=>{l(!o)},d=p.useMemo(()=>a?[]:[{url:"/",name:"Отметки",page:"isGoal",count:e.totalComments},{url:"/lists",name:"Списки с целью",page:"isGoalLists",count:e.totalLists}],[e,a]);return b("div",{className:s({list:a}),children:[b("div",{className:i("wrapper"),children:[b("div",{className:i("text"),children:[c("p",{className:i("short-text"),children:o?e.shortDescription:e.description}),e.shortDescription!==e.description&&c(z,{icon:"download",theme:"blue-light",className:i("btn-more"),onClick:u,children:o?"Читать подробнее":"Скрыть"})]}),c(Ci,{className:i("info"),items:[{title:"Добавили к себе",value:e.totalAdded},{title:"Выполнили",value:e.totalCompleted}],progress:!0,progressData:{completed:e.totalCompleted,total:e.totalAdded}})]}),!a&&b(vt,{children:[c(He,{margin:"16px 0 0"}),c(Fl,{base:"/goals/".concat(e.code),tabs:d,active:t})]})]})},UE=async n=>await Pe("goals/".concat(n,"/lists"),{auth:!0});const VE=Be(n=>{const{className:r,code:e}=n,[t]=W("lists-with-goal",r),{lists:a,setLists:s,setInfoPaginationLists:i}=ni;p.useEffect(()=>{(async()=>{const l=await UE(e);l.success&&(s(l.data.data),i(l.data.pagination))})()},[e]);const o=async(l,u,d)=>{const f=await(d==="add"?si(l):oi(l));if(f.success&&a){const h=a.slice(0,u),m=a.slice(u+1);s([...h,f.data,...m])}};return c("section",{className:t(),children:a.map((l,u)=>c(xr,{goal:l,isList:!0,horizontal:!0,onClickAdd:()=>o(l.code,u,"add"),onClickDelete:()=>o(l.code,u,"delete")},l.code))})}),KE=Be(n=>{const{className:r,goal:e,page:t}=n,[a,s]=W("content-goal",r),i=Pn(),{comments:o,setComments:l,setInfoPaginationComments:u}=ni;p.useEffect(()=>{t==="isGoal"&&(async()=>{const h=await xN(e.code);h.success&&(l(h.data.data),u(h.data.pagination))})()},[e.code,t]);const d=()=>{switch(t){case"isGoal":return c(sh,{comments:o,setComments:l});case"isGoalLists":return c(VE,{code:e.code});default:return null}},f=()=>{i("/goals/".concat(e.code,"/lists")),Ep.scrollTo("comments-section",{duration:800,delay:0,smooth:"easeInOutQuart",offset:-50})};return b("article",{className:a(),children:[!!e.addedFromList.length&&b("div",{className:s("goal-in-list"),children:[c(re,{icon:"info"}),"Цель включена в список и отображается вместе с ним",c(z,{className:s("goal-in-list-btn"),theme:"no-border",type:"button",onClick:f,children:"Смотреть списки"})]}),c(ih,{goal:e,page:t}),c("section",{className:s("comments"),id:"comments-section",children:d()})]})}),zE=async n=>{try{return await nl("goals/".concat(n,"/delete"),{auth:!0,success:{type:"success",title:"Успех",message:"Цель успешно удалена"}})}catch(r){return console.error("API Error:",r),{success:!1,error:"Не удалось удалить цель"}}},qE=async(n,r)=>{try{return await ti("goals/".concat(n,"/update"),{auth:!0,file:!0,body:r,success:{type:"success",title:"Успех",message:"Цель успешно обновлена"}})}catch(e){return console.error("API Error:",e),{success:!1,error:"Не удалось обновить цель"}}},QE=n=>{const{goal:r,className:e,onGoalUpdated:t,cancelEdit:a}=n,s=Pn(),[i,o]=W("add-goal",e),[l,u]=p.useState(r.title||""),[d,f]=p.useState(r.description||""),[h,m]=p.useState(null),[v,g]=p.useState(null),[y,w]=p.useState(null),[k,x]=p.useState(null),[E,N]=p.useState(r.image||null),[_,S]=p.useState([]),[D,C]=p.useState([]),[O,R]=p.useState(!1),[F,T]=p.useState(!1),[$,L]=p.useState(null),{setHeader:H}=et;p.useEffect(()=>{H("white"),(async()=>{try{R(!0),r.canEdit?T(!0):(L("Отредактировать цель невозможно. Возможно, прошло более 24 часов с момента создания."),T(!1));const ie=await sr();if(ie.success&&(S(ie.data),r.category)){const ae=ie.data.findIndex(ue=>ue.id===r.category.id);ae!==-1&&g(ae)}if(r.complexity){const ae=dt.findIndex(ue=>ue.value===r.complexity);ae!==-1&&m(ae)}}catch(ie){oe.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить данные для редактирования"}),T(!1)}finally{R(!1)}})()},[r]),p.useEffect(()=>{v!==null&&(async()=>{const ie=await Wn(_[v].nameEn);if(ie.success&&(C(ie.data.subcategories),r.subcategory)){const ae=ie.data.subcategories.findIndex(ue=>{var Me;return ue.id===((Me=r.subcategory)==null?void 0:Me.id)});ae!==-1&&w(ae)}})()},[v,_,r.subcategory]);const U=p.useCallback(ee=>{ee.length>0&&(x(ee[0]),N(null))},[]),{getRootProps:A,getInputProps:M}=Xn({onDrop:U,accept:{"image/*":[".jpeg",".jpg",".png",".gif"]},maxFiles:1}),K=async ee=>{var ie;if(ee.preventDefault(),!l||!d||h===null||v===null||!k&&!E){oe.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}R(!0);try{const ae=new FormData;ae.append("title",l),ae.append("description",d),h!==null&&ae.append("complexity",dt[h].value),y!==null?ae.append("category",D[y].id.toString()):v!==null&&ae.append("category",_[v].id.toString()),k?ae.append("image",k):E&&ae.append("image_url",E);const ue=await qE(r.code,ae);if(ue.success)oe.addNotification({type:"success",title:"Успех",message:"Цель успешно обновлена"}),t&&ue.data?t(ue.data):s("/goals/".concat((ie=ue.data)==null?void 0:ie.code));else throw new Error(ue.error||"Неизвестная ошибка")}catch(ae){oe.addNotification({type:"error",title:"Ошибка",message:ae instanceof Error?ae.message:"Не удалось обновить цель"})}finally{R(!1)}},Y=async()=>{if(window.confirm("Вы уверены, что хотите удалить эту цель?")){R(!0);try{const ee=await zE(r.code);if(ee.success)oe.addNotification({type:"success",title:"Успех",message:"Цель успешно удалена"}),s("/");else throw new Error(ee.error||"Неизвестная ошибка")}catch(ee){oe.addNotification({type:"error",title:"Ошибка",message:ee instanceof Error?ee.message:"Не удалось удалить цель"})}finally{R(!1)}}};return b("form",{className:i(),onSubmit:K,children:[c("div",{className:o("wrapper-title"),children:c(ce,{tag:"h1",className:o("title"),children:"Редактирование цели"})}),c(Ur,{isLoading:O,children:F?b("div",{className:o("content"),children:[b("div",{className:o("image-section"),children:[c("p",{className:o("field-title"),children:"Изображение цели *"}),!k&&!E?b("div",{...A({className:o("dropzone")}),children:[c("input",{...M()}),b("div",{className:o("upload-placeholder"),children:[c(re,{icon:"mount",className:o("upload-icon")}),c("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})]}):b("div",{className:o("image-preview"),children:[k&&c("img",{src:URL.createObjectURL(k),alt:"Предпросмотр",className:o("preview")}),E&&!k&&c("img",{src:E,alt:"Предпросмотр из источника",className:o("preview")}),c(z,{className:o("remove-image"),type:"button-close",onClick:()=>{x(null),N(null)}})]})]}),b("div",{className:o("form"),children:[c(We,{placeholder:"Введите название цели",id:"goal-title",text:"Название цели *",value:l,setValue:u,className:o("field"),required:!0}),c(ht,{className:o("field"),placeholder:"Выберите категорию",options:_.map(ee=>({name:ee.name,value:ee.nameEn})),activeOption:v,onSelect:g,text:"Категория *"}),v!==null&&D.length>0&&c(ht,{className:o("field"),placeholder:"Выберите подкатегорию (необязательно)",options:D.map(ee=>({name:ee.name,value:ee.nameEn})),activeOption:y,onSelect:w,text:"Подкатегория"}),c(ht,{className:o("field"),placeholder:"Выберите сложность",options:dt,activeOption:h,onSelect:m,text:"Сложность *"}),c(We,{placeholder:"Опишите цель подробно",id:"goal-description",text:"Описание *",value:d,setValue:f,className:o("field"),type:"textarea",required:!0}),b("div",{className:o("btns-wrapper"),children:[c(z,{theme:"red",className:o("btn"),onClick:Y,type:"button",children:"Удалить цель"}),c(z,{theme:"blue-light",className:o("btn"),onClick:a,type:"button",children:"Отмена"}),c(z,{theme:"blue",className:o("btn"),typeBtn:"submit",children:"Сохранить изменения"})]})]})]}):b("div",{className:o("error-message"),children:[c(re,{icon:"error",className:o("error-icon")}),c("p",{children:$||"Редактирование недоступно"}),c(z,{theme:"blue",onClick:()=>s(-1),type:"button",children:"Вернуться назад"})]})})]})};const oh=n=>{const{className:r,title:e,theme:t,category:a,complexity:s,totalCompleted:i,isList:o,short:l,categoryRank:u}=n,[d,f]=W("title-with-tags",r);return b("div",{className:d({theme:t}),children:[c(ce,{className:f("title",{short:l}),tag:"h1",theme:o?"black":"white",children:e}),!l&&c(hf,{category:a,medal:u?"Топ ".concat(u," в категории"):void 0,complexity:s,done:i,theme:t})]})},XE=n=>{const{className:r,title:e,category:t,image:a,goal:s}=n,[i,o]=W("header-goal",r),[l,u]=p.useState(!1);return p.useEffect(()=>{const d=()=>{window.scrollY>160?u(!0):u(!1)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),c("header",{className:i({category:t.nameEn,shrink:l}),style:{backgroundImage:"url(".concat(a,")")},children:c(oh,{category:t,complexity:s.complexity,totalCompleted:s.totalCompleted,title:e,className:o("wrapper"),short:l,categoryRank:s.categoryRank})})},ZE=async n=>{try{return await Pe("goals/".concat(n,"/can-edit"),{auth:!0,showSuccessNotification:!1})}catch(r){return console.error("API Error:",r),{success:!1,error:"Не удалось проверить возможность редактирования"}}},JE=async n=>await Pe("goals/".concat(n),{auth:!0});const ek=({page:n})=>{const[r,e]=W("goal"),{setId:t}=ni,a=Vs(),s=a==null?void 0:a.id,[i,o]=p.useState(null),[l,u]=p.useState(!1),[d,f]=p.useState({can_edit:!1,checked:!1}),{setIsOpen:h,setWindow:m}=ba,{setHeader:v}=et;if(p.useEffect(()=>{(async()=>{if(s){const E=await JE(s);E.success&&(o(E.data.goal),t(E.data.goal.id))}})()},[s]),p.useEffect(()=>{(async()=>{if(i&&i.createdBy&&!d.checked)try{const N=await ZE(s||"");N.success&&N.data&&f({can_edit:N.data.can_edit,checked:!0})}catch(N){console.error("Ошибка при проверке возможности редактирования:",N)}})()},[i,s,d.checked]),!i)return null;const g=()=>{m("add-review"),h(!0)},y=async(E,N,_)=>{const S=await(N==="add"?ai(E):N==="delete"?ii(E):_a(E,!_,_?void 0:{title:"Цель успешно выполнена!",type:"success",id:i.id.toString(),message:"Добавьте отзыв чтобы заработать больше очков",actionText:"Добавить отзыв",action:g}));if(S.success){const D={addedByUser:N!=="delete",completedByUser:N==="mark"?!_:!1,totalAdded:S.data.totalAdded,totalCompleted:S.data.totalCompleted};o({...i,...D})}},w=()=>{i!=null&&i.canEdit?u(!0):oe.addNotification({type:"error",title:"Ошибка",message:"Вы не можете редактировать эту цель"})},k=E=>{o({...i,...E}),v("transparent"),u(!1)},x=()=>{v("transparent"),u(!1)};return l&&i?c("main",{className:r({editing:!0}),children:c(QE,{goal:i,onGoalUpdated:k,cancelEdit:x})}):b("main",{className:r(),children:[c(XE,{title:i.title,category:i.category,image:i.image,goal:i}),b("section",{className:e("wrapper"),children:[c(ip,{className:e("aside"),title:i.title,image:i.image||"",added:i.addedByUser,updateGoal:y,code:i.code,done:i.completedByUser,openAddReview:g,editGoal:i.createdByUser&&i.canEdit?w:void 0,canEdit:!!i.canEdit}),c(KE,{page:n,goal:i,className:e("content")})]})]})},Wu=({page:n})=>{const{setHeader:r,setPage:e,setFull:t}=et;return p.useEffect(()=>{r("transparent"),e(n),t(!0)},[]),c(ek,{page:n})};const tk=n=>{const{className:r,list:e,horizontal:t,columns:a="three",updateGoal:s}=n,[i,o]=W("list",r);return c("section",{className:i(),children:e.map((l,u)=>c(xr,{goal:l,className:o("goal",{columns:a}),horizontal:t,onClickAdd:()=>s(l.code,u,"add"),onClickDelete:()=>s(l.code,u,"delete"),onClickMark:()=>s(l.code,u,"mark",l.completedByUser)},l.code))})},nk=n=>{const{className:r,list:e,updateGoal:t}=n,[a,s]=W("content-list-goals",r);return b("article",{className:a(),children:[c(oh,{title:e.title,category:e.category,complexity:e.complexity,className:s("title"),totalCompleted:e.totalCompleted,isList:!0,theme:"light"}),c(ih,{isList:!0,goal:e,className:s("description")}),e.addedByUser&&c(Ci,{className:s("info"),items:[{title:"Всего целей",value:e.goalsCount},{title:"Выполнено",value:e.userCompletedGoals}],progress:!0,horizontal:!0,progressData:{completed:e.userCompletedGoals,total:e.goalsCount}}),c(tk,{list:e.goals,updateGoal:t,columns:"three"})]})},rk=async n=>await Pe(n,{auth:!0}),ak=async n=>await ft("goal-lists/".concat(n,"/mark-all"),{auth:!0});const sk=()=>{const[n,r]=W("list-goals-container"),[e,t]=p.useState(null),a=Vs(),s=a==null?void 0:a.id;p.useEffect(()=>{(async()=>{const l=await rk("goal-lists/".concat(s));l.success&&t(l.data.list)})()},[s]);const i=async(l,u)=>{const d=await(u==="add"?si(l):u==="delete"?oi(l):ak(l));return d.success?(t({...e,...d.data,goals:e==null?void 0:e.goals.map(f=>({...f,completedByUser:u==="mark-all"?!0:f.completedByUser}))}),!0):d.success},o=async(l,u,d,f)=>{const h=await(d==="add"?ai(l):d==="delete"?ii(l):_a(l,!f));if(h.success&&e){const m={...e.goals[u],addedByUser:d!=="delete",completedByUser:d==="mark"?!f:e.goals[u].completedByUser,totalAdded:h.data.users_added_count},v=[...e.goals];v[u]=m;let{userCompletedGoals:g}=e;d==="mark"&&!f&&!e.goals[u].completedByUser?g+=1:d==="mark"&&f&&e.goals[u].completedByUser&&(g-=1);const y=g===e.goalsCount;t({...e,goals:v,userCompletedGoals:g,completedByUser:y,totalCompleted:y?e.totalCompleted+1:e.totalCompleted})}};return e?c("main",{className:n(),children:b("article",{className:r("wrapper"),children:[c(ip,{className:r("aside"),title:e.title,image:e.image,updateGoal:i,added:e.addedByUser,code:e.code,isList:!0,done:e.completedByUser}),c(nk,{className:r("content"),list:e,updateGoal:o})]})}):null},ik=({page:n})=>{const{setHeader:r,setPage:e,setFull:t}=et;return p.useEffect(()=>{r("white"),e(n),t(!0)},[]),c(sk,{})};const ok=n=>{const{users:r,className:e}=n,[t,a]=W("leader-board",e);return c("section",{className:t(),children:b("table",{className:a("table"),children:[c("thead",{className:a("header"),children:b("tr",{children:[c("th",{className:a("head-item"),children:"#"}),c("th",{className:a("head-item"),children:"Пользователь"}),c("th",{className:a("head-item"),children:"Целей выполнено"}),c("th",{className:a("head-item"),children:"Добавлено отзывов"}),c("th",{className:a("head-item"),children:"Опыта заработано"})]})}),c("tbody",{children:r.map(s=>b("tr",{className:a("row"),children:[c("td",{className:a("item"),children:s.place}),c("td",{className:a("item"),children:b(ke,{to:"/user/".concat(s.id,"/showcase"),className:a("row-link"),children:[c(Br,{noBorder:!0,className:a("avatar"),size:"medium",avatar:s.avatar}),c("p",{children:s.name}),b("p",{className:a("info"),children:[it(s.level,["уровень"])," ",it(s.totalCompletedGoals,["цель выполнена","цели выполнено","целей выполнено"])]})]})}),c("td",{className:a("item"),children:s.weekCompletedGoals}),c("td",{className:a("item"),children:s.reviewsAddedWeek}),c("td",{className:a("item"),children:s.experienceEarnedWeek})]},s.id))})]})})};const lk=n=>{const{users:r}=n,[e,t]=W("leader-pedestal");return c("section",{className:e(),children:r.map((a,s)=>b("div",{className:t("user"),children:[c(Br,{noBorder:!0,className:t("avatar"),size:s===0?"large-96":s===1?"medium-56":"medium",avatar:a.avatar}),c("p",{className:t("name"),children:a.name}),c("p",{className:t("experience"),children:it(a.experienceEarnedWeek,["опыт","опыта","опыта"])}),b("p",{className:t("place"),children:[c(re,{icon:"award"}),a.place," место"]})]},a.id))})},ck=async()=>await Pe("leaders/weekly");const uk=()=>{const[n,r]=W("leaders"),[e,t]=p.useState([]),[a,s]=p.useState(ry);return p.useEffect(()=>{(async()=>{const i=await ck();i.success&&(t(i.data.leaders),s(i.data.totalStats))})()},[]),b("main",{className:n(),children:[b("div",{className:r("wrapper"),children:[c(ce,{className:r("title"),tag:"h1",children:"Лидеры прошлой недели"}),c("p",{className:r("description"),children:"Выполняйте цели, пишите отзывы, зарабатывайте очки и попадайте в число лучших пользователей за неделю. Соревнуйтесь с другими и зарабатывайте награды в свой профиль. Покажите всем, что вы живёте полной жизнью!"}),c(Ci,{className:r("info"),items:[{title:"Целей выполнено",value:a.goalsCompleted},{title:"Добавлено отзывов",value:a.reviewsAdded},{title:"Опыта заработано",value:a.experienceEarned}],backgroundOff:!0})]}),e.length>0?b(vt,{children:[c(lk,{users:e.slice(0,3)}),c(ok,{className:r("board"),users:e})]}):c("div",{className:r("empty"),children:"Никто еще не стал лидером недели. Но вы можете стать им!"})]})},dk=({page:n})=>{const{setPage:r,setHeader:e,setFull:t}=et;return p.useEffect(()=>{r(n),e("white"),t(!1)},[n,r,e,t]),c(uk,{})},fk=({page:n})=>{const{setHeader:r,setPage:e,setFull:t}=et,a=Pn();return p.useEffect(()=>{r("white"),e(n),t(!0)},[]),c(Jd,{isPage:!0,openRegistration:()=>a("/sign-up"),successLogin:()=>a("/")})};const co=n=>{const{className:r,done:e,all:t,complexity:a}=n,[s,i]=W("progress-category",r),o=p.useRef(null);return p.useEffect(()=>{if(o.current){const l=2*Math.PI*parseFloat(o.current.getAttribute("r")||"0"),u=l-l*(e/t)*100/100;o.current.style.strokeDashoffset=u.toString()}},[e,t]),b("div",{className:s(),children:[b("div",{className:i("bar"),style:{width:"40px",height:"40px"},children:[c(re,{icon:a}),b("svg",{viewBox:"0 0 40 40",className:i("svg-container"),children:[c("circle",{className:i("outer-circle"),cx:"20",cy:"20",r:"18",fill:"none",strokeWidth:4}),e&&c("circle",{className:i("progress-indicator",{complexity:a}),cx:"20",cy:"20",r:"18",fill:"none",strokeWidth:4,ref:o,strokeDasharray:"".concat(2*Math.PI*17.5),strokeDashoffset:"0",strokeLinecap:"round",transform:"rotate(-90 20 20)"})]})]}),b("div",{className:i("wrapper"),children:[c("span",{children:ff[a]}),c("span",{className:i("account"),children:"".concat(e,"/").concat(t)})]})]})};const xi=n=>{const{className:r,totalCompletedEasy:e,totalAddedEasy:t,totalAddedHard:a,totalAddedMedium:s,totalCompletedHard:i,totalCompletedMedium:o,column:l}=n,[u,d]=W("info-100-goals",r);return b("section",{className:u(),children:[b("div",{className:d("wrapper",{column:l}),children:[c(co,{complexity:"easy",done:e,all:t}),c(He,{vertical:!l,height:-16,margin:l?"0":"16px 0"}),c(co,{complexity:"medium",done:o,all:s}),c(He,{vertical:!l,height:-16,margin:l?"0":"16px 0"}),c(co,{complexity:"hard",done:i,all:a})]}),t+a+s>0&&b(vt,{children:[c(He,{}),b("div",{className:d("score"),children:[c("p",{className:d("text"),children:"Общий прогресс:"}),c(ri,{done:e+i+o,all:t+a+s,goal:!0})]})]})]})};const pk=n=>{const{className:r,goal:e,big:t,withBtn:a,updateGoal:s}=n,[i,o]=W("card-main",r),l=u=>{u.preventDefault(),s&&s()};return c("section",{className:i({big:t,withBtn:a}),children:c(ke,{to:"/goals/".concat(e.code),className:o("gradient"),children:c(il,{img:{src:e.image,alt:e.title},category:e.category.nameEn,blacked:!e.completedByUser,children:b("div",{className:o("info"),children:[b("div",{className:o("img-tags"),children:[e.completedByUser&&c(pt,{icon:"done",theme:"light",classNameIcon:o("img-tag-icon-done")}),c(pt,{text:e.category.name,category:e.category.nameEn,className:o("img-tag-category")})]}),b("div",{children:[c(ce,{tag:"h3",className:o("title"),theme:"white",children:e.title}),c("p",{className:o("text"),children:e.shortDescription}),a&&b(vt,{children:[c(He,{className:o("line")}),c(z,{className:o("btn"),icon:"done",theme:e.completedByUser?"green":"blue",onClick:l,children:"Выполнено"})]})]})]})})})})};const Dr=n=>{const{className:r,goals:e,complexity:t,withBtn:a,updateGoal:s}=n,[i,o]=W("main-cards",r);return b("section",{className:i(),children:[b(ce,{className:o("title"),tag:"h2",children:[c(re,{icon:t,width:"22px",height:"22px"}),ff[t]]}),c("section",{className:o("cards"),children:e==null?void 0:e.map((l,u)=>c(pk,{goal:l,className:o("card",{big:u<3}),big:u<3,withBtn:a,updateGoal:()=>s&&s(u,t,l.code,l.completedByUser)},l.code))})]})},$l=async n=>await Pe("100-goals",{auth:!0,get:{user_id:n}});const hk=()=>{const[n,r]=W("main-goals"),[e,t]=p.useState({easyGoals:{data:[],countCompleted:0},mediumGoals:{data:[],countCompleted:0},hardGoals:{data:[],countCompleted:0}});if(p.useEffect(()=>{(async()=>{const s=await $l();s.success&&t(s.data)})()},[]),!e)return null;const a=async(s,i,o,l)=>{const u=await _a(o,!l);if(u.success){const d={completedByUser:!l,totalAdded:u.data.totalAdded,totalCompleted:u.data.totalCompleted},f="".concat(i,"Goals"),h=e[f],m={data:[...h.data.slice(0,s),{...h.data[s],...d},...h.data.slice(s+1)],countCompleted:h.countCompleted+(l?-1:1)};t({...e,[f]:m})}};return c("main",{className:n(),children:c(Ur,{isLoading:!1,children:b(vt,{children:[b("div",{className:r("info"),children:[b("div",{className:r("description"),children:[c(ce,{className:r("title"),tag:"h1",children:"Твои 100 целей на жизнь!"}),c("p",{children:"Сколько всего вы бы хотели сделать, увидеть, испытать за свою жизнь, но мечты постоянно откладываются? Превратите свои мечты в цели, и скоро вы заметите, как ваша жизнь изменилась. Мы уже сделали это за вас - дерзайте!"})]}),c(xi,{className:r("stats"),totalAddedEasy:e.easyGoals.data.length,totalAddedMedium:e.mediumGoals.data.length,totalAddedHard:e.hardGoals.data.length,totalCompletedEasy:e.easyGoals.countCompleted,totalCompletedMedium:e.mediumGoals.countCompleted,totalCompletedHard:e.hardGoals.countCompleted})]}),c(Dr,{className:r("goals"),goals:e.easyGoals.data,complexity:"easy",withBtn:!0,updateGoal:a}),c(Dr,{className:r("goals"),goals:e.mediumGoals.data,complexity:"medium",withBtn:!0,updateGoal:a}),c(Dr,{className:r("goals"),goals:e.hardGoals.data,complexity:"hard",withBtn:!0,updateGoal:a})]})})})},ju=({page:n})=>{const{setHeader:r,setPage:e,setFull:t}=et;return p.useEffect(()=>{r("white"),e(n),t(!1)},[]),c(hk,{page:n})};const mk=Be(()=>{const[n,r]=W("not-found");return b("main",{className:n(),children:[c(ce,{tag:"h1",children:"404"}),c(ce,{tag:"h2",children:"Такой страницы не существует"}),c("p",{children:"Возможно страница была удалена или перемещена. Попробуйте обновить запрос"}),c(z,{className:r("link"),href:"/",type:"Link",theme:"blue",size:"medium",children:"Вернуться на главную"})]})}),vk=({page:n})=>{const{setHeader:r,setPage:e,setFull:t}=et;return p.useEffect(()=>{r("white"),e(n),t(!1)},[]),c(mk,{})},gk=({page:n})=>{const{setHeader:r,setPage:e,setFull:t}=et,a=Pn();return p.useEffect(()=>{r("white"),e(n),t(!0)},[]),c(ef,{isPage:!0,openLogin:()=>a("/sign-in"),successRegistration:()=>a("/")})};const yk=n=>{const{background:r,avatar:e,name:t,totalAdded:a,totalCompleted:s,page:i,id:o,totalAddedLists:l,totalCompletedLists:u,totalAchievements:d}=n,[f,h]=W("user-info"),m=p.useMemo(()=>[{url:"/user/".concat(o,"/showcase"),name:"Витрина",page:"isUserShowcase"},{url:"/user/".concat(o,"/100-goal"),name:"100 целей",page:"isUser100Goals"},{url:"/user/".concat(o,"/active-goals"),name:"Активные цели и списки",page:"isUserActiveGoals",count:l+a-(u+s)},{url:"/user/".concat(o,"/done-goals"),name:"Выполненные",page:"isUserDoneGoals",count:u+s},{url:"/user/".concat(o,"/achievements"),name:"Достижения",page:"isUserAchievements",count:d}],[o,d,a,l,s,u]);return b("article",{className:f(),children:[r&&c("div",{style:{backgroundImage:"url('".concat(r,"')")},className:h("bg")}),b("section",{className:h("about"),children:[c(Br,{avatar:e,className:h("avatar"),size:"large"}),b("div",{className:h("wrapper"),children:[c(ce,{tag:"h2",className:h("name"),children:t}),b("div",{className:h("right"),children:[c(z,{type:"Link",theme:"blue",icon:"plus",href:"/goals/create",children:"Добавить цель"}),c(Ci,{items:[{title:"Всего целей",value:a},{title:"Выполнено",value:s}],className:h("goals")})]})]})]}),c(Fl,{tabs:m,active:i})]})};const bk=Be(n=>{const{id:r}=n,[e,t]=W("user-100-goals"),{mainGoals:a,setMainGoals:s}=Tn,i=async()=>{const o=await $l(r);o.success&&s(o.data)};return p.useEffect(()=>{i()},[]),b("section",{className:e(),children:[c(xi,{className:t("stats"),totalAddedEasy:a.easyGoals.data.length,totalAddedMedium:a.mediumGoals.data.length,totalAddedHard:a.hardGoals.data.length,totalCompletedEasy:a.easyGoals.countCompleted,totalCompletedMedium:a.mediumGoals.countCompleted,totalCompletedHard:a.hardGoals.countCompleted}),c(Dr,{className:t("goals"),goals:a.easyGoals.data,complexity:"easy"}),c(Dr,{className:t("goals"),goals:a.mediumGoals.data,complexity:"medium"}),c(Dr,{className:t("goals"),goals:a.hardGoals.data,complexity:"hard"})]})});const Yl=n=>{const{className:r,achievement:e}=n,[t,a]=W("achievement",r);return b("div",{className:t(),children:[c("span",{className:a("image-wrapper"),children:c("img",{className:a("image"),src:e.image,alt:e.title})}),b("div",{children:[c(ce,{tag:"h4",children:e.title}),c("p",{children:e.description})]})]})};const wk=Be(n=>{const{id:r}=n,[e,t]=W("user-achievements"),[a,s]=p.useState([]);return p.useEffect(()=>{(async()=>{const i=await Pe("achievements",{get:{user_id:r}});i.success&&s(i.data.data)})()},[]),c("section",{className:e(),children:a.map(i=>c(Yl,{className:t("achievement"),achievement:i},i.id))})});const Bu=Be(n=>{const{id:r,subPage:e,completed:t=!1}=n,[a]=W("user-goals"),[s,i]=p.useState([]);return p.useEffect(()=>{(async()=>{const o=await sr();o.success&&i(o.data)})()},[]),c("section",{className:a(),children:c(ol,{userId:r,beginUrl:"/user/".concat(r,"/").concat(t?"done":"active","-goals"),completed:t,subPage:e,categories:s})})});const _k=Be(n=>{const{id:r}=n,[e,t]=W("user-showcase"),[a,s]=p.useState([]),{mainGoals:i,setMainGoals:o}=Tn,l=async()=>{const f=await $l(r);f.success&&o(f.data)},[u,d]=p.useState([]);return p.useEffect(()=>{(async()=>{const f=await Pe("achievements",{get:{user_id:r}});f.success&&d(f.data.data)})()},[]),p.useEffect(()=>{l()},[]),p.useEffect(()=>{(async()=>{const f=await Pe("comments/".concat(r),{auth:!0});f.success&&s(f.data.data)})()},[]),b("section",{className:e(),children:[c(sh,{comments:a,setComments:s,isUser:!0}),b("aside",{className:t("sidebar"),children:[b("div",{className:t("title"),children:[c(ce,{tag:"h2",children:"100 целей"}),c(z,{theme:"blue-light",size:"small",type:"Link",href:"/user/".concat(r,"/100-goal"),children:"Смотреть все"})]}),c(xi,{className:t("stats"),totalAddedEasy:i.easyGoals.data.length,totalAddedMedium:i.mediumGoals.data.length,totalAddedHard:i.hardGoals.data.length,totalCompletedEasy:i.easyGoals.countCompleted,totalCompletedMedium:i.mediumGoals.countCompleted,totalCompletedHard:i.hardGoals.countCompleted,column:!0}),b("div",{className:t("title"),children:[c(ce,{tag:"h2",children:"Достижения"}),c(z,{theme:"blue-light",size:"small",type:"Link",href:"/user/".concat(r,"/achievements"),children:"Смотреть все"})]}),u.map(f=>c(Yl,{className:t("achievement"),achievement:f},f.id))]})]})}),Dk=Be(({page:n,subPage:r})=>{const[e]=W("user"),{userInfo:t}=Tn,{id:a}=Vs();if(!a)return null;p.useEffect(()=>{(async()=>await rl(a))()},[a]);const s=()=>{switch(n){case"isUserShowcase":return c(_k,{id:a});case"isUser100Goals":return c(bk,{id:a});case"isUserActiveGoals":return c(Bu,{id:a,subPage:r||""});case"isUserDoneGoals":return c(Bu,{id:a,subPage:r||"",completed:!0});case"isUserAchievements":return c(wk,{id:a});default:return null}};return b("main",{className:e(),children:[c(yk,{avatar:t.avatar||null,name:t.name,totalAdded:t.totalAddedGoals,totalCompleted:t.totalCompletedGoals,page:n,id:a,totalAddedLists:t.totalAddedLists,totalCompletedLists:t.totalCompletedLists,totalAchievements:t.totalAchievements,background:t.coverImage}),s()]})}),In=({page:n,subPage:r})=>{const{setHeader:e,setPage:t,setFull:a}=et;return p.useEffect(()=>{e("white"),t(n),a(!1)},[]),c(Dk,{page:n,subPage:r})};const Sk=Be(()=>{const[n,r]=W("user-self-achievements"),[e,t]=p.useState([]);return p.useEffect(()=>{(async()=>{const a=await Pe("achievements",{auth:!0});a.success&&t(a.data.data)})()},[]),c("section",{className:n(),children:e.map(a=>c(Yl,{className:r("achievement"),achievement:a},a.id))})}),Nk=async(n="year")=>{try{return await Pe("users/activity",{auth:!0,get:{period:n},showErrorNotification:!0,showSuccessNotification:!1})}catch(r){return{success:!1,errors:"Не удалось загрузить данные активности"}}};const Ek=({className:n,period:r="year"})=>{const[e,t]=W("activity-heatmap",n),[a,s]=p.useState(null),[i,o]=p.useState("loading"),[l,u]=p.useState(null);p.useEffect(()=>{(async()=>{o("loading");try{const S=await Nk(r);S.success&&S.data?(S.data.stats&&S.data.stats.is_active_today!==void 0&&(S.data.stats.isActiveToday=S.data.stats.is_active_today),s(S.data),o("success")):o("error")}catch(S){o("error")}})()},[r]);const d=()=>{if(!a||!a.dates.length)return[];const _=new Date(a.dates[0].date),S=_.getDay()===0?6:_.getDay()-1,D={};let C=0,O=S;const R=[...a.dates].sort(($,L)=>new Date($.date).getTime()-new Date(L.date).getTime()),F=Array(7).fill(null);return R.forEach($=>{O===7&&(O=0,C+=1);const L="week-".concat(C);D[L]||(D[L]=Array(7).fill(null)),C===0?F[O]=$:D[L][O]=$,O+=1}),(C===0||Object.keys(D).length>0)&&(D["week-0"]=F),Object.entries(D).sort(([$],[L])=>parseInt($.split("-")[1],10)-parseInt(L.split("-")[1],10)).map(([$,L])=>({id:$,days:L}))},f=p.useMemo(()=>d(),[a]),h=_=>{u(_)},m=_=>new Date(_).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}),v=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],g=()=>{if(!a||!a.dates.length)return{monthPositions:[],totalWeeks:0};const{dates:_}=a,S=[..._].sort((T,$)=>new Date(T.date).getTime()-new Date($.date).getTime()),D=d(),C=D.length,O={};return S.forEach(T=>{var M;const $=new Date(T.date),L=$.getFullYear(),H=$.getMonth(),U="".concat(L,"-").concat(H);if(!O[U]){const K=a.months.find(Y=>Y.month===H+1&&Y.year===L);K&&(O[U]={year:L,month:H+1,monthInfo:K,weeks:new Set})}const A=(M=D.find(K=>K.days.some(Y=>Y&&Y.date===T.date)))==null?void 0:M.id;O[U]&&A&&O[U].weeks.add(A)}),{monthPositions:Object.values(O).sort((T,$)=>T.year!==$.year?T.year-$.year:T.month-$.month).map(T=>{const $=T.weeks.size,L=$/C*100,H=[...T.weeks][0],U=D.findIndex(A=>A.id===H);return{month:T.monthInfo,startWeek:U!==-1?U:0,weekSpan:$,width:Math.max(L,5)}}),totalWeeks:C}},{monthPositions:y}=p.useMemo(()=>a?g():{monthPositions:[],totalWeeks:0},[a]),[w,k]=p.useState(window.innerWidth<=768?10:19);p.useEffect(()=>{const _=()=>{k(window.innerWidth<=768?10:19)};return window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[]);const x=(_,S,D)=>{if(!_)return c("div",{className:t("day",{empty:!0}),"data-testid":"empty-day-".concat(D,"-").concat(S)},"empty-cell-".concat(D,"-").concat(S));const C="".concat(m(_.date),": ").concat(it(_.goalCount,["цель выполнена","цели выполнено","целей выполнено"]),", ").concat(it(_.listCount,["список выполнен","списка выполнено","списков выполнено"]));return c("button",{className:t("day",{level:"".concat(_.level),type:_.activityType}),onClick:()=>h(_),title:C,"aria-label":C,type:"button","data-testid":"day-".concat(_.date)},"day-".concat(_.date))},E=_=>{var S;return!_.goalCount||!((S=_.completedGoals)!=null&&S.length)?null:b("div",{className:t("detail-item"),children:[b("div",{className:t("detail-header"),children:[c(re,{icon:"target",width:"16px",height:"16px",className:t("detail-icon")}),c("span",{children:it(_.goalCount,["цель выполнена","цели выполнено","целей выполнено"])})]}),c("ul",{className:t("completed-list"),children:_.completedGoals.map(D=>c("li",{className:t("completed-item"),children:D.title},"goal-".concat(D.id)))})]})},N=_=>{var S;return!_.listCount||!((S=_.completedLists)!=null&&S.length)?null:b("div",{className:t("detail-item"),children:[b("div",{className:t("detail-header"),children:[c(re,{icon:"list",width:"16px",height:"16px",className:t("detail-icon")}),c("span",{children:it(_.listCount,["список выполнен","списка выполнено","списков выполнено"])})]}),c("ul",{className:t("completed-list"),children:_.completedLists.map(D=>c("li",{className:t("completed-item"),children:D.title},"list-".concat(D.id)))})]})};return b("div",{className:e(),children:[c(ce,{className:t("title"),tag:"h2",children:"Активность выполнения целей и списков"}),c(Ur,{isLoading:i==="loading",children:i==="error"?c("div",{className:t("error"),children:c("p",{children:"Не удалось загрузить данные активности"})}):a?b(vt,{children:[b("div",{className:t("stats"),children:[b("div",{className:t("stat-item"),children:[c("span",{className:t("stat-value"),children:a.stats.totalGoalsCompleted}),c("span",{className:t("stat-label"),children:it(a.stats.totalGoalsCompleted,["цель выполнена","цели выполнено","целей выполнено"],!1)})]}),b("div",{className:t("stat-item"),children:[c("span",{className:t("stat-value"),children:a.stats.totalListsCompleted}),c("span",{className:t("stat-label"),children:it(a.stats.totalListsCompleted,["список выполнен","списка выполнено","списков выполнено"],!1)})]}),b("div",{className:t("stat-item"),children:[c("span",{className:t("stat-value"),children:a.stats.currentStreak}),c("span",{className:t("stat-label"),children:"текущая серия"})]}),b("div",{className:t("stat-item"),children:[c("span",{className:t("stat-value"),children:a.stats.maxStreak}),c("span",{className:t("stat-label"),children:"макс. серия"})]}),b("div",{className:t("stat-item"),children:[b("span",{className:t("stat-value"),children:[a.stats.activityPercentage,"%"]}),c("span",{className:t("stat-label"),children:"активность"})]}),b("div",{className:t("stat-item"),children:[c("span",{className:t("stat-value",{active:a.stats.isActiveToday,inactive:!a.stats.isActiveToday}),children:a.stats.isActiveToday?"Да":"Нет"}),c("span",{className:t("stat-label"),children:"сегодня"})]})]}),b("div",{className:t("container"),children:[c("div",{className:t("months"),children:y.map(_=>_.month&&c("div",{className:t("month-label"),style:{left:"".concat(_.startWeek*w,"px"),width:"".concat(_.weekSpan*w,"px")},children:_.month.name},"month-".concat(_.month.year,"-").concat(_.month.month)))}),b("div",{className:t("grid"),children:[c("div",{className:t("weekdays"),children:v.map(_=>c("div",{className:t("weekday-label"),children:_},"weekday-".concat(_)))}),c("div",{className:t("cells"),children:f.map(_=>c("div",{className:t("week"),"data-testid":"week-".concat(_.id),children:_.days.map((S,D)=>x(S,D,_.id))},_.id))})]}),b("div",{className:t("legend"),children:[b("div",{className:t("legend-section"),children:[c("div",{className:t("legend-label"),children:"Интенсивность:"}),b("div",{className:t("legend-scale"),children:[c("div",{className:t("legend-cell",{level:"0"})}),c("div",{className:t("legend-cell",{level:"1"})}),c("div",{className:t("legend-cell",{level:"2"})}),c("div",{className:t("legend-cell",{level:"3"})}),c("div",{className:t("legend-cell",{level:"4"})})]}),c("div",{className:t("legend-label"),children:"больше"})]}),b("div",{className:t("legend-section"),children:[c("div",{className:t("legend-label"),children:"Тип активности:"}),b("div",{className:t("legend-type"),children:[c("div",{className:t("legend-cell",{type:"goal"})}),c("span",{className:t("legend-type-label"),children:"Цели"})]}),b("div",{className:t("legend-type"),children:[c("div",{className:t("legend-cell",{type:"both"})}),c("span",{className:t("legend-type-label"),children:"и цели, и списки"})]})]})]})]}),l&&b("div",{className:t("day-details"),children:[c("h3",{children:m(l.date)}),l.totalCount===0?c("p",{children:"Нет активности в этот день"}):b("div",{className:t("details-content"),children:[E(l),N(l)]})]})]}):null})]})},kk=P.memo(Ek);const Ck=({timer:n})=>{var o;const[r,e]=W("goal-timer-item"),t=Pn(),a=new Date(n.deadline),s=Mr(a,"d MMMM yyyy",{locale:hl}),i=()=>{t("/goals/".concat(n.goal.code))};return b("div",{className:r({expired:n.isExpired}),children:[((o=n.goal)==null?void 0:o.image)&&c("div",{className:e("image-container"),children:c("img",{src:n.goal.image,alt:n.goal.title,className:e("image")})}),b("div",{className:e("content"),children:[c("h3",{className:e("title"),children:n.goal.title}),b("div",{className:e("timer-info"),children:[b("div",{className:e("deadline"),children:[c("span",{className:e("label"),children:"Дедлайн: "}),s]}),n.isExpired?c("div",{className:e("expired"),children:"Время истекло"}):b("div",{children:[c("span",{className:e("label"),children:"Осталось: "}),n.daysLeft," ",n.daysLeft===1?"день":n.daysLeft<5?"дня":"дней"]})]}),c(z,{theme:"blue-light",onClick:i,className:e("button"),children:"Перейти к цели"})]})]})},xk=()=>{const[n,r]=W("goal-timers"),[e,t]=p.useState([]),[a,s]=p.useState(!0),[i,o]=p.useState(!1);p.useEffect(()=>{(async()=>{try{s(!0);const d=await kD(i);d.success&&d.data?t(d.data):oe.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить таймеры"})}catch(d){console.error("Ошибка при загрузке таймеров:",d),oe.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при загрузке таймеров"})}finally{s(!1)}})()},[i]);const l=()=>{o(u=>!u)};return b("div",{className:n(),children:[b("div",{className:r("header"),children:[c(ce,{tag:"h1",className:r("title"),children:"Мои таймеры"}),c(z,{theme:"blue-light",onClick:l,className:r("toggle-button"),size:"medium",children:i?"Скрыть истекшие":"Показать истекшие"})]}),a?c("div",{className:r("loading"),children:c(Ur,{isLoading:a})}):e.length>0?c("div",{className:r("list"),children:e.map((u,d)=>c(Ck,{timer:u},u.id||"timer-".concat(d)))}):b("div",{className:r("empty"),children:[c("p",{children:"У вас пока нет активных таймеров"}),c("p",{children:"Установите таймер для своих целей, чтобы не пропустить дедлайн"})]})]})};const Ok=n=>{const{className:r,statistics:e}=n,[t,a]=W("user-statistics",r);return b("section",{className:t(),children:[b("div",{className:a("level"),children:[c("p",{className:a("level-text"),children:"Текущий уровень"}),b("p",{className:a("level-number"),children:[c(re,{icon:"level"}),e.currentStats.level]}),c(ri,{done:e.currentStats.currentExperience,all:e.currentStats.nextLevelExperience,text:"".concat(e.currentStats.currentExperience,"/").concat(e.currentStats.nextLevelExperience)})]}),c(He,{height:-16,margin:"16px 0"}),b("p",{className:a("text"),children:[c("span",{children:"Заработано очков"}),c("span",{children:e.currentStats.currentExperience})]}),b("p",{className:a("text"),children:[c("span",{children:"Следующий уровень через"}),c("span",{children:e.currentStats.nextLevelExperience-e.currentStats.currentExperience})]}),b("p",{className:a("text"),children:[c("span",{children:"Заработано за отзывы"}),c("span",{children:e.totalStats.reviewsCount})]}),b("p",{className:a("text"),children:[c("span",{children:"Выполнение целей"}),c("span",{children:e.totalStats.completedGoals})]}),b("p",{className:a("text"),children:[c("span",{children:"Достижения"}),c("span",{children:e.totalStats.achievementsCount})]})]})};const Pk=n=>{const{className:r,weeks:e}=n,[t,a]=W("weekly-schedule",r),[s,i]=p.useState(0);return p.useEffect(()=>{let o=0;e.forEach(({completedGoals:l})=>{l>o&&(o=l)}),i(o)},[e]),b("section",{className:t(),children:[c("h3",{className:a("info-title"),children:"Выполнено целей за неделю"}),b("span",{className:a("info-count"),children:[c(re,{icon:"rocket"}),e[e.length-1].completedGoals]}),c("div",{className:a("weeks"),children:e.map(o=>b("div",{className:a("week"),children:[c("div",{className:a("column"),children:c("div",{className:a("column-active"),style:{height:"".concat(o.completedGoals/s*100,"%")}})}),c("p",{className:a("count-week"),children:o.weekNumber}),c("p",{className:a("month"),children:BE(o.startDate)})]},o.weekNumber))})]})},Mk=async()=>await Pe("statistics",{auth:!0});const Tk=Be(()=>{const[n,r]=W("user-self-dashboard"),[e,t]=p.useState(null);return p.useEffect(()=>{(async()=>{const a=await Mk();a.success&&t(a.data)})()},[]),b("section",{className:n(),children:[b("div",{className:r("info-wrapper"),children:[b(ke,{to:"/list/100-goals",className:r("info"),children:[c("h3",{className:r("info-title"),children:"Невыполненных целей в “100 целей”"}),b("span",{className:r("info-count"),children:[c(re,{icon:"star"}),e&&e.hundredGoals.easy.total+e.hundredGoals.medium.total+e.hundredGoals.hard.total-e.hundredGoals.easy.completed-e.hundredGoals.medium.completed-e.hundredGoals.hard.completed]})]}),b(ke,{to:"/leaders",className:r("info"),children:[c("h3",{className:r("info-title"),children:"Место в рейтинге недели"}),b("span",{className:r("info-count"),children:[c(re,{icon:"award"}),e==null?void 0:e.currentStats.weeklyRank]})]}),b(ke,{to:"/user/self/active-goals",className:r("info"),children:[c("h3",{className:r("info-title"),children:"Активные цели и списки"}),b("p",{className:r("info-count-wrapper"),children:[b("span",{className:r("info-count"),children:[c(re,{icon:"rocket"}),e==null?void 0:e.currentStats.activeGoals]}),b("span",{className:r("info-count"),children:[c(re,{icon:"apps"}),e==null?void 0:e.currentStats.activeLists]})]})]}),e&&c(xi,{totalAddedEasy:e.hundredGoals.easy.total,totalAddedHard:e.hundredGoals.hard.total,totalAddedMedium:e.hundredGoals.medium.total,totalCompletedEasy:e.hundredGoals.easy.completed,totalCompletedHard:e.hundredGoals.hard.completed,totalCompletedMedium:e.hundredGoals.medium.completed,column:!0,className:r("info-100-goals")}),(e==null?void 0:e.weeklyProgress)&&c(Pk,{weeks:e==null?void 0:e.weeklyProgress,className:r("weekly")}),e&&c(Ok,{statistics:e})]}),c(kk,{}),c(xk,{})]})});const Hu=Be(n=>{const{subPage:r,completed:e}=n,[t,a]=W("user-self-goals"),[s,i]=p.useState([]);return p.useEffect(()=>{(async()=>{const o=await sr();o.success&&i(o.data)})()},[]),b("section",{className:t(),children:[c(ce,{tag:"h2",className:a("title"),children:e?"Выполненные цели и списки":"Все активные цели и списки"}),c(ol,{userId:Ze.get("user-id"),beginUrl:"/user/self/".concat(e?"done":"active","-goals"),completed:e,subPage:r,columns:"3",categories:s})]})}),Ak=async()=>await nl("users/avatar/delete",{auth:!0}),Rk=async n=>await ft("users/avatar/upload",{body:n,auth:!0,file:!0}),Lk=async n=>await ft("users/cover/upload",{body:n,auth:!0,file:!0}),Ik=async n=>await ti("users/update-profile",{body:n,auth:!0}),ss=[{name:"Афганистан",value:"AF"},{name:"Аландские острова",value:"AX"},{name:"Албания",value:"AL"},{name:"Алжир",value:"DZ"},{name:"Американское Самоа",value:"AS"},{name:"Андорра",value:"AD"},{name:"Ангола",value:"AO"},{name:"Ангилья",value:"AI"},{name:"Антарктика",value:"AQ"},{name:"Антигуа и Барбуда",value:"AG"},{name:"Аргентина",value:"AR"},{name:"Армения",value:"AM"},{name:"Аруба",value:"AW"},{name:"Австралия",value:"AU"},{name:"Австрия",value:"AT"},{name:"Азербайджан",value:"AZ"},{name:"Багамы",value:"BS"},{name:"Бахрейн",value:"BH"},{name:"Бангладеш",value:"BD"},{name:"Барбадос",value:"BB"},{name:"Беларусь",value:"BY"},{name:"Бельгия",value:"BE"},{name:"Белиз",value:"BZ"},{name:"Бенин",value:"BJ"},{name:"Бермудские острова",value:"BM"},{name:"Бутан",value:"BT"},{name:"Боливия",value:"BO"},{name:"Бонэйр, Синт-Эстатиус и Саба",value:"BQ"},{name:"Босния и Герцеговина",value:"BA"},{name:"Ботсвана",value:"BW"},{name:"Буве",value:"BV"},{name:"Бразилия",value:"BR"},{name:"Британская территория в Индийском океане",value:"IO"},{name:"Бруней",value:"BN"},{name:"Болгария",value:"BG"},{name:"Буркина-Фасо",value:"BF"},{name:"Бурунди",value:"BI"},{name:"Камбоджа",value:"KH"},{name:"Камерун",value:"CM"},{name:"Канада",value:"CA"},{name:"Кабо-Верде",value:"CV"},{name:"Каймановы острова",value:"KY"},{name:"Центральноафриканская Республика",value:"CF"},{name:"Чад",value:"TD"},{name:"Чили",value:"CL"},{name:"Китай",value:"CN"},{name:"Остров Рождества",value:"CX"},{name:"Кокосовые (Килинг) острова",value:"CC"},{name:"Колумбия",value:"CO"},{name:"Коморы",value:"KM"},{name:"Конго",value:"CG"},{name:"Конго (Демократическая Республика)",value:"CD"},{name:"Острова Кука",value:"CK"},{name:"Коста-Рика",value:"CR"},{name:"Кот-д'Ивуар",value:"CI"},{name:"Хорватия",value:"HR"},{name:"Куба",value:"CU"},{name:"Кюрасао",value:"CW"},{name:"Кипр",value:"CY"},{name:"Чехия",value:"CZ"},{name:"Дания",value:"DK"},{name:"Джибути",value:"DJ"},{name:"Доминика",value:"DM"},{name:"Доминиканская Республика",value:"DO"},{name:"Эквадор",value:"EC"},{name:"Египет",value:"EG"},{name:"Сальвадор",value:"SV"},{name:"Экваториальная Гвинея",value:"GQ"},{name:"Эритрея",value:"ER"},{name:"Эстония",value:"EE"},{name:"Эфиопия",value:"ET"},{name:"Фолклендские (Мальвинские) острова",value:"FK"},{name:"Фарерские острова",value:"FO"},{name:"Фиджи",value:"FJ"},{name:"Финляндия",value:"FI"},{name:"Франция",value:"FR"},{name:"Французская Гвиана",value:"GF"},{name:"Французская Полинезия",value:"PF"},{name:"Французские Южные территории",value:"TF"},{name:"Габон",value:"GA"},{name:"Гамбия",value:"GM"},{name:"Грузия",value:"GE"},{name:"Германия",value:"DE"},{name:"Гана",value:"GH"},{name:"Гибралтар",value:"GI"},{name:"Греция",value:"GR"},{name:"Гренландия",value:"GL"},{name:"Гренада",value:"GD"},{name:"Гваделупа",value:"GP"},{name:"Гуам",value:"GU"},{name:"Гватемала",value:"GT"},{name:"Гернси",value:"GG"},{name:"Гвинея",value:"GN"},{name:"Гвинея-Бисау",value:"GW"},{name:"Гайана",value:"GY"},{name:"Гаити",value:"HT"},{name:"Остров Херд и острова Макдональд",value:"HM"},{name:"Ватикан",value:"VA"},{name:"Гондурас",value:"HN"},{name:"Гонконг",value:"HK"},{name:"Венгрия",value:"HU"},{name:"Исландия",value:"IS"},{name:"Индия",value:"IN"},{name:"Индонезия",value:"ID"},{name:"Иран",value:"IR"},{name:"Ирак",value:"IQ"},{name:"Ирландия",value:"IE"},{name:"Остров Мэн",value:"IM"},{name:"Израиль",value:"IL"},{name:"Италия",value:"IT"},{name:"Ямайка",value:"JM"},{name:"Япония",value:"JP"},{name:"Джерси",value:"JE"},{name:"Иордания",value:"JO"},{name:"Казахстан",value:"KZ"},{name:"Кения",value:"KE"},{name:"Кирибати",value:"KI"},{name:"Северная Корея",value:"KP"},{name:"Южная Корея",value:"KR"},{name:"Кувейт",value:"KW"},{name:"Киргизия",value:"KG"},{name:"Лаос",value:"LA"},{name:"Латвия",value:"LV"},{name:"Ливан",value:"LB"},{name:"Лесото",value:"LS"},{name:"Либерия",value:"LR"},{name:"Ливия",value:"LY"},{name:"Лихтенштейн",value:"LI"},{name:"Литва",value:"LT"},{name:"Люксембург",value:"LU"},{name:"Макао",value:"MO"},{name:"Македония",value:"MK"},{name:"Мадагаскар",value:"MG"},{name:"Малави",value:"MW"},{name:"Малайзия",value:"MY"},{name:"Мальдивы",value:"MV"},{name:"Мали",value:"ML"},{name:"Мальта",value:"MT"},{name:"Маршалловы острова",value:"MH"},{name:"Мартиника",value:"MQ"},{name:"Мавритания",value:"MR"},{name:"Маврикий",value:"MU"},{name:"Майотта",value:"YT"},{name:"Мексика",value:"MX"},{name:"Микронезия",value:"FM"},{name:"Молдавия",value:"MD"},{name:"Монако",value:"MC"},{name:"Монголия",value:"MN"},{name:"Черногория",value:"ME"},{name:"Монтсеррат",value:"MS"},{name:"Марокко",value:"MA"},{name:"Мозамбик",value:"MZ"},{name:"Мьянма",value:"MM"},{name:"Намибия",value:"NA"},{name:"Науру",value:"NR"},{name:"Непал",value:"NP"},{name:"Нидерланды",value:"NL"},{name:"Новая Каледония",value:"NC"},{name:"Новая Зеландия",value:"NZ"},{name:"Никарагуа",value:"NI"},{name:"Нигер",value:"NE"},{name:"Нигерия",value:"NG"},{name:"Ниуэ",value:"NU"},{name:"Норфолк",value:"NF"},{name:"Северные Марианские острова",value:"MP"},{name:"Норвегия",value:"NO"},{name:"Оман",value:"OM"},{name:"Пакистан",value:"PK"},{name:"Палау",value:"PW"},{name:"Палестина",value:"PS"},{name:"Панама",value:"PA"},{name:"Папуа — Новая Гвинея",value:"PG"},{name:"Парагвай",value:"PY"},{name:"Перу",value:"PE"},{name:"Филиппины",value:"PH"},{name:"Острова Питкэрн",value:"PN"},{name:"Польша",value:"PL"},{name:"Португалия",value:"PT"},{name:"Пуэрто-Рико",value:"PR"},{name:"Катар",value:"QA"},{name:"Реюньон",value:"RE"},{name:"Румыния",value:"RO"},{name:"Россия",value:"RU"},{name:"Руанда",value:"RW"},{name:"Сен-Бартелеми",value:"BL"},{name:"Остров Святой Елены",value:"SH"},{name:"Сент-Китс и Невис",value:"KN"},{name:"Сент-Люсия",value:"LC"},{name:"Сен-Мартен",value:"MF"},{name:"Сен-Пьер и Микелон",value:"PM"},{name:"Сент-Винсент и Гренадины",value:"VC"},{name:"Самоа",value:"WS"},{name:"Сан-Марино",value:"SM"},{name:"Сан-Томе и Принсипи",value:"ST"},{name:"Саудовская Аравия",value:"SA"},{name:"Сенегал",value:"SN"},{name:"Сербия",value:"RS"},{name:"Сейшельские острова",value:"SC"},{name:"Сьерра-Леоне",value:"SL"},{name:"Сингапур",value:"SG"},{name:"Синт-Мартен",value:"SX"},{name:"Словакия",value:"SK"},{name:"Словения",value:"SI"},{name:"Соломоновы острова",value:"SB"},{name:"Сомали",value:"SO"},{name:"Южно-Африканская Республика",value:"ZA"},{name:"Южная Георгия и Южные Сандвичевы острова",value:"GS"},{name:"Южный Судан",value:"SS"},{name:"Испания",value:"ES"},{name:"Шри-Ланка",value:"LK"},{name:"Судан",value:"SD"},{name:"Суринам",value:"SR"},{name:"Шпицберген и Ян-Майен",value:"SJ"},{name:"Свазиленд",value:"SZ"},{name:"Швеция",value:"SE"},{name:"Швейцария",value:"CH"},{name:"Сирия",value:"SY"},{name:"Тайвань",value:"TW"},{name:"Таджикистан",value:"TJ"},{name:"Танзания",value:"TZ"},{name:"Таиланд",value:"TH"},{name:"Восточный Тимор",value:"TL"},{name:"Того",value:"TG"},{name:"Токелау",value:"TK"},{name:"Тонга",value:"TO"},{name:"Тринидад и Тобаго",value:"TT"},{name:"Тунис",value:"TN"},{name:"Турция",value:"TR"},{name:"Туркмения",value:"TM"},{name:"Теркс и Кайкос",value:"TC"},{name:"Тувалу",value:"TV"},{name:"Уганда",value:"UG"},{name:"Украина",value:"UA"},{name:"Объединенные Арабские Эмираты",value:"AE"},{name:"Великобритания",value:"GB"},{name:"Соединенные Штаты Америки",value:"US"},{name:"Малые Тихоокеанские отдаленные острова США",value:"UM"},{name:"Уругвай",value:"UY"},{name:"Узбекистан",value:"UZ"},{name:"Вануату",value:"VU"},{name:"Венесуэла",value:"VE"},{name:"Вьетнам",value:"VN"},{name:"Виргинские острова (Великобритания)",value:"VG"},{name:"Виргинские острова (США)",value:"VI"},{name:"Уоллис и Футуна",value:"WF"},{name:"Западная Сахара",value:"EH"},{name:"Йемен",value:"YE"},{name:"Замбия",value:"ZM"},{name:"Зимбабве",value:"ZW"}];const Fk=Be(()=>{const{userInfo:n,setUserInfo:r,setAvatar:e}=Tn,{setWindow:t,setIsOpen:a}=ba,[s,i]=p.useState(n.name),[o,l]=p.useState(n.lastName),[u,d]=p.useState(n.aboutMe),[f,h]=p.useState(null),[m,v]=W("user-self-settings");p.useEffect(()=>{i(n.firstName),l(n.lastName),d(n.aboutMe),n.country&&h(ss.findIndex(S=>S.value===n.country))},[n]);const g=S=>{const{id:D,value:C}=S.target;switch(D){case"name":i(C);break;case"surname":l(C);break;case"about":d(C);break}},{getRootProps:y,getInputProps:w}=Xn({accept:{"image/*":[]},onDrop:S=>{const D=new FormData;S.forEach(C=>{D.append("avatar",C,C.name)}),(async()=>(await Rk(D)).success&&(r({...n,avatar:Ze.get("avatar")}),e(Ze.get("avatar")||"")))()}}),{getRootProps:k,getInputProps:x}=Xn({accept:{"image/*":[]},onDrop:S=>{const D=new FormData;S.forEach(C=>{D.append("cover",C,C.name)}),(async()=>(await Lk(D)).success&&r({...n,coverImage:Ze.get("cover")}))()}}),E=async()=>{(await Ak()).success&&r({...n,avatar:Ze.get("avatar")})},N=async()=>{const S={};if(s!==n.firstName&&(S.firstName=s),o!==n.lastName&&(S.lastName=o),f!==null&&ss[f].value!==n.country&&(S.country=ss[f].value),u!==n.aboutMe&&(S.aboutMe=u),Object.keys(S).length>0){const D=await Ik(S);D.success&&r(D.data)}},_=()=>{t("change-password"),a(!0)};return b("section",{className:m(),children:[c(ce,{tag:"h2",className:v("title"),children:"Настройки"}),b("section",{className:v("edit-fields"),children:[c("div",{style:{backgroundImage:"url('".concat(n.coverImage,"')")},className:v("bg"),children:b("div",{...k(),className:v("btn-cover"),children:[c("input",{...x()}),c(z,{theme:"blue-light",icon:"image-edit",size:"small",children:"Изменить обложку"})]})}),b("section",{className:v("avatar-wrapper"),children:[c(Br,{avatar:n.avatar,className:v("avatar"),size:"large"}),b("div",{...y(),children:[c("input",{...w()}),c(z,{icon:"image-edit",theme:"blue",size:"small",children:"Изменить фотографию"})]}),c(z,{className:v("delete-avatar"),icon:"trash",theme:"blue-light",onClick:E,size:"small",children:"Удалить фото"})]}),c(He,{margin:"24px 0"}),b("section",{className:v("info"),children:[c(ce,{tag:"h3",className:v("title"),children:"Информация пользователя"}),b("div",{className:v("input-group"),children:[c(We,{text:"Имя",placeholder:"Имя",id:"name",value:s,setValueTarget:g}),c(We,{text:"Фамилия",placeholder:"Фамилия",id:"surname",value:o,setValueTarget:g}),c("div",{children:c(ht,{text:"Страна",options:ss,activeOption:f,onSelect:h,className:v("country")})}),c(We,{text:"Обо мне",type:"textarea",placeholder:"Обо мне",id:"about",value:u,setValueTarget:g})]}),c(z,{className:v("btn-save"),theme:"blue",onClick:N,children:"Сохранить изменения"}),c(He,{margin:"24px 0"}),c(ce,{tag:"h3",className:v("title"),children:"Безопасность и вход"}),c(z,{theme:"no-border",icon:"lock",onClick:_,children:"Изменить пароль"})]})]})]})});const $k=Be(({page:n,subPage:r})=>{const[e,t]=W("user-self");p.useEffect(()=>{(async()=>await rl())()},[]);const a=()=>{switch(n){case"isUserSelfActive":return c(Hu,{subPage:r,completed:!1});case"isUserSelfDone":return c(Hu,{subPage:r,completed:!0});case"isUserSelfSettings":return c(Fk,{});case"isUserSelfAchievements":return c(Sk,{});default:return c(Tk,{})}},s=p.useMemo(()=>[{url:"/user/self",name:"Дашборд",page:"isUserSelf"},{url:"/user/self/achievements",name:"Достижения",page:"isUserSelfAchievements"},{url:"/user/self/active-goals",name:"Активные цели и списки",page:"isUserSelfActive"},{url:"/user/self/done-goals",name:"Выполненные",page:"isUserSelfDone"},{url:"/user/self/settings",name:"Настройки",page:"isUserSelfSettings"}],[]);return b("main",{className:e(),children:[c("aside",{className:t("sidebar"),children:c(Fl,{tabs:s,active:n,vertical:!0})}),a()]})}),Dn=({page:n,subPage:r})=>{const{setHeader:e,setPage:t,setFull:a}=et;return p.useEffect(()=>{e("white"),t(n),a(!1)},[]),c($k,{page:n,subPage:r})};const Yt=({element:n})=>{const{isAuth:r}=Tn;return r?n:c(hh,{to:"/sign-in",replace:!0})},Yk=Be(()=>c("main",{className:"main",children:b(ph,{children:[c(fe,{path:"/",element:c(Yt,{element:c(Dn,{page:"isUserSelf"})})}),c(fe,{path:"/100-goals",element:c(ju,{page:"isMainGoals"})}),c(fe,{path:"/list/:id",element:c(ik,{page:"isList"})}),c(fe,{path:"/list/100-goals",element:c(ju,{page:"isMainGoals"})}),c(fe,{path:"/categories",element:c(my,{page:"isCategories"})}),c(fe,{path:"/categories/all",element:c(dr,{page:"isCategoriesAll",subPage:"goals"})}),c(fe,{path:"/categories/all/lists",element:c(dr,{page:"isCategoriesAll",subPage:"lists"})}),c(fe,{path:"/categories/:id",element:c(dr,{page:"isCategories",subPage:"goals"})}),c(fe,{path:"/categories/:categories/:id/",element:c(dr,{page:"isSubCategories",subPage:"goals"})}),c(fe,{path:"/categories/:id/lists",element:c(dr,{page:"isCategories",subPage:"lists"})}),c(fe,{path:"/categories/:categories/:id/lists",element:c(dr,{page:"isSubCategories",subPage:"lists"})}),c(fe,{path:"/goals/:id/lists",element:c(Wu,{page:"isGoalLists"})}),c(fe,{path:"/goals/:id",element:c(Wu,{page:"isGoal"})}),c(fe,{path:"/sign-in",element:c(fk,{page:"isLogin"})}),c(fe,{path:"/sign-up",element:c(gk,{page:"isRegistration"})}),c(fe,{path:"/leaders",element:c(dk,{page:"isLeaders"})}),c(fe,{path:"/user/:id/showcase",element:c(In,{page:"isUserShowcase"})}),c(fe,{path:"/user/:id/100-goal",element:c(In,{page:"isUser100Goals"})}),c(fe,{path:"/user/:id/active-goals",element:c(In,{page:"isUserActiveGoals",subPage:"goals"})}),c(fe,{path:"/user/:id/active-goals/lists",element:c(In,{page:"isUserActiveGoals",subPage:"lists"})}),c(fe,{path:"/user/:id/done-goals",element:c(In,{page:"isUserDoneGoals",subPage:"goals"})}),c(fe,{path:"/user/:id/done-goals/lists",element:c(In,{page:"isUserDoneGoals",subPage:"lists"})}),c(fe,{path:"/user/:id/achievements",element:c(In,{page:"isUserAchievements"})}),c(fe,{path:"/goals/create",element:c(Yt,{element:c(_D,{page:"isCreateGoal"})})}),c(fe,{path:"/list/create",element:c(Yt,{element:c(ED,{page:"isCreateGoalList"})})}),c(fe,{path:"/user/self",element:c(Yt,{element:c(Dn,{page:"isUserSelf"})})}),c(fe,{path:"/user/self/achievements",element:c(Yt,{element:c(Dn,{page:"isUserSelfAchievements"})})}),c(fe,{path:"/user/self/settings",element:c(Yt,{element:c(Dn,{page:"isUserSelfSettings"})})}),c(fe,{path:"/user/self/active-goals",element:c(Yt,{element:c(Dn,{page:"isUserSelfActive",subPage:"goals"})})}),c(fe,{path:"/user/self/done-goals",element:c(Yt,{element:c(Dn,{page:"isUserSelfDone",subPage:"goals"})})}),c(fe,{path:"/user/self/active-goals/lists",element:c(Yt,{element:c(Dn,{page:"isUserSelfActive",subPage:"lists"})})}),c(fe,{path:"/user/self/done-goals/lists",element:c(Yt,{element:c(Dn,{page:"isUserSelfDone",subPage:"lists"})})}),c(fe,{path:"*",element:c(vk,{page:"NotFound"})})]})}));const Gk=Be(()=>{const[n]=W("layout"),{full:r}=et;return b(mh,{children:[c(og,{}),b("div",{className:n({full:r}),children:[c(Yk,{}),c(uy,{}),c(fy,{})]})]})}),Wk=()=>c(p.StrictMode,{children:c(bh,{children:c(wh,{children:c(Gk,{})})})});(async()=>{const n=document.getElementById("root");Vu(n).render(c(Wk,{}))})();export{Bk as __vite_legacy_guard};
