var tm=Object.defineProperty;var nm=(r,n,e)=>n in r?tm(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e;var U=(r,n,e)=>(nm(r,typeof n!="symbol"?n+"":n,e),e);import{j as u,F as ct,a as w,L as xe,u as ln,m as wd,A as rm,b as Qr,c as _d,d as am,R as sm,e as ve,N as im,B as om}from"./ui-a402f492.js";import{a as Na,b as M,r as p,c as In,R as lm,d as cm}from"./vendor-8dbfbf34.js";function Zk(){import.meta.url,import("_").catch(()=>1);async function*r(){}}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function e(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(a){if(a.ep)return;a.ep=!0;const s=e(a);fetch(a.href,s)}})();var Sd,mc=Na;Sd=mc.createRoot,mc.hydrateRoot;var Ed=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(Ed||{}),zi={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(Ed);var hl={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(hl).reduce((r,[n,e])=>(r[e]=n,r),{});var va="data-rh",um=r=>Array.isArray(r)?r.join(""):r,dm=(r,n)=>{const e=Object.keys(r);for(let t=0;t<e.length;t+=1)if(n[e[t]]&&n[e[t]].includes(r[e[t]]))return!0;return!1},qi=(r,n)=>Array.isArray(r)?r.reduce((e,t)=>(dm(t,n)?e.priority.push(t):e.default.push(t),e),{priority:[],default:[]}):{default:r,priority:[]},fm=["noscript","script","style"],Io=(r,n=!0)=>n===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Nd=r=>Object.keys(r).reduce((n,e)=>{const t=typeof r[e]<"u"?"".concat(e,'="').concat(r[e],'"'):"".concat(e);return n?"".concat(n," ").concat(t):t},""),pm=(r,n,e,t)=>{const a=Nd(e),s=um(n);return a?"<".concat(r," ").concat(va,'="true" ').concat(a,">").concat(Io(s,t),"</").concat(r,">"):"<".concat(r," ").concat(va,'="true">').concat(Io(s,t),"</").concat(r,">")},hm=(r,n,e=!0)=>n.reduce((t,a)=>{const s=a,i=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const f=typeof s[d]>"u"?d:"".concat(d,'="').concat(Io(s[d],e),'"');return c?"".concat(c," ").concat(f):f},""),o=s.innerHTML||s.cssText||"",l=fm.indexOf(r)===-1;return"".concat(t,"<").concat(r," ").concat(va,'="true" ').concat(i).concat(l?"/>":">".concat(o,"</").concat(r,">"))},""),Cd=(r,n={})=>Object.keys(r).reduce((e,t)=>{const a=hl[t];return e[a||t]=r[t],e},n),mm=(r,n,e)=>{const t={key:n,[va]:!0},a=Cd(e,t);return[M.createElement("title",a,n)]},ws=(r,n)=>n.map((e,t)=>{const a={key:t,[va]:!0};return Object.keys(e).forEach(s=>{const o=hl[s]||s;if(o==="innerHTML"||o==="cssText"){const l=e.innerHTML||e.cssText;a.dangerouslySetInnerHTML={__html:l}}else a[o]=e[s]}),M.createElement(r,a)}),Dt=(r,n,e=!0)=>{switch(r){case"title":return{toComponent:()=>mm(r,n.title,n.titleAttributes),toString:()=>pm(r,n.title,n.titleAttributes,e)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Cd(n),toString:()=>Nd(n)};default:return{toComponent:()=>ws(r,n),toString:()=>hm(r,n,e)}}},vm=({metaTags:r,linkTags:n,scriptTags:e,encode:t})=>{const a=qi(r,zi.meta),s=qi(n,zi.link),i=qi(e,zi.script);return{priorityMethods:{toComponent:()=>[...ws("meta",a.priority),...ws("link",s.priority),...ws("script",i.priority)],toString:()=>"".concat(Dt("meta",a.priority,t)," ").concat(Dt("link",s.priority,t)," ").concat(Dt("script",i.priority,t))},metaTags:a.default,linkTags:s.default,scriptTags:i.default}},gm=r=>{const{baseTag:n,bodyAttributes:e,encode:t=!0,htmlAttributes:a,noscriptTags:s,styleTags:i,title:o="",titleAttributes:l,prioritizeSeoTags:c}=r;let{linkTags:d,metaTags:f,scriptTags:h}=r,v={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:v,linkTags:d,metaTags:f,scriptTags:h}=vm(r)),{priority:v,base:Dt("base",n,t),bodyAttributes:Dt("bodyAttributes",e,t),htmlAttributes:Dt("htmlAttributes",a,t),link:Dt("link",d,t),meta:Dt("meta",f,t),noscript:Dt("noscript",s,t),script:Dt("script",h,t),style:Dt("style",i,t),title:Dt("title",{title:o,titleAttributes:l},t)}},ym=gm,Xa=[],xd=!!(typeof window<"u"&&window.document&&window.document.createElement),bm=class{constructor(r,n){U(this,"instances",[]);U(this,"canUseDOM",xd);U(this,"context");U(this,"value",{setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?Xa:this.instances,add:r=>{(this.canUseDOM?Xa:this.instances).push(r)},remove:r=>{const n=(this.canUseDOM?Xa:this.instances).indexOf(r);(this.canUseDOM?Xa:this.instances).splice(n,1)}}});this.context=r,this.canUseDOM=n||!1,n||(r.helmet=ym({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},wm={},_m=M.createContext(wm),Ar,Sm=(Ar=class extends p.Component{constructor(e){super(e);U(this,"helmetData");this.helmetData=new bm(this.props.context||{},Ar.canUseDOM)}render(){return M.createElement(_m.Provider,{value:this.helmetData.value},this.props.children)}},U(Ar,"canUseDOM",xd),Ar);const Em=({children:r})=>u(ct,{children:r});class Nm extends M.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n,e){console.error("ErrorBoundary caught an error:",n,e)}render(){const{children:n}=this.props,{hasError:e}=this.state;return e?"ОШИБКА":n}}function _e(r){for(var n=arguments.length,e=new Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];throw new Error(typeof r=="number"?"[MobX] minified error nr: "+r+(e.length?" "+e.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+r)}var Cm={};function ml(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Cm}var Dd=Object.assign,Ls=Object.getOwnPropertyDescriptor,nn=Object.defineProperty,ci=Object.prototype,Ro=[];Object.freeze(Ro);var kd={};Object.freeze(kd);var xm=typeof Proxy<"u",Dm=Object.toString();function Td(){xm||_e("Proxy not available")}function Pd(r){var n=!1;return function(){if(!n)return n=!0,r.apply(this,arguments)}}var Dr=function(){};function Bt(r){return typeof r=="function"}function ar(r){var n=typeof r;switch(n){case"string":case"symbol":case"number":return!0}return!1}function ui(r){return r!==null&&typeof r=="object"}function kn(r){if(!ui(r))return!1;var n=Object.getPrototypeOf(r);if(n==null)return!0;var e=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return typeof e=="function"&&e.toString()===Dm}function Od(r){var n=r==null?void 0:r.constructor;return n?n.name==="GeneratorFunction"||n.displayName==="GeneratorFunction":!1}function Ca(r,n,e){nn(r,n,{enumerable:!1,writable:!0,configurable:!0,value:e})}function Md(r,n,e){nn(r,n,{enumerable:!1,writable:!1,configurable:!0,value:e})}function pr(r,n){var e="isMobX"+r;return n.prototype[e]=!0,function(t){return ui(t)&&t[e]===!0}}function Xr(r){return r instanceof Map}function xa(r){return r instanceof Set}var Ld=typeof Object.getOwnPropertySymbols<"u";function km(r){var n=Object.keys(r);if(!Ld)return n;var e=Object.getOwnPropertySymbols(r);return e.length?[].concat(n,e.filter(function(t){return ci.propertyIsEnumerable.call(r,t)})):n}var Ir=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Ld?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames;function Ad(r){return r===null?null:typeof r=="object"?""+r:r}function wn(r,n){return ci.hasOwnProperty.call(r,n)}var Tm=Object.getOwnPropertyDescriptors||function(n){var e={};return Ir(n).forEach(function(t){e[t]=Ls(n,t)}),e};function vc(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Mm(t.key),t)}}function vl(r,n,e){return n&&vc(r.prototype,n),e&&vc(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function sr(){return sr=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},sr.apply(this,arguments)}function Id(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,$o(r,n)}function $o(r,n){return $o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},$o(r,n)}function Ki(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Pm(r,n){if(r){if(typeof r=="string")return gc(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return gc(r,n)}}function gc(r,n){(n==null||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function kr(r,n){var e=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e)return(e=e.call(r)).next.bind(e);if(Array.isArray(r)||(e=Pm(r))||n&&r&&typeof r.length=="number"){e&&(r=e);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Om(r,n){if(typeof r!="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var t=e.call(r,n||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function Mm(r){var n=Om(r,"string");return typeof n=="symbol"?n:String(n)}var Jt=Symbol("mobx-stored-annotations");function rn(r){function n(e,t){if(Da(t))return r.decorate_20223_(e,t);Zr(e,t,r)}return Object.assign(n,r)}function Zr(r,n,e){wn(r,Jt)||Ca(r,Jt,sr({},r[Jt])),Wm(e)||(r[Jt][n]=e)}function Lm(r){return wn(r,Jt)||Ca(r,Jt,sr({},r[Jt])),r[Jt]}function Da(r){return typeof r=="object"&&typeof r.kind=="string"}var ae=Symbol("mobx administration"),ka=function(){function r(e){e===void 0&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ee.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var n=r.prototype;return n.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},n.reportObserved=function(){return ef(this)},n.reportChanged=function(){Lt(),tf(this),At()},n.toString=function(){return this.name_},r}(),gl=pr("Atom",ka);function Rd(r,n,e){n===void 0&&(n=Dr),e===void 0&&(e=Dr);var t=new ka(r);return n!==Dr&&Yv(t,n),e!==Dr&&lf(t,e),t}function Am(r,n){return r===n}function Im(r,n){return Nl(r,n)}function Rm(r,n){return Nl(r,n,1)}function $m(r,n){return Object.is?Object.is(r,n):r===n?r!==0||1/r===1/n:r!==r&&n!==n}var As={identity:Am,structural:Im,default:$m,shallow:Rm};function ir(r,n,e){return pf(r)?r:Array.isArray(r)?ye.array(r,{name:e}):kn(r)?ye.object(r,void 0,{name:e}):Xr(r)?ye.map(r,{name:e}):xa(r)?ye.set(r,{name:e}):typeof r=="function"&&!mi(r)&&!ya(r)?Od(r)?$r(r):ga(e,r):r}function Fm(r,n,e){if(r==null||ba(r)||vi(r)||mr(r)||Jr(r))return r;if(Array.isArray(r))return ye.array(r,{name:e,deep:!1});if(kn(r))return ye.object(r,void 0,{name:e,deep:!1});if(Xr(r))return ye.map(r,{name:e,deep:!1});if(xa(r))return ye.set(r,{name:e,deep:!1})}function di(r){return r}function Gm(r,n){return Nl(r,n)?n:r}var Bm="override";function Wm(r){return r.annotationType_===Bm}function Ta(r,n){return{annotationType_:r,options_:n,make_:Hm,extend_:Ym,decorate_20223_:Vm}}function Hm(r,n,e,t){var a;if((a=this.options_)!=null&&a.bound)return this.extend_(r,n,e,!1)===null?0:1;if(t===r.target_)return this.extend_(r,n,e,!1)===null?0:2;if(mi(e.value))return 1;var s=$d(r,this,n,e,!1);return nn(t,n,s),2}function Ym(r,n,e,t){var a=$d(r,this,n,e);return r.defineProperty_(n,a,t)}function Vm(r,n){var e=n.kind,t=n.name,a=n.addInitializer,s=this,i=function(c){var d,f,h,v;return or((d=(f=s.options_)==null?void 0:f.name)!=null?d:t.toString(),c,(h=(v=s.options_)==null?void 0:v.autoAction)!=null?h:!1)};if(e=="field"){a(function(){Zr(this,t,s)});return}if(e=="method"){var o;return mi(r)||(r=i(r)),(o=this.options_)!=null&&o.bound&&a(function(){var l=this,c=l[t].bind(l);c.isMobxAction=!0,l[t]=c}),r}_e("Cannot apply '"+s.annotationType_+"' to '"+String(t)+"' (kind: "+e+"):"+("\n'"+s.annotationType_+"' can only be used on properties with a function value."))}function jm(r,n,e,t){n.annotationType_,t.value}function $d(r,n,e,t,a){var s,i,o,l,c,d,f;a===void 0&&(a=V.safeDescriptors),jm(r,n,e,t);var h=t.value;if((s=n.options_)!=null&&s.bound){var v;h=h.bind((v=r.proxy_)!=null?v:r.target_)}return{value:or((i=(o=n.options_)==null?void 0:o.name)!=null?i:e.toString(),h,(l=(c=n.options_)==null?void 0:c.autoAction)!=null?l:!1,(d=n.options_)!=null&&d.bound?(f=r.proxy_)!=null?f:r.target_:void 0),configurable:a?r.isPlainObject_:!0,enumerable:!1,writable:!a}}function Fd(r,n){return{annotationType_:r,options_:n,make_:Um,extend_:zm,decorate_20223_:qm}}function Um(r,n,e,t){var a;if(t===r.target_)return this.extend_(r,n,e,!1)===null?0:2;if((a=this.options_)!=null&&a.bound&&(!wn(r.target_,n)||!ya(r.target_[n]))&&this.extend_(r,n,e,!1)===null)return 0;if(ya(e.value))return 1;var s=Gd(r,this,n,e,!1,!1);return nn(t,n,s),2}function zm(r,n,e,t){var a,s=Gd(r,this,n,e,(a=this.options_)==null?void 0:a.bound);return r.defineProperty_(n,s,t)}function qm(r,n){var e,t=n.name,a=n.addInitializer;return ya(r)||(r=$r(r)),(e=this.options_)!=null&&e.bound&&a(function(){var s=this,i=s[t].bind(s);i.isMobXFlow=!0,s[t]=i}),r}function Km(r,n,e,t){n.annotationType_,t.value}function Gd(r,n,e,t,a,s){s===void 0&&(s=V.safeDescriptors),Km(r,n,e,t);var i=t.value;if(ya(i)||(i=$r(i)),a){var o;i=i.bind((o=r.proxy_)!=null?o:r.target_),i.isMobXFlow=!0}return{value:i,configurable:s?r.isPlainObject_:!0,enumerable:!1,writable:!s}}function yl(r,n){return{annotationType_:r,options_:n,make_:Qm,extend_:Xm,decorate_20223_:Zm}}function Qm(r,n,e){return this.extend_(r,n,e,!1)===null?0:1}function Xm(r,n,e,t){return Jm(r,this,n,e),r.defineComputedProperty_(n,sr({},this.options_,{get:e.get,set:e.set}),t)}function Zm(r,n){var e=this,t=n.name,a=n.addInitializer;return a(function(){var s=vr(this)[ae],i=sr({},e.options_,{get:r,context:this});i.name||(i.name="ObservableObject."+t.toString()),s.values_.set(t,new Rr(i))}),function(){return this[ae].getObservablePropValue_(t)}}function Jm(r,n,e,t){n.annotationType_,t.get}function fi(r,n){return{annotationType_:r,options_:n,make_:ev,extend_:tv,decorate_20223_:nv}}function ev(r,n,e){return this.extend_(r,n,e,!1)===null?0:1}function tv(r,n,e,t){var a,s;return rv(r,this),r.defineObservableProperty_(n,e.value,(a=(s=this.options_)==null?void 0:s.enhancer)!=null?a:ir,t)}function nv(r,n){var e=this,t=n.kind,a=n.name,s=new WeakSet;function i(o,l){var c,d,f=vr(o)[ae],h=new er(l,(c=(d=e.options_)==null?void 0:d.enhancer)!=null?c:ir,"ObservableObject."+a.toString(),!1);f.values_.set(a,h),s.add(o)}if(t=="accessor")return{get:function(){return s.has(this)||i(this,r.get.call(this)),this[ae].getObservablePropValue_(a)},set:function(l){return s.has(this)||i(this,l),this[ae].setObservablePropValue_(a,l)},init:function(l){return s.has(this)||i(this,l),l}}}function rv(r,n,e,t){n.annotationType_}var av="true",sv=Bd();function Bd(r){return{annotationType_:av,options_:r,make_:iv,extend_:ov,decorate_20223_:lv}}function iv(r,n,e,t){var a,s;if(e.get)return pi.make_(r,n,e,t);if(e.set){var i=or(n.toString(),e.set);return t===r.target_?r.defineProperty_(n,{configurable:V.safeDescriptors?r.isPlainObject_:!0,set:i})===null?0:2:(nn(t,n,{configurable:!0,set:i}),2)}if(t!==r.target_&&typeof e.value=="function"){var o;if(Od(e.value)){var l,c=(l=this.options_)!=null&&l.autoBind?$r.bound:$r;return c.make_(r,n,e,t)}var d=(o=this.options_)!=null&&o.autoBind?ga.bound:ga;return d.make_(r,n,e,t)}var f=((a=this.options_)==null?void 0:a.deep)===!1?ye.ref:ye;if(typeof e.value=="function"&&(s=this.options_)!=null&&s.autoBind){var h;e.value=e.value.bind((h=r.proxy_)!=null?h:r.target_)}return f.make_(r,n,e,t)}function ov(r,n,e,t){var a,s;if(e.get)return pi.extend_(r,n,e,t);if(e.set)return r.defineProperty_(n,{configurable:V.safeDescriptors?r.isPlainObject_:!0,set:or(n.toString(),e.set)},t);if(typeof e.value=="function"&&(a=this.options_)!=null&&a.autoBind){var i;e.value=e.value.bind((i=r.proxy_)!=null?i:r.target_)}var o=((s=this.options_)==null?void 0:s.deep)===!1?ye.ref:ye;return o.extend_(r,n,e,t)}function lv(r,n){_e("'"+this.annotationType_+"' cannot be used as a decorator")}var cv="observable",uv="observable.ref",dv="observable.shallow",fv="observable.struct",Wd={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Wd);function Za(r){return r||Wd}var Fo=fi(cv),pv=fi(uv,{enhancer:di}),hv=fi(dv,{enhancer:Fm}),mv=fi(fv,{enhancer:Gm}),Hd=rn(Fo);function Ja(r){return r.deep===!0?ir:r.deep===!1?di:gv(r.defaultDecorator)}function vv(r){var n;return r?(n=r.defaultDecorator)!=null?n:Bd(r):void 0}function gv(r){var n,e;return r&&(n=(e=r.options_)==null?void 0:e.enhancer)!=null?n:ir}function Yd(r,n,e){if(Da(n))return Fo.decorate_20223_(r,n);if(ar(n)){Zr(r,n,Fo);return}return pf(r)?r:kn(r)?ye.object(r,n,e):Array.isArray(r)?ye.array(r,n):Xr(r)?ye.map(r,n):xa(r)?ye.set(r,n):typeof r=="object"&&r!==null?r:ye.box(r,n)}Dd(Yd,Hd);var yv={box:function(n,e){var t=Za(e);return new er(n,Ja(t),t.name,!0,t.equals)},array:function(n,e){var t=Za(e);return(V.useProxies===!1||t.proxy===!1?fg:ng)(n,Ja(t),t.name)},map:function(n,e){var t=Za(e);return new yf(n,Ja(t),t.name)},set:function(n,e){var t=Za(e);return new _f(n,Ja(t),t.name)},object:function(n,e,t){return Vn(function(){return uf(V.useProxies===!1||(t==null?void 0:t.proxy)===!1?vr({},t):Jv({},t),n,e)})},ref:rn(pv),shallow:rn(hv),deep:Hd,struct:rn(mv)},ye=Dd(Yd,yv),Vd="computed",bv="computed.struct",Go=yl(Vd),wv=yl(bv,{equals:As.structural}),pi=function(n,e){if(Da(e))return Go.decorate_20223_(n,e);if(ar(e))return Zr(n,e,Go);if(kn(n))return rn(yl(Vd,n));var t=kn(e)?e:{};return t.get=n,t.name||(t.name=n.name||""),new Rr(t)};Object.assign(pi,Go);pi.struct=rn(wv);var yc,bc,Is=0,_v=1,Sv=(yc=(bc=Ls(function(){},"name"))==null?void 0:bc.configurable)!=null?yc:!1,wc={value:"action",configurable:!0,writable:!1,enumerable:!1};function or(r,n,e,t){e===void 0&&(e=!1);function a(){return jd(r,e,n,t||this,arguments)}return a.isMobxAction=!0,a.toString=function(){return n.toString()},Sv&&(wc.value=r,nn(a,"name",wc)),a}function jd(r,n,e,t,a){var s=Ev(r,n);try{return e.apply(t,a)}catch(i){throw s.error_=i,i}finally{Nv(s)}}function Ev(r,n,e,t){var a=!1,s=0,i=V.trackingDerivation,o=!n||!i;Lt();var l=V.allowStateChanges;o&&(hr(),l=bl(!0));var c=_l(!0),d={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:a,startTime_:s,actionId_:_v++,parentActionId_:Is};return Is=d.actionId_,d}function Nv(r){Is!==r.actionId_&&_e(30),Is=r.parentActionId_,r.error_!==void 0&&(V.suppressReactionErrors=!0),wl(r.prevAllowStateChanges_),pa(r.prevAllowStateReads_),At(),r.runAsAction_&&_n(r.prevDerivation_),V.suppressReactionErrors=!1}function bl(r){var n=V.allowStateChanges;return V.allowStateChanges=r,n}function wl(r){V.allowStateChanges=r}var Ud;Ud=Symbol.toPrimitive;var er=function(r){Id(n,r);function n(t,a,s,i,o){var l;return s===void 0&&(s="ObservableValue"),o===void 0&&(o=As.default),l=r.call(this,s)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=a,l.name_=s,l.equals=o,l.value_=a(t,void 0,s),l}var e=n.prototype;return e.dehanceValue=function(a){return this.dehancer!==void 0?this.dehancer(a):a},e.set=function(a){this.value_,a=this.prepareNewValue_(a),a!==V.UNCHANGED&&this.setNewValue_(a)},e.prepareNewValue_=function(a){if(Ot(this)){var s=Mt(this,{object:this,type:an,newValue:a});if(!s)return V.UNCHANGED;a=s.newValue}return a=this.enhancer(a,this.value_,this.name_),this.equals(this.value_,a)?V.UNCHANGED:a},e.setNewValue_=function(a){var s=this.value_;this.value_=a,this.reportChanged(),$t(this)&&Ft(this,{type:an,object:this,newValue:a,oldValue:s})},e.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},e.intercept_=function(a){return Pa(this,a)},e.observe_=function(a,s){return s&&a({observableKind:"value",debugObjectName:this.name_,object:this,type:an,newValue:this.value_,oldValue:void 0}),Oa(this,a)},e.raw=function(){return this.value_},e.toJSON=function(){return this.get()},e.toString=function(){return this.name_+"["+this.value_+"]"},e.valueOf=function(){return Ad(this.get())},e[Ud]=function(){return this.valueOf()},n}(ka),zd;zd=Symbol.toPrimitive;var Rr=function(){function r(e){this.dependenciesState_=Ee.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ee.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new $s(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Rs.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||_e(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=or("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?As.structural:As.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var n=r.prototype;return n.onBecomeStale_=function(){Tv(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},n.get=function(){if(this.isComputing_&&_e(32,this.name_,this.derivation),V.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Bo(this)&&(this.warnAboutUntrackedRead_(),Lt(),this.value_=this.computeValue_(!1),At());else if(ef(this),Bo(this)){var t=V.trackingContext;this.keepAlive_&&!t&&(V.trackingContext=this),this.trackAndCompute()&&kv(this),V.trackingContext=t}var a=this.value_;if(_s(a))throw a.cause;return a},n.set=function(t){if(this.setter_){this.isRunningSetter_&&_e(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else _e(34,this.name_)},n.trackAndCompute=function(){var t=this.value_,a=this.dependenciesState_===Ee.NOT_TRACKING_,s=this.computeValue_(!0),i=a||_s(t)||_s(s)||!this.equals_(t,s);return i&&(this.value_=s),i},n.computeValue_=function(t){this.isComputing_=!0;var a=bl(!1),s;if(t)s=qd(this,this.derivation,this.scope_);else if(V.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(i){s=new $s(i)}return wl(a),this.isComputing_=!1,s},n.suspend_=function(){this.keepAlive_||(Wo(this),this.value_=void 0)},n.observe_=function(t,a){var s=this,i=!0,o=void 0;return Fv(function(){var l=s.get();if(!i||a){var c=hr();t({observableKind:"computed",debugObjectName:s.name_,type:an,object:s,newValue:l,oldValue:o}),_n(c)}i=!1,o=l})},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return Ad(this.get())},n[zd]=function(){return this.valueOf()},r}(),hi=pr("ComputedValue",Rr),Ee;(function(r){r[r.NOT_TRACKING_=-1]="NOT_TRACKING_",r[r.UP_TO_DATE_=0]="UP_TO_DATE_",r[r.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",r[r.STALE_=2]="STALE_"})(Ee||(Ee={}));var Rs;(function(r){r[r.NONE=0]="NONE",r[r.LOG=1]="LOG",r[r.BREAK=2]="BREAK"})(Rs||(Rs={}));var $s=function(n){this.cause=void 0,this.cause=n};function _s(r){return r instanceof $s}function Bo(r){switch(r.dependenciesState_){case Ee.UP_TO_DATE_:return!1;case Ee.NOT_TRACKING_:case Ee.STALE_:return!0;case Ee.POSSIBLY_STALE_:{for(var n=_l(!0),e=hr(),t=r.observing_,a=t.length,s=0;s<a;s++){var i=t[s];if(hi(i)){if(V.disableErrorBoundaries)i.get();else try{i.get()}catch(o){return _n(e),pa(n),!0}if(r.dependenciesState_===Ee.STALE_)return _n(e),pa(n),!0}}return Qd(r),_n(e),pa(n),!1}}}function qd(r,n,e){var t=_l(!0);Qd(r),r.newObserving_=new Array(r.observing_.length+100),r.unboundDepsCount_=0,r.runId_=++V.runId;var a=V.trackingDerivation;V.trackingDerivation=r,V.inBatch++;var s;if(V.disableErrorBoundaries===!0)s=n.call(e);else try{s=n.call(e)}catch(i){s=new $s(i)}return V.inBatch--,V.trackingDerivation=a,Cv(r),pa(t),s}function Cv(r){for(var n=r.observing_,e=r.observing_=r.newObserving_,t=Ee.UP_TO_DATE_,a=0,s=r.unboundDepsCount_,i=0;i<s;i++){var o=e[i];o.diffValue_===0&&(o.diffValue_=1,a!==i&&(e[a]=o),a++),o.dependenciesState_>t&&(t=o.dependenciesState_)}for(e.length=a,r.newObserving_=null,s=n.length;s--;){var l=n[s];l.diffValue_===0&&Zd(l,r),l.diffValue_=0}for(;a--;){var c=e[a];c.diffValue_===1&&(c.diffValue_=0,Dv(c,r))}t!==Ee.UP_TO_DATE_&&(r.dependenciesState_=t,r.onBecomeStale_())}function Wo(r){var n=r.observing_;r.observing_=[];for(var e=n.length;e--;)Zd(n[e],r);r.dependenciesState_=Ee.NOT_TRACKING_}function Kd(r){var n=hr();try{return r()}finally{_n(n)}}function hr(){var r=V.trackingDerivation;return V.trackingDerivation=null,r}function _n(r){V.trackingDerivation=r}function _l(r){var n=V.allowStateReads;return V.allowStateReads=r,n}function pa(r){V.allowStateReads=r}function Qd(r){if(r.dependenciesState_!==Ee.UP_TO_DATE_){r.dependenciesState_=Ee.UP_TO_DATE_;for(var n=r.observing_,e=n.length;e--;)n[e].lowestObserverState_=Ee.UP_TO_DATE_}}var Ss=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Es=!0,Xd=!1,V=function(){var r=ml();return r.__mobxInstanceCount>0&&!r.__mobxGlobals&&(Es=!1),r.__mobxGlobals&&r.__mobxGlobals.version!==new Ss().version&&(Es=!1),Es?r.__mobxGlobals?(r.__mobxInstanceCount+=1,r.__mobxGlobals.UNCHANGED||(r.__mobxGlobals.UNCHANGED={}),r.__mobxGlobals):(r.__mobxInstanceCount=1,r.__mobxGlobals=new Ss):(setTimeout(function(){Xd||_e(35)},1),new Ss)}();function xv(){if((V.pendingReactions.length||V.inBatch||V.isRunningReactions)&&_e(36),Xd=!0,Es){var r=ml();--r.__mobxInstanceCount===0&&(r.__mobxGlobals=void 0),V=new Ss}}function Dv(r,n){r.observers_.add(n),r.lowestObserverState_>n.dependenciesState_&&(r.lowestObserverState_=n.dependenciesState_)}function Zd(r,n){r.observers_.delete(n),r.observers_.size===0&&Jd(r)}function Jd(r){r.isPendingUnobservation_===!1&&(r.isPendingUnobservation_=!0,V.pendingUnobservations.push(r))}function Lt(){V.inBatch++}function At(){if(--V.inBatch===0){nf();for(var r=V.pendingUnobservations,n=0;n<r.length;n++){var e=r[n];e.isPendingUnobservation_=!1,e.observers_.size===0&&(e.isBeingObserved_&&(e.isBeingObserved_=!1,e.onBUO()),e instanceof Rr&&e.suspend_())}V.pendingUnobservations=[]}}function ef(r){var n=V.trackingDerivation;return n!==null?(n.runId_!==r.lastAccessedBy_&&(r.lastAccessedBy_=n.runId_,n.newObserving_[n.unboundDepsCount_++]=r,!r.isBeingObserved_&&V.trackingContext&&(r.isBeingObserved_=!0,r.onBO())),r.isBeingObserved_):(r.observers_.size===0&&V.inBatch>0&&Jd(r),!1)}function tf(r){r.lowestObserverState_!==Ee.STALE_&&(r.lowestObserverState_=Ee.STALE_,r.observers_.forEach(function(n){n.dependenciesState_===Ee.UP_TO_DATE_&&n.onBecomeStale_(),n.dependenciesState_=Ee.STALE_}))}function kv(r){r.lowestObserverState_!==Ee.STALE_&&(r.lowestObserverState_=Ee.STALE_,r.observers_.forEach(function(n){n.dependenciesState_===Ee.POSSIBLY_STALE_?n.dependenciesState_=Ee.STALE_:n.dependenciesState_===Ee.UP_TO_DATE_&&(r.lowestObserverState_=Ee.UP_TO_DATE_)}))}function Tv(r){r.lowestObserverState_===Ee.UP_TO_DATE_&&(r.lowestObserverState_=Ee.POSSIBLY_STALE_,r.observers_.forEach(function(n){n.dependenciesState_===Ee.UP_TO_DATE_&&(n.dependenciesState_=Ee.POSSIBLY_STALE_,n.onBecomeStale_())}))}var Fs=function(){function r(e,t,a,s){e===void 0&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ee.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Rs.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=a,this.requiresObservable_=s}var n=r.prototype;return n.onBecomeStale_=function(){this.schedule_()},n.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,V.pendingReactions.push(this),nf())},n.isScheduled=function(){return this.isScheduled_},n.runReaction_=function(){if(!this.isDisposed_){Lt(),this.isScheduled_=!1;var t=V.trackingContext;if(V.trackingContext=this,Bo(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(a){this.reportExceptionInDerivation_(a)}}V.trackingContext=t,At()}},n.track=function(t){if(!this.isDisposed_){Lt(),this.isRunning_=!0;var a=V.trackingContext;V.trackingContext=this;var s=qd(this,t,void 0);V.trackingContext=a,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Wo(this),_s(s)&&this.reportExceptionInDerivation_(s.cause),At()}},n.reportExceptionInDerivation_=function(t){var a=this;if(this.errorHandler_){this.errorHandler_(t,this);return}if(V.disableErrorBoundaries)throw t;var s="[mobx] uncaught error in '"+this+"'";V.suppressReactionErrors||console.error(s,t),V.globalReactionErrorHandlers.forEach(function(i){return i(t,a)})},n.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Lt(),Wo(this),At()))},n.getDisposer_=function(t){var a=this,s=function i(){a.dispose(),t==null||t.removeEventListener==null||t.removeEventListener("abort",i)};return t==null||t.addEventListener==null||t.addEventListener("abort",s),s[ae]=this,s},n.toString=function(){return"Reaction["+this.name_+"]"},n.trace=function(t){},r}(),Pv=100,Ho=function(n){return n()};function nf(){V.inBatch>0||V.isRunningReactions||Ho(Ov)}function Ov(){V.isRunningReactions=!0;for(var r=V.pendingReactions,n=0;r.length>0;){++n===Pv&&(console.error("[mobx] cycle in reaction: "+r[0]),r.splice(0));for(var e=r.splice(0),t=0,a=e.length;t<a;t++)e[t].runReaction_()}V.isRunningReactions=!1}var Gs=pr("Reaction",Fs);function Mv(r){var n=Ho;Ho=function(t){return r(function(){return n(t)})}}function ha(){return!1}function Lv(r){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var rf="action",Av="action.bound",af="autoAction",Iv="autoAction.bound",sf="<unnamed action>",Yo=Ta(rf),Rv=Ta(Av,{bound:!0}),Vo=Ta(af,{autoAction:!0}),$v=Ta(Iv,{autoAction:!0,bound:!0});function of(r){var n=function(t,a){if(Bt(t))return or(t.name||sf,t,r);if(Bt(a))return or(t,a,r);if(Da(a))return(r?Vo:Yo).decorate_20223_(t,a);if(ar(a))return Zr(t,a,r?Vo:Yo);if(ar(t))return rn(Ta(r?af:rf,{name:t,autoAction:r}))};return n}var Ye=of(!1);Object.assign(Ye,Yo);var ga=of(!0);Object.assign(ga,Vo);Ye.bound=rn(Rv);ga.bound=rn($v);function Je(r){return jd(r.name||sf,!1,r,this,void 0)}function mi(r){return Bt(r)&&r.isMobxAction===!0}function Fv(r,n){var e,t,a,s,i;n===void 0&&(n=kd);var o=(e=(t=n)==null?void 0:t.name)!=null?e:"Autorun",l=!n.scheduler&&!n.delay,c;if(l)c=new Fs(o,function(){this.track(h)},n.onError,n.requiresObservable);else{var d=Bv(n),f=!1;c=new Fs(o,function(){f||(f=!0,d(function(){f=!1,c.isDisposed_||c.track(h)}))},n.onError,n.requiresObservable)}function h(){r(c)}return(a=n)!=null&&(s=a.signal)!=null&&s.aborted||c.schedule_(),c.getDisposer_((i=n)==null?void 0:i.signal)}var Gv=function(n){return n()};function Bv(r){return r.scheduler?r.scheduler:r.delay?function(n){return setTimeout(n,r.delay)}:Gv}var Wv="onBO",Hv="onBUO";function Yv(r,n,e){return cf(Wv,r,n,e)}function lf(r,n,e){return cf(Hv,r,n,e)}function cf(r,n,e,t){var a=typeof t=="function"?Fr(n,e):Fr(n),s=Bt(t)?t:e,i=r+"L";return a[i]?a[i].add(s):a[i]=new Set([s]),function(){var o=a[i];o&&(o.delete(s),o.size===0&&delete a[i])}}var Vv="never",es="always",jv="observed";function Uv(r){r.isolateGlobalState===!0&&xv();var n=r.useProxies,e=r.enforceActions;if(n!==void 0&&(V.useProxies=n===es?!0:n===Vv?!1:typeof Proxy<"u"),n==="ifavailable"&&(V.verifyProxies=!0),e!==void 0){var t=e===es?es:e===jv;V.enforceActions=t,V.allowStateChanges=!(t===!0||t===es)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(a){a in r&&(V[a]=!!r[a])}),V.allowStateReads=!V.observableRequiresReaction,r.reactionScheduler&&Mv(r.reactionScheduler)}function uf(r,n,e,t){var a=Tm(n);return Vn(function(){var s=vr(r,t)[ae];Ir(a).forEach(function(i){s.extend_(i,a[i],e&&i in e?e[i]:!0)})}),r}function zv(r,n){return df(Fr(r,n))}function df(r){var n={name:r.name_};return r.observing_&&r.observing_.length>0&&(n.dependencies=qv(r.observing_).map(df)),n}function qv(r){return Array.from(new Set(r))}var Kv=0;function ff(){this.message="FLOW_CANCELLED"}ff.prototype=Object.create(Error.prototype);var Qi=Fd("flow"),Qv=Fd("flow.bound",{bound:!0}),$r=Object.assign(function(n,e){if(Da(e))return Qi.decorate_20223_(n,e);if(ar(e))return Zr(n,e,Qi);var t=n,a=t.name||"<unnamed flow>",s=function(){var o=this,l=arguments,c=++Kv,d=Ye(a+" - runid: "+c+" - init",t).apply(o,l),f,h=void 0,v=new Promise(function(m,g){var b=0;f=g;function y(x){h=void 0;var C;try{C=Ye(a+" - runid: "+c+" - yield "+b++,d.next).call(d,x)}catch(S){return g(S)}E(C)}function _(x){h=void 0;var C;try{C=Ye(a+" - runid: "+c+" - yield "+b++,d.throw).call(d,x)}catch(S){return g(S)}E(C)}function E(x){if(Bt(x==null?void 0:x.then)){x.then(E,g);return}return x.done?m(x.value):(h=Promise.resolve(x.value),h.then(y,_))}y(void 0)});return v.cancel=Ye(a+" - runid: "+c+" - cancel",function(){try{h&&_c(h);var m=d.return(void 0),g=Promise.resolve(m.value);g.then(Dr,Dr),_c(g),f(new ff)}catch(b){f(b)}}),v};return s.isMobXFlow=!0,s},Qi);$r.bound=rn(Qv);function _c(r){Bt(r.cancel)&&r.cancel()}function ya(r){return(r==null?void 0:r.isMobXFlow)===!0}function Xv(r,n){return r?n!==void 0?ba(r)?r[ae].values_.has(n):!1:ba(r)||!!r[ae]||gl(r)||Gs(r)||hi(r):!1}function pf(r){return Xv(r)}function bn(r,n){n===void 0&&(n=void 0),Lt();try{return r.apply(n)}finally{At()}}function _r(r){return r[ae]}var Zv={has:function(n,e){return _r(n).has_(e)},get:function(n,e){return _r(n).get_(e)},set:function(n,e,t){var a;return ar(e)?(a=_r(n).set_(e,t,!0))!=null?a:!0:!1},deleteProperty:function(n,e){var t;return ar(e)?(t=_r(n).delete_(e,!0))!=null?t:!0:!1},defineProperty:function(n,e,t){var a;return(a=_r(n).defineProperty_(e,t))!=null?a:!0},ownKeys:function(n){return _r(n).ownKeys_()},preventExtensions:function(n){_e(13)}};function Jv(r,n){var e,t;return Td(),r=vr(r,n),(t=(e=r[ae]).proxy_)!=null?t:e.proxy_=new Proxy(r,Zv)}function Ot(r){return r.interceptors_!==void 0&&r.interceptors_.length>0}function Pa(r,n){var e=r.interceptors_||(r.interceptors_=[]);return e.push(n),Pd(function(){var t=e.indexOf(n);t!==-1&&e.splice(t,1)})}function Mt(r,n){var e=hr();try{for(var t=[].concat(r.interceptors_||[]),a=0,s=t.length;a<s&&(n=t[a](n),n&&!n.type&&_e(14),!!n);a++);return n}finally{_n(e)}}function $t(r){return r.changeListeners_!==void 0&&r.changeListeners_.length>0}function Oa(r,n){var e=r.changeListeners_||(r.changeListeners_=[]);return e.push(n),Pd(function(){var t=e.indexOf(n);t!==-1&&e.splice(t,1)})}function Ft(r,n){var e=hr(),t=r.changeListeners_;if(t){t=t.slice();for(var a=0,s=t.length;a<s;a++)t[a](n);_n(e)}}function hf(r,n,e){return Vn(function(){var t,a=vr(r,e)[ae];(t=n)!=null||(n=Lm(r)),Ir(n).forEach(function(s){return a.make_(s,n[s])})}),r}var Xi=Symbol("mobx-keys");function Ma(r,n,e){return kn(r)?uf(r,r,n,e):(Vn(function(){var t=vr(r,e)[ae];if(!r[Xi]){var a=Object.getPrototypeOf(r),s=new Set([].concat(Ir(r),Ir(a)));s.delete("constructor"),s.delete(ae),Ca(a,Xi,s)}r[Xi].forEach(function(i){return t.make_(i,n&&i in n?n[i]:!0)})}),r)}var Sc="splice",an="update",eg=1e4,tg={get:function(n,e){var t=n[ae];return e===ae?t:e==="length"?t.getArrayLength_():typeof e=="string"&&!isNaN(e)?t.get_(parseInt(e)):wn(Bs,e)?Bs[e]:n[e]},set:function(n,e,t){var a=n[ae];return e==="length"&&a.setArrayLength_(t),typeof e=="symbol"||isNaN(e)?n[e]=t:a.set_(parseInt(e),t),!0},preventExtensions:function(){_e(15)}},Sl=function(){function r(e,t,a,s){e===void 0&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=a,this.legacyMode_=s,this.atom_=new ka(e),this.enhancer_=function(i,o){return t(i,o,"ObservableArray[..]")}}var n=r.prototype;return n.dehanceValue_=function(t){return this.dehancer!==void 0?this.dehancer(t):t},n.dehanceValues_=function(t){return this.dehancer!==void 0&&t.length>0?t.map(this.dehancer):t},n.intercept_=function(t){return Pa(this,t)},n.observe_=function(t,a){return a===void 0&&(a=!1),a&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Oa(this,t)},n.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},n.setArrayLength_=function(t){(typeof t!="number"||isNaN(t)||t<0)&&_e("Out of range: "+t);var a=this.values_.length;if(t!==a)if(t>a){for(var s=new Array(t-a),i=0;i<t-a;i++)s[i]=void 0;this.spliceWithArray_(a,0,s)}else this.spliceWithArray_(t,a-t)},n.updateArrayLength_=function(t,a){t!==this.lastKnownLength_&&_e(16),this.lastKnownLength_+=a,this.legacyMode_&&a>0&&Cf(t+a+1)},n.spliceWithArray_=function(t,a,s){var i=this;this.atom_;var o=this.values_.length;if(t===void 0?t=0:t>o?t=o:t<0&&(t=Math.max(0,o+t)),arguments.length===1?a=o-t:a==null?a=0:a=Math.max(0,Math.min(a,o-t)),s===void 0&&(s=Ro),Ot(this)){var l=Mt(this,{object:this.proxy_,type:Sc,index:t,removedCount:a,added:s});if(!l)return Ro;a=l.removedCount,s=l.added}if(s=s.length===0?s:s.map(function(f){return i.enhancer_(f,void 0)}),this.legacyMode_){var c=s.length-a;this.updateArrayLength_(o,c)}var d=this.spliceItemsIntoValues_(t,a,s);return(a!==0||s.length!==0)&&this.notifyArraySplice_(t,s,d),this.dehanceValues_(d)},n.spliceItemsIntoValues_=function(t,a,s){if(s.length<eg){var i;return(i=this.values_).splice.apply(i,[t,a].concat(s))}else{var o=this.values_.slice(t,t+a),l=this.values_.slice(t+a);this.values_.length+=s.length-a;for(var c=0;c<s.length;c++)this.values_[t+c]=s[c];for(var d=0;d<l.length;d++)this.values_[t+s.length+d]=l[d];return o}},n.notifyArrayChildUpdate_=function(t,a,s){var i=!this.owned_&&ha(),o=$t(this),l=o||i?{observableKind:"array",object:this.proxy_,type:an,debugObjectName:this.atom_.name_,index:t,newValue:a,oldValue:s}:null;this.atom_.reportChanged(),o&&Ft(this,l)},n.notifyArraySplice_=function(t,a,s){var i=!this.owned_&&ha(),o=$t(this),l=o||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Sc,index:t,removed:s,added:a,removedCount:s.length,addedCount:a.length}:null;this.atom_.reportChanged(),o&&Ft(this,l)},n.get_=function(t){if(this.legacyMode_&&t>=this.values_.length){console.warn("[mobx] Out of bounds read: "+t);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t])},n.set_=function(t,a){var s=this.values_;if(this.legacyMode_&&t>s.length&&_e(17,t,s.length),t<s.length){this.atom_;var i=s[t];if(Ot(this)){var o=Mt(this,{type:an,object:this.proxy_,index:t,newValue:a});if(!o)return;a=o.newValue}a=this.enhancer_(a,i);var l=a!==i;l&&(s[t]=a,this.notifyArrayChildUpdate_(t,a,i))}else{for(var c=new Array(t+1-s.length),d=0;d<c.length-1;d++)c[d]=void 0;c[c.length-1]=a,this.spliceWithArray_(s.length,0,c)}},r}();function ng(r,n,e,t){return e===void 0&&(e="ObservableArray"),t===void 0&&(t=!1),Td(),Vn(function(){var a=new Sl(e,n,t,!1);Md(a.values_,ae,a);var s=new Proxy(a.values_,tg);return a.proxy_=s,r&&r.length&&a.spliceWithArray_(0,0,r),s})}var Bs={clear:function(){return this.splice(0)},replace:function(n){var e=this[ae];return e.spliceWithArray_(0,e.values_.length,n)},toJSON:function(){return this.slice()},splice:function(n,e){for(var t=arguments.length,a=new Array(t>2?t-2:0),s=2;s<t;s++)a[s-2]=arguments[s];var i=this[ae];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(n);case 2:return i.spliceWithArray_(n,e)}return i.spliceWithArray_(n,e,a)},spliceWithArray:function(n,e,t){return this[ae].spliceWithArray_(n,e,t)},push:function(){for(var n=this[ae],e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n.spliceWithArray_(n.values_.length,0,t),n.values_.length},pop:function(){return this.splice(Math.max(this[ae].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var n=this[ae],e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n.spliceWithArray_(0,0,t),n.values_.length},reverse:function(){return V.trackingDerivation&&_e(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){V.trackingDerivation&&_e(37,"sort");var n=this.slice();return n.sort.apply(n,arguments),this.replace(n),this},remove:function(n){var e=this[ae],t=e.dehanceValues_(e.values_).indexOf(n);return t>-1?(this.splice(t,1),!0):!1}};Ie("at",Nt);Ie("concat",Nt);Ie("flat",Nt);Ie("includes",Nt);Ie("indexOf",Nt);Ie("join",Nt);Ie("lastIndexOf",Nt);Ie("slice",Nt);Ie("toString",Nt);Ie("toLocaleString",Nt);Ie("toSorted",Nt);Ie("toSpliced",Nt);Ie("with",Nt);Ie("every",Vt);Ie("filter",Vt);Ie("find",Vt);Ie("findIndex",Vt);Ie("findLast",Vt);Ie("findLastIndex",Vt);Ie("flatMap",Vt);Ie("forEach",Vt);Ie("map",Vt);Ie("some",Vt);Ie("toReversed",Vt);Ie("reduce",mf);Ie("reduceRight",mf);function Ie(r,n){typeof Array.prototype[r]=="function"&&(Bs[r]=n(r))}function Nt(r){return function(){var n=this[ae];n.atom_.reportObserved();var e=n.dehanceValues_(n.values_);return e[r].apply(e,arguments)}}function Vt(r){return function(n,e){var t=this,a=this[ae];a.atom_.reportObserved();var s=a.dehanceValues_(a.values_);return s[r](function(i,o){return n.call(e,i,o,t)})}}function mf(r){return function(){var n=this,e=this[ae];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_),a=arguments[0];return arguments[0]=function(s,i,o){return a(s,i,o,n)},t[r].apply(t,arguments)}}var rg=pr("ObservableArrayAdministration",Sl);function vi(r){return ui(r)&&rg(r[ae])}var vf,gf,ag={},Rn="add",Ws="delete";vf=Symbol.iterator;gf=Symbol.toStringTag;var yf=function(){function r(e,t,a){var s=this;t===void 0&&(t=ir),a===void 0&&(a="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ae]=ag,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=a,Bt(Map)||_e(18),Vn(function(){s.keysAtom_=Rd("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,e&&s.merge(e)})}var n=r.prototype;return n.has_=function(t){return this.data_.has(t)},n.has=function(t){var a=this;if(!V.trackingDerivation)return this.has_(t);var s=this.hasMap_.get(t);if(!s){var i=s=new er(this.has_(t),di,"ObservableMap.key?",!1);this.hasMap_.set(t,i),lf(i,function(){return a.hasMap_.delete(t)})}return s.get()},n.set=function(t,a){var s=this.has_(t);if(Ot(this)){var i=Mt(this,{type:s?an:Rn,object:this,newValue:a,name:t});if(!i)return this;a=i.newValue}return s?this.updateValue_(t,a):this.addValue_(t,a),this},n.delete=function(t){var a=this;if(this.keysAtom_,Ot(this)){var s=Mt(this,{type:Ws,object:this,name:t});if(!s)return!1}if(this.has_(t)){var i=ha(),o=$t(this),l=o||i?{observableKind:"map",debugObjectName:this.name_,type:Ws,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return bn(function(){var c;a.keysAtom_.reportChanged(),(c=a.hasMap_.get(t))==null||c.setNewValue_(!1);var d=a.data_.get(t);d.setNewValue_(void 0),a.data_.delete(t)}),o&&Ft(this,l),!0}return!1},n.updateValue_=function(t,a){var s=this.data_.get(t);if(a=s.prepareNewValue_(a),a!==V.UNCHANGED){var i=ha(),o=$t(this),l=o||i?{observableKind:"map",debugObjectName:this.name_,type:an,object:this,oldValue:s.value_,name:t,newValue:a}:null;s.setNewValue_(a),o&&Ft(this,l)}},n.addValue_=function(t,a){var s=this;this.keysAtom_,bn(function(){var c,d=new er(a,s.enhancer_,"ObservableMap.key",!1);s.data_.set(t,d),a=d.value_,(c=s.hasMap_.get(t))==null||c.setNewValue_(!0),s.keysAtom_.reportChanged()});var i=ha(),o=$t(this),l=o||i?{observableKind:"map",debugObjectName:this.name_,type:Rn,object:this,name:t,newValue:a}:null;o&&Ft(this,l)},n.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},n.dehanceValue_=function(t){return this.dehancer!==void 0?this.dehancer(t):t},n.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},n.values=function(){var t=this,a=this.keys();return wa({next:function(){var i=a.next(),o=i.done,l=i.value;return{done:o,value:o?void 0:t.get(l)}}})},n.entries=function(){var t=this,a=this.keys();return wa({next:function(){var i=a.next(),o=i.done,l=i.value;return{done:o,value:o?void 0:[l,t.get(l)]}}})},n[vf]=function(){return this.entries()},n.forEach=function(t,a){for(var s=kr(this),i;!(i=s()).done;){var o=i.value,l=o[0],c=o[1];t.call(a,c,l,this)}},n.merge=function(t){var a=this;return mr(t)&&(t=new Map(t)),bn(function(){kn(t)?km(t).forEach(function(s){return a.set(s,t[s])}):Array.isArray(t)?t.forEach(function(s){var i=s[0],o=s[1];return a.set(i,o)}):Xr(t)?(t.constructor!==Map&&_e(19,t),t.forEach(function(s,i){return a.set(i,s)})):t!=null&&_e(20,t)}),this},n.clear=function(){var t=this;bn(function(){Kd(function(){for(var a=kr(t.keys()),s;!(s=a()).done;){var i=s.value;t.delete(i)}})})},n.replace=function(t){var a=this;return bn(function(){for(var s=sg(t),i=new Map,o=!1,l=kr(a.data_.keys()),c;!(c=l()).done;){var d=c.value;if(!s.has(d)){var f=a.delete(d);if(f)o=!0;else{var h=a.data_.get(d);i.set(d,h)}}}for(var v=kr(s.entries()),m;!(m=v()).done;){var g=m.value,b=g[0],y=g[1],_=a.data_.has(b);if(a.set(b,y),a.data_.has(b)){var E=a.data_.get(b);i.set(b,E),_||(o=!0)}}if(!o)if(a.data_.size!==i.size)a.keysAtom_.reportChanged();else for(var x=a.data_.keys(),C=i.keys(),S=x.next(),D=C.next();!S.done;){if(S.value!==D.value){a.keysAtom_.reportChanged();break}S=x.next(),D=C.next()}a.data_=i}),this},n.toString=function(){return"[object ObservableMap]"},n.toJSON=function(){return Array.from(this)},n.observe_=function(t,a){return Oa(this,t)},n.intercept_=function(t){return Pa(this,t)},vl(r,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:gf,get:function(){return"Map"}}]),r}(),mr=pr("ObservableMap",yf);function sg(r){if(Xr(r)||mr(r))return r;if(Array.isArray(r))return new Map(r);if(kn(r)){var n=new Map;for(var e in r)n.set(e,r[e]);return n}else return _e(21,r)}var bf,wf,ig={};bf=Symbol.iterator;wf=Symbol.toStringTag;var _f=function(){function r(e,t,a){var s=this;t===void 0&&(t=ir),a===void 0&&(a="ObservableSet"),this.name_=void 0,this[ae]=ig,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=a,Bt(Set)||_e(22),this.enhancer_=function(i,o){return t(i,o,a)},Vn(function(){s.atom_=Rd(s.name_),e&&s.replace(e)})}var n=r.prototype;return n.dehanceValue_=function(t){return this.dehancer!==void 0?this.dehancer(t):t},n.clear=function(){var t=this;bn(function(){Kd(function(){for(var a=kr(t.data_.values()),s;!(s=a()).done;){var i=s.value;t.delete(i)}})})},n.forEach=function(t,a){for(var s=kr(this),i;!(i=s()).done;){var o=i.value;t.call(a,o,o,this)}},n.add=function(t){var a=this;if(this.atom_,Ot(this)){var s=Mt(this,{type:Rn,object:this,newValue:t});if(!s)return this}if(!this.has(t)){bn(function(){a.data_.add(a.enhancer_(t,void 0)),a.atom_.reportChanged()});var i=!1,o=$t(this),l=o||i?{observableKind:"set",debugObjectName:this.name_,type:Rn,object:this,newValue:t}:null;o&&Ft(this,l)}return this},n.delete=function(t){var a=this;if(Ot(this)){var s=Mt(this,{type:Ws,object:this,oldValue:t});if(!s)return!1}if(this.has(t)){var i=!1,o=$t(this),l=o||i?{observableKind:"set",debugObjectName:this.name_,type:Ws,object:this,oldValue:t}:null;return bn(function(){a.atom_.reportChanged(),a.data_.delete(t)}),o&&Ft(this,l),!0}return!1},n.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},n.entries=function(){var t=0,a=Array.from(this.keys()),s=Array.from(this.values());return wa({next:function(){var o=t;return t+=1,o<s.length?{value:[a[o],s[o]],done:!1}:{done:!0}}})},n.keys=function(){return this.values()},n.values=function(){this.atom_.reportObserved();var t=this,a=0,s=Array.from(this.data_.values());return wa({next:function(){return a<s.length?{value:t.dehanceValue_(s[a++]),done:!1}:{done:!0}}})},n.replace=function(t){var a=this;return Jr(t)&&(t=new Set(t)),bn(function(){Array.isArray(t)?(a.clear(),t.forEach(function(s){return a.add(s)})):xa(t)?(a.clear(),t.forEach(function(s){return a.add(s)})):t!=null&&_e("Cannot initialize set from "+t)}),this},n.observe_=function(t,a){return Oa(this,t)},n.intercept_=function(t){return Pa(this,t)},n.toJSON=function(){return Array.from(this)},n.toString=function(){return"[object ObservableSet]"},n[bf]=function(){return this.values()},vl(r,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:wf,get:function(){return"Set"}}]),r}(),Jr=pr("ObservableSet",_f),Ec=Object.create(null),Nc="remove",Sf=function(){function r(e,t,a,s){t===void 0&&(t=new Map),s===void 0&&(s=sv),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=a,this.defaultAnnotation_=s,this.keysAtom_=new ka("ObservableObject.keys"),this.isPlainObject_=kn(this.target_)}var n=r.prototype;return n.getObservablePropValue_=function(t){return this.values_.get(t).get()},n.setObservablePropValue_=function(t,a){var s=this.values_.get(t);if(s instanceof Rr)return s.set(a),!0;if(Ot(this)){var i=Mt(this,{type:an,object:this.proxy_||this.target_,name:t,newValue:a});if(!i)return null;a=i.newValue}if(a=s.prepareNewValue_(a),a!==V.UNCHANGED){var o=$t(this),l=!1,c=o||l?{type:an,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:t,newValue:a}:null;s.setNewValue_(a),o&&Ft(this,c)}return!0},n.get_=function(t){return V.trackingDerivation&&!wn(this.target_,t)&&this.has_(t),this.target_[t]},n.set_=function(t,a,s){return s===void 0&&(s=!1),wn(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,a):s?Reflect.set(this.target_,t,a):(this.target_[t]=a,!0):this.extend_(t,{value:a,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},n.has_=function(t){if(!V.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var a=this.pendingKeys_.get(t);return a||(a=new er(t in this.target_,di,"ObservableObject.key?",!1),this.pendingKeys_.set(t,a)),a.get()},n.make_=function(t,a){if(a===!0&&(a=this.defaultAnnotation_),a!==!1){if(!(t in this.target_)){var s;if((s=this.target_[Jt])!=null&&s[t])return;_e(1,a.annotationType_,this.name_+"."+t.toString())}for(var i=this.target_;i&&i!==ci;){var o=Ls(i,t);if(o){var l=a.make_(this,t,o,i);if(l===0)return;if(l===1)break}i=Object.getPrototypeOf(i)}xc(this,a,t)}},n.extend_=function(t,a,s,i){if(i===void 0&&(i=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(t,a,i);var o=s.extend_(this,t,a,i);return o&&xc(this,s,t),o},n.defineProperty_=function(t,a,s){s===void 0&&(s=!1),this.keysAtom_;try{Lt();var i=this.delete_(t);if(!i)return i;if(Ot(this)){var o=Mt(this,{object:this.proxy_||this.target_,name:t,type:Rn,newValue:a.value});if(!o)return null;var l=o.newValue;a.value!==l&&(a=sr({},a,{value:l}))}if(s){if(!Reflect.defineProperty(this.target_,t,a))return!1}else nn(this.target_,t,a);this.notifyPropertyAddition_(t,a.value)}finally{At()}return!0},n.defineObservableProperty_=function(t,a,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Lt();var o=this.delete_(t);if(!o)return o;if(Ot(this)){var l=Mt(this,{object:this.proxy_||this.target_,name:t,type:Rn,newValue:a});if(!l)return null;a=l.newValue}var c=Cc(t),d={configurable:V.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(i){if(!Reflect.defineProperty(this.target_,t,d))return!1}else nn(this.target_,t,d);var f=new er(a,s,"ObservableObject.key",!1);this.values_.set(t,f),this.notifyPropertyAddition_(t,f.value_)}finally{At()}return!0},n.defineComputedProperty_=function(t,a,s){s===void 0&&(s=!1),this.keysAtom_;try{Lt();var i=this.delete_(t);if(!i)return i;if(Ot(this)){var o=Mt(this,{object:this.proxy_||this.target_,name:t,type:Rn,newValue:void 0});if(!o)return null}a.name||(a.name="ObservableObject.key"),a.context=this.proxy_||this.target_;var l=Cc(t),c={configurable:V.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(s){if(!Reflect.defineProperty(this.target_,t,c))return!1}else nn(this.target_,t,c);this.values_.set(t,new Rr(a)),this.notifyPropertyAddition_(t,void 0)}finally{At()}return!0},n.delete_=function(t,a){if(a===void 0&&(a=!1),this.keysAtom_,!wn(this.target_,t))return!0;if(Ot(this)){var s=Mt(this,{object:this.proxy_||this.target_,name:t,type:Nc});if(!s)return null}try{var i,o;Lt();var l=$t(this),c=!1,d=this.values_.get(t),f=void 0;if(!d&&(l||c)){var h;f=(h=Ls(this.target_,t))==null?void 0:h.value}if(a){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(d&&(this.values_.delete(t),d instanceof er&&(f=d.value_),tf(d)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(o=i.get(t))==null||o.set(t in this.target_),l||c){var v={type:Nc,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:f,name:t};l&&Ft(this,v)}}finally{At()}return!0},n.observe_=function(t,a){return Oa(this,t)},n.intercept_=function(t){return Pa(this,t)},n.notifyPropertyAddition_=function(t,a){var s,i,o=$t(this),l=!1;if(o||l){var c=o||l?{type:Rn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:a}:null;o&&Ft(this,c)}(s=this.pendingKeys_)==null||(i=s.get(t))==null||i.set(!0),this.keysAtom_.reportChanged()},n.ownKeys_=function(){return this.keysAtom_.reportObserved(),Ir(this.target_)},n.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},r}();function vr(r,n){var e;if(wn(r,ae))return r;var t=(e=n==null?void 0:n.name)!=null?e:"ObservableObject",a=new Sf(r,new Map,String(t),vv(n));return Ca(r,ae,a),r}var og=pr("ObservableObjectAdministration",Sf);function Cc(r){return Ec[r]||(Ec[r]={get:function(){return this[ae].getObservablePropValue_(r)},set:function(e){return this[ae].setObservablePropValue_(r,e)}})}function ba(r){return ui(r)?og(r[ae]):!1}function xc(r,n,e){var t;(t=r.target_[Jt])==null||delete t[e]}var lg=Nf(0),cg=function(){var r=!1,n={};return Object.defineProperty(n,"0",{set:function(){r=!0}}),Object.create(n)[0]=1,r===!1}(),Zi=0,Ef=function(){};function ug(r,n){Object.setPrototypeOf?Object.setPrototypeOf(r.prototype,n):r.prototype.__proto__!==void 0?r.prototype.__proto__=n:r.prototype=n}ug(Ef,Array.prototype);var El=function(r,n,e){Id(t,r);function t(s,i,o,l){var c;return o===void 0&&(o="ObservableArray"),l===void 0&&(l=!1),c=r.call(this)||this,Vn(function(){var d=new Sl(o,i,l,!0);d.proxy_=Ki(c),Md(Ki(c),ae,d),s&&s.length&&c.spliceWithArray(0,0,s),cg&&Object.defineProperty(Ki(c),"0",lg)}),c}var a=t.prototype;return a.concat=function(){this[ae].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),o.map(function(c){return vi(c)?c.slice():c}))},a[e]=function(){var s=this,i=0;return wa({next:function(){return i<s.length?{value:s[i++],done:!1}:{done:!0,value:void 0}}})},vl(t,[{key:"length",get:function(){return this[ae].getArrayLength_()},set:function(i){this[ae].setArrayLength_(i)}},{key:n,get:function(){return"Array"}}]),t}(Ef,Symbol.toStringTag,Symbol.iterator);Object.entries(Bs).forEach(function(r){var n=r[0],e=r[1];n!=="concat"&&Ca(El.prototype,n,e)});function Nf(r){return{enumerable:!1,configurable:!0,get:function(){return this[ae].get_(r)},set:function(e){this[ae].set_(r,e)}}}function dg(r){nn(El.prototype,""+r,Nf(r))}function Cf(r){if(r>Zi){for(var n=Zi;n<r+100;n++)dg(n);Zi=r}}Cf(1e3);function fg(r,n,e){return new El(r,n,e)}function Fr(r,n){if(typeof r=="object"&&r!==null){if(vi(r))return n!==void 0&&_e(23),r[ae].atom_;if(Jr(r))return r.atom_;if(mr(r)){if(n===void 0)return r.keysAtom_;var e=r.data_.get(n)||r.hasMap_.get(n);return e||_e(25,n,jo(r)),e}if(ba(r)){if(!n)return _e(26);var t=r[ae].values_.get(n);return t||_e(27,n,jo(r)),t}if(gl(r)||hi(r)||Gs(r))return r}else if(Bt(r)&&Gs(r[ae]))return r[ae];_e(28)}function xf(r,n){if(r||_e(29),n!==void 0)return xf(Fr(r,n));if(gl(r)||hi(r)||Gs(r)||mr(r)||Jr(r))return r;if(r[ae])return r[ae];_e(24,r)}function jo(r,n){var e;if(n!==void 0)e=Fr(r,n);else{if(mi(r))return r.name;ba(r)||mr(r)||Jr(r)?e=xf(r):e=Fr(r)}return e.name_}function Vn(r){var n=hr(),e=bl(!0);Lt();try{return r()}finally{At(),wl(e),_n(n)}}var Dc=ci.toString;function Nl(r,n,e){return e===void 0&&(e=-1),Uo(r,n,e)}function Uo(r,n,e,t,a){if(r===n)return r!==0||1/r===1/n;if(r==null||n==null)return!1;if(r!==r)return n!==n;var s=typeof r;if(s!=="function"&&s!=="object"&&typeof n!="object")return!1;var i=Dc.call(r);if(i!==Dc.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+r==""+n;case"[object Number]":return+r!=+r?+n!=+n:+r==0?1/+r===1/n:+r==+n;case"[object Date]":case"[object Boolean]":return+r==+n;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(r)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":e>=0&&e++;break}r=kc(r),n=kc(n);var o=i==="[object Array]";if(!o){if(typeof r!="object"||typeof n!="object")return!1;var l=r.constructor,c=n.constructor;if(l!==c&&!(Bt(l)&&l instanceof l&&Bt(c)&&c instanceof c)&&"constructor"in r&&"constructor"in n)return!1}if(e===0)return!1;e<0&&(e=-1),t=t||[],a=a||[];for(var d=t.length;d--;)if(t[d]===r)return a[d]===n;if(t.push(r),a.push(n),o){if(d=r.length,d!==n.length)return!1;for(;d--;)if(!Uo(r[d],n[d],e-1,t,a))return!1}else{var f=Object.keys(r),h;if(d=f.length,Object.keys(n).length!==d)return!1;for(;d--;)if(h=f[d],!(wn(n,h)&&Uo(r[h],n[h],e-1,t,a)))return!1}return t.pop(),a.pop(),!0}function kc(r){return vi(r)?r.slice():Xr(r)||mr(r)||xa(r)||Jr(r)?Array.from(r.entries()):r}function wa(r){return r[Symbol.iterator]=pg,r}function pg(){return this}["Symbol","Map","Set"].forEach(function(r){var n=ml();typeof n[r]>"u"&&_e("MobX requires global '"+r+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Lv,extras:{getDebugName:jo},$mobx:ae});if(!p.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!hf)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function hg(r){r()}function mg(r){r||(r=hg),Uv({reactionScheduler:r})}function vg(r){return zv(r)}var gg=1e4,yg=1e4,bg=function(){function r(n){var e=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(t){t===void 0&&(t=gg),clearTimeout(e.sweepTimeout),e.sweepTimeout=void 0;var a=Date.now();e.registrations.forEach(function(s,i){a-s.registeredAt>=t&&(e.finalize(s.value),e.registrations.delete(i))}),e.registrations.size>0&&e.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){e.sweep(0)}})}return Object.defineProperty(r.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e,t){this.registrations.set(t,{value:e,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(r.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.registrations.delete(n)}}),Object.defineProperty(r.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,yg))}}),r}(),wg=typeof FinalizationRegistry<"u"?FinalizationRegistry:bg,zo=new wg(function(r){var n;(n=r.reaction)===null||n===void 0||n.dispose(),r.reaction=null}),Df={exports:{}},kf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=p;function _g(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var Sg=typeof Object.is=="function"?Object.is:_g,Eg=Gr.useState,Ng=Gr.useEffect,Cg=Gr.useLayoutEffect,xg=Gr.useDebugValue;function Dg(r,n){var e=n(),t=Eg({inst:{value:e,getSnapshot:n}}),a=t[0].inst,s=t[1];return Cg(function(){a.value=e,a.getSnapshot=n,Ji(a)&&s({inst:a})},[r,e,n]),Ng(function(){return Ji(a)&&s({inst:a}),r(function(){Ji(a)&&s({inst:a})})},[r]),xg(e),e}function Ji(r){var n=r.getSnapshot;r=r.value;try{var e=n();return!Sg(r,e)}catch(t){return!0}}function kg(r,n){return n()}var Tg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kg:Dg;kf.useSyncExternalStore=Gr.useSyncExternalStore!==void 0?Gr.useSyncExternalStore:Tg;Df.exports=kf;var Pg=Df.exports;function Tc(r){r.reaction=new Fs("observer".concat(r.name),function(){var n;r.stateVersion=Symbol(),(n=r.onStoreChange)===null||n===void 0||n.call(r)})}function Og(r,n){n===void 0&&(n="observed");var e=M.useRef(null);if(!e.current){var t={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:n,subscribe:function(o){return zo.unregister(t),t.onStoreChange=o,t.reaction||(Tc(t),t.stateVersion=Symbol()),function(){var l;t.onStoreChange=null,(l=t.reaction)===null||l===void 0||l.dispose(),t.reaction=null}},getSnapshot:function(){return t.stateVersion}};e.current=t}var a=e.current;a.reaction||(Tc(a),zo.register(e,a,a)),M.useDebugValue(a.reaction,vg),Pg.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot);var s,i;if(a.reaction.track(function(){try{s=r()}catch(o){i=o}}),i)throw i;return s}var eo,to,Tf=typeof Symbol=="function"&&Symbol.for,Mg=(to=(eo=Object.getOwnPropertyDescriptor(function(){},"name"))===null||eo===void 0?void 0:eo.configurable)!==null&&to!==void 0?to:!1,Pc=Tf?Symbol.for("react.forward_ref"):typeof p.forwardRef=="function"&&p.forwardRef(function(r){return null}).$$typeof,Oc=Tf?Symbol.for("react.memo"):typeof p.memo=="function"&&p.memo(function(r){return null}).$$typeof;function $e(r,n){var e;if(Oc&&r.$$typeof===Oc)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var t=(e=n==null?void 0:n.forwardRef)!==null&&e!==void 0?e:!1,a=r,s=r.displayName||r.name;if(Pc&&r.$$typeof===Pc&&(t=!0,a=r.render,typeof a!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var i=function(o,l){return Og(function(){return a(o,l)},s)};return i.displayName=r.displayName,Mg&&Object.defineProperty(i,"name",{value:r.name,writable:!0,configurable:!0}),r.contextTypes&&(i.contextTypes=r.contextTypes),t&&(i=p.forwardRef(i)),i=p.memo(i),Ag(r,i),i}var Lg={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Ag(r,n){Object.keys(r).forEach(function(e){Lg[e]||Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})}var no;mg(Na.unstable_batchedUpdates);no=zo.finalizeAllImmediately;/*! js-cookie v3.0.5 | MIT */function ts(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)r[t]=e[t]}return r}var Ig={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function qo(r,n){function e(a,s,i){if(!(typeof document>"u")){i=ts({},n,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in i)i[l]&&(o+="; "+l,i[l]!==!0&&(o+="="+i[l].split(";")[0]));return document.cookie=a+"="+r.write(s,a)+o}}function t(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var s=document.cookie?document.cookie.split("; "):[],i={},o=0;o<s.length;o++){var l=s[o].split("="),c=l.slice(1).join("=");try{var d=decodeURIComponent(l[0]);if(i[d]=r.read(c,d),a===d)break}catch(f){}}return a?i[a]:i}}return Object.create({set:e,get:t,remove:function(a,s){e(a,"",ts({},s,{expires:-1}))},withAttributes:function(a){return qo(this.converter,ts({},this.attributes,a))},withConverter:function(a){return qo(ts({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(r)}})}var Ve=qo(Ig,{path:"/"});const Mc=([r,n])=>typeof n=="string"?"".concat(r,"-").concat(n):r,H=(r,n)=>{const e=p.useMemo(()=>r.trim(),[r]),t=p.useMemo(()=>(n||"").trim(),[n]),a=p.useCallback(i=>{if(!i)return"".concat(e," ").concat(t).trim();const o=Object.entries(i).filter(([l])=>i[l]).map(l=>"".concat(e,"--").concat(Mc(l)));return[e,...o,t].join(" ").trim()},[e,t]),s=p.useCallback((i,o,l)=>{const c="".concat(e,"__").concat(i.trim());if(!o)return"".concat(c," ").concat(l||"").trim();const d=Object.entries(o).filter(([h])=>o[h]).map(h=>"".concat(c,"--").concat(Mc(h))),f=[c,...d];return l&&f.push(l),f.join(" ")},[e]);return[a,s]};function Rg(r,n){if(r==null)return{};var e={},t=Object.keys(r),a,s;for(s=0;s<t.length;s++)a=t[s],!(n.indexOf(a)>=0)&&(e[a]=r[a]);return e}function Hs(){return Hs=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},Hs.apply(this,arguments)}function Ko(r,n){return Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Ko(r,n)}function $g(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,Ko(r,n)}function ro(r,n,e){if(e||arguments.length===2)for(var t=0,a=n.length,s;t<a;t++)(s||!(t in n))&&(s||(s=Array.prototype.slice.call(n,0,t)),s[t]=n[t]);return r.concat(s||Array.prototype.slice.call(n))}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Lc=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,Fg=/\\([\u000b\u0020-\u00ff])/g,Gg=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,Bg=Wg;function Wg(r){if(!r)throw new TypeError("argument string is required");var n=typeof r=="object"?Hg(r):r;if(typeof n!="string")throw new TypeError("argument string is required to be a string");var e=n.indexOf(";"),t=e!==-1?n.slice(0,e).trim():n.trim();if(!Gg.test(t))throw new TypeError("invalid media type");var a=new Yg(t.toLowerCase());if(e!==-1){var s,i,o;for(Lc.lastIndex=e;i=Lc.exec(n);){if(i.index!==e)throw new TypeError("invalid parameter format");e+=i[0].length,s=i[1].toLowerCase(),o=i[2],o.charCodeAt(0)===34&&(o=o.slice(1,-1),o.indexOf("\\")!==-1&&(o=o.replace(Fg,"$1"))),a.parameters[s]=o}if(e!==n.length)throw new TypeError("invalid parameter format")}return a}function Hg(r){var n;if(typeof r.getHeader=="function"?n=r.getHeader("content-type"):typeof r.headers=="object"&&(n=r.headers&&r.headers["content-type"]),typeof n!="string")throw new TypeError("content-type header is missing from object");return n}function Yg(r){this.parameters=Object.create(null),this.type=r}var Cr=new Map,Pf=function(n){return n.cloneNode(!0)},Ac=function(){return window.location.protocol==="file:"},Of=function(n,e,t){var a=new XMLHttpRequest;a.onreadystatechange=function(){try{if(!/\.svg/i.test(n)&&a.readyState===2){var s=a.getResponseHeader("Content-Type");if(!s)throw new Error("Content type not found");var i=Bg(s).type;if(!(i==="image/svg+xml"||i==="text/plain"))throw new Error("Invalid content type: ".concat(i))}if(a.readyState===4){if(a.status===404||a.responseXML===null)throw new Error(Ac()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+n);if(a.status===200||Ac()&&a.status===0)t(null,a);else throw new Error("There was a problem injecting the SVG: "+a.status+" "+a.statusText)}}catch(o){if(a.abort(),o instanceof Error)t(o,a);else throw o}},a.open("GET",n),a.withCredentials=e,a.overrideMimeType&&a.overrideMimeType("text/xml"),a.send()},An={},Ic=function(n,e){An[n]=An[n]||[],An[n].push(e)},Vg=function(n){for(var e=function(i,o){setTimeout(function(){if(Array.isArray(An[n])){var l=Cr.get(n),c=An[n][i];l instanceof SVGSVGElement&&c(null,Pf(l)),l instanceof Error&&c(l),i===An[n].length-1&&delete An[n]}},0)},t=0,a=An[n].length;t<a;t++)e(t)},jg=function(n,e,t){if(Cr.has(n)){var a=Cr.get(n);if(a===void 0){Ic(n,t);return}if(a instanceof SVGSVGElement){t(null,Pf(a));return}}Cr.set(n,void 0),Ic(n,t),Of(n,e,function(s,i){var o;s?Cr.set(n,s):((o=i.responseXML)===null||o===void 0?void 0:o.documentElement)instanceof SVGSVGElement&&Cr.set(n,i.responseXML.documentElement),Vg(n)})},Ug=function(n,e,t){Of(n,e,function(a,s){var i;a?t(a):((i=s.responseXML)===null||i===void 0?void 0:i.documentElement)instanceof SVGSVGElement&&t(null,s.responseXML.documentElement)})},zg=0,qg=function(){return++zg},jt=[],Rc={},Kg="http://www.w3.org/2000/svg",ao="http://www.w3.org/1999/xlink",$c=function(n,e,t,a,s,i,o){var l=n.getAttribute("data-src")||n.getAttribute("src");if(!l){o(new Error("Invalid data-src or src attribute"));return}if(jt.indexOf(n)!==-1){jt.splice(jt.indexOf(n),1),n=null;return}jt.push(n),n.setAttribute("src","");var c=a?jg:Ug;c(l,s,function(d,f){if(!f){jt.splice(jt.indexOf(n),1),n=null,o(d);return}var h=n.getAttribute("id");h&&f.setAttribute("id",h);var v=n.getAttribute("title");v&&f.setAttribute("title",v);var m=n.getAttribute("width");m&&f.setAttribute("width",m);var g=n.getAttribute("height");g&&f.setAttribute("height",g);var b=Array.from(new Set(ro(ro(ro([],(f.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(n.getAttribute("class")||"").split(" "),!0))).join(" ").trim();f.setAttribute("class",b);var y=n.getAttribute("style");y&&f.setAttribute("style",y),f.setAttribute("data-src",l);var _=[].filter.call(n.attributes,function(A){return/^data-\w[\w-]*$/.test(A.name)});if(Array.prototype.forEach.call(_,function(A){A.name&&A.value&&f.setAttribute(A.name,A.value)}),t){var E={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},x,C,S,D,N;Object.keys(E).forEach(function(A){x=A,S=E[A],C=f.querySelectorAll(x+"[id]");for(var B=function(ce,Ce){D=C[ce].id,N=D+"-"+qg();var ke;Array.prototype.forEach.call(S,function(ee){ke=f.querySelectorAll("["+ee+'*="'+D+'"]');for(var de=0,Y=ke.length;de<Y;de++){var ue=ke[de].getAttribute(ee);ue&&!ue.match(new RegExp('url\\("?#'+D+'"?\\)'))||ke[de].setAttribute(ee,"url(#"+N+")")}});for(var Re=f.querySelectorAll("[*|href]"),J=[],oe=0,he=Re.length;oe<he;oe++){var Se=Re[oe].getAttributeNS(ao,"href");Se&&Se.toString()==="#"+C[ce].id&&J.push(Re[oe])}for(var Ze=0,q=J.length;Ze<q;Ze++)J[Ze].setAttributeNS(ao,"href","#"+N);C[ce].id=N},K=0,G=C.length;K<G;K++)B(K)})}f.removeAttribute("xmlns:a");for(var k=f.querySelectorAll("script"),T=[],P,L,O=0,$=k.length;O<$;O++)L=k[O].getAttribute("type"),(!L||L==="application/ecmascript"||L==="application/javascript"||L==="text/javascript")&&(P=k[O].innerText||k[O].textContent,P&&T.push(P),f.removeChild(k[O]));if(T.length>0&&(e==="always"||e==="once"&&!Rc[l])){for(var F=0,I=T.length;F<I;F++)new Function(T[F])(window);Rc[l]=!0}var R=f.querySelectorAll("style");if(Array.prototype.forEach.call(R,function(A){A.textContent+=""}),f.setAttribute("xmlns",Kg),f.setAttribute("xmlns:xlink",ao),i(f),!n.parentNode){jt.splice(jt.indexOf(n),1),n=null,o(new Error("Parent node is null"));return}n.parentNode.replaceChild(f,n),jt.splice(jt.indexOf(n),1),n=null,o(null,f)})},Qg=function(n,e){var t=e===void 0?{}:e,a=t.afterAll,s=a===void 0?function(){}:a,i=t.afterEach,o=i===void 0?function(){}:i,l=t.beforeEach,c=l===void 0?function(){}:l,d=t.cacheRequests,f=d===void 0?!0:d,h=t.evalScripts,v=h===void 0?"never":h,m=t.httpRequestWithCredentials,g=m===void 0?!1:m,b=t.renumerateIRIElements,y=b===void 0?!0:b;if(n&&"length"in n)for(var _=0,E=0,x=n.length;E<x;E++)$c(n[E],v,y,f,g,c,function(C,S){o(C,S),n&&"length"in n&&n.length===++_&&s(_)});else n?$c(n,v,y,f,g,c,function(C,S){o(C,S),s(1),n=null}):s(0)},Mf={exports:{}},Xg="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Zg=Xg,Jg=Zg;function Lf(){}function Af(){}Af.resetWarningCache=Lf;var ey=function(){function r(t,a,s,i,o,l){if(l!==Jg){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}r.isRequired=r;function n(){return r}var e={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Af,resetWarningCache:Lf};return e.PropTypes=e,e};Mf.exports=ey();var Ge=Mf.exports,ty=function(n){var e=(n==null?void 0:n.ownerDocument)||document;return e.defaultView||window},ny=function(n,e){for(var t in n)if(!(t in e))return!0;for(var a in e)if(n[a]!==e[a])return!0;return!1},ry=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],ns="http://www.w3.org/2000/svg",Fc="http://www.w3.org/1999/xlink",Cl=function(r){$g(n,r);function n(){for(var t,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return t=r.call.apply(r,[this].concat(s))||this,t.initialState={hasError:!1,isLoading:!0},t.state=t.initialState,t._isMounted=!1,t.reactWrapper=void 0,t.nonReactWrapper=void 0,t.refCallback=function(o){t.reactWrapper=o},t}var e=n.prototype;return e.renderSVG=function(){var a=this;if(this.reactWrapper instanceof ty(this.reactWrapper).Node){var s=this.props,i=s.desc,o=s.evalScripts,l=s.httpRequestWithCredentials,c=s.renumerateIRIElements,d=s.src,f=s.title,h=s.useRequestCache,v=this.props.onError,m=this.props.beforeInjection,g=this.props.afterInjection,b=this.props.wrapper,y,_;b==="svg"?(y=document.createElementNS(ns,b),y.setAttribute("xmlns",ns),y.setAttribute("xmlns:xlink",Fc),_=document.createElementNS(ns,b)):(y=document.createElement(b),_=document.createElement(b)),y.appendChild(_),_.dataset.src=d,this.nonReactWrapper=this.reactWrapper.appendChild(y);var E=function(D){if(a.removeSVG(),!a._isMounted){v(D);return}a.setState(function(){return{hasError:!0,isLoading:!1}},function(){v(D)})},x=function(D,N){if(D){E(D);return}a._isMounted&&a.setState(function(){return{isLoading:!1}},function(){try{g(N)}catch(k){E(k)}})},C=function(D){if(D.setAttribute("role","img"),i){var N=D.querySelector(":scope > desc");N&&D.removeChild(N);var k=document.createElement("desc");k.innerHTML=i,D.prepend(k)}if(f){var T=D.querySelector(":scope > title");T&&D.removeChild(T);var P=document.createElement("title");P.innerHTML=f,D.prepend(P)}try{m(D)}catch(L){E(L)}};Qg(_,{afterEach:x,beforeEach:C,cacheRequests:h,evalScripts:o,httpRequestWithCredentials:l,renumerateIRIElements:c})}},e.removeSVG=function(){var a;(a=this.nonReactWrapper)!=null&&a.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},e.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},e.componentDidUpdate=function(a){var s=this;ny(Hs({},a),this.props)&&this.setState(function(){return s.initialState},function(){s.removeSVG(),s.renderSVG()})},e.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},e.render=function(){var a=this.props;a.afterInjection,a.beforeInjection,a.desc,a.evalScripts;var s=a.fallback;a.httpRequestWithCredentials;var i=a.loading;a.renumerateIRIElements,a.src,a.title,a.useRequestCache;var o=a.wrapper,l=Rg(a,ry),c=o;return p.createElement(c,Hs({},l,{ref:this.refCallback},o==="svg"?{xmlns:ns,xmlnsXlink:Fc}:{}),this.state.isLoading&&i&&p.createElement(i,null),this.state.hasError&&s&&p.createElement(s,null))},n}(p.Component);Cl.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"};Cl.propTypes={afterInjection:Ge.func,beforeInjection:Ge.func,desc:Ge.string,evalScripts:Ge.oneOf(["always","once","never"]),fallback:Ge.oneOfType([Ge.func,Ge.object,Ge.string]),httpRequestWithCredentials:Ge.bool,loading:Ge.oneOfType([Ge.func,Ge.object,Ge.string]),onError:Ge.func,renumerateIRIElements:Ge.bool,src:Ge.string.isRequired,title:Ge.string,useRequestCache:Ge.bool,wrapper:Ge.oneOf(["div","span","svg"])};const te=r=>{const{icon:n,className:e,width:t="auto",height:a="auto"}=r,s=n.split("--"),[i]=H("svg",e);return u(Cl,{wrapper:"span",src:"/svg/".concat(s[0],".svg"),className:i({transform:s[1]}),beforeInjection:o=>{o.setAttribute("style","width: ".concat(t,"; height: ").concat(a))}})};const j=r=>{const{className:n,theme:e,icon:t,onClick:a,type:s,href:i="",children:o,small:l,size:c,typeBtn:d="button",hoverContent:f,hoverIcon:h,active:v,loading:m,refInner:g}=r,[b,y]=H("button",n),[_,E]=p.useState(o),[x,C]=p.useState(t),S=k=>{(f||h)&&(k?(C(h),E(f)):(C(t),E(o)))};p.useEffect(()=>{C(t),E(o)},[o,t]);const D=w(ct,{children:[!m&&x&&u(te,{width:"16px",height:"16px",icon:x,className:y("icon")}),m&&u("span",{className:y("loading")}),m?!x:_]});return(()=>{switch(s){case"Link":return w(xe,{to:i,className:b({theme:e,small:l,size:c,active:v}),children:[D,e==="gradient"&&u("div",{className:y("gradient-shadow")})]});case"button-close":return u("button",{className:b({close:!0}),onClick:a,type:"button",disabled:v,ref:g,"aria-label":"закрыть",children:u(te,{icon:"cross",width:"20px",height:"20px"})});case"button":default:return w("button",{className:b({theme:e,small:l,size:c,active:v}),onClick:a,type:d==="button"?"button":"submit",onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),disabled:v,ref:g,children:[D,e==="gradient"&&u("div",{className:y("gradient-shadow")})]})}})()};let ay=class{constructor(){this.isOpen=!1,this.window="login",this.funcModal=()=>{},this.setIsOpen=n=>{this.isOpen=n},this.setWindow=n=>{this.window=n},this.setFuncModal=n=>{this.funcModal=n},Ma(this)}};const ea=new ay;let sy=class{constructor(){this.isAuth=!!Ve.get("token"),this.name=Ve.get("name")||"",this.avatar=Ve.get("avatar")||"",this.userInfo={avatar:Ve.get("avatar")||"",email:"",name:"",id:0,username:"",firstName:"",lastName:"",country:"",coverImage:"",aboutMe:"",totalAddedGoals:0,totalCompletedGoals:0,totalCompletedLists:0,totalAddedLists:0,totalAchievements:0},this.userSelf={avatar:Ve.get("avatar")||"",email:"",name:"",id:+(Ve.get("id")||0),username:"",firstName:"",lastName:"",country:"",coverImage:"",aboutMe:"",totalAddedGoals:0,totalCompletedGoals:0,totalCompletedLists:0,totalAddedLists:0,totalAchievements:0},this.addedGoals={goals:[],totalAdded:0},this.addedLists={lists:[],totalAdded:0},this.mainGoals={easyGoals:{data:[],countCompleted:0},mediumGoals:{data:[],countCompleted:0},hardGoals:{data:[],countCompleted:0}},this.setIsAuth=n=>{this.isAuth=n},this.setName=n=>{this.name=n},this.setUserInfo=n=>{this.userInfo=n},this.setUserSelf=n=>{this.userSelf=n},this.setAddedGoals=n=>{this.addedGoals=n},this.setAddedLists=n=>{this.addedLists=n},this.setMainGoals=n=>{this.mainGoals=n},this.setAvatar=n=>{this.avatar=n},Ma(this)}};const Wt=new sy;let iy=class{constructor(){this.queue=[],this.visibleNotifications=[],Ma(this)}addNotification(n){const e=Math.random().toString(36).substr(2,9);this.queue.push({id:e,...n}),this.showNextNotification()}showNextNotification(){for(;this.visibleNotifications.length<3&&this.queue.length>0;){const n=this.queue.shift();n&&(this.visibleNotifications.push(n),setTimeout(()=>this.removeNotification(n.id),7e3))}}removeNotification(n){this.visibleNotifications=this.visibleNotifications.filter(e=>e.id!==n),this.showNextNotification()}};const re=new iy,If=(r={})=>{const n={};return r!=null&&r.auth&&Ve.get("token")&&(n.Authorization="Token ".concat(Ve.get("token"))),r!=null&&r.file||(n["Content-Type"]="application/json"),n},xl=async(r,n,e={})=>{const{showErrorNotification:t=!0,showSuccessNotification:a=!0}=e,s=If(e);try{const i=await fetch("/api/".concat(r,"/"),{method:n,headers:s,body:e.body?e.file?e.body:JSON.stringify(e.body):void 0}),o=await i.json();return i.ok?(a&&(e!=null&&e.success?re.addNotification(e.success):re.addNotification({type:"success",title:"Успешно"})),{success:!0,data:o}):(t&&(e!=null&&e.error?re.addNotification(e.error):re.addNotification({type:"error",title:"Ошибка",message:o.error||"Что-то пошло не так"})),{success:!1,errors:o.error})}catch(i){return re.addNotification({type:"error",title:"Ошибка сервера",message:"Что-то пошло не так"}),Promise.reject(i)}},gt=(r,n)=>xl(r,"POST",n),gi=(r,n)=>xl(r,"DELETE",n),ge=async(r,n)=>{const e=If(n);let t="";if(n!=null&&n.get){const a=Object.entries(n.get).filter(([i,o])=>o!=null).reduce((i,[o,l])=>({...i,[o]:String(l)}),{});t=new URLSearchParams(a).toString()}try{const a=await fetch("/api/".concat(r).concat(t?"?".concat(t):""),{headers:e}),s=await a.json();return a.ok?{success:!0,data:s}:{success:!1,errors:s.error}}catch(a){return Promise.reject(a)}},ta=(r,n)=>xl(r,"PUT",n),Dl=async r=>{const n=await ge("user".concat(r?"/".concat(r):""),{auth:!0});n.success&&(r?Wt.setUserInfo(n.data):Wt.setUserSelf(n.data))};let oy=class{constructor(){this.header="transparent",this.page="isMainPage",this.full=!0,this.setHeader=n=>{this.header=n},this.setPage=n=>{this.page=n},this.setFull=n=>{this.full=n},Ma(this)}};const Me=new oy;const na=r=>{const{className:n,avatar:e,size:t="small",noBorder:a=!1}=r,[s,i]=H("avatar",n),o=()=>{switch(t){case"medium":return"24px";case"medium-56":return"32px";case"large-96":return"48px";case"large":return"96px";default:return"16px"}};return u("div",{className:s({size:t,noBorder:a}),children:e&&e!=="undefined"?u("img",{className:i("image"),src:e||"",alt:"Аватар"}):u(te,{icon:"avatar",className:i("icon"),width:o(),height:o()})})};const nt=r=>{const{className:n,vertical:e,margin:t,height:a=0}=r,[s]=H("line",n);return e?u("div",{style:{display:"flex",alignItems:"center"},children:u("div",{className:s({vertical:e}),style:{margin:t,height:"calc(100% + ".concat(a,"px)")}})}):u("hr",{className:s(),style:{margin:t}})};const ly=$e(r=>{const{className:n}=r,{header:e,page:t}=Me,{setIsOpen:a,setWindow:s}=ea,{isAuth:i,name:o,avatar:l,setAvatar:c,setIsAuth:d,setName:f,userSelf:h}=Wt,[v,m]=H("header",n),g=ln();p.useEffect(()=>{(async()=>i&&await Dl())()},[]);const b=()=>{a(!0),s("login")},y=()=>{a(!0),s("registration")},_=()=>{Ve.remove("token"),Ve.remove("avatar"),Ve.remove("name"),Ve.remove("user-id"),c(""),d(!1),f(""),g("/")};return u("header",{className:v({theme:e}),children:w("div",{className:m("wrapper"),children:[u(xe,{className:m("logo"),to:"/","aria-label":"Главная",children:u(te,{icon:"delting"})}),u("nav",{className:m("nav"),children:w("ul",{className:m("list"),children:[u("li",{className:m("item"),children:u(xe,{className:m("item-link",{active:t==="isUserSelf"}),to:"/user/self",children:"Моя доска"})}),u("li",{className:m("item"),children:u(xe,{className:m("item-link",{active:t==="isMainGoals"}),to:"/list/100-goals",children:"100 целей"})}),u("li",{className:m("item"),children:u(xe,{className:m("item-link",{active:t==="isCategories"}),to:"/categories",children:"Категории"})}),u("li",{className:m("item"),children:u(xe,{className:m("item-link",{active:t==="isCategoriesAll"}),to:"/categories/all",children:"Цели и списки"})}),u("li",{className:m("item"),children:u(xe,{className:m("item-link",{active:t==="isNews"}),to:"/news",children:"Новости"})}),u("li",{className:m("item"),children:u(xe,{className:m("item-link",{active:t==="isLeaders"}),to:"/leaders",children:"Лидеры"})})]})}),i?w("div",{className:m("profile-wrapper"),children:[w("div",{className:m("profile"),children:[u(na,{avatar:l,size:"small",noBorder:!0}),u("span",{className:m("nickname"),children:o})]}),w("div",{className:m("profile-menu"),children:[u(xe,{className:m("menu-item"),to:"/user/".concat(h==null?void 0:h.id,"/showcase/"),children:"Мой профиль"}),u(xe,{className:m("menu-item"),to:"/user/self",children:"Дашборд"}),u(xe,{className:m("menu-item"),to:"/user/self/achievements",children:"Достижения"}),u(xe,{className:m("menu-item"),to:"/user/self/active-goals",children:"Активные цели и списки"}),u(xe,{className:m("menu-item"),to:"/user/self/done-goals",children:"Выполненные"}),u(xe,{className:m("menu-item"),to:"/user/self/settings",children:"Настройки"}),u(nt,{margin:"8px 0"}),u("button",{type:"button",className:m("menu-item"),onClick:_,children:"Выход"})]})]}):w("div",{className:m("profile"),children:[u(j,{className:m("sign-in"),theme:"blue-light",size:"small",onClick:b,children:"Войти"}),u(j,{className:m("registration"),theme:"blue",size:"small",icon:"rocket",onClick:y,children:"Регистрация"})]})]})})});const Ae=r=>{const{className:n,type:e="text",placeholder:t,id:a,text:s,value:i,setValue:o,setValueTarget:l,iconBegin:c,autoComplete:d="off",error:f,required:h,onFocus:v,onBlur:m,onKeyDown:g}=r,[b,y]=H("field-input",n),[_,E]=p.useState(e),x=()=>{E(_==="password"?"text":"password")},C=S=>{l?l(S):o&&o(S.target.value)};return w("div",{className:b({error:!!f}),children:[s&&u("label",{className:y("label"),htmlFor:a,children:s}),w("div",{className:y("wrapper"),children:[c&&u(te,{icon:c,className:y("icon-begin")}),_==="textarea"?u("textarea",{className:y("input",{iconBegin:!!c}),id:a,placeholder:t,value:i,onChange:C,onFocus:v,onBlur:m,onKeyDown:g}):u("input",{className:y("input",{iconBegin:!!c}),id:a,type:_,placeholder:t,value:i,onChange:C,autoComplete:d,required:h,onFocus:v,onBlur:m,onKeyDown:g}),e==="password"&&u("button",{type:"button",className:y("show-password"),onClick:x,"aria-label":"Показать пароль",children:_==="password"?u(te,{icon:"eye"}):u(te,{icon:"eye-closed"})})]}),f==null?void 0:f.map(S=>u("p",{className:y("error"),children:S}))]})},cy=async(r,n,e)=>await gt("login",{body:{email:r,password:n,remember_me:e},showErrorNotification:!1});const Rf=r=>{const{className:n,id:e,text:t,checked:a,setChecked:s}=r,[i,o]=H("field-checkbox"),l=c=>{(c.key===" "||c.key==="Enter")&&(c.preventDefault(),s(!a))};return w("div",{className:i(),children:[u("input",{className:o("input"),id:e,type:"checkbox",value:e,onChange:()=>s(!a),checked:a}),w("label",{className:"".concat(o("label")," ").concat(n),htmlFor:e,children:[u("span",{className:o("checkbox"),role:"button",tabIndex:0,onKeyDown:l,"aria-label":t,children:u(te,{icon:"done",className:o("icon")})}),t]})]})};const le=r=>{const{className:n,tag:e="h4",theme:t,children:a}=r,[s]=H("title",n);return(()=>{switch(e){case"h1":return u("h1",{className:s({tag:e,theme:t}),children:a});case"h2":return u("h2",{className:s({tag:e,theme:t}),children:a});case"h3":return u("h3",{className:s({tag:e,theme:t}),children:a});case"h4":default:return u("h4",{className:s({tag:e,theme:t}),children:a})}})()},$f=r=>{const{className:n,openRegistration:e,successLogin:t,isPage:a}=r,[s,i]=H("login",n),[o,l]=p.useState(""),[c,d]=p.useState(""),[f,h]=p.useState(""),[v,m]=p.useState(!1),g=async b=>{h(""),b.preventDefault();const y=await cy(o,c,v);y.success?t(y.data):h("Неправильные данные")};return w("form",{className:s({page:a}),onSubmit:b=>g(b),children:[u(te,{icon:"icon-logo",className:i("logo")}),u(le,{tag:"h3",className:i("title"),children:"Вход в лучшую жизнь"}),w("div",{className:i("form"),children:[u(Ae,{placeholder:"E-mail",id:"email",text:"E-mail",value:o,setValue:l,className:i("field"),required:!0}),u(Ae,{placeholder:"Пароль для входа",id:"password",text:"Пароль",value:c,setValue:d,className:i("field"),type:"password",required:!0}),f&&u("p",{className:i("error"),children:f}),u("div",{className:i("move"),children:u(Rf,{id:"remember",text:"Запомнить меня",checked:v,setChecked:m})}),u(j,{typeBtn:"submit",icon:"sign-in",theme:"blue",className:i("btn"),onClick:g,children:"Войти"}),w("p",{className:i("registration"),children:["У вас нет аккаунта?"," ",u(j,{theme:"no-border",className:i("btn-registration"),onClick:e,children:"Регистрация"})]})]})]})},uy=async(r,n)=>await gt("register",{body:{email:r,password:n},showErrorNotification:!1});const Ff=r=>{const{className:n,openLogin:e,successRegistration:t,isPage:a}=r,[s,i]=H("registration",n),[o,l]=p.useState(""),[c,d]=p.useState(""),[f,h]=p.useState(""),[v,m]=p.useState({}),g=async b=>{if(m({}),b.preventDefault(),c!==f){m({password:["Пароли не совпадают"]});return}const y=await uy(o,c);y.success?t(y):m(y.errors)};return w("form",{className:s({page:a}),onSubmit:g,children:[u(te,{icon:"icon-logo",className:i("logo")}),u(le,{tag:"h3",className:i("title"),children:"Вступить в лучшую жизнь"}),w("div",{className:i("form"),children:[u(Ae,{placeholder:"E-mail",type:"email",id:"password",text:"E-mail",value:o,setValue:l,className:i("field"),autoComplete:"email",error:v==null?void 0:v.email,required:!0}),u(Ae,{placeholder:"Пароль для входа",id:"new-password",text:"Пароль",value:c,setValue:d,className:i("field"),type:"password",autoComplete:"new-password",required:!0,error:v.password}),u(Ae,{placeholder:"Повтор ввода пароля",id:"repeatPassword",text:"Повторите пароль",value:f,setValue:h,className:i("field"),type:"password",autoComplete:"new-password",required:!0}),u(j,{icon:"rocket",theme:"blue",className:i("btn"),typeBtn:"submit",children:"Зарегистрироваться"}),w("p",{className:i("sign-in"),children:["У вас уже есть аккаунт?",u(j,{theme:"no-border",className:i("btn-sign-in"),onClick:e,children:"Вход"})]})]})]})};var Gf={},dy=In&&In.__extends||function(){var r=function(n,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)a.hasOwnProperty(s)&&(t[s]=a[s])},r(n,e)};return function(n,e){r(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bf=In&&In.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gf,"__esModule",{value:!0});var xt=Bf(Ge),so=Bf(p),fy=function(r){dy(n,r);function n(e){var t=r.call(this,e)||this;return t.resetDragging=function(){t.frameDragCounter=0,t.setState({draggingOverFrame:!1,draggingOverTarget:!1})},t.handleWindowDragOverOrDrop=function(a){a.preventDefault()},t.handleFrameDrag=function(a){if(n.eventHasFiles(a)){if(t.frameDragCounter+=a.type==="dragenter"?1:-1,t.frameDragCounter===1){t.setState({draggingOverFrame:!0}),t.props.onFrameDragEnter&&t.props.onFrameDragEnter(a);return}if(t.frameDragCounter===0){t.setState({draggingOverFrame:!1}),t.props.onFrameDragLeave&&t.props.onFrameDragLeave(a);return}}},t.handleFrameDrop=function(a){t.state.draggingOverTarget||(t.resetDragging(),t.props.onFrameDrop&&t.props.onFrameDrop(a))},t.handleDragOver=function(a){n.eventHasFiles(a)&&(t.setState({draggingOverTarget:!0}),!n.isIE()&&t.props.dropEffect&&(a.dataTransfer.dropEffect=t.props.dropEffect),t.props.onDragOver&&t.props.onDragOver(a))},t.handleDragLeave=function(a){t.setState({draggingOverTarget:!1}),t.props.onDragLeave&&t.props.onDragLeave(a)},t.handleDrop=function(a){if(t.props.onDrop&&n.eventHasFiles(a)){var s=a.dataTransfer?a.dataTransfer.files:null;t.props.onDrop(s,a)}t.resetDragging()},t.handleTargetClick=function(a){t.props.onTargetClick&&t.props.onTargetClick(a),t.resetDragging()},t.stopFrameListeners=function(a){a&&(a.removeEventListener("dragenter",t.handleFrameDrag),a.removeEventListener("dragleave",t.handleFrameDrag),a.removeEventListener("drop",t.handleFrameDrop))},t.startFrameListeners=function(a){a&&(a.addEventListener("dragenter",t.handleFrameDrag),a.addEventListener("dragleave",t.handleFrameDrag),a.addEventListener("drop",t.handleFrameDrop))},t.frameDragCounter=0,t.state={draggingOverFrame:!1,draggingOverTarget:!1},t}return n.prototype.componentDidMount=function(){this.startFrameListeners(this.props.frame),this.resetDragging(),window.addEventListener("dragover",this.handleWindowDragOverOrDrop),window.addEventListener("drop",this.handleWindowDragOverOrDrop)},n.prototype.componentDidUpdate=function(e){e.frame!==this.props.frame&&(this.resetDragging(),this.stopFrameListeners(e.frame),this.startFrameListeners(this.props.frame))},n.prototype.componentWillUnmount=function(){this.stopFrameListeners(this.props.frame),window.removeEventListener("dragover",this.handleWindowDragOverOrDrop),window.removeEventListener("drop",this.handleWindowDragOverOrDrop)},n.prototype.render=function(){var e=this.props,t=e.children,a=e.className,s=e.targetClassName,i=e.draggingOverFrameClassName,o=e.draggingOverTargetClassName,l=this.state,c=l.draggingOverTarget,d=l.draggingOverFrame,f=s;return d&&(f+=" "+i),c&&(f+=" "+o),so.default.createElement("div",{className:a,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},so.default.createElement("div",{className:f,onClick:this.handleTargetClick},t))},n.isIE=function(){return typeof window<"u"&&(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>0)},n.eventHasFiles=function(e){var t=!1;if(e.dataTransfer){var a=e.dataTransfer.types;for(var s in a)if(a[s]==="Files"){t=!0;break}}return t},n.propTypes={className:xt.default.string,targetClassName:xt.default.string,draggingOverFrameClassName:xt.default.string,draggingOverTargetClassName:xt.default.string,onDragOver:xt.default.func,onDragLeave:xt.default.func,onDrop:xt.default.func,onTargetClick:xt.default.func,dropEffect:xt.default.oneOf(["copy","move","link","none"]),frame:function(e,t,a){var s=e[t];if(s==null)return new Error("Warning: Required prop `"+t+"` was not specified in `"+a+"`");if(s!==document&&!(s instanceof HTMLElement))return new Error("Warning: Prop `"+t+"` must be one of the following: document, HTMLElement!")},onFrameDragEnter:xt.default.func,onFrameDragLeave:xt.default.func,onFrameDrop:xt.default.func},n.defaultProps={dropEffect:"copy",frame:typeof window>"u"?void 0:window.document,className:"file-drop",targetClassName:"file-drop-target",draggingOverFrameClassName:"file-drop-dragging-over-frame",draggingOverTargetClassName:"file-drop-dragging-over-target"},n}(so.default.PureComponent),lr=Gf.FileDrop=fy;const Ys={itemsPerPage:0,page:0,totalPages:0,totalItems:0},py={experienceEarned:0,goalsCompleted:0,reviewsAdded:0};class hy{constructor(){this.comments=[],this.lists=[],this.infoPaginationLists=Ys,this.infoPaginationComments=Ys,this.id=0,this.setComments=n=>{this.comments=n},this.setLists=n=>{this.lists=n},this.setInfoPaginationLists=n=>{this.infoPaginationLists=n},this.setInfoPaginationComments=n=>{this.infoPaginationComments=n},this.setId=n=>{this.id=n},Ma(this)}}const yi=new hy,my=async r=>await gt("comments/add",{body:r,auth:!0,file:!0}),bi={hard:"Тяжело",medium:"Средне",easy:"Легко"},Wf={hard:"Тяжелая категория",medium:"Средняя категория",easy:"Легкая категория"},ot=[{name:"Легко",value:"easy"},{name:"Средне",value:"medium"},{name:"Тяжело",value:"hard"}];const dt=({options:r,activeOption:n,onSelect:e,text:t,className:a,filter:s,placeholder:i="Сделайте выбор",disabled:o=!1})=>{var S,D;const[l,c]=p.useState(!1),[d,f]=p.useState(null),h=p.useRef(null),v=p.useRef([]),[m,g]=H("select",a),b=()=>{o||(c(!l),!l&&typeof n=="number"&&f(n))},y=N=>{h.current&&!h.current.contains(N.target)&&c(!1)},_=N=>{o||(e(N),c(!1))},E=N=>{if(!o){if(!l&&(N.key==="Enter"||N.key===" "||N.key==="ArrowDown")){N.preventDefault(),c(!0),f(n!==null?n:0);return}if(l)switch(N.key){case"Escape":N.preventDefault(),c(!1);break;case"ArrowDown":N.preventDefault(),f(k=>{var P;const T=k===null?0:(k+1)%r.length;return(P=v.current[T])==null||P.scrollIntoView({block:"nearest"}),T});break;case"ArrowUp":N.preventDefault(),f(k=>{var P;const T=k===null||k===0?r.length-1:k-1;return(P=v.current[T])==null||P.scrollIntoView({block:"nearest"}),T});break;case"Enter":case" ":N.preventDefault(),d!==null&&_(d);break}}},x=N=>{o||(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),b())},C=(N,k)=>{o||(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),_(k))};return p.useEffect(()=>(document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}),[]),p.useEffect(()=>{v.current=v.current.slice(0,r.length)},[r.length]),w("div",{className:m({filter:s,disabled:o}),ref:h,onKeyDown:E,role:"combobox","aria-haspopup":"listbox","aria-expanded":l,"aria-controls":l?"select-options-list":void 0,"aria-label":t||"Выпадающий список",tabIndex:o?-1:0,"aria-disabled":o,children:[t&&u("p",{className:g("text"),children:t}),w("button",{type:"button",className:g("option",{isOpen:l,placeholder:typeof n!="number",disabled:o}),onClick:b,onKeyDown:x,"aria-label":typeof n=="number"?"Выбрано: ".concat((S=r[n])==null?void 0:S.name):i,disabled:o,children:[u(te,{icon:s?"sort":"arrow--right"}),u("span",{className:g("option-text"),children:typeof n=="number"?(D=r[n])==null?void 0:D.name:i})]}),l&&!o&&u("ul",{id:"select-options-list",className:g("list"),role:"listbox","aria-label":"Доступные опции",children:r.map((N,k)=>u("li",{ref:T=>{v.current[k]=T},className:g("item",{active:n===k,highlighted:d===k}),onClick:()=>_(k),onKeyDown:T=>C(T,k),role:"option","aria-selected":n===k,tabIndex:0,children:N.name},N.value))})]})};const vy=r=>{const{className:n,closeModal:e}=r,[t,a]=H("add-review",n),[s,i]=p.useState(null),[o,l]=p.useState(""),[c,d]=p.useState([]),{setComments:f,comments:h,id:v}=yi,m=p.useRef(null),g=p.useCallback(x=>{const C=Array.from(x);if(C.length+c.length>10){re.addNotification({type:"error",title:"Слишком много фотографий",message:"Можно загрузить не более 10 фотографий."});return}d(S=>[...S,...C])},[c]),b=async x=>{if(x.preventDefault(),typeof s!="number")return;const C=new FormData;C.append("complexity",ot[s].value),C.append("text",o),C.append("goal_id",v.toString()),c.forEach(D=>{C.append("photo",D)});const S=await my(C);S.success&&(e(),f([S.data,...h]))},y=x=>{d([...c.slice(0,x),...c.slice(x+1)])},_=()=>{m.current&&m.current.click()},E=x=>{x.target.files&&g(x.target.files)};return w("form",{className:t(),onSubmit:b,children:[u(le,{tag:"h2",className:a("title"),children:"Написать отзыв к цели"}),u(dt,{className:a("field"),placeholder:"Насколько вам было тяжело выполнить цель?",options:ot,activeOption:s,onSelect:i,text:"Сложность"}),u(Ae,{placeholder:"Опишите свои впечатления о выполнении",id:"new-comment",text:"Комментарий",value:o,setValue:l,className:a("field"),type:"textarea"}),u("p",{className:a("field-title"),children:"Фотографии"}),w("div",{className:a("dropzone"),children:[u(lr,{onDrop:x=>x&&g(x),children:w("div",{className:a("photos"),onClick:_,role:"button",tabIndex:0,"aria-label":"Добавить фотографии",onKeyPress:x=>{(x.key==="Enter"||x.key===" ")&&_()},children:[u("input",{type:"file",multiple:!0,ref:m,style:{display:"none"},onChange:E,accept:"image/*"}),u("div",{className:a("btn-add"),children:u(te,{icon:"plus"})})]})}),c.map((x,C)=>w("div",{className:a("photo-wrapper"),children:[u("img",{className:a("photo"),src:URL.createObjectURL(x),alt:"Фотография ".concat(C+1)}),u("button",{className:a("delete-photo"),type:"button",onClick:()=>y(C),"aria-label":"Удалить фотографию",children:u(te,{icon:"cross"})})]},"".concat(x.name,"-").concat(C)))]}),w("div",{className:a("btns-wrapper"),children:[u(j,{theme:"blue-light",className:a("btn"),onClick:e,children:"Отмена"}),u(j,{theme:"blue",className:a("btn"),typeBtn:"submit",children:"Опубликовать (+10 опыта)"})]})]})},gy=async r=>await ta("users/change-password",{body:r,auth:!0});const yy=r=>{const{className:n,closeModal:e}=r,[t,a]=H("change-password",n),[s,i]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),f=async h=>{if(h.preventDefault(),o!==c)return;(await gy({oldPassword:s,newPassword:o})).success&&e()};return w("form",{className:t(),onSubmit:f,children:[u(le,{tag:"h2",className:a("title"),children:"Изменить пароль"}),u(Ae,{placeholder:"Введите ваш пароль",id:"password",text:"Текущий пароль",value:s,setValue:i,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"current-password"}),u(Ae,{placeholder:"Введите ваш новый пароль",id:"new-password",text:"Новый пароль",value:o,setValue:l,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"new-password"}),u(Ae,{placeholder:"Повтор ввода нового пароля",id:"repeat-new-password",text:"Повторите новый пароль",value:c,setValue:d,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"new-password"}),w("div",{className:a("btns-wrapper"),children:[u(j,{theme:"blue-light",className:a("btn"),onClick:e,children:"Отмена"}),u(j,{theme:"blue",className:a("btn"),typeBtn:"submit",children:"Изменить пароль"})]})]})};const by=r=>{const{className:n,closeModal:e,funcModal:t}=r,[a,s]=H("confirm-execution-all-goal",n),i=async()=>{try{t()&&e()}catch(o){re.addNotification({type:"error",title:"Упс",message:"Что-то пошло не так"})}};return w("section",{className:a(),children:[u(le,{tag:"h2",className:s("title"),children:"Выполнение всех целей списка"}),u("p",{className:s("text"),children:"Вы действительно хотите отметить все цели выполненными? Отменить это действие можно только вручную по каждой цели."}),w("div",{className:s("btns-wrapper"),children:[u(j,{theme:"blue-light",className:s("btn"),onClick:e,children:"Отмена"}),u(j,{theme:"blue",className:s("btn"),onClick:i,children:"Выполнить"})]})]})};const Gc=r=>{const{className:n,closeModal:e,funcModal:t}=r,[a,s]=H("delete-goal",n),i=async()=>{t()&&e()};return w("section",{className:a(),children:[u(le,{tag:"h2",className:s("title"),children:"Удаление цели"}),u("p",{className:s("text"),children:"Вы действительно хотите удалить цель? Написанный отзыв будет будет удалён вместе с целью."}),w("div",{className:s("btns-wrapper"),children:[u(j,{theme:"blue-light",className:s("btn"),onClick:e,children:"Отмена"}),u(j,{theme:"red",className:s("btn"),onClick:i,children:"Удалить"})]})]})};const wy=$e(r=>{const{className:n}=r,[e,t]=H("modal",n),{isOpen:a,setIsOpen:s,window:i,setWindow:o,funcModal:l}=ea,{setIsAuth:c,setName:d,setAvatar:f}=Wt,h=p.useRef(null),v=p.useRef(null),m=()=>{s(!1)},g=()=>{o("registration")},b=()=>{o("login")},y=x=>{Ve.set("name",x.name||""),m(),d(x.name||""),c(!0),f(Ve.get("avatar")||"")},_=x=>{x.key==="Escape"&&m()},E=x=>{if(x.key!=="Tab"||!h.current)return;const C=h.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(C.length===0)return;const S=C[0],D=C[C.length-1];x.shiftKey&&document.activeElement===S?(x.preventDefault(),D.focus()):!x.shiftKey&&document.activeElement===D&&(x.preventDefault(),S.focus())};return p.useEffect(()=>(a?(document.addEventListener("keyup",_),document.addEventListener("keydown",E),setTimeout(()=>{if(h.current){const x=h.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');x.length>0?x[0].focus():v.current&&v.current.focus()}},50)):(document.removeEventListener("keyup",_),document.removeEventListener("keydown",E)),()=>{document.removeEventListener("keyup",_),document.removeEventListener("keydown",E)}),[a,s]),a?w("section",{className:e({isOpen:a}),children:[w("div",{className:t("window",{type:i}),ref:h,children:[i==="login"&&u($f,{openRegistration:g,successLogin:y}),i==="registration"&&u(Ff,{openLogin:b,successRegistration:y}),i==="change-password"&&u(yy,{closeModal:m}),i==="add-review"&&u(vy,{closeModal:m}),i==="delete-goal"&&u(Gc,{closeModal:m,funcModal:l}),i==="delete-list"&&u(Gc,{closeModal:m,funcModal:l}),i==="confirm-execution-all-goal"&&u(by,{closeModal:m,funcModal:l}),u(j,{theme:"blue-light",className:t("close"),onClick:m,refInner:v,children:u(te,{icon:"cross"})})]}),u("button",{"aria-label":"Закрыть окно",type:"button",className:t("base"),onClick:m})]}):null});const _y=$e(({id:r,type:n,title:e,message:t,actionText:a,action:s})=>{const[i,o]=H("notification");return w(wd.div,{className:i({type:n}),initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.9},transition:{duration:.3},children:[u(te,{icon:"info",className:o("info",{type:n})}),w("div",{className:o("content"),children:[u("h3",{className:o("title"),children:e}),typeof t=="string"&&u("p",{children:t}),a&&u(j,{className:o("btn"),onClick:s,theme:"no-border",children:a})]}),u(j,{type:"button-close",onClick:()=>re.removeNotification(r)})]})});const Sy=$e(()=>{const[r]=H("notification-container");return u("div",{className:r(),children:u(rm,{children:re.visibleNotifications.map(n=>u(_y,{...n},n.id))})})}),Ey=async(r=1,n=10)=>{const e=await ge("news",{get:{page:r,page_size:n},showSuccessNotification:!1});if(!e.success)throw new Error(e.errors||"Ошибка загрузки новостей");return e.data},Ny=async r=>{const n=await ge("news/".concat(r),{showSuccessNotification:!1});if(!n.success)throw new Error(n.errors||"Ошибка загрузки новости");return n.data},Cy=async(r,n=1,e=10)=>{const t=await ge("news",{get:{search:r,page:n,page_size:e},showSuccessNotification:!1});if(!t.success)throw new Error(t.errors||"Ошибка поиска новостей");return t.data},xy=async(r,n=1,e=50)=>{const t=await ge("news/".concat(r,"/comments"),{get:{page:n,page_size:e},showSuccessNotification:!1});if(!t.success)throw new Error(t.errors||"Ошибка загрузки комментариев");return t.data},Dy=async(r,n)=>{const e=await gt("news/".concat(r,"/comments"),{body:n,auth:!0,success:{type:"success",title:"Комментарий добавлен",message:"Ваш комментарий успешно опубликован"}});if(!e.success)throw new Error(e.errors||"Ошибка добавления комментария");return e.data},ky=async(r,n,e)=>{const t=await ta("news/".concat(r,"/comments/").concat(n),{body:{content:e},auth:!0,success:{type:"success",title:"Комментарий обновлен",message:"Изменения сохранены"}});if(!t.success)throw new Error(t.errors||"Ошибка обновления комментария");return t.data},Ty=async(r,n)=>{const e=await gi("news/".concat(r,"/comments/").concat(n),{auth:!0,success:{type:"success",title:"Комментарий удален",message:"Комментарий успешно удален"}});if(!e.success)throw new Error(e.errors||"Ошибка удаления комментария")},Py=async(r,n,e=1,t=20)=>{const a=await ge("news/".concat(r,"/comments/").concat(n,"/replies"),{get:{page:e,page_size:t},showSuccessNotification:!1});if(!a.success)throw new Error(a.errors||"Ошибка загрузки ответов");return a.data};class Oy{constructor(){this.news=[],this.currentNews=null,this.totalNews=0,this.currentPage=1,this.hasMoreNews=!0,this.comments=[],this.totalComments=0,this.commentsPage=1,this.hasMoreComments=!0,this.loading=!1,this.commentsLoading=!1,this.searchQuery="",this.searchResults=[],this.searchLoading=!1,this.error=null,this.commentsError=null,this.setLoading=n=>{this.loading=n},this.setCommentsLoading=n=>{this.commentsLoading=n},this.setError=n=>{this.error=n},this.setCommentsError=n=>{this.commentsError=n},this.setSearchQuery=n=>{this.searchQuery=n},this.clearSearch=()=>{this.searchQuery="",this.searchResults=[]},this.loadNews=async(n=1,e=10)=>{this.setLoading(!0),this.setError(null);try{const t=await Ey(n,e);Je(()=>{n===1?this.news=t.results:this.news=[...this.news,...t.results],this.totalNews=t.count,this.currentPage=n,this.hasMoreNews=!!t.next})}catch(t){Je(()=>{this.setError(t instanceof Error?t.message:"Ошибка загрузки новостей")})}finally{Je(()=>{this.setLoading(!1)})}},this.loadMoreNews=async()=>{!this.hasMoreNews||this.loading||await this.loadNews(this.currentPage+1)},this.loadNewsDetail=async n=>{this.setLoading(!0),this.setError(null);try{const e=await Ny(n);Je(()=>{this.currentNews=e})}catch(e){Je(()=>{this.setError(e instanceof Error?e.message:"Ошибка загрузки новости")})}finally{Je(()=>{this.setLoading(!1)})}},this.searchNewsAction=async(n,e=1)=>{this.searchLoading=!0,this.setError(null);try{const t=await Cy(n,e);Je(()=>{e===1?this.searchResults=t.results:this.searchResults=[...this.searchResults,...t.results]})}catch(t){Je(()=>{this.setError(t instanceof Error?t.message:"Ошибка поиска")})}finally{Je(()=>{this.searchLoading=!1})}},this.loadComments=async(n,e=1,t=50)=>{this.setCommentsLoading(!0),this.setCommentsError(null);try{const a=await xy(n,e,t);Je(()=>{e===1?this.comments=a.results:this.comments=[...this.comments,...a.results],this.totalComments=a.count,this.commentsPage=e,this.hasMoreComments=!!a.next})}catch(a){Je(()=>{this.setCommentsError(a instanceof Error?a.message:"Ошибка загрузки комментариев")})}finally{Je(()=>{this.setCommentsLoading(!1)})}},this.loadMoreComments=async n=>{!this.hasMoreComments||this.commentsLoading||await this.loadComments(n,this.commentsPage+1)},this.addComment=async(n,e)=>{this.setCommentsError(null);try{const t=await Dy(n,e);return Je(()=>{e.parent?this.comments=this.addReplyToComment(this.comments,e.parent,t):this.comments.unshift(t),this.currentNews&&this.currentNews.id===n&&(this.currentNews.commentsCount+=1)}),t}catch(t){throw Je(()=>{this.setCommentsError(t instanceof Error?t.message:"Ошибка добавления комментария")}),t}},this.updateComment=async(n,e,t)=>{try{const a=await ky(n,e,t);return Je(()=>{const s=this.comments.findIndex(i=>i.id===e);s!==-1?this.comments[s]=a:this.comments=this.comments.map(i=>{if(i.replies){const o=i.replies.findIndex(l=>l.id===e);if(o!==-1)return{...i,replies:i.replies.map((l,c)=>c===o?a:l)}}return i})}),a}catch(a){throw Je(()=>{this.setCommentsError(a instanceof Error?a.message:"Ошибка обновления комментария")}),a}},this.deleteComment=async(n,e)=>{try{await Ty(n,e),Je(()=>{this.comments=this.removeCommentFromList(this.comments,e),this.currentNews&&this.currentNews.id===n&&(this.currentNews.commentsCount-=1)})}catch(t){throw Je(()=>{this.setCommentsError(t instanceof Error?t.message:"Ошибка удаления комментария")}),t}},this.loadReplies=async(n,e,t=1)=>{try{const a=await Py(n,e,t);Je(()=>{this.comments=this.comments.map(s=>s.id===e?{...s,replies:t===1?a.results:[...s.replies||[],...a.results]}:s)})}catch(a){Je(()=>{this.setCommentsError(a instanceof Error?a.message:"Ошибка загрузки ответов")})}},this.reset=()=>{this.news=[],this.currentNews=null,this.totalNews=0,this.currentPage=1,this.hasMoreNews=!0,this.comments=[],this.totalComments=0,this.commentsPage=1,this.hasMoreComments=!0,this.loading=!1,this.commentsLoading=!1,this.searchQuery="",this.searchResults=[],this.searchLoading=!1,this.error=null,this.commentsError=null},this.addReplyToComment=(n,e,t)=>n.map(a=>a.id===e?{...a,replies:[...a.replies||[],t],repliesCount:a.repliesCount+1}:a.replies&&a.replies.length>0?{...a,replies:this.addReplyToComment(a.replies,e,t)}:a),this.removeCommentFromList=(n,e)=>n.filter(t=>t.id!==e).map(t=>t.replies&&t.replies.length>0?{...t,replies:this.removeCommentFromList(t.replies,e)}:t),hf(this,{news:ye,currentNews:ye,totalNews:ye,currentPage:ye,hasMoreNews:ye,comments:ye,totalComments:ye,commentsPage:ye,hasMoreComments:ye,loading:ye,commentsLoading:ye,searchQuery:ye,searchResults:ye,searchLoading:ye,error:ye,commentsError:ye,setLoading:Ye,setCommentsLoading:Ye,setError:Ye,setCommentsError:Ye,setSearchQuery:Ye,clearSearch:Ye,loadNews:Ye,loadMoreNews:Ye,loadNewsDetail:Ye,searchNewsAction:Ye,loadComments:Ye,loadMoreComments:Ye,addComment:Ye,updateComment:Ye,deleteComment:Ye,loadReplies:Ye,reset:Ye})}}const ie=new Oy,Hf=$e(({newsId:r,parentId:n,onCancel:e,onSuccess:t})=>{const[a,s]=p.useState(""),[i,o]=p.useState(!1),[l,c]=H("comment-form"),d=async h=>{if(h.preventDefault(),!(!a.trim()||i)){o(!0);try{await ie.addComment(r,{content:a.trim(),parent:n}),s(""),t==null||t(),n&&e&&e()}catch(v){console.error("Ошибка добавления комментария:",v)}finally{o(!1)}}},f=()=>{s(""),e==null||e()};return w("form",{onSubmit:d,className:l(),children:[u("div",{className:c("field"),children:u("textarea",{value:a,onChange:h=>s(h.target.value),placeholder:n?"Написать ответ...":"Написать комментарий...",rows:4,className:c("textarea"),disabled:i})}),w("div",{className:c("actions"),children:[u("button",{type:"submit",disabled:!a.trim()||i,className:c("submit-button"),children:i?"Отправка...":n?"Ответить":"Комментировать"}),e&&u("button",{type:"button",onClick:f,disabled:i,className:c("cancel-button"),children:"Отмена"})]}),u("div",{className:c("hint"),children:u("small",{children:"Ctrl+Enter для быстрой отправки"})})]})}),My=r=>new Date(r).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),Yf=$e(({comment:r,newsId:n,level:e=0,onReply:t,onEdit:a,onDelete:s})=>{var D,N,k;const[i,o]=p.useState(!1),[l,c]=p.useState(!1),[d,f]=p.useState(r.content),[h,v]=p.useState(!1),[m,g]=H("comment-item"),b=async()=>{if(!(!d.trim()||h)&&confirm("Вы уверены, что хотите изменить комментарий?")){v(!0);try{console.log("Редактирование комментария:",d),await(a==null?void 0:a(r.id,d.trim())),c(!1)}catch(T){console.error("Ошибка редактирования:",T)}finally{v(!1)}}},y=async()=>{if(confirm("Вы уверены, что хотите удалить комментарий?"))try{console.log("Удаление комментария:",r.id),await(s==null?void 0:s(r.id))}catch(T){console.error("Ошибка удаления:",T)}},_=async()=>{try{await ie.loadReplies(n,r.id)}catch(T){console.error("Ошибка загрузки ответов:",T)}},{canEdit:E}=r,{canDelete:x}=r,C=r.repliesCount>0,S=r.replies&&r.replies.length>0;return w("div",{className:m({level:e>0?"reply":void 0}),children:[w("div",{className:g("content"),children:[w("div",{className:g("header"),children:[w("div",{className:g("author"),children:[(D=r.author)==null?void 0:D.firstName," ",(N=r.author)==null?void 0:N.lastName]}),u("div",{className:g("date"),children:My(r.createdAt)})]}),l?w("div",{className:g("edit-form"),children:[u("textarea",{value:d,onChange:T=>f(T.target.value),rows:3,disabled:h}),u("button",{onClick:b,disabled:h||!d.trim(),type:"button",children:h?"Сохранение...":"Сохранить"}),u("button",{onClick:()=>c(!1),disabled:h,type:"button",children:"Отмена"})]}):u("div",{className:g("text"),children:r.content}),w("div",{className:g("actions"),children:[e<3&&u("button",{onClick:()=>o(!i),className:g("action-button"),type:"button",children:i?"Отмена":"Ответить"}),E&&u("button",{onClick:()=>c(!0),className:g("action-button"),type:"button",children:"Редактировать"}),x&&u("button",{onClick:y,className:g("action-button",{delete:!0}),type:"button",children:"Удалить"}),C&&!S&&w("button",{onClick:_,className:g("action-button",{replies:!0}),type:"button",children:["Показать ответы (",r.repliesCount,")"]})]}),i&&u("div",{className:g("reply-form"),children:u(Hf,{newsId:n,parentId:r.id,onCancel:()=>o(!1),onSuccess:()=>o(!1)})})]}),S&&u("div",{className:g("replies"),children:(k=r.replies)==null?void 0:k.map(T=>u(Yf,{comment:T,newsId:n,level:e+1,onReply:t,onEdit:a,onDelete:s},T.id))})]})});const Ly=$e(({newsId:r})=>{const[n,e]=p.useState(!1),[t,a]=H("news-comments"),s=async()=>{e(!1)},i=async(c,d)=>{try{await ie.addComment(r,{content:d,parent:c})}catch(f){throw console.error("Ошибка добавления ответа:",f),f}},o=async(c,d)=>{try{await ie.updateComment(r,c,d)}catch(f){throw console.error("Ошибка редактирования комментария:",f),f}},l=async c=>{try{await ie.deleteComment(r,c)}catch(d){throw console.error("Ошибка удаления комментария:",d),d}};return w("section",{className:t(),children:[w("div",{className:a("header"),children:[w("h2",{className:a("title"),children:["Комментарии (",ie.totalComments,")"]}),u("button",{onClick:()=>e(!n),className:a("add-button"),type:"button",children:n?"Отмена":"Добавить комментарий"})]}),n&&u("div",{className:a("form-container"),children:u(Hf,{newsId:r,onCancel:()=>e(!1),onSuccess:s})}),u("div",{className:a("list"),children:ie.commentsLoading&&ie.comments.length===0?u("div",{className:a("loading"),children:"Загрузка комментариев..."}):ie.comments.length===0?u("div",{className:a("empty"),children:"Комментариев пока нет. Будьте первым!"}):w(ct,{children:[ie.comments.map(c=>u(Yf,{comment:c,newsId:r,onReply:i,onEdit:o,onDelete:l},c.id)),ie.hasMoreComments&&u("div",{className:a("load-more"),children:u("button",{onClick:()=>ie.loadMoreComments(r),disabled:ie.commentsLoading,className:a("load-more-button"),type:"button",children:ie.commentsLoading?"Загрузка...":"Загрузить еще"})})]})}),ie.commentsError&&w("div",{className:a("error"),children:[w("p",{children:["Ошибка: ",ie.commentsError]}),u("button",{onClick:()=>ie.loadComments(r,1),className:a("retry-button"),type:"button",children:"Попробовать снова"})]})]})});const Ay=$e(()=>{var s,i;const{id:r}=Qr(),[n,e]=H("news-detail-page");p.useEffect(()=>{if(Me.setPage("isNewsDetail"),Me.setHeader("white"),Me.setFull(!1),r){const o=Number(r);ie.loadNewsDetail(o),ie.loadComments(o)}return()=>{Me.setPage("isMainPage")}},[r]);const t=o=>new Date(o).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});if(ie.loading&&!ie.currentNews)return u("div",{className:n(),children:u("div",{className:e("container"),children:u("div",{className:e("loading"),children:"Загрузка новости..."})})});if(ie.error&&!ie.currentNews)return u("div",{className:n(),children:u("div",{className:e("container"),children:w("div",{className:e("error"),children:[w("p",{children:["Ошибка: ",ie.error]}),u("button",{type:"button",onClick:()=>r&&ie.loadNewsDetail(Number(r)),className:e("retry-button"),children:"Попробовать снова"})]})})});if(!ie.currentNews&&!ie.loading)return u("div",{className:n(),children:u("div",{className:e("container"),children:w("div",{className:e("not-found"),children:[u("h1",{children:"Новость не найдена"}),u("p",{children:"Запрашиваемая новость не существует или была удалена."}),u(xe,{to:"/news",className:e("back-link"),children:"← Вернуться к новостям"})]})})});const a=ie.currentNews;return u("div",{className:n(),children:w("div",{className:e("container"),children:[u("div",{className:e("navigation"),children:u(xe,{to:"/news",className:e("back-link"),children:"← Назад к новостям"})}),w("article",{className:e("article"),children:[w("header",{className:e("header"),children:[u("h1",{className:e("title"),children:a.title}),w("div",{className:e("meta"),children:[w("span",{className:e("author"),children:[(s=a.author)==null?void 0:s.firstName," ",(i=a.author)==null?void 0:i.lastName]}),u("span",{className:e("date"),children:t(a.createdAt)}),w("span",{className:e("comments-count"),children:[a.commentsCount," комментариев"]})]})]}),a.image&&u("div",{className:e("image"),children:u("img",{src:a.image,alt:a.title})}),u("div",{className:e("content"),children:a.content?u("div",{className:e("content-html"),dangerouslySetInnerHTML:{__html:a.content}}):u("div",{className:e("content-text"),children:a.excerpt})}),a.updatedAt!==a.createdAt&&u("div",{className:e("updated"),children:w("small",{children:["Обновлено: ",t(a.updatedAt)]})})]}),r&&u(Ly,{newsId:Number(r)})]})})});const Iy=$e(()=>{const[r,n]=p.useState(""),[e,t]=p.useState(!1),[a,s]=H("news-page");p.useEffect(()=>(Me.setPage("isNews"),Me.setHeader("white"),Me.setFull(!1),ie.news.length===0&&ie.loadNews(),()=>{Me.setPage("isMainPage")}),[]);const i=async d=>{if(d.preventDefault(),!(!r.trim()||e)){t(!0);try{await ie.searchNewsAction(r.trim())}finally{t(!1)}}},o=()=>{n(""),ie.clearSearch()},l=d=>new Date(d).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),c=ie.searchQuery?ie.searchResults:ie.news;return u("div",{className:a(),children:w("div",{className:s("container"),children:[w("header",{className:s("header"),children:[u("h1",{children:"Новости проекта"}),u("p",{children:"Последние обновления и важные события"})]}),u("div",{className:s("search"),children:w("form",{onSubmit:i,className:s("search-form"),children:[u("input",{type:"text",value:r,onChange:d=>n(d.target.value),placeholder:"Поиск по новостям...",className:s("search-input"),disabled:e}),u("button",{type:"submit",disabled:!r.trim()||e,className:s("search-button"),children:e?"Поиск...":"Найти"}),ie.searchQuery&&u("button",{type:"button",onClick:o,className:s("search-clear"),children:"Очистить"})]})}),ie.searchQuery&&u("div",{className:s("search-results"),children:w("p",{children:["Результаты поиска по запросу: ",w("strong",{children:["“",ie.searchQuery,"”"]})]})}),u("div",{className:s("content"),children:ie.loading&&c.length===0?u("div",{className:s("loading"),children:"Загрузка новостей..."}):c.length===0?u("div",{className:s("empty"),children:ie.searchQuery?"По вашему запросу ничего не найдено":"Новостей пока нет"}):w(ct,{children:[u("div",{className:s("news-list"),children:c.map(d=>{var f,h;return u("article",{className:s("news-card"),children:w("div",{className:s("news-card-content"),children:[u("h2",{className:s("news-card-title"),children:u(xe,{to:"/news/".concat(d.id),children:d.title})}),d.excerpt&&u("p",{className:s("news-card-excerpt"),children:d.excerpt}),w("div",{className:s("news-card-meta"),children:[w("div",{className:s("news-card-author"),children:[(f=d.author)==null?void 0:f.firstName," ",(h=d.author)==null?void 0:h.lastName]}),w("div",{className:s("news-card-info"),children:[u("span",{className:s("news-card-date"),children:l(d.createdAt)}),w("span",{className:s("news-card-comments"),children:[d.commentsCount," комментариев"]})]})]})]})},d.id)})}),!ie.searchQuery&&ie.hasMoreNews&&u("div",{className:s("load-more"),children:u("button",{onClick:()=>ie.loadMoreNews(),disabled:ie.loading,className:s("load-more-button"),type:"button",children:ie.loading?"Загрузка...":"Загрузить еще"})})]})}),ie.error&&w("div",{className:s("error"),children:[w("p",{children:["Ошибка: ",ie.error]}),u("button",{onClick:()=>ie.loadNews(1),className:s("retry-button"),type:"button",children:"Попробовать снова"})]})]})})}),ht=(r,n,e=!0)=>r%10===1&&r%100!==11?"".concat(e?r:""," ").concat(n[0]):r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?"".concat(e?r:""," ").concat(n[1]||n[0]):"".concat(e?r:""," ").concat(n[2]||n[0]);const kl=r=>{const{className:n,img:e,children:t,category:a,show:s=!0,blacked:i,withoutBlack:o}=r,[l,c]=H("gradient",n);return w("div",{className:l(),children:[u("img",{src:e.src,alt:e.alt,className:c("img",{blacked:i})}),u("div",{className:c("color",{category:a,show:s,blacked:i,withoutBlack:o})}),u("div",{className:c("top-info"),children:t})]})};const Ry=r=>{const{className:n,category:e}=r,[t,a]=H("card-category",n);return u("section",{className:t(),children:u(xe,{to:"/categories/".concat(e.nameEn),className:a("gradient"),children:u(kl,{img:{src:e.image,alt:e.name},category:e.nameEn,withoutBlack:!0,children:w("div",{className:a("description"),children:[u(le,{className:a("title"),theme:"white",tag:"h2",children:e.name}),u("p",{className:a("goals"),children:ht(e.goalCount,["цель","цели","целей"])})]})})})})};const Vf=({categories:r,tag:n,title:e})=>{const[t,a]=H("categories");return w("main",{className:t(),children:[u(le,{className:a("title",{tag:n}),tag:n,children:e}),u("section",{className:a("list"),children:!!r.length&&r.map(s=>u(Ry,{category:s,className:a("item")},s.id))})]})};const Xe=({isLoading:r,children:n,className:e})=>{const[t,a]=H("loader");return!r&&!n?null:w("div",{className:t(),children:[n&&u("div",{className:a("content",{blurred:r},e),children:n}),r&&u("div",{className:a("overlay"),children:w("svg",{width:"80",height:"80",viewBox:"-10 -10 50 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",overflow:"visible",children:[w("g",{className:a("aim"),children:[u("circle",{cx:"11.3667",cy:"14.56",r:"11.25",fill:"#E05A4F"}),u("circle",{cx:"11.3667",cy:"14.56",r:"8.25",fill:"white"}),u("circle",{cx:"11.3667",cy:"14.56",r:"4.25",fill:"#E05A4F"})]}),w("g",{className:a("dart"),children:[u("rect",{x:"10.33",y:"13.48",width:"18.63",height:"2.077",rx:"1.0385",transform:"rotate(-30.16 10.33 13.48)",fill:"white"}),u("path",{d:"M21.2094 9.564L25.0427 11.212C25.6205 11.4604 26.2818 11.4201 26.827 11.1033L30.4352 9.00667L25.6838 6.964L21.2094 9.564Z",fill:"#3A89D8"}),u("path",{d:"M20.176 7.76267L20.6746 3.59748C20.7498 2.96968 21.1151 2.41344 21.6603 2.09662L25.2685 3.64657e-06L24.6505 5.16267L20.176 7.76267Z",fill:"#3A89D8"})]})]})})]})},jn=async()=>await ge("categories"),jf=({tag:r="h1",title:n="Категории"})=>{const[e,t]=p.useState([]),[a,s]=p.useState(!0);return p.useEffect(()=>{(async()=>{s(!0);const i=await jn();i.success&&t(i.data),s(!1)})()},[]),u(Xe,{isLoading:a,children:u(Vf,{categories:e,tag:r,title:n})})},$y=({page:r})=>{const{setPage:n,setHeader:e,setFull:t}=Me;return p.useEffect(()=>{n(r),e("white"),t(!1)},[]),u(jf,{})};const wi=r=>{const{className:n,done:e,all:t,goal:a,text:s}=r,[i,o]=H("progress",n);return w("div",{className:i({goal:a,text:!!s}),children:[!a&&!s&&u("span",{className:o("count"),children:"".concat(e,"/").concat(t)}),u("div",{className:o("line"),children:u("div",{className:o("line-done",{all:t===e}),style:{width:"".concat(Math.round(e/(t||1)*100),"%")}})}),s&&u("span",{className:o("count"),children:s}),a&&u("span",{className:o("count"),children:"".concat(Math.round(e/(t||1)*100),"%")})]})};const St=r=>{const{icon:n,className:e,text:t,category:a,theme:s,classNameIcon:i,complexity:o}=r,[l]=H("tag",e);return w("span",{className:l({category:a,theme:s}),children:[n&&u(te,{className:i,icon:n}),t&&t,o&&bi[o]]})};const Tl=r=>{const{className:n,theme:e,category:t,complexity:a,done:s,added:i,medal:o,time:l,separator:c}=r,[d]=H("tags",n);return w("section",{className:d(),children:[t&&u(St,{category:t.nameEn,text:t.name,theme:e}),(c==null?void 0:c.some(f=>f==="category"))&&u(nt,{vertical:!0}),o&&u(St,{text:o,theme:e,icon:"medal"}),(c==null?void 0:c.some(f=>f==="medal"))&&u(nt,{vertical:!0}),u(St,{text:bi[a],theme:e,icon:a}),(c==null?void 0:c.some(f=>f==="complexity"))&&u(nt,{vertical:!0}),!!i&&u(St,{text:i,theme:e,icon:"people"}),(c==null?void 0:c.some(f=>f==="added"))&&u(nt,{vertical:!0}),!!s&&u(St,{text:s,theme:e,icon:"done"}),(c==null?void 0:c.some(f=>f==="done"))&&u(nt,{vertical:!0}),!!l&&u(St,{text:l,theme:e,icon:"watch"})]})};const Br=r=>{const{className:n,goal:e,horizontal:t,isList:a,onClickAdd:s,onClickDelete:i,onClickMark:o}=r,[l,c]=H("card",n);return w("section",{className:l({horizontal:t}),children:[u(xe,{to:"/".concat(a?"list":"goals","/").concat(e.code),className:c("gradient"),children:u(kl,{img:{src:e.image,alt:e.title},category:e.category.nameEn,show:e.completedByUser,children:w("div",{className:c("img-tags"),children:[e.addedByUser&&!e.completedByUser&&u(St,{icon:"watch",theme:"light"}),e.completedByUser&&u(St,{icon:"done",theme:"light",classNameIcon:c("img-tag-icon-done")}),u(St,{text:e.category.name,category:e.category.nameEn,className:c("img-tag-category")})]})})}),w("div",{className:c("info"),children:[w(xe,{to:"/".concat(a?"list":"goals","/").concat(e.code),className:c("info-link"),children:[u(le,{tag:"h3",className:c("title"),children:e.title}),u("p",{className:c("text"),children:e.shortDescription})]}),u(nt,{}),w("div",{className:c("tags-wrapper"),children:[u(Tl,{complexity:e.complexity,added:e.totalAdded,time:"7 дней",theme:"integrate",className:c("tags",{added:e.addedByUser}),separator:["complexity",!!e.totalAdded&&"added"]}),a&&u(wi,{done:e.userCompletedGoals,all:e.goalsCount}),w("div",{className:c("buttons"),children:[!e.addedByUser&&u(j,{theme:"blue",icon:"plus",size:"small",onClick:s}),e.addedByUser&&u(j,{theme:"blue-light",icon:"trash",size:"small",onClick:i}),(e.addedByUser||e.completedByUser)&&!a&&u(j,{theme:e.completedByUser?"green":"blue-light",size:"small",onClick:o,children:u(te,{icon:"done",width:"16px",height:"16px",className:c("btn-done",{active:e.completedByUser})})})]})]})]})]})};var Ue={},Pl={},La={},Aa={},Uf="Expected a function",Bc=0/0,Fy="[object Symbol]",Gy=/^\s+|\s+$/g,By=/^[-+]0x[0-9a-f]+$/i,Wy=/^0b[01]+$/i,Hy=/^0o[0-7]+$/i,Yy=parseInt,Vy=typeof In=="object"&&In&&In.Object===Object&&In,jy=typeof self=="object"&&self&&self.Object===Object&&self,Uy=Vy||jy||Function("return this")(),zy=Object.prototype,qy=zy.toString,Ky=Math.max,Qy=Math.min,io=function(){return Uy.Date.now()};function Xy(r,n,e){var t,a,s,i,o,l,c=0,d=!1,f=!1,h=!0;if(typeof r!="function")throw new TypeError(Uf);n=Wc(n)||0,Vs(e)&&(d=!!e.leading,f="maxWait"in e,s=f?Ky(Wc(e.maxWait)||0,n):s,h="trailing"in e?!!e.trailing:h);function v(S){var D=t,N=a;return t=a=void 0,c=S,i=r.apply(N,D),i}function m(S){return c=S,o=setTimeout(y,n),d?v(S):i}function g(S){var D=S-l,N=S-c,k=n-D;return f?Qy(k,s-N):k}function b(S){var D=S-l,N=S-c;return l===void 0||D>=n||D<0||f&&N>=s}function y(){var S=io();if(b(S))return _(S);o=setTimeout(y,g(S))}function _(S){return o=void 0,h&&t?v(S):(t=a=void 0,i)}function E(){o!==void 0&&clearTimeout(o),c=0,t=l=a=o=void 0}function x(){return o===void 0?i:_(io())}function C(){var S=io(),D=b(S);if(t=arguments,a=this,l=S,D){if(o===void 0)return m(l);if(f)return o=setTimeout(y,n),v(l)}return o===void 0&&(o=setTimeout(y,n)),i}return C.cancel=E,C.flush=x,C}function Zy(r,n,e){var t=!0,a=!0;if(typeof r!="function")throw new TypeError(Uf);return Vs(e)&&(t="leading"in e?!!e.leading:t,a="trailing"in e?!!e.trailing:a),Xy(r,n,{leading:t,maxWait:n,trailing:a})}function Vs(r){var n=typeof r;return!!r&&(n=="object"||n=="function")}function Jy(r){return!!r&&typeof r=="object"}function eb(r){return typeof r=="symbol"||Jy(r)&&qy.call(r)==Fy}function Wc(r){if(typeof r=="number")return r;if(eb(r))return Bc;if(Vs(r)){var n=typeof r.valueOf=="function"?r.valueOf():r;r=Vs(n)?n+"":n}if(typeof r!="string")return r===0?r:+r;r=r.replace(Gy,"");var e=Wy.test(r);return e||Hy.test(r)?Yy(r.slice(2),e?2:8):By.test(r)?Bc:+r}var tb=Zy,Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.addPassiveEventListener=function(n,e,t){var a=t.name;a||(a=e,console.warn("Listener must be a named function.")),Ns.has(e)||Ns.set(e,new Set);var s=Ns.get(e);if(!s.has(a)){var i=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,l)}catch(c){}return o}();n.addEventListener(e,t,i?{passive:!0}:!1),s.add(a)}};Ia.removePassiveEventListener=function(n,e,t){n.removeEventListener(e,t),Ns.get(e).delete(t.name||e)};var Ns=new Map;Object.defineProperty(Aa,"__esModule",{value:!0});var nb=tb,rb=ab(nb),Hc=Ia;function ab(r){return r&&r.__esModule?r:{default:r}}var sb=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,rb.default)(n,e)},We={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(n,e){if(n){var t=sb(function(a){We.scrollHandler(n)},e);return We.scrollSpyContainers.push(n),(0,Hc.addPassiveEventListener)(n,"scroll",t),function(){(0,Hc.removePassiveEventListener)(n,"scroll",t),We.scrollSpyContainers.splice(We.scrollSpyContainers.indexOf(n),1)}}return function(){}},isMounted:function(n){return We.scrollSpyContainers.indexOf(n)!==-1},currentPositionX:function(n){if(n===document){var e=window.scrollY!==void 0,t=(document.compatMode||"")==="CSS1Compat";return e?window.scrollX:t?document.documentElement.scrollLeft:document.body.scrollLeft}else return n.scrollLeft},currentPositionY:function(n){if(n===document){var e=window.scrollX!==void 0,t=(document.compatMode||"")==="CSS1Compat";return e?window.scrollY:t?document.documentElement.scrollTop:document.body.scrollTop}else return n.scrollTop},scrollHandler:function(n){var e=We.scrollSpyContainers[We.scrollSpyContainers.indexOf(n)].spyCallbacks||[];e.forEach(function(t){return t(We.currentPositionX(n),We.currentPositionY(n))})},addStateHandler:function(n){We.spySetState.push(n)},addSpyHandler:function(n,e){var t=We.scrollSpyContainers[We.scrollSpyContainers.indexOf(e)];t.spyCallbacks||(t.spyCallbacks=[]),t.spyCallbacks.push(n)},updateStates:function(){We.spySetState.forEach(function(n){return n()})},unmount:function(n,e){We.scrollSpyContainers.forEach(function(t){return t.spyCallbacks&&t.spyCallbacks.length&&t.spyCallbacks.indexOf(e)>-1&&t.spyCallbacks.splice(t.spyCallbacks.indexOf(e),1)}),We.spySetState&&We.spySetState.length&&We.spySetState.indexOf(n)>-1&&We.spySetState.splice(We.spySetState.indexOf(n),1),document.removeEventListener("scroll",We.scrollHandler)},update:function(){return We.scrollSpyContainers.forEach(function(n){return We.scrollHandler(n)})}};Aa.default=We;var ra={},Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});var ib=function(n,e){var t=n.indexOf("#")===0?n.substring(1):n,a=t?"#"+t:"",s=window&&window.location,i=a?s.pathname+s.search+a:s.pathname+s.search;e?history.pushState(history.state,"",i):history.replaceState(history.state,"",i)},ob=function(){return window.location.hash.replace(/^#/,"")},lb=function(n){return function(e){return n.contains?n!=e&&n.contains(e):!!(n.compareDocumentPosition(e)&16)}},cb=function(n){return getComputedStyle(n).position!=="static"},oo=function(n,e){for(var t=n.offsetTop,a=n.offsetParent;a&&!e(a);)t+=a.offsetTop,a=a.offsetParent;return{offsetTop:t,offsetParent:a}},ub=function(n,e,t){if(t)return n===document?e.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(n).position!=="static"?e.offsetLeft:e.offsetLeft-n.offsetLeft;if(n===document)return e.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(cb(n)){if(e.offsetParent!==n){var a=function(d){return d===n||d===document},s=oo(e,a),i=s.offsetTop,o=s.offsetParent;if(o!==n)throw new Error("Seems containerElement is not an ancestor of the Element");return i}return e.offsetTop}if(e.offsetParent===n.offsetParent)return e.offsetTop-n.offsetTop;var l=function(d){return d===document};return oo(e,l).offsetTop-oo(n,l).offsetTop};Ra.default={updateHash:ib,getHash:ob,filterElementInContainer:lb,scrollOffset:ub};var _i={},Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.default={defaultEasing:function(n){return n<.5?Math.pow(n*2,2)/2:1-Math.pow((1-n)*2,2)/2},linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};var Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});var db=Ia,fb=["mousedown","wheel","touchmove","keydown"];Ml.default={subscribe:function(n){return typeof document<"u"&&fb.forEach(function(e){return(0,db.addPassiveEventListener)(document,e,n)})}};var $a={};Object.defineProperty($a,"__esModule",{value:!0});var Qo={registered:{},scrollEvent:{register:function(n,e){Qo.registered[n]=e},remove:function(n){Qo.registered[n]=null}}};$a.default=Qo;Object.defineProperty(_i,"__esModule",{value:!0});var pb=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},hb=Ra;Si(hb);var mb=Ol,Yc=Si(mb),vb=Ml,gb=Si(vb),yb=$a,zt=Si(yb);function Si(r){return r&&r.__esModule?r:{default:r}}var zf=function(n){return Yc.default[n.smooth]||Yc.default.defaultEasing},bb=function(n){return typeof n=="function"?n:function(){return n}},wb=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Xo=function(){return wb()||function(r,n,e){window.setTimeout(r,e||1e3/60,new Date().getTime())}}(),qf=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},Kf=function(n){var e=n.data.containerElement;if(e&&e!==document&&e!==document.body)return e.scrollLeft;var t=window.pageXOffset!==void 0,a=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:a?document.documentElement.scrollLeft:document.body.scrollLeft},Qf=function(n){var e=n.data.containerElement;if(e&&e!==document&&e!==document.body)return e.scrollTop;var t=window.pageXOffset!==void 0,a=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:a?document.documentElement.scrollTop:document.body.scrollTop},_b=function(n){var e=n.data.containerElement;if(e&&e!==document&&e!==document.body)return e.scrollWidth-e.offsetWidth;var t=document.body,a=document.documentElement;return Math.max(t.scrollWidth,t.offsetWidth,a.clientWidth,a.scrollWidth,a.offsetWidth)},Sb=function(n){var e=n.data.containerElement;if(e&&e!==document&&e!==document.body)return e.scrollHeight-e.offsetHeight;var t=document.body,a=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)},Eb=function r(n,e,t){var a=e.data;if(!e.ignoreCancelEvents&&a.cancel){zt.default.registered.end&&zt.default.registered.end(a.to,a.target,a.currentPositionY);return}if(a.delta=Math.round(a.targetPosition-a.startPosition),a.start===null&&(a.start=t),a.progress=t-a.start,a.percent=a.progress>=a.duration?1:n(a.progress/a.duration),a.currentPosition=a.startPosition+Math.ceil(a.delta*a.percent),a.containerElement&&a.containerElement!==document&&a.containerElement!==document.body?e.horizontal?a.containerElement.scrollLeft=a.currentPosition:a.containerElement.scrollTop=a.currentPosition:e.horizontal?window.scrollTo(a.currentPosition,0):window.scrollTo(0,a.currentPosition),a.percent<1){var s=r.bind(null,n,e);Xo.call(window,s);return}zt.default.registered.end&&zt.default.registered.end(a.to,a.target,a.currentPosition)},Ll=function(n){n.data.containerElement=n?n.containerId?document.getElementById(n.containerId):n.container&&n.container.nodeType?n.container:document:null},Fa=function(n,e,t,a){e.data=e.data||qf(),window.clearTimeout(e.data.delayTimeout);var s=function(){e.data.cancel=!0};if(gb.default.subscribe(s),Ll(e),e.data.start=null,e.data.cancel=!1,e.data.startPosition=e.horizontal?Kf(e):Qf(e),e.data.targetPosition=e.absolute?n:n+e.data.startPosition,e.data.startPosition===e.data.targetPosition){zt.default.registered.end&&zt.default.registered.end(e.data.to,e.data.target,e.data.currentPosition);return}e.data.delta=Math.round(e.data.targetPosition-e.data.startPosition),e.data.duration=bb(e.duration)(e.data.delta),e.data.duration=isNaN(parseFloat(e.data.duration))?1e3:parseFloat(e.data.duration),e.data.to=t,e.data.target=a;var i=zf(e),o=Eb.bind(null,i,e);if(e&&e.delay>0){e.data.delayTimeout=window.setTimeout(function(){zt.default.registered.begin&&zt.default.registered.begin(e.data.to,e.data.target),Xo.call(window,o)},e.delay);return}zt.default.registered.begin&&zt.default.registered.begin(e.data.to,e.data.target),Xo.call(window,o)},Ei=function(n){return n=pb({},n),n.data=n.data||qf(),n.absolute=!0,n},Nb=function(n){Fa(0,Ei(n))},Cb=function(n,e){Fa(n,Ei(e))},xb=function(n){n=Ei(n),Ll(n),Fa(n.horizontal?_b(n):Sb(n),n)},Db=function(n,e){e=Ei(e),Ll(e);var t=e.horizontal?Kf(e):Qf(e);Fa(n+t,e)};_i.default={animateTopScroll:Fa,getAnimationType:zf,scrollToTop:Nb,scrollToBottom:xb,scrollTo:Cb,scrollMore:Db};Object.defineProperty(ra,"__esModule",{value:!0});var kb=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},Tb=Ra,Pb=Al(Tb),Ob=_i,Mb=Al(Ob),Lb=$a,rs=Al(Lb);function Al(r){return r&&r.__esModule?r:{default:r}}var as={},Vc=void 0;ra.default={unmount:function(){as={}},register:function(n,e){as[n]=e},unregister:function(n){delete as[n]},get:function(n){return as[n]||document.getElementById(n)||document.getElementsByName(n)[0]||document.getElementsByClassName(n)[0]},setActiveLink:function(n){return Vc=n},getActiveLink:function(){return Vc},scrollTo:function(n,e){var t=this.get(n);if(!t){console.warn("target Element not found");return}e=kb({},e,{absolute:!1});var a=e.containerId,s=e.container,i=void 0;a?i=document.getElementById(a):s&&s.nodeType?i=s:i=document,e.absolute=!0;var o=e.horizontal,l=Pb.default.scrollOffset(i,t,o)+(e.offset||0);if(!e.smooth){rs.default.registered.begin&&rs.default.registered.begin(n,t),i===document?e.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):i.scrollTop=l,rs.default.registered.end&&rs.default.registered.end(n,t);return}Mb.default.animateTopScroll(l,e,n,t)}};var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});var Ab=Ra,lo=Ib(Ab);function Ib(r){return r&&r.__esModule?r:{default:r}}var Rb={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(n){this.scroller=n,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(n,e){this.containers[n]=e},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var n=this,e=this.getHash();e?window.setTimeout(function(){n.scrollTo(e,!0),n.initialized=!0},10):this.initialized=!0},scrollTo:function(n,e){var t=this.scroller,a=t.get(n);if(a&&(e||n!==t.getActiveLink())){var s=this.containers[n]||document;t.scrollTo(n,{container:s})}},getHash:function(){return lo.default.getHash()},changeHash:function(n,e){this.isInitialized()&&lo.default.getHash()!==n&&lo.default.updateHash(n,e)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Ni.default=Rb;Object.defineProperty(La,"__esModule",{value:!0});var ss=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},$b=function(){function r(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}(),Fb=p,jc=Ga(Fb),Gb=Aa,is=Ga(Gb),Bb=ra,Wb=Ga(Bb),Hb=Ge,Fe=Ga(Hb),Yb=Ni,Pn=Ga(Yb);function Ga(r){return r&&r.__esModule?r:{default:r}}function Vb(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function jb(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:r}function Ub(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}var Uc={to:Fe.default.string.isRequired,containerId:Fe.default.string,container:Fe.default.object,activeClass:Fe.default.string,activeStyle:Fe.default.object,spy:Fe.default.bool,horizontal:Fe.default.bool,smooth:Fe.default.oneOfType([Fe.default.bool,Fe.default.string]),offset:Fe.default.number,delay:Fe.default.number,isDynamic:Fe.default.bool,onClick:Fe.default.func,duration:Fe.default.oneOfType([Fe.default.number,Fe.default.func]),absolute:Fe.default.bool,onSetActive:Fe.default.func,onSetInactive:Fe.default.func,ignoreCancelEvents:Fe.default.bool,hashSpy:Fe.default.bool,saveHashHistory:Fe.default.bool,spyThrottle:Fe.default.number};La.default=function(r,n){var e=n||Wb.default,t=function(s){Ub(i,s);function i(o){Vb(this,i);var l=jb(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o));return a.call(l),l.state={active:!1},l.beforeUnmountCallbacks=[],l}return $b(i,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,c=this.props.container;return l&&!c?document.getElementById(l):c&&c.nodeType?c:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();if(!is.default.isMounted(l)){var c=is.default.mount(l,this.props.spyThrottle);this.beforeUnmountCallbacks.push(c)}this.props.hashSpy&&(Pn.default.isMounted()||Pn.default.mount(e),Pn.default.mapContainer(this.props.to,l)),is.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){is.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(l){return l()})}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var c={};this.state&&this.state.active?c=ss({},this.props.style,this.props.activeStyle):c=ss({},this.props.style);var d=ss({},this.props);for(var f in Uc)d.hasOwnProperty(f)&&delete d[f];return d.className=l,d.style=c,d.onClick=this.handleClick,jc.default.createElement(r,d)}}]),i}(jc.default.PureComponent),a=function(){var i=this;this.scrollTo=function(o,l){e.scrollTo(o,ss({},i.state,l))},this.handleClick=function(o){i.props.onClick&&i.props.onClick(o),o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault(),i.scrollTo(i.props.to,i.props)},this.spyHandler=function(o,l){var c=i.getScrollSpyContainer();if(!(Pn.default.isMounted()&&!Pn.default.isInitialized())){var d=i.props.horizontal,f=i.props.to,h=null,v=void 0,m=void 0;if(d){var g=0,b=0,y=0;if(c.getBoundingClientRect){var _=c.getBoundingClientRect();y=_.left}if(!h||i.props.isDynamic){if(h=e.get(f),!h)return;var E=h.getBoundingClientRect();g=E.left-y+o,b=g+E.width}var x=o-i.props.offset;v=x>=Math.floor(g)&&x<Math.floor(b),m=x<Math.floor(g)||x>=Math.floor(b)}else{var C=0,S=0,D=0;if(c.getBoundingClientRect){var N=c.getBoundingClientRect();D=N.top}if(!h||i.props.isDynamic){if(h=e.get(f),!h)return;var k=h.getBoundingClientRect();C=k.top-D+l,S=C+k.height}var T=l-i.props.offset;v=T>=Math.floor(C)&&T<Math.floor(S),m=T<Math.floor(C)||T>=Math.floor(S)}var P=e.getActiveLink();if(m){if(f===P&&e.setActiveLink(void 0),i.props.hashSpy&&Pn.default.getHash()===f){var L=i.props.saveHashHistory,O=L===void 0?!1:L;Pn.default.changeHash("",O)}i.props.spy&&i.state.active&&(i.setState({active:!1}),i.props.onSetInactive&&i.props.onSetInactive(f,h))}if(v&&(P!==f||i.state.active===!1)){e.setActiveLink(f);var $=i.props.saveHashHistory,F=$===void 0?!1:$;i.props.hashSpy&&Pn.default.changeHash(f,F),i.props.spy&&(i.setState({active:!0}),i.props.onSetActive&&i.props.onSetActive(f,h))}}}};return t.propTypes=Uc,t.defaultProps={offset:0},t};Object.defineProperty(Pl,"__esModule",{value:!0});var zb=p,zc=Xf(zb),qb=La,Kb=Xf(qb);function Xf(r){return r&&r.__esModule?r:{default:r}}function Qb(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function qc(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:r}function Xb(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}var Zb=function(r){Xb(n,r);function n(){var e,t,a,s;Qb(this,n);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return s=(t=(a=qc(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a),a.render=function(){return zc.default.createElement("a",a.props,a.props.children)},t),qc(a,s)}return n}(zc.default.Component);Pl.default=(0,Kb.default)(Zb);var Il={};Object.defineProperty(Il,"__esModule",{value:!0});var Jb=function(){function r(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}(),ew=p,Kc=Zf(ew),tw=La,nw=Zf(tw);function Zf(r){return r&&r.__esModule?r:{default:r}}function rw(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function aw(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:r}function sw(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}var iw=function(r){sw(n,r);function n(){return rw(this,n),aw(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Jb(n,[{key:"render",value:function(){return Kc.default.createElement("button",this.props,this.props.children)}}]),n}(Kc.default.Component);Il.default=(0,nw.default)(iw);var Rl={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});var ow=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},lw=function(){function r(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}(),cw=p,Qc=xi(cw),uw=Na;xi(uw);var dw=ra,Xc=xi(dw),fw=Ge,Zc=xi(fw);function xi(r){return r&&r.__esModule?r:{default:r}}function pw(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function hw(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:r}function mw(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}Ci.default=function(r){var n=function(e){mw(t,e);function t(a){pw(this,t);var s=hw(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return s.childBindings={domNode:null},s}return lw(t,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Xc.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){Xc.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return Qc.default.createElement(r,ow({},this.props,{parentBindings:this.childBindings}))}}]),t}(Qc.default.Component);return n.propTypes={name:Zc.default.string,id:Zc.default.string},n};Object.defineProperty(Rl,"__esModule",{value:!0});var Jc=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},vw=function(){function r(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}(),gw=p,eu=$l(gw),yw=Ci,bw=$l(yw),ww=Ge,tu=$l(ww);function $l(r){return r&&r.__esModule?r:{default:r}}function _w(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function Sw(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:r}function Ew(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}var Jf=function(r){Ew(n,r);function n(){return _w(this,n),Sw(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return vw(n,[{key:"render",value:function(){var t=this,a=Jc({},this.props);return delete a.name,a.parentBindings&&delete a.parentBindings,eu.default.createElement("div",Jc({},a,{ref:function(i){t.props.parentBindings.domNode=i}}),this.props.children)}}]),n}(eu.default.Component);Jf.propTypes={name:tu.default.string,id:tu.default.string};Rl.default=(0,bw.default)(Jf);var co=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},nu=function(){function r(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}();function ru(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function au(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:r}function su(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}var os=p,Un=Aa,uo=ra,He=Ge,On=Ni,iu={to:He.string.isRequired,containerId:He.string,container:He.object,activeClass:He.string,spy:He.bool,smooth:He.oneOfType([He.bool,He.string]),offset:He.number,delay:He.number,isDynamic:He.bool,onClick:He.func,duration:He.oneOfType([He.number,He.func]),absolute:He.bool,onSetActive:He.func,onSetInactive:He.func,ignoreCancelEvents:He.bool,hashSpy:He.bool,spyThrottle:He.number},Nw={Scroll:function(n,e){console.warn("Helpers.Scroll is deprecated since v1.7.0");var t=e||uo,a=function(i){su(o,i);function o(l){ru(this,o);var c=au(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return s.call(c),c.state={active:!1},c}return nu(o,[{key:"getScrollSpyContainer",value:function(){var c=this.props.containerId,d=this.props.container;return c?document.getElementById(c):d&&d.nodeType?d:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var c=this.getScrollSpyContainer();Un.isMounted(c)||Un.mount(c,this.props.spyThrottle),this.props.hashSpy&&(On.isMounted()||On.mount(t),On.mapContainer(this.props.to,c)),this.props.spy&&Un.addStateHandler(this.stateHandler),Un.addSpyHandler(this.spyHandler,c),this.setState({container:c})}}},{key:"componentWillUnmount",value:function(){Un.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var c="";this.state&&this.state.active?c=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():c=this.props.className;var d=co({},this.props);for(var f in iu)d.hasOwnProperty(f)&&delete d[f];return d.className=c,d.onClick=this.handleClick,os.createElement(n,d)}}]),o}(os.Component),s=function(){var o=this;this.scrollTo=function(l,c){t.scrollTo(l,co({},o.state,c))},this.handleClick=function(l){o.props.onClick&&o.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),o.scrollTo(o.props.to,o.props)},this.stateHandler=function(){t.getActiveLink()!==o.props.to&&(o.state!==null&&o.state.active&&o.props.onSetInactive&&o.props.onSetInactive(),o.setState({active:!1}))},this.spyHandler=function(l){var c=o.getScrollSpyContainer();if(!(On.isMounted()&&!On.isInitialized())){var d=o.props.to,f=null,h=0,v=0,m=0;if(c.getBoundingClientRect){var g=c.getBoundingClientRect();m=g.top}if(!f||o.props.isDynamic){if(f=t.get(d),!f)return;var b=f.getBoundingClientRect();h=b.top-m+l,v=h+b.height}var y=l-o.props.offset,_=y>=Math.floor(h)&&y<Math.floor(v),E=y<Math.floor(h)||y>=Math.floor(v),x=t.getActiveLink();if(E)return d===x&&t.setActiveLink(void 0),o.props.hashSpy&&On.getHash()===d&&On.changeHash(),o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive()),Un.updateStates();if(_&&x!==d)return t.setActiveLink(d),o.props.hashSpy&&On.changeHash(d),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(d)),Un.updateStates()}}};return a.propTypes=iu,a.defaultProps={offset:0},a},Element:function(n){console.warn("Helpers.Element is deprecated since v1.7.0");var e=function(t){su(a,t);function a(s){ru(this,a);var i=au(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,s));return i.childBindings={domNode:null},i}return nu(a,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(i){this.props.name!==i.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;uo.unregister(this.props.name)}},{key:"registerElems",value:function(i){uo.register(i,this.childBindings.domNode)}},{key:"render",value:function(){return os.createElement(n,co({},this.props,{parentBindings:this.childBindings}))}}]),a}(os.Component);return e.propTypes={name:He.string,id:He.string},e}},Cw=Nw;Object.defineProperty(Ue,"__esModule",{value:!0});Ue.Helpers=Ue.ScrollElement=Ue.ScrollLink=Ue.animateScroll=Ue.scrollSpy=Ue.Events=Fl=Ue.scroller=Ue.Element=Ue.Button=Ue.Link=void 0;var xw=Pl,ep=cn(xw),Dw=Il,tp=cn(Dw),kw=Rl,np=cn(kw),Tw=ra,rp=cn(Tw),Pw=$a,ap=cn(Pw),Ow=Aa,sp=cn(Ow),Mw=_i,ip=cn(Mw),Lw=La,op=cn(Lw),Aw=Ci,lp=cn(Aw),Iw=Cw,cp=cn(Iw);function cn(r){return r&&r.__esModule?r:{default:r}}Ue.Link=ep.default;Ue.Button=tp.default;Ue.Element=np.default;var Fl=Ue.scroller=rp.default;Ue.Events=ap.default;Ue.scrollSpy=sp.default;Ue.animateScroll=ip.default;Ue.ScrollLink=op.default;Ue.ScrollElement=lp.default;Ue.Helpers=cp.default;Ue.default={Link:ep.default,Button:tp.default,Element:np.default,scroller:rp.default,Events:ap.default,scrollSpy:sp.default,animateScroll:ip.default,ScrollLink:op.default,ScrollElement:lp.default,Helpers:cp.default};const ls=async(r,n)=>await ge("goals/".concat(r,"/all"),{auth:!0,get:n}),cs=async(r,n)=>await ge("goal-lists/".concat(r,"/all"),{auth:!0,get:n}),Di=async r=>await gt("goals/".concat(r,"/add"),{auth:!0}),ki=async r=>await gt("goal-lists/".concat(r,"/add"),{auth:!0}),Ba=async(r,n,e)=>await gt("goals/".concat(r,"/mark"),{auth:!0,body:{done:n},success:e}),Ti=async r=>await gt("goals/".concat(r,"/remove"),{auth:!0}),Pi=async r=>await gt("goal-lists/".concat(r,"/remove"),{auth:!0});const Rw=r=>{const{head:n,icon:e="filter",items:t,onFinish:a,multipleSelectedText:s=["Выбрано несколько"],multipleThreshold:i=2}=r,[o,l]=p.useState(!1),[c,d]=p.useState(n.name),[f,h]=p.useState(!0),[v,m]=p.useState(t.reduce((C,S)=>({...C,[S.code]:{value:!1,name:S.name}}),{})),g=p.useRef(null),[b,y]=H("filters-checkbox"),_=()=>{l(!o)},E=C=>{g.current&&!g.current.contains(C.target)&&l(!1)},x=()=>{const C=Object.keys(v).reduce((S,D)=>({...S,[D]:{value:!1,name:v[D].name}}),{});m(C),h(!0)};return p.useEffect(()=>(document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}),[]),p.useEffect(()=>{if(!o){const C=Object.entries(v).filter(S=>S[1].value);if(C.length){C.length>i&&s?d("Выбрано ".concat(ht(C.length,s))):d(C.map(D=>D[1].name).join(", ")),h(!1);const S=C.map(D=>D[0]);a(S)}else d(n.name),h(!0),a([])}},[o,v]),p.useEffect(()=>{m(t.reduce((C,S)=>{const D=v[S.code]?v[S.code].value:!1;return{...C,[S.code]:{value:D,name:S.name}}},{}))},[t]),w("div",{className:b(),ref:g,children:[w("button",{type:"button",className:y("option"),onClick:_,"aria-label":"Выберите",children:[u(te,{icon:e}),u("span",{className:y("option-text"),children:c})]}),o&&w("ul",{className:y("list"),children:[u("li",{className:y("head",{active:f}),onClick:x,role:"button",tabIndex:0,children:n.name}),u(nt,{margin:"8px 0"}),t.map(C=>{var S,D;return u("li",{className:y("item",{selected:(S=v[C.code])==null?void 0:S.value}),children:u(Rf,{className:y("checkbox"),text:C.name,id:C.code,checked:((D=v[C.code])==null?void 0:D.value)||!1,setChecked:N=>{m({...v,[C.code]:{value:N,name:C.name}})}})},C.code)})]})]})};const $w=(r,n,e=5)=>{const t=[];if(n<=e)for(let a=1;a<=n;a+=1)t.push({number:a,symbol:a});else{const a=Math.floor(e/2);t.push({number:1,symbol:1});const s=Math.max(2,r>n-2?n-(e-1):r-a),i=Math.min(n-1,r<3?e:r+a);r-a>2&&t.push({symbol:"...",number:Math.floor((s+1)/2)});for(let o=s;o<=i;o+=1)t.push({number:o,symbol:o});r+a<n-1&&t.push({symbol:"...",number:Math.floor((n+i)/2)}),t.push({number:n,symbol:n})}return t},ou=r=>{const{className:n,goToPage:e,currentPage:t,totalPages:a}=r,[s,i]=p.useState(t),[o,l]=H("pagination",n),[c,d]=p.useState(!1),f=$w(s,a),h=async v=>{const m=s;d(!0),i(v),await e(v)||i(m),d(!1)};return p.useEffect(()=>{i(t)},[t]),a<2?null:w("div",{className:o(),children:[u(j,{theme:"blue-light",icon:"arrow--bottom",className:l("arrow",{notShow:!(t>1)}),onClick:()=>h(t-1)}),u("div",{className:l("pages"),children:f.map(v=>u(j,{theme:"blue-light",onClick:()=>h(v.number),className:l("page"),active:v.number===s,loading:c&&s===v.number,children:v.symbol},v.number))}),u(j,{theme:"blue-light",icon:"arrow",className:l("arrow",{notShow:!(t<a)}),onClick:()=>h(t+1)})]})};const Fw=r=>{const{className:n,buttons:e,active:t,base:a=""}=r,[s,i]=H("switch",n);return u("section",{className:s(),children:e.map(o=>w(xe,{to:"".concat(a).concat(o.url),className:i("link",{active:t===o.page}),children:[o.name,!!o.count&&u("span",{className:i("count"),children:o.count})]},o.url))})};const Mn=[{name:"Новые",value:"-created_at"},{name:"Старые",value:"created_at"},{name:"Cамые популярные",value:"-added_by_users"},{name:"Больше всего выполненные",value:"-completed_by_users"}],Gl=r=>{const{className:n,code:e="all",subPage:t,category:a,userId:s,completed:i,beginUrl:o,columns:l,categories:c}=r,[d,f]=H("catalog-items",n),[h,v]=p.useState({data:[],pagination:Ys}),[m,g]=p.useState({data:[],pagination:Ys}),[b,y]=p.useState(0),[_,E]=p.useState(""),[x,C]=p.useState(null),[S,D]=p.useState(s?{user_id:s,completed:i}:{}),[N,k]=p.useState([]),[T,P]=p.useState(!1),L=p.useMemo(()=>{let G="";return a&&(G=a.category.parentCategory?"".concat(a.category.parentCategory.nameEn,"/").concat(a.category.nameEn):a.category.nameEn),[{url:"".concat(o).concat(G),name:"Цели",page:"goals",count:h.pagination.totalItems},{url:"".concat(o).concat(G,"/lists"),name:"Списки",page:"lists",count:m.pagination.totalItems}]},[h,m,a,o]),O=p.useMemo(()=>c?c.map(G=>({name:G.name,code:G.nameEn})):[],[c]);p.useEffect(()=>{(async()=>{const G=s?{user_id:s,completed:i}:{};D(G);const ne=await ls(e,G);ne.success&&v(ne.data)})()},[t,e,i,s]),p.useEffect(()=>{(async()=>{const G=s?{user_id:s,completed:i}:{};D(G);const ne=await cs(e,G);ne.success&&g(ne.data)})()},[t,e,i,s]),p.useEffect(()=>{y(0),E(""),k([])},[t,o]);const $=async(G,ne,ce)=>{try{let Ce;const ke={...S,sort_by:G,page:ne,...ce&&ce.length>0?{categories:ce.join(",")}:{}};return t==="goals"?Ce=await ls(e,ke):Ce=await cs(e,ke),Ce.success?(t==="goals"?v(Ce.data):g(Ce.data),!0):!1}catch(Ce){return!1}},F=async G=>{y(G),await $(Mn[G].value,void 0,N)},I=async G=>{P(!0);const ne=await $(Mn[b].value,G,N);return Fl.scrollTo("catalog-items-goals",{duration:800,delay:0,smooth:"easeInOutQuart",offset:-150}),P(!1),ne},R=G=>{E(G);const ne=300;x&&clearTimeout(x),C(setTimeout(async()=>{if(t==="goals")if(G.length>=3){const ce=await ls(e,{sort_by:Mn[b].value,search:G,...N.length>0?{categories:N.join(",")}:{}});ce.success&&v(ce.data)}else{const ce=await ls(e,{sort_by:Mn[b].value,search:"",...N.length>0?{categories:N.join(",")}:{}});ce.success&&v(ce.data)}else if(G.length>=3){const ce=await cs(e,{sort_by:Mn[b].value,search:G,...N.length>0?{categories:N.join(",")}:{}});ce.success&&g(ce.data)}else{const ce=await cs(e,{sort_by:Mn[b].value,search:"",...N.length>0?{categories:N.join(",")}:{}});ce.success&&g(ce.data)}},ne))},A=async G=>{k(G),await $(Mn[b].value,void 0,G)},B=async(G,ne,ce,Ce)=>{const ke=await(ce==="add"?Di(G):ce==="delete"?Ti(G):Ba(G,!Ce));if(ke.success&&h){const Re={...h.data[ne],addedByUser:ce!=="delete",completedByUser:ce==="mark"?!Ce:h.data[ne].completedByUser,totalAdded:ke.data.users_added_count},J=[...h.data];J[ne]=Re,v({...h,data:J})}},K=async(G,ne,ce)=>{const Ce=await(ce==="add"?ki(G):Pi(G));if(Ce.success){const ke={...m.data[ne],addedByUser:ce==="add",totalAdded:Ce.data.users_added_count},Re=[...m.data];Re[ne]=ke,g({...m,data:Re})}};return w("section",{className:d(),children:[w("div",{className:f("filters"),children:[u(Fw,{className:f("switch"),buttons:L,active:t||""}),u(Ae,{className:f("search"),placeholder:"Поисковой запрос",id:"searching",value:_,setValue:R,iconBegin:"search"}),c&&c.length>0&&u(Rw,{head:{name:"Все категории",code:"all"},items:O,onFinish:A,multipleSelectedText:["категория","категории","категорий"],multipleThreshold:1}),u(dt,{options:Mn,activeOption:b,onSelect:F,filter:!0})]}),u(Xe,{isLoading:T,children:t==="goals"?u("section",{className:f("goals",{columns:l}),id:"catalog-items-goals",children:h.data.map((G,ne)=>u(Br,{className:f("goal"),goal:G,onClickAdd:()=>B(G.code,ne,"add"),onClickDelete:()=>B(G.code,ne,"delete"),onClickMark:()=>B(G.code,ne,"mark",G.completedByUser)},G.code))}):u("section",{className:f("goals",{columns:l}),id:"catalog-items-lists",children:m.data.map((G,ne)=>u(Br,{className:f("list"),goal:G,horizontal:!0,isList:!0,onClickAdd:()=>K(G.code,ne,"add"),onClickDelete:()=>K(G.code,ne,"delete")},G.code))})}),t==="lists"?u(ou,{currentPage:m.pagination.page,totalPages:m.pagination.totalPages,goToPage:I}):u(ou,{currentPage:h.pagination.page,totalPages:h.pagination.totalPages,goToPage:I})]},e)};const Gw=r=>{var c;const{className:n,category:e,isSub:t,refHeader:a}=r,[s,i]=H("header-category",n),[o,l]=p.useState(!1);return p.useEffect(()=>{const d=()=>{const h=window.scrollY>160;l(h)};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),w("header",{className:s({category:(t&&((c=e.category.parentCategory)!=null&&c.nameEn),e.category.nameEn),fixed:o}),style:{backgroundImage:"url(".concat(e.category.image,")")},ref:a,children:[w("div",{className:i("title-wrapper"),children:[t&&e.category.parentCategory&&u(xe,{to:"/categories/".concat(e.category.parentCategory.nameEn),children:w(le,{className:i("title-link"),tag:"h1",children:[e.category.parentCategory.name," / "]})}),u(le,{tag:"h1",theme:"white",className:i("title"),children:e.category.name})]}),!!e.subcategories.length&&!o&&u("section",{className:i("subcategories"),children:e.subcategories.map(d=>w(xe,{className:i("subcategory"),to:"/categories/".concat(e.category.nameEn,"/").concat(d.nameEn),children:[d.icon&&u("img",{className:i("subcategory-icon"),src:d.icon,alt:d.name}),d.name]},d.nameEn))})]})},$n=async r=>await ge("categories/".concat(r)),Bw=async r=>await ge("goals/".concat(r,"/popular"),{auth:!0}),Ww=async r=>await ge("goal-lists/".concat(r,"/popular"),{auth:!0});const Hw=({subPage:r,page:n})=>{const[e,t]=H("category"),[a,s]=p.useState(null),[i,o]=p.useState([]),[l,c]=p.useState([]),[d,f]=p.useState([]),[h,v]=p.useState(!0),m=p.useRef(null),{id:g}=Qr();p.useEffect(()=>{(async()=>{v(!0);const _=[];g?_.push($n(g)):_.push(jn()),_.push(Bw(g||"all")),_.push(Ww(g||"all"));const[E,x,C]=await Promise.all(_);!g&&E.success?f(E.data):g&&E.success&&s(E.data),x.success&&o(x.data),C.success&&c(C.data),v(!1)})()},[g]);const b=async(_,E,x,C)=>{const S=await(x==="add"?Di(_):x==="delete"?Ti(_):Ba(_,!C));if(S.success&&i){const D={...i[E],addedByUser:x!=="delete",completedByUser:x==="mark"?!C:i[E].completedByUser,totalAdded:S.data.users_added_count},N=[...i];N[E]=D,o(N)}},y=async(_,E,x)=>{const C=await(x==="add"?ki(_):Pi(_));if(C.success){const S={...l[E],addedByUser:x==="add",totalAdded:C.data.users_added_count},D=[...l];D[E]=S,c(D)}};return w("main",{className:e({sub:n==="isSubCategories",empty:!(a!=null&&a.subcategories.length),all:!g}),children:[g&&g!=="all"&&a&&u(Gw,{category:a,className:t("header"),isSub:n==="isSubCategories",refHeader:m}),w(Xe,{isLoading:h,children:[!!i.length&&w(ct,{children:[w("div",{className:t("wrapper-title"),children:[u(le,{tag:"h2",children:"Популярные цели этой недели"}),u(j,{type:"Link",theme:"blue",icon:"plus",href:"/goals/create".concat(g&&g!=="all"?"?category=".concat(g):""),size:"small",children:"Добавить цель"})]}),u("section",{className:t("popular-goals"),children:i.map((_,E)=>u(Br,{goal:_,className:t("popular-goal"),onClickAdd:()=>b(_.code,E,"add"),onClickDelete:()=>b(_.code,E,"delete"),onClickMark:()=>b(_.code,E,"mark",_.completedByUser)},_.code))})]}),!!l.length&&w(ct,{children:[w("div",{className:t("wrapper-title"),children:[u(le,{tag:"h2",children:"Популярные списки этой недели"}),u(j,{type:"Link",theme:"blue",icon:"plus",href:"/list/create".concat(g&&g!=="all"?"?category=".concat(g):""),size:"small",children:"Добавить список целей"})]}),u("section",{className:t("popular-lists"),children:l.map((_,E)=>u(Br,{horizontal:!0,isList:!0,goal:_,className:t("popular-list"),onClickAdd:()=>y(_.code,E,"add"),onClickDelete:()=>y(_.code,E,"delete")},_.code))})]}),u(le,{className:t("title"),tag:"h2",children:"Все цели и списки"}),u(Gl,{code:g||"all",className:t("all-goals"),subPage:r,category:a,beginUrl:g?"/categories/":"/categories/all",categories:d}),!g&&u(Vf,{categories:d,tag:"h2",title:"Категории"})]})]})},Sr=({page:r,subPage:n})=>{const{setPage:e,setHeader:t,setFull:a}=Me;return p.useEffect(()=>{e(r),r==="isCategoriesAll"?(t("white"),a(!1)):(t("transparent"),a(!0))},[r]),u(Hw,{page:r,subPage:n})},up=6048e5,Yw=864e5,Oi=6e4,Mi=36e5,Vw=1e3,lu=Symbol.for("constructDateFrom");function Oe(r,n){return typeof r=="function"?r(n):r&&typeof r=="object"&&lu in r?r[lu](n):r instanceof Date?new r.constructor(n):new Date(n)}function Z(r,n){return Oe(n||r,r)}function Gt(r,n,e){const t=Z(r,e==null?void 0:e.in);return isNaN(n)?Oe((e==null?void 0:e.in)||r,NaN):(n&&t.setDate(t.getDate()+n),t)}function Ht(r,n,e){const t=Z(r,e==null?void 0:e.in);if(isNaN(n))return Oe((e==null?void 0:e.in)||r,NaN);if(!n)return t;const a=t.getDate(),s=Oe((e==null?void 0:e.in)||r,t.getTime());s.setMonth(t.getMonth()+n+1,0);const i=s.getDate();return a>=i?s:(t.setFullYear(s.getFullYear(),s.getMonth(),a),t)}function dp(r,n,e){return Oe((e==null?void 0:e.in)||r,+Z(r)+n)}function jw(r,n,e){return dp(r,n*Mi,e)}let Uw={};function gr(){return Uw}function Yt(r,n){var o,l,c,d,f,h,v,m;const e=gr(),t=(m=(v=(d=(c=n==null?void 0:n.weekStartsOn)!=null?c:(l=(o=n==null?void 0:n.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)!=null?d:e.weekStartsOn)!=null?v:(h=(f=e.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?m:0,a=Z(r,n==null?void 0:n.in),s=a.getDay(),i=(s<t?7:0)+s-t;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Wr(r,n){return Yt(r,{...n,weekStartsOn:1})}function fp(r,n){const e=Z(r,n==null?void 0:n.in),t=e.getFullYear(),a=Oe(e,0);a.setFullYear(t+1,0,4),a.setHours(0,0,0,0);const s=Wr(a),i=Oe(e,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const o=Wr(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function js(r){const n=Z(r),e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+r-+e}function un(r,...n){const e=Oe.bind(null,r||n.find(t=>typeof t=="object"));return n.map(e)}function cr(r,n){const e=Z(r,n==null?void 0:n.in);return e.setHours(0,0,0,0),e}function Hr(r,n,e){const[t,a]=un(e==null?void 0:e.in,r,n),s=cr(t),i=cr(a),o=+s-js(s),l=+i-js(i);return Math.round((o-l)/Yw)}function zw(r,n){const e=fp(r,n),t=Oe((n==null?void 0:n.in)||r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Wr(t)}function Zo(r,n,e){const t=Z(r,e==null?void 0:e.in);return t.setTime(t.getTime()+n*Oi),t}function Bl(r,n,e){return Ht(r,n*3,e)}function qw(r,n,e){return dp(r,n*1e3,e)}function Us(r,n,e){return Gt(r,n*7,e)}function Sn(r,n,e){return Ht(r,n*12,e)}function cu(r,n){let e,t=n==null?void 0:n.in;return r.forEach(a=>{!t&&typeof a=="object"&&(t=Oe.bind(null,a));const s=Z(a,t);(!e||e<s||isNaN(+s))&&(e=s)}),Oe(t,e||NaN)}function uu(r,n){let e,t=n==null?void 0:n.in;return r.forEach(a=>{!t&&typeof a=="object"&&(t=Oe.bind(null,a));const s=Z(a,t);(!e||e>s||isNaN(+s))&&(e=s)}),Oe(t,e||NaN)}function Kw(r,n,e){const[t,a]=un(e==null?void 0:e.in,r,n);return+cr(t)==+cr(a)}function En(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function zs(r){return!(!En(r)&&typeof r!="number"||isNaN(+Z(r)))}function qs(r,n,e){const[t,a]=un(e==null?void 0:e.in,r,n),s=t.getFullYear()-a.getFullYear(),i=t.getMonth()-a.getMonth();return s*12+i}function tr(r,n){const e=Z(r,n==null?void 0:n.in);return Math.trunc(e.getMonth()/3)+1}function Ks(r,n,e){const[t,a]=un(e==null?void 0:e.in,r,n),s=t.getFullYear()-a.getFullYear(),i=tr(t)-tr(a);return s*4+i}function Qs(r,n,e){const[t,a]=un(e==null?void 0:e.in,r,n);return t.getFullYear()-a.getFullYear()}function Qw(r,n,e){const[t,a]=un(e==null?void 0:e.in,r,n),s=du(t,a),i=Math.abs(Hr(t,a));t.setDate(t.getDate()-s*i);const o=+(du(t,a)===-s),l=s*(i-o);return l===0?0:l}function du(r,n){const e=r.getFullYear()-n.getFullYear()||r.getMonth()-n.getMonth()||r.getDate()-n.getDate()||r.getHours()-n.getHours()||r.getMinutes()-n.getMinutes()||r.getSeconds()-n.getSeconds()||r.getMilliseconds()-n.getMilliseconds();return e<0?-1:e>0?1:e}function pp(r,n){const e=Z(r,n==null?void 0:n.in);return e.setHours(23,59,59,999),e}function hp(r,n){const e=Z(r,n==null?void 0:n.in),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Jo(r,n){const e=Z(r,n==null?void 0:n.in),t=e.getMonth(),a=t-t%3;return e.setMonth(a,1),e.setHours(0,0,0,0),e}function mp(r,n){const e=Z(r,n==null?void 0:n.in);return e.setDate(1),e.setHours(0,0,0,0),e}function vp(r,n){const e=Z(r,n==null?void 0:n.in),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function Li(r,n){const e=Z(r,n==null?void 0:n.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function Xw(r,n){var o,l,c,d,f,h,v,m;const e=gr(),t=(m=(v=(d=(c=n==null?void 0:n.weekStartsOn)!=null?c:(l=(o=n==null?void 0:n.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)!=null?d:e.weekStartsOn)!=null?v:(h=(f=e.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?m:0,a=Z(r,n==null?void 0:n.in),s=a.getDay(),i=(s<t?-7:0)+6-(s-t);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}const Zw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jw=(r,n,e)=>{let t;const a=Zw[r];return typeof a=="string"?t=a:n===1?t=a.one:t=a.other.replace("{{count}}",n.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+t:t+" ago":t};function Tr(r){return(n={})=>{const e=n.width?String(n.width):r.defaultWidth;return r.formats[e]||r.formats[r.defaultWidth]}}const e0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},t0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},r0={date:Tr({formats:e0,defaultWidth:"full"}),time:Tr({formats:t0,defaultWidth:"full"}),dateTime:Tr({formats:n0,defaultWidth:"full"})},a0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},s0=(r,n,e,t)=>a0[r];function Kt(r){return(n,e)=>{const t=e!=null&&e.context?String(e.context):"standalone";let a;if(t==="formatting"&&r.formattingValues){const i=r.defaultFormattingWidth||r.defaultWidth,o=e!=null&&e.width?String(e.width):i;a=r.formattingValues[o]||r.formattingValues[i]}else{const i=r.defaultWidth,o=e!=null&&e.width?String(e.width):r.defaultWidth;a=r.values[o]||r.values[i]}const s=r.argumentCallback?r.argumentCallback(n):n;return a[s]}}const i0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},o0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f0=(r,n)=>{const e=Number(r),t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},p0={ordinalNumber:f0,era:Kt({values:i0,defaultWidth:"wide"}),quarter:Kt({values:o0,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Kt({values:l0,defaultWidth:"wide"}),day:Kt({values:c0,defaultWidth:"wide"}),dayPeriod:Kt({values:u0,defaultWidth:"wide",formattingValues:d0,defaultFormattingWidth:"wide"})};function Qt(r){return(n,e={})=>{const t=e.width,a=t&&r.matchPatterns[t]||r.matchPatterns[r.defaultMatchWidth],s=n.match(a);if(!s)return null;const i=s[0],o=t&&r.parsePatterns[t]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(o)?m0(o,f=>f.test(i)):h0(o,f=>f.test(i));let c;c=r.valueCallback?r.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c;const d=n.slice(i.length);return{value:c,rest:d}}}function h0(r,n){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)&&n(r[e]))return e}function m0(r,n){for(let e=0;e<r.length;e++)if(n(r[e]))return e}function gp(r){return(n,e={})=>{const t=n.match(r.matchPattern);if(!t)return null;const a=t[0],s=n.match(r.parsePattern);if(!s)return null;let i=r.valueCallback?r.valueCallback(s[0]):s[0];i=e.valueCallback?e.valueCallback(i):i;const o=n.slice(a.length);return{value:i,rest:o}}}const v0=/^(\d+)(th|st|nd|rd)?/i,g0=/\d+/i,y0={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},b0={any:[/^b/i,/^(a|c)/i]},w0={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_0={any:[/1/i,/2/i,/3/i,/4/i]},S0={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E0={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N0={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},C0={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},x0={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},D0={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},k0={ordinalNumber:gp({matchPattern:v0,parsePattern:g0,valueCallback:r=>parseInt(r,10)}),era:Qt({matchPatterns:y0,defaultMatchWidth:"wide",parsePatterns:b0,defaultParseWidth:"any"}),quarter:Qt({matchPatterns:w0,defaultMatchWidth:"wide",parsePatterns:_0,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Qt({matchPatterns:S0,defaultMatchWidth:"wide",parsePatterns:E0,defaultParseWidth:"any"}),day:Qt({matchPatterns:N0,defaultMatchWidth:"wide",parsePatterns:C0,defaultParseWidth:"any"}),dayPeriod:Qt({matchPatterns:x0,defaultMatchWidth:"any",parsePatterns:D0,defaultParseWidth:"any"})},yp={code:"en-US",formatDistance:Jw,formatLong:r0,formatRelative:s0,localize:p0,match:k0,options:{weekStartsOn:0,firstWeekContainsDate:1}};function T0(r,n){const e=Z(r,n==null?void 0:n.in);return Hr(e,Li(e))+1}function Wl(r,n){const e=Z(r,n==null?void 0:n.in),t=+Wr(e)-+zw(e);return Math.round(t/up)+1}function Hl(r,n){var d,f,h,v,m,g,b,y;const e=Z(r,n==null?void 0:n.in),t=e.getFullYear(),a=gr(),s=(y=(b=(v=(h=n==null?void 0:n.firstWeekContainsDate)!=null?h:(f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)!=null?v:a.firstWeekContainsDate)!=null?b:(g=(m=a.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)!=null?y:1,i=Oe((n==null?void 0:n.in)||r,0);i.setFullYear(t+1,0,s),i.setHours(0,0,0,0);const o=Yt(i,n),l=Oe((n==null?void 0:n.in)||r,0);l.setFullYear(t,0,s),l.setHours(0,0,0,0);const c=Yt(l,n);return+e>=+o?t+1:+e>=+c?t:t-1}function P0(r,n){var o,l,c,d,f,h,v,m;const e=gr(),t=(m=(v=(d=(c=n==null?void 0:n.firstWeekContainsDate)!=null?c:(l=(o=n==null?void 0:n.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)!=null?d:e.firstWeekContainsDate)!=null?v:(h=(f=e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)!=null?m:1,a=Hl(r,n),s=Oe((n==null?void 0:n.in)||r,0);return s.setFullYear(a,0,t),s.setHours(0,0,0,0),Yt(s,n)}function bp(r,n){const e=Z(r,n==null?void 0:n.in),t=+Yt(e,n)-+P0(e,n);return Math.round(t/up)+1}function Te(r,n){const e=r<0?"-":"",t=Math.abs(r).toString().padStart(n,"0");return e+t}const Ln={y(r,n){const e=r.getFullYear(),t=e>0?e:1-e;return Te(n==="yy"?t%100:t,n.length)},M(r,n){const e=r.getMonth();return n==="M"?String(e+1):Te(e+1,2)},d(r,n){return Te(r.getDate(),n.length)},a(r,n){const e=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(r,n){return Te(r.getHours()%12||12,n.length)},H(r,n){return Te(r.getHours(),n.length)},m(r,n){return Te(r.getMinutes(),n.length)},s(r,n){return Te(r.getSeconds(),n.length)},S(r,n){const e=n.length,t=r.getMilliseconds(),a=Math.trunc(t*Math.pow(10,e-3));return Te(a,n.length)}},Er={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fu={G:function(r,n,e){const t=r.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return e.era(t,{width:"abbreviated"});case"GGGGG":return e.era(t,{width:"narrow"});case"GGGG":default:return e.era(t,{width:"wide"})}},y:function(r,n,e){if(n==="yo"){const t=r.getFullYear(),a=t>0?t:1-t;return e.ordinalNumber(a,{unit:"year"})}return Ln.y(r,n)},Y:function(r,n,e,t){const a=Hl(r,t),s=a>0?a:1-a;if(n==="YY"){const i=s%100;return Te(i,2)}return n==="Yo"?e.ordinalNumber(s,{unit:"year"}):Te(s,n.length)},R:function(r,n){const e=fp(r);return Te(e,n.length)},u:function(r,n){const e=r.getFullYear();return Te(e,n.length)},Q:function(r,n,e){const t=Math.ceil((r.getMonth()+1)/3);switch(n){case"Q":return String(t);case"QQ":return Te(t,2);case"Qo":return e.ordinalNumber(t,{unit:"quarter"});case"QQQ":return e.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(t,{width:"wide",context:"formatting"})}},q:function(r,n,e){const t=Math.ceil((r.getMonth()+1)/3);switch(n){case"q":return String(t);case"qq":return Te(t,2);case"qo":return e.ordinalNumber(t,{unit:"quarter"});case"qqq":return e.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(t,{width:"wide",context:"standalone"})}},M:function(r,n,e){const t=r.getMonth();switch(n){case"M":case"MM":return Ln.M(r,n);case"Mo":return e.ordinalNumber(t+1,{unit:"month"});case"MMM":return e.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(t,{width:"wide",context:"formatting"})}},L:function(r,n,e){const t=r.getMonth();switch(n){case"L":return String(t+1);case"LL":return Te(t+1,2);case"Lo":return e.ordinalNumber(t+1,{unit:"month"});case"LLL":return e.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(t,{width:"wide",context:"standalone"})}},w:function(r,n,e,t){const a=bp(r,t);return n==="wo"?e.ordinalNumber(a,{unit:"week"}):Te(a,n.length)},I:function(r,n,e){const t=Wl(r);return n==="Io"?e.ordinalNumber(t,{unit:"week"}):Te(t,n.length)},d:function(r,n,e){return n==="do"?e.ordinalNumber(r.getDate(),{unit:"date"}):Ln.d(r,n)},D:function(r,n,e){const t=T0(r);return n==="Do"?e.ordinalNumber(t,{unit:"dayOfYear"}):Te(t,n.length)},E:function(r,n,e){const t=r.getDay();switch(n){case"E":case"EE":case"EEE":return e.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(t,{width:"short",context:"formatting"});case"EEEE":default:return e.day(t,{width:"wide",context:"formatting"})}},e:function(r,n,e,t){const a=r.getDay(),s=(a-t.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return Te(s,2);case"eo":return e.ordinalNumber(s,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});case"eeee":default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(r,n,e,t){const a=r.getDay(),s=(a-t.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return Te(s,n.length);case"co":return e.ordinalNumber(s,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});case"cccc":default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(r,n,e){const t=r.getDay(),a=t===0?7:t;switch(n){case"i":return String(a);case"ii":return Te(a,n.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(t,{width:"short",context:"formatting"});case"iiii":default:return e.day(t,{width:"wide",context:"formatting"})}},a:function(r,n,e){const a=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,n,e){const t=r.getHours();let a;switch(t===12?a=Er.noon:t===0?a=Er.midnight:a=t/12>=1?"pm":"am",n){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,n,e){const t=r.getHours();let a;switch(t>=17?a=Er.evening:t>=12?a=Er.afternoon:t>=4?a=Er.morning:a=Er.night,n){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,n,e){if(n==="ho"){let t=r.getHours()%12;return t===0&&(t=12),e.ordinalNumber(t,{unit:"hour"})}return Ln.h(r,n)},H:function(r,n,e){return n==="Ho"?e.ordinalNumber(r.getHours(),{unit:"hour"}):Ln.H(r,n)},K:function(r,n,e){const t=r.getHours()%12;return n==="Ko"?e.ordinalNumber(t,{unit:"hour"}):Te(t,n.length)},k:function(r,n,e){let t=r.getHours();return t===0&&(t=24),n==="ko"?e.ordinalNumber(t,{unit:"hour"}):Te(t,n.length)},m:function(r,n,e){return n==="mo"?e.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ln.m(r,n)},s:function(r,n,e){return n==="so"?e.ordinalNumber(r.getSeconds(),{unit:"second"}):Ln.s(r,n)},S:function(r,n){return Ln.S(r,n)},X:function(r,n,e){const t=r.getTimezoneOffset();if(t===0)return"Z";switch(n){case"X":return hu(t);case"XXXX":case"XX":return Qn(t);case"XXXXX":case"XXX":default:return Qn(t,":")}},x:function(r,n,e){const t=r.getTimezoneOffset();switch(n){case"x":return hu(t);case"xxxx":case"xx":return Qn(t);case"xxxxx":case"xxx":default:return Qn(t,":")}},O:function(r,n,e){const t=r.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+pu(t,":");case"OOOO":default:return"GMT"+Qn(t,":")}},z:function(r,n,e){const t=r.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+pu(t,":");case"zzzz":default:return"GMT"+Qn(t,":")}},t:function(r,n,e){const t=Math.trunc(+r/1e3);return Te(t,n.length)},T:function(r,n,e){return Te(+r,n.length)}};function pu(r,n=""){const e=r>0?"-":"+",t=Math.abs(r),a=Math.trunc(t/60),s=t%60;return s===0?e+String(a):e+String(a)+n+Te(s,2)}function hu(r,n){return r%60===0?(r>0?"-":"+")+Te(Math.abs(r)/60,2):Qn(r,n)}function Qn(r,n=""){const e=r>0?"-":"+",t=Math.abs(r),a=Te(Math.trunc(t/60),2),s=Te(t%60,2);return e+a+n+s}const mu=(r,n)=>{switch(r){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},wp=(r,n)=>{switch(r){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},O0=(r,n)=>{const e=r.match(/(P+)(p+)?/)||[],t=e[1],a=e[2];if(!a)return mu(r,n);let s;switch(t){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",mu(t,n)).replace("{{time}}",wp(a,n))},el={p:wp,P:O0},M0=/^D+$/,L0=/^Y+$/,A0=["D","DD","YY","YYYY"];function _p(r){return M0.test(r)}function Sp(r){return L0.test(r)}function tl(r,n,e){const t=I0(r,n,e);if(console.warn(t),A0.includes(r))throw new RangeError(t)}function I0(r,n,e){const t=r[0]==="Y"?"years":"days of the month";return"Use `".concat(r.toLowerCase(),"` instead of `").concat(r,"` (in `").concat(n,"`) for formatting ").concat(t," to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}const R0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$0=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F0=/^'([^]*?)'?$/,G0=/''/g,B0=/[a-zA-Z]/;function Yr(r,n,e){var d,f,h,v,m,g,b,y,_,E,x,C,S,D,N,k,T,P;const t=gr(),a=(f=(d=e==null?void 0:e.locale)!=null?d:t.locale)!=null?f:yp,s=(E=(_=(g=(m=e==null?void 0:e.firstWeekContainsDate)!=null?m:(v=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)!=null?g:t.firstWeekContainsDate)!=null?_:(y=(b=t.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)!=null?E:1,i=(P=(T=(D=(S=e==null?void 0:e.weekStartsOn)!=null?S:(C=(x=e==null?void 0:e.locale)==null?void 0:x.options)==null?void 0:C.weekStartsOn)!=null?D:t.weekStartsOn)!=null?T:(k=(N=t.locale)==null?void 0:N.options)==null?void 0:k.weekStartsOn)!=null?P:0,o=Z(r,e==null?void 0:e.in);if(!zs(o))throw new RangeError("Invalid time value");let l=n.match($0).map(L=>{const O=L[0];if(O==="p"||O==="P"){const $=el[O];return $(L,a.formatLong)}return L}).join("").match(R0).map(L=>{if(L==="''")return{isToken:!1,value:"'"};const O=L[0];if(O==="'")return{isToken:!1,value:W0(L)};if(fu[O])return{isToken:!0,value:L};if(O.match(B0))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:L}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return l.map(L=>{if(!L.isToken)return L.value;const O=L.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&Sp(O)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&_p(O))&&tl(O,n,String(r));const $=fu[O[0]];return $(o,O,a.localize,c)}).join("")}function W0(r){const n=r.match(F0);return n?n[1].replace(G0,"'"):r}function vu(r,n){return Z(r,n==null?void 0:n.in).getDate()}function H0(r,n){return Z(r,n==null?void 0:n.in).getDay()}function Y0(r,n){const e=Z(r,n==null?void 0:n.in),t=e.getFullYear(),a=e.getMonth(),s=Oe(e,0);return s.setFullYear(t,a+1,0),s.setHours(0,0,0,0),s.getDate()}function V0(){return Object.assign({},gr())}function Nn(r,n){return Z(r,n==null?void 0:n.in).getHours()}function j0(r,n){const e=Z(r,n==null?void 0:n.in).getDay();return e===0?7:e}function Cn(r,n){return Z(r,n==null?void 0:n.in).getMinutes()}function mt(r,n){return Z(r,n==null?void 0:n.in).getMonth()}function Bn(r){return Z(r).getSeconds()}function nl(r){return+Z(r)}function pe(r,n){return Z(r,n==null?void 0:n.in).getFullYear()}function Hn(r,n){return+Z(r)>+Z(n)}function ur(r,n){return+Z(r)<+Z(n)}function U0(r,n){return+Z(r)==+Z(n)}function z0(r,n){const e=q0(n)?new n(0):Oe(n,0);return e.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),e.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),e}function q0(r){var n;return typeof r=="function"&&((n=r.prototype)==null?void 0:n.constructor)===r}const K0=10;class Ep{constructor(){U(this,"subPriority",0)}validate(n,e){return!0}}class Q0 extends Ep{constructor(n,e,t,a,s){super(),this.value=n,this.validateValue=e,this.setValue=t,this.priority=a,s&&(this.subPriority=s)}validate(n,e){return this.validateValue(n,this.value,e)}set(n,e,t){return this.setValue(n,e,this.value,t)}}class X0 extends Ep{constructor(e,t){super();U(this,"priority",K0);U(this,"subPriority",-1);this.context=e||(a=>Oe(t,a))}set(e,t){return t.timestampIsSet?e:Oe(e,z0(e,this.context))}}class Ne{run(n,e,t,a){const s=this.parse(n,e,t,a);return s?{setter:new Q0(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(n,e,t){return!0}}class Z0 extends Ne{constructor(){super(...arguments);U(this,"priority",140);U(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,a){switch(t){case"G":case"GG":case"GGG":return a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"});case"GGGGG":return a.era(e,{width:"narrow"});case"GGGG":default:return a.era(e,{width:"wide"})||a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"})}}set(e,t,a){return t.era=a,e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}const Ke={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Qe(r,n){return r&&{value:n(r.value),rest:r.rest}}function je(r,n){const e=n.match(r);return e?{value:parseInt(e[0],10),rest:n.slice(e[0].length)}:null}function Zt(r,n){const e=n.match(r);if(!e)return null;if(e[0]==="Z")return{value:0,rest:n.slice(1)};const t=e[1]==="+"?1:-1,a=e[2]?parseInt(e[2],10):0,s=e[3]?parseInt(e[3],10):0,i=e[5]?parseInt(e[5],10):0;return{value:t*(a*Mi+s*Oi+i*Vw),rest:n.slice(e[0].length)}}function Np(r){return je(Ke.anyDigitsSigned,r)}function ze(r,n){switch(r){case 1:return je(Ke.singleDigit,n);case 2:return je(Ke.twoDigits,n);case 3:return je(Ke.threeDigits,n);case 4:return je(Ke.fourDigits,n);default:return je(new RegExp("^\\d{1,"+r+"}"),n)}}function Xs(r,n){switch(r){case 1:return je(Ke.singleDigitSigned,n);case 2:return je(Ke.twoDigitsSigned,n);case 3:return je(Ke.threeDigitsSigned,n);case 4:return je(Ke.fourDigitsSigned,n);default:return je(new RegExp("^-?\\d{1,"+r+"}"),n)}}function Yl(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Cp(r,n){const e=n>0,t=e?n:1-n;let a;if(t<=50)a=r||100;else{const s=t+50,i=Math.trunc(s/100)*100,o=r>=s%100;a=r+i-(o?100:0)}return e?a:1-a}function xp(r){return r%400===0||r%4===0&&r%100!==0}class J0 extends Ne{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,a){const s=i=>({year:i,isTwoDigitYear:t==="yy"});switch(t){case"y":return Qe(ze(4,e),s);case"yo":return Qe(a.ordinalNumber(e,{unit:"year"}),s);default:return Qe(ze(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a){const s=e.getFullYear();if(a.isTwoDigitYear){const o=Cp(a.year,s);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const i=!("era"in t)||t.era===1?a.year:1-a.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class e_ extends Ne{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,a){const s=i=>({year:i,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Qe(ze(4,e),s);case"Yo":return Qe(a.ordinalNumber(e,{unit:"year"}),s);default:return Qe(ze(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a,s){const i=Hl(e,s);if(a.isTwoDigitYear){const l=Cp(a.year,i);return e.setFullYear(l,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Yt(e,s)}const o=!("era"in t)||t.era===1?a.year:1-a.year;return e.setFullYear(o,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Yt(e,s)}}class t_ extends Ne{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return Xs(t==="R"?4:t.length,e)}set(e,t,a){const s=Oe(e,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Wr(s)}}class n_ extends Ne{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return Xs(t==="u"?4:t.length,e)}set(e,t,a){return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class r_ extends Ne{constructor(){super(...arguments);U(this,"priority",120);U(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"Q":case"QQ":return ze(t.length,e);case"Qo":return a.ordinalNumber(e,{unit:"quarter"});case"QQQ":return a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(e,{width:"wide",context:"formatting"})||a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class a_ extends Ne{constructor(){super(...arguments);U(this,"priority",120);U(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"q":case"qq":return ze(t.length,e);case"qo":return a.ordinalNumber(e,{unit:"quarter"});case"qqq":return a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(e,{width:"wide",context:"standalone"})||a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth((a-1)*3,1),e.setHours(0,0,0,0),e}}class s_ extends Ne{constructor(){super(...arguments);U(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);U(this,"priority",110)}parse(e,t,a){const s=i=>i-1;switch(t){case"M":return Qe(je(Ke.month,e),s);case"MM":return Qe(ze(2,e),s);case"Mo":return Qe(a.ordinalNumber(e,{unit:"month"}),s);case"MMM":return a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(e,{width:"wide",context:"formatting"})||a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}class i_ extends Ne{constructor(){super(...arguments);U(this,"priority",110);U(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,a){const s=i=>i-1;switch(t){case"L":return Qe(je(Ke.month,e),s);case"LL":return Qe(ze(2,e),s);case"Lo":return Qe(a.ordinalNumber(e,{unit:"month"}),s);case"LLL":return a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(e,{width:"wide",context:"standalone"})||a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}}function o_(r,n,e){const t=Z(r,e==null?void 0:e.in),a=bp(t,e)-n;return t.setDate(t.getDate()-a*7),Z(t,e==null?void 0:e.in)}class l_ extends Ne{constructor(){super(...arguments);U(this,"priority",100);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,a){switch(t){case"w":return je(Ke.week,e);case"wo":return a.ordinalNumber(e,{unit:"week"});default:return ze(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a,s){return Yt(o_(e,a,s),s)}}function c_(r,n,e){const t=Z(r,e==null?void 0:e.in),a=Wl(t,e)-n;return t.setDate(t.getDate()-a*7),t}class u_ extends Ne{constructor(){super(...arguments);U(this,"priority",100);U(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,a){switch(t){case"I":return je(Ke.week,e);case"Io":return a.ordinalNumber(e,{unit:"week"});default:return ze(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a){return Wr(c_(e,a))}}const d_=[31,28,31,30,31,30,31,31,30,31,30,31],f_=[31,29,31,30,31,30,31,31,30,31,30,31];class p_ extends Ne{constructor(){super(...arguments);U(this,"priority",90);U(this,"subPriority",1);U(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"d":return je(Ke.date,e);case"do":return a.ordinalNumber(e,{unit:"date"});default:return ze(t.length,e)}}validate(e,t){const a=e.getFullYear(),s=xp(a),i=e.getMonth();return s?t>=1&&t<=f_[i]:t>=1&&t<=d_[i]}set(e,t,a){return e.setDate(a),e.setHours(0,0,0,0),e}}class h_ extends Ne{constructor(){super(...arguments);U(this,"priority",90);U(this,"subpriority",1);U(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,a){switch(t){case"D":case"DD":return je(Ke.dayOfYear,e);case"Do":return a.ordinalNumber(e,{unit:"date"});default:return ze(t.length,e)}}validate(e,t){const a=e.getFullYear();return xp(a)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,a){return e.setMonth(0,a),e.setHours(0,0,0,0),e}}function Vl(r,n,e){var f,h,v,m,g,b,y,_;const t=gr(),a=(_=(y=(m=(v=e==null?void 0:e.weekStartsOn)!=null?v:(h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?m:t.weekStartsOn)!=null?y:(b=(g=t.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)!=null?_:0,s=Z(r,e==null?void 0:e.in),i=s.getDay(),l=(n%7+7)%7,c=7-a,d=n<0||n>6?n-(i+c)%7:(l+c)%7-(i+c)%7;return Gt(s,d,e)}class m_ extends Ne{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"E":case"EE":case"EEE":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=Vl(e,a,s),e.setHours(0,0,0,0),e}}class v_ extends Ne{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,a,s){const i=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(t){case"e":case"ee":return Qe(ze(t.length,e),i);case"eo":return Qe(a.ordinalNumber(e,{unit:"day"}),i);case"eee":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeeee":return a.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=Vl(e,a,s),e.setHours(0,0,0,0),e}}class g_ extends Ne{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,a,s){const i=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(t){case"c":case"cc":return Qe(ze(t.length,e),i);case"co":return Qe(a.ordinalNumber(e,{unit:"day"}),i);case"ccc":return a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"ccccc":return a.day(e,{width:"narrow",context:"standalone"});case"cccccc":return a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(e,{width:"wide",context:"standalone"})||a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,s){return e=Vl(e,a,s),e.setHours(0,0,0,0),e}}function y_(r,n,e){const t=Z(r,e==null?void 0:e.in),a=j0(t,e),s=n-a;return Gt(t,s,e)}class b_ extends Ne{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,a){const s=i=>i===0?7:i;switch(t){case"i":case"ii":return ze(t.length,e);case"io":return a.ordinalNumber(e,{unit:"day"});case"iii":return Qe(a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return Qe(a.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Qe(a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Qe(a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,a){return e=y_(e,a),e.setHours(0,0,0,0),e}}class w_ extends Ne{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,a){switch(t){case"a":case"aa":case"aaa":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(Yl(a),0,0,0),e}}class __ extends Ne{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,a){switch(t){case"b":case"bb":case"bbb":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(Yl(a),0,0,0),e}}class S_ extends Ne{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,a){switch(t){case"B":case"BB":case"BBB":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(Yl(a),0,0,0),e}}class E_ extends Ne{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,a){switch(t){case"h":return je(Ke.hour12h,e);case"ho":return a.ordinalNumber(e,{unit:"hour"});default:return ze(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,a){const s=e.getHours()>=12;return s&&a<12?e.setHours(a+12,0,0,0):!s&&a===12?e.setHours(0,0,0,0):e.setHours(a,0,0,0),e}}class N_ extends Ne{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,a){switch(t){case"H":return je(Ke.hour23h,e);case"Ho":return a.ordinalNumber(e,{unit:"hour"});default:return ze(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,a){return e.setHours(a,0,0,0),e}}class C_ extends Ne{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,a){switch(t){case"K":return je(Ke.hour11h,e);case"Ko":return a.ordinalNumber(e,{unit:"hour"});default:return ze(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.getHours()>=12&&a<12?e.setHours(a+12,0,0,0):e.setHours(a,0,0,0),e}}class x_ extends Ne{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,a){switch(t){case"k":return je(Ke.hour24h,e);case"ko":return a.ordinalNumber(e,{unit:"hour"});default:return ze(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,a){const s=a<=24?a%24:a;return e.setHours(s,0,0,0),e}}class D_ extends Ne{constructor(){super(...arguments);U(this,"priority",60);U(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"m":return je(Ke.minute,e);case"mo":return a.ordinalNumber(e,{unit:"minute"});default:return ze(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setMinutes(a,0,0),e}}class k_ extends Ne{constructor(){super(...arguments);U(this,"priority",50);U(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"s":return je(Ke.second,e);case"so":return a.ordinalNumber(e,{unit:"second"});default:return ze(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setSeconds(a,0),e}}class T_ extends Ne{constructor(){super(...arguments);U(this,"priority",30);U(this,"incompatibleTokens",["t","T"])}parse(e,t){const a=s=>Math.trunc(s*Math.pow(10,-t.length+3));return Qe(ze(t.length,e),a)}set(e,t,a){return e.setMilliseconds(a),e}}class P_ extends Ne{constructor(){super(...arguments);U(this,"priority",10);U(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return Zt(Xt.basicOptionalMinutes,e);case"XX":return Zt(Xt.basic,e);case"XXXX":return Zt(Xt.basicOptionalSeconds,e);case"XXXXX":return Zt(Xt.extendedOptionalSeconds,e);case"XXX":default:return Zt(Xt.extended,e)}}set(e,t,a){return t.timestampIsSet?e:Oe(e,e.getTime()-js(e)-a)}}class O_ extends Ne{constructor(){super(...arguments);U(this,"priority",10);U(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return Zt(Xt.basicOptionalMinutes,e);case"xx":return Zt(Xt.basic,e);case"xxxx":return Zt(Xt.basicOptionalSeconds,e);case"xxxxx":return Zt(Xt.extendedOptionalSeconds,e);case"xxx":default:return Zt(Xt.extended,e)}}set(e,t,a){return t.timestampIsSet?e:Oe(e,e.getTime()-js(e)-a)}}class M_ extends Ne{constructor(){super(...arguments);U(this,"priority",40);U(this,"incompatibleTokens","*")}parse(e){return Np(e)}set(e,t,a){return[Oe(e,a*1e3),{timestampIsSet:!0}]}}class L_ extends Ne{constructor(){super(...arguments);U(this,"priority",20);U(this,"incompatibleTokens","*")}parse(e){return Np(e)}set(e,t,a){return[Oe(e,a),{timestampIsSet:!0}]}}const A_={G:new Z0,y:new J0,Y:new e_,R:new t_,u:new n_,Q:new r_,q:new a_,M:new s_,L:new i_,w:new l_,I:new u_,d:new p_,D:new h_,E:new m_,e:new v_,c:new g_,i:new b_,a:new w_,b:new __,B:new S_,h:new E_,H:new N_,K:new C_,k:new x_,m:new D_,s:new k_,S:new T_,X:new P_,x:new O_,t:new M_,T:new L_},I_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$_=/^'([^]*?)'?$/,F_=/''/g,G_=/\S/,B_=/[a-zA-Z]/;function W_(r,n,e,t){var b,y,_,E,x,C,S,D,N,k,T,P,L,O,$,F,I,R;const a=()=>Oe((t==null?void 0:t.in)||e,NaN),s=V0(),i=(y=(b=t==null?void 0:t.locale)!=null?b:s.locale)!=null?y:yp,o=(k=(N=(C=(x=t==null?void 0:t.firstWeekContainsDate)!=null?x:(E=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)!=null?C:s.firstWeekContainsDate)!=null?N:(D=(S=s.locale)==null?void 0:S.options)==null?void 0:D.firstWeekContainsDate)!=null?k:1,l=(R=(I=(O=(L=t==null?void 0:t.weekStartsOn)!=null?L:(P=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:P.weekStartsOn)!=null?O:s.weekStartsOn)!=null?I:(F=($=s.locale)==null?void 0:$.options)==null?void 0:F.weekStartsOn)!=null?R:0;if(!n)return r?a():Z(e,t==null?void 0:t.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:i},d=[new X0(t==null?void 0:t.in,e)],f=n.match(R_).map(A=>{const B=A[0];if(B in el){const K=el[B];return K(A,i.formatLong)}return A}).join("").match(I_),h=[];for(let A of f){!(t!=null&&t.useAdditionalWeekYearTokens)&&Sp(A)&&tl(A,n,r),!(t!=null&&t.useAdditionalDayOfYearTokens)&&_p(A)&&tl(A,n,r);const B=A[0],K=A_[B];if(K){const{incompatibleTokens:G}=K;if(Array.isArray(G)){const ce=h.find(Ce=>G.includes(Ce.token)||Ce.token===B);if(ce)throw new RangeError("The format string mustn't contain `".concat(ce.fullToken,"` and `").concat(A,"` at the same time"))}else if(K.incompatibleTokens==="*"&&h.length>0)throw new RangeError("The format string mustn't contain `".concat(A,"` and any other token at the same time"));h.push({token:B,fullToken:A});const ne=K.run(r,A,i.match,c);if(!ne)return a();d.push(ne.setter),r=ne.rest}else{if(B.match(B_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");if(A==="''"?A="'":B==="'"&&(A=H_(A)),r.indexOf(A)===0)r=r.slice(A.length);else return a()}}if(r.length>0&&G_.test(r))return a();const v=d.map(A=>A.priority).sort((A,B)=>B-A).filter((A,B,K)=>K.indexOf(A)===B).map(A=>d.filter(B=>B.priority===A).sort((B,K)=>K.subPriority-B.subPriority)).map(A=>A[0]);let m=Z(e,t==null?void 0:t.in);if(isNaN(+m))return a();const g={};for(const A of v){if(!A.validate(m,c))return a();const B=A.set(m,g,c);Array.isArray(B)?(m=B[0],Object.assign(g,B[1])):m=B}return m}function H_(r){return r.match($_)[1].replace(F_,"'")}function gu(r,n,e){const[t,a]=un(e==null?void 0:e.in,r,n);return+Yt(t,e)==+Yt(a,e)}function Y_(r,n,e){const[t,a]=un(e==null?void 0:e.in,r,n);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()}function V_(r,n,e){const[t,a]=un(e==null?void 0:e.in,r,n);return+Jo(t)==+Jo(a)}function j_(r,n,e){const[t,a]=un(e==null?void 0:e.in,r,n);return t.getFullYear()===a.getFullYear()}function _a(r,n,e){const t=+Z(r,e==null?void 0:e.in),[a,s]=[+Z(n.start,e==null?void 0:e.in),+Z(n.end,e==null?void 0:e.in)].sort((i,o)=>i-o);return t>=a&&t<=s}function U_(r,n,e){return Gt(r,-n,e)}function ua(r,n){var c;const e=()=>Oe(n==null?void 0:n.in,NaN),t=(c=n==null?void 0:n.additionalDigits)!=null?c:2,a=Q_(r);let s;if(a.date){const d=X_(a.date,t);s=Z_(d.restDateString,d.year)}if(!s||isNaN(+s))return e();const i=+s;let o=0,l;if(a.time&&(o=J_(a.time),isNaN(o)))return e();if(a.timezone){if(l=eS(a.timezone),isNaN(l))return e()}else{const d=new Date(i+o),f=Z(0,n==null?void 0:n.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Z(i+o+l,n==null?void 0:n.in)}const us={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},z_=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,q_=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,K_=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Q_(r){const n={},e=r.split(us.dateTimeDelimiter);let t;if(e.length>2)return n;if(/:/.test(e[0])?t=e[0]:(n.date=e[0],t=e[1],us.timeZoneDelimiter.test(n.date)&&(n.date=r.split(us.timeZoneDelimiter)[0],t=r.substr(n.date.length,r.length))),t){const a=us.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function X_(r,n){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),t=r.match(e);if(!t)return{year:NaN,restDateString:""};const a=t[1]?parseInt(t[1]):null,s=t[2]?parseInt(t[2]):null;return{year:s===null?a:s*100,restDateString:r.slice((t[1]||t[2]).length)}}function Z_(r,n){if(n===null)return new Date(NaN);const e=r.match(z_);if(!e)return new Date(NaN);const t=!!e[4],a=oa(e[1]),s=oa(e[2])-1,i=oa(e[3]),o=oa(e[4]),l=oa(e[5])-1;if(t)return sS(n,o,l)?tS(n,o,l):new Date(NaN);{const c=new Date(0);return!rS(n,s,i)||!aS(n,a)?new Date(NaN):(c.setUTCFullYear(n,s,Math.max(a,i)),c)}}function oa(r){return r?parseInt(r):1}function J_(r){const n=r.match(q_);if(!n)return NaN;const e=fo(n[1]),t=fo(n[2]),a=fo(n[3]);return iS(e,t,a)?e*Mi+t*Oi+a*1e3:NaN}function fo(r){return r&&parseFloat(r.replace(",","."))||0}function eS(r){if(r==="Z")return 0;const n=r.match(K_);if(!n)return 0;const e=n[1]==="+"?-1:1,t=parseInt(n[2]),a=n[3]&&parseInt(n[3])||0;return oS(t,a)?e*(t*Mi+a*Oi):NaN}function tS(r,n,e){const t=new Date(0);t.setUTCFullYear(r,0,4);const a=t.getUTCDay()||7,s=(n-1)*7+e+1-a;return t.setUTCDate(t.getUTCDate()+s),t}const nS=[31,null,31,30,31,30,31,31,30,31,30,31];function Dp(r){return r%400===0||r%4===0&&r%100!==0}function rS(r,n,e){return n>=0&&n<=11&&e>=1&&e<=(nS[n]||(Dp(r)?29:28))}function aS(r,n){return n>=1&&n<=(Dp(r)?366:365)}function sS(r,n,e){return n>=1&&n<=53&&e>=0&&e<=6}function iS(r,n,e){return r===24?n===0&&e===0:e>=0&&e<60&&n>=0&&n<60&&r>=0&&r<25}function oS(r,n){return n>=0&&n<=59}function Tt(r,n,e){const t=Z(r,e==null?void 0:e.in),a=t.getFullYear(),s=t.getDate(),i=Oe((e==null?void 0:e.in)||r,0);i.setFullYear(a,n,15),i.setHours(0,0,0,0);const o=Y0(i);return t.setMonth(n,Math.min(s,o)),t}function Cs(r,n,e){const t=Z(r,e==null?void 0:e.in);return t.setHours(n),t}function xs(r,n,e){const t=Z(r,e==null?void 0:e.in);return t.setMinutes(n),t}function xr(r,n,e){const t=Z(r,e==null?void 0:e.in),a=Math.trunc(t.getMonth()/3)+1,s=n-a;return Tt(t,t.getMonth()+s*3)}function Ds(r,n,e){const t=Z(r,e==null?void 0:e.in);return t.setSeconds(n),t}function Ut(r,n,e){const t=Z(r,e==null?void 0:e.in);return isNaN(+t)?Oe((e==null?void 0:e.in)||r,NaN):(t.setFullYear(n),t)}function nr(r,n,e){return Ht(r,-n,e)}function kp(r,n,e){return Bl(r,-n,e)}function yu(r,n,e){return Us(r,-n,e)}function Vr(r,n,e){return Sn(r,-n,e)}function la(r,n){if(r.one!==void 0&&n===1)return r.one;const e=n%10,t=n%100;return e===1&&t!==11?r.singularNominative.replace("{{count}}",String(n)):e>=2&&e<=4&&(t<10||t>20)?r.singularGenitive.replace("{{count}}",String(n)):r.pluralGenitive.replace("{{count}}",String(n))}function ft(r){return(n,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?r.future?la(r.future,n):"через "+la(r.regular,n):r.past?la(r.past,n):la(r.regular,n)+" назад":la(r.regular,n)}const lS={lessThanXSeconds:ft({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:ft({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(r,n)=>n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:ft({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:ft({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:ft({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:ft({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:ft({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:ft({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:ft({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:ft({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:ft({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:ft({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:ft({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:ft({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:ft({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},cS=(r,n,e)=>lS[r](n,e),uS={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},dS={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},fS={any:"{{date}}, {{time}}"},pS={date:Tr({formats:uS,defaultWidth:"full"}),time:Tr({formats:dS,defaultWidth:"full"}),dateTime:Tr({formats:fS,defaultWidth:"any"})},jl=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function hS(r){const n=jl[r];switch(r){case 0:return"'в прошлое "+n+" в' p";case 1:case 2:case 4:return"'в прошлый "+n+" в' p";case 3:case 5:case 6:return"'в прошлую "+n+" в' p"}}function bu(r){const n=jl[r];return r===2?"'во "+n+" в' p":"'в "+n+" в' p"}function mS(r){const n=jl[r];switch(r){case 0:return"'в следующее "+n+" в' p";case 1:case 2:case 4:return"'в следующий "+n+" в' p";case 3:case 5:case 6:return"'в следующую "+n+" в' p"}}const vS={lastWeek:(r,n,e)=>{const t=r.getDay();return gu(r,n,e)?bu(t):hS(t)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(r,n,e)=>{const t=r.getDay();return gu(r,n,e)?bu(t):mS(t)},other:"P"},gS=(r,n,e,t)=>{const a=vS[r];return typeof a=="function"?a(n,e,t):a},yS={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},bS={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},wS={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},_S={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},SS={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},ES={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},NS={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},CS=(r,n)=>{const e=Number(r),t=n==null?void 0:n.unit;let a;return t==="date"?a="-е":t==="week"||t==="minute"||t==="second"?a="-я":a="-й",e+a},xS={ordinalNumber:CS,era:Kt({values:yS,defaultWidth:"wide"}),quarter:Kt({values:bS,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Kt({values:wS,defaultWidth:"wide",formattingValues:_S,defaultFormattingWidth:"wide"}),day:Kt({values:SS,defaultWidth:"wide"}),dayPeriod:Kt({values:ES,defaultWidth:"any",formattingValues:NS,defaultFormattingWidth:"wide"})},DS=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,kS=/\d+/i,TS={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},PS={any:[/^д/i,/^н/i]},OS={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},MS={any:[/1/i,/2/i,/3/i,/4/i]},LS={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},AS={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},IS={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},RS={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},$S={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},FS={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},GS={ordinalNumber:gp({matchPattern:DS,parsePattern:kS,valueCallback:r=>parseInt(r,10)}),era:Qt({matchPatterns:TS,defaultMatchWidth:"wide",parsePatterns:PS,defaultParseWidth:"any"}),quarter:Qt({matchPatterns:OS,defaultMatchWidth:"wide",parsePatterns:MS,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Qt({matchPatterns:LS,defaultMatchWidth:"wide",parsePatterns:AS,defaultParseWidth:"any"}),day:Qt({matchPatterns:IS,defaultMatchWidth:"wide",parsePatterns:RS,defaultParseWidth:"any"}),dayPeriod:Qt({matchPatterns:$S,defaultMatchWidth:"wide",parsePatterns:FS,defaultParseWidth:"any"})},Ul={code:"ru",formatDistance:cS,formatLong:pS,formatRelative:gS,localize:xS,match:GS,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Tp(r){var n,e,t="";if(typeof r=="string"||typeof r=="number")t+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(n=0;n<a;n++)r[n]&&(e=Tp(r[n]))&&(t&&(t+=" "),t+=e)}else for(e in r)r[e]&&(t&&(t+=" "),t+=e);return t}function lt(){for(var r,n,e=0,t="",a=arguments.length;e<a;e++)(r=arguments[e])&&(n=Tp(r))&&(t&&(t+=" "),t+=n);return t}function Ai(){return typeof window<"u"}function aa(r){return Pp(r)?(r.nodeName||"").toLowerCase():"#document"}function Et(r){var n;return(r==null||(n=r.ownerDocument)==null?void 0:n.defaultView)||window}function dn(r){var n;return(n=(Pp(r)?r.ownerDocument:r.document)||window.document)==null?void 0:n.documentElement}function Pp(r){return Ai()?r instanceof Node||r instanceof Et(r).Node:!1}function vt(r){return Ai()?r instanceof Element||r instanceof Et(r).Element:!1}function on(r){return Ai()?r instanceof HTMLElement||r instanceof Et(r).HTMLElement:!1}function wu(r){return!Ai()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Et(r).ShadowRoot}function Wa(r){const{overflow:n,overflowX:e,overflowY:t,display:a}=It(r);return/auto|scroll|overlay|hidden|clip/.test(n+t+e)&&!["inline","contents"].includes(a)}function BS(r){return["table","td","th"].includes(aa(r))}function Ii(r){return[":popover-open",":modal"].some(n=>{try{return r.matches(n)}catch(e){return!1}})}function zl(r){const n=ql(),e=vt(r)?It(r):r;return["transform","translate","scale","rotate","perspective"].some(t=>e[t]?e[t]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!n&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!n&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(t=>(e.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(e.contain||"").includes(t))}function WS(r){let n=Yn(r);for(;on(n)&&!jr(n);){if(zl(n))return n;if(Ii(n))return null;n=Yn(n)}return null}function ql(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jr(r){return["html","body","#document"].includes(aa(r))}function It(r){return Et(r).getComputedStyle(r)}function Ri(r){return vt(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Yn(r){if(aa(r)==="html")return r;const n=r.assignedSlot||r.parentNode||wu(r)&&r.host||dn(r);return wu(n)?n.host:n}function Op(r){const n=Yn(r);return jr(n)?r.ownerDocument?r.ownerDocument.body:r.body:on(n)&&Wa(n)?n:Op(n)}function Sa(r,n,e){var t;n===void 0&&(n=[]),e===void 0&&(e=!0);const a=Op(r),s=a===((t=r.ownerDocument)==null?void 0:t.body),i=Et(a);if(s){const o=rl(i);return n.concat(i,i.visualViewport||[],Wa(a)?a:[],o&&e?Sa(o):[])}return n.concat(a,Sa(a,[],e))}function rl(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const Ur=Math.min,rr=Math.max,Zs=Math.round,ds=Math.floor,sn=r=>({x:r,y:r}),HS={left:"right",right:"left",bottom:"top",top:"bottom"},YS={start:"end",end:"start"};function VS(r,n,e){return rr(r,Ur(n,e))}function $i(r,n){return typeof r=="function"?r(n):r}function zr(r){return r.split("-")[0]}function Ha(r){return r.split("-")[1]}function jS(r){return r==="x"?"y":"x"}function Kl(r){return r==="y"?"height":"width"}function Ea(r){return["top","bottom"].includes(zr(r))?"y":"x"}function Ql(r){return jS(Ea(r))}function US(r,n,e){e===void 0&&(e=!1);const t=Ha(r),a=Ql(r),s=Kl(a);let i=a==="x"?t===(e?"end":"start")?"right":"left":t==="start"?"bottom":"top";return n.reference[s]>n.floating[s]&&(i=Js(i)),[i,Js(i)]}function zS(r){const n=Js(r);return[al(r),n,al(n)]}function al(r){return r.replace(/start|end/g,n=>YS[n])}function qS(r,n,e){const t=["left","right"],a=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(r){case"top":case"bottom":return e?n?a:t:n?t:a;case"left":case"right":return n?s:i;default:return[]}}function KS(r,n,e,t){const a=Ha(r);let s=qS(zr(r),e==="start",t);return a&&(s=s.map(i=>i+"-"+a),n&&(s=s.concat(s.map(al)))),s}function Js(r){return r.replace(/left|right|bottom|top/g,n=>HS[n])}function QS(r){return{top:0,right:0,bottom:0,left:0,...r}}function Mp(r){return typeof r!="number"?QS(r):{top:r,right:r,bottom:r,left:r}}function ei(r){const{x:n,y:e,width:t,height:a}=r;return{width:t,height:a,top:e,left:n,right:n+t,bottom:e+a,x:n,y:e}}function _u(r,n,e){let{reference:t,floating:a}=r;const s=Ea(n),i=Ql(n),o=Kl(i),l=zr(n),c=s==="y",d=t.x+t.width/2-a.width/2,f=t.y+t.height/2-a.height/2,h=t[o]/2-a[o]/2;let v;switch(l){case"top":v={x:d,y:t.y-a.height};break;case"bottom":v={x:d,y:t.y+t.height};break;case"right":v={x:t.x+t.width,y:f};break;case"left":v={x:t.x-a.width,y:f};break;default:v={x:t.x,y:t.y}}switch(Ha(n)){case"start":v[i]-=h*(e&&c?-1:1);break;case"end":v[i]+=h*(e&&c?-1:1);break}return v}const XS=async(r,n,e)=>{const{placement:t="bottom",strategy:a="absolute",middleware:s=[],platform:i}=e,o=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(n));let c=await i.getElementRects({reference:r,floating:n,strategy:a}),{x:d,y:f}=_u(c,t,l),h=t,v={},m=0;for(let g=0;g<o.length;g++){const{name:b,fn:y}=o[g],{x:_,y:E,data:x,reset:C}=await y({x:d,y:f,initialPlacement:t,placement:h,strategy:a,middlewareData:v,rects:c,platform:i,elements:{reference:r,floating:n}});d=_!=null?_:d,f=E!=null?E:f,v={...v,[b]:{...v[b],...x}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await i.getElementRects({reference:r,floating:n,strategy:a}):C.rects),{x:d,y:f}=_u(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:v}};async function ZS(r,n){var e;n===void 0&&(n={});const{x:t,y:a,platform:s,rects:i,elements:o,strategy:l}=r,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=$i(n,r),m=Mp(v),b=o[h?f==="floating"?"reference":"floating":f],y=ei(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(b)))==null||e?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),_=f==="floating"?{x:t,y:a,width:i.floating.width,height:i.floating.height}:i.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),x=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},C=ei(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:E,strategy:l}):_);return{top:(y.top-C.top+m.top)/x.y,bottom:(C.bottom-y.bottom+m.bottom)/x.y,left:(y.left-C.left+m.left)/x.x,right:(C.right-y.right+m.right)/x.x}}const JS=r=>({name:"arrow",options:r,async fn(n){const{x:e,y:t,placement:a,rects:s,platform:i,elements:o,middlewareData:l}=n,{element:c,padding:d=0}=$i(r,n)||{};if(c==null)return{};const f=Mp(d),h={x:e,y:t},v=Ql(a),m=Kl(v),g=await i.getDimensions(c),b=v==="y",y=b?"top":"left",_=b?"bottom":"right",E=b?"clientHeight":"clientWidth",x=s.reference[m]+s.reference[v]-h[v]-s.floating[m],C=h[v]-s.reference[v],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let D=S?S[E]:0;(!D||!await(i.isElement==null?void 0:i.isElement(S)))&&(D=o.floating[E]||s.floating[m]);const N=x/2-C/2,k=D/2-g[m]/2-1,T=Ur(f[y],k),P=Ur(f[_],k),L=T,O=D-g[m]-P,$=D/2-g[m]/2+N,F=VS(L,$,O),I=!l.arrow&&Ha(a)!=null&&$!==F&&s.reference[m]/2-($<L?T:P)-g[m]/2<0,R=I?$<L?$-L:$-O:0;return{[v]:h[v]+R,data:{[v]:F,centerOffset:$-F-R,...I&&{alignmentOffset:R}},reset:I}}}),eE=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(n){var e,t;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:l,elements:c}=n,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...b}=$i(r,n);if((e=s.arrow)!=null&&e.alignmentOffset)return{};const y=zr(a),_=Ea(o),E=zr(o)===o,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(E||!g?[Js(o)]:zS(o)),S=m!=="none";!h&&S&&C.push(...KS(o,g,m,x));const D=[o,...C],N=await ZS(n,b),k=[];let T=((t=s.flip)==null?void 0:t.overflows)||[];if(d&&k.push(N[y]),f){const $=US(a,i,x);k.push(N[$[0]],N[$[1]])}if(T=[...T,{placement:a,overflows:k}],!k.every($=>$<=0)){var P,L;const $=(((P=s.flip)==null?void 0:P.index)||0)+1,F=D[$];if(F)return{data:{index:$,overflows:T},reset:{placement:F}};let I=(L=T.filter(R=>R.overflows[0]<=0).sort((R,A)=>R.overflows[1]-A.overflows[1])[0])==null?void 0:L.placement;if(!I)switch(v){case"bestFit":{var O;const R=(O=T.filter(A=>{if(S){const B=Ea(A.placement);return B===_||B==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(B=>B>0).reduce((B,K)=>B+K,0)]).sort((A,B)=>A[1]-B[1])[0])==null?void 0:O[0];R&&(I=R);break}case"initialPlacement":I=o;break}if(a!==I)return{reset:{placement:I}}}return{}}}};async function tE(r,n){const{placement:e,platform:t,elements:a}=r,s=await(t.isRTL==null?void 0:t.isRTL(a.floating)),i=zr(e),o=Ha(e),l=Ea(e)==="y",c=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,f=$i(n,r);let{mainAxis:h,crossAxis:v,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(v=o==="end"?m*-1:m),l?{x:v*d,y:h*c}:{x:h*c,y:v*d}}const nE=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(n){var e,t;const{x:a,y:s,placement:i,middlewareData:o}=n,l=await tE(n,r);return i===((e=o.offset)==null?void 0:e.placement)&&(t=o.arrow)!=null&&t.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:i}}}}};function Lp(r){const n=It(r);let e=parseFloat(n.width)||0,t=parseFloat(n.height)||0;const a=on(r),s=a?r.offsetWidth:e,i=a?r.offsetHeight:t,o=Zs(e)!==s||Zs(t)!==i;return o&&(e=s,t=i),{width:e,height:t,$:o}}function Xl(r){return vt(r)?r:r.contextElement}function Pr(r){const n=Xl(r);if(!on(n))return sn(1);const e=n.getBoundingClientRect(),{width:t,height:a,$:s}=Lp(n);let i=(s?Zs(e.width):e.width)/t,o=(s?Zs(e.height):e.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const rE=sn(0);function Ap(r){const n=Et(r);return!ql()||!n.visualViewport?rE:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function aE(r,n,e){return n===void 0&&(n=!1),!e||n&&e!==Et(r)?!1:n}function dr(r,n,e,t){n===void 0&&(n=!1),e===void 0&&(e=!1);const a=r.getBoundingClientRect(),s=Xl(r);let i=sn(1);n&&(t?vt(t)&&(i=Pr(t)):i=Pr(r));const o=aE(s,e,t)?Ap(s):sn(0);let l=(a.left+o.x)/i.x,c=(a.top+o.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=Et(s),v=t&&vt(t)?Et(t):t;let m=h,g=rl(m);for(;g&&t&&v!==m;){const b=Pr(g),y=g.getBoundingClientRect(),_=It(g),E=y.left+(g.clientLeft+parseFloat(_.paddingLeft))*b.x,x=y.top+(g.clientTop+parseFloat(_.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=E,c+=x,m=Et(g),g=rl(m)}}return ei({width:d,height:f,x:l,y:c})}function Zl(r,n){const e=Ri(r).scrollLeft;return n?n.left+e:dr(dn(r)).left+e}function Ip(r,n,e){e===void 0&&(e=!1);const t=r.getBoundingClientRect(),a=t.left+n.scrollLeft-(e?0:Zl(r,t)),s=t.top+n.scrollTop;return{x:a,y:s}}function sE(r){let{elements:n,rect:e,offsetParent:t,strategy:a}=r;const s=a==="fixed",i=dn(t),o=n?Ii(n.floating):!1;if(t===i||o&&s)return e;let l={scrollLeft:0,scrollTop:0},c=sn(1);const d=sn(0),f=on(t);if((f||!f&&!s)&&((aa(t)!=="body"||Wa(i))&&(l=Ri(t)),on(t))){const v=dr(t);c=Pr(t),d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}const h=i&&!f&&!s?Ip(i,l,!0):sn(0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:e.y*c.y-l.scrollTop*c.y+d.y+h.y}}function iE(r){return Array.from(r.getClientRects())}function oE(r){const n=dn(r),e=Ri(r),t=r.ownerDocument.body,a=rr(n.scrollWidth,n.clientWidth,t.scrollWidth,t.clientWidth),s=rr(n.scrollHeight,n.clientHeight,t.scrollHeight,t.clientHeight);let i=-e.scrollLeft+Zl(r);const o=-e.scrollTop;return It(t).direction==="rtl"&&(i+=rr(n.clientWidth,t.clientWidth)-a),{width:a,height:s,x:i,y:o}}function lE(r,n){const e=Et(r),t=dn(r),a=e.visualViewport;let s=t.clientWidth,i=t.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;const c=ql();(!c||c&&n==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o,y:l}}function cE(r,n){const e=dr(r,!0,n==="fixed"),t=e.top+r.clientTop,a=e.left+r.clientLeft,s=on(r)?Pr(r):sn(1),i=r.clientWidth*s.x,o=r.clientHeight*s.y,l=a*s.x,c=t*s.y;return{width:i,height:o,x:l,y:c}}function Su(r,n,e){let t;if(n==="viewport")t=lE(r,e);else if(n==="document")t=oE(dn(r));else if(vt(n))t=cE(n,e);else{const a=Ap(r);t={x:n.x-a.x,y:n.y-a.y,width:n.width,height:n.height}}return ei(t)}function Rp(r,n){const e=Yn(r);return e===n||!vt(e)||jr(e)?!1:It(e).position==="fixed"||Rp(e,n)}function uE(r,n){const e=n.get(r);if(e)return e;let t=Sa(r,[],!1).filter(o=>vt(o)&&aa(o)!=="body"),a=null;const s=It(r).position==="fixed";let i=s?Yn(r):r;for(;vt(i)&&!jr(i);){const o=It(i),l=zl(i);!l&&o.position==="fixed"&&(a=null),(s?!l&&!a:!l&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Wa(i)&&!l&&Rp(r,i))?t=t.filter(d=>d!==i):a=o,i=Yn(i)}return n.set(r,t),t}function dE(r){let{element:n,boundary:e,rootBoundary:t,strategy:a}=r;const i=[...e==="clippingAncestors"?Ii(n)?[]:uE(n,this._c):[].concat(e),t],o=i[0],l=i.reduce((c,d)=>{const f=Su(n,d,a);return c.top=rr(f.top,c.top),c.right=Ur(f.right,c.right),c.bottom=Ur(f.bottom,c.bottom),c.left=rr(f.left,c.left),c},Su(n,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fE(r){const{width:n,height:e}=Lp(r);return{width:n,height:e}}function pE(r,n,e){const t=on(n),a=dn(n),s=e==="fixed",i=dr(r,!0,s,n);let o={scrollLeft:0,scrollTop:0};const l=sn(0);if(t||!t&&!s)if((aa(n)!=="body"||Wa(a))&&(o=Ri(n)),t){const h=dr(n,!0,s,n);l.x=h.x+n.clientLeft,l.y=h.y+n.clientTop}else a&&(l.x=Zl(a));const c=a&&!t&&!s?Ip(a,o):sn(0),d=i.left+o.scrollLeft-l.x-c.x,f=i.top+o.scrollTop-l.y-c.y;return{x:d,y:f,width:i.width,height:i.height}}function po(r){return It(r).position==="static"}function Eu(r,n){if(!on(r)||It(r).position==="fixed")return null;if(n)return n(r);let e=r.offsetParent;return dn(r)===e&&(e=e.ownerDocument.body),e}function $p(r,n){const e=Et(r);if(Ii(r))return e;if(!on(r)){let a=Yn(r);for(;a&&!jr(a);){if(vt(a)&&!po(a))return a;a=Yn(a)}return e}let t=Eu(r,n);for(;t&&BS(t)&&po(t);)t=Eu(t,n);return t&&jr(t)&&po(t)&&!zl(t)?e:t||WS(r)||e}const hE=async function(r){const n=this.getOffsetParent||$p,e=this.getDimensions,t=await e(r.floating);return{reference:pE(r.reference,await n(r.floating),r.strategy),floating:{x:0,y:0,width:t.width,height:t.height}}};function mE(r){return It(r).direction==="rtl"}const vE={convertOffsetParentRelativeRectToViewportRelativeRect:sE,getDocumentElement:dn,getClippingRect:dE,getOffsetParent:$p,getElementRects:hE,getClientRects:iE,getDimensions:fE,getScale:Pr,isElement:vt,isRTL:mE};function Fp(r,n){return r.x===n.x&&r.y===n.y&&r.width===n.width&&r.height===n.height}function gE(r,n){let e=null,t;const a=dn(r);function s(){var o;clearTimeout(t),(o=e)==null||o.disconnect(),e=null}function i(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=r.getBoundingClientRect(),{left:d,top:f,width:h,height:v}=c;if(o||n(),!h||!v)return;const m=ds(f),g=ds(a.clientWidth-(d+h)),b=ds(a.clientHeight-(f+v)),y=ds(d),E={rootMargin:-m+"px "+-g+"px "+-b+"px "+-y+"px",threshold:rr(0,Ur(1,l))||1};let x=!0;function C(S){const D=S[0].intersectionRatio;if(D!==l){if(!x)return i();D?i(!1,D):t=setTimeout(()=>{i(!1,1e-7)},1e3)}D===1&&!Fp(c,r.getBoundingClientRect())&&i(),x=!1}try{e=new IntersectionObserver(C,{...E,root:a.ownerDocument})}catch(S){e=new IntersectionObserver(C,E)}e.observe(r)}return i(!0),s}function yE(r,n,e,t){t===void 0&&(t={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=t,c=Xl(r),d=a||s?[...c?Sa(c):[],...Sa(n)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",e,{passive:!0}),s&&y.addEventListener("resize",e)});const f=c&&o?gE(c,e):null;let h=-1,v=null;i&&(v=new ResizeObserver(y=>{let[_]=y;_&&_.target===c&&v&&(v.unobserve(n),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(n)})),e()}),c&&!l&&v.observe(c),v.observe(n));let m,g=l?dr(r):null;l&&b();function b(){const y=dr(r);g&&!Fp(g,y)&&e(),g=y,m=requestAnimationFrame(b)}return e(),()=>{var y;d.forEach(_=>{a&&_.removeEventListener("scroll",e),s&&_.removeEventListener("resize",e)}),f==null||f(),(y=v)==null||y.disconnect(),v=null,l&&cancelAnimationFrame(m)}}const bE=nE,wE=eE,Nu=JS,_E=(r,n,e)=>{const t=new Map,a={platform:vE,...e},s={...a.platform,_c:t};return XS(r,n,{...a,platform:s})};var ks=typeof document<"u"?p.useLayoutEffect:p.useEffect;function ti(r,n){if(r===n)return!0;if(typeof r!=typeof n)return!1;if(typeof r=="function"&&r.toString()===n.toString())return!0;let e,t,a;if(r&&n&&typeof r=="object"){if(Array.isArray(r)){if(e=r.length,e!==n.length)return!1;for(t=e;t--!==0;)if(!ti(r[t],n[t]))return!1;return!0}if(a=Object.keys(r),e=a.length,e!==Object.keys(n).length)return!1;for(t=e;t--!==0;)if(!{}.hasOwnProperty.call(n,a[t]))return!1;for(t=e;t--!==0;){const s=a[t];if(!(s==="_owner"&&r.$$typeof)&&!ti(r[s],n[s]))return!1}return!0}return r!==r&&n!==n}function Gp(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Cu(r,n){const e=Gp(r);return Math.round(n*e)/e}function ho(r){const n=p.useRef(r);return ks(()=>{n.current=r}),n}function SE(r){r===void 0&&(r={});const{placement:n="bottom",strategy:e="absolute",middleware:t=[],platform:a,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:l,open:c}=r,[d,f]=p.useState({x:0,y:0,strategy:e,placement:n,middlewareData:{},isPositioned:!1}),[h,v]=p.useState(t);ti(h,t)||v(t);const[m,g]=p.useState(null),[b,y]=p.useState(null),_=p.useCallback(A=>{A!==S.current&&(S.current=A,g(A))},[]),E=p.useCallback(A=>{A!==D.current&&(D.current=A,y(A))},[]),x=s||m,C=i||b,S=p.useRef(null),D=p.useRef(null),N=p.useRef(d),k=l!=null,T=ho(l),P=ho(a),L=ho(c),O=p.useCallback(()=>{if(!S.current||!D.current)return;const A={placement:n,strategy:e,middleware:h};P.current&&(A.platform=P.current),_E(S.current,D.current,A).then(B=>{const K={...B,isPositioned:L.current!==!1};$.current&&!ti(N.current,K)&&(N.current=K,Na.flushSync(()=>{f(K)}))})},[h,n,e,P,L]);ks(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[c]);const $=p.useRef(!1);ks(()=>($.current=!0,()=>{$.current=!1}),[]),ks(()=>{if(x&&(S.current=x),C&&(D.current=C),x&&C){if(T.current)return T.current(x,C,O);O()}},[x,C,O,T,k]);const F=p.useMemo(()=>({reference:S,floating:D,setReference:_,setFloating:E}),[_,E]),I=p.useMemo(()=>({reference:x,floating:C}),[x,C]),R=p.useMemo(()=>{const A={position:e,left:0,top:0};if(!I.floating)return A;const B=Cu(I.floating,d.x),K=Cu(I.floating,d.y);return o?{...A,transform:"translate("+B+"px, "+K+"px)",...Gp(I.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:B,top:K}},[e,o,I.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:O,refs:F,elements:I,floatingStyles:R}),[d,O,F,I,R])}const EE=r=>{function n(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:r,fn(e){const{element:t,padding:a}=typeof r=="function"?r(e):r;return t&&n(t)?t.current!=null?Nu({element:t.current,padding:a}).fn(e):{}:t?Nu({element:t,padding:a}).fn(e):{}}}},NE=(r,n)=>({...bE(r),options:[r,n]}),CE=(r,n)=>({...wE(r),options:[r,n]}),xE=(r,n)=>({...EE(r),options:[r,n]}),Bp={...lm},DE=Bp.useInsertionEffect,kE=DE||(r=>r());function TE(r){const n=p.useRef(()=>{});return kE(()=>{n.current=r}),p.useCallback(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n.current==null?void 0:n.current(...t)},[])}var ni=typeof document<"u"?p.useLayoutEffect:p.useEffect;let xu=!1,PE=0;const Du=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+PE++;function OE(){const[r,n]=p.useState(()=>xu?Du():void 0);return ni(()=>{r==null&&n(Du())},[]),p.useEffect(()=>{xu=!0},[]),r}const ME=Bp.useId,Wp=ME||OE,LE=p.forwardRef(function(n,e){const{context:{placement:t,elements:{floating:a},middlewareData:{arrow:s,shift:i}},width:o=14,height:l=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:f,stroke:h,d:v,style:{transform:m,...g}={},...b}=n,y=Wp(),[_,E]=p.useState(!1);if(ni(()=>{if(!a)return;It(a).direction==="rtl"&&E(!0)},[a]),!a)return null;const[x,C]=t.split("-"),S=x==="top"||x==="bottom";let D=f;(S&&i!=null&&i.x||!S&&i!=null&&i.y)&&(D=null);const N=d*2,k=N/2,T=o/2*(c/-8+1),P=l/2*c/4,L=!!v,O=D&&C==="end"?"bottom":"top";let $=D&&C==="end"?"right":"left";D&&_&&($=C==="end"?"left":"right");const F=(s==null?void 0:s.x)!=null?D||s.x:"",I=(s==null?void 0:s.y)!=null?D||s.y:"",R=v||"M0,0"+(" H"+o)+(" L"+(o-T)+","+(l-P))+(" Q"+o/2+","+l+" "+T+","+(l-P))+" Z",A={top:L?"rotate(180deg)":"",left:L?"rotate(90deg)":"rotate(-90deg)",bottom:L?"":"rotate(180deg)",right:L?"rotate(-90deg)":"rotate(90deg)"}[x];return w("svg",{...b,"aria-hidden":!0,ref:e,width:L?o:o+N,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[$]:F,[O]:I,[x]:S||L?"100%":"calc(100% - "+N/2+"px)",transform:[A,m].filter(B=>!!B).join(" "),...g},children:[N>0&&u("path",{clipPath:"url(#"+y+")",fill:"none",stroke:h,strokeWidth:N+(v?0:1),d:R}),u("path",{stroke:N&&!v?b.fill:"none",d:R}),u("clipPath",{id:y,children:u("rect",{x:-k,y:k*(L?-1:1),width:o+N,height:o})})]})});function AE(){const r=new Map;return{emit(n,e){var t;(t=r.get(n))==null||t.forEach(a=>a(e))},on(n,e){r.set(n,[...r.get(n)||[],e])},off(n,e){var t;r.set(n,((t=r.get(n))==null?void 0:t.filter(a=>a!==e))||[])}}}const IE=p.createContext(null),RE=p.createContext(null),$E=()=>{var r;return((r=p.useContext(IE))==null?void 0:r.id)||null},FE=()=>p.useContext(RE);function GE(r){const{open:n=!1,onOpenChange:e,elements:t}=r,a=Wp(),s=p.useRef({}),[i]=p.useState(()=>AE()),o=$E()!=null,[l,c]=p.useState(t.reference),d=TE((v,m,g)=>{s.current.openEvent=v?m:void 0,i.emit("openchange",{open:v,event:m,reason:g,nested:o}),e==null||e(v,m,g)}),f=p.useMemo(()=>({setPositionReference:c}),[]),h=p.useMemo(()=>({reference:l||t.reference||null,floating:t.floating||null,domReference:t.reference}),[l,t.reference,t.floating]);return p.useMemo(()=>({dataRef:s,open:n,onOpenChange:d,elements:h,events:i,floatingId:a,refs:f}),[n,d,h,i,a,f])}function BE(r){r===void 0&&(r={});const{nodeId:n}=r,e=GE({...r,elements:{reference:null,floating:null,...r.elements}}),t=r.rootContext||e,a=t.elements,[s,i]=p.useState(null),[o,l]=p.useState(null),d=(a==null?void 0:a.domReference)||s,f=p.useRef(null),h=FE();ni(()=>{d&&(f.current=d)},[d]);const v=SE({...r,elements:{...a,...o&&{reference:o}}}),m=p.useCallback(E=>{const x=vt(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;l(x),v.refs.setReference(x)},[v.refs]),g=p.useCallback(E=>{(vt(E)||E===null)&&(f.current=E,i(E)),(vt(v.refs.reference.current)||v.refs.reference.current===null||E!==null&&!vt(E))&&v.refs.setReference(E)},[v.refs]),b=p.useMemo(()=>({...v.refs,setReference:g,setPositionReference:m,domReference:f}),[v.refs,g,m]),y=p.useMemo(()=>({...v.elements,domReference:d}),[v.elements,d]),_=p.useMemo(()=>({...v,...t,refs:b,elements:y,nodeId:n}),[v,b,y,n,t]);return ni(()=>{t.dataRef.current.floatingContext=_;const E=h==null?void 0:h.nodesRef.current.find(x=>x.id===n);E&&(E.context=_)}),p.useMemo(()=>({...v,context:_,refs:b,elements:y}),[v,b,y,_])}/*!
  react-datepicker v8.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var sl=function(n,e){return sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},sl(n,e)};function at(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");sl(r,n);function e(){this.constructor=r}r.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var we=function(){return we=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},we.apply(this,arguments)};function en(r,n,e){if(e||arguments.length===2)for(var t=0,a=n.length,s;t<a;t++)(s||!(t in n))&&(s||(s=Array.prototype.slice.call(n,0,t)),s[t]=n[t]);return r.concat(s||Array.prototype.slice.call(n))}var WE=function(r){var n=r.showTimeSelectOnly,e=n===void 0?!1:n,t=r.showTime,a=t===void 0?!1:t,s=r.className,i=r.children,o=e?"Choose Time":"Choose Date".concat(a?" and Time":"");return M.createElement("div",{className:s,role:"dialog","aria-label":o,"aria-modal":"true"},i)},HE=function(r,n){var e=p.useRef(null),t=p.useRef(r);t.current=r;var a=p.useCallback(function(s){var i,o=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;e.current&&!e.current.contains(o)&&(n&&o instanceof HTMLElement&&o.classList.contains(n)||(i=t.current)===null||i===void 0||i.call(t,s))},[n]);return p.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),e},Fi=function(r){var n=r.children,e=r.onClickOutside,t=r.className,a=r.containerRef,s=r.style,i=r.ignoreClass,o=HE(e,i);return M.createElement("div",{className:t,style:s,ref:function(l){o.current=l,a&&(a.current=l)}},n)},z;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(z||(z={}));function Jl(){var r=typeof window<"u"?window:globalThis;return r}var Ya=12;function De(r){if(r==null)return new Date;var n=typeof r=="string"?ua(r):Z(r);return Gi(n)?n:new Date}function mo(r,n,e,t,a){a===void 0&&(a=De());for(var s=qr(e)||qr(ec()),i=Array.isArray(n)?n:[n],o=0,l=i;o<l.length;o++){var c=l[o],d=W_(r,c,a,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(Gi(d)&&(!t||r===Be(d,c,e)))return d}return null}function Gi(r,n){return zs(r)&&!ur(r,new Date("1/1/1800"))}function Be(r,n,e){if(e==="en")return Yr(r,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var t=e?qr(e):void 0;return e&&!t&&console.warn('A locale object was not found for the provided string ["'.concat(e,'"].')),t=t||qr(ec()),Yr(r,n,{locale:t,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function kt(r,n){var e=n.dateFormat,t=n.locale,a=Array.isArray(e)&&e.length>0?e[0]:e;return r&&Be(r,a,t)||""}function YE(r,n,e){if(!r)return"";var t=kt(r,e),a=n?kt(n,e):"";return"".concat(t," - ").concat(a)}function VE(r,n){if(!(r!=null&&r.length))return"";var e=r[0]?kt(r[0],n):"";if(r.length===1)return e;if(r.length===2&&r[1]){var t=kt(r[1],n);return"".concat(e,", ").concat(t)}var a=r.length-1;return"".concat(e," (+").concat(a,")")}function vo(r,n){var e=n.hour,t=e===void 0?0:e,a=n.minute,s=a===void 0?0:a,i=n.second,o=i===void 0?0:i;return Cs(xs(Ds(r,o),s),t)}function jE(r){return Wl(r)}function UE(r,n){return Be(r,"ddd",n)}function Ts(r){return cr(r)}function Wn(r,n,e){var t=qr(n||ec());return Yt(r,{locale:t,weekStartsOn:e})}function xn(r){return mp(r)}function da(r){return Li(r)}function ku(r){return Jo(r)}function Tu(){return cr(De())}function Pu(r){return pp(r)}function zE(r){return Xw(r)}function qE(r){return hp(r)}function qt(r,n){return r&&n?j_(r,n):!r&&!n}function pt(r,n){return r&&n?Y_(r,n):!r&&!n}function ri(r,n){return r&&n?V_(r,n):!r&&!n}function be(r,n){return r&&n?Kw(r,n):!r&&!n}function Jn(r,n){return r&&n?U0(r,n):!r&&!n}function fa(r,n,e){var t,a=cr(n),s=pp(e);try{t=_a(r,{start:a,end:s})}catch(i){t=!1}return t}function KE(r,n){var e=Jl();e.__localeData__||(e.__localeData__={}),e.__localeData__[r]=n}function ec(){var r=Jl();return r.__localeId__}function qr(r){if(typeof r=="string"){var n=Jl();return n.__localeData__?n.__localeData__[r]:void 0}else return r}function QE(r,n,e){return n(Be(r,"EEEE",e))}function XE(r,n){return Be(r,"EEEEEE",n)}function ZE(r,n){return Be(r,"EEE",n)}function tc(r,n){return Be(Tt(De(),r),"LLLL",n)}function Hp(r,n){return Be(Tt(De(),r),"LLL",n)}function JE(r,n){return Be(xr(De(),r),"QQQ",n)}function Pt(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.maxDate,s=e.excludeDates,i=e.excludeDateIntervals,o=e.includeDates,l=e.includeDateIntervals,c=e.filterDate;return Va(r,{minDate:t,maxDate:a})||s&&s.some(function(d){return d instanceof Date?be(r,d):be(r,d.date)})||i&&i.some(function(d){var f=d.start,h=d.end;return _a(r,{start:f,end:h})})||o&&!o.some(function(d){return be(r,d)})||l&&!l.some(function(d){var f=d.start,h=d.end;return _a(r,{start:f,end:h})})||c&&!c(De(r))||!1}function nc(r,n){var e=n===void 0?{}:n,t=e.excludeDates,a=e.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var i=s.start,o=s.end;return _a(r,{start:i,end:o})}):t&&t.some(function(s){var i;return s instanceof Date?be(r,s):be(r,(i=s.date)!==null&&i!==void 0?i:new Date)})||!1}function Yp(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate;return Va(r,{minDate:t?mp(t):void 0,maxDate:a?hp(a):void 0})||(s==null?void 0:s.some(function(l){return pt(r,l instanceof Date?l:l.date)}))||i&&!i.some(function(l){return pt(r,l)})||o&&!o(De(r))||!1}function fs(r,n,e,t){var a=pe(r),s=mt(r),i=pe(n),o=mt(n),l=pe(t);return a===i&&a===l?s<=e&&e<=o:a<i?l===a&&s<=e||l===i&&o>=e||l<i&&l>a:!1}function eN(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.maxDate,s=e.excludeDates,i=e.includeDates;return Va(r,{minDate:t,maxDate:a})||s&&s.some(function(o){return pt(o instanceof Date?o:o.date,r)})||i&&!i.some(function(o){return pt(o,r)})||!1}function ps(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate;return Va(r,{minDate:t,maxDate:a})||(s==null?void 0:s.some(function(l){return ri(r,l instanceof Date?l:l.date)}))||i&&!i.some(function(l){return ri(r,l)})||o&&!o(De(r))||!1}function hs(r,n,e){if(!n||!e||!zs(n)||!zs(e))return!1;var t=pe(n),a=pe(e);return t<=r&&a>=r}function Ps(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.maxDate,s=e.excludeDates,i=e.includeDates,o=e.filterDate,l=new Date(r,0,1);return Va(l,{minDate:t?Li(t):void 0,maxDate:a?vp(a):void 0})||(s==null?void 0:s.some(function(c){return qt(l,c instanceof Date?c:c.date)}))||i&&!i.some(function(c){return qt(l,c)})||o&&!o(De(l))||!1}function ms(r,n,e,t){var a=pe(r),s=tr(r),i=pe(n),o=tr(n),l=pe(t);return a===i&&a===l?s<=e&&e<=o:a<i?l===a&&s<=e||l===i&&o>=e||l<i&&l>a:!1}function Va(r,n){var e,t=n===void 0?{}:n,a=t.minDate,s=t.maxDate;return(e=a&&Hr(r,a)<0||s&&Hr(r,s)>0)!==null&&e!==void 0?e:!1}function Ou(r,n){return n.some(function(e){return Nn(e)===Nn(r)&&Cn(e)===Cn(r)&&Bn(e)===Bn(r)})}function Mu(r,n){var e=n===void 0?{}:n,t=e.excludeTimes,a=e.includeTimes,s=e.filterTime;return t&&Ou(r,t)||a&&!Ou(r,a)||s&&!s(r)||!1}function Lu(r,n){var e=n.minTime,t=n.maxTime;if(!e||!t)throw new Error("Both minTime and maxTime props required");var a=De();a=Cs(a,Nn(r)),a=xs(a,Cn(r)),a=Ds(a,Bn(r));var s=De();s=Cs(s,Nn(e)),s=xs(s,Cn(e)),s=Ds(s,Bn(e));var i=De();i=Cs(i,Nn(t)),i=xs(i,Cn(t)),i=Ds(i,Bn(t));var o;try{o=!_a(a,{start:s,end:i})}catch(l){o=!1}return o}function Au(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.includeDates,s=nr(r,1);return t&&qs(t,s)>0||a&&a.every(function(i){return qs(i,s)>0})||!1}function Iu(r,n){var e=n===void 0?{}:n,t=e.maxDate,a=e.includeDates,s=Ht(r,1);return t&&qs(s,t)>0||a&&a.every(function(i){return qs(s,i)>0})||!1}function tN(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.includeDates,s=Li(r),i=kp(s,1);return t&&Ks(t,i)>0||a&&a.every(function(o){return Ks(o,i)>0})||!1}function nN(r,n){var e=n===void 0?{}:n,t=e.maxDate,a=e.includeDates,s=vp(r),i=Bl(s,1);return t&&Ks(i,t)>0||a&&a.every(function(o){return Ks(i,o)>0})||!1}function Ru(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.includeDates,s=Vr(r,1);return t&&Qs(t,s)>0||a&&a.every(function(i){return Qs(i,s)>0})||!1}function rN(r,n){var e=n===void 0?{}:n,t=e.minDate,a=e.yearItemNumber,s=a===void 0?Ya:a,i=da(Vr(r,s)),o=Fn(i,s).endPeriod,l=t&&pe(t);return l&&l>o||!1}function $u(r,n){var e=n===void 0?{}:n,t=e.maxDate,a=e.includeDates,s=Sn(r,1);return t&&Qs(s,t)>0||a&&a.every(function(i){return Qs(s,i)>0})||!1}function aN(r,n){var e=n===void 0?{}:n,t=e.maxDate,a=e.yearItemNumber,s=a===void 0?Ya:a,i=Sn(r,s),o=Fn(i,s).startPeriod,l=t&&pe(t);return l&&l<o||!1}function Vp(r){var n=r.minDate,e=r.includeDates;if(e&&n){var t=e.filter(function(a){return Hr(a,n)>=0});return uu(t)}else return e?uu(e):n}function jp(r){var n=r.maxDate,e=r.includeDates;if(e&&n){var t=e.filter(function(a){return Hr(a,n)<=0});return cu(t)}else return e?cu(e):n}function Fu(r,n){var e;r===void 0&&(r=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var t=new Map,a=0,s=r.length;a<s;a++){var i=r[a];if(En(i)){var o=Be(i,"MM.dd.yyyy"),l=t.get(o)||[];l.includes(n)||(l.push(n),t.set(o,l))}else if(typeof i=="object"){var c=Object.keys(i),d=(e=c[0])!==null&&e!==void 0?e:"",f=i[d];if(typeof d=="string"&&Array.isArray(f))for(var h=0,v=f.length;h<v;h++){var m=f[h];if(m){var o=Be(m,"MM.dd.yyyy"),l=t.get(o)||[];l.includes(d)||(l.push(d),t.set(o,l))}}}}return t}function sN(r,n){return r.length!==n.length?!1:r.every(function(e,t){return e===n[t]})}function iN(r,n){r===void 0&&(r=[]),n===void 0&&(n="react-datepicker__day--holidays");var e=new Map;return r.forEach(function(t){var a=t.date,s=t.holidayName;if(En(a)){var i=Be(a,"MM.dd.yyyy"),o=e.get(i)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===n&&sN(o.holidayNames,[s]))){o.className=n;var l=o.holidayNames;o.holidayNames=l?en(en([],l,!0),[s],!1):[s],e.set(i,o)}}}),e}function oN(r,n,e,t,a){for(var s=a.length,i=[],o=0;o<s;o++){var l=r,c=a[o];c&&(l=jw(l,Nn(c)),l=Zo(l,Cn(c)),l=qw(l,Bn(c)));var d=Zo(r,(e+1)*t);Hn(l,n)&&ur(l,d)&&c!=null&&i.push(c)}return i}function Gu(r){return r<10?"0".concat(r):"".concat(r)}function Fn(r,n){n===void 0&&(n=Ya);var e=Math.ceil(pe(r)/n)*n,t=e-(n-1);return{startPeriod:t,endPeriod:e}}function lN(r){var n=new Date(r.getFullYear(),r.getMonth(),r.getDate()),e=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+e-+n)/36e5)}function Bu(r){var n=r.getSeconds(),e=r.getMilliseconds();return Z(r.getTime()-n*1e3-e)}function cN(r,n){return Bu(r).getTime()===Bu(n).getTime()}function Wu(r){if(!En(r))throw new Error("Invalid date");var n=new Date(r);return n.setHours(0,0,0,0),n}function Hu(r,n){if(!En(r)||!En(n))throw new Error("Invalid date received");var e=Wu(r),t=Wu(n);return ur(e,t)}function Up(r){return r.key===z.Space}var uN=function(r){at(n,r);function n(e){var t=r.call(this,e)||this;return t.inputRef=M.createRef(),t.onTimeChange=function(a){var s,i;t.setState({time:a});var o=t.props.date,l=o instanceof Date&&!isNaN(+o),c=l?o:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),f=d[0],h=d[1];c.setHours(Number(f)),c.setMinutes(Number(h))}(i=(s=t.props).onChange)===null||i===void 0||i.call(s,c)},t.renderTimeInput=function(){var a=t.state.time,s=t.props,i=s.date,o=s.timeString,l=s.customTimeInput;return l?p.cloneElement(l,{date:i,value:a,onChange:t.onTimeChange}):M.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:t.inputRef,onClick:function(){var c;(c=t.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:a,onChange:function(c){t.onTimeChange(c.target.value||o)}})},t.state={time:t.props.timeString},t}return n.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},n.prototype.render=function(){return M.createElement("div",{className:"react-datepicker__input-time-container"},M.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),M.createElement("div",{className:"react-datepicker-time__input-container"},M.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(p.Component),dN=function(r){at(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.dayEl=p.createRef(),e.handleClick=function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)},e.handleMouseEnter=function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)},e.handleOnKeyDown=function(t){var a,s,i=t.key;i===z.Space&&(t.preventDefault(),t.key=z.Enter),(s=(a=e.props).handleOnKeyDown)===null||s===void 0||s.call(a,t)},e.isSameDay=function(t){return be(e.props.day,t)},e.isKeyboardSelected=function(){var t;if(e.props.disabledKeyboardNavigation)return!1;var a=e.props.selectsMultiple?(t=e.props.selectedDates)===null||t===void 0?void 0:t.some(function(i){return e.isSameDayOrWeek(i)}):e.isSameDayOrWeek(e.props.selected),s=e.props.preSelection&&e.isDisabled(e.props.preSelection);return!a&&e.isSameDayOrWeek(e.props.preSelection)&&!s},e.isDisabled=function(t){return t===void 0&&(t=e.props.day),Pt(t,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(){return nc(e.props.day,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.isStartOfWeek=function(){return be(e.props.day,Wn(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameWeek=function(t){return e.props.showWeekPicker&&be(t,Wn(e.props.day,e.props.locale,e.props.calendarStartDay))},e.isSameDayOrWeek=function(t){return e.isSameDay(t)||e.isSameWeek(t)},e.getHighLightedClass=function(){var t=e.props,a=t.day,s=t.highlightDates;if(!s)return!1;var i=Be(a,"MM.dd.yyyy");return s.get(i)},e.getHolidaysClass=function(){var t,a=e.props,s=a.day,i=a.holidays;if(!i)return[void 0];var o=Be(s,"MM.dd.yyyy");return i.has(o)?[(t=i.get(o))===null||t===void 0?void 0:t.className]:[void 0]},e.isInRange=function(){var t=e.props,a=t.day,s=t.startDate,i=t.endDate;return!s||!i?!1:fa(a,s,i)},e.isInSelectingRange=function(){var t,a=e.props,s=a.day,i=a.selectsStart,o=a.selectsEnd,l=a.selectsRange,c=a.selectsDisabledDaysInRange,d=a.startDate,f=a.endDate,h=(t=e.props.selectingDate)!==null&&t!==void 0?t:e.props.preSelection;return!(i||o||l)||!h||!c&&e.isDisabled()?!1:i&&f&&(ur(h,f)||Jn(h,f))?fa(s,h,f):o&&d&&!f&&(Hn(h,d)||Jn(h,d))||l&&d&&!f&&(Hn(h,d)||Jn(h,d))?fa(s,d,h):!1},e.isSelectingRangeStart=function(){var t;if(!e.isInSelectingRange())return!1;var a=e.props,s=a.day,i=a.startDate,o=a.selectsStart,l=(t=e.props.selectingDate)!==null&&t!==void 0?t:e.props.preSelection;return o?be(s,l):be(s,i)},e.isSelectingRangeEnd=function(){var t;if(!e.isInSelectingRange())return!1;var a=e.props,s=a.day,i=a.endDate,o=a.selectsEnd,l=a.selectsRange,c=(t=e.props.selectingDate)!==null&&t!==void 0?t:e.props.preSelection;return o||l?be(s,c):be(s,i)},e.isRangeStart=function(){var t=e.props,a=t.day,s=t.startDate,i=t.endDate;return!s||!i?!1:be(s,a)},e.isRangeEnd=function(){var t=e.props,a=t.day,s=t.startDate,i=t.endDate;return!s||!i?!1:be(i,a)},e.isWeekend=function(){var t=H0(e.props.day);return t===0||t===6},e.isAfterMonth=function(){return e.props.month!==void 0&&(e.props.month+1)%12===mt(e.props.day)},e.isBeforeMonth=function(){return e.props.month!==void 0&&(mt(e.props.day)+1)%12===e.props.month},e.isCurrentDay=function(){return e.isSameDay(De())},e.isSelected=function(){var t;return e.props.selectsMultiple?(t=e.props.selectedDates)===null||t===void 0?void 0:t.some(function(a){return e.isSameDayOrWeek(a)}):e.isSameDayOrWeek(e.props.selected)},e.getClassNames=function(t){var a=e.props.dayClassName?e.props.dayClassName(t):void 0;return lt("react-datepicker__day",a,"react-datepicker__day--"+UE(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass(),e.getHolidaysClass())},e.getAriaLabel=function(){var t=e.props,a=t.day,s=t.ariaLabelPrefixWhenEnabled,i=s===void 0?"Choose":s,o=t.ariaLabelPrefixWhenDisabled,l=o===void 0?"Not available":o,c=e.isDisabled()||e.isExcluded()?l:i;return"".concat(c," ").concat(Be(a,"PPPP",e.props.locale))},e.getTitle=function(){var t=e.props,a=t.day,s=t.holidays,i=s===void 0?new Map:s,o=t.excludeDates,l=Be(a,"MM.dd.yyyy"),c=[];return i.has(l)&&c.push.apply(c,i.get(l).holidayNames),e.isExcluded()&&c.push(o==null?void 0:o.filter(function(d){return d instanceof Date?be(d,a):be(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),c.join(", ")},e.getTabIndex=function(){var t=e.props.selected,a=e.props.preSelection,s=!(e.props.showWeekPicker&&(e.props.showWeekNumber||!e.isStartOfWeek()))&&(e.isKeyboardSelected()||e.isSameDay(t)&&be(a,t))?0:-1;return s},e.handleFocusDay=function(){var t;e.shouldFocusDay()&&((t=e.dayEl.current)===null||t===void 0||t.focus({preventScroll:!0}))},e.renderDayContents=function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(vu(e.props.day),e.props.day):vu(e.props.day)},e.render=function(){return M.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.props.usePointerEvent?void 0:e.handleMouseEnter,onPointerEnter:e.props.usePointerEvent?e.handleMouseEnter:void 0,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),e.getTitle()!==""&&M.createElement("span",{className:"overlay"},e.getTitle()))},e}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var e=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},n.prototype.isDayActiveElement=function(){var e,t,a;return((t=(e=this.props.containerRef)===null||e===void 0?void 0:e.current)===null||t===void 0?void 0:t.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(p.Component),fN=function(r){at(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.weekNumberEl=p.createRef(),e.handleClick=function(t){e.props.onClick&&e.props.onClick(t)},e.handleOnKeyDown=function(t){var a,s,i=t.key;i===z.Space&&(t.preventDefault(),t.key=z.Enter),(s=(a=e.props).handleOnKeyDown)===null||s===void 0||s.call(a,t)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!be(e.props.date,e.props.selected)&&be(e.props.date,e.props.preSelection)},e.getTabIndex=function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||be(e.props.date,e.props.selected)&&be(e.props.preSelection,e.props.selected))?0:-1},e.handleFocusWeekNumber=function(t){var a=!1;e.getTabIndex()===0&&!(t!=null&&t.isInputFocused)&&be(e.props.date,e.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(a=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})},e}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},n.prototype.render=function(){var e=this.props,t=e.weekNumber,a=e.isWeekDisabled,s=e.ariaLabelPrefix,i=s===void 0?n.defaultProps.ariaLabelPrefix:s,o=e.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!a,"react-datepicker__week-number--selected":!!o&&be(this.props.date,this.props.selected)};return M.createElement("div",{ref:this.weekNumberEl,className:lt(l),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},t)},n}(p.Component),pN=function(r){at(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.isDisabled=function(t){return Pt(t,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.handleDayClick=function(t,a){e.props.onDayClick&&e.props.onDayClick(t,a)},e.handleDayMouseEnter=function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)},e.handleWeekClick=function(t,a,s){for(var i,o,l,c=new Date(t),d=0;d<7;d++){var f=new Date(t);f.setDate(f.getDate()+d);var h=!e.isDisabled(f);if(h){c=f;break}}typeof e.props.onWeekSelect=="function"&&e.props.onWeekSelect(c,a,s),e.props.showWeekPicker&&e.handleDayClick(c,s),((i=e.props.shouldCloseOnSelect)!==null&&i!==void 0?i:n.defaultProps.shouldCloseOnSelect)&&((l=(o=e.props).setOpen)===null||l===void 0||l.call(o,!1))},e.formatWeekNumber=function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):jE(t)},e.isWeekDisabled=function(){for(var t=e.startOfWeek(),a=Gt(t,6),s=new Date(t);s<=a;){if(!e.isDisabled(s))return!1;s=Gt(s,1)}return!0},e.renderDays=function(){var t=e.startOfWeek(),a=[],s=e.formatWeekNumber(t);if(e.props.showWeekNumber){var i=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(e,t,s):void 0;a.push(M.createElement(fN,we({key:"W"},n.defaultProps,e.props,{weekNumber:s,isWeekDisabled:e.isWeekDisabled(),date:t,onClick:i})))}return a.concat([0,1,2,3,4,5,6].map(function(o){var l=Gt(t,o);return M.createElement(dN,we({},n.defaultProps,e.props,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:e.handleDayClick.bind(e,l),onMouseEnter:e.handleDayMouseEnter.bind(e,l)}))}))},e.startOfWeek=function(){return Wn(e.props.day,e.props.locale,e.props.calendarStartDay)},e.isKeyboardSelected=function(){return!e.props.disabledKeyboardNavigation&&!be(e.startOfWeek(),e.props.selected)&&be(e.startOfWeek(),e.props.preSelection)},e}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":be(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return M.createElement("div",{className:lt(e)},this.renderDays())},n}(p.Component),ca,hN=6,Or={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},go=(ca={},ca[Or.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ca[Or.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ca[Or.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ca),vs=1;function Yu(r,n){return r?Or.FOUR_COLUMNS:n?Or.TWO_COLUMNS:Or.THREE_COLUMNS}var mN=function(r){at(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.MONTH_REFS=en([],Array(12),!0).map(function(){return p.createRef()}),e.QUARTER_REFS=en([],Array(4),!0).map(function(){return p.createRef()}),e.isDisabled=function(t){return Pt(t,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDateIntervals:e.props.includeDateIntervals,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(t){return nc(t,{excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals})},e.handleDayClick=function(t,a){var s,i;(i=(s=e.props).onDayClick)===null||i===void 0||i.call(s,t,a,e.props.orderInDisplay)},e.handleDayMouseEnter=function(t){var a,s;(s=(a=e.props).onDayMouseEnter)===null||s===void 0||s.call(a,t)},e.handleMouseLeave=function(){var t,a;(a=(t=e.props).onMouseLeave)===null||a===void 0||a.call(t)},e.isRangeStartMonth=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:pt(Tt(s,t),i)},e.isRangeStartQuarter=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:ri(xr(s,t),i)},e.isRangeEndMonth=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:pt(Tt(s,t),o)},e.isRangeEndQuarter=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:ri(xr(s,t),o)},e.isInSelectingRangeMonth=function(t){var a,s=e.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,f=s.endDate,h=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return!(o||l||c)||!h?!1:o&&f?fs(h,f,t,i):l&&d||c&&d&&!f?fs(d,h,t,i):!1},e.isSelectingMonthRangeStart=function(t){var a;if(!e.isInSelectingRangeMonth(t))return!1;var s=e.props,i=s.day,o=s.startDate,l=s.selectsStart,c=Tt(i,t),d=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return l?pt(c,d):pt(c,o)},e.isSelectingMonthRangeEnd=function(t){var a;if(!e.isInSelectingRangeMonth(t))return!1;var s=e.props,i=s.day,o=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=Tt(i,t),f=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return l||c?pt(d,f):pt(d,o)},e.isInSelectingRangeQuarter=function(t){var a,s=e.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,f=s.endDate,h=(a=e.props.selectingDate)!==null&&a!==void 0?a:e.props.preSelection;return!(o||l||c)||!h?!1:o&&f?ms(h,f,t,i):l&&d||c&&d&&!f?ms(d,h,t,i):!1},e.isWeekInMonth=function(t){var a=e.props.day,s=Gt(t,6);return pt(t,a)||pt(s,a)},e.isCurrentMonth=function(t,a){return pe(t)===pe(De())&&a===mt(De())},e.isCurrentQuarter=function(t,a){return pe(t)===pe(De())&&a===tr(De())},e.isSelectedMonth=function(t,a,s){return mt(s)===a&&pe(t)===pe(s)},e.isSelectMonthInList=function(t,a,s){return s.some(function(i){return e.isSelectedMonth(t,a,i)})},e.isSelectedQuarter=function(t,a,s){return tr(t)===a&&pe(t)===pe(s)},e.renderWeeks=function(){for(var t=[],a=e.props.fixedHeight,s=0,i=!1,o=Wn(xn(e.props.day),e.props.locale,e.props.calendarStartDay),l=function(m){return e.props.showWeekPicker?Wn(m,e.props.locale,e.props.calendarStartDay):e.props.preSelection},c=function(m){return e.props.showWeekPicker?Wn(m,e.props.locale,e.props.calendarStartDay):e.props.selected},d=e.props.selected?c(e.props.selected):void 0,f=e.props.preSelection?l(e.props.preSelection):void 0;t.push(M.createElement(pN,we({},e.props,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,key:s,day:o,month:mt(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:e.props.showWeekNumbers}))),!i;){s++,o=Us(o,1);var h=a&&s>=hN,v=!a&&!e.isWeekInMonth(o);if(h||v)if(e.props.peekNextMonth)i=!0;else break}return t},e.onMonthClick=function(t,a){var s=e.isMonthDisabledForLabelDate(a),i=s.isDisabled,o=s.labelDate;i||e.handleDayClick(xn(o),t)},e.onMonthMouseEnter=function(t){var a=e.isMonthDisabledForLabelDate(t),s=a.isDisabled,i=a.labelDate;s||e.handleDayMouseEnter(xn(i))},e.handleMonthNavigation=function(t,a){var s,i,o,l;(i=(s=e.props).setPreSelection)===null||i===void 0||i.call(s,a),(l=(o=e.MONTH_REFS[t])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()},e.handleKeyboardNavigation=function(t,a,s){var i,o=e.props,l=o.selected,c=o.preSelection,d=o.setPreSelection,f=o.minDate,h=o.maxDate,v=o.showFourColumnMonthYearPicker,m=o.showTwoColumnMonthYearPicker;if(c){var g=Yu(v,m),b=e.getVerticalOffset(g),y=(i=go[g])===null||i===void 0?void 0:i.grid,_=function(D,N,k){var T,P,L=N,O=k;switch(D){case z.ArrowRight:L=Ht(N,vs),O=k===11?0:k+vs;break;case z.ArrowLeft:L=nr(N,vs),O=k===0?11:k-vs;break;case z.ArrowUp:L=nr(N,b),O=!((T=y==null?void 0:y[0])===null||T===void 0)&&T.includes(k)?k+12-b:k-b;break;case z.ArrowDown:L=Ht(N,b),O=!((P=y==null?void 0:y[y.length-1])===null||P===void 0)&&P.includes(k)?k-12+b:k+b;break}return{newCalculatedDate:L,newCalculatedMonth:O}},E=function(D,N,k){for(var T=40,P=D,L=!1,O=0,$=_(P,N,k),F=$.newCalculatedDate,I=$.newCalculatedMonth;!L;){if(O>=T){F=N,I=k;break}if(f&&F<f){P=z.ArrowRight;var R=_(P,F,I);F=R.newCalculatedDate,I=R.newCalculatedMonth}if(h&&F>h){P=z.ArrowLeft;var R=_(P,F,I);F=R.newCalculatedDate,I=R.newCalculatedMonth}if(eN(F,e.props)){var R=_(P,F,I);F=R.newCalculatedDate,I=R.newCalculatedMonth}else L=!0;O++}return{newCalculatedDate:F,newCalculatedMonth:I}};if(a===z.Enter){e.isMonthDisabled(s)||(e.onMonthClick(t,s),d==null||d(l));return}var x=E(a,c,s),C=x.newCalculatedDate,S=x.newCalculatedMonth;switch(a){case z.ArrowRight:case z.ArrowLeft:case z.ArrowUp:case z.ArrowDown:e.handleMonthNavigation(S,C);break}}},e.getVerticalOffset=function(t){var a,s;return(s=(a=go[t])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},e.onMonthKeyDown=function(t,a){var s=e.props,i=s.disabledKeyboardNavigation,o=s.handleOnMonthKeyDown,l=t.key;l!==z.Tab&&t.preventDefault(),i||e.handleKeyboardNavigation(t,l,a),o&&o(t)},e.onQuarterClick=function(t,a){var s=xr(e.props.day,a);ps(s,e.props)||e.handleDayClick(ku(s),t)},e.onQuarterMouseEnter=function(t){var a=xr(e.props.day,t);ps(a,e.props)||e.handleDayMouseEnter(ku(a))},e.handleQuarterNavigation=function(t,a){var s,i,o,l;e.isDisabled(a)||e.isExcluded(a)||((i=(s=e.props).setPreSelection)===null||i===void 0||i.call(s,a),(l=(o=e.QUARTER_REFS[t-1])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus())},e.onQuarterKeyDown=function(t,a){var s,i,o=t.key;if(!e.props.disabledKeyboardNavigation)switch(o){case z.Enter:e.onQuarterClick(t,a),(i=(s=e.props).setPreSelection)===null||i===void 0||i.call(s,e.props.selected);break;case z.ArrowRight:if(!e.props.preSelection)break;e.handleQuarterNavigation(a===4?1:a+1,Bl(e.props.preSelection,1));break;case z.ArrowLeft:if(!e.props.preSelection)break;e.handleQuarterNavigation(a===1?4:a-1,kp(e.props.preSelection,1));break}},e.isMonthDisabledForLabelDate=function(t){var a,s=e.props,i=s.day,o=s.minDate,l=s.maxDate,c=s.excludeDates,d=s.includeDates,f=Tt(i,t);return{isDisabled:(a=(o||l||c||d)&&Yp(f,e.props))!==null&&a!==void 0?a:!1,labelDate:f}},e.isMonthDisabled=function(t){var a=e.isMonthDisabledForLabelDate(t).isDisabled;return a},e.getMonthClassNames=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate,l=a.preSelection,c=a.monthClassName,d=c?c(Tt(s,t)):void 0,f=e.getSelection();return lt("react-datepicker__month-text","react-datepicker__month-".concat(t),d,{"react-datepicker__month-text--disabled":e.isMonthDisabled(t),"react-datepicker__month-text--selected":f?e.isSelectMonthInList(s,t,f):void 0,"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&l&&e.isSelectedMonth(s,t,l)&&!e.isMonthDisabled(t),"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":i&&o?fs(i,o,t,s):void 0,"react-datepicker__month-text--range-start":e.isRangeStartMonth(t),"react-datepicker__month-text--range-end":e.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":e.isCurrentMonth(s,t)})},e.getTabIndex=function(t){if(e.props.preSelection==null)return"-1";var a=mt(e.props.preSelection),s=e.isMonthDisabledForLabelDate(a).isDisabled,i=t===a&&!(s||e.props.disabledKeyboardNavigation)?"0":"-1";return i},e.getQuarterTabIndex=function(t){if(e.props.preSelection==null)return"-1";var a=tr(e.props.preSelection),s=ps(e.props.day,e.props),i=t===a&&!(s||e.props.disabledKeyboardNavigation)?"0":"-1";return i},e.getAriaLabel=function(t){var a=e.props,s=a.chooseDayAriaLabelPrefix,i=s===void 0?"Choose":s,o=a.disabledDayAriaLabelPrefix,l=o===void 0?"Not available":o,c=a.day,d=a.locale,f=Tt(c,t),h=e.isDisabled(f)||e.isExcluded(f)?l:i;return"".concat(h," ").concat(Be(f,"MMMM yyyy",d))},e.getQuarterClassNames=function(t){var a=e.props,s=a.day,i=a.startDate,o=a.endDate,l=a.selected,c=a.minDate,d=a.maxDate,f=a.excludeDates,h=a.includeDates,v=a.filterDate,m=a.preSelection,g=a.disabledKeyboardNavigation,b=(c||d||f||h||v)&&ps(xr(s,t),e.props);return lt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":b,"react-datepicker__quarter-text--selected":l?e.isSelectedQuarter(s,t,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&m&&e.isSelectedQuarter(s,t,m)&&!b,"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":i&&o?ms(i,o,t,s):void 0,"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(t),"react-datepicker__quarter-text--today":e.isCurrentQuarter(s,t)})},e.getMonthContent=function(t){var a=e.props,s=a.showFullMonthYearPicker,i=a.renderMonthContent,o=a.locale,l=a.day,c=Hp(t,o),d=tc(t,o);return i?i(t,c,d,l):s?d:c},e.getQuarterContent=function(t){var a,s=e.props,i=s.renderQuarterContent,o=s.locale,l=JE(t,o);return(a=i==null?void 0:i(t,l))!==null&&a!==void 0?a:l},e.renderMonths=function(){var t,a=e.props,s=a.showTwoColumnMonthYearPicker,i=a.showFourColumnMonthYearPicker,o=a.day,l=a.selected,c=(t=go[Yu(i,s)])===null||t===void 0?void 0:t.grid;return c==null?void 0:c.map(function(d,f){return M.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(h,v){return M.createElement("div",{ref:e.MONTH_REFS[h],key:v,onClick:function(m){e.onMonthClick(m,h)},onKeyDown:function(m){Up(m)&&(m.preventDefault(),m.key=z.Enter),e.onMonthKeyDown(m,h)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onMonthMouseEnter(h)},onPointerEnter:e.props.usePointerEvent?function(){return e.onMonthMouseEnter(h)}:void 0,tabIndex:Number(e.getTabIndex(h)),className:e.getMonthClassNames(h),"aria-disabled":e.isMonthDisabled(h),role:"option","aria-label":e.getAriaLabel(h),"aria-current":e.isCurrentMonth(o,h)?"date":void 0,"aria-selected":l?e.isSelectedMonth(o,h,l):void 0},e.getMonthContent(h))}))})},e.renderQuarters=function(){var t=e.props,a=t.day,s=t.selected,i=[1,2,3,4];return M.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(o,l){return M.createElement("div",{key:l,ref:e.QUARTER_REFS[l],role:"option",onClick:function(c){e.onQuarterClick(c,o)},onKeyDown:function(c){e.onQuarterKeyDown(c,o)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onQuarterMouseEnter(o)},onPointerEnter:e.props.usePointerEvent?function(){return e.onQuarterMouseEnter(o)}:void 0,className:e.getQuarterClassNames(o),"aria-selected":s?e.isSelectedQuarter(a,o,s):void 0,tabIndex:Number(e.getQuarterTabIndex(o)),"aria-current":e.isCurrentQuarter(a,o)?"date":void 0},e.getQuarterContent(o))}))},e.getClassNames=function(){var t=e.props,a=t.selectingDate,s=t.selectsStart,i=t.selectsEnd,o=t.showMonthYearPicker,l=t.showQuarterYearPicker,c=t.showWeekPicker;return lt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||i)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},e}return n.prototype.getSelection=function(){var e=this.props,t=e.selected,a=e.selectedDates,s=e.selectsMultiple;if(s)return a;if(t)return[t]},n.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,a=e.showQuarterYearPicker,s=e.day,i=e.ariaLabelPrefix,o=i===void 0?"Month ":i,l=o?o.trim()+" ":"";return M.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Be(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},n}(p.Component),vN=function(r){at(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.isSelectedMonth=function(t){return e.props.month===t},e.renderOptions=function(){return e.props.monthNames.map(function(t,a){return M.createElement("div",{className:e.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(e,a),"aria-selected":e.isSelectedMonth(a)?"true":void 0},e.isSelectedMonth(a)?M.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",t)})},e.onChange=function(t){return e.props.onChange(t)},e.handleClickOutside=function(){return e.props.onCancel()},e}return n.prototype.render=function(){return M.createElement(Fi,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(p.Component),gN=function(r){at(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(t){return t.map(function(a,s){return M.createElement("option",{key:a,value:s},a)})},e.renderSelectMode=function(t){return M.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(a){return e.onChange(parseInt(a.target.value))}},e.renderSelectOptions(t))},e.renderReadView=function(t,a){return M.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},M.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),M.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[e.props.month]))},e.renderDropdown=function(t){return M.createElement(vN,we({key:"dropdown"},e.props,{monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(t){var a=e.state.dropdownVisible,s=[e.renderReadView(!a,t)];return a&&s.unshift(e.renderDropdown(t)),s},e.onChange=function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return n.prototype.render=function(){var e=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return Hp(s,e.props.locale)}:function(s){return tc(s,e.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(t);break;case"select":a=this.renderSelectMode(t);break}return M.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},n}(p.Component);function yN(r,n){for(var e=[],t=xn(r),a=xn(n);!Hn(t,a);)e.push(De(t)),t=Ht(t,1);return e}var bN=function(r){at(n,r);function n(e){var t=r.call(this,e)||this;return t.renderOptions=function(){return t.state.monthYearsList.map(function(a){var s=nl(a),i=qt(t.props.date,a)&&pt(t.props.date,a);return M.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:t.onChange.bind(t,s),"aria-selected":i?"true":void 0},i?M.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Be(a,t.props.dateFormat,t.props.locale))})},t.onChange=function(a){return t.props.onChange(a)},t.handleClickOutside=function(){t.props.onCancel()},t.state={monthYearsList:yN(t.props.minDate,t.props.maxDate)},t}return n.prototype.render=function(){var e=lt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return M.createElement(Fi,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(p.Component),wN=function(r){at(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var t=xn(e.props.minDate),a=xn(e.props.maxDate),s=[];!Hn(t,a);){var i=nl(t);s.push(M.createElement("option",{key:i,value:i},Be(t,e.props.dateFormat,e.props.locale))),t=Ht(t,1)}return s},e.onSelectChange=function(t){e.onChange(parseInt(t.target.value))},e.renderSelectMode=function(){return M.createElement("select",{value:nl(xn(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(t){var a=Be(e.props.date,e.props.dateFormat,e.props.locale);return M.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:e.toggleDropdown},M.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),M.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},e.renderDropdown=function(){return M.createElement(bN,we({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var t=e.state.dropdownVisible,a=[e.renderReadView(!t)];return t&&a.unshift(e.renderDropdown()),a},e.onChange=function(t){e.toggleDropdown();var a=De(t);qt(e.props.date,a)&&pt(e.props.date,a)||e.props.onChange(a)},e.toggleDropdown=function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})},e}return n.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return M.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},n}(p.Component),_N=function(r){at(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.state={height:null},e.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var t,a,s;e.list&&(e.list.scrollTop=(s=e.centerLi&&n.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-((a=(t=e.header)===null||t===void 0?void 0:t.clientHeight)!==null&&a!==void 0?a:0):e.list.clientHeight,e.centerLi))!==null&&s!==void 0?s:0)})},e.handleClick=function(t){var a,s;(e.props.minTime||e.props.maxTime)&&Lu(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&Mu(t,e.props)||(s=(a=e.props).onChange)===null||s===void 0||s.call(a,t)},e.isSelectedTime=function(t){return e.props.selected&&cN(e.props.selected,t)},e.isDisabledTime=function(t){return(e.props.minTime||e.props.maxTime)&&Lu(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&Mu(t,e.props)},e.liClasses=function(t){var a,s=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t):void 0];return e.isSelectedTime(t)&&s.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(t)&&s.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(Nn(t)*3600+Cn(t)*60+Bn(t))%(((a=e.props.intervals)!==null&&a!==void 0?a:n.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},e.handleOnKeyDown=function(t,a){var s,i;t.key===z.Space&&(t.preventDefault(),t.key=z.Enter),(t.key===z.ArrowUp||t.key===z.ArrowLeft)&&t.target instanceof HTMLElement&&t.target.previousSibling&&(t.preventDefault(),t.target.previousSibling instanceof HTMLElement&&t.target.previousSibling.focus()),(t.key===z.ArrowDown||t.key===z.ArrowRight)&&t.target instanceof HTMLElement&&t.target.nextSibling&&(t.preventDefault(),t.target.nextSibling instanceof HTMLElement&&t.target.nextSibling.focus()),t.key===z.Enter&&e.handleClick(a),(i=(s=e.props).handleOnKeyDown)===null||i===void 0||i.call(s,t)},e.renderTimes=function(){for(var t,a=[],s=typeof e.props.format=="string"?e.props.format:"p",i=(t=e.props.intervals)!==null&&t!==void 0?t:n.defaultProps.intervals,o=e.props.selected||e.props.openToDate||De(),l=Ts(o),c=e.props.injectTimes&&e.props.injectTimes.sort(function(b,y){return b.getTime()-y.getTime()}),d=60*lN(o),f=d/i,h=0;h<f;h++){var v=Zo(l,h*i);if(a.push(v),c){var m=oN(l,v,h,i,c);a=a.concat(m)}}var g=a.reduce(function(b,y){return y.getTime()<=o.getTime()?y:b},a[0]);return a.map(function(b){return M.createElement("li",{key:b.valueOf(),onClick:e.handleClick.bind(e,b),className:e.liClasses(b),ref:function(y){b===g&&(e.centerLi=y)},onKeyDown:function(y){e.handleOnKeyDown(y,b)},tabIndex:b===g?0:-1,role:"option","aria-selected":e.isSelectedTime(b)?"true":void 0,"aria-disabled":e.isDisabledTime(b)?"true":void 0},Be(b,s,e.props.locale))})},e.renderTimeCaption=function(){return e.props.showTimeCaption===!1?M.createElement(M.Fragment,null):M.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(e.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},M.createElement("div",{className:"react-datepicker-time__header"},e.props.timeCaption))},e}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},n.prototype.componentWillUnmount=function(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()},n.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},n.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var e=this,t,a=this.state.height;return M.createElement("div",{className:"react-datepicker__time-container ".concat(((t=this.props.todayButton)!==null&&t!==void 0?t:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),M.createElement("div",{className:"react-datepicker__time"},M.createElement("div",{className:"react-datepicker__time-box"},M.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){e.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},n}(p.Component),Vu=3,SN=function(r){at(n,r);function n(e){var t=r.call(this,e)||this;return t.YEAR_REFS=en([],Array(t.props.yearItemNumber),!0).map(function(){return p.createRef()}),t.isDisabled=function(a){return Pt(a,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(a){return nc(a,{excludeDates:t.props.excludeDates})},t.selectingDate=function(){var a;return(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection},t.updateFocusOnPaginate=function(a){var s=function(){var i,o;(o=(i=t.YEAR_REFS[a])===null||i===void 0?void 0:i.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(s)},t.handleYearClick=function(a,s){t.props.onDayClick&&t.props.onDayClick(a,s)},t.handleYearNavigation=function(a,s){var i,o,l,c,d=t.props,f=d.date,h=d.yearItemNumber;if(!(f===void 0||h===void 0)){var v=Fn(f,h).startPeriod;t.isDisabled(s)||t.isExcluded(s)||((o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),a-v<0?t.updateFocusOnPaginate(h-(v-a)):a-v>=h?t.updateFocusOnPaginate(Math.abs(h-(a-v))):(c=(l=t.YEAR_REFS[a-v])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},t.isSameDay=function(a,s){return be(a,s)},t.isCurrentYear=function(a){return a===pe(De())},t.isRangeStart=function(a){return t.props.startDate&&t.props.endDate&&qt(Ut(De(),a),t.props.startDate)},t.isRangeEnd=function(a){return t.props.startDate&&t.props.endDate&&qt(Ut(De(),a),t.props.endDate)},t.isInRange=function(a){return hs(a,t.props.startDate,t.props.endDate)},t.isInSelectingRange=function(a){var s=t.props,i=s.selectsStart,o=s.selectsEnd,l=s.selectsRange,c=s.startDate,d=s.endDate;return!(i||o||l)||!t.selectingDate()?!1:i&&d?hs(a,t.selectingDate(),d):o&&c||l&&c&&!d?hs(a,c,t.selectingDate()):!1},t.isSelectingRangeStart=function(a){var s;if(!t.isInSelectingRange(a))return!1;var i=t.props,o=i.startDate,l=i.selectsStart,c=Ut(De(),a);return l?qt(c,(s=t.selectingDate())!==null&&s!==void 0?s:null):qt(c,o!=null?o:null)},t.isSelectingRangeEnd=function(a){var s;if(!t.isInSelectingRange(a))return!1;var i=t.props,o=i.endDate,l=i.selectsEnd,c=i.selectsRange,d=Ut(De(),a);return l||c?qt(d,(s=t.selectingDate())!==null&&s!==void 0?s:null):qt(d,o!=null?o:null)},t.isKeyboardSelected=function(a){if(!(t.props.date===void 0||t.props.selected==null||t.props.preSelection==null)){var s=t.props,i=s.minDate,o=s.maxDate,l=s.excludeDates,c=s.includeDates,d=s.filterDate,f=da(Ut(t.props.date,a)),h=(i||o||l||c||d)&&Ps(a,t.props);return!t.props.disabledKeyboardNavigation&&!t.props.inline&&!be(f,da(t.props.selected))&&be(f,da(t.props.preSelection))&&!h}},t.isSelectedYear=function(a){var s=t.props,i=s.selectsMultiple,o=s.selected,l=s.selectedDates;return i?l==null?void 0:l.some(function(c){return a===pe(c)}):!o||a===pe(o)},t.onYearClick=function(a,s){var i=t.props.date;i!==void 0&&t.handleYearClick(da(Ut(i,s)),a)},t.onYearKeyDown=function(a,s){var i,o,l=a.key,c=t.props,d=c.date,f=c.yearItemNumber,h=c.handleOnKeyDown;if(l!==z.Tab&&a.preventDefault(),!t.props.disabledKeyboardNavigation)switch(l){case z.Enter:if(t.props.selected==null)break;t.onYearClick(a,s),(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,t.props.selected);break;case z.ArrowRight:if(t.props.preSelection==null)break;t.handleYearNavigation(s+1,Sn(t.props.preSelection,1));break;case z.ArrowLeft:if(t.props.preSelection==null)break;t.handleYearNavigation(s-1,Vr(t.props.preSelection,1));break;case z.ArrowUp:{if(d===void 0||f===void 0||t.props.preSelection==null)break;var v=Fn(d,f).startPeriod,m=Vu,g=s-m;if(g<v){var b=f%m;s>=v&&s<v+b?m=b:m+=b,g=s-m}t.handleYearNavigation(g,Vr(t.props.preSelection,m));break}case z.ArrowDown:{if(d===void 0||f===void 0||t.props.preSelection==null)break;var y=Fn(d,f).endPeriod,m=Vu,g=s+m;if(g>y){var b=f%m;s<=y&&s>y-b?m=b:m+=b,g=s+m}t.handleYearNavigation(g,Sn(t.props.preSelection,m));break}}h&&h(a)},t.getYearClassNames=function(a){var s=t.props,i=s.date,o=s.minDate,l=s.maxDate,c=s.excludeDates,d=s.includeDates,f=s.filterDate,h=s.yearClassName;return lt("react-datepicker__year-text","react-datepicker__year-".concat(a),i?h==null?void 0:h(Ut(i,a)):void 0,{"react-datepicker__year-text--selected":t.isSelectedYear(a),"react-datepicker__year-text--disabled":(o||l||c||d||f)&&Ps(a,t.props),"react-datepicker__year-text--keyboard-selected":t.isKeyboardSelected(a),"react-datepicker__year-text--range-start":t.isRangeStart(a),"react-datepicker__year-text--range-end":t.isRangeEnd(a),"react-datepicker__year-text--in-range":t.isInRange(a),"react-datepicker__year-text--in-selecting-range":t.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":t.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":t.isSelectingRangeEnd(a),"react-datepicker__year-text--today":t.isCurrentYear(a)})},t.getYearTabIndex=function(a){if(t.props.disabledKeyboardNavigation||t.props.preSelection==null)return"-1";var s=pe(t.props.preSelection),i=Ps(a,t.props);return a===s&&!i?"0":"-1"},t.getYearContent=function(a){return t.props.renderYearContent?t.props.renderYearContent(a):a},t}return n.prototype.render=function(){var e=this,t=[],a=this.props,s=a.date,i=a.yearItemNumber,o=a.onYearMouseEnter,l=a.onYearMouseLeave;if(s===void 0)return null;for(var c=Fn(s,i),d=c.startPeriod,f=c.endPeriod,h=function(g){t.push(M.createElement("div",{ref:v.YEAR_REFS[g-d],onClick:function(b){e.onYearClick(b,g)},onKeyDown:function(b){Up(b)&&(b.preventDefault(),b.key=z.Enter),e.onYearKeyDown(b,g)},tabIndex:Number(v.getYearTabIndex(g)),className:v.getYearClassNames(g),onMouseEnter:v.props.usePointerEvent?void 0:function(b){return o(b,g)},onPointerEnter:v.props.usePointerEvent?function(b){return o(b,g)}:void 0,onMouseLeave:v.props.usePointerEvent?void 0:function(b){return l(b,g)},onPointerLeave:v.props.usePointerEvent?function(b){return l(b,g)}:void 0,key:g,"aria-current":v.isCurrentYear(g)?"date":void 0},v.getYearContent(g)))},v=this,m=d;m<=f;m++)h(m);return M.createElement("div",{className:"react-datepicker__year"},M.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},n}(p.Component);function EN(r,n,e,t){for(var a=[],s=0;s<2*n+1;s++){var i=r+n-s,o=!0;e&&(o=pe(e)<=i),t&&o&&(o=pe(t)>=i),o&&a.push(i)}return a}var NN=function(r){at(n,r);function n(e){var t=r.call(this,e)||this;t.renderOptions=function(){var o=t.props.year,l=t.state.yearsList.map(function(f){return M.createElement("div",{className:o===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:t.onChange.bind(t,f),"aria-selected":o===f?"true":void 0},o===f?M.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),c=t.props.minDate?pe(t.props.minDate):null,d=t.props.maxDate?pe(t.props.maxDate):null;return(!d||!t.state.yearsList.find(function(f){return f===d}))&&l.unshift(M.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:t.incrementYears},M.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!t.state.yearsList.find(function(f){return f===c}))&&l.push(M.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:t.decrementYears},M.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},t.onChange=function(o){t.props.onChange(o)},t.handleClickOutside=function(){t.props.onCancel()},t.shiftYears=function(o){var l=t.state.yearsList.map(function(c){return c+o});t.setState({yearsList:l})},t.incrementYears=function(){return t.shiftYears(1)},t.decrementYears=function(){return t.shiftYears(-1)};var a=e.yearDropdownItemNumber,s=e.scrollableYearDropdown,i=a||(s?10:5);return t.state={yearsList:EN(t.props.year,i,t.props.minDate,t.props.maxDate)},t.dropdownRef=p.createRef(),t}return n.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,a=t?t.find(function(s){return s.ariaSelected}):null;e.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},n.prototype.render=function(){var e=lt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return M.createElement(Fi,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(p.Component),CN=function(r){at(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.state={dropdownVisible:!1},e.renderSelectOptions=function(){for(var t=e.props.minDate?pe(e.props.minDate):1900,a=e.props.maxDate?pe(e.props.maxDate):2100,s=[],i=t;i<=a;i++)s.push(M.createElement("option",{key:i,value:i},i));return s},e.onSelectChange=function(t){e.onChange(parseInt(t.target.value))},e.renderSelectMode=function(){return M.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())},e.renderReadView=function(t){return M.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return e.toggleDropdown(a)}},M.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),M.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))},e.renderDropdown=function(){return M.createElement(NN,we({key:"dropdown"},e.props,{onChange:e.onChange,onCancel:e.toggleDropdown}))},e.renderScrollMode=function(){var t=e.state.dropdownVisible,a=[e.renderReadView(!t)];return t&&a.unshift(e.renderDropdown()),a},e.onChange=function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)},e.toggleDropdown=function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)})},e.handleYearChange=function(t,a){var s;(s=e.onSelect)===null||s===void 0||s.call(e,t,a),e.setOpen()},e.onSelect=function(t,a){var s,i;(i=(s=e.props).onSelect)===null||i===void 0||i.call(s,t,a)},e.setOpen=function(){var t,a;(a=(t=e.props).setOpen)===null||a===void 0||a.call(t,!0)},e}return n.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode();break}return M.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},n}(p.Component),xN=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],DN=function(r){var n=(r.className||"").split(/\s+/);return xN.some(function(e){return n.indexOf(e)>=0})},kN=function(r){at(n,r);function n(e){var t=r.call(this,e)||this;return t.monthContainer=void 0,t.handleClickOutside=function(a){t.props.onClickOutside(a)},t.setClickOutsideRef=function(){return t.containerRef.current},t.handleDropdownFocus=function(a){var s,i;DN(a.target)&&((i=(s=t.props).onDropdownFocus)===null||i===void 0||i.call(s,a))},t.getDateInView=function(){var a=t.props,s=a.preSelection,i=a.selected,o=a.openToDate,l=Vp(t.props),c=jp(t.props),d=De(),f=o||i||s;return f||(l&&ur(d,l)?l:c&&Hn(d,c)?c:d)},t.increaseMonth=function(){t.setState(function(a){var s=a.date;return{date:Ht(s,1)}},function(){return t.handleMonthChange(t.state.date)})},t.decreaseMonth=function(){t.setState(function(a){var s=a.date;return{date:nr(s,1)}},function(){return t.handleMonthChange(t.state.date)})},t.handleDayClick=function(a,s,i){t.props.onSelect(a,s,i),t.props.setPreSelection&&t.props.setPreSelection(a)},t.handleDayMouseEnter=function(a){t.setState({selectingDate:a}),t.props.onDayMouseEnter&&t.props.onDayMouseEnter(a)},t.handleMonthMouseLeave=function(){t.setState({selectingDate:void 0}),t.props.onMonthMouseLeave&&t.props.onMonthMouseLeave()},t.handleYearMouseEnter=function(a,s){t.setState({selectingDate:Ut(De(),s)}),t.props.onYearMouseEnter&&t.props.onYearMouseEnter(a,s)},t.handleYearMouseLeave=function(a,s){t.props.onYearMouseLeave&&t.props.onYearMouseLeave(a,s)},t.handleYearChange=function(a){var s,i,o,l;(i=(s=t.props).onYearChange)===null||i===void 0||i.call(s,a),t.setState({isRenderAriaLiveMessage:!0}),t.props.adjustDateOnChange&&(t.props.onSelect(a),(l=(o=t.props).setOpen)===null||l===void 0||l.call(o,!0)),t.props.setPreSelection&&t.props.setPreSelection(a)},t.getEnabledPreSelectionDateForMonth=function(a){if(!Pt(a,t.props))return a;for(var s=xn(a),i=qE(a),o=Qw(i,s),l=null,c=0;c<=o;c++){var d=Gt(s,c);if(!Pt(d,t.props)){l=d;break}}return l},t.handleMonthChange=function(a){var s,i,o,l=(s=t.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;t.handleCustomMonthChange(l),t.props.adjustDateOnChange&&(t.props.onSelect(l),(o=(i=t.props).setOpen)===null||o===void 0||o.call(i,!0)),t.props.setPreSelection&&t.props.setPreSelection(l)},t.handleCustomMonthChange=function(a){var s,i;(i=(s=t.props).onMonthChange)===null||i===void 0||i.call(s,a),t.setState({isRenderAriaLiveMessage:!0})},t.handleMonthYearChange=function(a){t.handleYearChange(a),t.handleMonthChange(a)},t.changeYear=function(a){t.setState(function(s){var i=s.date;return{date:Ut(i,Number(a))}},function(){return t.handleYearChange(t.state.date)})},t.changeMonth=function(a){t.setState(function(s){var i=s.date;return{date:Tt(i,Number(a))}},function(){return t.handleMonthChange(t.state.date)})},t.changeMonthYear=function(a){t.setState(function(s){var i=s.date;return{date:Ut(Tt(i,mt(a)),pe(a))}},function(){return t.handleMonthYearChange(t.state.date)})},t.header=function(a){a===void 0&&(a=t.state.date);var s=Wn(a,t.props.locale,t.props.calendarStartDay),i=[];return t.props.showWeekNumbers&&i.push(M.createElement("div",{key:"W",className:"react-datepicker__day-name"},t.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map(function(o){var l=Gt(s,o),c=t.formatWeekday(l,t.props.locale),d=t.props.weekDayClassName?t.props.weekDayClassName(l):void 0;return M.createElement("div",{key:o,"aria-label":Be(l,"EEEE",t.props.locale),className:lt("react-datepicker__day-name",d)},c)}))},t.formatWeekday=function(a,s){return t.props.formatWeekDay?QE(a,t.props.formatWeekDay,s):t.props.useWeekdaysShort?ZE(a,s):XE(a,s)},t.decreaseYear=function(){t.setState(function(a){var s,i=a.date;return{date:Vr(i,t.props.showYearPicker?(s=t.props.yearItemNumber)!==null&&s!==void 0?s:n.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.clearSelectingDate=function(){t.setState({selectingDate:void 0})},t.renderPreviousButton=function(){var a,s,i;if(!t.props.renderCustomHeader){var o=(a=t.props.monthsShown)!==null&&a!==void 0?a:n.defaultProps.monthsShown,l=t.props.showPreviousMonths?o-1:0,c=(s=t.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=nr(t.state.date,c),f;switch(!0){case t.props.showMonthYearPicker:f=Ru(t.state.date,t.props);break;case t.props.showYearPicker:f=rN(t.state.date,t.props);break;case t.props.showQuarterYearPicker:f=tN(t.state.date,t.props);break;default:f=Au(d,t.props);break}if(!(!((i=t.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&f||t.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],v=["react-datepicker__navigation","react-datepicker__navigation--previous"],m=t.decreaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(m=t.decreaseYear),f&&t.props.showDisabledMonthNavigation&&(v.push("react-datepicker__navigation--previous--disabled"),m=void 0);var g=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,b=t.props,y=b.previousMonthButtonLabel,_=y===void 0?n.defaultProps.previousMonthButtonLabel:y,E=b.previousYearButtonLabel,x=E===void 0?n.defaultProps.previousYearButtonLabel:E,C=t.props,S=C.previousMonthAriaLabel,D=S===void 0?typeof _=="string"?_:"Previous Month":S,N=C.previousYearAriaLabel,k=N===void 0?typeof x=="string"?x:"Previous Year":N;return M.createElement("button",{type:"button",className:v.join(" "),onClick:m,onKeyDown:t.props.handleOnKeyDown,"aria-label":g?k:D},M.createElement("span",{className:h.join(" ")},g?x:_))}}},t.increaseYear=function(){t.setState(function(a){var s,i=a.date;return{date:Sn(i,t.props.showYearPicker?(s=t.props.yearItemNumber)!==null&&s!==void 0?s:n.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.renderNextButton=function(){var a;if(!t.props.renderCustomHeader){var s;switch(!0){case t.props.showMonthYearPicker:s=$u(t.state.date,t.props);break;case t.props.showYearPicker:s=aN(t.state.date,t.props);break;case t.props.showQuarterYearPicker:s=nN(t.state.date,t.props);break;default:s=Iu(t.state.date,t.props);break}if(!(!((a=t.props.forceShowMonthNavigation)!==null&&a!==void 0?a:n.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&s||t.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];t.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),t.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var l=t.increaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(l=t.increaseYear),s&&t.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,d=t.props,f=d.nextMonthButtonLabel,h=f===void 0?n.defaultProps.nextMonthButtonLabel:f,v=d.nextYearButtonLabel,m=v===void 0?n.defaultProps.nextYearButtonLabel:v,g=t.props,b=g.nextMonthAriaLabel,y=b===void 0?typeof h=="string"?h:"Next Month":b,_=g.nextYearAriaLabel,E=_===void 0?typeof m=="string"?m:"Next Year":_;return M.createElement("button",{type:"button",className:i.join(" "),onClick:l,onKeyDown:t.props.handleOnKeyDown,"aria-label":c?E:y},M.createElement("span",{className:o.join(" ")},c?m:h))}}},t.renderCurrentMonth=function(a){a===void 0&&(a=t.state.date);var s=["react-datepicker__current-month"];return t.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),t.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),t.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),M.createElement("h2",{className:s.join(" ")},Be(a,t.props.dateFormat,t.props.locale))},t.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!t.props.showYearDropdown||a))return M.createElement(CN,we({},n.defaultProps,t.props,{date:t.state.date,onChange:t.changeYear,year:pe(t.state.date)}))},t.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!t.props.showMonthDropdown||a))return M.createElement(gN,we({},n.defaultProps,t.props,{month:mt(t.state.date),onChange:t.changeMonth}))},t.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!t.props.showMonthYearDropdown||a))return M.createElement(wN,we({},n.defaultProps,t.props,{date:t.state.date,onChange:t.changeMonthYear}))},t.handleTodayButtonClick=function(a){t.props.onSelect(Tu(),a),t.props.setPreSelection&&t.props.setPreSelection(Tu())},t.renderTodayButton=function(){if(!(!t.props.todayButton||t.props.showTimeSelectOnly))return M.createElement("div",{className:"react-datepicker__today-button",onClick:t.handleTodayButtonClick},t.props.todayButton)},t.renderDefaultHeader=function(a){var s=a.monthDate,i=a.i;return M.createElement("div",{className:"react-datepicker__header ".concat(t.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},t.renderCurrentMonth(s),M.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(t.props.dropdownMode),onFocus:t.handleDropdownFocus},t.renderMonthDropdown(i!==0),t.renderMonthYearDropdown(i!==0),t.renderYearDropdown(i!==0)),M.createElement("div",{className:"react-datepicker__day-names"},t.header(s)))},t.renderCustomHeader=function(a){var s,i,o=a.monthDate,l=a.i;if(t.props.showTimeSelect&&!t.state.monthContainer||t.props.showTimeSelectOnly)return null;var c=Au(t.state.date,t.props),d=Iu(t.state.date,t.props),f=Ru(t.state.date,t.props),h=$u(t.state.date,t.props),v=!t.props.showMonthYearPicker&&!t.props.showQuarterYearPicker&&!t.props.showYearPicker;return M.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:t.props.onDropdownFocus},(i=(s=t.props).renderCustomHeader)===null||i===void 0?void 0:i.call(s,we(we({},t.state),{customHeaderCount:l,monthDate:o,changeMonth:t.changeMonth,changeYear:t.changeYear,decreaseMonth:t.decreaseMonth,increaseMonth:t.increaseMonth,decreaseYear:t.decreaseYear,increaseYear:t.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:h})),v&&M.createElement("div",{className:"react-datepicker__day-names"},t.header(o)))},t.renderYearHeader=function(a){var s=a.monthDate,i=t.props,o=i.showYearPicker,l=i.yearItemNumber,c=l===void 0?n.defaultProps.yearItemNumber:l,d=Fn(s,c),f=d.startPeriod,h=d.endPeriod;return M.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(f," - ").concat(h):pe(s))},t.renderHeader=function(a){var s=a.monthDate,i=a.i,o=i===void 0?0:i,l={monthDate:s,i:o};switch(!0){case t.props.renderCustomHeader!==void 0:return t.renderCustomHeader(l);case(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker):return t.renderYearHeader(l);default:return t.renderDefaultHeader(l)}},t.renderMonths=function(){var a,s;if(!(t.props.showTimeSelectOnly||t.props.showYearPicker)){for(var i=[],o=(a=t.props.monthsShown)!==null&&a!==void 0?a:n.defaultProps.monthsShown,l=t.props.showPreviousMonths?o-1:0,c=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?Sn(t.state.date,l):nr(t.state.date,l),d=(s=t.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<o;++f){var h=f-d+l,v=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?Sn(c,h):Ht(c,h),m="month-".concat(f),g=f<o-1,b=f>0;i.push(M.createElement("div",{key:m,ref:function(y){t.monthContainer=y!=null?y:void 0},className:"react-datepicker__month-container"},t.renderHeader({monthDate:v,i:f}),M.createElement(mN,we({},n.defaultProps,t.props,{containerRef:t.containerRef,ariaLabelPrefix:t.props.monthAriaLabelPrefix,day:v,onDayClick:t.handleDayClick,handleOnKeyDown:t.props.handleOnDayKeyDown,handleOnMonthKeyDown:t.props.handleOnKeyDown,onDayMouseEnter:t.handleDayMouseEnter,onMouseLeave:t.handleMonthMouseLeave,orderInDisplay:f,selectingDate:t.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:b}))))}return i}},t.renderYears=function(){if(!t.props.showTimeSelectOnly&&t.props.showYearPicker)return M.createElement("div",{className:"react-datepicker__year--container"},t.renderHeader({monthDate:t.state.date}),M.createElement(SN,we({},n.defaultProps,t.props,{selectingDate:t.state.selectingDate,date:t.state.date,onDayClick:t.handleDayClick,clearSelectingDate:t.clearSelectingDate,onYearMouseEnter:t.handleYearMouseEnter,onYearMouseLeave:t.handleYearMouseLeave})))},t.renderTimeSection=function(){if(t.props.showTimeSelect&&(t.state.monthContainer||t.props.showTimeSelectOnly))return M.createElement(_N,we({},n.defaultProps,t.props,{onChange:t.props.onTimeChange,format:t.props.timeFormat,intervals:t.props.timeIntervals,monthRef:t.state.monthContainer}))},t.renderInputTimeSection=function(){var a=t.props.selected?new Date(t.props.selected):void 0,s=a&&Gi(a)&&!!t.props.selected,i=s?"".concat(Gu(a.getHours()),":").concat(Gu(a.getMinutes())):"";if(t.props.showTimeInput)return M.createElement(uN,we({},n.defaultProps,t.props,{date:a,timeString:i,onChange:t.props.onTimeChange}))},t.renderAriaLiveRegion=function(){var a,s=Fn(t.state.date,(a=t.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber),i=s.startPeriod,o=s.endPeriod,l;return t.props.showYearPicker?l="".concat(i," - ").concat(o):t.props.showMonthYearPicker||t.props.showQuarterYearPicker?l=pe(t.state.date):l="".concat(tc(mt(t.state.date),t.props.locale)," ").concat(pe(t.state.date)),M.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t.state.isRenderAriaLiveMessage&&l)},t.renderChildren=function(){if(t.props.children)return M.createElement("div",{className:"react-datepicker__children-container"},t.props.children)},t.containerRef=p.createRef(),t.state={date:t.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ya}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){e.setState({monthContainer:e.monthContainer})}())},n.prototype.componentDidUpdate=function(e){var t=this;if(this.props.preSelection&&(!be(this.props.preSelection,e.preSelection)||this.props.monthSelectedIn!==e.monthSelectedIn)){var a=!pt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!be(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var e=this.props.container||WE;return M.createElement(Fi,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},M.createElement("div",{style:{display:"contents"},ref:this.containerRef},M.createElement(e,{className:lt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},n}(p.Component),TN=function(r){var n=r.icon,e=r.className,t=e===void 0?"":e,a=r.onClick,s="react-datepicker__calendar-icon";if(typeof n=="string")return M.createElement("i",{className:"".concat(s," ").concat(n," ").concat(t),"aria-hidden":"true",onClick:a});if(M.isValidElement(n)){var i=n;return M.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(s," ").concat(t),onClick:function(o){typeof i.props.onClick=="function"&&i.props.onClick(o),typeof a=="function"&&a(o)}})}return M.createElement("svg",{className:"".concat(s," ").concat(t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},M.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},zp=function(r){at(n,r);function n(e){var t=r.call(this,e)||this;return t.portalRoot=null,t.el=document.createElement("div"),t}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return cm.createPortal(this.props.children,this.el)},n}(p.Component),PN="[tabindex], a, button, input, select, textarea",ON=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},qp=function(r){at(n,r);function n(e){var t=r.call(this,e)||this;return t.getTabChildren=function(){var a;return Array.prototype.slice.call((a=t.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(PN),1,-1).filter(ON)},t.handleFocusStart=function(){var a=t.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},t.handleFocusEnd=function(){var a=t.getTabChildren();a&&a.length>1&&a[0].focus()},t.tabLoopRef=p.createRef(),t}return n.prototype.render=function(){var e;return((e=this.props.enableTabLoop)!==null&&e!==void 0?e:n.defaultProps.enableTabLoop)?M.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},M.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,M.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(p.Component);function MN(r){var n=function(e){var t,a=typeof e.hidePopper=="boolean"?e.hidePopper:!0,s=p.useRef(null),i=BE(we({open:!a,whileElementsMounted:yE,placement:e.popperPlacement,middleware:en([CE({padding:15}),NE(10),xE({element:s})],(t=e.popperModifiers)!==null&&t!==void 0?t:[],!0)},e.popperProps)),o=we(we({},e),{hidePopper:a,popperProps:we(we({},i),{arrowRef:s})});return M.createElement(r,we({},o))};return n}var LN=function(r){at(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var e=this.props,t=e.className,a=e.wrapperClassName,s=e.hidePopper,i=s===void 0?n.defaultProps.hidePopper:s,o=e.popperComponent,l=e.targetComponent,c=e.enableTabLoop,d=e.popperOnKeyDown,f=e.portalId,h=e.portalHost,v=e.popperProps,m=e.showArrow,g=void 0;if(!i){var b=lt("react-datepicker-popper",t);g=M.createElement(qp,{enableTabLoop:c},M.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:b,"data-placement":v.placement,onKeyDown:d},o,m&&M.createElement(LE,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=p.createElement(this.props.popperContainer,{},g)),f&&!i&&(g=M.createElement(zp,{portalId:f,portalHost:h},g));var y=lt("react-datepicker-wrapper",a);return M.createElement(M.Fragment,null,M.createElement("div",{ref:v.refs.setReference,className:y},l),g)},n}(p.Component),AN=MN(LN),ju="react-datepicker-ignore-onclickoutside";function IN(r,n){return r&&n?mt(r)!==mt(n)||pe(r)!==pe(n):r!==n}var yo="Date input not valid.",RN=function(r){at(n,r);function n(e){var t=r.call(this,e)||this;return t.calendar=null,t.input=null,t.getPreSelection=function(){return t.props.openToDate?t.props.openToDate:t.props.selectsEnd&&t.props.startDate?t.props.startDate:t.props.selectsStart&&t.props.endDate?t.props.endDate:De()},t.modifyHolidays=function(){var a;return(a=t.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,i){var o=new Date(i.date);return Gi(o)?en(en([],s,!0),[we(we({},i),{date:o})],!1):s},[])},t.calcInitialState=function(){var a,s=t.getPreSelection(),i=Vp(t.props),o=jp(t.props),l=i&&ur(s,Ts(i))?i:o&&Hn(s,Pu(o))?o:s;return{open:t.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=t.props.selectsRange?t.props.startDate:t.props.selected)!==null&&a!==void 0?a:l,highlightDates:Fu(t.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},t.resetHiddenStatus=function(){t.setState(we(we({},t.state),{wasHidden:!1}))},t.setHiddenStatus=function(){t.setState(we(we({},t.state),{wasHidden:!0}))},t.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&t.setHiddenStatus()},t.clearPreventFocusTimeout=function(){t.preventFocusTimeout&&clearTimeout(t.preventFocusTimeout)},t.setFocus=function(){var a,s;(s=(a=t.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},t.setBlur=function(){var a,s;(s=(a=t.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),t.cancelFocusInput()},t.deferBlur=function(){requestAnimationFrame(function(){t.setBlur()})},t.setOpen=function(a,s){s===void 0&&(s=!1),t.setState({open:a,preSelection:a&&t.state.open?t.state.preSelection:t.calcInitialState().preSelection,lastPreSelectChange:bo},function(){a||t.setState(function(i){return{focused:s?i.focused:!1}},function(){!s&&t.deferBlur(),t.setState({inputValue:null})})})},t.inputOk=function(){return En(t.state.preSelection)},t.isCalendarOpen=function(){return t.props.open===void 0?t.state.open&&!t.props.disabled&&!t.props.readOnly:t.props.open},t.handleFocus=function(a){var s,i,o=t.state.wasHidden,l=o?t.state.open:!0;o&&t.resetHiddenStatus(),t.state.preventFocus||((i=(s=t.props).onFocus)===null||i===void 0||i.call(s,a),l&&!t.props.preventOpenOnFocus&&!t.props.readOnly&&t.setOpen(!0)),t.setState({focused:!0})},t.sendFocusBackToInput=function(){t.preventFocusTimeout&&t.clearPreventFocusTimeout(),t.setState({preventFocus:!0},function(){t.preventFocusTimeout=setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})})},t.cancelFocusInput=function(){clearTimeout(t.inputFocusTimeout),t.inputFocusTimeout=void 0},t.deferFocusInput=function(){t.cancelFocusInput(),t.inputFocusTimeout=setTimeout(function(){return t.setFocus()},1)},t.handleDropdownFocus=function(){t.cancelFocusInput()},t.handleBlur=function(a){var s,i;(!t.state.open||t.props.withPortal||t.props.showTimeInput)&&((i=(s=t.props).onBlur)===null||i===void 0||i.call(s,a)),t.state.open&&t.props.open===!1&&t.setOpen(!1),t.setState({focused:!1})},t.handleCalendarClickOutside=function(a){var s,i;t.props.inline||t.setOpen(!1),(i=(s=t.props).onClickOutside)===null||i===void 0||i.call(s,a),t.props.withPortal&&a.preventDefault()},t.handleChange=function(){for(var a,s,i,o,l,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var f=c[0];if(!(t.props.onChangeRaw&&(t.props.onChangeRaw.apply(t,c),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){t.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:$N});var h=t.props,v=h.selectsRange,m=h.startDate,g=h.endDate,b=(a=t.props.dateFormat)!==null&&a!==void 0?a:n.defaultProps.dateFormat,y=(s=t.props.strictParsing)!==null&&s!==void 0?s:n.defaultProps.strictParsing,_=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(v){var E=_.split("-",2).map(function(P){return P.trim()}),x=E[0],C=E[1],S=mo(x!=null?x:"",b,t.props.locale,y),D=mo(C!=null?C:"",b,t.props.locale,y),N=(m==null?void 0:m.getTime())!==(S==null?void 0:S.getTime()),k=(g==null?void 0:g.getTime())!==(D==null?void 0:D.getTime());if(!N&&!k||S&&Pt(S,t.props)||D&&Pt(D,t.props))return;(o=(i=t.props).onChange)===null||o===void 0||o.call(i,[S,D],f)}else{var T=mo(_,b,t.props.locale,y,(l=t.props.selected)!==null&&l!==void 0?l:void 0);(T||!_)&&t.setSelected(T,f,!0)}}},t.handleSelect=function(a,s,i){if(t.props.shouldCloseOnSelect&&!t.props.showTimeSelect&&t.sendFocusBackToInput(),t.props.onChangeRaw&&t.props.onChangeRaw(s),t.setSelected(a,s,!1,i),t.props.showDateSelect&&t.setState({isRenderAriaLiveMessage:!0}),!t.props.shouldCloseOnSelect||t.props.showTimeSelect)t.setPreSelection(a);else if(!t.props.inline){t.props.selectsRange||t.setOpen(!1);var o=t.props,l=o.startDate,c=o.endDate;l&&!c&&(t.props.swapRange||!Hu(a,l))&&t.setOpen(!1)}},t.setSelected=function(a,s,i,o){var l,c,d=a;if(t.props.showYearPicker){if(d!==null&&Ps(pe(d),t.props))return}else if(t.props.showMonthYearPicker){if(d!==null&&Yp(d,t.props))return}else if(d!==null&&Pt(d,t.props))return;var f=t.props,h=f.onChange,v=f.selectsRange,m=f.startDate,g=f.endDate,b=f.selectsMultiple,y=f.selectedDates,_=f.minTime,E=f.swapRange;if(!Jn(t.props.selected,d)||t.props.allowSameDay||v||b)if(d!==null&&(t.props.selected&&(!i||!t.props.showTimeSelect&&!t.props.showTimeSelectOnly&&!t.props.showTimeInput)&&(d=vo(d,{hour:Nn(t.props.selected),minute:Cn(t.props.selected),second:Bn(t.props.selected)})),!i&&(t.props.showTimeSelect||t.props.showTimeSelectOnly)&&_&&(d=vo(d,{hour:_.getHours(),minute:_.getMinutes(),second:_.getSeconds()})),t.props.inline||t.setState({preSelection:d}),t.props.focusSelectedMonth||t.setState({monthSelectedIn:o})),v){var x=!m&&!g,C=m&&!g,S=m&&g;x?h==null||h([d,null],s):C&&(d===null?h==null||h([null,null],s):Hu(d,m)?E?h==null||h([d,m],s):h==null||h([d,null],s):h==null||h([m,d],s)),S&&(h==null||h([d,null],s))}else if(b){if(d!==null)if(!(y!=null&&y.length))h==null||h([d],s);else{var D=y.some(function(k){return be(k,d)});if(D){var N=y.filter(function(k){return!be(k,d)});h==null||h(N,s)}else h==null||h(en(en([],y,!0),[d],!1),s)}}else h==null||h(d,s);i||((c=(l=t.props).onSelect)===null||c===void 0||c.call(l,d,s),t.setState({inputValue:null}))},t.setPreSelection=function(a){var s=En(t.props.minDate),i=En(t.props.maxDate),o=!0;if(a){var l=Ts(a);if(s&&i)o=fa(a,t.props.minDate,t.props.maxDate);else if(s){var c=Ts(t.props.minDate);o=Hn(a,c)||Jn(l,c)}else if(i){var d=Pu(t.props.maxDate);o=ur(a,d)||Jn(l,d)}}o&&t.setState({preSelection:a})},t.toggleCalendar=function(){t.setOpen(!t.state.open)},t.handleTimeChange=function(a){var s,i;if(!(t.props.selectsRange||t.props.selectsMultiple)){var o=t.props.selected?t.props.selected:t.getPreSelection(),l=t.props.selected?a:vo(o,{hour:Nn(a),minute:Cn(a)});t.setState({preSelection:l}),(i=(s=t.props).onChange)===null||i===void 0||i.call(s,l),t.props.shouldCloseOnSelect&&!t.props.showTimeInput&&(t.sendFocusBackToInput(),t.setOpen(!1)),t.props.showTimeInput&&t.setOpen(!0),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),t.setState({inputValue:null})}},t.onInputClick=function(){var a,s;!t.props.disabled&&!t.props.readOnly&&t.setOpen(!0),(s=(a=t.props).onInputClick)===null||s===void 0||s.call(a)},t.onInputKeyDown=function(a){var s,i,o,l,c,d;(i=(s=t.props).onKeyDown)===null||i===void 0||i.call(s,a);var f=a.key;if(!t.state.open&&!t.props.inline&&!t.props.preventOpenOnFocus){(f===z.ArrowDown||f===z.ArrowUp||f===z.Enter)&&((o=t.onInputClick)===null||o===void 0||o.call(t));return}if(t.state.open){if(f===z.ArrowDown||f===z.ArrowUp){a.preventDefault();var h=t.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":t.props.showWeekPicker&&t.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':t.props.showFullMonthYearPicker||t.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',v=((l=t.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(h);v instanceof HTMLElement&&v.focus({preventScroll:!0});return}var m=De(t.state.preSelection);f===z.Enter?(a.preventDefault(),a.target.blur(),t.inputOk()&&t.state.lastPreSelectChange===bo?(t.handleSelect(m,a),!t.props.shouldCloseOnSelect&&t.setPreSelection(m)):t.setOpen(!1)):f===z.Escape?(a.preventDefault(),a.target.blur(),t.sendFocusBackToInput(),t.setOpen(!1)):f===z.Tab&&t.setOpen(!1),t.inputOk()||(d=(c=t.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:yo})}},t.onPortalKeyDown=function(a){var s=a.key;s===z.Escape&&(a.preventDefault(),t.setState({preventFocus:!0},function(){t.setOpen(!1),setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})}))},t.onDayKeyDown=function(a){var s,i,o,l,c,d,f=t.props,h=f.minDate,v=f.maxDate,m=f.disabledKeyboardNavigation,g=f.showWeekPicker,b=f.shouldCloseOnSelect,y=f.locale,_=f.calendarStartDay,E=f.adjustDateOnChange,x=f.inline;if((i=(s=t.props).onKeyDown)===null||i===void 0||i.call(s,a),!m){var C=a.key,S=a.shiftKey,D=De(t.state.preSelection),N=function(F,I){var R=I;switch(F){case z.ArrowRight:R=g?Us(I,1):Gt(I,1);break;case z.ArrowLeft:R=g?yu(I,1):U_(I,1);break;case z.ArrowUp:R=yu(I,1);break;case z.ArrowDown:R=Us(I,1);break;case z.PageUp:R=S?Vr(I,1):nr(I,1);break;case z.PageDown:R=S?Sn(I,1):Ht(I,1);break;case z.Home:R=Wn(I,y,_);break;case z.End:R=zE(I);break}return R},k=function(F,I){for(var R=40,A=F,B=!1,K=0,G=N(F,I);!B;){if(K>=R){G=I;break}h&&G<h&&(A=z.ArrowRight,G=Pt(h,t.props)?N(A,G):h),v&&G>v&&(A=z.ArrowLeft,G=Pt(v,t.props)?N(A,G):v),Pt(G,t.props)?((A===z.PageUp||A===z.Home)&&(A=z.ArrowRight),(A===z.PageDown||A===z.End)&&(A=z.ArrowLeft),G=N(A,G)):B=!0,K++}return G};if(C===z.Enter){a.preventDefault(),t.handleSelect(D,a),!b&&t.setPreSelection(D);return}else if(C===z.Escape){a.preventDefault(),t.setOpen(!1),t.inputOk()||(l=(o=t.props).onInputError)===null||l===void 0||l.call(o,{code:1,msg:yo});return}var T=null;switch(C){case z.ArrowLeft:case z.ArrowRight:case z.ArrowUp:case z.ArrowDown:case z.PageUp:case z.PageDown:case z.Home:case z.End:T=k(C,D);break}if(!T){(d=(c=t.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:yo});return}if(a.preventDefault(),t.setState({lastPreSelectChange:bo}),E&&t.setSelected(T),t.setPreSelection(T),x){var P=mt(D),L=mt(T),O=pe(D),$=pe(T);P!==L||O!==$?t.setState({shouldFocusDayInline:!0}):t.setState({shouldFocusDayInline:!1})}}},t.onPopperKeyDown=function(a){var s=a.key;s===z.Escape&&(a.preventDefault(),t.sendFocusBackToInput())},t.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),t.sendFocusBackToInput();var s=t.props,i=s.selectsRange,o=s.onChange;i?o==null||o([null,null],a):o==null||o(null,a),t.setState({inputValue:null})},t.clear=function(){t.onClearClick()},t.onScroll=function(a){typeof t.props.closeOnScroll=="boolean"&&t.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&t.setOpen(!1):typeof t.props.closeOnScroll=="function"&&t.props.closeOnScroll(a)&&t.setOpen(!1)},t.renderCalendar=function(){var a,s;return!t.props.inline&&!t.isCalendarOpen()?null:M.createElement(kN,we({showMonthYearDropdown:void 0,ref:function(i){t.calendar=i}},t.props,t.state,{setOpen:t.setOpen,dateFormat:(a=t.props.dateFormatCalendar)!==null&&a!==void 0?a:n.defaultProps.dateFormatCalendar,onSelect:t.handleSelect,onClickOutside:t.handleCalendarClickOutside,holidays:iN(t.modifyHolidays()),outsideClickIgnoreClass:ju,onDropdownFocus:t.handleDropdownFocus,onTimeChange:t.handleTimeChange,className:t.props.calendarClassName,container:t.props.calendarContainer,handleOnKeyDown:t.props.onKeyDown,handleOnDayKeyDown:t.onDayKeyDown,setPreSelection:t.setPreSelection,dropdownMode:(s=t.props.dropdownMode)!==null&&s!==void 0?s:n.defaultProps.dropdownMode}),t.props.children)},t.renderAriaLiveRegion=function(){var a=t.props,s=a.dateFormat,i=s===void 0?n.defaultProps.dateFormat:s,o=a.locale,l=t.props.showTimeInput||t.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return t.props.selectsRange?d="Selected start date: ".concat(kt(t.props.startDate,{dateFormat:c,locale:o}),". ").concat(t.props.endDate?"End date: "+kt(t.props.endDate,{dateFormat:c,locale:o}):""):t.props.showTimeSelectOnly?d="Selected time: ".concat(kt(t.props.selected,{dateFormat:i,locale:o})):t.props.showYearPicker?d="Selected year: ".concat(kt(t.props.selected,{dateFormat:"yyyy",locale:o})):t.props.showMonthYearPicker?d="Selected month: ".concat(kt(t.props.selected,{dateFormat:"MMMM yyyy",locale:o})):t.props.showQuarterYearPicker?d="Selected quarter: ".concat(kt(t.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):d="Selected date: ".concat(kt(t.props.selected,{dateFormat:c,locale:o})),M.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},t.renderDateInput=function(){var a,s,i,o=lt(t.props.className,(a={},a[ju]=t.state.open,a)),l=t.props.customInput||M.createElement("input",{type:"text"}),c=t.props.customInputRef||"ref",d=t.props,f=d.dateFormat,h=f===void 0?n.defaultProps.dateFormat:f,v=d.locale,m=typeof t.props.value=="string"?t.props.value:typeof t.state.inputValue=="string"?t.state.inputValue:t.props.selectsRange?YE(t.props.startDate,t.props.endDate,{dateFormat:h,locale:v}):t.props.selectsMultiple?VE((i=t.props.selectedDates)!==null&&i!==void 0?i:[],{dateFormat:h,locale:v}):kt(t.props.selected,{dateFormat:h,locale:v});return p.cloneElement(l,(s={},s[c]=function(g){t.input=g},s.value=m,s.onBlur=t.handleBlur,s.onChange=t.handleChange,s.onClick=t.onInputClick,s.onFocus=t.handleFocus,s.onKeyDown=t.onInputKeyDown,s.id=t.props.id,s.name=t.props.name,s.form=t.props.form,s.autoFocus=t.props.autoFocus,s.placeholder=t.props.placeholderText,s.disabled=t.props.disabled,s.autoComplete=t.props.autoComplete,s.className=lt(l.props.className,o),s.title=t.props.title,s.readOnly=t.props.readOnly,s.required=t.props.required,s.tabIndex=t.props.tabIndex,s["aria-describedby"]=t.props.ariaDescribedBy,s["aria-invalid"]=t.props.ariaInvalid,s["aria-labelledby"]=t.props.ariaLabelledBy,s["aria-required"]=t.props.ariaRequired,s))},t.renderClearButton=function(){var a=t.props,s=a.isClearable,i=a.disabled,o=a.selected,l=a.startDate,c=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,h=f===void 0?"":f,v=a.ariaLabelClose,m=v===void 0?"Close":v,g=a.selectedDates;return s&&(o!=null||l!=null||c!=null||g!=null&&g.length)?M.createElement("button",{type:"button",className:lt("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":m,onClick:t.onClearClick,title:d,tabIndex:-1}):null},t.state=t.calcInitialState(),t.preventFocusTimeout=void 0,t}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ya,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(e,t){var a,s,i,o;e.inline&&IN(e.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Fu(this.props.highlightDates)}),!t.focused&&!Jn(e.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),t.open===!0&&this.state.open===!1&&((o=(i=this.props).onCalendarClose)===null||o===void 0||o.call(i)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,a=e.icon,s=e.calendarIconClassname,i=e.calendarIconClassName,o=e.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),M.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&M.createElement(TN,we({icon:a,className:lt(i,!i&&s,l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?M.createElement(qp,{enableTabLoop:this.props.enableTabLoop},M.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=M.createElement(zp,we({portalId:this.props.portalId},this.props),t)),M.createElement("div",null,this.renderInputContainer(),t)}return M.createElement(AN,we({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(p.Component),$N="input",bo="navigate";KE("ru",Ul);const Kp=p.forwardRef(({value:r,onClick:n,onChange:e,placeholder:t,id:a,...s},i)=>w("div",{className:"custom-date-input",children:[u("input",{ref:i,id:a,value:r,onClick:n,onChange:e,placeholder:t,readOnly:!0,...s}),u("button",{type:"button",onClick:n,"aria-label":"Календарь",children:u(te,{icon:"calender",className:"calendar-icon",width:"16",height:"16"})})]}));Kp.displayName="CustomDateInput";const Qp=({className:r="",onChange:n,id:e,selected:t,minDate:a,maxDate:s,...i})=>{const o=new Date;o.setFullYear(o.getFullYear()+10);const l=s||o,c=new Date;c.setDate(c.getDate()+1);const d=a||c,f=h=>{n(h)};return u("div",{className:"date-picker ".concat(r),children:u(RN,{locale:"ru",dateFormat:"dd.MM.yyyy",onChange:f,customInput:u(Kp,{id:e}),maxDate:l,minDate:d,showPopperArrow:!1,placeholderText:"ДД.ММ.ГГГГ",selected:t,...i})})};const FN=["books","movies"],GN=({onGoalSelected:r,className:n,category:e})=>{const[t,a]=H("external-goal-search",n),[s,i]=p.useState(""),[o,l]=p.useState([]),[c,d]=p.useState(!1),[f,h]=p.useState(1),[v,m]=p.useState(!1),[g,b]=p.useState({}),y=c||s.length<2;if(p.useEffect(()=>{b({})},[o]),!e||!FN.includes(e))return null;const _=async()=>{if(s.length<2){l([]),m(!1);return}d(!0),m(!0);try{const N=await ge("goals/search-external",{get:{category:e,query:s}});N.success&&N.data.results?l(N.data.results):(re.addNotification({type:"error",title:"Ошибка",message:"Не удалось найти подходящие цели"}),l([]))}catch(N){console.error("Ошибка при поиске:",N),re.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при поиске"}),l([])}finally{d(!1)}},E=N=>{i(N),N.length===0&&(l([]),m(!1))},x=N=>{b(k=>({...k,[N]:!1}))},C=N=>{b(k=>({...k,[N]:!1}))},S=async N=>{const k={title:N.title,description:N.description||"Цель: ".concat(N.title),external_id:N.externalId,externalType:N.type,complexity:ot[f].value};N.imageUrl?(b(T=>({...T,[String(N.externalId)]:!0})),k.imageUrl=N.imageUrl,b(T=>({...T,[String(N.externalId)]:!1}))):re.addNotification({type:"warning",title:"Внимание",message:"Не удалось загрузить изображение. Вам нужно будет выбрать его вручную."}),r(k),l([]),i(""),m(!1),re.addNotification({type:"success",title:"Готово",message:"Данные цели загружены! Проверьте и дополните при необходимости."})},D=N=>({books:"книги",movies:"фильмы"})[N]||"контент";return w("div",{className:t(),children:[w("h3",{className:a("title"),children:["Найти готовую цель (",D(e),")"]}),w("div",{className:a("search-panel"),children:[u("div",{className:a("selectors"),children:u(dt,{className:a("complexity-select"),placeholder:"Выберите сложность",options:ot,activeOption:f,onSelect:h,text:"Сложность"})}),w("div",{className:a("search-field"),children:[u(Ae,{id:"external-search",text:"Поиск",value:s,setValue:E,placeholder:"Введите название для поиска ".concat(D(e),"..."),iconBegin:"search",className:a("search-input"),onKeyDown:N=>{N.key==="Enter"&&!y&&(N.preventDefault(),_())}}),u(j,{theme:"blue",icon:"search",onClick:_,size:"medium",className:"".concat(a("search-button")," ").concat(y?"disabled":""),children:c?"Поиск...":"Найти"})]})]}),u("div",{className:a("results-container",{"is-empty":o.length===0&&!c}),children:w(Xe,{isLoading:c,children:[o.length>0&&u("div",{className:a("results"),children:o.map(N=>w("div",{className:a("result-item"),children:[u("div",{className:a("result-image"),children:N.imageUrl?u("img",{src:N.imageUrl,alt:N.title,onLoad:()=>x(String(N.externalId)),onError:()=>C(String(N.externalId))}):u("div",{className:a("no-image"),children:u(te,{icon:"mount"})})}),w("div",{className:a("result-details"),children:[u("h4",{className:a("result-title"),children:N.title}),N.description&&w("p",{className:a("result-description"),children:[N.description.substring(0,150),"..."]}),w("div",{className:a("result-meta"),children:[N.type==="movie"&&N.releaseDate&&w("span",{children:["Год: ",N.releaseDate.substring(0,4)]}),N.type==="book"&&N.authors&&w("span",{children:["Авторы: ",N.authors.join(", ")]}),N.type==="travel"&&N.address&&w("span",{children:["Адрес: ",N.address]})]}),u(j,{theme:"green",onClick:()=>S(N),className:"".concat(a("add-button")," ").concat(g[String(N.externalId)]?"disabled":""),icon:"plus",children:g[String(N.externalId)]?"Проверка...":"Добавить как цель"})]})]},"".concat(N.type,"-").concat(N.externalId)))}),o.length===0&&v&&!c&&w("div",{className:a("no-results"),children:[u(te,{icon:"info",className:a("info-icon")}),u("p",{children:"Ничего не найдено. Попробуйте другой запрос."})]})]})})]})},rc=async r=>await ge("goals/search-similar",{get:{query:r}}),Uu=async r=>await gt("goals/create",{body:r,file:!0,auth:!0}),ac=(r,n,e=!1)=>{let t=null;return function(...a){const s=()=>{t=null,e||r.apply(this,a)},i=e&&!t;t&&clearTimeout(t),t=setTimeout(s,n),i&&r.apply(this,a)}};const BN=({goal:r,onSelect:n})=>{const[e,t]=H("similar-goal-item"),a=s=>{(s.key==="Enter"||s.key===" ")&&n(r)};return w("div",{className:e(),onClick:()=>n(r),onKeyDown:a,role:"button",tabIndex:0,children:[w("div",{className:t("content"),children:[u("div",{className:t("image-container"),children:r.image?u("img",{src:r.image,alt:r.title,className:t("image")}):u("div",{className:t("no-image"),children:u(te,{icon:"mount"})})}),w("div",{className:t("info"),children:[u("h4",{className:t("title"),children:r.title}),u("p",{className:t("complexity"),children:r.complexity}),u("p",{className:t("description"),children:r.shortDescription})]})]}),u("div",{className:t("select-icon"),children:u(te,{icon:"arrow--right"})})]})};const sc=r=>{const{className:n,onGoalCreated:e,hideNavigation:t=!1,noForm:a=!1,onSubmitForm:s,initialCategory:i,lockCategory:o=!1,initialCategoryParam:l,preloadedCategories:c,preloadedSubcategories:d}=r,f=ln(),h=_d(),[v,m]=H("add-goal",n),[g,b]=p.useState(""),[y,_]=p.useState(""),[E,x]=p.useState(1),[C,S]=p.useState(null),[D,N]=p.useState(null),[k,T]=p.useState(""),[P,L]=p.useState(""),[O,$]=p.useState(null),[F,I]=p.useState(null),[R,A]=p.useState([]),[B,K]=p.useState([]),[G,ne]=p.useState(!1),ce=p.useRef(null),[Ce,ke]=p.useState([]),[,Re]=p.useState(!1),[J,oe]=p.useState(!1),[he,Se]=p.useState(!1),Ze=W=>{b(W)},q=W=>{const Q=W.replace(/[^0-9:дчмдней ыячасовминут\s]/gi,""),se=/^(\d{0,2}):?(\d{0,2})$/,fe=/^(\d+)\s*(д|дн|дня|дней)?$/i,qe=/^(\d+)\s*(ч|час|часа|часов)?$/i,tt=/^(\d+)\s*(м|мин|минут|минуты)?$/i;(Q===""||se.test(Q)||fe.test(Q)||qe.test(Q)||tt.test(Q)||Q.includes("д")||Q.includes("ч")||Q.includes("м"))&&L(Q)},ee=W=>{if(!W)return"";const Q=/^(\d{1,2}):(\d{1,2})$/;if(Q.test(W)){const mn=W.match(Q);if(mn){const ia=mn[1].padStart(2,"0"),Ui=mn[2].padStart(2,"0");return"".concat(ia,":").concat(Ui)}}const se=/^(\d+)\s*(д|дн|дня|дней)$/i,fe=W.match(se);if(fe){const ia=parseInt(fe[1],10)*24;return"".concat(ia.toString().padStart(2,"0"),":00")}const qe=/^(\d+)\s*(ч|час|часа|часов)$/i,tt=W.match(qe);if(tt){const mn=parseInt(tt[1],10);return"".concat(mn.toString().padStart(2,"0"),":00")}const pn=/^(\d+)\s*(м|мин|минут|минуты)$/i,hn=W.match(pn);if(hn){const mn=parseInt(hn[1],10),ia=Math.floor(mn/60),Ui=mn%60;return"".concat(ia.toString().padStart(2,"0"),":").concat(Ui.toString().padStart(2,"0"))}return W};p.useEffect(()=>{(async()=>{try{if(c)A(c);else{const Q=await jn();Q.success&&A(Q.data)}}catch(Q){re.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[c]),p.useEffect(()=>{C!==null&&(async()=>{if(d)K(d);else{const Q=await $n(R[C].nameEn);Q.success&&K(Q.data.subcategories)}(!i||!i.parentCategory)&&N(null)})()},[C,R,i,d]),p.useEffect(()=>{if(i&&R.length>0)if(i.parentCategory){const W=R.findIndex(Q=>{var se;return Q.id===((se=i.parentCategory)==null?void 0:se.id)});W!==-1?(S(W),(async()=>{try{let se;if(d)se=d,K(d);else{const fe=await $n(R[W].nameEn);fe.success&&(se=fe.data.subcategories,K(fe.data.subcategories))}if(se){const fe=se.findIndex(qe=>qe.id===i.id);fe!==-1?setTimeout(()=>{N(fe)},100):console.warn("Подкатегория не найдена:",i)}}catch(se){console.error("Ошибка при загрузке подкатегорий для initialCategory:",se)}})()):console.warn("Родительская категория не найдена:",i.parentCategory)}else{const W=R.findIndex(Q=>Q.id===i.id);W!==-1?S(W):console.warn("Основная категория не найдена:",i)}},[i,R,d]),p.useEffect(()=>{if(l&&R.length>0){const W=R.findIndex(Q=>Q.nameEn===l);W!==-1&&S(W)}else{const Q=new URLSearchParams(h.search).get("category");if(Q&&R.length>0){const se=R.findIndex(fe=>fe.nameEn===Q);se!==-1&&S(se)}}},[l,h.search,R]);const de=p.useCallback(ac(async W=>{var Q;if(W.length<3){ke([]),Re(!1),oe(!1);return}try{const se=await rc(W);se.success&&((Q=se==null?void 0:se.data)!=null&&Q.results)&&(ke(se.data.results),oe(se.data.results.length>0&&he))}catch(se){console.error("Ошибка при поиске похожих целей:",se)}finally{Re(!1)}},500),[he]);p.useEffect(()=>{g?(Re(!0),de(g)):(ke([]),oe(!1))},[g,de]);const Y=()=>{Se(!0),Ce.length>0&&oe(!0)},ue=()=>{setTimeout(()=>{Se(!1),oe(!1)},200)},me=W=>{b(W.title),_(W.description),L(W.estimatedTime||"");const Q=ot.findIndex(fe=>fe.value===W.complexity);Q!==-1&&x(Q);const se=R.findIndex(fe=>fe.id===W.category.id);se!==-1&&(S(se),(async()=>{let qe;if(d)qe=d,K(d);else{const tt=await $n(R[se].nameEn);tt.success&&(qe=tt.data.subcategories,K(tt.data.subcategories))}if(W.subcategory&&qe){const tt=qe.findIndex(pn=>{var hn;return pn.id===((hn=W.subcategory)==null?void 0:hn.id)});tt!==-1&&N(tt)}})()),oe(!1),Se(!1),re.addNotification({type:"warning",title:"Данные заполнены",message:"Поля формы заполнены данными выбранной цели. Вы можете изменить их перед созданием."})},st=p.useCallback(W=>{W&&W.length>0&&($(W[0]),I(null))},[]),fn=()=>{ce.current&&ce.current.click()},sa=W=>{W.target.files&&st(W.target.files)},X=()=>{b(""),_(""),x(null),S(null),N(null),T(""),L(""),$(null),I(null),ke([])},Le=async W=>{if(W.preventDefault(),s){s(W);return}if(!g||!y||E===null||C===null||!O&&!F){re.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}ne(!0);try{const Q=new FormData;if(Q.append("title",g),Q.append("description",y),E!==null&&Q.append("complexity",ot[E].value),D!==null?Q.append("category",B[D].id.toString()):C!==null&&Q.append("category",R[C].id.toString()),O?Q.append("image",O):F&&Q.append("image_url",F),k&&Q.append("deadline",k),P){const fe=ee(P);Q.append("estimated_time",fe)}const se=await Uu(Q);if(se.success)re.addNotification({type:"success",title:"Успех",message:"Цель успешно создана"}),se.data.message&&re.addNotification({type:"warning",title:"Обратите внимание",message:se.data.message}),e&&se.data?(e(se.data),X()):t||f("/goals/".concat(se.data.code));else throw new Error(se.error||"Неизвестная ошибка")}catch(Q){re.addNotification({type:"error",title:"Ошибка",message:Q instanceof Error?Q.message:"Не удалось создать цель"})}finally{ne(!1)}},it=async()=>{if(!g||!y||E===null||C===null||!O&&!F){re.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}ne(!0);try{const W=new FormData;if(W.append("title",g),W.append("description",y),E!==null&&W.append("complexity",ot[E].value),D!==null?W.append("category",B[D].id.toString()):C!==null&&W.append("category",R[C].id.toString()),O?W.append("image",O):F&&W.append("image_url",F),k&&W.append("deadline",k),P){const se=ee(P);W.append("estimated_time",se)}const Q=await Uu(W);if(Q.success)re.addNotification({type:"success",title:"Успех",message:"Цель успешно создана"}),e&&Q.data?(e(Q.data),X()):t||f("/goals/".concat(Q.data.code));else throw new Error(Q.error||"Неизвестная ошибка")}catch(W){re.addNotification({type:"error",title:"Ошибка",message:W instanceof Error?W.message:"Не удалось создать цель"})}finally{ne(!1)}},Ct=W=>{if(b(W.title||""),_(W.description||""),L(W.estimatedTime||""),W.complexity){const Q=ot.findIndex(se=>se.value===W.complexity);Q!==-1&&x(Q)}if(W.category){const Q=R.findIndex(se=>{var fe;return se.id===((fe=W.category)==null?void 0:fe.id)});Q!==-1&&(S(Q),(async()=>{let fe;if(d)fe=d,K(d);else{const qe=await $n(R[Q].nameEn);qe.success&&(fe=qe.data.subcategories,K(qe.data.subcategories))}if(W.subcategory&&fe){const qe=fe.findIndex(tt=>{var pn;return tt.id===((pn=W.subcategory)==null?void 0:pn.id)});qe!==-1&&N(qe)}})())}W.imageUrl?(I(W.imageUrl),$(null)):W.image&&(I(W.image),$(null)),re.addNotification({type:"success",title:"Готово",message:"Данные цели загружены! Проверьте и дополните при необходимости."})},bt=w("div",{className:m("image-section"),children:[u("p",{className:m("field-title"),children:"Изображение цели *"}),!O&&!F?u("div",{className:m("dropzone"),children:u(lr,{onDrop:W=>W&&st(W),children:w("div",{className:m("upload-placeholder"),onClick:fn,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyPress:W=>{(W.key==="Enter"||W.key===" ")&&fn()},children:[u("input",{type:"file",ref:ce,style:{display:"none"},onChange:sa,accept:"image/*"}),u(te,{icon:"mount",className:m("upload-icon")}),u("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})}):w("div",{className:m("image-preview"),children:[O&&u("img",{src:URL.createObjectURL(O),alt:"Предпросмотр",className:m("preview")}),F&&!O&&u("img",{src:F,alt:"Предпросмотр из источника",className:m("preview")}),u(j,{className:m("remove-image"),type:"button-close",onClick:()=>{$(null),I(null)}})]})]}),Tn=w(ct,{children:[!t&&w("div",{className:m("wrapper-title"),children:[u(le,{tag:"h1",className:m("title"),children:"Создание новой цели"}),u(j,{size:"small",type:"Link",theme:"blue",icon:"plus",href:"/list/create",children:"Добавить список целей"})]}),u(Xe,{isLoading:G,children:w("div",{className:m("content"),children:[w("div",{className:m("edit-info-message"),children:[u(te,{icon:"info",className:m("info-icon")}),u("p",{children:"Вы сможете отредактировать или удалить цель в течение 24ч после создания, затем действие будет недоступно"})]}),u("div",{className:m("external-search-section"),children:u(GN,{onGoalSelected:Ct,className:m("external-search"),category:D!==null&&B.length>0?B[D].nameEn:C!==null?R[C].nameEn:void 0})}),bt,w("div",{className:m("form"),children:[w("div",{className:m("field-container"),children:[u(Ae,{placeholder:"Введите название цели",id:"goal-title",text:"Название цели *",value:g,setValue:Ze,className:m("field"),required:!0,onFocus:Y,onBlur:ue}),J&&w("div",{className:m("similar-goals"),children:[w("div",{className:m("similar-header"),children:[u("h3",{className:m("similar-title"),children:"Похожие цели"}),u("button",{type:"button",className:m("close-similar"),onClick:()=>oe(!1),"aria-label":"Закрыть",children:u(te,{icon:"cross"})})]}),u("p",{className:m("similar-desc"),children:"Найдены похожие цели. Нажмите на цель, чтобы заполнить форму её данными:"}),u("div",{className:m("similar-list"),children:Ce.map(W=>u(BN,{goal:W,onSelect:me},W.id))})]})]}),u(dt,{className:m("field"),placeholder:"Выберите категорию",options:R.map(W=>({name:W.name,value:W.nameEn})),activeOption:C,onSelect:S,text:"Категория *",disabled:o}),C!==null&&B.length>0&&u(dt,{className:m("field"),placeholder:"Выберите подкатегорию (необязательно)",options:B.map(W=>({name:W.name,value:W.nameEn})),activeOption:D,onSelect:N,text:"Подкатегория",disabled:o}),u(dt,{className:m("field"),placeholder:"Выберите сложность",options:ot,activeOption:E,onSelect:x,text:"Сложность *"}),u(Ae,{placeholder:"Опишите цель подробно",id:"goal-description",text:"Описание *",value:y,setValue:_,className:m("field"),type:"textarea",required:!0}),w("div",{className:m("time-field-container"),children:[u(Ae,{placeholder:"Например: 2:30, 3 дня, 5 часов, 30 минут",id:"goal-estimated-time",text:"Предполагаемое время выполнения",value:P,setValue:q,className:m("field"),type:"text"}),u("small",{className:m("format-hint"),children:"Укажите время в одном из форматов: ЧЧ:ММ (02:30), X дней (3 дня), X часов (5 часов), X минут (30 минут)"})]}),w("div",{className:m("date-field-container"),children:[u("p",{className:m("field-title"),children:"Планируемая дата реализации"}),u(Qp,{selected:k?new Date(k):null,onChange:W=>{T(W?Yr(W,"yyyy-MM-dd"):"")},className:m("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))}),u("small",{id:"date-format-hint",className:m("format-hint"),children:"Укажите планируемую дату достижения цели (не ранее завтрашнего дня)"})]}),w("div",{className:m("btns-wrapper"),children:[!t&&u(j,{theme:"blue-light",className:m("btn"),onClick:()=>f(-1),type:"button",children:"Отмена"}),u(j,{theme:"blue",className:m("btn"),typeBtn:"submit",onClick:a?W=>{W.preventDefault(),it()}:void 0,children:"Создать цель (+15 опыта)"})]})]})]})})]});return a?u("div",{className:v(),children:Tn}):u("form",{className:v(),onSubmit:Le,children:Tn})},WN=({page:r})=>{const{setPage:n,setHeader:e,setFull:t}=Me;return p.useEffect(()=>{n(r),e("white"),t(!1)},[r,n,e,t]),u(sc,{})},HN=async r=>await gt("goal-lists/create",{body:r,file:!0,auth:!0});const Xp=({goal:r,onAdd:n})=>{const[e,t]=H("goal-search-item");return w("div",{className:e(),children:[w("div",{className:t("content"),children:[u("div",{className:t("image-container"),children:r.image?u("img",{src:r.image,alt:r.title,className:t("image")}):u("div",{className:t("no-image"),children:u(te,{icon:"mount"})})}),w("div",{className:t("info"),children:[u("h4",{className:t("title"),children:r.title}),u("p",{className:t("complexity"),children:r.complexity}),u("p",{className:t("description"),children:r.shortDescription})]})]}),u("button",{type:"button",className:t("add-btn"),onClick:()=>n(r),"aria-label":"Добавить цель",children:u(te,{icon:"plus"})})]})};const wo="addGoalList_cachedData",YN=r=>{const{className:n}=r,e=ln(),t=_d(),[a,s]=H("add-goal-list",n),[i,o]=p.useState(""),[l,c]=p.useState(""),[d,f]=p.useState(null),[h,v]=p.useState(null),[m,g]=p.useState(null),[b,y]=p.useState(null),[_,E]=p.useState([]),[x,C]=p.useState([]),[S,D]=p.useState(!1),[N,k]=p.useState(!1),T=p.useRef(null),[P,L]=p.useState([]),[O,$]=p.useState(""),[F,I]=p.useState([]),[,R]=p.useState(!1),[A,B]=p.useState(!1);p.useEffect(()=>{(()=>{try{const ee=localStorage.getItem(wo);if(ee){const de=JSON.parse(ee);o(de.title),c(de.description),f(de.activeComplexity),v(de.activeCategory),g(de.activeSubcategory),L(de.selectedGoals)}}catch(ee){console.error("Ошибка при загрузке кешированных данных:",ee)}})()},[]),p.useEffect(()=>{if(!i&&!l&&d===null&&h===null&&P.length===0)return;(()=>{try{const ee={title:i,description:l,activeComplexity:d,activeCategory:h,activeSubcategory:m,selectedGoals:P};localStorage.setItem(wo,JSON.stringify(ee))}catch(ee){console.error("Ошибка при кешировании данных:",ee)}})()},[i,l,d,h,m,P]),p.useEffect(()=>{B(h!==null)},[h]);const K=()=>{try{localStorage.removeItem(wo)}catch(q){console.error("Ошибка при очистке кеша:",q)}},G=q=>{o(q)};p.useEffect(()=>{(async()=>{try{const ee=await jn();ee.success&&E(ee.data)}catch(ee){re.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[]),p.useEffect(()=>{h!==null&&(async()=>{const ee=await $n(_[h].nameEn);ee.success&&C(ee.data.subcategories),g(null)})()},[h,_]),p.useEffect(()=>{const ee=new URLSearchParams(t.search).get("category");if(ee&&_.length>0){const de=_.findIndex(Y=>Y.nameEn===ee);de!==-1&&v(de)}},[t.search,_]);const ne=p.useCallback(ac(async q=>{var ee;if(q.length<3){I([]),R(!1);return}try{const de=await rc(q);if(de.success&&((ee=de.data)!=null&&ee.results)){const Y=de.data.results.filter(ue=>!P.some(me=>me.id===ue.id));I(Y)}}catch(de){console.error("Ошибка при поиске целей:",de)}finally{R(!1)}},500),[P]);p.useEffect(()=>{O?(R(!0),ne(O)):I([])},[O,ne]);const ce=p.useCallback(q=>{q&&q.length>0&&y(q[0])},[]),Ce=()=>{T.current&&T.current.click()},ke=q=>{q.target.files&&ce(q.target.files)},Re=()=>{y(null)},J=q=>{L(ee=>[...ee,q]),I(ee=>ee.filter(de=>de.id!==q.id)),$("")},oe=q=>{L(ee=>ee.filter(de=>de.id!==q))},he=q=>{L(ee=>[...ee,q]),k(!1),re.addNotification({type:"success",title:"Успех",message:"Цель успешно добавлена в список"})},Se=q=>{q.preventDefault(),q.stopPropagation()},Ze=async q=>{if(q.preventDefault(),!i||!l||d===null||h===null||!b){re.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}if(P.length===0){re.addNotification({type:"error",title:"Ошибка",message:"Добавьте хотя бы одну цель в список"});return}D(!0);try{const ee=new FormData;ee.append("title",i),ee.append("description",l),d!==null&&ee.append("complexity",ot[d].value),m!==null?ee.append("category",x[m].id.toString()):h!==null&&ee.append("category",_[h].id.toString()),ee.append("image",b),P.forEach(Y=>{ee.append("goals[]",Y.id.toString())});const de=await HN(ee);if(de.success)K(),re.addNotification({type:"success",title:"Успех",message:"Список целей успешно создан"}),e("/list/".concat(de.data.code));else throw new Error(de.error||"Неизвестная ошибка")}catch(ee){re.addNotification({type:"error",title:"Ошибка",message:ee instanceof Error?ee.message:"Не удалось создать список целей"})}finally{D(!1)}};return w("form",{className:a(),onSubmit:Ze,children:[u(le,{tag:"h1",className:s("title"),children:"Создание нового списка целей"}),w("div",{className:s("content"),children:[w("div",{className:s("image-section"),children:[u("p",{className:s("field-title"),children:"Изображение списка *"}),b?w("div",{className:s("image-preview"),children:[u("img",{src:URL.createObjectURL(b),alt:"Предпросмотр",className:s("preview")}),u("button",{type:"button",className:s("remove-image"),onClick:Re,"aria-label":"Удалить изображение",onKeyDown:q=>{(q.key==="Enter"||q.key===" ")&&Re()},children:u(te,{icon:"cross"})})]}):u("div",{className:s("dropzone"),children:u(lr,{onDrop:q=>q&&ce(q),children:w("div",{className:s("upload-placeholder"),onClick:Ce,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyPress:q=>{(q.key==="Enter"||q.key===" ")&&Ce()},children:[u("input",{type:"file",ref:T,style:{display:"none"},onChange:ke,accept:"image/*"}),u(te,{icon:"mount",className:s("upload-icon")}),u("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})})]}),w("div",{className:s("form"),children:[u("div",{className:s("field-wrapper"),children:u(Ae,{placeholder:"Введите название списка целей",id:"goal-list-title",text:"Название списка *",value:i,setValue:G,className:s("field"),required:!0})}),u(dt,{className:s("field"),placeholder:"Выберите категорию",options:_.map(q=>({name:q.name,value:q.nameEn})),activeOption:h,onSelect:v,text:"Категория *"}),h!==null&&x.length>0&&u(dt,{className:s("field"),placeholder:"Выберите подкатегорию (необязательно)",options:x.map(q=>({name:q.name,value:q.nameEn})),activeOption:m,onSelect:g,text:"Подкатегория"}),u(dt,{className:s("field"),placeholder:"Выберите сложность",options:ot,activeOption:d,onSelect:f,text:"Сложность *"}),u(Ae,{placeholder:"Опишите список целей подробно",id:"goal-list-description",text:"Описание *",value:l,setValue:c,className:s("field"),type:"textarea",required:!0}),w("div",{className:s("goals-section"),children:[u(le,{tag:"h2",className:s("subtitle"),children:"Добавление целей в список"}),w("div",{className:s("search-container"),children:[u(Ae,{placeholder:"Поиск существующих целей",id:"goal-search",text:"Поиск целей",value:O,setValue:$,className:s("search-field"),iconBegin:"search"}),F.length>0&&u("div",{className:s("search-results"),children:F.map(q=>u(Xp,{goal:q,onAdd:J},q.id))})]}),w("div",{className:s("selected-goals"),children:[w("h3",{className:s("section-title"),children:["Выбранные цели (",P.length,")"]}),P.length>0?u("div",{className:s("goals-list"),children:P.map(q=>w("div",{className:s("goal-item"),children:[w("div",{className:s("goal-content"),children:[u("div",{className:s("goal-image-container"),children:q.image?u("img",{src:q.image,alt:q.title,className:s("goal-image")}):u("div",{className:s("goal-no-image"),children:u(te,{icon:"mount"})})}),w("div",{className:s("goal-info"),children:[u("h4",{className:s("goal-title"),children:q.title}),u("p",{className:s("goal-complexity"),children:bi[q.complexity]}),u("p",{className:s("goal-description"),children:q.shortDescription})]})]}),u("button",{type:"button",className:s("goal-remove-btn"),onClick:()=>oe(q.id),"aria-label":"Удалить цель",onKeyDown:ee=>{(ee.key==="Enter"||ee.key===" ")&&oe(q.id)},children:u(te,{icon:"cross"})})]},q.id))}):u("div",{className:s("empty-message"),children:"Вы еще не добавили ни одной цели. Воспользуйтесь поиском или создайте новую цель."})]}),u("div",{className:s("add-new-goal"),children:N?w("div",{className:s("new-goal-form"),children:[u(le,{tag:"h3",className:s("form-title"),children:"Создание новой цели"}),u("div",{className:s("embedded-add-goal-wrapper"),children:u(sc,{className:s("embedded-add-goal"),onGoalCreated:he,hideNavigation:!0,noForm:!0,onSubmitForm:Se,initialCategory:m!==null?x[m]:_[h],lockCategory:!0,preloadedCategories:_,preloadedSubcategories:x})}),u("div",{className:s("form-buttons"),children:u(j,{theme:"blue-light",className:s("cancel-btn"),onClick:()=>k(!1),type:"button",children:"Отмена"})})]}):u(j,{theme:"blue-light",className:s("add-goal-btn"),onClick:()=>{A?k(!0):re.addNotification({type:"warning",title:"Внимание",message:"Для создания цели необходимо сначала выбрать категорию списка"})},type:"button",icon:"plus",children:"Создать новую цель"})})]}),w("div",{className:s("btns-wrapper"),children:[u(j,{theme:"blue-light",className:s("btn"),onClick:()=>e(-1),type:"button",children:"Отмена"}),u(j,{theme:"blue",className:s("btn"),typeBtn:"submit",children:S?"Создание...":"Создать список целей (+20 опыта)"})]})]})]})]})},VN=({page:r})=>{const{setPage:n,setHeader:e,setFull:t}=Me;return p.useEffect(()=>{n(r),e("white"),t(!1)},[r,n,e,t]),u(YN,{})},zu=[{name:"xl",size:1464},{name:"lg",size:1200},{name:"md",size:768},{name:"sm",size:576},{name:"xs",size:0}],qu=r=>{const n={isScreenMobile:!1,isScreenSmallTablet:!1,isScreenTablet:!1,isScreenDesktop:!1};switch(r){case"xs":case"sm":return{...n,isScreenMobile:!0};case"md":return{...n,isScreenTablet:!0,isScreenSmallTablet:!0};case"lg":return{...n,isScreenTablet:!0};default:return{...n,isScreenDesktop:!0}}},ic=()=>{const[r,n]=p.useState(qu("xl")),e=p.useCallback(()=>{const t=zu.find(s=>window.innerWidth>=s.size),a=(t==null?void 0:t.name)||"xl";n(qu(a))},[]);return p.useEffect(()=>{const t=zu.map(({name:a,size:s})=>({mediaQueryList:window.matchMedia("(min-width: ".concat(s,"px)")),mode:a}));return e(),t.forEach(({mediaQueryList:a})=>{a.addEventListener?a.addEventListener("change",e):a.addListener(e)}),()=>{t.forEach(({mediaQueryList:a})=>{a.removeEventListener?a.removeEventListener("change",e):a.removeListener(e)})}},[e]),r},Zp=async r=>{try{return await ge("timer/".concat(r,"/get"),{auth:!0,showSuccessNotification:!1,showErrorNotification:!1})}catch(n){return console.error("Error getting goal timer:",n),{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка при получении таймера"}}},jN=async(r=!0)=>{try{return await ge("timers",{auth:!0,get:{include_expired:r.toString()},showSuccessNotification:!1,showErrorNotification:!1})}catch(n){return console.error("Error getting user timers:",n),{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка при получении таймеров"}}};const UN=async r=>{try{const n=await gi("timer/".concat(r,"/delete/"),{auth:!0,showSuccessNotification:!1,showErrorNotification:!1});return n.success?{success:!0,message:n.data.message||"Срок выполнения удален"}:{success:!1,message:n.errors||"Не удалось удалить срок выполнения"}}catch(n){return console.error("Error deleting goal timer:",n),{success:!1,message:"Произошла ошибка при удалении срока выполнения"}}},zN=async(r,n)=>{var e;try{const t=n.includes("T")?n.split("T")[0]:n,a=await ta("timer/".concat(r,"/"),{auth:!0,body:{deadline:t},showSuccessNotification:!1,showErrorNotification:!1});if(a.success&&((e=a.data)!=null&&e.timer)){const s=a.data.timer;return{success:!0,timer:{...s,goal:{code:r,title:s.goal_title||"",image:s.goal_image}},message:a.data.message||"Срок успешно установлен"}}return{success:!1,message:a.errors||"Не удалось установить срок выполнения"}}catch(t){return console.error("Error setting goal timer:",t),{success:!1,message:"Произошла ошибка при установке срока выполнения"}}};const qN=({goalCode:r,timer:n,onTimerUpdate:e})=>{const[t,a]=p.useState(!1),[s,i]=p.useState(n!=null&&n.deadline?ua(n.deadline):null),[o,l]=p.useState(n||null),[c,d]=p.useState(null),[f,h]=p.useState(!1),[v,m]=H("goal-timer"),g=async()=>{var S;h(!0);try{const D=await Zp(r);D.success&&((S=D.data)!=null&&S.timer)&&(l(D.data.timer),i(ua(D.data.timer.deadline)))}catch(D){d("Не удалось получить информацию о сроке выполнения")}finally{h(!1)}};p.useEffect(()=>{n||g()},[n,r]);const b=S=>Yr(ua(S),"d MMMM yyyy",{locale:Ul}),y=async()=>{if(!s){d("Пожалуйста, выберите дату");return}h(!0),d(null);try{const S=Yr(s,"yyyy-MM-dd"),D=await zN(r,S);D.success&&D.timer?(l(D.timer),e&&e(D.timer),a(!1),re.addNotification({type:"success",title:"Успех",message:D.message||"Срок выполнения установлен"})):d(D.message||"Не удалось установить срок выполнения")}catch(S){d("Произошла ошибка при установке срока выполнения")}finally{h(!1)}},_=async()=>{h(!0);try{const S=await UN(r);S.success?(l(null),i(null),e&&e(null),re.addNotification({type:"success",title:"Успех",message:S.message||"Срок выполнения удален"})):d(S.message||"Не удалось удалить срок выполнения")}catch(S){d("Произошла ошибка при удалении срока выполнения")}finally{h(!1)}},E=()=>{a(!1),d(null),o!=null&&o.deadline?i(ua(o.deadline)):i(null)},x=()=>f?u(j,{onClick:()=>{},theme:"blue",className:m("save-button"),children:"Сохранение..."}):u(j,{onClick:y,theme:"blue",className:m("save-button"),children:"Сохранить"}),C=()=>f?u(j,{onClick:()=>{},theme:"red",className:m("delete-button"),children:"Удаление..."}):u(j,{onClick:_,theme:"red",className:m("delete-button"),children:"Удалить"});return w("div",{className:v(),children:[c&&u("div",{className:m("error"),children:c}),t?w("div",{className:m("setup"),children:[u("div",{className:m("date-picker"),children:u(Qp,{className:m("date-input"),placeholderText:"ДД.ММ.ГГГГ",selected:s,onChange:i,minDate:new Date(new Date().setDate(new Date().getDate()+1))})}),w("div",{className:m("actions"),children:[x(),u(j,{onClick:f?()=>{}:E,theme:"blue-light",className:m("cancel-button"),children:"Отмена"})]})]}):u("div",{className:m("display"),children:o!=null&&o.deadline?w("div",{className:m("info"),children:[w("div",{className:m("deadline"),children:[u("span",{className:m("label"),children:"Срок выполнения:"}),u("span",{className:m("date"),children:b(o.deadline)}),o.daysLeft!==void 0&&u("span",{className:m("days-left",{expired:o.isExpired}),children:o.isExpired?"Срок истек":"".concat(ht(o.daysLeft,["Остался","Осталось","Осталось"],!1),": ").concat(ht(o.daysLeft,["день","дня","дней"]))})]}),w("div",{className:m("actions"),children:[u(j,{onClick:f?()=>{}:()=>a(!0),theme:"blue-light",className:m("edit-button"),children:"Изменить"}),C()]})]}):u(j,{onClick:f?()=>{}:()=>a(!0),theme:"blue-light",className:m("set-button"),children:"Установить срок выполнения"})})]})},Jp=r=>{const{className:n,title:e,image:t,added:a,updateGoal:s,code:i,done:o,isList:l,openAddReview:c,editGoal:d,canEdit:f}=r,[h,v]=p.useState(null),[m,g]=H("aside-goal",n),{setIsOpen:b,setWindow:y,setFuncModal:_}=ea,{isScreenMobile:E,isScreenSmallTablet:x}=ic();p.useEffect(()=>{(async()=>{var k;if(a&&!l){const T=await Zp(i);T.success&&((k=T.data)!=null&&k.timer)?v(T.data.timer):v(null)}})()},[i,a,l]);const C=N=>{v(N)},S=()=>{y("confirm-execution-all-goal"),b(!0),l&&_(()=>s(i,"mark-all"))},D=()=>{y("delete-goal"),b(!0),_(()=>s(i,"delete"))};return w("aside",{className:m(),children:[u("img",{src:t,alt:e,className:g("image")}),w("div",{className:g("info"),children:[!l&&a&&u(j,{theme:o?"green":"blue",onClick:()=>s(i,"mark",o),icon:"plus",className:g("btn",{done:!0}),hoverContent:o?"Отменить выполнение":"",hoverIcon:o?"cross":"",size:E||x?"medium":void 0,children:o?"Выполнено":"Выполнить"}),l&&a&&!o&&u(j,{theme:"blue",onClick:S,icon:"done",className:g("btn"),size:E||x?"medium":void 0,children:"Выполнить все цели"}),!a&&u(j,{onClick:()=>s(i,"add"),icon:"plus",className:g("btn"),theme:"blue",size:E||x?"medium":void 0,children:"Добавить к себе"}),!l&&o&&u(j,{theme:"blue-light",onClick:c,icon:"comment",className:g("btn"),size:E||x?"medium":void 0,children:"Написать отзыв"}),a&&u(j,{theme:"blue-light",onClick:D,icon:"trash",className:g("btn"),size:E||x?"medium":void 0,children:"Удалить"}),f&&u(j,{theme:"blue-light",onClick:d,icon:"edit",className:g("btn"),type:d?"button":"Link",href:d?void 0:"/edit-list/".concat(i),size:E||x?"medium":void 0,children:"Редактировать"}),a&&!o&&!l&&w(ct,{children:[u(nt,{className:g("line")}),u(qN,{timer:h,goalCode:i,onTimerUpdate:C})]}),u(nt,{className:g("line"),margin:E?"8px 0":void 0}),u(j,{theme:"blue-light",icon:"mount",onClick:()=>{window.open("https://telegram.me/share/url?url=".concat(window.location.href),"sharer","status=0,toolbar=0,width=650,height=500")},className:g("btn"),size:E||x?"medium":void 0,children:"Поделиться"})]})]})};const KN=async r=>await ge("goals/".concat(r,"/comments"),{auth:!0}),QN=async(r,n)=>await gt("comments/".concat(r,"/like-or-dislike"),{auth:!0,body:{isLike:n}}),eh="carousel",th="controller",XN="navigation",ZN="no-scroll",oc="portal",JN="root",nh="toolbar",_o="loading",So="error",Eo="complete",eC="placeholder",tC=r=>"active-slide-".concat(r),rh="flex_center",nC="no_scroll",ah="no_scroll_padding",rC="slide_wrapper",Xn="prev",Zn="next",Ku="swipe",Kr="close",sh="onPointerDown",ih="onPointerMove",oh="onPointerUp",lh="onPointerLeave",ch="onPointerCancel",uh="onKeyDown",aC="onKeyUp",dh="onWheel",sC="Escape",iC="ArrowLeft",oC="ArrowRight",lC="button",il="icon",fh="contain",Qu="cover",cC="Unknown action type",ph="yarl__";function Dn(...r){return[...r].filter(Boolean).join(" ")}function Pe(r){return"".concat(ph).concat(r)}function wt(r){return"--".concat(ph).concat(r)}function ja(r,n){return"".concat(r).concat(n?"_".concat(n):"")}function lc(r){return n=>ja(r,n)}function uC(r,n){var e;return(e=r==null?void 0:r[n])!==null&&e!==void 0?e:n}function hh(...r){return()=>{r.forEach(n=>{n()})}}function yr(r,n,e){return()=>{const t=p.useContext(e);if(!t)throw new Error("".concat(r," must be used within a ").concat(n,".Provider"));return t}}function mh(){return typeof window<"u"}function dC(r,n=0){const e=10**n;return Math.round((r+Number.EPSILON)*e)/e}function vh(r){return r.type===void 0||r.type==="image"}function fC(r,n){return r.imageFit===Qu||r.imageFit!==fh&&n===Qu}function Bi(r){return typeof r=="string"?Number.parseInt(r,10):r}function ai(r){if(typeof r=="number")return{pixel:r};if(typeof r=="string"){const n=Bi(r);return r.endsWith("%")?{percent:n}:{pixel:n}}return{pixel:0}}function pC(r,n){const e=ai(n),t=e.percent!==void 0?r.width/100*e.percent:e.pixel;return{width:Math.max(r.width-2*t,0),height:Math.max(r.height-2*t,0)}}function gh(r,n){return n>0?(r%n+n)%n:0}function yh(r){return r.length>0}function bh(r,n){return r[gh(n,r.length)]}function ol(r,n){return yh(r)?bh(r,n):void 0}function hC(r){return vh(r)?r.src:void 0}function mC(r,n,e=0){return Math.min(r.preload,Math.max(r.finite?n.length-1:Math.floor(n.length/2),e))}const vC=Number(p.version.split(".")[0])>=19;function gC(r){return{inert:vC?r:r?"":void 0}}const ll={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Kr]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:fh,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function br(r,n){return{name:r,component:n}}function rt(r,n){return{module:r,children:n}}function wh(r,n,e){return r.module.name===n?e(r):r.children?[rt(r.module,r.children.flatMap(t=>{var a;return(a=wh(t,n,e))!==null&&a!==void 0?a:[]}))]:[r]}function Nr(r,n,e){return r.flatMap(t=>{var a;return(a=wh(t,n,e))!==null&&a!==void 0?a:[]})}function yC(r,n=[],e=[]){let t=r;const a=v=>{const m=[...t];for(;m.length>0;){const g=m.pop();if((g==null?void 0:g.module.name)===v)return!0;g!=null&&g.children&&m.push(...g.children)}return!1},s=(v,m)=>{if(v===""){t=[rt(m,t)];return}t=Nr(t,v,g=>[rt(m,[g])])},i=(v,m)=>{t=Nr(t,v,g=>[rt(g.module,[rt(m,g.children)])])},o=(v,m,g)=>{t=Nr(t,v,b=>{var y;return[rt(b.module,[...g?[rt(m)]:[],...(y=b.children)!==null&&y!==void 0?y:[],...g?[]:[rt(m)]])]})},l=(v,m,g)=>{t=Nr(t,v,b=>[...g?[rt(m)]:[],b,...g?[]:[rt(m)]])},c=v=>{i(th,v)},d=(v,m)=>{t=Nr(t,v,g=>[rt(m,g.children)])},f=v=>{t=Nr(t,v,m=>m.children)},h=v=>{e.push(v)};return n.forEach(v=>{v({contains:a,addParent:s,append:i,addChild:o,addSibling:l,addModule:c,replace:d,remove:f,augment:h})}),{config:t,augmentation:v=>e.reduce((m,g)=>g(m),v)}}const _h=p.createContext(null),cc=yr("useDocument","DocumentContext",_h);function bC({nodeRef:r,children:n}){const e=p.useMemo(()=>{const t=s=>{var i;return((i=s||r.current)===null||i===void 0?void 0:i.ownerDocument)||document};return{getOwnerDocument:t,getOwnerWindow:s=>{var i;return((i=t(s))===null||i===void 0?void 0:i.defaultView)||window}}},[r]);return p.createElement(_h.Provider,{value:e},n)}const Sh=p.createContext(null),Wi=yr("useEvents","EventsContext",Sh);function wC({children:r}){const[n]=p.useState({});p.useEffect(()=>()=>{Object.keys(n).forEach(t=>delete n[t])},[n]);const e=p.useMemo(()=>{const t=(i,o)=>{var l;(l=n[i])===null||l===void 0||l.splice(0,n[i].length,...n[i].filter(c=>c!==o))};return{publish:(...[i,o])=>{var l;(l=n[i])===null||l===void 0||l.forEach(c=>c(o))},subscribe:(i,o)=>(n[i]||(n[i]=[]),n[i].push(o),()=>t(i,o)),unsubscribe:t}},[n]);return p.createElement(Sh.Provider,{value:e},r)}const Eh=p.createContext(null),Ua=yr("useLightboxProps","LightboxPropsContext",Eh);function _C({children:r,...n}){return p.createElement(Eh.Provider,{value:n},r)}const Nh=p.createContext(null),Hi=yr("useLightboxState","LightboxStateContext",Nh),Ch=p.createContext(null),SC=yr("useLightboxDispatch","LightboxDispatchContext",Ch);function EC(r,n){switch(n.type){case"swipe":{const{slides:e}=r,t=(n==null?void 0:n.increment)||0,a=r.globalIndex+t,s=gh(a,e.length),i=ol(e,s),o=t||n.duration?{increment:t,duration:n.duration,easing:n.easing}:void 0;return{slides:e,currentIndex:s,globalIndex:a,currentSlide:i,animation:o}}case"update":return n.slides!==r.slides||n.index!==r.currentIndex?{slides:n.slides,currentIndex:n.index,globalIndex:n.index,currentSlide:ol(n.slides,n.index)}:r;default:throw new Error(cC)}}function NC({slides:r,index:n,children:e}){const[t,a]=p.useReducer(EC,{slides:r,currentIndex:n,globalIndex:n,currentSlide:ol(r,n)});p.useEffect(()=>{a({type:"update",slides:r,index:n})},[r,n]);const s=p.useMemo(()=>({...t,state:t,dispatch:a}),[t,a]);return p.createElement(Ch.Provider,{value:a},p.createElement(Nh.Provider,{value:s},e))}const xh=p.createContext(null),Yi=yr("useTimeouts","TimeoutsContext",xh);function CC({children:r}){const[n]=p.useState([]);p.useEffect(()=>()=>{n.forEach(t=>window.clearTimeout(t)),n.splice(0,n.length)},[n]);const e=p.useMemo(()=>{const t=i=>{n.splice(0,n.length,...n.filter(o=>o!==i))};return{setTimeout:(i,o)=>{const l=window.setTimeout(()=>{t(l),i()},o);return n.push(l),l},clearTimeout:i=>{i!==void 0&&(t(i),window.clearTimeout(i))}}},[n]);return p.createElement(xh.Provider,{value:e},r)}const Dh=p.forwardRef(function({label:n,className:e,icon:t,renderIcon:a,onClick:s,style:i,...o},l){const{styles:c,labels:d}=Ua(),f=uC(d,n);return p.createElement("button",{ref:l,type:"button",title:f,"aria-label":f,className:Dn(Pe(lC),e),onClick:s,style:{...i,...c.button},...o},a?a():p.createElement(t,{className:Pe(il),style:c.icon}))});function xC(r,n){const e=t=>p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...t},n);return e.displayName=r,e}function za(r,n){return xC(r,p.createElement("g",{fill:"currentColor"},p.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n))}const DC=za("Close",p.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),kC=za("Previous",p.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),TC=za("Next",p.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),PC=za("Loading",p.createElement(p.Fragment,null,Array.from({length:8}).map((r,n,e)=>p.createElement("line",{key:n,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/e.length*(n+1),transform:"rotate(".concat(360/e.length*n,", 12, 12)")})))),OC=za("Error",p.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),qa=mh()?p.useLayoutEffect:p.useEffect;function kh(){const[r,n]=p.useState(!1);return p.useEffect(()=>{var e,t;const a=(e=window.matchMedia)===null||e===void 0?void 0:e.call(window,"(prefers-reduced-motion: reduce)");n(a==null?void 0:a.matches);const s=i=>n(i.matches);return(t=a==null?void 0:a.addEventListener)===null||t===void 0||t.call(a,"change",s),()=>{var i;return(i=a==null?void 0:a.removeEventListener)===null||i===void 0?void 0:i.call(a,"change",s)}},[]),r}function MC(r){let n=0,e=0,t=0;const s=window.getComputedStyle(r).transform.match(/matrix.*\((.+)\)/);if(s){const i=s[1].split(",").map(Bi);i.length===6?(n=i[4],e=i[5]):i.length===16&&(n=i[12],e=i[13],t=i[14])}return{x:n,y:e,z:t}}function Xu(r,n){const e=p.useRef(),t=p.useRef(),a=kh();return qa(()=>{var s,i,o;if(r.current&&e.current!==void 0&&!a){const{keyframes:l,duration:c,easing:d,onfinish:f}=n(e.current,r.current.getBoundingClientRect(),MC(r.current))||{};if(l&&c){(s=t.current)===null||s===void 0||s.cancel(),t.current=void 0;try{t.current=(o=(i=r.current).animate)===null||o===void 0?void 0:o.call(i,l,{duration:c,easing:d})}catch(h){console.error(h)}t.current&&(t.current.onfinish=()=>{t.current=void 0,f==null||f()})}}e.current=void 0}),{prepareAnimation:s=>{e.current=s},isAnimationPlaying:()=>{var s;return((s=t.current)===null||s===void 0?void 0:s.playState)==="running"}}}function Th(){const r=p.useRef(null),n=p.useRef(),[e,t]=p.useState();return{setContainerRef:p.useCallback(s=>{r.current=s,n.current&&(n.current.disconnect(),n.current=void 0);const i=()=>{if(s){const o=window.getComputedStyle(s),l=c=>parseFloat(c)||0;t({width:Math.round(s.clientWidth-l(o.paddingLeft)-l(o.paddingRight)),height:Math.round(s.clientHeight-l(o.paddingTop)-l(o.paddingBottom))})}else t(void 0)};i(),s&&typeof ResizeObserver<"u"&&(n.current=new ResizeObserver(i),n.current.observe(s))},[]),containerRef:r,containerRect:e}}function Os(){const r=p.useRef(),{setTimeout:n,clearTimeout:e}=Yi();return p.useCallback((t,a)=>{e(r.current),r.current=n(t,a>0?a:0)},[n,e])}function et(r){const n=p.useRef(r);return qa(()=>{n.current=r}),p.useCallback((...e)=>{var t;return(t=n.current)===null||t===void 0?void 0:t.call(n,...e)},[])}function Zu(r,n){typeof r=="function"?r(n):r&&(r.current=n)}function cl(r,n){return p.useMemo(()=>r==null&&n==null?null:e=>{Zu(r,e),Zu(n,e)},[r,n])}function LC(r,n=!1){const e=p.useRef();qa(()=>{n&&e.current&&(e.current=!1,r())},[n,r]);const t=p.useCallback(()=>{e.current=!0},[]),a=p.useCallback(()=>{e.current=!1},[]);return{onFocus:t,onBlur:a}}function uc(){const[r,n]=p.useState(!1);return qa(()=>{n(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),r}function AC(){const[r]=p.useState({}),n=p.useCallback((a,s)=>{var i;(i=r[a])===null||i===void 0||i.forEach(o=>{s.isPropagationStopped()||o(s)})},[r]),e=p.useMemo(()=>({onPointerDown:a=>n(sh,a),onPointerMove:a=>n(ih,a),onPointerUp:a=>n(oh,a),onPointerLeave:a=>n(lh,a),onPointerCancel:a=>n(ch,a),onKeyDown:a=>n(uh,a),onKeyUp:a=>n(aC,a),onWheel:a=>n(dh,a)}),[n]),t=p.useCallback((a,s)=>(r[a]||(r[a]=[]),r[a].unshift(s),()=>{const i=r[a];i&&i.splice(0,i.length,...i.filter(o=>o!==s))}),[r]);return{registerSensors:e,subscribeSensors:t}}function Ju(r,n){const e=p.useRef(0),t=Os(),a=et((...s)=>{e.current=Date.now(),r(s)});return p.useCallback((...s)=>{t(()=>{a(s)},n-(Date.now()-e.current))},[n,a,t])}const No=lc("slide"),Co=lc("slide_image");function IC({slide:r,offset:n,render:e,rect:t,imageFit:a,imageProps:s,onClick:i,onLoad:o,onError:l,style:c}){var d,f,h,v,m,g,b;const[y,_]=p.useState(_o),{publish:E}=Wi(),{setTimeout:x}=Yi(),C=p.useRef(null);p.useEffect(()=>{n===0&&E(tC(y))},[n,y,E]);const S=et(G=>{("decode"in G?G.decode():Promise.resolve()).catch(()=>{}).then(()=>{G.parentNode&&(_(Eo),x(()=>{o==null||o(G)},0))})}),D=p.useCallback(G=>{C.current=G,G!=null&&G.complete&&S(G)},[S]),N=p.useCallback(G=>{S(G.currentTarget)},[S]),k=et(()=>{_(So),l==null||l()}),T=fC(r,a),P=(G,ne)=>Number.isFinite(G)?G:ne,L=P(Math.max(...((f=(d=r.srcSet)===null||d===void 0?void 0:d.map(G=>G.width))!==null&&f!==void 0?f:[]).concat(r.width?[r.width]:[]).filter(Boolean)),((h=C.current)===null||h===void 0?void 0:h.naturalWidth)||0),O=P(Math.max(...((m=(v=r.srcSet)===null||v===void 0?void 0:v.map(G=>G.height))!==null&&m!==void 0?m:[]).concat(r.height?[r.height]:[]).filter(Boolean)),((g=C.current)===null||g===void 0?void 0:g.naturalHeight)||0),$=L&&O?{maxWidth:"min(".concat(L,"px, 100%)"),maxHeight:"min(".concat(O,"px, 100%)")}:{maxWidth:"100%",maxHeight:"100%"},F=(b=r.srcSet)===null||b===void 0?void 0:b.sort((G,ne)=>G.width-ne.width).map(G=>"".concat(G.src," ").concat(G.width,"w")).join(", "),I=()=>t&&!T&&r.width&&r.height?t.height/r.height*r.width:Number.MAX_VALUE,R=F&&t&&mh()?"".concat(Math.round(Math.min(I(),t.width)),"px"):void 0,{style:A,className:B,...K}=s||{};return p.createElement(p.Fragment,null,p.createElement("img",{ref:D,onLoad:N,onError:k,onClick:i,draggable:!1,className:Dn(Pe(Co()),T&&Pe(Co("cover")),y!==Eo&&Pe(Co("loading")),B),style:{...$,...c,...A},...K,alt:r.alt,sizes:R,srcSet:F,src:r.src}),y!==Eo&&p.createElement("div",{className:Pe(No(eC))},y===_o&&(e!=null&&e.iconLoading?e.iconLoading():p.createElement(PC,{className:Dn(Pe(il),Pe(No(_o)))})),y===So&&(e!=null&&e.iconError?e.iconError():p.createElement(OC,{className:Dn(Pe(il),Pe(No(So)))}))))}const RC=p.forwardRef(function({className:n,children:e,...t},a){const s=p.useRef(null);return p.createElement(bC,{nodeRef:s},p.createElement("div",{ref:cl(a,s),className:Dn(Pe("root"),n),...t},e))});var ut;(function(r){r[r.NONE=0]="NONE",r[r.SWIPE=1]="SWIPE",r[r.PULL=2]="PULL",r[r.ANIMATION=3]="ANIMATION"})(ut||(ut={}));function $C(r,n,e,t,a){p.useEffect(()=>a?()=>{}:hh(r(sh,n),r(ih,e),r(oh,t),r(lh,t),r(ch,t)),[r,n,e,t,a])}var Rt;(function(r){r[r.NONE=0]="NONE",r[r.SWIPE=1]="SWIPE",r[r.PULL=2]="PULL"})(Rt||(Rt={}));const xo=30;function FC(r,n,e,t,a,s,i,o,l,c,d,f,h,v){const m=p.useRef(0),g=p.useRef([]),b=p.useRef(),y=p.useRef(0),_=p.useRef(Rt.NONE),E=p.useCallback(k=>{b.current===k.pointerId&&(b.current=void 0,_.current=Rt.NONE);const T=g.current;T.splice(0,T.length,...T.filter(P=>P.pointerId!==k.pointerId))},[]),x=p.useCallback(k=>{E(k),k.persist(),g.current.push(k)},[E]),C=et(k=>{x(k)}),S=(k,T)=>c&&k>T||l&&k<-T,D=et(k=>{if(g.current.find(T=>T.pointerId===k.pointerId)&&b.current===k.pointerId){const T=Date.now()-y.current,P=m.current;_.current===Rt.SWIPE?Math.abs(P)>.3*e||Math.abs(P)>5&&T<t?i(P,T):o(P):_.current===Rt.PULL&&(S(P,2*xo)?h(P,T):v(P)),m.current=0,_.current=Rt.NONE}E(k)}),N=et(k=>{const T=g.current.find(P=>P.pointerId===k.pointerId);if(T){const P=b.current===k.pointerId;if(k.buttons===0){P&&m.current!==0?D(k):E(T);return}const L=k.clientX-T.clientX,O=k.clientY-T.clientY;if(b.current===void 0){const $=F=>{x(k),b.current=k.pointerId,y.current=Date.now(),_.current=F};Math.abs(L)>Math.abs(O)&&Math.abs(L)>xo&&n(L)?($(Rt.SWIPE),a()):Math.abs(O)>Math.abs(L)&&S(O,xo)&&($(Rt.PULL),d())}else P&&(_.current===Rt.SWIPE?(m.current=L,s(L)):_.current===Rt.PULL&&(m.current=O,f(O)))}});$C(r,C,N,D)}function GC({preventDefaultWheelX:r,preventDefaultWheelY:n}){const e=p.useRef(null),t=et(a=>{const s=Math.abs(a.deltaX)>Math.abs(a.deltaY);(s&&r||!s&&n||a.ctrlKey)&&a.preventDefault()});return p.useCallback(a=>{var s;a?a.addEventListener("wheel",t,{passive:!1}):(s=e.current)===null||s===void 0||s.removeEventListener("wheel",t),e.current=a},[t])}function BC(r,n,e,t,a,s,i,o,l){const c=p.useRef(0),d=p.useRef(0),f=p.useRef(),h=p.useRef(),v=p.useRef(0),m=p.useRef(),g=p.useRef(0),{setTimeout:b,clearTimeout:y}=Yi(),_=p.useCallback(()=>{f.current&&(y(f.current),f.current=void 0)},[y]),E=p.useCallback(()=>{h.current&&(y(h.current),h.current=void 0)},[y]),x=et(()=>{r!==ut.SWIPE&&(c.current=0,g.current=0,_(),E())});p.useEffect(x,[r,x]);const C=et(D=>{h.current=void 0,c.current===D&&l(c.current)}),S=et(D=>{if(D.ctrlKey||Math.abs(D.deltaY)>Math.abs(D.deltaX))return;const N=k=>{v.current=k,y(m.current),m.current=k>0?b(()=>{v.current=0,m.current=void 0},300):void 0};if(r===ut.NONE){if(Math.abs(D.deltaX)<=1.2*Math.abs(v.current)){N(D.deltaX);return}if(!e(-D.deltaX))return;if(d.current+=D.deltaX,_(),Math.abs(d.current)>30)d.current=0,N(0),g.current=Date.now(),s();else{const k=d.current;f.current=b(()=>{f.current=void 0,k===d.current&&(d.current=0)},a)}}else if(r===ut.SWIPE){let k=c.current-D.deltaX;if(k=Math.min(Math.abs(k),t)*Math.sign(k),c.current=k,i(k),E(),Math.abs(k)>.2*t){N(D.deltaX),o(k,Date.now()-g.current);return}h.current=b(()=>C(k),2*a)}else N(D.deltaX)});p.useEffect(()=>n(dh,S),[n,S])}const ed=lc("container"),Ph=p.createContext(null),Ka=yr("useController","ControllerContext",Ph);function WC({children:r,...n}){var e;const{carousel:t,animation:a,controller:s,on:i,styles:o,render:l}=n,{closeOnPullUp:c,closeOnPullDown:d,preventDefaultWheelX:f,preventDefaultWheelY:h}=s,[v,m]=p.useState(),g=Hi(),b=SC(),[y,_]=p.useState(ut.NONE),E=p.useRef(0),x=p.useRef(0),C=p.useRef(1),{registerSensors:S,subscribeSensors:D}=AC(),{subscribe:N,publish:k}=Wi(),T=Os(),P=Os(),L=Os(),{containerRef:O,setContainerRef:$,containerRect:F}=Th(),I=cl(GC({preventDefaultWheelX:f,preventDefaultWheelY:h}),$),R=p.useRef(null),A=cl(R,void 0),{getOwnerDocument:B}=cc(),K=uc(),G=X=>(K?-1:1)*(typeof X=="number"?X:1),ne=et(()=>{var X;return(X=O.current)===null||X===void 0?void 0:X.focus()}),ce=et(()=>n),Ce=et(()=>g),ke=p.useCallback(X=>k(Xn,X),[k]),Re=p.useCallback(X=>k(Zn,X),[k]),J=p.useCallback(()=>k(Kr),[k]),oe=X=>!(t.finite&&(G(X)>0&&g.currentIndex===0||G(X)<0&&g.currentIndex===g.slides.length-1)),he=X=>{var Le;E.current=X,(Le=O.current)===null||Le===void 0||Le.style.setProperty(wt("swipe_offset"),"".concat(Math.round(X),"px"))},Se=X=>{var Le,it;x.current=X,C.current=(()=>{const Tn=(()=>d&&X>0?X:c&&X<0?-X:0)();return Math.min(Math.max(dC(1-Tn/60*(1-.5),2),.5),1)})(),(Le=O.current)===null||Le===void 0||Le.style.setProperty(wt("pull_offset"),"".concat(Math.round(X),"px")),(it=O.current)===null||it===void 0||it.style.setProperty(wt("pull_opacity"),"".concat(C.current))},{prepareAnimation:Ze}=Xu(R,(X,Le,it)=>{if(R.current&&F)return{keyframes:[{transform:"translate(0, ".concat(X.rect.y-Le.y+it.y,"px)"),opacity:X.opacity},{transform:"translate(0, 0)",opacity:1}],duration:X.duration,easing:a.easing.fade}}),q=(X,Le)=>{if(c||d){Se(X);let it=0;R.current&&(it=a.fade*(Le?2:1),Ze({rect:R.current.getBoundingClientRect(),opacity:C.current,duration:it})),L(()=>{Se(0),_(ut.NONE)},it),_(ut.ANIMATION),Le||J()}},{prepareAnimation:ee,isAnimationPlaying:de}=Xu(R,(X,Le,it)=>{var Ct;if(R.current&&F&&(!((Ct=g.animation)===null||Ct===void 0)&&Ct.duration)){const bt=ai(t.spacing),Tn=(bt.percent?bt.percent*F.width/100:bt.pixel)||0;return{keyframes:[{transform:"translate(".concat(G(g.globalIndex-X.index)*(F.width+Tn)+X.rect.x-Le.x+it.x,"px, 0)")},{transform:"translate(0, 0)"}],duration:g.animation.duration,easing:g.animation.easing}}}),Y=et(X=>{var Le,it;const Ct=X.offset||0,bt=Ct?a.swipe:(Le=a.navigation)!==null&&Le!==void 0?Le:a.swipe,Tn=!Ct&&!de()?a.easing.navigation:a.easing.swipe;let{direction:W}=X;const Q=(it=X.count)!==null&&it!==void 0?it:1;let se=ut.ANIMATION,fe=bt*Q;if(!W){const tt=F==null?void 0:F.width,pn=X.duration||0,hn=tt?bt/tt*Math.abs(Ct):bt;Q!==0?(pn<hn?fe=fe/hn*Math.max(pn,hn/5):tt&&(fe=bt/tt*(tt-Math.abs(Ct))),W=G(Ct)>0?Xn:Zn):fe=bt/2}let qe=0;W===Xn?oe(G(1))?qe=-Q:(se=ut.NONE,fe=bt):W===Zn&&(oe(G(-1))?qe=Q:(se=ut.NONE,fe=bt)),fe=Math.round(fe),P(()=>{he(0),_(ut.NONE)},fe),R.current&&ee({rect:R.current.getBoundingClientRect(),index:g.globalIndex}),_(se),k(Ku,{type:"swipe",increment:qe,duration:fe,easing:Tn})});p.useEffect(()=>{var X,Le;!((X=g.animation)===null||X===void 0)&&X.increment&&(!((Le=g.animation)===null||Le===void 0)&&Le.duration)&&T(()=>b({type:"swipe",increment:0}),g.animation.duration)},[g.animation,b,T]);const ue=[D,oe,(F==null?void 0:F.width)||0,a.swipe,()=>_(ut.SWIPE),X=>he(X),(X,Le)=>Y({offset:X,duration:Le,count:1}),X=>Y({offset:X,count:0})],me=[()=>{d&&_(ut.PULL)},X=>Se(X),X=>q(X),X=>q(X,!0)];FC(...ue,c,d,...me),BC(y,...ue);const st=et(()=>{s.focus&&B().querySelector(".".concat(Pe(oc)," .").concat(Pe(ed())))&&ne()});p.useEffect(st,[st]);const fn=et(()=>{var X;(X=i.view)===null||X===void 0||X.call(i,{index:g.currentIndex})});p.useEffect(fn,[g.globalIndex,fn]),p.useEffect(()=>hh(N(Xn,X=>Y({direction:Xn,...X})),N(Zn,X=>Y({direction:Zn,...X})),N(Ku,X=>b(X))),[N,Y,b]);const sa=p.useMemo(()=>({prev:ke,next:Re,close:J,focus:ne,slideRect:F?pC(F,t.padding):{width:0,height:0},containerRect:F||{width:0,height:0},subscribeSensors:D,containerRef:O,setCarouselRef:A,toolbarWidth:v,setToolbarWidth:m}),[ke,Re,J,ne,D,F,O,A,v,m,t.padding]);return p.useImperativeHandle(s.ref,()=>({prev:ke,next:Re,close:J,focus:ne,getLightboxProps:ce,getLightboxState:Ce}),[ke,Re,J,ne,ce,Ce]),p.createElement("div",{ref:I,className:Dn(Pe(ed()),Pe(rh)),style:{...y===ut.SWIPE?{[wt("swipe_offset")]:"".concat(Math.round(E.current),"px")}:null,...y===ut.PULL?{[wt("pull_offset")]:"".concat(Math.round(x.current),"px"),[wt("pull_opacity")]:"".concat(C.current)}:null,...s.touchAction!=="none"?{[wt("controller_touch_action")]:s.touchAction}:null,...o.container},...s.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...S},F&&p.createElement(Ph.Provider,{value:sa},r,(e=l.controls)===null||e===void 0?void 0:e.call(l)))}const HC=br(th,WC);function zn(r){return ja(eh,r)}function td(r){return ja("slide",r)}function YC({slide:r,offset:n}){const e=p.useRef(null),{currentIndex:t}=Hi(),{slideRect:a,close:s,focus:i}=Ka(),{render:o,carousel:{imageFit:l,imageProps:c},on:{click:d},controller:{closeOnBackdropClick:f},styles:{slide:h}}=Ua(),{getOwnerDocument:v}=cc(),m=n!==0;p.useEffect(()=>{var y;m&&(!((y=e.current)===null||y===void 0)&&y.contains(v().activeElement))&&i()},[m,i,v]);const g=()=>{var y,_,E,x;let C=(y=o.slide)===null||y===void 0?void 0:y.call(o,{slide:r,offset:n,rect:a});return!C&&vh(r)&&(C=p.createElement(IC,{slide:r,offset:n,render:o,rect:a,imageFit:l,imageProps:c,onClick:m?void 0:()=>d==null?void 0:d({index:t})})),C?p.createElement(p.Fragment,null,(_=o.slideHeader)===null||_===void 0?void 0:_.call(o,{slide:r}),((E=o.slideContainer)!==null&&E!==void 0?E:({children:S})=>S)({slide:r,children:C}),(x=o.slideFooter)===null||x===void 0?void 0:x.call(o,{slide:r})):null},b=y=>{const _=e.current,E=y.target instanceof HTMLElement?y.target:void 0;f&&E&&_&&(E===_||Array.from(_.children).find(x=>x===E)&&E.classList.contains(Pe(rC)))&&s()};return p.createElement("div",{ref:e,className:Dn(Pe(td()),!m&&Pe(td("current")),Pe(rh)),...gC(m),onClick:b,style:h},g())}function VC(){const r=Ua().styles.slide;return p.createElement("div",{className:Pe("slide"),style:r})}function jC({carousel:r}){const{slides:n,currentIndex:e,globalIndex:t}=Hi(),{setCarouselRef:a}=Ka(),s=ai(r.spacing),i=ai(r.padding),o=mC(r,n,1),l=[];if(yh(n))for(let c=e-o;c<=e+o;c+=1){const d=bh(n,c),f=t-e+c,h=r.finite&&(c<0||c>n.length-1);l.push(h?{key:f}:{key:["".concat(f),hC(d)].filter(Boolean).join("|"),offset:c-e,slide:d})}return p.createElement("div",{ref:a,className:Dn(Pe(zn()),l.length>0&&Pe(zn("with_slides"))),style:{["".concat(wt(zn("slides_count")))]:l.length,["".concat(wt(zn("spacing_px")))]:s.pixel||0,["".concat(wt(zn("spacing_percent")))]:s.percent||0,["".concat(wt(zn("padding_px")))]:i.pixel||0,["".concat(wt(zn("padding_percent")))]:i.percent||0}},l.map(({key:c,slide:d,offset:f})=>d?p.createElement(YC,{key:c,slide:d,offset:f}):p.createElement(VC,{key:c})))}const UC=br(eh,jC);function Oh(){const{carousel:r}=Ua(),{slides:n,currentIndex:e}=Hi(),t=n.length===0||r.finite&&e===0,a=n.length===0||r.finite&&e===n.length-1;return{prevDisabled:t,nextDisabled:a}}function zC(r){var n;const e=uc(),{publish:t}=Wi(),{animation:a}=Ua(),{prevDisabled:s,nextDisabled:i}=Oh(),o=((n=a.navigation)!==null&&n!==void 0?n:a.swipe)/2,l=Ju(()=>t(Xn),o),c=Ju(()=>t(Zn),o),d=et(f=>{switch(f.key){case sC:t(Kr);break;case iC:(e?i:s)||(e?c:l)();break;case oC:(e?s:i)||(e?l:c)();break}});p.useEffect(()=>r(uh,d),[r,d])}function nd({label:r,icon:n,renderIcon:e,action:t,onClick:a,disabled:s,style:i}){return p.createElement(Dh,{label:r,icon:n,renderIcon:e,className:Pe("navigation_".concat(t)),disabled:s,onClick:a,style:i,...LC(Ka().focus,s)})}function qC({render:{buttonPrev:r,buttonNext:n,iconPrev:e,iconNext:t},styles:a}){const{prev:s,next:i,subscribeSensors:o}=Ka(),{prevDisabled:l,nextDisabled:c}=Oh();return zC(o),p.createElement(p.Fragment,null,r?r():p.createElement(nd,{label:"Previous",action:Xn,icon:kC,renderIcon:e,style:a.navigationPrev,disabled:l,onClick:s}),n?n():p.createElement(nd,{label:"Next",action:Zn,icon:TC,renderIcon:t,style:a.navigationNext,disabled:c,onClick:i}))}const KC=br(XN,qC),rd=Pe(nC),QC=Pe(ah);function XC(r){return"style"in r}function ad(r,n,e){const t=window.getComputedStyle(r),a=e?"padding-left":"padding-right",s=e?t.paddingLeft:t.paddingRight,i=r.style.getPropertyValue(a);return r.style.setProperty(a,"".concat((Bi(s)||0)+n,"px")),()=>{i?r.style.setProperty(a,i):r.style.removeProperty(a)}}function ZC({noScroll:{disabled:r},children:n}){const e=uc(),{getOwnerDocument:t,getOwnerWindow:a}=cc();return p.useEffect(()=>{if(r)return()=>{};const s=[],i=a(),{body:o,documentElement:l}=t(),c=Math.round(i.innerWidth-l.clientWidth);if(c>0){s.push(ad(o,c,e));const d=o.getElementsByTagName("*");for(let f=0;f<d.length;f+=1){const h=d[f];XC(h)&&i.getComputedStyle(h).getPropertyValue("position")==="fixed"&&!h.classList.contains(QC)&&s.push(ad(h,c,e))}}return o.classList.add(rd),()=>{o.classList.remove(rd),s.forEach(d=>d())}},[e,r,t,a]),p.createElement(p.Fragment,null,n)}const JC=br(ZN,ZC);function sd(r){return ja(oc,r)}function id(r,n,e){const t=r.getAttribute(n);return r.setAttribute(n,e),()=>{t?r.setAttribute(n,t):r.removeAttribute(n)}}function ex({children:r,animation:n,styles:e,className:t,on:a,portal:s,close:i}){const[o,l]=p.useState(!1),[c,d]=p.useState(!1),f=p.useRef([]),h=p.useRef(null),{setTimeout:v}=Yi(),{subscribe:m}=Wi(),b=kh()?0:n.fade;p.useEffect(()=>(l(!0),()=>{l(!1),d(!1)}),[]);const y=et(()=>{f.current.forEach(C=>C()),f.current=[]}),_=et(()=>{var C;d(!1),y(),(C=a.exiting)===null||C===void 0||C.call(a),v(()=>{var S;(S=a.exited)===null||S===void 0||S.call(a),i()},b)});p.useEffect(()=>m(Kr,_),[m,_]);const E=et(C=>{var S,D,N;C.scrollTop,d(!0),(S=a.entering)===null||S===void 0||S.call(a);const k=(N=(D=C.parentNode)===null||D===void 0?void 0:D.children)!==null&&N!==void 0?N:[];for(let T=0;T<k.length;T+=1){const P=k[T];["TEMPLATE","SCRIPT","STYLE"].indexOf(P.tagName)===-1&&P!==C&&(f.current.push(id(P,"inert","")),f.current.push(id(P,"aria-hidden","true")))}f.current.push(()=>{var T,P;(P=(T=h.current)===null||T===void 0?void 0:T.focus)===null||P===void 0||P.call(T)}),v(()=>{var T;(T=a.entered)===null||T===void 0||T.call(a)},b)}),x=p.useCallback(C=>{C?E(C):y()},[E,y]);return o?Na.createPortal(p.createElement(RC,{ref:x,className:Dn(t,Pe(sd()),Pe(ah),c&&Pe(sd("open"))),role:"presentation","aria-live":"polite",style:{...n.fade!==ll.animation.fade?{[wt("fade_animation_duration")]:"".concat(b,"ms")}:null,...n.easing.fade!==ll.animation.easing.fade?{[wt("fade_animation_timing_function")]:n.easing.fade}:null,...e.root},onFocus:C=>{h.current||(h.current=C.relatedTarget)}},r),s.root||document.body):null}const tx=br(oc,ex);function nx({children:r}){return p.createElement(p.Fragment,null,r)}const rx=br(JN,nx);function ax(r){return ja(nh,r)}function sx({toolbar:{buttons:r},render:{buttonClose:n,iconClose:e},styles:t}){const{close:a,setToolbarWidth:s}=Ka(),{setContainerRef:i,containerRect:o}=Th();qa(()=>{s(o==null?void 0:o.width)},[s,o==null?void 0:o.width]);const l=()=>n?n():p.createElement(Dh,{key:Kr,label:"Close",icon:DC,renderIcon:e,onClick:a});return p.createElement("div",{ref:i,style:t.toolbar,className:Pe(ax())},r==null?void 0:r.map(c=>c===Kr?l():c))}const ix=br(nh,sx);function Mh(r,n){var e;return p.createElement(r.module.component,{key:r.module.name,...n},(e=r.children)===null||e===void 0?void 0:e.map(t=>Mh(t,n)))}function ox(r,n={}){const{easing:e,...t}=r,{easing:a,...s}=n;return{easing:{...e,...a},...t,...s}}function lx({carousel:r,animation:n,render:e,toolbar:t,controller:a,noScroll:s,on:i,plugins:o,slides:l,index:c,...d}){const{animation:f,carousel:h,render:v,toolbar:m,controller:g,noScroll:b,on:y,slides:_,index:E,plugins:x,...C}=ll,{config:S,augmentation:D}=yC([rt(tx,[rt(JC,[rt(HC,[rt(UC),rt(ix),rt(KC)])])])],o||x),N=D({animation:ox(f,n),carousel:{...h,...r},render:{...v,...e},toolbar:{...m,...t},controller:{...g,...a},noScroll:{...b,...s},on:{...y,...i},...C,...d});return N.open?p.createElement(_C,{...N},p.createElement(NC,{slides:l||_,index:Bi(c||E)},p.createElement(CC,null,p.createElement(wC,null,Mh(rt(rx,S),N))))):null}const cx=r=>{const n=new Date(r),e=t=>["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][t];return"".concat(n.getDate()," ").concat(e(n.getMonth())," ").concat(n.getFullYear())},ux=r=>{const n=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],e=new Date(r).getMonth();return n[e]};const Lh=r=>{const{className:n,comment:e,isUser:t,onClickScore:a,isMain:s}=r,[i,o]=H("comment-goal",n),[l,c]=p.useState(!1),[d,f]=p.useState(0),h=e.photos?e.photos.map(v=>({src:v.image})):[];return w("article",{className:i(),children:[w("div",{className:o("info"),children:[w(xe,{to:t?"/goals/".concat(e.goalInfo.code):"/user/".concat(e.user,"/showcase"),className:o("user-info"),children:[t?u("img",{src:e.goalInfo.image||"",alt:e.goalInfo.title,className:o("goal-img")}):u(na,{avatar:e.userAvatar,size:"medium"}),t?w("div",{className:o("user-wrapper",{goal:!0}),children:[w("div",{className:o("goal-info"),children:[u(le,{tag:"h3",children:e.goalInfo.title}),u(St,{category:e.goalCategory.nameEn,text:e.goalCategory.name})]}),u(Tl,{complexity:e.goalInfo.complexity,added:e.goalInfo.totalAdded,time:"7 дней",theme:"integrate",className:o("tags"),separator:["complexity",!!e.goalInfo.totalAdded&&"added"]})]}):w("div",{className:o("user-wrapper"),children:[u(le,{tag:"h4",children:e.userName}),u("p",{className:o("user-level"),children:ht(e.userTotalCompletedGoals,["цель выполнена","цели выполнено","целей выполнено"])})]})]}),!s&&w("div",{className:o("comment-info"),children:[u("span",{className:o("date"),children:cx(e.dateCreated)}),u("div",{className:o("vertical-line")}),u(St,{complexity:e.complexity,theme:"integrate",icon:e.complexity})]})]}),u("hr",{className:o("horizontal-line")}),u("p",{className:o("text"),children:e.text}),e.photos&&!!e.photos.length&&u("div",{className:o("comment-images"),children:e.photos.map((v,m)=>u("img",{src:v.image,alt:"Изображение комментария",className:o("comment-img"),role:"button",tabIndex:0,onClick:()=>{f(m),c(!0)},onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&(f(m),c(!0))}},v.id))}),!s&&a&&w("div",{className:o("score"),children:[u(j,{icon:"like",small:!0,theme:e.hasLiked?"green":"blue-light",onClick:()=>a(e.id,!0),className:o("like"),children:e.likesCount}),u(j,{icon:"like--bottom",small:!0,theme:e.hasDisliked?"red":"blue-light",onClick:()=>a(e.id,!1),children:e.dislikesCount})]}),u(lx,{open:l,close:()=>c(!1),slides:h,index:d,carousel:{finite:!0,padding:"16px"},controller:{closeOnBackdropClick:!0},animation:{fade:300},styles:{container:{backgroundColor:"rgba(0, 0, 0, .8)"}}})]})};const Ah=$e(r=>{const{className:n,comments:e,isUser:t,setComments:a}=r,[s,i]=H("comments-goal",n),o=l=>async(c,d)=>{const f=await QN(c,d);if(f.success){const h=e.slice(0,l),v=e.slice(l+1);a([...h,{...e[l],...f.data},...v])}};return u("div",{className:s(),children:u("section",{className:i("items"),children:e&&!!e.length&&e.map((l,c)=>u(Lh,{className:i("comment"),isUser:t,comment:l,onClickScore:o(c)},l.id))})})});const Vi=r=>{const{className:n,items:e,progressData:t,progress:a,horizontal:s,backgroundOff:i}=r,[o,l]=H("info-goal",n);return w("section",{className:o({horizontal:s,backgroundOff:i}),children:[w("div",{className:l("wrapper"),children:[e.map((c,d)=>w(p.Fragment,{children:[w("div",{className:l("item"),children:[u("span",{className:l("title"),children:c.title}),u("span",{className:l("text"),children:c.value})]}),d!==e.length-1&&u("div",{className:l("vertical-line")})]},d)),!!e.length&&s&&t&&u("div",{className:l("vertical-line")}),s&&t&&w("div",{className:l("wrapper-horizontal"),children:[u("span",{className:l("title"),children:"Мой прогресс выполнения"}),u("span",{className:l("text"),children:"".concat(t.completed,"/").concat(t.total)})]})]}),a&&t&&t.total>0&&w(ct,{children:[u(nt,{vertical:s,margin:"5px 24px",height:-10}),u(wi,{done:t.completed,all:t.total,goal:!0})]})]})};const dc=r=>{const{className:n,tabs:e,active:t,base:a="",vertical:s}=r,[i,o]=H("tabs",n);return u("section",{className:i({vertical:s}),children:e.map(l=>w(xe,{to:"".concat(a).concat(l.url),className:o("link",{active:t===l.page}),children:[l.icon&&u(te,{icon:l.icon}),l.name,!!l.count&&u("span",{className:o("count"),children:l.count})]},l.name))})},Ih=r=>{const{className:n,goal:e,page:t,isList:a}=r,[s,i]=H("description-with-links",n),[o,l]=p.useState(!0),c=()=>{l(!o)},d=p.useMemo(()=>a?[]:[{url:"/",name:"Отметки",page:"isGoal",count:e.totalComments},{url:"/lists",name:"Списки с целью",page:"isGoalLists",count:e.totalLists}],[e,a]);return w("div",{className:s({list:a}),children:[w("div",{className:i("wrapper"),children:[w("div",{className:i("text"),children:[u("p",{className:i("short-text"),children:o?e.shortDescription:e.description}),e.shortDescription!==e.description&&u(j,{icon:"download",theme:"blue-light",className:i("btn-more"),onClick:c,children:o?"Читать подробнее":"Скрыть"})]}),u(Vi,{className:i("info"),items:[{title:"Добавили к себе",value:e.totalAdded},{title:"Выполнили",value:e.totalCompleted}],progress:!0,progressData:{completed:e.totalCompleted,total:e.totalAdded}})]}),!a&&w(ct,{children:[u(nt,{margin:"16px 0 0"}),u(dc,{base:"/goals/".concat(e.code),tabs:d,active:t})]})]})},dx=async r=>await ge("goals/".concat(r,"/lists"),{auth:!0});const fx=$e(r=>{const{className:n,code:e}=r,[t]=H("lists-with-goal",n),{lists:a,setLists:s,setInfoPaginationLists:i}=yi;p.useEffect(()=>{(async()=>{const l=await dx(e);l.success&&(s(l.data.data),i(l.data.pagination))})()},[e]);const o=async(l,c,d)=>{const f=await(d==="add"?ki(l):Pi(l));if(f.success&&a){const h=a.slice(0,c),v=a.slice(c+1);s([...h,f.data,...v])}};return u("section",{className:t(),children:a.map((l,c)=>u(Br,{goal:l,isList:!0,horizontal:!0,onClickAdd:()=>o(l.code,c,"add"),onClickDelete:()=>o(l.code,c,"delete")},l.code))})}),px=$e(r=>{const{className:n,goal:e,page:t}=r,[a,s]=H("content-goal",n),i=ln(),{comments:o,setComments:l,setInfoPaginationComments:c}=yi;p.useEffect(()=>{t==="isGoal"&&(async()=>{const h=await KN(e.code);h.success&&(l(h.data.data),c(h.data.pagination))})()},[e.code,t]);const d=()=>{switch(t){case"isGoal":return u(Ah,{comments:o,setComments:l});case"isGoalLists":return u(fx,{code:e.code});default:return null}},f=()=>{i("/goals/".concat(e.code,"/lists")),Fl.scrollTo("comments-section",{duration:800,delay:0,smooth:"easeInOutQuart",offset:-50})};return w("article",{className:a(),children:[!!e.addedFromList.length&&w("div",{className:s("goal-in-list"),children:[u(te,{icon:"info"}),"Цель включена в список и отображается вместе с ним",u(j,{className:s("goal-in-list-btn"),theme:"no-border",type:"button",onClick:f,children:"Смотреть списки"})]}),u(Ih,{goal:e,page:t}),u("section",{className:s("comments"),id:"comments-section",children:d()})]})}),hx=async r=>{try{return await gi("goals/".concat(r,"/delete"),{auth:!0,success:{type:"success",title:"Успех",message:"Цель успешно удалена"}})}catch(n){return console.error("API Error:",n),{success:!1,error:"Не удалось удалить цель"}}},mx=async(r,n)=>{try{return await ta("goals/".concat(r,"/update"),{auth:!0,file:!0,body:n,success:{type:"success",title:"Успех",message:"Цель успешно обновлена"}})}catch(e){return console.error("API Error:",e),{success:!1,error:"Не удалось обновить цель"}}},vx=r=>{const{goal:n,className:e,onGoalUpdated:t,cancelEdit:a}=r,s=ln(),[i,o]=H("add-goal",e),[l,c]=p.useState(n.title||""),[d,f]=p.useState(n.description||""),[h,v]=p.useState(n.estimatedTime||""),[m,g]=p.useState(null),[b,y]=p.useState(null),[_,E]=p.useState(null),[x,C]=p.useState(null),[S,D]=p.useState(n.image||null),[N,k]=p.useState([]),[T,P]=p.useState([]),[L,O]=p.useState(!1),[$,F]=p.useState(!1),[I,R]=p.useState(null),{setHeader:A}=Me,B=p.useRef(null);p.useEffect(()=>{A("white"),(async()=>{try{O(!0),n.isCanEdit?F(!0):(R("Отредактировать цель невозможно. Возможно, прошло более 24 часов с момента создания."),F(!1));const oe=await jn();if(oe.success&&(k(oe.data),n.category)){const he=oe.data.findIndex(Se=>Se.id===n.category.id);he!==-1&&y(he)}if(n.complexity){const he=ot.findIndex(Se=>Se.value===n.complexity);he!==-1&&g(he)}}catch(oe){re.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить данные для редактирования"}),F(!1)}finally{O(!1)}})()},[n]),p.useEffect(()=>{b!==null&&(async()=>{const oe=await $n(N[b].nameEn);if(oe.success&&(P(oe.data.subcategories),n.subcategory)){const he=oe.data.subcategories.findIndex(Se=>{var Ze;return Se.id===((Ze=n.subcategory)==null?void 0:Ze.id)});he!==-1&&E(he)}})()},[b,N,n.subcategory]);const K=p.useCallback(J=>{J&&J.length>0&&(C(J[0]),D(null))},[]),G=()=>{B.current&&B.current.click()},ne=J=>{J.target.files&&K(J.target.files)},ce=J=>{if(!J)return"";const oe=/^(\d{1,2}):(\d{1,2})$/;if(oe.test(J)){const Y=J.match(oe);if(Y){const ue=Y[1].padStart(2,"0"),me=Y[2].padStart(2,"0");return"".concat(ue,":").concat(me)}}const he=/^(\d+)\s*(д|дн|дня|дней)$/i,Se=J.match(he);if(Se){const ue=parseInt(Se[1],10)*24;return"".concat(ue.toString().padStart(2,"0"),":00")}const Ze=/^(\d+)\s*(ч|час|часа|часов)$/i,q=J.match(Ze);if(q){const Y=parseInt(q[1],10);return"".concat(Y.toString().padStart(2,"0"),":00")}const ee=/^(\d+)\s*(м|мин|минут|минуты)$/i,de=J.match(ee);if(de){const Y=parseInt(de[1],10),ue=Math.floor(Y/60),me=Y%60;return"".concat(ue.toString().padStart(2,"0"),":").concat(me.toString().padStart(2,"0"))}return J},Ce=async J=>{var oe;if(J.preventDefault(),!l||!d||m===null||b===null||!x&&!S){re.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}O(!0);try{const he=new FormData;if(he.append("title",l),he.append("description",d),m!==null&&he.append("complexity",ot[m].value),_!==null?he.append("category",T[_].id.toString()):b!==null&&he.append("category",N[b].id.toString()),x?he.append("image",x):S&&he.append("image_url",S),h){const Ze=ce(h);he.append("estimated_time",Ze)}const Se=await mx(n.code,he);if(Se.success)re.addNotification({type:"success",title:"Успех",message:"Цель успешно обновлена"}),t&&Se.data?t(Se.data):s("/goals/".concat((oe=Se.data)==null?void 0:oe.code));else throw new Error(Se.error||"Неизвестная ошибка")}catch(he){re.addNotification({type:"error",title:"Ошибка",message:he instanceof Error?he.message:"Не удалось обновить цель"})}finally{O(!1)}},ke=async()=>{if(window.confirm("Вы уверены, что хотите удалить эту цель?")){O(!0);try{const J=await hx(n.code);if(J.success)re.addNotification({type:"success",title:"Успех",message:"Цель успешно удалена"}),s("/");else throw new Error(J.error||"Неизвестная ошибка")}catch(J){re.addNotification({type:"error",title:"Ошибка",message:J instanceof Error?J.message:"Не удалось удалить цель"})}finally{O(!1)}}},Re=J=>{const oe=J.replace(/[^0-9:дчмдней часовминут\s]/gi,""),he=/^(\d{0,2}):?(\d{0,2})$/,Se=/^(\d+)\s*(д|дн|дня|дней)?$/i,Ze=/^(\d+)\s*(ч|час|часа|часов)?$/i,q=/^(\d+)\s*(м|мин|минут|минуты)?$/i;(oe===""||he.test(oe)||Se.test(oe)||Ze.test(oe)||q.test(oe)||oe.includes("д")||oe.includes("ч")||oe.includes("м"))&&v(oe)};return w("form",{className:i(),onSubmit:Ce,children:[u("div",{className:o("wrapper-title"),children:u(le,{tag:"h1",className:o("title"),children:"Редактирование цели"})}),u(Xe,{isLoading:L,children:$?w("div",{className:o("content"),children:[w("div",{className:o("image-section"),children:[u("p",{className:o("field-title"),children:"Изображение цели *"}),!x&&!S?u("div",{className:o("dropzone"),children:u(lr,{onDrop:J=>J&&K(J),children:w("div",{className:o("upload-placeholder"),onClick:G,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyPress:J=>{(J.key==="Enter"||J.key===" ")&&G()},children:[u("input",{type:"file",ref:B,style:{display:"none"},onChange:ne,accept:"image/*"}),u(te,{icon:"mount",className:o("upload-icon")}),u("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})}):w("div",{className:o("image-preview"),children:[x&&u("img",{src:URL.createObjectURL(x),alt:"Предпросмотр",className:o("preview")}),S&&!x&&u("img",{src:S,alt:"Предпросмотр из источника",className:o("preview")}),u(j,{className:o("remove-image"),type:"button-close",onClick:()=>{C(null),D(null)}})]})]}),w("div",{className:o("form"),children:[u(Ae,{placeholder:"Введите название цели",id:"goal-title",text:"Название цели *",value:l,setValue:c,className:o("field"),required:!0}),u(dt,{className:o("field"),placeholder:"Выберите категорию",options:N.map(J=>({name:J.name,value:J.nameEn})),activeOption:b,onSelect:y,text:"Категория *"}),b!==null&&T.length>0&&u(dt,{className:o("field"),placeholder:"Выберите подкатегорию (необязательно)",options:T.map(J=>({name:J.name,value:J.nameEn})),activeOption:_,onSelect:E,text:"Подкатегория"}),u(dt,{className:o("field"),placeholder:"Выберите сложность",options:ot,activeOption:m,onSelect:g,text:"Сложность *"}),u(Ae,{placeholder:"Опишите цель подробно",id:"goal-description",text:"Описание *",value:d,setValue:f,className:o("field"),type:"textarea",required:!0}),w("div",{className:o("time-field-container"),children:[u(Ae,{placeholder:"Например: 2:30, 3 дня, 5 часов, 30 минут",id:"goal-estimated-time",text:"Предполагаемое время выполнения",value:h,setValue:Re,className:o("field"),type:"text"}),u("small",{className:o("format-hint"),children:"Укажите время в одном из форматов: ЧЧ:ММ (02:30), X дней (3 дня), X часов (5 часов), X минут (30 минут)"})]}),w("div",{className:o("btns-wrapper"),children:[u(j,{theme:"red",className:o("btn"),onClick:ke,type:"button",children:"Удалить цель"}),u(j,{theme:"blue-light",className:o("btn"),onClick:a,type:"button",children:"Отмена"}),u(j,{theme:"blue",className:o("btn"),typeBtn:"submit",children:"Сохранить изменения"})]})]})]}):w("div",{className:o("error-message"),children:[u(te,{icon:"error",className:o("error-icon")}),u("p",{children:I||"Редактирование недоступно"}),u(j,{theme:"blue",onClick:()=>s(-1),type:"button",children:"Вернуться назад"})]})})]})};const Rh=r=>{const{className:n,title:e,theme:t,category:a,complexity:s,totalCompleted:i,isList:o,short:l,categoryRank:c}=r,[d,f]=H("title-with-tags",n);return w("div",{className:d({theme:t}),children:[u(le,{className:f("title",{short:l}),tag:"h1",theme:o?"black":"white",children:e}),!l&&u(Tl,{category:a,medal:c?"Топ ".concat(c," в категории"):void 0,complexity:s,done:i,theme:t})]})},$h=p.forwardRef((r,n)=>{const{className:e,title:t,category:a,image:s,goal:i,background:o,shrink:l,onImageLoad:c}=r,[d,f]=H("header-goal",e),{isScreenMobile:h,isScreenSmallTablet:v}=ic(),m=h||v;return w("header",{ref:n,className:d({category:a.nameEn,shrink:l,mobile:m}),style:{backgroundImage:"url(".concat(o,")")},children:[m&&u("img",{src:s,alt:t,className:f("image"),onLoad:c}),u(Rh,{category:a,complexity:i.complexity,totalCompleted:i.totalCompleted,title:t,className:f("wrapper"),short:l,categoryRank:i.categoryRank})]})});$h.displayName="HeaderGoal";const gx=async r=>{try{return await ge("goals/".concat(r,"/can-edit"),{auth:!0,showSuccessNotification:!1})}catch(n){return console.error("API Error:",n),{success:!1,error:"Не удалось проверить возможность редактирования"}}},yx=async r=>await ge("goals/".concat(r),{auth:!0});const bx=({page:r})=>{const[n,e]=H("goal"),{isScreenMobile:t,isScreenSmallTablet:a}=ic(),s=p.useRef(null),{setId:i}=yi,o=Qr(),l=o==null?void 0:o.id,[c,d]=p.useState(null),[f,h]=p.useState(!1),[v,m]=p.useState(!0),[g,b]=p.useState({can_edit:!1,checked:!1}),{setIsOpen:y,setWindow:_}=ea,{setHeader:E}=Me;p.useEffect(()=>{(async()=>{if(l){m(!0);const O=await yx(l);O.success&&(d(O.data.goal),i(O.data.goal.id)),m(!1)}})()},[l]),p.useEffect(()=>{(async()=>{if(c&&c.createdBy&&!g.checked)try{const $=await gx(l||"");$.success&&$.data&&b({can_edit:$.data.can_edit,checked:!0})}catch($){console.error("Ошибка при проверке возможности редактирования:",$)}})()},[c,l,g.checked]);const x=()=>{_("add-review"),y(!0)},C=async(O,$,F)=>{if(!c)return;const I=await($==="add"?Di(O):$==="delete"?Ti(O):Ba(O,!F,F?void 0:{title:"Цель успешно выполнена!",type:"success",id:c.id.toString(),message:"Добавьте отзыв чтобы заработать больше очков",actionText:"Добавить отзыв",action:x}));if(I.success){const R={addedByUser:$!=="delete",completedByUser:$==="mark"?!F:!1,totalAdded:I.data.totalAdded,totalCompleted:I.data.totalCompleted};d({...c,...R})}},S=O=>{d({...c,...O}),E("transparent"),h(!1)},D=()=>{E("transparent"),h(!1)},[N,k]=p.useState(!1),[T,P]=p.useState(340),L=()=>{s.current?P(s.current.offsetHeight):P(340)};return p.useEffect(()=>{var O;(((O=s==null?void 0:s.current)==null?void 0:O.offsetHeight)||0)>T&&L()},[N,t,a]),p.useEffect(()=>{const O=()=>{var R,A;const $=t,F=((R=s.current)==null?void 0:R.offsetHeight)||($?480:340),I=$?F*.8:160;$?N?window.scrollY<T-(((A=s.current)==null?void 0:A.offsetHeight)||0)&&k(!1):window.scrollY>T-128&&k(!0):window.scrollY>I?k(!0):k(!1)};return setTimeout(()=>{O()},100),window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[t,N]),f&&c?u("main",{className:n({editing:!0}),children:u(vx,{goal:c,onGoalUpdated:S,cancelEdit:D})}):c?w("main",{className:n(),children:[u($h,{ref:s,title:c.title,category:c.category,image:c.image,background:c.image,goal:c,shrink:N,onImageLoad:L}),w("section",{className:e("wrapper"),style:{paddingTop:t?T:0},children:[u(Jp,{className:e("aside",{shrink:N}),title:c.title,image:c.image||"",added:c.addedByUser,updateGoal:C,code:c.code,done:c.completedByUser,openAddReview:x,editGoal:c.createdByUser&&c.isCanEdit?()=>h(!0):void 0,canEdit:c==null?void 0:c.isCanEdit}),u(px,{page:r,goal:c,className:e("content")})]})]}):u(Xe,{isLoading:v})},od=({page:r})=>{const{setHeader:n,setPage:e,setFull:t}=Me;return p.useEffect(()=>{n("transparent"),e(r),t(!0)},[]),u(bx,{page:r})};const wx=r=>{const{className:n,list:e,horizontal:t,columns:a="three",updateGoal:s}=r,[i,o]=H("list",n);return u("section",{className:i(),children:e.map((l,c)=>u(Br,{goal:l,className:o("goal",{columns:a}),horizontal:t,onClickAdd:()=>s(l.code,c,"add"),onClickDelete:()=>s(l.code,c,"delete"),onClickMark:()=>s(l.code,c,"mark",l.completedByUser)},l.code))})},_x=r=>{const{className:n,list:e,updateGoal:t}=r,[a,s]=H("content-list-goals",n);return w("article",{className:a(),children:[u(Rh,{title:e.title,category:e.category,complexity:e.complexity,className:s("title"),totalCompleted:e.totalCompleted,isList:!0,theme:"light"}),u(Ih,{isList:!0,goal:e,className:s("description")}),e.addedByUser&&u(Vi,{className:s("info"),items:[{title:"Всего целей",value:e.goalsCount},{title:"Выполнено",value:e.userCompletedGoals}],progress:!0,horizontal:!0,progressData:{completed:e.userCompletedGoals,total:e.goalsCount}}),u(wx,{list:e.goals,updateGoal:t,columns:"three"})]})},Fh=async r=>await ge(r,{auth:!0}),Sx=async r=>await gt("goal-lists/".concat(r,"/mark-all"),{auth:!0});const Ex=()=>{const[r,n]=H("list-goals-container"),[e,t]=p.useState(null),[a,s]=p.useState(!0),i=Qr(),o=i==null?void 0:i.id;p.useEffect(()=>{(async()=>{s(!0);const d=await Fh("goal-lists/".concat(o));d.success&&t(d.data.list),s(!1)})()},[o]);const l=async(d,f)=>{const h=await(f==="add"?ki(d):f==="delete"?Pi(d):Sx(d));return h.success?(t({...e,...h.data}),!0):h.success},c=async(d,f,h,v)=>{const m=await(h==="add"?Di(d):h==="delete"?Ti(d):Ba(d,!v));if(m.success&&e){const g={...e.goals[f],addedByUser:h!=="delete",completedByUser:h==="mark"?!v:e.goals[f].completedByUser,totalAdded:m.data.users_added_count},b=[...e.goals];b[f]=g;let{userCompletedGoals:y}=e;h==="mark"&&!v&&!e.goals[f].completedByUser?y+=1:h==="mark"&&v&&e.goals[f].completedByUser&&(y-=1);const _=y===e.goalsCount;t({...e,goals:b,userCompletedGoals:y,completedByUser:_,totalCompleted:_?e.totalCompleted+1:e.totalCompleted})}};return e?u("main",{className:r(),children:w("article",{className:n("wrapper"),children:[u(Jp,{className:n("aside"),title:e.title,image:e.image,updateGoal:l,added:e.addedByUser,code:e.code,isList:!0,done:e.completedByUser,canEdit:e.isCanEdit||e.isCanAddGoals}),u(_x,{className:n("content"),list:e,updateGoal:c})]})}):u(Xe,{isLoading:a})},Nx=({page:r})=>{const{setHeader:n,setPage:e,setFull:t}=Me;return p.useEffect(()=>{n("white"),e(r),t(!0)},[]),u(Ex,{})},Cx=async(r,n)=>ta("goal-lists/".concat(r,"/update"),{auth:!0,file:!0,body:n,showSuccessNotification:!1,error:{type:"error",title:"Ошибка",message:"Не удалось обновить список целей"}});const xx=r=>{var de;const{className:n,listData:e,canEditAll:t}=r,a=ln(),[s,i]=H("edit-goal-list",n),[o,l]=p.useState(e.title||""),[c,d]=p.useState(e.description||""),[f,h]=p.useState(null),[v,m]=p.useState(null),[g,b]=p.useState(null),[y,_]=p.useState(null),[E,x]=p.useState(e.image||""),[C,S]=p.useState([]),[D,N]=p.useState([]),[k,T]=p.useState(!1),[P,L]=p.useState(!1),O=p.useRef(null),[$,F]=p.useState((e==null?void 0:e.goals)||[]),[I,R]=p.useState(""),[A,B]=p.useState([]),[,K]=p.useState(!1),[G,ne]=p.useState(!1);p.useEffect(()=>{const Y=ot.findIndex(ue=>ue.value===e.complexity);Y!==-1&&h(Y)},[e]);const ce=Y=>{l(Y)};p.useEffect(()=>{(async()=>{try{const ue=await jn();if(ue.success){S(ue.data);const me=ue.data.findIndex(st=>st.id===e.category.id);me!==-1&&m(me)}}catch(ue){re.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[e.category.id]),p.useEffect(()=>{v!==null&&(async()=>{const ue=await $n(C[v].nameEn);if(ue.success&&(N(ue.data.subcategories),e.category.parentCategory)){const me=ue.data.subcategories.findIndex(st=>st.id===e.category.id);me!==-1&&b(me)}})()},[v,C,e.category.id,(de=e.category)==null?void 0:de.parentCategory]),p.useEffect(()=>{ne(v!==null)},[v]);const Ce=p.useCallback(ac(async Y=>{var ue;if(Y.length<3){B([]),K(!1);return}try{const me=await rc(Y);if(me.success&&((ue=me.data)!=null&&ue.results)){const st=me.data.results.filter(fn=>!$.some(sa=>sa.id===fn.id));B(st)}}catch(me){console.error("Ошибка при поиске целей:",me)}finally{K(!1)}},500),[$]);p.useEffect(()=>{I?(K(!0),Ce(I)):B([])},[I,Ce]);const ke=p.useCallback(Y=>{Y&&Y.length>0&&(_(Y[0]),x(URL.createObjectURL(Y[0])))},[]),Re=()=>{O.current&&t&&O.current.click()},J=Y=>{Y.target.files&&ke(Y.target.files)},oe=()=>{t&&(_(null),x(e.image))},he=Y=>{F(ue=>[...ue,Y]),B(ue=>ue.filter(me=>me.id!==Y.id)),R("")},Se=Y=>{F(ue=>ue.filter(me=>me.id!==Y))},Ze=Y=>{F(ue=>[...ue,Y]),L(!1),re.addNotification({type:"success",title:"Успех",message:"Цель успешно добавлена в список"})},q=Y=>{Y.preventDefault(),Y.stopPropagation()},ee=async Y=>{var ue;if(Y.preventDefault(),t&&(!o||!c||f===null||v===null)){re.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}if($.length===0){re.addNotification({type:"error",title:"Ошибка",message:"Список целей не может быть пустым"});return}T(!0);try{const me=new FormData;t&&(me.append("title",o),me.append("description",c),f!==null&&me.append("complexity",ot[f].value),g!==null?me.append("category",D[g].id.toString()):v!==null&&me.append("category",C[v].id.toString()),y&&me.append("image",y)),$.forEach(fn=>{me.append("goals[]",fn.id.toString())});const st=await Cx(e.code,me);if(st.success)re.addNotification({type:"success",title:"Успех",message:"Список целей успешно обновлен"}),a("/list/".concat((ue=st==null?void 0:st.data)==null?void 0:ue.code));else throw new Error(st.error||"Неизвестная ошибка")}catch(me){re.addNotification({type:"error",title:"Ошибка",message:me instanceof Error?me.message:"Не удалось обновить список целей"})}finally{T(!1)}};return w("form",{className:s(),onSubmit:ee,children:[u(le,{tag:"h1",className:i("title"),children:t?"Редактирование списка целей":"Добавление целей в список"}),w("div",{className:i("content"),children:[w("div",{className:i("image-section"),children:[u("p",{className:i("field-title"),children:"Изображение списка"}),E?w("div",{className:i("image-preview"),children:[u("img",{src:E,alt:"Предпросмотр",className:i("preview")}),t&&u("button",{type:"button",className:i("remove-image"),onClick:oe,"aria-label":"Удалить изображение",onKeyDown:Y=>{(Y.key==="Enter"||Y.key===" ")&&oe()},children:u(te,{icon:"cross"})})]}):u("div",{className:i("dropzone",{disabled:!t}),children:u(lr,{onDrop:Y=>Y&&t&&ke(Y),children:w("div",{className:i("upload-placeholder"),onClick:Re,role:"button",tabIndex:t?0:-1,"aria-label":"Добавить изображение","aria-disabled":!t,onKeyPress:Y=>{t&&(Y.key==="Enter"||Y.key===" ")&&Re()},children:[u("input",{type:"file",ref:O,style:{display:"none"},onChange:J,accept:"image/*",disabled:!t}),u(te,{icon:"mount",className:i("upload-icon")}),u("p",{children:t?"Перетащите изображение сюда или кликните для выбора":"Изображение нельзя изменить (прошло более 24 часов после создания)"})]})})})]}),w("div",{className:i("form"),children:[t&&w(ct,{children:[u("div",{className:i("field-wrapper"),children:u(Ae,{placeholder:"Введите название списка целей",id:"goal-list-title",text:"Название списка *",value:o,setValue:ce,className:i("field"),required:!0})}),u(dt,{className:i("field"),placeholder:"Выберите категорию",options:C.map(Y=>({name:Y.name,value:Y.nameEn})),activeOption:v,onSelect:m,text:"Категория *"}),v!==null&&D.length>0&&u(dt,{className:i("field"),placeholder:"Выберите подкатегорию (необязательно)",options:D.map(Y=>({name:Y.name,value:Y.nameEn})),activeOption:g,onSelect:b,text:"Подкатегория"}),u(dt,{className:i("field"),placeholder:"Выберите сложность",options:ot,activeOption:f,onSelect:h,text:"Сложность *"}),u(Ae,{placeholder:"Опишите список целей подробно",id:"goal-list-description",text:"Описание *",value:c,setValue:d,className:i("field"),type:"textarea",required:!0})]}),w("div",{className:i("goals-section"),children:[u(le,{tag:"h2",className:i("subtitle"),children:t?"Редактирование целей списка":"Добавление целей в список"}),w("div",{className:i("search-container"),children:[u(Ae,{placeholder:"Поиск существующих целей",id:"goal-search",text:"Поиск целей",value:I,setValue:R,className:i("search-field"),iconBegin:"search"}),A.length>0&&u("div",{className:i("search-results"),children:A.map(Y=>u(Xp,{goal:Y,onAdd:he},Y.id))})]}),w("div",{className:i("selected-goals"),children:[w("h3",{className:i("section-title"),children:["Выбранные цели ",$.length]}),$.length>0?u("div",{className:i("goals-list"),children:$.map(Y=>w("div",{className:i("goal-item"),children:[w("div",{className:i("goal-content"),children:[u("div",{className:i("goal-image-container"),children:Y.image?u("img",{src:Y.image,alt:Y.title,className:i("goal-image")}):u("div",{className:i("goal-no-image"),children:u(te,{icon:"mount"})})}),w("div",{className:i("goal-info"),children:[u("h4",{className:i("goal-title"),children:Y.title}),u("p",{className:i("goal-complexity"),children:bi[Y.complexity]}),u("p",{className:i("goal-description"),children:Y.shortDescription})]})]}),u("button",{type:"button",className:i("goal-remove-btn"),onClick:()=>Se(Y.id),"aria-label":"Удалить цель",onKeyDown:ue=>{(ue.key==="Enter"||ue.key===" ")&&Se(Y.id)},children:u(te,{icon:"cross"})})]},Y.id))}):u("div",{className:i("empty-message"),children:"Вы еще не добавили ни одной цели. Воспользуйтесь поиском или создайте новую цель."})]}),u("div",{className:i("add-new-goal"),children:P?w("div",{className:i("new-goal-form"),children:[u(le,{tag:"h3",className:i("form-title"),children:"Создание новой цели"}),u("div",{className:i("embedded-add-goal-wrapper"),children:u(sc,{className:i("embedded-add-goal"),onGoalCreated:Ze,hideNavigation:!0,noForm:!0,onSubmitForm:q,initialCategory:g!==null?D[g]:C[v],lockCategory:!0,preloadedCategories:C,preloadedSubcategories:D})}),u("div",{className:i("form-buttons"),children:u(j,{theme:"blue-light",className:i("cancel-btn"),onClick:()=>L(!1),type:"button",children:"Отмена"})})]}):u(j,{theme:"blue-light",className:i("add-goal-btn"),onClick:()=>{G?L(!0):re.addNotification({type:"warning",title:"Внимание",message:"Для создания цели необходимо сначала выбрать категорию списка"})},type:"button",icon:"plus",children:"Создать новую цель"})})]}),w("div",{className:i("btns-wrapper"),children:[u(j,{theme:"blue-light",className:i("btn"),onClick:()=>a(-1),type:"button",children:"Отмена"}),u(j,{theme:"blue",className:i("btn"),typeBtn:"submit",children:k?"Сохранение...":"Сохранить изменения"})]})]})]})]})},Dx=({page:r})=>{const[n,e]=p.useState(!0),[t,a]=p.useState({}),{setFull:s,setHeader:i,setPage:o}=Me;p.useEffect(()=>{i("white"),o(r),s(!1)},[]);const l=ln(),{id:c}=Qr();return p.useEffect(()=>{(async()=>{if(!c){l("/");return}try{e(!0);const f=await Fh("goal-lists/".concat(c));if(!f.success)throw new Error(f.error||"Невозможно загрузить список");if(!f.data.list.isCanEdit){re.addNotification({type:"error",title:"Ошибка",message:"Вы не можете редактировать этот список"}),l("/list/".concat(c));return}a(f.data.list)}catch(f){re.addNotification({type:"error",title:"Ошибка",message:f instanceof Error?f.message:"Произошла ошибка при загрузке данных"}),l("/")}finally{e(!1)}})()},[c]),n?u(Xe,{isLoading:n}):u(xx,{listData:t,canEditAll:t==null?void 0:t.isCanEdit})};const kx=r=>{const{users:n,className:e}=r,[t,a]=H("leader-board",e);return u("section",{className:t(),children:w("table",{className:a("table"),children:[u("thead",{className:a("header"),children:w("tr",{children:[u("th",{className:a("head-item"),children:"#"}),u("th",{className:a("head-item"),children:"Пользователь"}),u("th",{className:a("head-item"),children:"Целей выполнено"}),u("th",{className:a("head-item"),children:"Добавлено отзывов"}),u("th",{className:a("head-item"),children:"Опыта заработано"})]})}),u("tbody",{children:n.map(s=>w("tr",{className:a("row"),children:[u("td",{className:a("item"),children:s.place}),u("td",{className:a("item"),children:w(xe,{to:"/user/".concat(s.id,"/showcase"),className:a("row-link"),children:[u(na,{noBorder:!0,className:a("avatar"),size:"medium",avatar:s.avatar}),u("p",{children:s.name}),w("p",{className:a("info"),children:[ht(s.level,["уровень"])," ",ht(s.totalCompletedGoals,["цель выполнена","цели выполнено","целей выполнено"])]})]})}),u("td",{className:a("item"),children:s.weekCompletedGoals}),u("td",{className:a("item"),children:s.reviewsAddedWeek}),u("td",{className:a("item"),children:s.experienceEarnedWeek})]},s.id))})]})})};const Tx=r=>{const{users:n}=r,[e,t]=H("leader-pedestal");return u("section",{className:e(),children:n.map((a,s)=>w("div",{className:t("user"),children:[u(na,{noBorder:!0,className:t("avatar"),size:s===0?"large-96":s===1?"medium-56":"medium",avatar:a.avatar}),u("p",{className:t("name"),children:a.name}),u("p",{className:t("experience"),children:ht(a.experienceEarnedWeek,["опыт","опыта","опыта"])}),w("p",{className:t("place"),children:[u(te,{icon:"award"}),a.place," место"]})]},a.id))})},Px=async()=>await ge("leaders/weekly");const Ox=()=>{const[r,n]=H("leaders"),[e,t]=p.useState([]),[a,s]=p.useState(py),[i,o]=p.useState(!0);return p.useEffect(()=>{(async()=>{o(!0);const l=await Px();l.success&&(t(l.data.leaders),s(l.data.totalStats)),o(!1)})()},[]),w(Xe,{isLoading:i,className:r(),children:[w("div",{className:n("wrapper"),children:[u(le,{className:n("title"),tag:"h1",children:"Лидеры прошлой недели"}),u("p",{className:n("description"),children:"Выполняйте цели, пишите отзывы, зарабатывайте очки и попадайте в число лучших пользователей за неделю. Соревнуйтесь с другими и зарабатывайте награды в свой профиль. Покажите всем, что вы живёте полной жизнью!"}),u(Vi,{className:n("info"),items:[{title:"Целей выполнено",value:a.goalsCompleted},{title:"Добавлено отзывов",value:a.reviewsAdded},{title:"Опыта заработано",value:a.experienceEarned}],backgroundOff:!0})]}),e.length>0?w(ct,{children:[u(Tx,{users:e.slice(0,3)}),u(kx,{className:n("board"),users:e})]}):u("div",{className:n("empty"),children:"Никто еще не стал лидером недели. Но вы можете стать им!"})]})},Mx=({page:r})=>{const{setPage:n,setHeader:e,setFull:t}=Me;return p.useEffect(()=>{n(r),e("white"),t(!1)},[r,n,e,t]),u(Ox,{})},Lx=({page:r})=>{const{setHeader:n,setPage:e,setFull:t}=Me,{setName:a,setIsAuth:s,setAvatar:i}=Wt,o=ln(),l=c=>{Ve.set("name",c.name||""),a(c.name||""),s(!0),i(Ve.get("avatar")||""),o("/list/100-goals")};return p.useEffect(()=>{n("white"),e(r),t(!0)},[]),u($f,{isPage:!0,openRegistration:()=>o("/sign-up"),successLogin:l})};function ld(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function fc(r,n){r===void 0&&(r={}),n===void 0&&(n={});const e=["__proto__","constructor","prototype"];Object.keys(n).filter(t=>e.indexOf(t)<0).forEach(t=>{typeof r[t]>"u"?r[t]=n[t]:ld(n[t])&&ld(r[t])&&Object.keys(n[t]).length>0&&fc(r[t],n[t])})}const Gh={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function wr(){const r=typeof document<"u"?document:{};return fc(r,Gh),r}const Ax={document:Gh,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame(r){typeof setTimeout>"u"||clearTimeout(r)}};function yt(){const r=typeof window<"u"?window:{};return fc(r,Ax),r}function Ix(r){return r===void 0&&(r=""),r.trim().split(" ").filter(n=>!!n.trim())}function Rx(r){const n=r;Object.keys(n).forEach(e=>{try{n[e]=null}catch(t){}try{delete n[e]}catch(t){}})}function ul(r,n){return n===void 0&&(n=0),setTimeout(r,n)}function si(){return Date.now()}function $x(r){const n=yt();let e;return n.getComputedStyle&&(e=n.getComputedStyle(r,null)),!e&&r.currentStyle&&(e=r.currentStyle),e||(e=r.style),e}function Fx(r,n){n===void 0&&(n="x");const e=yt();let t,a,s;const i=$x(r);return e.WebKitCSSMatrix?(a=i.transform||i.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(o=>o.replace(",",".")).join(", ")),s=new e.WebKitCSSMatrix(a==="none"?"":a)):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=s.toString().split(",")),n==="x"&&(e.WebKitCSSMatrix?a=s.m41:t.length===16?a=parseFloat(t[12]):a=parseFloat(t[4])),n==="y"&&(e.WebKitCSSMatrix?a=s.m42:t.length===16?a=parseFloat(t[13]):a=parseFloat(t[5])),a||0}function gs(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"}function Gx(r){return typeof window<"u"&&typeof window.HTMLElement<"u"?r instanceof HTMLElement:r&&(r.nodeType===1||r.nodeType===11)}function _t(){const r=Object(arguments.length<=0?void 0:arguments[0]),n=["__proto__","constructor","prototype"];for(let e=1;e<arguments.length;e+=1){const t=e<0||arguments.length<=e?void 0:arguments[e];if(t!=null&&!Gx(t)){const a=Object.keys(Object(t)).filter(s=>n.indexOf(s)<0);for(let s=0,i=a.length;s<i;s+=1){const o=a[s],l=Object.getOwnPropertyDescriptor(t,o);l!==void 0&&l.enumerable&&(gs(r[o])&&gs(t[o])?t[o].__swiper__?r[o]=t[o]:_t(r[o],t[o]):!gs(r[o])&&gs(t[o])?(r[o]={},t[o].__swiper__?r[o]=t[o]:_t(r[o],t[o])):r[o]=t[o])}}}return r}function ys(r,n,e){r.style.setProperty(n,e)}function Bh(r){let{swiper:n,targetPosition:e,side:t}=r;const a=yt(),s=-n.translate;let i=null,o;const l=n.params.speed;n.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(n.cssModeFrameID);const c=e>s?"next":"prev",d=(h,v)=>c==="next"&&h>=v||c==="prev"&&h<=v,f=()=>{o=new Date().getTime(),i===null&&(i=o);const h=Math.max(Math.min((o-i)/l,1),0),v=.5-Math.cos(h*Math.PI)/2;let m=s+v*(e-s);if(d(m,e)&&(m=e),n.wrapperEl.scrollTo({[t]:m}),d(m,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:m})}),a.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=a.requestAnimationFrame(f)};f()}function tn(r,n){n===void 0&&(n="");const e=yt(),t=[...r.children];return e.HTMLSlotElement&&r instanceof HTMLSlotElement&&t.push(...r.assignedElements()),n?t.filter(a=>a.matches(n)):t}function Bx(r,n){const e=[n];for(;e.length>0;){const t=e.shift();if(r===t)return!0;e.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}function Wx(r,n){const e=yt();let t=n.contains(r);return!t&&e.HTMLSlotElement&&n instanceof HTMLSlotElement&&(t=[...n.assignedElements()].includes(r),t||(t=Bx(r,n))),t}function ii(r){try{console.warn(r);return}catch(n){}}function oi(r,n){n===void 0&&(n=[]);const e=document.createElement(r);return e.classList.add(...Array.isArray(n)?n:Ix(n)),e}function Hx(r,n){const e=[];for(;r.previousElementSibling;){const t=r.previousElementSibling;n?t.matches(n)&&e.push(t):e.push(t),r=t}return e}function Yx(r,n){const e=[];for(;r.nextElementSibling;){const t=r.nextElementSibling;n?t.matches(n)&&e.push(t):e.push(t),r=t}return e}function Gn(r,n){return yt().getComputedStyle(r,null).getPropertyValue(n)}function cd(r){let n=r,e;if(n){for(e=0;(n=n.previousSibling)!==null;)n.nodeType===1&&(e+=1);return e}}function Vx(r,n){const e=[];let t=r.parentElement;for(;t;)n?t.matches(n)&&e.push(t):e.push(t),t=t.parentElement;return e}function ud(r,n,e){const t=yt();return e?r[n==="width"?"offsetWidth":"offsetHeight"]+parseFloat(t.getComputedStyle(r,null).getPropertyValue(n==="width"?"margin-right":"margin-top"))+parseFloat(t.getComputedStyle(r,null).getPropertyValue(n==="width"?"margin-left":"margin-bottom")):r.offsetWidth}function vn(r){return(Array.isArray(r)?r:[r]).filter(n=>!!n)}function jx(r,n,e,t){return r.params.createElements&&Object.keys(t).forEach(a=>{if(!e[a]&&e.auto===!0){let s=tn(r.el,".".concat(t[a]))[0];s||(s=oi("div",t[a]),s.className=t[a],r.el.append(s)),e[a]=s,n[a]=s}}),e}function Ux(r){let{swiper:n,extendParams:e,on:t,emit:a}=r;e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,prevEl:null};function s(m){let g;return m&&typeof m=="string"&&n.isElement&&(g=n.el.querySelector(m)||n.hostEl.querySelector(m),g)?g:(m&&(typeof m=="string"&&(g=[...document.querySelectorAll(m)]),n.params.uniqueNavElements&&typeof m=="string"&&g&&g.length>1&&n.el.querySelectorAll(m).length===1?g=n.el.querySelector(m):g&&g.length===1&&(g=g[0])),m&&!g?m:g)}function i(m,g){const b=n.params.navigation;m=vn(m),m.forEach(y=>{y&&(y.classList[g?"add":"remove"](...b.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=g),n.params.watchOverflow&&n.enabled&&y.classList[n.isLocked?"add":"remove"](b.lockClass))})}function o(){const{nextEl:m,prevEl:g}=n.navigation;if(n.params.loop){i(g,!1),i(m,!1);return}i(g,n.isBeginning&&!n.params.rewind),i(m,n.isEnd&&!n.params.rewind)}function l(m){m.preventDefault(),!(n.isBeginning&&!n.params.loop&&!n.params.rewind)&&(n.slidePrev(),a("navigationPrev"))}function c(m){m.preventDefault(),!(n.isEnd&&!n.params.loop&&!n.params.rewind)&&(n.slideNext(),a("navigationNext"))}function d(){const m=n.params.navigation;if(n.params.navigation=jx(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let g=s(m.nextEl),b=s(m.prevEl);Object.assign(n.navigation,{nextEl:g,prevEl:b}),g=vn(g),b=vn(b);const y=(_,E)=>{_&&_.addEventListener("click",E==="next"?c:l),!n.enabled&&_&&_.classList.add(...m.lockClass.split(" "))};g.forEach(_=>y(_,"next")),b.forEach(_=>y(_,"prev"))}function f(){let{nextEl:m,prevEl:g}=n.navigation;m=vn(m),g=vn(g);const b=(y,_)=>{y.removeEventListener("click",_==="next"?c:l),y.classList.remove(...n.params.navigation.disabledClass.split(" "))};m.forEach(y=>b(y,"next")),g.forEach(y=>b(y,"prev"))}t("init",()=>{n.params.navigation.enabled===!1?v():(d(),o())}),t("toEdge fromEdge lock unlock",()=>{o()}),t("destroy",()=>{f()}),t("enable disable",()=>{let{nextEl:m,prevEl:g}=n.navigation;if(m=vn(m),g=vn(g),n.enabled){o();return}[...m,...g].filter(b=>!!b).forEach(b=>b.classList.add(n.params.navigation.lockClass))}),t("click",(m,g)=>{let{nextEl:b,prevEl:y}=n.navigation;b=vn(b),y=vn(y);const _=g.target;let E=y.includes(_)||b.includes(_);if(n.isElement&&!E){const x=g.path||g.composedPath&&g.composedPath();x&&(E=x.find(C=>b.includes(C)||y.includes(C)))}if(n.params.navigation.hideOnClick&&!E){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===_||n.pagination.el.contains(_)))return;let x;b.length?x=b[0].classList.contains(n.params.navigation.hiddenClass):y.length&&(x=y[0].classList.contains(n.params.navigation.hiddenClass)),a(x===!0?"navigationShow":"navigationHide"),[...b,...y].filter(C=>!!C).forEach(C=>C.classList.toggle(n.params.navigation.hiddenClass))}});const h=()=>{n.el.classList.remove(...n.params.navigation.navigationDisabledClass.split(" ")),d(),o()},v=()=>{n.el.classList.add(...n.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(n.navigation,{enable:h,disable:v,update:o,init:d,destroy:f})}let Do;function zx(){const r=yt(),n=wr();return{smoothScroll:n.documentElement&&n.documentElement.style&&"scrollBehavior"in n.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&n instanceof r.DocumentTouch)}}function Wh(){return Do||(Do=zx()),Do}let ko;function qx(r){let{userAgent:n}=r===void 0?{}:r;const e=Wh(),t=yt(),a=t.navigator.platform,s=n||t.navigator.userAgent,i={ios:!1,android:!1},o=t.screen.width,l=t.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=a==="Win32";let m=a==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&m&&e.touch&&g.indexOf("".concat(o,"x").concat(l))>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),c&&!v&&(i.os="android",i.android=!0),(d||h||f)&&(i.os="ios",i.ios=!0),i}function Hh(r){return r===void 0&&(r={}),ko||(ko=qx(r)),ko}let To;function Kx(){const r=yt(),n=Hh();let e=!1;function t(){const o=r.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(t()){const o=String(r.navigator.userAgent);if(o.includes("Version/")){const[l,c]=o.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));e=l<16||l===16&&c<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent),s=t(),i=s||a&&n.ios;return{isSafari:e||s,needPerspectiveFix:e,need3dFix:i,isWebView:a}}function Yh(){return To||(To=Kx()),To}function Qx(r){let{swiper:n,on:e,emit:t}=r;const a=yt();let s=null,i=null;const o=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},l=()=>{!n||n.destroyed||!n.initialized||(s=new ResizeObserver(f=>{i=a.requestAnimationFrame(()=>{const{width:h,height:v}=n;let m=h,g=v;f.forEach(b=>{let{contentBoxSize:y,contentRect:_,target:E}=b;E&&E!==n.el||(m=_?_.width:(y[0]||y).inlineSize,g=_?_.height:(y[0]||y).blockSize)}),(m!==h||g!==v)&&o()})}),s.observe(n.el))},c=()=>{i&&a.cancelAnimationFrame(i),s&&s.unobserve&&n.el&&(s.unobserve(n.el),s=null)},d=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof a.ResizeObserver<"u"){l();return}a.addEventListener("resize",o),a.addEventListener("orientationchange",d)}),e("destroy",()=>{c(),a.removeEventListener("resize",o),a.removeEventListener("orientationchange",d)})}function Xx(r){let{swiper:n,extendParams:e,on:t,emit:a}=r;const s=[],i=yt(),o=function(d,f){f===void 0&&(f={});const h=i.MutationObserver||i.WebkitMutationObserver,v=new h(m=>{if(n.__preventObserver__)return;if(m.length===1){a("observerUpdate",m[0]);return}const g=function(){a("observerUpdate",m[0])};i.requestAnimationFrame?i.requestAnimationFrame(g):i.setTimeout(g,0)});v.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:n.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(v)},l=()=>{if(n.params.observer){if(n.params.observeParents){const d=Vx(n.hostEl);for(let f=0;f<d.length;f+=1)o(d[f])}o(n.hostEl,{childList:n.params.observeSlideChildren}),o(n.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",l),t("destroy",c)}var Zx={on(r,n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const a=e?"unshift":"push";return r.split(" ").forEach(s=>{t.eventsListeners[s]||(t.eventsListeners[s]=[]),t.eventsListeners[s][a](n)}),t},once(r,n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;function a(){t.off(r,a),a.__emitterProxy&&delete a.__emitterProxy;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];n.apply(t,i)}return a.__emitterProxy=n,t.on(r,a,e)},onAny(r,n){const e=this;if(!e.eventsListeners||e.destroyed||typeof r!="function")return e;const t=n?"unshift":"push";return e.eventsAnyListeners.indexOf(r)<0&&e.eventsAnyListeners[t](r),e},offAny(r){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsAnyListeners)return n;const e=n.eventsAnyListeners.indexOf(r);return e>=0&&n.eventsAnyListeners.splice(e,1),n},off(r,n){const e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||r.split(" ").forEach(t=>{typeof n>"u"?e.eventsListeners[t]=[]:e.eventsListeners[t]&&e.eventsListeners[t].forEach((a,s)=>{(a===n||a.__emitterProxy&&a.__emitterProxy===n)&&e.eventsListeners[t].splice(s,1)})}),e},emit(){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;let n,e,t;for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return typeof s[0]=="string"||Array.isArray(s[0])?(n=s[0],e=s.slice(1,s.length),t=r):(n=s[0].events,e=s[0].data,t=s[0].context||r),e.unshift(t),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(c=>{c.apply(t,[l,...e])}),r.eventsListeners&&r.eventsListeners[l]&&r.eventsListeners[l].forEach(c=>{c.apply(t,e)})}),r}};function Jx(){const r=this;let n,e;const t=r.el;typeof r.params.width<"u"&&r.params.width!==null?n=r.params.width:n=t.clientWidth,typeof r.params.height<"u"&&r.params.height!==null?e=r.params.height:e=t.clientHeight,!(n===0&&r.isHorizontal()||e===0&&r.isVertical())&&(n=n-parseInt(Gn(t,"padding-left")||0,10)-parseInt(Gn(t,"padding-right")||0,10),e=e-parseInt(Gn(t,"padding-top")||0,10)-parseInt(Gn(t,"padding-bottom")||0,10),Number.isNaN(n)&&(n=0),Number.isNaN(e)&&(e=0),Object.assign(r,{width:n,height:e,size:r.isHorizontal()?n:e}))}function eD(){const r=this;function n(T,P){return parseFloat(T.getPropertyValue(r.getDirectionLabel(P))||0)}const e=r.params,{wrapperEl:t,slidesEl:a,size:s,rtlTranslate:i,wrongRTL:o}=r,l=r.virtual&&e.virtual.enabled,c=l?r.virtual.slides.length:r.slides.length,d=tn(a,".".concat(r.params.slideClass,", swiper-slide")),f=l?r.virtual.slides.length:d.length;let h=[];const v=[],m=[];let g=e.slidesOffsetBefore;typeof g=="function"&&(g=e.slidesOffsetBefore.call(r));let b=e.slidesOffsetAfter;typeof b=="function"&&(b=e.slidesOffsetAfter.call(r));const y=r.snapGrid.length,_=r.slidesGrid.length;let E=e.spaceBetween,x=-g,C=0,S=0;if(typeof s>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*s:typeof E=="string"&&(E=parseFloat(E)),r.virtualSize=-E,d.forEach(T=>{i?T.style.marginLeft="":T.style.marginRight="",T.style.marginBottom="",T.style.marginTop=""}),e.centeredSlides&&e.cssMode&&(ys(t,"--swiper-centered-offset-before",""),ys(t,"--swiper-centered-offset-after",""));const D=e.grid&&e.grid.rows>1&&r.grid;D?r.grid.initSlides(d):r.grid&&r.grid.unsetSlides();let N;const k=e.slidesPerView==="auto"&&e.breakpoints&&Object.keys(e.breakpoints).filter(T=>typeof e.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<f;T+=1){N=0;let P;if(d[T]&&(P=d[T]),D&&r.grid.updateSlide(T,P,d),!(d[T]&&Gn(P,"display")==="none")){if(e.slidesPerView==="auto"){k&&(d[T].style[r.getDirectionLabel("width")]="");const L=getComputedStyle(P),O=P.style.transform,$=P.style.webkitTransform;if(O&&(P.style.transform="none"),$&&(P.style.webkitTransform="none"),e.roundLengths)N=r.isHorizontal()?ud(P,"width",!0):ud(P,"height",!0);else{const F=n(L,"width"),I=n(L,"padding-left"),R=n(L,"padding-right"),A=n(L,"margin-left"),B=n(L,"margin-right"),K=L.getPropertyValue("box-sizing");if(K&&K==="border-box")N=F+A+B;else{const{clientWidth:G,offsetWidth:ne}=P;N=F+I+R+A+B+(ne-G)}}O&&(P.style.transform=O),$&&(P.style.webkitTransform=$),e.roundLengths&&(N=Math.floor(N))}else N=(s-(e.slidesPerView-1)*E)/e.slidesPerView,e.roundLengths&&(N=Math.floor(N)),d[T]&&(d[T].style[r.getDirectionLabel("width")]="".concat(N,"px"));d[T]&&(d[T].swiperSlideSize=N),m.push(N),e.centeredSlides?(x=x+N/2+C/2+E,C===0&&T!==0&&(x=x-s/2-E),T===0&&(x=x-s/2-E),Math.abs(x)<1/1e3&&(x=0),e.roundLengths&&(x=Math.floor(x)),S%e.slidesPerGroup===0&&h.push(x),v.push(x)):(e.roundLengths&&(x=Math.floor(x)),(S-Math.min(r.params.slidesPerGroupSkip,S))%r.params.slidesPerGroup===0&&h.push(x),v.push(x),x=x+N+E),r.virtualSize+=N+E,C=N,S+=1}}if(r.virtualSize=Math.max(r.virtualSize,s)+b,i&&o&&(e.effect==="slide"||e.effect==="coverflow")&&(t.style.width="".concat(r.virtualSize+E,"px")),e.setWrapperSize&&(t.style[r.getDirectionLabel("width")]="".concat(r.virtualSize+E,"px")),D&&r.grid.updateWrapperSize(N,h),!e.centeredSlides){const T=[];for(let P=0;P<h.length;P+=1){let L=h[P];e.roundLengths&&(L=Math.floor(L)),h[P]<=r.virtualSize-s&&T.push(L)}h=T,Math.floor(r.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(r.virtualSize-s)}if(l&&e.loop){const T=m[0]+E;if(e.slidesPerGroup>1){const P=Math.ceil((r.virtual.slidesBefore+r.virtual.slidesAfter)/e.slidesPerGroup),L=T*e.slidesPerGroup;for(let O=0;O<P;O+=1)h.push(h[h.length-1]+L)}for(let P=0;P<r.virtual.slidesBefore+r.virtual.slidesAfter;P+=1)e.slidesPerGroup===1&&h.push(h[h.length-1]+T),v.push(v[v.length-1]+T),r.virtualSize+=T}if(h.length===0&&(h=[0]),E!==0){const T=r.isHorizontal()&&i?"marginLeft":r.getDirectionLabel("marginRight");d.filter((P,L)=>!e.cssMode||e.loop?!0:L!==d.length-1).forEach(P=>{P.style[T]="".concat(E,"px")})}if(e.centeredSlides&&e.centeredSlidesBounds){let T=0;m.forEach(L=>{T+=L+(E||0)}),T-=E;const P=T>s?T-s:0;h=h.map(L=>L<=0?-g:L>P?P+b:L)}if(e.centerInsufficientSlides){let T=0;m.forEach(L=>{T+=L+(E||0)}),T-=E;const P=(e.slidesOffsetBefore||0)+(e.slidesOffsetAfter||0);if(T+P<s){const L=(s-T-P)/2;h.forEach((O,$)=>{h[$]=O-L}),v.forEach((O,$)=>{v[$]=O+L})}}if(Object.assign(r,{slides:d,snapGrid:h,slidesGrid:v,slidesSizesGrid:m}),e.centeredSlides&&e.cssMode&&!e.centeredSlidesBounds){ys(t,"--swiper-centered-offset-before","".concat(-h[0],"px")),ys(t,"--swiper-centered-offset-after","".concat(r.size/2-m[m.length-1]/2,"px"));const T=-r.snapGrid[0],P=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(L=>L+T),r.slidesGrid=r.slidesGrid.map(L=>L+P)}if(f!==c&&r.emit("slidesLengthChange"),h.length!==y&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),v.length!==_&&r.emit("slidesGridLengthChange"),e.watchSlidesProgress&&r.updateSlidesOffset(),r.emit("slidesUpdated"),!l&&!e.cssMode&&(e.effect==="slide"||e.effect==="fade")){const T="".concat(e.containerModifierClass,"backface-hidden"),P=r.el.classList.contains(T);f<=e.maxBackfaceHiddenSlides?P||r.el.classList.add(T):P&&r.el.classList.remove(T)}}function tD(r){const n=this,e=[],t=n.virtual&&n.params.virtual.enabled;let a=0,s;typeof r=="number"?n.setTransition(r):r===!0&&n.setTransition(n.params.speed);const i=o=>t?n.slides[n.getSlideIndexByData(o)]:n.slides[o];if(n.params.slidesPerView!=="auto"&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||[]).forEach(o=>{e.push(o)});else for(s=0;s<Math.ceil(n.params.slidesPerView);s+=1){const o=n.activeIndex+s;if(o>n.slides.length&&!t)break;e.push(i(o))}else e.push(i(n.activeIndex));for(s=0;s<e.length;s+=1)if(typeof e[s]<"u"){const o=e[s].offsetHeight;a=o>a?o:a}(a||a===0)&&(n.wrapperEl.style.height="".concat(a,"px"))}function nD(){const r=this,n=r.slides,e=r.isElement?r.isHorizontal()?r.wrapperEl.offsetLeft:r.wrapperEl.offsetTop:0;for(let t=0;t<n.length;t+=1)n[t].swiperSlideOffset=(r.isHorizontal()?n[t].offsetLeft:n[t].offsetTop)-e-r.cssOverflowAdjustment()}const dd=(r,n,e)=>{n&&!r.classList.contains(e)?r.classList.add(e):!n&&r.classList.contains(e)&&r.classList.remove(e)};function rD(r){r===void 0&&(r=this&&this.translate||0);const n=this,e=n.params,{slides:t,rtlTranslate:a,snapGrid:s}=n;if(t.length===0)return;typeof t[0].swiperSlideOffset>"u"&&n.updateSlidesOffset();let i=-r;a&&(i=r),n.visibleSlidesIndexes=[],n.visibleSlides=[];let o=e.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*n.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<t.length;l+=1){const c=t[l];let d=c.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(d-=t[0].swiperSlideOffset);const f=(i+(e.centeredSlides?n.minTranslate():0)-d)/(c.swiperSlideSize+o),h=(i-s[0]+(e.centeredSlides?n.minTranslate():0)-d)/(c.swiperSlideSize+o),v=-(i-d),m=v+n.slidesSizesGrid[l],g=v>=0&&v<=n.size-n.slidesSizesGrid[l],b=v>=0&&v<n.size-1||m>1&&m<=n.size||v<=0&&m>=n.size;b&&(n.visibleSlides.push(c),n.visibleSlidesIndexes.push(l)),dd(c,b,e.slideVisibleClass),dd(c,g,e.slideFullyVisibleClass),c.progress=a?-f:f,c.originalProgress=a?-h:h}}function aD(r){const n=this;if(typeof r>"u"){const d=n.rtlTranslate?-1:1;r=n&&n.translate&&n.translate*d||0}const e=n.params,t=n.maxTranslate()-n.minTranslate();let{progress:a,isBeginning:s,isEnd:i,progressLoop:o}=n;const l=s,c=i;if(t===0)a=0,s=!0,i=!0;else{a=(r-n.minTranslate())/t;const d=Math.abs(r-n.minTranslate())<1,f=Math.abs(r-n.maxTranslate())<1;s=d||a<=0,i=f||a>=1,d&&(a=0),f&&(a=1)}if(e.loop){const d=n.getSlideIndexByData(0),f=n.getSlideIndexByData(n.slides.length-1),h=n.slidesGrid[d],v=n.slidesGrid[f],m=n.slidesGrid[n.slidesGrid.length-1],g=Math.abs(r);g>=h?o=(g-h)/m:o=(g+m-v)/m,o>1&&(o-=1)}Object.assign(n,{progress:a,progressLoop:o,isBeginning:s,isEnd:i}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&n.updateSlidesProgress(r),s&&!l&&n.emit("reachBeginning toEdge"),i&&!c&&n.emit("reachEnd toEdge"),(l&&!s||c&&!i)&&n.emit("fromEdge"),n.emit("progress",a)}const Po=(r,n,e)=>{n&&!r.classList.contains(e)?r.classList.add(e):!n&&r.classList.contains(e)&&r.classList.remove(e)};function sD(){const r=this,{slides:n,params:e,slidesEl:t,activeIndex:a}=r,s=r.virtual&&e.virtual.enabled,i=r.grid&&e.grid&&e.grid.rows>1,o=f=>tn(t,".".concat(e.slideClass).concat(f,", swiper-slide").concat(f))[0];let l,c,d;if(s)if(e.loop){let f=a-r.virtual.slidesBefore;f<0&&(f=r.virtual.slides.length+f),f>=r.virtual.slides.length&&(f-=r.virtual.slides.length),l=o('[data-swiper-slide-index="'.concat(f,'"]'))}else l=o('[data-swiper-slide-index="'.concat(a,'"]'));else i?(l=n.find(f=>f.column===a),d=n.find(f=>f.column===a+1),c=n.find(f=>f.column===a-1)):l=n[a];l&&(i||(d=Yx(l,".".concat(e.slideClass,", swiper-slide"))[0],e.loop&&!d&&(d=n[0]),c=Hx(l,".".concat(e.slideClass,", swiper-slide"))[0],e.loop&&!c===0&&(c=n[n.length-1]))),n.forEach(f=>{Po(f,f===l,e.slideActiveClass),Po(f,f===d,e.slideNextClass),Po(f,f===c,e.slidePrevClass)}),r.emitSlidesClasses()}const Ms=(r,n)=>{if(!r||r.destroyed||!r.params)return;const e=()=>r.isElement?"swiper-slide":".".concat(r.params.slideClass),t=n.closest(e());if(t){let a=t.querySelector(".".concat(r.params.lazyPreloaderClass));!a&&r.isElement&&(t.shadowRoot?a=t.shadowRoot.querySelector(".".concat(r.params.lazyPreloaderClass)):requestAnimationFrame(()=>{t.shadowRoot&&(a=t.shadowRoot.querySelector(".".concat(r.params.lazyPreloaderClass)),a&&a.remove())})),a&&a.remove()}},Oo=(r,n)=>{if(!r.slides[n])return;const e=r.slides[n].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},dl=r=>{if(!r||r.destroyed||!r.params)return;let n=r.params.lazyPreloadPrevNext;const e=r.slides.length;if(!e||!n||n<0)return;n=Math.min(n,e);const t=r.params.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(r.params.slidesPerView),a=r.activeIndex;if(r.params.grid&&r.params.grid.rows>1){const i=a,o=[i-n];o.push(...Array.from({length:n}).map((l,c)=>i+t+c)),r.slides.forEach((l,c)=>{o.includes(l.column)&&Oo(r,c)});return}const s=a+t-1;if(r.params.rewind||r.params.loop)for(let i=a-n;i<=s+n;i+=1){const o=(i%e+e)%e;(o<a||o>s)&&Oo(r,o)}else for(let i=Math.max(a-n,0);i<=Math.min(s+n,e-1);i+=1)i!==a&&(i>s||i<a)&&Oo(r,i)};function iD(r){const{slidesGrid:n,params:e}=r,t=r.rtlTranslate?r.translate:-r.translate;let a;for(let s=0;s<n.length;s+=1)typeof n[s+1]<"u"?t>=n[s]&&t<n[s+1]-(n[s+1]-n[s])/2?a=s:t>=n[s]&&t<n[s+1]&&(a=s+1):t>=n[s]&&(a=s);return e.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function oD(r){const n=this,e=n.rtlTranslate?n.translate:-n.translate,{snapGrid:t,params:a,activeIndex:s,realIndex:i,snapIndex:o}=n;let l=r,c;const d=v=>{let m=v-n.virtual.slidesBefore;return m<0&&(m=n.virtual.slides.length+m),m>=n.virtual.slides.length&&(m-=n.virtual.slides.length),m};if(typeof l>"u"&&(l=iD(n)),t.indexOf(e)>=0)c=t.indexOf(e);else{const v=Math.min(a.slidesPerGroupSkip,l);c=v+Math.floor((l-v)/a.slidesPerGroup)}if(c>=t.length&&(c=t.length-1),l===s&&!n.params.loop){c!==o&&(n.snapIndex=c,n.emit("snapIndexChange"));return}if(l===s&&n.params.loop&&n.virtual&&n.params.virtual.enabled){n.realIndex=d(l);return}const f=n.grid&&a.grid&&a.grid.rows>1;let h;if(n.virtual&&a.virtual.enabled&&a.loop)h=d(l);else if(f){const v=n.slides.find(g=>g.column===l);let m=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(m)&&(m=Math.max(n.slides.indexOf(v),0)),h=Math.floor(m/a.grid.rows)}else if(n.slides[l]){const v=n.slides[l].getAttribute("data-swiper-slide-index");v?h=parseInt(v,10):h=l}else h=l;Object.assign(n,{previousSnapIndex:o,snapIndex:c,previousRealIndex:i,realIndex:h,previousIndex:s,activeIndex:l}),n.initialized&&dl(n),n.emit("activeIndexChange"),n.emit("snapIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&(i!==h&&n.emit("realIndexChange"),n.emit("slideChange"))}function lD(r,n){const e=this,t=e.params;let a=r.closest(".".concat(t.slideClass,", swiper-slide"));!a&&e.isElement&&n&&n.length>1&&n.includes(r)&&[...n.slice(n.indexOf(r)+1,n.length)].forEach(o=>{!a&&o.matches&&o.matches(".".concat(t.slideClass,", swiper-slide"))&&(a=o)});let s=!1,i;if(a){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===a){s=!0,i=o;break}}if(a&&s)e.clickedSlide=a,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=i;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}t.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var cD={updateSize:Jx,updateSlides:eD,updateAutoHeight:tD,updateSlidesOffset:nD,updateSlidesProgress:rD,updateProgress:aD,updateSlidesClasses:sD,updateActiveIndex:oD,updateClickedSlide:lD};function uD(r){r===void 0&&(r=this.isHorizontal()?"x":"y");const n=this,{params:e,rtlTranslate:t,translate:a,wrapperEl:s}=n;if(e.virtualTranslate)return t?-a:a;if(e.cssMode)return a;let i=Fx(s,r);return i+=n.cssOverflowAdjustment(),t&&(i=-i),i||0}function dD(r,n){const e=this,{rtlTranslate:t,params:a,wrapperEl:s,progress:i}=e;let o=0,l=0;const c=0;e.isHorizontal()?o=t?-r:r:l=r,a.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?o:l,a.cssMode?s[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-o:-l:a.virtualTranslate||(e.isHorizontal()?o-=e.cssOverflowAdjustment():l-=e.cssOverflowAdjustment(),s.style.transform="translate3d(".concat(o,"px, ").concat(l,"px, ").concat(c,"px)"));let d;const f=e.maxTranslate()-e.minTranslate();f===0?d=0:d=(r-e.minTranslate())/f,d!==i&&e.updateProgress(r),e.emit("setTranslate",e.translate,n)}function fD(){return-this.snapGrid[0]}function pD(){return-this.snapGrid[this.snapGrid.length-1]}function hD(r,n,e,t,a){r===void 0&&(r=0),n===void 0&&(n=this.params.speed),e===void 0&&(e=!0),t===void 0&&(t=!0);const s=this,{params:i,wrapperEl:o}=s;if(s.animating&&i.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let d;if(t&&r>l?d=l:t&&r<c?d=c:d=r,s.updateProgress(d),i.cssMode){const f=s.isHorizontal();if(n===0)o[f?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return Bh({swiper:s,targetPosition:-d,side:f?"left":"top"}),!0;o.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return n===0?(s.setTransition(0),s.setTranslate(d),e&&(s.emit("beforeTransitionStart",n,a),s.emit("transitionEnd"))):(s.setTransition(n),s.setTranslate(d),e&&(s.emit("beforeTransitionStart",n,a),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,e&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var mD={getTranslate:uD,setTranslate:dD,minTranslate:fD,maxTranslate:pD,translateTo:hD};function vD(r,n){const e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration="".concat(r,"ms"),e.wrapperEl.style.transitionDelay=r===0?"0ms":""),e.emit("setTransition",r,n)}function Vh(r){let{swiper:n,runCallbacks:e,direction:t,step:a}=r;const{activeIndex:s,previousIndex:i}=n;let o=t;if(o||(s>i?o="next":s<i?o="prev":o="reset"),n.emit("transition".concat(a)),e&&s!==i){if(o==="reset"){n.emit("slideResetTransition".concat(a));return}n.emit("slideChangeTransition".concat(a)),o==="next"?n.emit("slideNextTransition".concat(a)):n.emit("slidePrevTransition".concat(a))}}function gD(r,n){r===void 0&&(r=!0);const e=this,{params:t}=e;t.cssMode||(t.autoHeight&&e.updateAutoHeight(),Vh({swiper:e,runCallbacks:r,direction:n,step:"Start"}))}function yD(r,n){r===void 0&&(r=!0);const e=this,{params:t}=e;e.animating=!1,!t.cssMode&&(e.setTransition(0),Vh({swiper:e,runCallbacks:r,direction:n,step:"End"}))}var bD={setTransition:vD,transitionStart:gD,transitionEnd:yD};function wD(r,n,e,t,a){r===void 0&&(r=0),e===void 0&&(e=!0),typeof r=="string"&&(r=parseInt(r,10));const s=this;let i=r;i<0&&(i=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:h,wrapperEl:v,enabled:m}=s;if(!m&&!t&&!a||s.destroyed||s.animating&&o.preventInteractionOnTransition)return!1;typeof n>"u"&&(n=s.params.speed);const g=Math.min(s.params.slidesPerGroupSkip,i);let b=g+Math.floor((i-g)/s.params.slidesPerGroup);b>=l.length&&(b=l.length-1);const y=-l[b];if(o.normalizeSlideIndex)for(let D=0;D<c.length;D+=1){const N=-Math.floor(y*100),k=Math.floor(c[D]*100),T=Math.floor(c[D+1]*100);typeof c[D+1]<"u"?N>=k&&N<T-(T-k)/2?i=D:N>=k&&N<T&&(i=D+1):N>=k&&(i=D)}if(s.initialized&&i!==f&&(!s.allowSlideNext&&(h?y>s.translate&&y>s.minTranslate():y<s.translate&&y<s.minTranslate())||!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(f||0)!==i))return!1;i!==(d||0)&&e&&s.emit("beforeSlideChangeStart"),s.updateProgress(y);let _;i>f?_="next":i<f?_="prev":_="reset";const E=s.virtual&&s.params.virtual.enabled;if(!(E&&a)&&(h&&-y===s.translate||!h&&y===s.translate))return s.updateActiveIndex(i),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),o.effect!=="slide"&&s.setTranslate(y),_!=="reset"&&(s.transitionStart(e,_),s.transitionEnd(e,_)),!1;if(o.cssMode){const D=s.isHorizontal(),N=h?y:-y;if(n===0)E&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),E&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[D?"scrollLeft":"scrollTop"]=N})):v[D?"scrollLeft":"scrollTop"]=N,E&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return Bh({swiper:s,targetPosition:N,side:D?"left":"top"}),!0;v.scrollTo({[D?"left":"top"]:N,behavior:"smooth"})}return!0}const S=Yh().isSafari;return E&&!a&&S&&s.isElement&&s.virtual.update(!1,!1,i),s.setTransition(n),s.setTranslate(y),s.updateActiveIndex(i),s.updateSlidesClasses(),s.emit("beforeTransitionStart",n,t),s.transitionStart(e,_),n===0?s.transitionEnd(e,_):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(N){!s||s.destroyed||N.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(e,_))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function _D(r,n,e,t){r===void 0&&(r=0),e===void 0&&(e=!0),typeof r=="string"&&(r=parseInt(r,10));const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);const s=a.grid&&a.params.grid&&a.params.grid.rows>1;let i=r;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)i=i+a.virtual.slidesBefore;else{let o;if(s){const h=i*a.params.grid.rows;o=a.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===h).column}else o=a.getSlideIndexByData(i);const l=s?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:c}=a.params;let d=a.params.slidesPerView;d==="auto"?d=a.slidesPerViewDynamic():(d=Math.ceil(parseFloat(a.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=l-o<d;if(c&&(f=f||o<Math.ceil(d/2)),t&&c&&a.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const h=c?o<a.activeIndex?"prev":"next":o-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?o+1:o-l+1,slideRealIndex:h==="next"?a.realIndex:void 0})}if(s){const h=i*a.params.grid.rows;i=a.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===h).column}else i=a.getSlideIndexByData(i)}return requestAnimationFrame(()=>{a.slideTo(i,n,e,t)}),a}function SD(r,n,e){n===void 0&&(n=!0);const t=this,{enabled:a,params:s,animating:i}=t;if(!a||t.destroyed)return t;typeof r>"u"&&(r=t.params.speed);let o=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(o=Math.max(t.slidesPerViewDynamic("current",!0),1));const l=t.activeIndex<s.slidesPerGroupSkip?1:o,c=t.virtual&&s.virtual.enabled;if(s.loop){if(i&&!c&&s.loopPreventsSliding)return!1;if(t.loopFix({direction:"next"}),t._clientLeft=t.wrapperEl.clientLeft,t.activeIndex===t.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{t.slideTo(t.activeIndex+l,r,n,e)}),!0}return s.rewind&&t.isEnd?t.slideTo(0,r,n,e):t.slideTo(t.activeIndex+l,r,n,e)}function ED(r,n,e){n===void 0&&(n=!0);const t=this,{params:a,snapGrid:s,slidesGrid:i,rtlTranslate:o,enabled:l,animating:c}=t;if(!l||t.destroyed)return t;typeof r>"u"&&(r=t.params.speed);const d=t.virtual&&a.virtual.enabled;if(a.loop){if(c&&!d&&a.loopPreventsSliding)return!1;t.loopFix({direction:"prev"}),t._clientLeft=t.wrapperEl.clientLeft}const f=o?t.translate:-t.translate;function h(_){return _<0?-Math.floor(Math.abs(_)):Math.floor(_)}const v=h(f),m=s.map(_=>h(_)),g=a.freeMode&&a.freeMode.enabled;let b=s[m.indexOf(v)-1];if(typeof b>"u"&&(a.cssMode||g)){let _;s.forEach((E,x)=>{v>=E&&(_=x)}),typeof _<"u"&&(b=g?s[_]:s[_>0?_-1:_])}let y=0;if(typeof b<"u"&&(y=i.indexOf(b),y<0&&(y=t.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(y=y-t.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),a.rewind&&t.isBeginning){const _=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1;return t.slideTo(_,r,n,e)}else if(a.loop&&t.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{t.slideTo(y,r,n,e)}),!0;return t.slideTo(y,r,n,e)}function ND(r,n,e){n===void 0&&(n=!0);const t=this;if(!t.destroyed)return typeof r>"u"&&(r=t.params.speed),t.slideTo(t.activeIndex,r,n,e)}function CD(r,n,e,t){n===void 0&&(n=!0),t===void 0&&(t=.5);const a=this;if(a.destroyed)return;typeof r>"u"&&(r=a.params.speed);let s=a.activeIndex;const i=Math.min(a.params.slidesPerGroupSkip,s),o=i+Math.floor((s-i)/a.params.slidesPerGroup),l=a.rtlTranslate?a.translate:-a.translate;if(l>=a.snapGrid[o]){const c=a.snapGrid[o],d=a.snapGrid[o+1];l-c>(d-c)*t&&(s+=a.params.slidesPerGroup)}else{const c=a.snapGrid[o-1],d=a.snapGrid[o];l-c<=(d-c)*t&&(s-=a.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,a.slidesGrid.length-1),a.slideTo(s,r,n,e)}function xD(){const r=this;if(r.destroyed)return;const{params:n,slidesEl:e}=r,t=n.slidesPerView==="auto"?r.slidesPerViewDynamic():n.slidesPerView;let a=r.clickedIndex,s;const i=r.isElement?"swiper-slide":".".concat(n.slideClass);if(n.loop){if(r.animating)return;s=parseInt(r.clickedSlide.getAttribute("data-swiper-slide-index"),10),n.centeredSlides?a<r.loopedSlides-t/2||a>r.slides.length-r.loopedSlides+t/2?(r.loopFix(),a=r.getSlideIndex(tn(e,"".concat(i,'[data-swiper-slide-index="').concat(s,'"]'))[0]),ul(()=>{r.slideTo(a)})):r.slideTo(a):a>r.slides.length-t?(r.loopFix(),a=r.getSlideIndex(tn(e,"".concat(i,'[data-swiper-slide-index="').concat(s,'"]'))[0]),ul(()=>{r.slideTo(a)})):r.slideTo(a)}else r.slideTo(a)}var DD={slideTo:wD,slideToLoop:_D,slideNext:SD,slidePrev:ED,slideReset:ND,slideToClosest:CD,slideToClickedSlide:xD};function kD(r,n){const e=this,{params:t,slidesEl:a}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{tn(a,".".concat(t.slideClass,", swiper-slide")).forEach((h,v)=>{h.setAttribute("data-swiper-slide-index",v)})},i=e.grid&&t.grid&&t.grid.rows>1,o=t.slidesPerGroup*(i?t.grid.rows:1),l=e.slides.length%o!==0,c=i&&e.slides.length%t.grid.rows!==0,d=f=>{for(let h=0;h<f;h+=1){const v=e.isElement?oi("swiper-slide",[t.slideBlankClass]):oi("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(v)}};if(l){if(t.loopAddBlankSlides){const f=o-e.slides.length%o;d(f),e.recalcSlides(),e.updateSlides()}else ii("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(t.loopAddBlankSlides){const f=t.grid.rows-e.slides.length%t.grid.rows;d(f),e.recalcSlides(),e.updateSlides()}else ii("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:r,direction:t.centeredSlides?void 0:"next",initial:n})}function TD(r){let{slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:a,activeSlideIndex:s,initial:i,byController:o,byMousewheel:l}=r===void 0?{}:r;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:h,slidesEl:v,params:m}=c,{centeredSlides:g,initialSlide:b}=m;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&m.virtual.enabled){e&&(!m.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):m.centeredSlides&&c.snapIndex<m.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=h,c.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=c.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),g&&y%2===0&&(y=y+1));const _=m.slidesPerGroupAuto?y:m.slidesPerGroup;let E=_;E%_!==0&&(E+=_-E%_),E+=m.loopAdditionalSlides,c.loopedSlides=E;const x=c.grid&&m.grid&&m.grid.rows>1;d.length<y+E||c.params.effect==="cards"&&d.length<y+E*2?ii("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&m.grid.fill==="row"&&ii("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const C=[],S=[],D=x?Math.ceil(d.length/m.grid.rows):d.length,N=i&&D-b<y&&!g;let k=N?b:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(d.find(I=>I.classList.contains(m.slideActiveClass))):k=s;const T=t==="next"||!t,P=t==="prev"||!t;let L=0,O=0;const F=(x?d[s].column:s)+(g&&typeof a>"u"?-y/2+.5:0);if(F<E){L=Math.max(E-F,_);for(let I=0;I<E-F;I+=1){const R=I-Math.floor(I/D)*D;if(x){const A=D-R-1;for(let B=d.length-1;B>=0;B-=1)d[B].column===A&&C.push(B)}else C.push(D-R-1)}}else if(F+y>D-E){O=Math.max(F-(D-E*2),_),N&&(O=Math.max(O,y-D+b+1));for(let I=0;I<O;I+=1){const R=I-Math.floor(I/D)*D;x?d.forEach((A,B)=>{A.column===R&&S.push(B)}):S.push(R)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&d.length<y+E*2&&(S.includes(s)&&S.splice(S.indexOf(s),1),C.includes(s)&&C.splice(C.indexOf(s),1)),P&&C.forEach(I=>{d[I].swiperLoopMoveDOM=!0,v.prepend(d[I]),d[I].swiperLoopMoveDOM=!1}),T&&S.forEach(I=>{d[I].swiperLoopMoveDOM=!0,v.append(d[I]),d[I].swiperLoopMoveDOM=!1}),c.recalcSlides(),m.slidesPerView==="auto"?c.updateSlides():x&&(C.length>0&&P||S.length>0&&T)&&c.slides.forEach((I,R)=>{c.grid.updateSlide(R,I,c.slides)}),m.watchSlidesProgress&&c.updateSlidesOffset(),e){if(C.length>0&&P){if(typeof n>"u"){const I=c.slidesGrid[k],A=c.slidesGrid[k+L]-I;l?c.setTranslate(c.translate-A):(c.slideTo(k+Math.ceil(L),0,!1,!0),a&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-A,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-A))}else if(a){const I=x?C.length/m.grid.rows:C.length;c.slideTo(c.activeIndex+I,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(S.length>0&&T)if(typeof n>"u"){const I=c.slidesGrid[k],A=c.slidesGrid[k-O]-I;l?c.setTranslate(c.translate-A):(c.slideTo(k-O,0,!1,!0),a&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-A,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-A))}else{const I=x?S.length/m.grid.rows:S.length;c.slideTo(c.activeIndex-I,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=h,c.controller&&c.controller.control&&!o){const I={slideRealIndex:n,direction:t,setTranslate:a,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(R=>{!R.destroyed&&R.params.loop&&R.loopFix({...I,slideTo:R.params.slidesPerView===m.slidesPerView?e:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...I,slideTo:c.controller.control.params.slidesPerView===m.slidesPerView?e:!1})}c.emit("loopFix")}function PD(){const r=this,{params:n,slidesEl:e}=r;if(!n.loop||!e||r.virtual&&r.params.virtual.enabled)return;r.recalcSlides();const t=[];r.slides.forEach(a=>{const s=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;t[s]=a}),r.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),t.forEach(a=>{e.append(a)}),r.recalcSlides(),r.slideTo(r.realIndex,0)}var OD={loopCreate:kD,loopFix:TD,loopDestroy:PD};function MD(r){const n=this;if(!n.params.simulateTouch||n.params.watchOverflow&&n.isLocked||n.params.cssMode)return;const e=n.params.touchEventsTarget==="container"?n.el:n.wrapperEl;n.isElement&&(n.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=r?"grabbing":"grab",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1})}function LD(){const r=this;r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r.isElement&&(r.__preventObserver__=!0),r[r.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1}))}var AD={setGrabCursor:MD,unsetGrabCursor:LD};function ID(r,n){n===void 0&&(n=this);function e(t){if(!t||t===wr()||t===yt())return null;t.assignedSlot&&(t=t.assignedSlot);const a=t.closest(r);return!a&&!t.getRootNode?null:a||e(t.getRootNode().host)}return e(n)}function fd(r,n,e){const t=yt(),{params:a}=r,s=a.edgeSwipeDetection,i=a.edgeSwipeThreshold;return s&&(e<=i||e>=t.innerWidth-i)?s==="prevent"?(n.preventDefault(),!0):!1:!0}function RD(r){const n=this,e=wr();let t=r;t.originalEvent&&(t=t.originalEvent);const a=n.touchEventsData;if(t.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==t.pointerId)return;a.pointerId=t.pointerId}else t.type==="touchstart"&&t.targetTouches.length===1&&(a.touchId=t.targetTouches[0].identifier);if(t.type==="touchstart"){fd(n,t,t.targetTouches[0].pageX);return}const{params:s,touches:i,enabled:o}=n;if(!o||!s.simulateTouch&&t.pointerType==="mouse"||n.animating&&s.preventInteractionOnTransition)return;!n.animating&&s.cssMode&&s.loop&&n.loopFix();let l=t.target;if(s.touchEventsTarget==="wrapper"&&!Wx(l,n.wrapperEl)||"which"in t&&t.which===3||"button"in t&&t.button>0||a.isTouched&&a.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",d=t.composedPath?t.composedPath():t.path;c&&t.target&&t.target.shadowRoot&&d&&(l=d[0]);const f=s.noSwipingSelector?s.noSwipingSelector:".".concat(s.noSwipingClass),h=!!(t.target&&t.target.shadowRoot);if(s.noSwiping&&(h?ID(f,l):l.closest(f))){n.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;i.currentX=t.pageX,i.currentY=t.pageY;const v=i.currentX,m=i.currentY;if(!fd(n,t,v))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=v,i.startY=m,a.touchStartTime=si(),n.allowClick=!0,n.updateSize(),n.swipeDirection=void 0,s.threshold>0&&(a.allowThresholdMove=!1);let g=!0;l.matches(a.focusableElements)&&(g=!1,l.nodeName==="SELECT"&&(a.isTouched=!1)),e.activeElement&&e.activeElement.matches(a.focusableElements)&&e.activeElement!==l&&(t.pointerType==="mouse"||t.pointerType!=="mouse"&&!l.matches(a.focusableElements))&&e.activeElement.blur();const b=g&&n.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||b)&&!l.isContentEditable&&t.preventDefault(),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.animating&&!s.cssMode&&n.freeMode.onTouchStart(),n.emit("touchStart",t)}function $D(r){const n=wr(),e=this,t=e.touchEventsData,{params:a,touches:s,rtlTranslate:i,enabled:o}=e;if(!o||!a.simulateTouch&&r.pointerType==="mouse")return;let l=r;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(t.touchId!==null||l.pointerId!==t.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(S=>S.identifier===t.touchId),!c||c.identifier!==t.touchId)return}else c=l;if(!t.isTouched){t.startMoving&&t.isScrolling&&e.emit("touchMoveOpposite",l);return}const d=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=f;return}if(!e.allowTouchMove){l.target.matches(t.focusableElements)||(e.allowClick=!1),t.isTouched&&(Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f}),t.touchStartTime=si());return}if(a.touchReleaseOnEdges&&!a.loop)if(e.isVertical()){if(f<s.startY&&e.translate<=e.maxTranslate()||f>s.startY&&e.translate>=e.minTranslate()){t.isTouched=!1,t.isMoved=!1;return}}else{if(i&&(d>s.startX&&-e.translate<=e.maxTranslate()||d<s.startX&&-e.translate>=e.minTranslate()))return;if(!i&&(d<s.startX&&e.translate<=e.maxTranslate()||d>s.startX&&e.translate>=e.minTranslate()))return}if(n.activeElement&&n.activeElement.matches(t.focusableElements)&&n.activeElement!==l.target&&l.pointerType!=="mouse"&&n.activeElement.blur(),n.activeElement&&l.target===n.activeElement&&l.target.matches(t.focusableElements)){t.isMoved=!0,e.allowClick=!1;return}t.allowTouchCallbacks&&e.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=f;const h=s.currentX-s.startX,v=s.currentY-s.startY;if(e.params.threshold&&Math.sqrt(h**2+v**2)<e.params.threshold)return;if(typeof t.isScrolling>"u"){let S;e.isHorizontal()&&s.currentY===s.startY||e.isVertical()&&s.currentX===s.startX?t.isScrolling=!1:h*h+v*v>=25&&(S=Math.atan2(Math.abs(v),Math.abs(h))*180/Math.PI,t.isScrolling=e.isHorizontal()?S>a.touchAngle:90-S>a.touchAngle)}if(t.isScrolling&&e.emit("touchMoveOpposite",l),typeof t.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(t.startMoving=!0),t.isScrolling||l.type==="touchmove"&&t.preventTouchMoveFromPointerMove){t.isTouched=!1;return}if(!t.startMoving)return;e.allowClick=!1,!a.cssMode&&l.cancelable&&l.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&l.stopPropagation();let m=e.isHorizontal()?h:v,g=e.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;a.oneWayMovement&&(m=Math.abs(m)*(i?1:-1),g=Math.abs(g)*(i?1:-1)),s.diff=m,m*=a.touchRatio,i&&(m=-m,g=-g);const b=e.touchesDirection;e.swipeDirection=m>0?"prev":"next",e.touchesDirection=g>0?"prev":"next";const y=e.params.loop&&!a.cssMode,_=e.touchesDirection==="next"&&e.allowSlideNext||e.touchesDirection==="prev"&&e.allowSlidePrev;if(!t.isMoved){if(y&&_&&e.loopFix({direction:e.swipeDirection}),t.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){const S=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});e.wrapperEl.dispatchEvent(S)}t.allowMomentumBounce=!1,a.grabCursor&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",l)}let E;if(new Date().getTime(),a._loopSwapReset!==!1&&t.isMoved&&t.allowThresholdMove&&b!==e.touchesDirection&&y&&_&&Math.abs(m)>=1){Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:t.currentTranslate}),t.loopSwapReset=!0,t.startTranslate=t.currentTranslate;return}e.emit("sliderMove",l),t.isMoved=!0,t.currentTranslate=m+t.startTranslate;let x=!0,C=a.resistanceRatio;if(a.touchReleaseOnEdges&&(C=0),m>0?(y&&_&&!E&&t.allowThresholdMove&&t.currentTranslate>(a.centeredSlides?e.minTranslate()-e.slidesSizesGrid[e.activeIndex+1]-(a.slidesPerView!=="auto"&&e.slides.length-a.slidesPerView>=2?e.slidesSizesGrid[e.activeIndex+1]+e.params.spaceBetween:0)-e.params.spaceBetween:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),t.currentTranslate>e.minTranslate()&&(x=!1,a.resistance&&(t.currentTranslate=e.minTranslate()-1+(-e.minTranslate()+t.startTranslate+m)**C))):m<0&&(y&&_&&!E&&t.allowThresholdMove&&t.currentTranslate<(a.centeredSlides?e.maxTranslate()+e.slidesSizesGrid[e.slidesSizesGrid.length-1]+e.params.spaceBetween+(a.slidesPerView!=="auto"&&e.slides.length-a.slidesPerView>=2?e.slidesSizesGrid[e.slidesSizesGrid.length-1]+e.params.spaceBetween:0):e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-(a.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),t.currentTranslate<e.maxTranslate()&&(x=!1,a.resistance&&(t.currentTranslate=e.maxTranslate()+1-(e.maxTranslate()-t.startTranslate-m)**C))),x&&(l.preventedByNestedSwiper=!0),!e.allowSlideNext&&e.swipeDirection==="next"&&t.currentTranslate<t.startTranslate&&(t.currentTranslate=t.startTranslate),!e.allowSlidePrev&&e.swipeDirection==="prev"&&t.currentTranslate>t.startTranslate&&(t.currentTranslate=t.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(t.currentTranslate=t.startTranslate),a.threshold>0)if(Math.abs(m)>a.threshold||t.allowThresholdMove){if(!t.allowThresholdMove){t.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,t.currentTranslate=t.startTranslate,s.diff=e.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{t.currentTranslate=t.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&e.freeMode||a.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(t.currentTranslate),e.setTranslate(t.currentTranslate))}function FD(r){const n=this,e=n.touchEventsData;let t=r;t.originalEvent&&(t=t.originalEvent);let a;if(t.type==="touchend"||t.type==="touchcancel"){if(a=[...t.changedTouches].find(C=>C.identifier===e.touchId),!a||a.identifier!==e.touchId)return}else{if(e.touchId!==null||t.pointerId!==e.pointerId)return;a=t}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(t.type)&&!(["pointercancel","contextmenu"].includes(t.type)&&(n.browser.isSafari||n.browser.isWebView)))return;e.pointerId=null,e.touchId=null;const{params:i,touches:o,rtlTranslate:l,slidesGrid:c,enabled:d}=n;if(!d||!i.simulateTouch&&t.pointerType==="mouse")return;if(e.allowTouchCallbacks&&n.emit("touchEnd",t),e.allowTouchCallbacks=!1,!e.isTouched){e.isMoved&&i.grabCursor&&n.setGrabCursor(!1),e.isMoved=!1,e.startMoving=!1;return}i.grabCursor&&e.isMoved&&e.isTouched&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!1);const f=si(),h=f-e.touchStartTime;if(n.allowClick){const C=t.path||t.composedPath&&t.composedPath();n.updateClickedSlide(C&&C[0]||t.target,C),n.emit("tap click",t),h<300&&f-e.lastClickTime<300&&n.emit("doubleTap doubleClick",t)}if(e.lastClickTime=si(),ul(()=>{n.destroyed||(n.allowClick=!0)}),!e.isTouched||!e.isMoved||!n.swipeDirection||o.diff===0&&!e.loopSwapReset||e.currentTranslate===e.startTranslate&&!e.loopSwapReset){e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;return}e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;let v;if(i.followFinger?v=l?n.translate:-n.translate:v=-e.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){n.freeMode.onTouchEnd({currentPos:v});return}const m=v>=-n.maxTranslate()&&!n.params.loop;let g=0,b=n.slidesSizesGrid[0];for(let C=0;C<c.length;C+=C<i.slidesPerGroupSkip?1:i.slidesPerGroup){const S=C<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof c[C+S]<"u"?(m||v>=c[C]&&v<c[C+S])&&(g=C,b=c[C+S]-c[C]):(m||v>=c[C])&&(g=C,b=c[c.length-1]-c[c.length-2])}let y=null,_=null;i.rewind&&(n.isBeginning?_=i.virtual&&i.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1:n.isEnd&&(y=0));const E=(v-c[g])/b,x=g<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(h>i.longSwipesMs){if(!i.longSwipes){n.slideTo(n.activeIndex);return}n.swipeDirection==="next"&&(E>=i.longSwipesRatio?n.slideTo(i.rewind&&n.isEnd?y:g+x):n.slideTo(g)),n.swipeDirection==="prev"&&(E>1-i.longSwipesRatio?n.slideTo(g+x):_!==null&&E<0&&Math.abs(E)>i.longSwipesRatio?n.slideTo(_):n.slideTo(g))}else{if(!i.shortSwipes){n.slideTo(n.activeIndex);return}n.navigation&&(t.target===n.navigation.nextEl||t.target===n.navigation.prevEl)?t.target===n.navigation.nextEl?n.slideTo(g+x):n.slideTo(g):(n.swipeDirection==="next"&&n.slideTo(y!==null?y:g+x),n.swipeDirection==="prev"&&n.slideTo(_!==null?_:g))}}function pd(){const r=this,{params:n,el:e}=r;if(e&&e.offsetWidth===0)return;n.breakpoints&&r.setBreakpoint();const{allowSlideNext:t,allowSlidePrev:a,snapGrid:s}=r,i=r.virtual&&r.params.virtual.enabled;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses();const o=i&&n.loop;(n.slidesPerView==="auto"||n.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides&&!o?r.slideTo(r.slides.length-1,0,!1,!0):r.params.loop&&!i?r.slideToLoop(r.realIndex,0,!1,!0):r.slideTo(r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&(clearTimeout(r.autoplay.resizeTimeout),r.autoplay.resizeTimeout=setTimeout(()=>{r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.resume()},500)),r.allowSlidePrev=a,r.allowSlideNext=t,r.params.watchOverflow&&s!==r.snapGrid&&r.checkOverflow()}function GD(r){const n=this;n.enabled&&(n.allowClick||(n.params.preventClicks&&r.preventDefault(),n.params.preventClicksPropagation&&n.animating&&(r.stopPropagation(),r.stopImmediatePropagation())))}function BD(){const r=this,{wrapperEl:n,rtlTranslate:e,enabled:t}=r;if(!t)return;r.previousTranslate=r.translate,r.isHorizontal()?r.translate=-n.scrollLeft:r.translate=-n.scrollTop,r.translate===0&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();let a;const s=r.maxTranslate()-r.minTranslate();s===0?a=0:a=(r.translate-r.minTranslate())/s,a!==r.progress&&r.updateProgress(e?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}function WD(r){const n=this;Ms(n,r.target),!(n.params.cssMode||n.params.slidesPerView!=="auto"&&!n.params.autoHeight)&&n.update()}function HD(){const r=this;r.documentTouchHandlerProceeded||(r.documentTouchHandlerProceeded=!0,r.params.touchReleaseOnEdges&&(r.el.style.touchAction="auto"))}const jh=(r,n)=>{const e=wr(),{params:t,el:a,wrapperEl:s,device:i}=r,o=!!t.nested,l=n==="on"?"addEventListener":"removeEventListener",c=n;!a||typeof a=="string"||(e[l]("touchstart",r.onDocumentTouchStart,{passive:!1,capture:o}),a[l]("touchstart",r.onTouchStart,{passive:!1}),a[l]("pointerdown",r.onTouchStart,{passive:!1}),e[l]("touchmove",r.onTouchMove,{passive:!1,capture:o}),e[l]("pointermove",r.onTouchMove,{passive:!1,capture:o}),e[l]("touchend",r.onTouchEnd,{passive:!0}),e[l]("pointerup",r.onTouchEnd,{passive:!0}),e[l]("pointercancel",r.onTouchEnd,{passive:!0}),e[l]("touchcancel",r.onTouchEnd,{passive:!0}),e[l]("pointerout",r.onTouchEnd,{passive:!0}),e[l]("pointerleave",r.onTouchEnd,{passive:!0}),e[l]("contextmenu",r.onTouchEnd,{passive:!0}),(t.preventClicks||t.preventClicksPropagation)&&a[l]("click",r.onClick,!0),t.cssMode&&s[l]("scroll",r.onScroll),t.updateOnWindowResize?r[c](i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",pd,!0):r[c]("observerUpdate",pd,!0),a[l]("load",r.onLoad,{capture:!0}))};function YD(){const r=this,{params:n}=r;r.onTouchStart=RD.bind(r),r.onTouchMove=$D.bind(r),r.onTouchEnd=FD.bind(r),r.onDocumentTouchStart=HD.bind(r),n.cssMode&&(r.onScroll=BD.bind(r)),r.onClick=GD.bind(r),r.onLoad=WD.bind(r),jh(r,"on")}function VD(){jh(this,"off")}var jD={attachEvents:YD,detachEvents:VD};const hd=(r,n)=>r.grid&&n.grid&&n.grid.rows>1;function UD(){const r=this,{realIndex:n,initialized:e,params:t,el:a}=r,s=t.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const i=wr(),o=t.breakpointsBase==="window"||!t.breakpointsBase?t.breakpointsBase:"container",l=["window","container"].includes(t.breakpointsBase)||!t.breakpointsBase?r.el:i.querySelector(t.breakpointsBase),c=r.getBreakpoint(s,o,l);if(!c||r.currentBreakpoint===c)return;const f=(c in s?s[c]:void 0)||r.originalParams,h=hd(r,t),v=hd(r,f),m=r.params.grabCursor,g=f.grabCursor,b=t.enabled;h&&!v?(a.classList.remove("".concat(t.containerModifierClass,"grid"),"".concat(t.containerModifierClass,"grid-column")),r.emitContainerClasses()):!h&&v&&(a.classList.add("".concat(t.containerModifierClass,"grid")),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&t.grid.fill==="column")&&a.classList.add("".concat(t.containerModifierClass,"grid-column")),r.emitContainerClasses()),m&&!g?r.unsetGrabCursor():!m&&g&&r.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(S=>{if(typeof f[S]>"u")return;const D=t[S]&&t[S].enabled,N=f[S]&&f[S].enabled;D&&!N&&r[S].disable(),!D&&N&&r[S].enable()});const y=f.direction&&f.direction!==t.direction,_=t.loop&&(f.slidesPerView!==t.slidesPerView||y),E=t.loop;y&&e&&r.changeDirection(),_t(r.params,f);const x=r.params.enabled,C=r.params.loop;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),b&&!x?r.disable():!b&&x&&r.enable(),r.currentBreakpoint=c,r.emit("_beforeBreakpoint",f),e&&(_?(r.loopDestroy(),r.loopCreate(n),r.updateSlides()):!E&&C?(r.loopCreate(n),r.updateSlides()):E&&!C&&r.loopDestroy()),r.emit("breakpoint",f)}function zD(r,n,e){if(n===void 0&&(n="window"),!r||n==="container"&&!e)return;let t=!1;const a=yt(),s=n==="window"?a.innerHeight:e.clientHeight,i=Object.keys(r).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:s*l,point:o}}return{value:o,point:o}});i.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<i.length;o+=1){const{point:l,value:c}=i[o];n==="window"?a.matchMedia("(min-width: ".concat(c,"px)")).matches&&(t=l):c<=e.clientWidth&&(t=l)}return t||"max"}var qD={setBreakpoint:UD,getBreakpoint:zD};function KD(r,n){const e=[];return r.forEach(t=>{typeof t=="object"?Object.keys(t).forEach(a=>{t[a]&&e.push(n+a)}):typeof t=="string"&&e.push(n+t)}),e}function QD(){const r=this,{classNames:n,params:e,rtl:t,el:a,device:s}=r,i=KD(["initialized",e.direction,{"free-mode":r.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:t},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&e.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);n.push(...i),a.classList.add(...n),r.emitContainerClasses()}function XD(){const r=this,{el:n,classNames:e}=r;!n||typeof n=="string"||(n.classList.remove(...e),r.emitContainerClasses())}var ZD={addClasses:QD,removeClasses:XD};function JD(){const r=this,{isLocked:n,params:e}=r,{slidesOffsetBefore:t}=e;if(t){const a=r.slides.length-1,s=r.slidesGrid[a]+r.slidesSizesGrid[a]+t*2;r.isLocked=r.size>s}else r.isLocked=r.snapGrid.length===1;e.allowSlideNext===!0&&(r.allowSlideNext=!r.isLocked),e.allowSlidePrev===!0&&(r.allowSlidePrev=!r.isLocked),n&&n!==r.isLocked&&(r.isEnd=!1),n!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}var ek={checkOverflow:JD},fl={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function tk(r,n){return function(t){t===void 0&&(t={});const a=Object.keys(t)[0],s=t[a];if(typeof s!="object"||s===null){_t(n,t);return}if(r[a]===!0&&(r[a]={enabled:!0}),a==="navigation"&&r[a]&&r[a].enabled&&!r[a].prevEl&&!r[a].nextEl&&(r[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&r[a]&&r[a].enabled&&!r[a].el&&(r[a].auto=!0),!(a in r&&"enabled"in s)){_t(n,t);return}typeof r[a]=="object"&&!("enabled"in r[a])&&(r[a].enabled=!0),r[a]||(r[a]={enabled:!1}),_t(n,t)}}const Mo={eventsEmitter:Zx,update:cD,translate:mD,transition:bD,slide:DD,loop:OD,grabCursor:AD,events:jD,breakpoints:qD,checkOverflow:ek,classes:ZD},Lo={};let pc=class yn{constructor(){let n,e;for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?e=a[0]:[n,e]=a,e||(e={}),e=_t({},e),n&&!e.el&&(e.el=n);const i=wr();if(e.el&&typeof e.el=="string"&&i.querySelectorAll(e.el).length>1){const d=[];return i.querySelectorAll(e.el).forEach(f=>{const h=_t({},e,{el:f});d.push(new yn(h))}),d}const o=this;o.__swiper__=!0,o.support=Wh(),o.device=Hh({userAgent:e.userAgent}),o.browser=Yh(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],e.modules&&Array.isArray(e.modules)&&o.modules.push(...e.modules);const l={};o.modules.forEach(d=>{d({params:e,swiper:o,extendParams:tk(e,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=_t({},fl,l);return o.params=_t({},c,Lo,e),o.originalParams=_t({},o.params),o.passedParams=_t({},e),o.params&&o.params.on&&Object.keys(o.params.on).forEach(d=>{o.on(d,o.params.on[d])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(n){return this.isHorizontal()?n:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[n]}getSlideIndex(n){const{slidesEl:e,params:t}=this,a=tn(e,".".concat(t.slideClass,", swiper-slide")),s=cd(a[0]);return cd(n)-s}getSlideIndexByData(n){return this.getSlideIndex(this.slides.find(e=>e.getAttribute("data-swiper-slide-index")*1===n))}recalcSlides(){const n=this,{slidesEl:e,params:t}=n;n.slides=tn(e,".".concat(t.slideClass,", swiper-slide"))}enable(){const n=this;n.enabled||(n.enabled=!0,n.params.grabCursor&&n.setGrabCursor(),n.emit("enable"))}disable(){const n=this;n.enabled&&(n.enabled=!1,n.params.grabCursor&&n.unsetGrabCursor(),n.emit("disable"))}setProgress(n,e){const t=this;n=Math.min(Math.max(n,0),1);const a=t.minTranslate(),i=(t.maxTranslate()-a)*n+a;t.translateTo(i,typeof e>"u"?0:e),t.updateActiveIndex(),t.updateSlidesClasses()}emitContainerClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const e=n.el.className.split(" ").filter(t=>t.indexOf("swiper")===0||t.indexOf(n.params.containerModifierClass)===0);n.emit("_containerClasses",e.join(" "))}getSlideClasses(n){const e=this;return e.destroyed?"":n.className.split(" ").filter(t=>t.indexOf("swiper-slide")===0||t.indexOf(e.params.slideClass)===0).join(" ")}emitSlidesClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const e=[];n.slides.forEach(t=>{const a=n.getSlideClasses(t);e.push({slideEl:t,classNames:a}),n.emit("_slideClass",t,a)}),n.emit("_slideClasses",e)}slidesPerViewDynamic(n,e){n===void 0&&(n="current"),e===void 0&&(e=!1);const t=this,{params:a,slides:s,slidesGrid:i,slidesSizesGrid:o,size:l,activeIndex:c}=t;let d=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let f=s[c]?Math.ceil(s[c].swiperSlideSize):0,h;for(let v=c+1;v<s.length;v+=1)s[v]&&!h&&(f+=Math.ceil(s[v].swiperSlideSize),d+=1,f>l&&(h=!0));for(let v=c-1;v>=0;v-=1)s[v]&&!h&&(f+=s[v].swiperSlideSize,d+=1,f>l&&(h=!0))}else if(n==="current")for(let f=c+1;f<s.length;f+=1)(e?i[f]+o[f]-i[c]<l:i[f]-i[c]<l)&&(d+=1);else for(let f=c-1;f>=0;f-=1)i[c]-i[f]<l&&(d+=1);return d}update(){const n=this;if(!n||n.destroyed)return;const{snapGrid:e,params:t}=n;t.breakpoints&&n.setBreakpoint(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(i=>{i.complete&&Ms(n,i)}),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses();function a(){const i=n.rtlTranslate?n.translate*-1:n.translate,o=Math.min(Math.max(i,n.maxTranslate()),n.minTranslate());n.setTranslate(o),n.updateActiveIndex(),n.updateSlidesClasses()}let s;if(t.freeMode&&t.freeMode.enabled&&!t.cssMode)a(),t.autoHeight&&n.updateAutoHeight();else{if((t.slidesPerView==="auto"||t.slidesPerView>1)&&n.isEnd&&!t.centeredSlides){const i=n.virtual&&t.virtual.enabled?n.virtual.slides:n.slides;s=n.slideTo(i.length-1,0,!1,!0)}else s=n.slideTo(n.activeIndex,0,!1,!0);s||a()}t.watchOverflow&&e!==n.snapGrid&&n.checkOverflow(),n.emit("update")}changeDirection(n,e){e===void 0&&(e=!0);const t=this,a=t.params.direction;return n||(n=a==="horizontal"?"vertical":"horizontal"),n===a||n!=="horizontal"&&n!=="vertical"||(t.el.classList.remove("".concat(t.params.containerModifierClass).concat(a)),t.el.classList.add("".concat(t.params.containerModifierClass).concat(n)),t.emitContainerClasses(),t.params.direction=n,t.slides.forEach(s=>{n==="vertical"?s.style.width="":s.style.height=""}),t.emit("changeDirection"),e&&t.update()),t}changeLanguageDirection(n){const e=this;e.rtl&&n==="rtl"||!e.rtl&&n==="ltr"||(e.rtl=n==="rtl",e.rtlTranslate=e.params.direction==="horizontal"&&e.rtl,e.rtl?(e.el.classList.add("".concat(e.params.containerModifierClass,"rtl")),e.el.dir="rtl"):(e.el.classList.remove("".concat(e.params.containerModifierClass,"rtl")),e.el.dir="ltr"),e.update())}mount(n){const e=this;if(e.mounted)return!0;let t=n||e.params.el;if(typeof t=="string"&&(t=document.querySelector(t)),!t)return!1;t.swiper=e,t.parentNode&&t.parentNode.host&&t.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);const a=()=>".".concat((e.params.wrapperClass||"").trim().split(" ").join("."));let i=(()=>t&&t.shadowRoot&&t.shadowRoot.querySelector?t.shadowRoot.querySelector(a()):tn(t,a())[0])();return!i&&e.params.createElements&&(i=oi("div",e.params.wrapperClass),t.append(i),tn(t,".".concat(e.params.slideClass)).forEach(o=>{i.append(o)})),Object.assign(e,{el:t,wrapperEl:i,slidesEl:e.isElement&&!t.parentNode.host.slideSlots?t.parentNode.host:i,hostEl:e.isElement?t.parentNode.host:t,mounted:!0,rtl:t.dir.toLowerCase()==="rtl"||Gn(t,"direction")==="rtl",rtlTranslate:e.params.direction==="horizontal"&&(t.dir.toLowerCase()==="rtl"||Gn(t,"direction")==="rtl"),wrongRTL:Gn(i,"display")==="-webkit-box"}),!0}init(n){const e=this;if(e.initialized||e.mount(n)===!1)return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(void 0,!0),e.attachEvents();const a=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&a.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(s=>{s.complete?Ms(e,s):s.addEventListener("load",i=>{Ms(e,i.target)})}),dl(e),e.initialized=!0,dl(e),e.emit("init"),e.emit("afterInit"),e}destroy(n,e){n===void 0&&(n=!0),e===void 0&&(e=!0);const t=this,{params:a,el:s,wrapperEl:i,slides:o}=t;return typeof t.params>"u"||t.destroyed||(t.emit("beforeDestroy"),t.initialized=!1,t.detachEvents(),a.loop&&t.loopDestroy(),e&&(t.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),i&&i.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),t.emit("destroy"),Object.keys(t.eventsListeners).forEach(l=>{t.off(l)}),n!==!1&&(t.el&&typeof t.el!="string"&&(t.el.swiper=null),Rx(t)),t.destroyed=!0),null}static extendDefaults(n){_t(Lo,n)}static get extendedDefaults(){return Lo}static get defaults(){return fl}static installModule(n){yn.prototype.__modules__||(yn.prototype.__modules__=[]);const e=yn.prototype.__modules__;typeof n=="function"&&e.indexOf(n)<0&&e.push(n)}static use(n){return Array.isArray(n)?(n.forEach(e=>yn.installModule(e)),yn):(yn.installModule(n),yn)}};Object.keys(Mo).forEach(r=>{Object.keys(Mo[r]).forEach(n=>{pc.prototype[n]=Mo[r][n]})});pc.use([Qx,Xx]);const Uh=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function fr(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"&&!r.__swiper__}function Mr(r,n){const e=["__proto__","constructor","prototype"];Object.keys(n).filter(t=>e.indexOf(t)<0).forEach(t=>{typeof r[t]>"u"?r[t]=n[t]:fr(n[t])&&fr(r[t])&&Object.keys(n[t]).length>0?n[t].__swiper__?r[t]=n[t]:Mr(r[t],n[t]):r[t]=n[t]})}function zh(r){return r===void 0&&(r={}),r.navigation&&typeof r.navigation.nextEl>"u"&&typeof r.navigation.prevEl>"u"}function qh(r){return r===void 0&&(r={}),r.pagination&&typeof r.pagination.el>"u"}function Kh(r){return r===void 0&&(r={}),r.scrollbar&&typeof r.scrollbar.el>"u"}function Qh(r){r===void 0&&(r="");const n=r.split(" ").map(t=>t.trim()).filter(t=>!!t),e=[];return n.forEach(t=>{e.indexOf(t)<0&&e.push(t)}),e.join(" ")}function nk(r){return r===void 0&&(r=""),r?r.includes("swiper-wrapper")?r:"swiper-wrapper ".concat(r):"swiper-wrapper"}function rk(r){let{swiper:n,slides:e,passedParams:t,changedParams:a,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:l}=r;const c=a.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:d,pagination:f,navigation:h,scrollbar:v,virtual:m,thumbs:g}=n;let b,y,_,E,x,C,S,D;a.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(b=!0),a.includes("controller")&&t.controller&&t.controller.control&&d.controller&&!d.controller.control&&(y=!0),a.includes("pagination")&&t.pagination&&(t.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(_=!0),a.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||o)&&(d.scrollbar||d.scrollbar===!1)&&v&&!v.el&&(E=!0),a.includes("navigation")&&t.navigation&&(t.navigation.prevEl||i)&&(t.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(x=!0);const N=k=>{n[k]&&(n[k].destroy(),k==="navigation"?(n.isElement&&(n[k].prevEl.remove(),n[k].nextEl.remove()),d[k].prevEl=void 0,d[k].nextEl=void 0,n[k].prevEl=void 0,n[k].nextEl=void 0):(n.isElement&&n[k].el.remove(),d[k].el=void 0,n[k].el=void 0))};a.includes("loop")&&n.isElement&&(d.loop&&!t.loop?C=!0:!d.loop&&t.loop?S=!0:D=!0),c.forEach(k=>{if(fr(d[k])&&fr(t[k]))Object.assign(d[k],t[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in t[k]&&!t[k].enabled&&N(k);else{const T=t[k];(T===!0||T===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?T===!1&&N(k):d[k]=t[k]}}),c.includes("controller")&&!y&&n.controller&&n.controller.control&&d.controller&&d.controller.control&&(n.controller.control=d.controller.control),a.includes("children")&&e&&m&&d.virtual.enabled?(m.slides=e,m.update(!0)):a.includes("virtual")&&m&&d.virtual.enabled&&(e&&(m.slides=e),m.update(!0)),a.includes("children")&&e&&d.loop&&(D=!0),b&&g.init()&&g.update(!0),y&&(n.controller.control=d.controller.control),_&&(n.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),n.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),E&&(n.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),n.el.appendChild(o)),o&&(d.scrollbar.el=o),v.init(),v.updateSize(),v.setTranslate()),x&&(n.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=n.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),n.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),i.innerHTML=n.hostEl.constructor.prevButtonSvg,i.part.add("button-prev"),n.el.appendChild(i))),s&&(d.navigation.nextEl=s),i&&(d.navigation.prevEl=i),h.init(),h.update()),a.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),a.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),a.includes("direction")&&n.changeDirection(t.direction,!1),(C||D)&&n.loopDestroy(),(S||D)&&n.loopCreate(),n.update()}function ak(r,n){r===void 0&&(r={}),n===void 0&&(n=!0);const e={on:{}},t={},a={};Mr(e,fl),e._emitClasses=!0,e.init=!1;const s={},i=Uh.map(l=>l.replace(/_/,"")),o=Object.assign({},r);return Object.keys(o).forEach(l=>{typeof r[l]>"u"||(i.indexOf(l)>=0?fr(r[l])?(e[l]={},a[l]={},Mr(e[l],r[l]),Mr(a[l],r[l])):(e[l]=r[l],a[l]=r[l]):l.search(/on[A-Z]/)===0&&typeof r[l]=="function"?n?t["".concat(l[2].toLowerCase()).concat(l.substr(3))]=r[l]:e.on["".concat(l[2].toLowerCase()).concat(l.substr(3))]=r[l]:s[l]=r[l])}),["navigation","pagination","scrollbar"].forEach(l=>{e[l]===!0&&(e[l]={}),e[l]===!1&&delete e[l]}),{params:e,passedParams:a,rest:s,events:t}}function sk(r,n){let{el:e,nextEl:t,prevEl:a,paginationEl:s,scrollbarEl:i,swiper:o}=r;zh(n)&&t&&a&&(o.params.navigation.nextEl=t,o.originalParams.navigation.nextEl=t,o.params.navigation.prevEl=a,o.originalParams.navigation.prevEl=a),qh(n)&&s&&(o.params.pagination.el=s,o.originalParams.pagination.el=s),Kh(n)&&i&&(o.params.scrollbar.el=i,o.originalParams.scrollbar.el=i),o.init(e)}function ik(r,n,e,t,a){const s=[];if(!n)return s;const i=l=>{s.indexOf(l)<0&&s.push(l)};if(e&&t){const l=t.map(a),c=e.map(a);l.join("")!==c.join("")&&i("children"),t.length!==e.length&&i("children")}return Uh.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in r&&l in n)if(fr(r[l])&&fr(n[l])){const c=Object.keys(r[l]),d=Object.keys(n[l]);c.length!==d.length?i(l):(c.forEach(f=>{r[l][f]!==n[l][f]&&i(l)}),d.forEach(f=>{r[l][f]!==n[l][f]&&i(l)}))}else r[l]!==n[l]&&i(l)}),s}const ok=r=>{!r||r.destroyed||!r.params.virtual||r.params.virtual&&!r.params.virtual.enabled||(r.updateSlides(),r.updateProgress(),r.updateSlidesClasses(),r.parallax&&r.params.parallax&&r.params.parallax.enabled&&r.parallax.setTranslate())};function li(){return li=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},li.apply(this,arguments)}function Xh(r){return r.type&&r.type.displayName&&r.type.displayName.includes("SwiperSlide")}function Zh(r){const n=[];return M.Children.toArray(r).forEach(e=>{Xh(e)?n.push(e):e.props&&e.props.children&&Zh(e.props.children).forEach(t=>n.push(t))}),n}function lk(r){const n=[],e={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return M.Children.toArray(r).forEach(t=>{if(Xh(t))n.push(t);else if(t.props&&t.props.slot&&e[t.props.slot])e[t.props.slot].push(t);else if(t.props&&t.props.children){const a=Zh(t.props.children);a.length>0?a.forEach(s=>n.push(s)):e["container-end"].push(t)}else e["container-end"].push(t)}),{slides:n,slots:e}}function ck(r,n,e){if(!e)return null;const t=d=>{let f=d;return d<0?f=n.length+d:f>=n.length&&(f=f-n.length),f},a=r.isHorizontal()?{[r.rtlTranslate?"right":"left"]:"".concat(e.offset,"px")}:{top:"".concat(e.offset,"px")},{from:s,to:i}=e,o=r.params.loop?-n.length:0,l=r.params.loop?n.length*2:n.length,c=[];for(let d=o;d<l;d+=1)d>=s&&d<=i&&c.push(n[t(d)]);return c.map((d,f)=>M.cloneElement(d,{swiper:r,style:a,key:d.props.virtualIndex||d.key||"slide-".concat(f)}))}function ma(r,n){return typeof window>"u"?p.useEffect(r,n):p.useLayoutEffect(r,n)}const md=p.createContext(null),uk=p.createContext(null),Jh=p.forwardRef(function(r,n){let{className:e,tag:t="div",wrapperTag:a="div",children:s,onSwiper:i,...o}=r===void 0?{}:r,l=!1;const[c,d]=p.useState("swiper"),[f,h]=p.useState(null),[v,m]=p.useState(!1),g=p.useRef(!1),b=p.useRef(null),y=p.useRef(null),_=p.useRef(null),E=p.useRef(null),x=p.useRef(null),C=p.useRef(null),S=p.useRef(null),D=p.useRef(null),{params:N,passedParams:k,rest:T,events:P}=ak(o),{slides:L,slots:O}=lk(s),$=()=>{m(!v)};Object.assign(N.on,{_containerClasses(B,K){d(K)}});const F=()=>{Object.assign(N.on,P),l=!0;const B={...N};if(delete B.wrapperClass,y.current=new pc(B),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=L;const K={cache:!1,slides:L,renderExternal:h,renderExternalUpdate:!1};Mr(y.current.params.virtual,K),Mr(y.current.originalParams.virtual,K)}};b.current||F(),y.current&&y.current.on("_beforeBreakpoint",$);const I=()=>{l||!P||!y.current||Object.keys(P).forEach(B=>{y.current.on(B,P[B])})},R=()=>{!P||!y.current||Object.keys(P).forEach(B=>{y.current.off(B,P[B])})};p.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",$)}),p.useEffect(()=>{!g.current&&y.current&&(y.current.emitSlidesClasses(),g.current=!0)}),ma(()=>{if(n&&(n.current=b.current),!!b.current)return y.current.destroyed&&F(),sk({el:b.current,nextEl:x.current,prevEl:C.current,paginationEl:S.current,scrollbarEl:D.current,swiper:y.current},N),i&&!y.current.destroyed&&i(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),ma(()=>{I();const B=ik(k,_.current,L,E.current,K=>K.key);return _.current=k,E.current=L,B.length&&y.current&&!y.current.destroyed&&rk({swiper:y.current,slides:L,passedParams:k,changedParams:B,nextEl:x.current,prevEl:C.current,scrollbarEl:D.current,paginationEl:S.current}),()=>{R()}}),ma(()=>{ok(y.current)},[f]);function A(){return N.virtual?ck(y.current,L,f):L.map((B,K)=>M.cloneElement(B,{swiper:y.current,swiperSlideIndex:K}))}return M.createElement(t,li({ref:b,className:Qh("".concat(c).concat(e?" ".concat(e):""))},T),M.createElement(uk.Provider,{value:y.current},O["container-start"],M.createElement(a,{className:nk(N.wrapperClass)},O["wrapper-start"],A(),O["wrapper-end"]),zh(N)&&M.createElement(M.Fragment,null,M.createElement("div",{ref:C,className:"swiper-button-prev"}),M.createElement("div",{ref:x,className:"swiper-button-next"})),Kh(N)&&M.createElement("div",{ref:D,className:"swiper-scrollbar"}),qh(N)&&M.createElement("div",{ref:S,className:"swiper-pagination"}),O["container-end"]))});Jh.displayName="Swiper";const em=p.forwardRef(function(r,n){let{tag:e="div",children:t,className:a="",swiper:s,zoom:i,lazy:o,virtualIndex:l,swiperSlideIndex:c,...d}=r===void 0?{}:r;const f=p.useRef(null),[h,v]=p.useState("swiper-slide"),[m,g]=p.useState(!1);function b(x,C,S){C===f.current&&v(S)}ma(()=>{if(typeof c<"u"&&(f.current.swiperSlideIndex=c),n&&(n.current=f.current),!(!f.current||!s)){if(s.destroyed){h!=="swiper-slide"&&v("swiper-slide");return}return s.on("_slideClass",b),()=>{s&&s.off("_slideClass",b)}}}),ma(()=>{s&&f.current&&!s.destroyed&&v(s.getSlideClasses(f.current))},[s]);const y={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},_=()=>typeof t=="function"?t(y):t,E=()=>{g(!0)};return M.createElement(e,li({ref:f,className:Qh("".concat(h).concat(a?" ".concat(a):"")),"data-swiper-slide-index":l,onLoad:E},d),i&&M.createElement(md.Provider,{value:y},M.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof i=="number"?i:void 0},_(),o&&!m&&M.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&M.createElement(md.Provider,{value:y},_(),o&&!m&&M.createElement("div",{className:"swiper-lazy-preloader"})))});em.displayName="SwiperSlide";const dk=r=>{const{className:n,comments:e}=r,[t,a]=H("main-comments",n);return e.length?w("section",{className:t(),children:[u(le,{tag:"h2",className:a("title"),children:"Реальные истории. Реальные победы"}),w("div",{className:a("slider-container"),children:[u(Jh,{modules:[Ux],spaceBetween:24,slidesPerView:"auto",navigation:{nextEl:".main-comments__next",prevEl:".main-comments__prev"},centeredSlides:!0,loop:!0,className:a("slider"),children:e.map((s,i)=>u(em,{className:a("slide"),children:u(Lh,{comment:s,className:a("comment"),isMain:!0})},"".concat(s.id,"-").concat(i)))}),w("div",{className:a("navigation"),children:[u(j,{theme:"blue-light",icon:"arrow--bottom",className:a("prev")}),u(j,{theme:"blue-light",icon:"arrow",className:a("next")})]})]})]}):null};const vd=r=>{var C,S;const{className:n,slides:e,direction:t="up",speed:a=3}=r,s=am(),i=p.useRef(null),o=p.useRef(null),l=p.useRef(null),[c,d]=p.useState(0),[f,h]=p.useState(0),[v,m]=p.useState(e),[g,b]=p.useState(!1),[y,_]=H("vertical-slider",n),E=[...v,...v],x=()=>{i.current&&d(i.current.clientHeight),o.current&&h(o.current.clientHeight)};return p.useEffect(()=>(typeof ResizeObserver<"u"&&(l.current=new ResizeObserver(x),i.current&&l.current.observe(i.current),o.current&&l.current.observe(o.current)),()=>{l.current&&l.current.disconnect()}),[]),p.useEffect(()=>{x()},[(C=i.current)==null?void 0:C.clientHeight,(S=o.current)==null?void 0:S.clientHeight]),p.useEffect(()=>{if(o.current){const D=o.current.querySelectorAll("img");if(D.length===0){b(!0);return}let N=0;const k=D.length,T=()=>{N++,N===k&&(b(!0),x())};return D.forEach(P=>{P.complete?T():(P.addEventListener("load",T),P.addEventListener("error",T))}),()=>{D.forEach(P=>{P.removeEventListener("load",T),P.removeEventListener("error",T)})}}},[v]),p.useEffect(()=>{m(e)},[e]),p.useEffect(()=>{if(c>0&&f>0&&g){const D=f/2;let N=!1;const k=async()=>{N||(t==="down"?(await s.set({y:-D}),await s.start({y:0,transition:{duration:a,ease:"linear"}})):(await s.set({y:0}),await s.start({y:-D,transition:{duration:a,ease:"linear"}})),k())};return k(),()=>{N=!0,s.stop()}}},[s,c,f,a,e,g,t]),u("div",{className:y(),ref:i,children:u("div",{className:_("slider-container"),children:u(wd.div,{className:_("items-container"),animate:s,ref:o,children:E.map((D,N)=>{const k="slide-".concat(N,"-").concat(Math.random().toString(36).substr(2,9));return u("div",{className:_("slide"),children:D},k)})})})})};const fk=r=>{const{className:n,leftPhotos:e,rightPhotos:t,totalCompleted:a}=r,[s,i]=H("main-header",n),{setWindow:o,setIsOpen:l}=ea,c=()=>{l(!0),o("login")};return w("section",{className:s(),children:[u("div",{className:i("slider"),children:e.length>0&&u(vd,{slides:e.map(d=>u("img",{className:i("slider-image"),src:d.imageUrl,alt:"Фотография из комментария"})),direction:"up",speed:60})}),w("div",{className:i("info"),children:[u(le,{tag:"h1",className:i("title"),children:w(ct,{children:["Превратите свои мечты в цели и начните своё путешествие в ",u("p",{className:i("gradient"),children:"лучшую жизнь"})]})}),u("p",{className:i("description"),children:"Мы уже сделали это за вас - 100 вдохновляющих целей для яркой и успешной жизни уже в вашем профиле"}),u(j,{className:i("button"),theme:"gradient",size:"medium",icon:"rocket",onClick:c,children:"Начать путь"}),w("p",{className:i("completed"),children:["🔥 Уже выполнено:"," ",u("span",{className:i("completed-number"),children:ht(a,["цель","цели","целей"])})]})]}),u("div",{className:i("slider"),children:t.length>0&&u(vd,{slides:t.map(d=>u("img",{className:i("slider-image"),src:d.imageUrl,alt:"Фотография из комментария"})),direction:"down",speed:60})})]})};const ji=r=>{const{className:n,achievement:e}=r,[t,a]=H("achievement",n);return w("div",{className:t(),children:[u("span",{className:a("image-wrapper"),children:u("img",{className:a("image"),src:e.image,alt:e.title})}),w("div",{children:[u(le,{tag:"h4",children:e.title}),u("p",{children:e.description})]})]})};const Ao=r=>{const{className:n,done:e,all:t,complexity:a}=r,[s,i]=H("progress-category",n),o=p.useRef(null);return p.useEffect(()=>{if(o.current){const l=2*Math.PI*parseFloat(o.current.getAttribute("r")||"0"),c=l-l*(e/t)*100/100;o.current.style.strokeDashoffset=c.toString()}},[e,t]),w("div",{className:s(),children:[w("div",{className:i("bar"),style:{width:"40px",height:"40px"},children:[u(te,{icon:a}),w("svg",{viewBox:"0 0 40 40",className:i("svg-container"),children:[u("circle",{className:i("outer-circle"),cx:"20",cy:"20",r:"18",fill:"none",strokeWidth:4}),e&&u("circle",{className:i("progress-indicator",{complexity:a}),cx:"20",cy:"20",r:"18",fill:"none",strokeWidth:4,ref:o,strokeDasharray:"".concat(2*Math.PI*17.5),strokeDashoffset:"0",strokeLinecap:"round",transform:"rotate(-90 20 20)"})]})]}),w("div",{className:i("wrapper"),children:[u("span",{children:Wf[a]}),u("span",{className:i("account"),children:"".concat(e,"/").concat(t)})]})]})};const Qa=r=>{const{className:n,totalCompletedEasy:e,totalAddedEasy:t,totalAddedHard:a,totalAddedMedium:s,totalCompletedHard:i,totalCompletedMedium:o,column:l}=r,[c,d]=H("info-100-goals",n);return w("section",{className:c(),children:[w("div",{className:d("wrapper",{column:l}),children:[u(Ao,{complexity:"easy",done:e,all:t}),u(nt,{vertical:!l,height:-16,margin:l?"0":"16px 0"}),u(Ao,{complexity:"medium",done:o,all:s}),u(nt,{vertical:!l,height:-16,margin:l?"0":"16px 0"}),u(Ao,{complexity:"hard",done:i,all:a})]}),t+a+s>0&&w(ct,{children:[u(nt,{}),w("div",{className:d("score"),children:[u("p",{className:d("text"),children:"Общий прогресс:"}),u(wi,{done:e+i+o,all:t+a+s,goal:!0})]})]})]})};const pk=r=>{const{className:n}=r,[e,t]=H("main-info",n);return w("section",{className:e(),children:[w("div",{className:t("item"),children:[u(te,{className:t("icon"),icon:"question-circle",width:"24px",height:"24px"}),u(le,{tag:"h2",className:t("title"),children:"Почему это меняет жизнь?"}),u("p",{children:"Ты уже знаешь, куда двигаться — благодаря чёткой структуре. С помощью отслеживания прогресса и визуализации формируешь новые привычки, которые меняют мышление и поведение. А самое главное — ты не один: наше сообщество всегда поддержит тебя."}),w("div",{className:t("example"),children:[u("h3",{className:t("info-title"),children:"Невыполненных целей в “100 целей”"}),w("span",{className:t("info-count"),children:[u(te,{icon:"star"}),"76"]})]}),u(ji,{className:t("achievement"),achievement:{id:1,title:"Путешественник 1го уровня",description:"Выполнить хотя бы 1 цель из категории «Путешествия»",image:"/svg/map.svg"}}),u(Qa,{totalAddedEasy:34,totalAddedHard:33,totalAddedMedium:33,totalCompletedEasy:16,totalCompletedHard:2,totalCompletedMedium:10,column:!0,className:t("info-100-goals")})]}),w("div",{className:t("item"),children:[u(te,{className:t("icon"),icon:"rocket",width:"24px",height:"24px"}),u(le,{tag:"h3",className:t("title"),children:"100 целей на жизнь"}),u("p",{children:"Список 100 целей на жизнь стимулирует всестороннее развитие и помогает охватить все аспекты жизни, от карьерных и личных до духовных и развлекательных."})]}),w("div",{className:t("item"),children:[u(te,{className:t("icon",{apps:!0}),icon:"apps",width:"24px",height:"24px"}),u(le,{tag:"h3",className:t("title"),children:"Каталог целей"}),u("p",{children:"Хотите отслеживать прогресс и ставить перед собой другие цели? Вы обязательно сможете найти что-нибудь подходящее для вас в нашем каталоге."})]}),w("div",{className:t("item"),children:[u(te,{className:t("icon"),icon:"trophy",width:"24px",height:"24px"}),u(le,{tag:"h3",className:t("title"),children:"Список лидеров"}),u("p",{children:"Зарабатывайте достижения и соревнуйтесь с друзьями. Обойдите всех в недельном рейтинге и похвастайтесь своей новой яркой жизнью."})]})]})};const pl=r=>{const{className:n,goal:e,big:t,withBtn:a,updateGoal:s,colored:i}=r,[o,l]=H("card-main",n),c=d=>{d.preventDefault(),s&&s()};return u("section",{className:o({big:t,withBtn:a}),children:u(xe,{to:"/goals/".concat(e.code),className:l("gradient"),children:u(kl,{img:{src:e.image,alt:e.title},category:e.category.nameEn,blacked:!i&&!e.completedByUser,children:w("div",{className:l("info"),children:[w("div",{className:l("img-tags"),children:[e.completedByUser&&u(St,{icon:"done",theme:"light",classNameIcon:l("img-tag-icon-done")}),u(St,{text:e.category.name,category:e.category.nameEn,className:l("img-tag-category")})]}),w("div",{children:[u(le,{tag:"h3",className:l("title"),theme:"white",children:e.title}),u("p",{className:l("text"),children:e.shortDescription}),a&&w(ct,{children:[u(nt,{className:l("line")}),u(j,{className:l("btn"),icon:"done",theme:e.completedByUser?"green":"blue",onClick:c,children:"Выполнено"})]})]})]})})})})};const hk=r=>{const{className:n,buttons:e,active:t,onChange:a}=r,[s,i]=H("switch-button",n),o=l=>{t!==l&&a(l)};return u("section",{className:s(),children:e.map(l=>w("button",{className:i("button",{active:t===l.id}),onClick:()=>o(l.id),type:"button",children:[l.name,!!l.count&&u("span",{className:i("count"),children:l.count})]},l.id))})};const mk=r=>{const{className:n,goalsForDay:e,goalsForAllTime:t}=r,[a,s]=H("main-popular",n),[i,o]=p.useState("top");return w("section",{className:a(),children:[w("div",{className:s("header"),children:[u(hk,{buttons:[{id:"top",name:"Топ целей"},{id:"today",name:"Популярные сегодня"}],active:i,onChange:o}),u(j,{icon:"rocket",theme:"no-border",type:"Link",href:"/categories/all",children:"Выбрать свою цель"})]}),w("div",{className:s("content"),children:[i==="top"&&(t==null?void 0:t.map((l,c)=>u(pl,{goal:l,className:s("card",{big:c<3}),big:c<3,colored:!0},l.code))),i==="today"&&(e==null?void 0:e.map((l,c)=>u(pl,{goal:l,className:s("card",{big:c<3}),big:c<3,colored:!0},l.code)))]})]})},vk=async()=>await ge("comments/popular-photos"),gk=async()=>await ge("goals/popular/all-time",{auth:!0}),yk=async()=>await ge("goals/popular/day",{auth:!0}),bk=async()=>await ge("comments/top-liked",{auth:!0}),wk=async()=>await ge("goals/total-completed");const _k=()=>{const[r]=H("main-container"),[n,e]=p.useState(0),[t,a]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,d]=p.useState([]),[f,h]=p.useState(0),v=async()=>{e(E=>E+1);const _=await vk();_.success&&a(_.data.photos),e(E=>E-1)},m=async()=>{e(E=>E+1);const _=await yk();_.success&&i(_.data),e(E=>E-1)},g=async()=>{e(E=>E+1);const _=await gk();_.success&&l(_.data),e(E=>E-1)},b=async()=>{e(E=>E+1);const _=await wk();_.success&&h(_.data.totalCompletedGoals),e(E=>E-1)},y=async()=>{e(E=>E+1);const _=await bk();_.success&&d(_.data),e(E=>E-1)};return p.useEffect(()=>{v(),m(),g(),y(),b()},[]),w(Xe,{isLoading:!!n,className:r(),children:[u(fk,{leftPhotos:t.slice(0,10),rightPhotos:t.slice(10,20),totalCompleted:f}),u(mk,{goalsForDay:s,goalsForAllTime:o}),u(pk,{}),u(dk,{comments:[...c,...c]}),u(jf,{tag:"h2",title:"Что тебе интересно?"})]})},Sk=({page:r})=>{const{setHeader:n,setPage:e,setFull:t}=Me;return p.useEffect(()=>{n("white"),e(r),t(!1)},[]),u(_k,{page:r})};const Lr=r=>{const{className:n,goals:e,complexity:t,withBtn:a,updateGoal:s}=r,[i,o]=H("main-cards",n);return w("section",{className:i(),children:[w(le,{className:o("title"),tag:"h2",children:[u(te,{icon:t,width:"22px",height:"22px"}),Wf[t]]}),u("section",{className:o("cards"),children:e==null?void 0:e.map((l,c)=>u(pl,{goal:l,className:o("card",{big:c<3}),big:c<3,withBtn:a,updateGoal:()=>s&&s(c,t,l.code,l.completedByUser)},l.code))})]})},hc=async r=>await ge("100-goals",{auth:!0,get:{user_id:r}});const Ek=()=>{const[r,n]=H("main-goals"),[e,t]=p.useState(!0),[a,s]=p.useState({easyGoals:{data:[],countCompleted:0},mediumGoals:{data:[],countCompleted:0},hardGoals:{data:[],countCompleted:0}});if(p.useEffect(()=>{(async()=>{t(!0);const o=await hc();o.success&&s(o.data),t(!1)})()},[]),!a)return null;const i=async(o,l,c,d)=>{const f=await Ba(c,!d);if(f.success){const h={completedByUser:!d,totalAdded:f.data.totalAdded,totalCompleted:f.data.totalCompleted},v="".concat(l,"Goals"),m=a[v],g={data:[...m.data.slice(0,o),{...m.data[o],...h},...m.data.slice(o+1)],countCompleted:m.countCompleted+(d?-1:1)};s({...a,[v]:g})}};return u("main",{className:r(),children:u(Xe,{isLoading:e,children:w(ct,{children:[w("div",{className:n("info"),children:[w("div",{className:n("description"),children:[u(le,{className:n("title"),tag:"h1",children:"Твои 100 целей на жизнь!"}),u("p",{children:"Сколько всего вы бы хотели сделать, увидеть, испытать за свою жизнь, но мечты постоянно откладываются? Превратите свои мечты в цели, и скоро вы заметите, как ваша жизнь изменилась. Мы уже сделали это за вас - дерзайте!"})]}),u(Qa,{className:n("stats"),totalAddedEasy:a.easyGoals.data.length,totalAddedMedium:a.mediumGoals.data.length,totalAddedHard:a.hardGoals.data.length,totalCompletedEasy:a.easyGoals.countCompleted,totalCompletedMedium:a.mediumGoals.countCompleted,totalCompletedHard:a.hardGoals.countCompleted})]}),u(Lr,{className:n("goals"),goals:a.easyGoals.data,complexity:"easy",withBtn:!0,updateGoal:i}),u(Lr,{className:n("goals"),goals:a.mediumGoals.data,complexity:"medium",withBtn:!0,updateGoal:i}),u(Lr,{className:n("goals"),goals:a.hardGoals.data,complexity:"hard",withBtn:!0,updateGoal:i})]})})})},gd=({page:r})=>{const{setHeader:n,setPage:e,setFull:t}=Me;return p.useEffect(()=>{n("white"),e(r),t(!1)},[]),u(Ek,{page:r})};const Nk=$e(()=>{const[r,n]=H("not-found");return w("main",{className:r(),children:[u(le,{tag:"h1",children:"404"}),u(le,{tag:"h2",children:"Такой страницы не существует"}),u("p",{children:"Возможно страница была удалена или перемещена. Попробуйте обновить запрос"}),u(j,{className:n("link"),href:"/",type:"Link",theme:"blue",size:"medium",children:"Вернуться на главную"})]})}),Ck=({page:r})=>{const{setHeader:n,setPage:e,setFull:t}=Me;return p.useEffect(()=>{n("white"),e(r),t(!1)},[]),u(Nk,{})},xk=({page:r})=>{const{setHeader:n,setPage:e,setFull:t}=Me,{setName:a,setIsAuth:s,setAvatar:i}=Wt,o=ln(),l=c=>{Ve.set("name",c.name||""),a(c.name||""),s(!0),i(Ve.get("avatar")||""),o("/list/100-goals")};return p.useEffect(()=>{n("white"),e(r),t(!0)},[]),u(Ff,{isPage:!0,openLogin:()=>o("/sign-in"),successRegistration:l})};const Dk=r=>{const{background:n,avatar:e,name:t,totalAdded:a,totalCompleted:s,page:i,id:o,totalAddedLists:l,totalCompletedLists:c,totalAchievements:d}=r,[f,h]=H("user-info"),v=p.useMemo(()=>[{url:"/user/".concat(o,"/showcase"),name:"Витрина",page:"isUserShowcase"},{url:"/user/".concat(o,"/100-goal"),name:"100 целей",page:"isUser100Goals"},{url:"/user/".concat(o,"/active-goals"),name:"Активные цели и списки",page:"isUserActiveGoals",count:l+a-(c+s)},{url:"/user/".concat(o,"/done-goals"),name:"Выполненные",page:"isUserDoneGoals",count:c+s},{url:"/user/".concat(o,"/achievements"),name:"Достижения",page:"isUserAchievements",count:d}],[o,d,a,l,s,c]);return w("article",{className:f(),children:[n&&u("div",{style:{backgroundImage:"url('".concat(n,"')")},className:h("bg")}),w("section",{className:h("about"),children:[u(na,{avatar:e,className:h("avatar"),size:"large"}),w("div",{className:h("wrapper"),children:[u(le,{tag:"h2",className:h("name"),children:t}),w("div",{className:h("right"),children:[u(j,{type:"Link",theme:"blue",icon:"plus",href:"/goals/create",children:"Добавить цель"}),u(Vi,{items:[{title:"Всего целей",value:a},{title:"Выполнено",value:s}],className:h("goals")})]})]})]}),u(dc,{tabs:v,active:i})]})};const kk=$e(r=>{const{id:n}=r,[e,t]=H("user-100-goals"),{mainGoals:a,setMainGoals:s}=Wt,[i,o]=p.useState(!0),l=async()=>{o(!0);const c=await hc(n);c.success&&s(c.data),o(!1)};return p.useEffect(()=>{l()},[]),w(Xe,{isLoading:i,className:e(),children:[u(Qa,{className:t("stats"),totalAddedEasy:a.easyGoals.data.length,totalAddedMedium:a.mediumGoals.data.length,totalAddedHard:a.hardGoals.data.length,totalCompletedEasy:a.easyGoals.countCompleted,totalCompletedMedium:a.mediumGoals.countCompleted,totalCompletedHard:a.hardGoals.countCompleted}),u(Lr,{className:t("goals"),goals:a.easyGoals.data,complexity:"easy"}),u(Lr,{className:t("goals"),goals:a.mediumGoals.data,complexity:"medium"}),u(Lr,{className:t("goals"),goals:a.hardGoals.data,complexity:"hard"})]})});const Tk=$e(r=>{const{id:n}=r,[e,t]=H("user-achievements"),[a,s]=p.useState([]),[i,o]=p.useState(!0);return p.useEffect(()=>{(async()=>{o(!0);const l=await ge("achievements",{get:{user_id:n}});l.success&&s(l.data.data),o(!1)})()},[]),u(Xe,{isLoading:i,className:e(),children:a.map(l=>u(ji,{className:t("achievement"),achievement:l},l.id))})});const yd=$e(r=>{const{id:n,subPage:e,completed:t=!1}=r,[a]=H("user-goals"),[s,i]=p.useState([]),[o,l]=p.useState(!0);return p.useEffect(()=>{(async()=>{l(!0);const c=await jn();c.success&&i(c.data),l(!1)})()},[]),u(Xe,{isLoading:o,className:a(),children:u(Gl,{userId:n,beginUrl:"/user/".concat(n,"/").concat(t?"done":"active","-goals"),completed:t,subPage:e,categories:s})})});const Pk=$e(r=>{const{id:n}=r,[e,t]=H("user-showcase"),[a,s]=p.useState([]),[i,o]=p.useState(!0),{mainGoals:l,setMainGoals:c}=Wt,[d,f]=p.useState([]);return p.useEffect(()=>{(async()=>{o(!0);try{const[h,v,m]=await Promise.all([hc(n),ge("achievements",{get:{user_id:n}}),ge("comments/".concat(n),{auth:!0})]);h.success&&c(h.data),v.success&&f(v.data.data),m.success&&s(m.data.data)}finally{o(!1)}})()},[]),w(Xe,{isLoading:i,className:e(),children:[u(Ah,{comments:a,setComments:s,isUser:!0}),w("aside",{className:t("sidebar"),children:[w("div",{className:t("title"),children:[u(le,{tag:"h2",children:"100 целей"}),u(j,{theme:"blue-light",size:"small",type:"Link",href:"/user/".concat(n,"/100-goal"),children:"Смотреть все"})]}),u(Qa,{className:t("stats"),totalAddedEasy:l.easyGoals.data.length,totalAddedMedium:l.mediumGoals.data.length,totalAddedHard:l.hardGoals.data.length,totalCompletedEasy:l.easyGoals.countCompleted,totalCompletedMedium:l.mediumGoals.countCompleted,totalCompletedHard:l.hardGoals.countCompleted,column:!0}),w("div",{className:t("title"),children:[u(le,{tag:"h2",children:"Достижения"}),u(j,{theme:"blue-light",size:"small",type:"Link",href:"/user/".concat(n,"/achievements"),children:"Смотреть все"})]}),d.map(h=>u(ji,{className:t("achievement"),achievement:h},h.id))]})]})}),Ok=$e(({page:r,subPage:n})=>{const[e]=H("user"),{userInfo:t}=Wt,{id:a}=Qr(),[s,i]=p.useState(!0);if(!a)return null;p.useEffect(()=>{(async()=>(i(!0),await Dl(a),i(!1)))()},[a]);const o=()=>{switch(r){case"isUserShowcase":return u(Pk,{id:a});case"isUser100Goals":return u(kk,{id:a});case"isUserActiveGoals":return u(yd,{id:a,subPage:n||""});case"isUserDoneGoals":return u(yd,{id:a,subPage:n||"",completed:!0});case"isUserAchievements":return u(Tk,{id:a});default:return null}};return w("main",{className:e(),children:[u(Xe,{isLoading:s,children:u(Dk,{avatar:t.avatar||null,name:t.name,totalAdded:t.totalAddedGoals,totalCompleted:t.totalCompletedGoals,page:r,id:a,totalAddedLists:t.totalAddedLists,totalCompletedLists:t.totalCompletedLists,totalAchievements:t.totalAchievements,background:t.coverImage})}),o()]})}),qn=({page:r,subPage:n})=>{const{setHeader:e,setPage:t,setFull:a}=Me;return p.useEffect(()=>{e("white"),t(r),a(!1)},[]),u(Ok,{page:r,subPage:n})};const Mk=$e(()=>{const[r,n]=H("user-self-achievements"),[e,t]=p.useState([]),[a,s]=p.useState(!0);return p.useEffect(()=>{(async()=>{s(!0);const i=await ge("achievements",{auth:!0});i.success&&t(i.data.data),s(!1)})()},[]),u(Xe,{isLoading:a,className:r(),children:e.map(i=>u(ji,{className:n("achievement"),achievement:i},i.id))})}),Lk=async(r="year")=>{try{return await ge("users/activity",{auth:!0,get:{period:r},showErrorNotification:!0,showSuccessNotification:!1})}catch(n){return{success:!1,errors:"Не удалось загрузить данные активности"}}};const Ak=({className:r,period:n="year"})=>{const[e,t]=H("activity-heatmap",r),[a,s]=p.useState(null),[i,o]=p.useState("loading"),[l,c]=p.useState(null);p.useEffect(()=>{(async()=>{o("loading");try{const D=await Lk(n);D.success&&D.data?(D.data.stats&&D.data.stats.is_active_today!==void 0&&(D.data.stats.isActiveToday=D.data.stats.is_active_today),s(D.data),o("success")):o("error")}catch(D){o("error")}})()},[n]);const d=()=>{if(!a||!a.dates.length)return[];const S=new Date(a.dates[0].date),D=S.getDay()===0?6:S.getDay()-1,N={};let k=0,T=D;const P=[...a.dates].sort(($,F)=>new Date($.date).getTime()-new Date(F.date).getTime()),L=Array(7).fill(null);return P.forEach($=>{T===7&&(T=0,k+=1);const F="week-".concat(k);N[F]||(N[F]=Array(7).fill(null)),k===0?L[T]=$:N[F][T]=$,T+=1}),(k===0||Object.keys(N).length>0)&&(N["week-0"]=L),Object.entries(N).sort(([$],[F])=>parseInt($.split("-")[1],10)-parseInt(F.split("-")[1],10)).map(([$,F])=>({id:$,days:F}))},f=p.useMemo(()=>d(),[a]),h=S=>{c(S)},v=S=>new Date(S).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}),m=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],g=()=>{if(!a||!a.dates.length)return{monthPositions:[],totalWeeks:0};const{dates:S}=a,D=[...S].sort((O,$)=>new Date(O.date).getTime()-new Date($.date).getTime()),N=d(),k=N.length,T={};return D.forEach(O=>{var B;const $=new Date(O.date),F=$.getFullYear(),I=$.getMonth(),R="".concat(F,"-").concat(I);if(!T[R]){const K=a.months.find(G=>G.month===I+1&&G.year===F);K&&(T[R]={year:F,month:I+1,monthInfo:K,weeks:new Set})}const A=(B=N.find(K=>K.days.some(G=>G&&G.date===O.date)))==null?void 0:B.id;T[R]&&A&&T[R].weeks.add(A)}),{monthPositions:Object.values(T).sort((O,$)=>O.year!==$.year?O.year-$.year:O.month-$.month).map(O=>{const $=O.weeks.size,F=$/k*100,I=[...O.weeks][0],R=N.findIndex(A=>A.id===I);return{month:O.monthInfo,startWeek:R!==-1?R:0,weekSpan:$,width:Math.max(F,5)}}),totalWeeks:k}},{monthPositions:b}=p.useMemo(()=>a?g():{monthPositions:[],totalWeeks:0},[a]),[y,_]=p.useState(window.innerWidth<=768?10:19);p.useEffect(()=>{const S=()=>{_(window.innerWidth<=768?10:19)};return window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[]);const E=(S,D,N)=>{if(!S)return u("div",{className:t("day",{empty:!0}),"data-testid":"empty-day-".concat(N,"-").concat(D)},"empty-cell-".concat(N,"-").concat(D));const k="".concat(v(S.date),": ").concat(ht(S.goalCount,["цель выполнена","цели выполнено","целей выполнено"]),", ").concat(ht(S.listCount,["список выполнен","списка выполнено","списков выполнено"]));return u("button",{className:t("day",{level:"".concat(S.level),type:S.activityType}),onClick:()=>h(S),title:k,"aria-label":k,type:"button","data-testid":"day-".concat(S.date)},"day-".concat(S.date))},x=S=>{var D;return!S.goalCount||!((D=S.completedGoals)!=null&&D.length)?null:w("div",{className:t("detail-item"),children:[w("div",{className:t("detail-header"),children:[u(te,{icon:"target",width:"16px",height:"16px",className:t("detail-icon")}),u("span",{children:ht(S.goalCount,["цель выполнена","цели выполнено","целей выполнено"])})]}),u("ul",{className:t("completed-list"),children:S.completedGoals.map(N=>u("li",{className:t("completed-item"),children:N.title},"goal-".concat(N.id)))})]})},C=S=>{var D;return!S.listCount||!((D=S.completedLists)!=null&&D.length)?null:w("div",{className:t("detail-item"),children:[w("div",{className:t("detail-header"),children:[u(te,{icon:"list",width:"16px",height:"16px",className:t("detail-icon")}),u("span",{children:ht(S.listCount,["список выполнен","списка выполнено","списков выполнено"])})]}),u("ul",{className:t("completed-list"),children:S.completedLists.map(N=>u("li",{className:t("completed-item"),children:N.title},"list-".concat(N.id)))})]})};return w("div",{className:e(),children:[u(le,{className:t("title"),tag:"h2",children:"Активность выполнения целей и списков"}),u(Xe,{isLoading:i==="loading",children:i==="error"?u("div",{className:t("error"),children:u("p",{children:"Не удалось загрузить данные активности"})}):a?w(ct,{children:[w("div",{className:t("stats"),children:[w("div",{className:t("stat-item"),children:[u("span",{className:t("stat-value"),children:a.stats.totalGoalsCompleted}),u("span",{className:t("stat-label"),children:ht(a.stats.totalGoalsCompleted,["цель выполнена","цели выполнено","целей выполнено"],!1)})]}),w("div",{className:t("stat-item"),children:[u("span",{className:t("stat-value"),children:a.stats.totalListsCompleted}),u("span",{className:t("stat-label"),children:ht(a.stats.totalListsCompleted,["список выполнен","списка выполнено","списков выполнено"],!1)})]}),w("div",{className:t("stat-item"),children:[u("span",{className:t("stat-value"),children:a.stats.currentStreak}),u("span",{className:t("stat-label"),children:"текущая серия"})]}),w("div",{className:t("stat-item"),children:[u("span",{className:t("stat-value"),children:a.stats.maxStreak}),u("span",{className:t("stat-label"),children:"макс. серия"})]}),w("div",{className:t("stat-item"),children:[w("span",{className:t("stat-value"),children:[a.stats.activityPercentage,"%"]}),u("span",{className:t("stat-label"),children:"активность"})]}),w("div",{className:t("stat-item"),children:[u("span",{className:t("stat-value",{active:a.stats.isActiveToday,inactive:!a.stats.isActiveToday}),children:a.stats.isActiveToday?"Да":"Нет"}),u("span",{className:t("stat-label"),children:"сегодня"})]})]}),w("div",{className:t("container"),children:[u("div",{className:t("months"),children:b.map(S=>S.month&&u("div",{className:t("month-label"),style:{left:"".concat(S.startWeek*y,"px"),width:"".concat(S.weekSpan*y,"px")},children:S.month.name},"month-".concat(S.month.year,"-").concat(S.month.month)))}),w("div",{className:t("grid"),children:[u("div",{className:t("weekdays"),children:m.map(S=>u("div",{className:t("weekday-label"),children:S},"weekday-".concat(S)))}),u("div",{className:t("cells"),children:f.map(S=>u("div",{className:t("week"),"data-testid":"week-".concat(S.id),children:S.days.map((D,N)=>E(D,N,S.id))},S.id))})]}),w("div",{className:t("legend"),children:[w("div",{className:t("legend-section"),children:[u("div",{className:t("legend-label"),children:"Интенсивность:"}),w("div",{className:t("legend-scale"),children:[u("div",{className:t("legend-cell",{level:"0"})}),u("div",{className:t("legend-cell",{level:"1"})}),u("div",{className:t("legend-cell",{level:"2"})}),u("div",{className:t("legend-cell",{level:"3"})}),u("div",{className:t("legend-cell",{level:"4"})})]}),u("div",{className:t("legend-label"),children:"больше"})]}),w("div",{className:t("legend-section"),children:[u("div",{className:t("legend-label"),children:"Тип активности:"}),w("div",{className:t("legend-type"),children:[u("div",{className:t("legend-cell",{type:"goal"})}),u("span",{className:t("legend-type-label"),children:"Цели"})]}),w("div",{className:t("legend-type"),children:[u("div",{className:t("legend-cell",{type:"both"})}),u("span",{className:t("legend-type-label"),children:"и цели, и списки"})]})]})]})]}),l&&w("div",{className:t("day-details"),children:[u("h3",{children:v(l.date)}),l.totalCount===0?u("p",{children:"Нет активности в этот день"}):w("div",{className:t("details-content"),children:[x(l),C(l)]})]})]}):null})]})},Ik=M.memo(Ak);const Rk=({timer:r})=>{var o;const[n,e]=H("goal-timer-item"),t=ln(),a=new Date(r.deadline),s=Yr(a,"d MMMM yyyy",{locale:Ul}),i=()=>{t("/goals/".concat(r.goal.code))};return w("div",{className:n({expired:r.isExpired}),children:[((o=r.goal)==null?void 0:o.image)&&u("div",{className:e("image-container"),children:u("img",{src:r.goal.image,alt:r.goal.title,className:e("image")})}),w("div",{className:e("content"),children:[u("h3",{className:e("title"),children:r.goal.title}),w("div",{className:e("timer-info"),children:[w("div",{className:e("deadline"),children:[u("span",{className:e("label"),children:"Дедлайн: "}),s]}),r.isExpired?u("div",{className:e("expired"),children:"Время истекло"}):w("div",{children:[u("span",{className:e("label"),children:"Осталось: "}),r.daysLeft," ",r.daysLeft===1?"день":r.daysLeft<5?"дня":"дней"]})]}),u(j,{theme:"blue-light",onClick:i,className:e("button"),children:"Перейти к цели"})]})]})},$k=()=>{const[r,n]=H("goal-timers"),[e,t]=p.useState([]),[a,s]=p.useState(!0),[i,o]=p.useState(!1);p.useEffect(()=>{(async()=>{try{s(!0);const d=await jN(i);d.success&&d.data?t(d.data):re.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить таймеры"})}catch(d){console.error("Ошибка при загрузке таймеров:",d),re.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при загрузке таймеров"})}finally{s(!1)}})()},[i]);const l=()=>{o(c=>!c)};return w("div",{className:r(),children:[w("div",{className:n("header"),children:[u(le,{tag:"h1",className:n("title"),children:"Мои таймеры"}),u(j,{theme:"blue-light",onClick:l,className:n("toggle-button"),size:"medium",children:i?"Скрыть истекшие":"Показать истекшие"})]}),a?u("div",{className:n("loading"),children:u(Xe,{isLoading:a})}):e.length>0?u("div",{className:n("list"),children:e.map((c,d)=>u(Rk,{timer:c},c.id||"timer-".concat(d)))}):w("div",{className:n("empty"),children:[u("p",{children:"У вас пока нет активных таймеров"}),u("p",{children:"Установите таймер для своих целей, чтобы не пропустить дедлайн"})]})]})};const Fk=r=>{const{className:n,statistics:e}=r,[t,a]=H("user-statistics",n);return w("section",{className:t(),children:[w("div",{className:a("level"),children:[u("p",{className:a("level-text"),children:"Текущий уровень"}),w("p",{className:a("level-number"),children:[u(te,{icon:"level"}),e.currentStats.level]}),u(wi,{done:e.currentStats.currentExperience,all:e.currentStats.nextLevelExperience,text:"".concat(e.currentStats.currentExperience,"/").concat(e.currentStats.nextLevelExperience)})]}),u(nt,{height:-16,margin:"16px 0"}),w("p",{className:a("text"),children:[u("span",{children:"Заработано очков"}),u("span",{children:e.currentStats.currentExperience})]}),w("p",{className:a("text"),children:[u("span",{children:"Следующий уровень через"}),u("span",{children:e.currentStats.nextLevelExperience-e.currentStats.currentExperience})]}),w("p",{className:a("text"),children:[u("span",{children:"Заработано за отзывы"}),u("span",{children:e.totalStats.reviewsCount})]}),w("p",{className:a("text"),children:[u("span",{children:"Выполнение целей"}),u("span",{children:e.totalStats.completedGoals})]}),w("p",{className:a("text"),children:[u("span",{children:"Достижения"}),u("span",{children:e.totalStats.achievementsCount})]})]})};const Gk=r=>{const{className:n,weeks:e}=r,[t,a]=H("weekly-schedule",n),[s,i]=p.useState(0);return p.useEffect(()=>{let o=0;e.forEach(({completedGoals:l})=>{l>o&&(o=l)}),i(o)},[e]),w("section",{className:t(),children:[u("h3",{className:a("info-title"),children:"Выполнено целей за неделю"}),w("span",{className:a("info-count"),children:[u(te,{icon:"rocket"}),e[e.length-1].completedGoals]}),u("div",{className:a("weeks"),children:e.map(o=>w("div",{className:a("week"),children:[u("div",{className:a("column"),children:u("div",{className:a("column-active"),style:{height:"".concat(o.completedGoals/s*100,"%")}})}),u("p",{className:a("count-week"),children:o.weekNumber}),u("p",{className:a("month"),children:ux(o.startDate)})]},o.weekNumber))})]})},Bk=async()=>await ge("statistics",{auth:!0});const Wk=$e(()=>{const[r,n]=H("user-self-dashboard"),[e,t]=p.useState(null);return p.useEffect(()=>{(async()=>{const a=await Bk();a.success&&t(a.data)})()},[]),w("section",{className:r(),children:[w("div",{className:n("info-wrapper"),children:[w(xe,{to:"/list/100-goals",className:n("info"),children:[u("h3",{className:n("info-title"),children:"Невыполненных целей в “100 целей”"}),w("span",{className:n("info-count"),children:[u(te,{icon:"star"}),e&&e.hundredGoals.easy.total+e.hundredGoals.medium.total+e.hundredGoals.hard.total-e.hundredGoals.easy.completed-e.hundredGoals.medium.completed-e.hundredGoals.hard.completed]})]}),w(xe,{to:"/leaders",className:n("info"),children:[u("h3",{className:n("info-title"),children:"Место в рейтинге недели"}),w("span",{className:n("info-count"),children:[u(te,{icon:"award"}),e==null?void 0:e.currentStats.weeklyRank]})]}),w(xe,{to:"/user/self/active-goals",className:n("info"),children:[u("h3",{className:n("info-title"),children:"Активные цели и списки"}),w("p",{className:n("info-count-wrapper"),children:[w("span",{className:n("info-count"),children:[u(te,{icon:"rocket"}),e==null?void 0:e.currentStats.activeGoals]}),w("span",{className:n("info-count"),children:[u(te,{icon:"apps"}),e==null?void 0:e.currentStats.activeLists]})]})]}),e&&u(Qa,{totalAddedEasy:e.hundredGoals.easy.total,totalAddedHard:e.hundredGoals.hard.total,totalAddedMedium:e.hundredGoals.medium.total,totalCompletedEasy:e.hundredGoals.easy.completed,totalCompletedHard:e.hundredGoals.hard.completed,totalCompletedMedium:e.hundredGoals.medium.completed,column:!0,className:n("info-100-goals")}),(e==null?void 0:e.weeklyProgress)&&u(Gk,{weeks:e==null?void 0:e.weeklyProgress,className:n("weekly")}),e&&u(Fk,{statistics:e})]}),u(Ik,{}),u($k,{})]})});const bd=$e(r=>{const{subPage:n,completed:e}=r,[t,a]=H("user-self-goals"),[s,i]=p.useState(!0),[o,l]=p.useState([]);return p.useEffect(()=>{(async()=>{i(!0);const c=await jn();c.success&&l(c.data),i(!1)})()},[]),w(Xe,{isLoading:s,className:t(),children:[u(le,{tag:"h2",className:a("title"),children:e?"Выполненные цели и списки":"Все активные цели и списки"}),u(Gl,{userId:Ve.get("user-id"),beginUrl:"/user/self/".concat(e?"done":"active","-goals"),completed:e,subPage:n,columns:"3",categories:o})]})}),Hk=async()=>await gi("users/avatar/delete",{auth:!0}),Yk=async r=>await gt("users/avatar/upload",{body:r,auth:!0,file:!0}),Vk=async r=>await gt("users/cover/upload",{body:r,auth:!0,file:!0}),jk=async r=>await ta("users/update-profile",{body:r,auth:!0}),bs=[{name:"Афганистан",value:"AF"},{name:"Аландские острова",value:"AX"},{name:"Албания",value:"AL"},{name:"Алжир",value:"DZ"},{name:"Американское Самоа",value:"AS"},{name:"Андорра",value:"AD"},{name:"Ангола",value:"AO"},{name:"Ангилья",value:"AI"},{name:"Антарктика",value:"AQ"},{name:"Антигуа и Барбуда",value:"AG"},{name:"Аргентина",value:"AR"},{name:"Армения",value:"AM"},{name:"Аруба",value:"AW"},{name:"Австралия",value:"AU"},{name:"Австрия",value:"AT"},{name:"Азербайджан",value:"AZ"},{name:"Багамы",value:"BS"},{name:"Бахрейн",value:"BH"},{name:"Бангладеш",value:"BD"},{name:"Барбадос",value:"BB"},{name:"Беларусь",value:"BY"},{name:"Бельгия",value:"BE"},{name:"Белиз",value:"BZ"},{name:"Бенин",value:"BJ"},{name:"Бермудские острова",value:"BM"},{name:"Бутан",value:"BT"},{name:"Боливия",value:"BO"},{name:"Бонэйр, Синт-Эстатиус и Саба",value:"BQ"},{name:"Босния и Герцеговина",value:"BA"},{name:"Ботсвана",value:"BW"},{name:"Буве",value:"BV"},{name:"Бразилия",value:"BR"},{name:"Британская территория в Индийском океане",value:"IO"},{name:"Бруней",value:"BN"},{name:"Болгария",value:"BG"},{name:"Буркина-Фасо",value:"BF"},{name:"Бурунди",value:"BI"},{name:"Камбоджа",value:"KH"},{name:"Камерун",value:"CM"},{name:"Канада",value:"CA"},{name:"Кабо-Верде",value:"CV"},{name:"Каймановы острова",value:"KY"},{name:"Центральноафриканская Республика",value:"CF"},{name:"Чад",value:"TD"},{name:"Чили",value:"CL"},{name:"Китай",value:"CN"},{name:"Остров Рождества",value:"CX"},{name:"Кокосовые (Килинг) острова",value:"CC"},{name:"Колумбия",value:"CO"},{name:"Коморы",value:"KM"},{name:"Конго",value:"CG"},{name:"Конго (Демократическая Республика)",value:"CD"},{name:"Острова Кука",value:"CK"},{name:"Коста-Рика",value:"CR"},{name:"Кот-д'Ивуар",value:"CI"},{name:"Хорватия",value:"HR"},{name:"Куба",value:"CU"},{name:"Кюрасао",value:"CW"},{name:"Кипр",value:"CY"},{name:"Чехия",value:"CZ"},{name:"Дания",value:"DK"},{name:"Джибути",value:"DJ"},{name:"Доминика",value:"DM"},{name:"Доминиканская Республика",value:"DO"},{name:"Эквадор",value:"EC"},{name:"Египет",value:"EG"},{name:"Сальвадор",value:"SV"},{name:"Экваториальная Гвинея",value:"GQ"},{name:"Эритрея",value:"ER"},{name:"Эстония",value:"EE"},{name:"Эфиопия",value:"ET"},{name:"Фолклендские (Мальвинские) острова",value:"FK"},{name:"Фарерские острова",value:"FO"},{name:"Фиджи",value:"FJ"},{name:"Финляндия",value:"FI"},{name:"Франция",value:"FR"},{name:"Французская Гвиана",value:"GF"},{name:"Французская Полинезия",value:"PF"},{name:"Французские Южные территории",value:"TF"},{name:"Габон",value:"GA"},{name:"Гамбия",value:"GM"},{name:"Грузия",value:"GE"},{name:"Германия",value:"DE"},{name:"Гана",value:"GH"},{name:"Гибралтар",value:"GI"},{name:"Греция",value:"GR"},{name:"Гренландия",value:"GL"},{name:"Гренада",value:"GD"},{name:"Гваделупа",value:"GP"},{name:"Гуам",value:"GU"},{name:"Гватемала",value:"GT"},{name:"Гернси",value:"GG"},{name:"Гвинея",value:"GN"},{name:"Гвинея-Бисау",value:"GW"},{name:"Гайана",value:"GY"},{name:"Гаити",value:"HT"},{name:"Остров Херд и острова Макдональд",value:"HM"},{name:"Ватикан",value:"VA"},{name:"Гондурас",value:"HN"},{name:"Гонконг",value:"HK"},{name:"Венгрия",value:"HU"},{name:"Исландия",value:"IS"},{name:"Индия",value:"IN"},{name:"Индонезия",value:"ID"},{name:"Иран",value:"IR"},{name:"Ирак",value:"IQ"},{name:"Ирландия",value:"IE"},{name:"Остров Мэн",value:"IM"},{name:"Израиль",value:"IL"},{name:"Италия",value:"IT"},{name:"Ямайка",value:"JM"},{name:"Япония",value:"JP"},{name:"Джерси",value:"JE"},{name:"Иордания",value:"JO"},{name:"Казахстан",value:"KZ"},{name:"Кения",value:"KE"},{name:"Кирибати",value:"KI"},{name:"Северная Корея",value:"KP"},{name:"Южная Корея",value:"KR"},{name:"Кувейт",value:"KW"},{name:"Киргизия",value:"KG"},{name:"Лаос",value:"LA"},{name:"Латвия",value:"LV"},{name:"Ливан",value:"LB"},{name:"Лесото",value:"LS"},{name:"Либерия",value:"LR"},{name:"Ливия",value:"LY"},{name:"Лихтенштейн",value:"LI"},{name:"Литва",value:"LT"},{name:"Люксембург",value:"LU"},{name:"Макао",value:"MO"},{name:"Македония",value:"MK"},{name:"Мадагаскар",value:"MG"},{name:"Малави",value:"MW"},{name:"Малайзия",value:"MY"},{name:"Мальдивы",value:"MV"},{name:"Мали",value:"ML"},{name:"Мальта",value:"MT"},{name:"Маршалловы острова",value:"MH"},{name:"Мартиника",value:"MQ"},{name:"Мавритания",value:"MR"},{name:"Маврикий",value:"MU"},{name:"Майотта",value:"YT"},{name:"Мексика",value:"MX"},{name:"Микронезия",value:"FM"},{name:"Молдавия",value:"MD"},{name:"Монако",value:"MC"},{name:"Монголия",value:"MN"},{name:"Черногория",value:"ME"},{name:"Монтсеррат",value:"MS"},{name:"Марокко",value:"MA"},{name:"Мозамбик",value:"MZ"},{name:"Мьянма",value:"MM"},{name:"Намибия",value:"NA"},{name:"Науру",value:"NR"},{name:"Непал",value:"NP"},{name:"Нидерланды",value:"NL"},{name:"Новая Каледония",value:"NC"},{name:"Новая Зеландия",value:"NZ"},{name:"Никарагуа",value:"NI"},{name:"Нигер",value:"NE"},{name:"Нигерия",value:"NG"},{name:"Ниуэ",value:"NU"},{name:"Норфолк",value:"NF"},{name:"Северные Марианские острова",value:"MP"},{name:"Норвегия",value:"NO"},{name:"Оман",value:"OM"},{name:"Пакистан",value:"PK"},{name:"Палау",value:"PW"},{name:"Палестина",value:"PS"},{name:"Панама",value:"PA"},{name:"Папуа — Новая Гвинея",value:"PG"},{name:"Парагвай",value:"PY"},{name:"Перу",value:"PE"},{name:"Филиппины",value:"PH"},{name:"Острова Питкэрн",value:"PN"},{name:"Польша",value:"PL"},{name:"Португалия",value:"PT"},{name:"Пуэрто-Рико",value:"PR"},{name:"Катар",value:"QA"},{name:"Реюньон",value:"RE"},{name:"Румыния",value:"RO"},{name:"Россия",value:"RU"},{name:"Руанда",value:"RW"},{name:"Сен-Бартелеми",value:"BL"},{name:"Остров Святой Елены",value:"SH"},{name:"Сент-Китс и Невис",value:"KN"},{name:"Сент-Люсия",value:"LC"},{name:"Сен-Мартен",value:"MF"},{name:"Сен-Пьер и Микелон",value:"PM"},{name:"Сент-Винсент и Гренадины",value:"VC"},{name:"Самоа",value:"WS"},{name:"Сан-Марино",value:"SM"},{name:"Сан-Томе и Принсипи",value:"ST"},{name:"Саудовская Аравия",value:"SA"},{name:"Сенегал",value:"SN"},{name:"Сербия",value:"RS"},{name:"Сейшельские острова",value:"SC"},{name:"Сьерра-Леоне",value:"SL"},{name:"Сингапур",value:"SG"},{name:"Синт-Мартен",value:"SX"},{name:"Словакия",value:"SK"},{name:"Словения",value:"SI"},{name:"Соломоновы острова",value:"SB"},{name:"Сомали",value:"SO"},{name:"Южно-Африканская Республика",value:"ZA"},{name:"Южная Георгия и Южные Сандвичевы острова",value:"GS"},{name:"Южный Судан",value:"SS"},{name:"Испания",value:"ES"},{name:"Шри-Ланка",value:"LK"},{name:"Судан",value:"SD"},{name:"Суринам",value:"SR"},{name:"Шпицберген и Ян-Майен",value:"SJ"},{name:"Свазиленд",value:"SZ"},{name:"Швеция",value:"SE"},{name:"Швейцария",value:"CH"},{name:"Сирия",value:"SY"},{name:"Тайвань",value:"TW"},{name:"Таджикистан",value:"TJ"},{name:"Танзания",value:"TZ"},{name:"Таиланд",value:"TH"},{name:"Восточный Тимор",value:"TL"},{name:"Того",value:"TG"},{name:"Токелау",value:"TK"},{name:"Тонга",value:"TO"},{name:"Тринидад и Тобаго",value:"TT"},{name:"Тунис",value:"TN"},{name:"Турция",value:"TR"},{name:"Туркмения",value:"TM"},{name:"Теркс и Кайкос",value:"TC"},{name:"Тувалу",value:"TV"},{name:"Уганда",value:"UG"},{name:"Украина",value:"UA"},{name:"Объединенные Арабские Эмираты",value:"AE"},{name:"Великобритания",value:"GB"},{name:"Соединенные Штаты Америки",value:"US"},{name:"Малые Тихоокеанские отдаленные острова США",value:"UM"},{name:"Уругвай",value:"UY"},{name:"Узбекистан",value:"UZ"},{name:"Вануату",value:"VU"},{name:"Венесуэла",value:"VE"},{name:"Вьетнам",value:"VN"},{name:"Виргинские острова (Великобритания)",value:"VG"},{name:"Виргинские острова (США)",value:"VI"},{name:"Уоллис и Футуна",value:"WF"},{name:"Западная Сахара",value:"EH"},{name:"Йемен",value:"YE"},{name:"Замбия",value:"ZM"},{name:"Зимбабве",value:"ZW"}];const Uk=$e(()=>{const{userInfo:r,setUserInfo:n,setAvatar:e}=Wt,{setWindow:t,setIsOpen:a}=ea,[s,i]=p.useState(r.name),[o,l]=p.useState(r.lastName),[c,d]=p.useState(r.aboutMe),[f,h]=p.useState(null),v=p.useRef(null),m=p.useRef(null),[g,b]=H("user-self-settings");p.useEffect(()=>{i(r.firstName),l(r.lastName),d(r.aboutMe),r.country&&h(bs.findIndex(P=>P.value===r.country))},[r]);const y=P=>{const{id:L,value:O}=P.target;switch(L){case"name":i(O);break;case"surname":l(O);break;case"about":d(O);break}},_=P=>{if(P&&P.length>0){const L=new FormData;L.append("avatar",P[0],P[0].name),(async()=>(await Yk(L)).success&&(n({...r,avatar:Ve.get("avatar")}),e(Ve.get("avatar")||"")))()}},E=P=>{if(P&&P.length>0){const L=new FormData;L.append("cover",P[0],P[0].name),(async()=>(await Vk(L)).success&&n({...r,coverImage:Ve.get("cover")}))()}},x=()=>{v.current&&v.current.click()},C=()=>{m.current&&m.current.click()},S=P=>{P.target.files&&_(P.target.files)},D=P=>{P.target.files&&E(P.target.files)},N=async()=>{(await Hk()).success&&n({...r,avatar:Ve.get("avatar")})},k=async()=>{const P={};if(s!==r.firstName&&(P.firstName=s),o!==r.lastName&&(P.lastName=o),f!==null&&bs[f].value!==r.country&&(P.country=bs[f].value),c!==r.aboutMe&&(P.aboutMe=c),Object.keys(P).length>0){const L=await jk(P);L.success&&n(L.data)}},T=()=>{t("change-password"),a(!0)};return w("section",{className:g(),children:[u(le,{tag:"h2",className:b("title"),children:"Настройки"}),w("section",{className:b("edit-fields"),children:[u("div",{style:{backgroundImage:"url('".concat(r.coverImage,"')")},className:b("bg"),children:u("div",{className:b("btn-cover"),onClick:C,role:"button",tabIndex:0,"aria-label":"Изменить обложку",onKeyPress:P=>{(P.key==="Enter"||P.key===" ")&&C()},children:w(lr,{onDrop:P=>P&&E(P),children:[u("input",{type:"file",style:{display:"none"},ref:m,onChange:D,accept:"image/*"}),u(j,{theme:"blue-light",icon:"image-edit",size:"small",children:"Изменить обложку"})]})})}),w("section",{className:b("avatar-wrapper"),children:[u(na,{avatar:r.avatar,className:b("avatar"),size:"large"}),u("div",{onClick:x,role:"button",tabIndex:0,"aria-label":"Изменить фотографию",onKeyPress:P=>{(P.key==="Enter"||P.key===" ")&&x()},children:w(lr,{onDrop:P=>P&&_(P),children:[u("input",{type:"file",style:{display:"none"},ref:v,onChange:S,accept:"image/*"}),u(j,{icon:"image-edit",theme:"blue",size:"small",children:"Изменить фотографию"})]})}),u(j,{className:b("delete-avatar"),icon:"trash",theme:"blue-light",onClick:N,size:"small",children:"Удалить фото"})]}),u(nt,{margin:"24px 0"}),w("section",{className:b("info"),children:[u(le,{tag:"h3",className:b("title"),children:"Информация пользователя"}),w("div",{className:b("input-group"),children:[u(Ae,{text:"Имя",placeholder:"Имя",id:"name",value:s,setValueTarget:y}),u(Ae,{text:"Фамилия",placeholder:"Фамилия",id:"surname",value:o,setValueTarget:y}),u("div",{children:u(dt,{text:"Страна",options:bs,activeOption:f,onSelect:h,className:b("country")})}),u(Ae,{text:"Обо мне",type:"textarea",placeholder:"Обо мне",id:"about",value:c,setValueTarget:y})]}),u(j,{className:b("btn-save"),theme:"blue",onClick:k,children:"Сохранить изменения"}),u(nt,{margin:"24px 0"}),u(le,{tag:"h3",className:b("title"),children:"Безопасность и вход"}),u(j,{theme:"no-border",icon:"lock",onClick:T,children:"Изменить пароль"})]})]})]})});const zk=$e(({page:r,subPage:n})=>{const[e,t]=H("user-self");p.useEffect(()=>{(async()=>await Dl())()},[]);const a=()=>{switch(r){case"isUserSelfActive":return u(bd,{subPage:n,completed:!1});case"isUserSelfDone":return u(bd,{subPage:n,completed:!0});case"isUserSelfSettings":return u(Uk,{});case"isUserSelfAchievements":return u(Mk,{});default:return u(Wk,{})}},s=p.useMemo(()=>[{url:"/user/self",name:"Дашборд",page:"isUserSelf"},{url:"/user/self/achievements",name:"Достижения",page:"isUserSelfAchievements"},{url:"/user/self/active-goals",name:"Активные цели и списки",page:"isUserSelfActive"},{url:"/user/self/done-goals",name:"Выполненные",page:"isUserSelfDone"},{url:"/user/self/settings",name:"Настройки",page:"isUserSelfSettings"}],[]);return w("main",{className:e(),children:[u("aside",{className:t("sidebar"),children:u(dc,{tabs:s,active:r,vertical:!0})}),a()]})}),Kn=({page:r,subPage:n})=>{const{setHeader:e,setPage:t,setFull:a}=Me;return p.useEffect(()=>{e("white"),t(r),a(!1)},[]),u(zk,{page:r,subPage:n})};const gn=({element:r})=>{const{isAuth:n}=Wt;return n?r:u(im,{to:"/sign-in",replace:!0})},qk=$e(()=>u("main",{className:"main",children:w(sm,{children:[u(ve,{path:"/",element:u(Sk,{page:"isMain"})}),u(ve,{path:"/100-goals",element:u(gd,{page:"isMainGoals"})}),u(ve,{path:"/news",element:u(Iy,{})}),u(ve,{path:"/news/:id",element:u(Ay,{})}),u(ve,{path:"/list/:id",element:u(Nx,{page:"isList"})}),u(ve,{path:"/edit-list/:id",element:u(Dx,{page:"isEditList"})}),u(ve,{path:"/list/100-goals",element:u(gd,{page:"isMainGoals"})}),u(ve,{path:"/categories",element:u($y,{page:"isCategories"})}),u(ve,{path:"/categories/all",element:u(Sr,{page:"isCategoriesAll",subPage:"goals"})}),u(ve,{path:"/categories/all/lists",element:u(Sr,{page:"isCategoriesAll",subPage:"lists"})}),u(ve,{path:"/categories/:id",element:u(Sr,{page:"isCategories",subPage:"goals"})}),u(ve,{path:"/categories/:categories/:id/",element:u(Sr,{page:"isSubCategories",subPage:"goals"})}),u(ve,{path:"/categories/:id/lists",element:u(Sr,{page:"isCategories",subPage:"lists"})}),u(ve,{path:"/categories/:categories/:id/lists",element:u(Sr,{page:"isSubCategories",subPage:"lists"})}),u(ve,{path:"/goals/:id/lists",element:u(od,{page:"isGoalLists"})}),u(ve,{path:"/goals/:id",element:u(od,{page:"isGoal"})}),u(ve,{path:"/sign-in",element:u(Lx,{page:"isLogin"})}),u(ve,{path:"/sign-up",element:u(xk,{page:"isRegistration"})}),u(ve,{path:"/leaders",element:u(Mx,{page:"isLeaders"})}),u(ve,{path:"/user/:id/showcase",element:u(qn,{page:"isUserShowcase"})}),u(ve,{path:"/user/:id/100-goal",element:u(qn,{page:"isUser100Goals"})}),u(ve,{path:"/user/:id/active-goals",element:u(qn,{page:"isUserActiveGoals",subPage:"goals"})}),u(ve,{path:"/user/:id/active-goals/lists",element:u(qn,{page:"isUserActiveGoals",subPage:"lists"})}),u(ve,{path:"/user/:id/done-goals",element:u(qn,{page:"isUserDoneGoals",subPage:"goals"})}),u(ve,{path:"/user/:id/done-goals/lists",element:u(qn,{page:"isUserDoneGoals",subPage:"lists"})}),u(ve,{path:"/user/:id/achievements",element:u(qn,{page:"isUserAchievements"})}),u(ve,{path:"/goals/create",element:u(gn,{element:u(WN,{page:"isCreateGoal"})})}),u(ve,{path:"/list/create",element:u(gn,{element:u(VN,{page:"isCreateGoalList"})})}),u(ve,{path:"/user/self",element:u(gn,{element:u(Kn,{page:"isUserSelf"})})}),u(ve,{path:"/user/self/achievements",element:u(gn,{element:u(Kn,{page:"isUserSelfAchievements"})})}),u(ve,{path:"/user/self/settings",element:u(gn,{element:u(Kn,{page:"isUserSelfSettings"})})}),u(ve,{path:"/user/self/active-goals",element:u(gn,{element:u(Kn,{page:"isUserSelfActive",subPage:"goals"})})}),u(ve,{path:"/user/self/done-goals",element:u(gn,{element:u(Kn,{page:"isUserSelfDone",subPage:"goals"})})}),u(ve,{path:"/user/self/active-goals/lists",element:u(gn,{element:u(Kn,{page:"isUserSelfActive",subPage:"lists"})})}),u(ve,{path:"/user/self/done-goals/lists",element:u(gn,{element:u(Kn,{page:"isUserSelfDone",subPage:"lists"})})}),u(ve,{path:"*",element:u(Ck,{page:"NotFound"})})]})}));const Kk=$e(()=>{const[r]=H("layout"),{full:n}=Me;return w(om,{children:[u(ly,{}),w("div",{className:r({full:n}),children:[u(qk,{}),u(wy,{}),u(Sy,{})]})]})}),Qk=()=>u(p.StrictMode,{children:u(Em,{children:u(Nm,{children:u(Sm,{children:u(Kk,{})})})})});(async()=>{const r=document.getElementById("root");Sd(r).render(u(Qk,{}))})();export{Zk as __vite_legacy_guard};
