var jw=Object.defineProperty;var Kw=(e,t,n)=>t in e?jw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Re=(e,t,n)=>(Kw(e,typeof t!="symbol"?t+"":t,n),n);import{j as o,F as nt,a as p,L as Fe,m as fn,u as Zn,N as Or,A as si,b as Hi,c as Us,O as Qw,d as es,e as vh,f as Xw,R as Jw,g as Ge,B as Zw}from"./ui-5fa10667.js";import{a as rs,g as Bo,b as Z,r as y,c as Sr,R as zy,d as eC}from"./vendor-44a74d9f.js";function EW(){import.meta.url,import("_").catch(()=>1);async function*e(){}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Vy,tp=rs;Vy=tp.createRoot,tp.hydrateRoot;var tC=typeof Element<"u",nC=typeof Map=="function",rC=typeof Set=="function",aC=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function tc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!tc(e[r],t[r]))return!1;return!0}var s;if(nC&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!tc(r.value[1],t.get(r.value[0])))return!1;return!0}if(rC&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(aC&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(tC&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!tc(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var sC=function(t,n){try{return tc(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const iC=Bo(sC);var oC=function(e,t,n,r,a,s,i,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,s,i,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},lC=oC;const np=Bo(lC);var cC=function(t,n,r,a){var s=r?r.call(a,t,n):void 0;if(s!==void 0)return!!s;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var i=Object.keys(t),l=Object.keys(n);if(i.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),u=0;u<i.length;u++){var d=i[u];if(!c(d))return!1;var f=t[d],m=n[d];if(s=r?r.call(a,f,m,d):void 0,s===!1||s===void 0&&f!==m)return!1}return!0};const uC=Bo(cC);var qy=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(qy||{}),sd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},rp=Object.values(qy),bh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},dC=Object.entries(bh).reduce((e,[t,n])=>(e[n]=t,e),{}),Lr="data-rh",hi={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},mi=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},fC=e=>{let t=mi(e,"title");const n=mi(e,hi.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=mi(e,hi.DEFAULT_TITLE);return t||r||void 0},hC=e=>mi(e,hi.ON_CHANGE_CLIENT_STATE)||(()=>{}),id=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,r)=>({...n,...r}),{}),mC=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const a=Object.keys(r);for(let s=0;s<a.length;s+=1){const l=a[s].toLowerCase();if(e.indexOf(l)!==-1&&r[l])return n.concat(r)}}return n},[]),pC=e=>console&&typeof console.warn=="function"&&console.warn(e),Zi=(e,t,n)=>{const r={};return n.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&pC("Helmet: ".concat(e,' should be of type "Array". Instead found type "').concat(typeof a[e],'"')),!1)).map(a=>a[e]).reverse().reduce((a,s)=>{const i={};s.filter(c=>{let u;const d=Object.keys(c);for(let m=0;m<d.length;m+=1){const h=d[m],g=h.toLowerCase();t.indexOf(g)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(g==="rel"&&c[g].toLowerCase()==="stylesheet")&&(u=g),t.indexOf(h)!==-1&&(h==="innerHTML"||h==="cssText"||h==="itemprop")&&(u=h)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return r[u]||(r[u]={}),i[u]||(i[u]={}),r[u][f]?!1:(i[u][f]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(i);for(let c=0;c<l.length;c+=1){const u=l[c],d={...r[u],...i[u]};r[u]=d}return a},[]).reverse()},gC=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},yC=e=>({baseTag:mC(["href"],e),bodyAttributes:id("bodyAttributes",e),defer:mi(e,hi.DEFER),encode:mi(e,hi.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:id("htmlAttributes",e),linkTags:Zi("link",["rel","href"],e),metaTags:Zi("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Zi("noscript",["innerHTML"],e),onChangeClientState:hC(e),scriptTags:Zi("script",["src","innerHTML"],e),styleTags:Zi("style",["cssText"],e),title:fC(e),titleAttributes:id("titleAttributes",e),prioritizeSeoTags:gC(e,hi.PRIORITIZE_SEO_TAGS)}),jy=e=>Array.isArray(e)?e.join(""):e,vC=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1},od=(e,t)=>Array.isArray(e)?e.reduce((n,r)=>(vC(r,t)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:e,priority:[]},ap=(e,t)=>({...e,[t]:void 0}),bC=["noscript","script","style"],gf=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Ky=e=>Object.keys(e).reduce((t,n)=>{const r=typeof e[n]<"u"?"".concat(n,'="').concat(e[n],'"'):"".concat(n);return t?"".concat(t," ").concat(r):r},""),EC=(e,t,n,r)=>{const a=Ky(n),s=jy(t);return a?"<".concat(e," ").concat(Lr,'="true" ').concat(a,">").concat(gf(s,r),"</").concat(e,">"):"<".concat(e," ").concat(Lr,'="true">').concat(gf(s,r),"</").concat(e,">")},_C=(e,t,n=!0)=>t.reduce((r,a)=>{const s=a,i=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof s[d]>"u"?d:"".concat(d,'="').concat(gf(s[d],n),'"');return u?"".concat(u," ").concat(f):f},""),l=s.innerHTML||s.cssText||"",c=bC.indexOf(e)===-1;return"".concat(r,"<").concat(e," ").concat(Lr,'="true" ').concat(i).concat(c?"/>":">".concat(l,"</").concat(e,">"))},""),Qy=(e,t={})=>Object.keys(e).reduce((n,r)=>{const a=bh[r];return n[a||r]=e[r],n},t),wC=(e,t,n)=>{const r={key:t,[Lr]:!0},a=Qy(n,r);return[Z.createElement("title",a,t)]},nc=(e,t)=>t.map((n,r)=>{const a={key:r,[Lr]:!0};return Object.keys(n).forEach(s=>{const l=bh[s]||s;if(l==="innerHTML"||l==="cssText"){const c=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=n[s]}),Z.createElement(e,a)}),pr=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>wC(e,t.title,t.titleAttributes),toString:()=>EC(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Qy(t),toString:()=>Ky(t)};default:return{toComponent:()=>nc(e,t),toString:()=>_C(e,t,n)}}},CC=({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const a=od(e,sd.meta),s=od(t,sd.link),i=od(n,sd.script);return{priorityMethods:{toComponent:()=>[...nc("meta",a.priority),...nc("link",s.priority),...nc("script",i.priority)],toString:()=>"".concat(pr("meta",a.priority,r)," ").concat(pr("link",s.priority,r)," ").concat(pr("script",i.priority,r))},metaTags:a.default,linkTags:s.default,scriptTags:i.default}},TC=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:a,noscriptTags:s,styleTags:i,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:m}=e,h={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:h,linkTags:d,metaTags:f,scriptTags:m}=CC(e)),{priority:h,base:pr("base",t,r),bodyAttributes:pr("bodyAttributes",n,r),htmlAttributes:pr("htmlAttributes",a,r),link:pr("link",d,r),meta:pr("meta",f,r),noscript:pr("noscript",s,r),script:pr("script",m,r),style:pr("style",i,r),title:pr("title",{title:l,titleAttributes:c},r)}},yf=TC,Nl=[],Xy=!!(typeof window<"u"&&window.document&&window.document.createElement),vf=class{constructor(e,t){Re(this,"instances",[]);Re(this,"canUseDOM",Xy);Re(this,"context");Re(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Nl:this.instances,add:e=>{(this.canUseDOM?Nl:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Nl:this.instances).indexOf(e);(this.canUseDOM?Nl:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=yf({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},SC={},Jy=Z.createContext(SC),wi,Zy=(wi=class extends y.Component{constructor(n){super(n);Re(this,"helmetData");this.helmetData=new vf(this.props.context||{},wi.canUseDOM)}render(){return Z.createElement(Jy.Provider,{value:this.helmetData.value},this.props.children)}},Re(wi,"canUseDOM",Xy),wi),Js=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll("".concat(e,"[").concat(Lr,"]")),a=[].slice.call(r),s=[];let i;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(Lr,"true"),a.some((u,d)=>(i=d,c.isEqualNode(u)))?a.splice(i,1):s.push(c)}),a.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),s.forEach(l=>n.appendChild(l)),{oldTags:a,newTags:s}},bf=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(Lr),a=r?r.split(","):[],s=[...a],i=Object.keys(t);for(const l of i){const c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const u=s.indexOf(l);u!==-1&&s.splice(u,1)}for(let l=s.length-1;l>=0;l-=1)n.removeAttribute(s[l]);a.length===s.length?n.removeAttribute(Lr):n.getAttribute(Lr)!==i.join(",")&&n.setAttribute(Lr,i.join(","))},NC=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=jy(e)),bf("title",t)},sp=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:a,linkTags:s,metaTags:i,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:m}=e;bf("body",r),bf("html",a),NC(f,m);const h={baseTag:Js("base",n),linkTags:Js("link",s),metaTags:Js("meta",i),noscriptTags:Js("noscript",l),scriptTags:Js("script",u),styleTags:Js("style",d)},g={},v={};Object.keys(h).forEach(_=>{const{newTags:E,oldTags:C}=h[_];E.length&&(g[_]=E),C.length&&(v[_]=h[_].oldTags)}),t&&t(),c(e,g,v)},eo=null,kC=e=>{eo&&cancelAnimationFrame(eo),e.defer?eo=requestAnimationFrame(()=>{sp(e,()=>{eo=null})}):(sp(e),eo=null)},DC=kC,ip=class extends y.Component{constructor(){super(...arguments);Re(this,"rendered",!1)}shouldComponentUpdate(t){return!uC(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:n}=this.props.context;let r=null;const a=yC(t.get().map(s=>{const i={...s.props};return delete i.context,i}));Zy.canUseDOM?DC(a):yf&&(r=yf(a)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},pf,xC=(pf=class extends y.Component{shouldComponentUpdate(e){return!iC(ap(this.props,"helmetData"),ap(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error("<".concat(e.type," /> elements are self-closing and can not contain children. Refer to our API for more information."))}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(r=>{n={...n,[r]:e[r]}}),n}warnOnInvalidChildren(e,t){return np(rp.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types ".concat(rp.join(", ")," are allowed. Helmet does not support rendering <").concat(e.type,"> elements. Refer to our API for more information.")),np(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),"Helmet expects a string as a child of <".concat(e.type,">. Did you forget to wrap your children in braces? ( <").concat(e.type,">{``}</").concat(e.type,"> ) Refer to our API for more information.")),!0}mapChildrenToProps(e,t){let n={};return Z.Children.forEach(e,r=>{if(!r||!r.props)return;const{children:a,...s}=r.props,i=Object.keys(s).reduce((c,u)=>(c[dC[u]||u]=s[u],c),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,i,a);break;default:t=this.mapObjectTypeChildren(r,t,i,a);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof vf)){const a=r;r=new vf(a.context,!0),delete n.helmetData}return r?Z.createElement(ip,{...n,context:r.value}):Z.createElement(Jy.Consumer,null,a=>Z.createElement(ip,{...n,context:a}))}},Re(pf,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),pf);const AC=({children:e})=>o(nt,{children:e}),op=([e,t])=>typeof t=="string"?"".concat(e,"-").concat(t):e,J=(e,t)=>{const n=y.useMemo(()=>e.trim(),[e]),r=y.useMemo(()=>(t||"").trim(),[t]),a=y.useCallback(i=>{if(!i)return"".concat(n," ").concat(r).trim();const l=Object.entries(i).filter(([c])=>i[c]).map(c=>"".concat(n,"--").concat(op(c)));return[n,...l,r].join(" ").trim()},[n,r]),s=y.useCallback((i,l,c)=>{const u="".concat(n,"__").concat(i.trim());if(!l)return"".concat(u," ").concat(c||"").trim();const d=Object.entries(l).filter(([m])=>l[m]).map(m=>"".concat(u,"--").concat(op(m))),f=[u,...d];return c&&f.push(c),f.join(" ")},[n]);return[a,s]};function PC(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(null,arguments)}function Ef(e,t){return Ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ef(e,t)}function OC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ef(e,t)}function ld(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var lp=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,IC=/\\([\u000b\u0020-\u00ff])/g,LC=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,RC=MC;function MC(e){if(!e)throw new TypeError("argument string is required");var t=typeof e=="object"?FC(e):e;if(typeof t!="string")throw new TypeError("argument string is required to be a string");var n=t.indexOf(";"),r=n!==-1?t.slice(0,n).trim():t.trim();if(!LC.test(r))throw new TypeError("invalid media type");var a=new BC(r.toLowerCase());if(n!==-1){var s,i,l;for(lp.lastIndex=n;i=lp.exec(t);){if(i.index!==n)throw new TypeError("invalid parameter format");n+=i[0].length,s=i[1].toLowerCase(),l=i[2],l.charCodeAt(0)===34&&(l=l.slice(1,-1),l.indexOf("\\")!==-1&&(l=l.replace(IC,"$1"))),a.parameters[s]=l}if(n!==t.length)throw new TypeError("invalid parameter format")}return a}function FC(e){var t;if(typeof e.getHeader=="function"?t=e.getHeader("content-type"):typeof e.headers=="object"&&(t=e.headers&&e.headers["content-type"]),typeof t!="string")throw new TypeError("content-type header is missing from object");return t}function BC(e){this.parameters=Object.create(null),this.type=e}var ii=new Map,ev=function(t){return t.cloneNode(!0)},cp=function(){return window.location.protocol==="file:"},tv=function(t,n,r){var a=new XMLHttpRequest;a.onreadystatechange=function(){try{if(!/\.svg/i.test(t)&&a.readyState===2){var s=a.getResponseHeader("Content-Type");if(!s)throw new Error("Content type not found");var i=RC(s).type;if(!(i==="image/svg+xml"||i==="text/plain"))throw new Error("Invalid content type: ".concat(i))}if(a.readyState===4){if(a.status===404||a.responseXML===null)throw new Error(cp()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+t);if(a.status===200||cp()&&a.status===0)r(null,a);else throw new Error("There was a problem injecting the SVG: "+a.status+" "+a.statusText)}}catch(l){if(a.abort(),l instanceof Error)r(l,a);else throw l}},a.open("GET",t),a.withCredentials=n,a.overrideMimeType&&a.overrideMimeType("text/xml"),a.send()},Qa={},up=function(t,n){Qa[t]=Qa[t]||[],Qa[t].push(n)},UC=function(t){for(var n=function(i,l){setTimeout(function(){if(Array.isArray(Qa[t])){var c=ii.get(t),u=Qa[t][i];c instanceof SVGSVGElement&&u(null,ev(c)),c instanceof Error&&u(c),i===Qa[t].length-1&&delete Qa[t]}},0)},r=0,a=Qa[t].length;r<a;r++)n(r)},HC=function(t,n,r){if(ii.has(t)){var a=ii.get(t);if(a===void 0){up(t,r);return}if(a instanceof SVGSVGElement){r(null,ev(a));return}}ii.set(t,void 0),up(t,r),tv(t,n,function(s,i){var l;s?ii.set(t,s):((l=i.responseXML)===null||l===void 0?void 0:l.documentElement)instanceof SVGSVGElement&&ii.set(t,i.responseXML.documentElement),UC(t)})},GC=function(t,n,r){tv(t,n,function(a,s){var i;a?r(a):((i=s.responseXML)===null||i===void 0?void 0:i.documentElement)instanceof SVGSVGElement&&r(null,s.responseXML.documentElement)})},$C=0,WC=function(){return++$C},Kr=[],dp={},YC="http://www.w3.org/2000/svg",cd="http://www.w3.org/1999/xlink",fp=function(t,n,r,a,s,i,l){var c=t.getAttribute("data-src")||t.getAttribute("src");if(!c){l(new Error("Invalid data-src or src attribute"));return}if(Kr.indexOf(t)!==-1){Kr.splice(Kr.indexOf(t),1),t=null;return}Kr.push(t),t.setAttribute("src","");var u=a?HC:GC;u(c,s,function(d,f){if(!f){Kr.splice(Kr.indexOf(t),1),t=null,l(d);return}var m=t.getAttribute("id");m&&f.setAttribute("id",m);var h=t.getAttribute("title");h&&f.setAttribute("title",h);var g=t.getAttribute("width");g&&f.setAttribute("width",g);var v=t.getAttribute("height");v&&f.setAttribute("height",v);var _=Array.from(new Set(ld(ld(ld([],(f.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(t.getAttribute("class")||"").split(" "),!0))).join(" ").trim();f.setAttribute("class",_);var E=t.getAttribute("style");E&&f.setAttribute("style",E),f.setAttribute("data-src",c);var C=[].filter.call(t.attributes,function(H){return/^data-\w[\w-]*$/.test(H.name)});if(Array.prototype.forEach.call(C,function(H){H.name&&H.value&&f.setAttribute(H.name,H.value)}),r){var w={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},S,N,T,k,I;Object.keys(w).forEach(function(H){S=H,T=w[H],N=f.querySelectorAll(S+"[id]");for(var K=function(O,ee){k=N[O].id,I=k+"-"+WC();var Q;Array.prototype.forEach.call(T,function(Et){Q=f.querySelectorAll("["+Et+'*="'+k+'"]');for(var j=0,pt=Q.length;j<pt;j++){var be=Q[j].getAttribute(Et);be&&!be.match(new RegExp('url\\("?#'+k+'"?\\)'))||Q[j].setAttribute(Et,"url(#"+I+")")}});for(var oe=f.querySelectorAll("[*|href]"),V=[],Ae=0,ne=oe.length;Ae<ne;Ae++){var Ce=oe[Ae].getAttributeNS(cd,"href");Ce&&Ce.toString()==="#"+N[O].id&&V.push(oe[Ae])}for(var rt=0,ot=V.length;rt<ot;rt++)V[rt].setAttributeNS(cd,"href","#"+I);N[O].id=I},L=0,le=N.length;L<le;L++)K(L)})}f.removeAttribute("xmlns:a");for(var A=f.querySelectorAll("script"),x=[],D,P,M=0,R=A.length;M<R;M++)P=A[M].getAttribute("type"),(!P||P==="application/ecmascript"||P==="application/javascript"||P==="text/javascript")&&(D=A[M].innerText||A[M].textContent,D&&x.push(D),f.removeChild(A[M]));if(x.length>0&&(n==="always"||n==="once"&&!dp[c])){for(var F=0,U=x.length;F<U;F++)new Function(x[F])(window);dp[c]=!0}var $=f.querySelectorAll("style");if(Array.prototype.forEach.call($,function(H){H.textContent+=""}),f.setAttribute("xmlns",YC),f.setAttribute("xmlns:xlink",cd),i(f),!t.parentNode){Kr.splice(Kr.indexOf(t),1),t=null,l(new Error("Parent node is null"));return}t.parentNode.replaceChild(f,t),Kr.splice(Kr.indexOf(t),1),t=null,l(null,f)})},zC=function(t,n){var r=n===void 0?{}:n,a=r.afterAll,s=a===void 0?function(){}:a,i=r.afterEach,l=i===void 0?function(){}:i,c=r.beforeEach,u=c===void 0?function(){}:c,d=r.cacheRequests,f=d===void 0?!0:d,m=r.evalScripts,h=m===void 0?"never":m,g=r.httpRequestWithCredentials,v=g===void 0?!1:g,_=r.renumerateIRIElements,E=_===void 0?!0:_;if(t&&"length"in t)for(var C=0,w=0,S=t.length;w<S;w++)fp(t[w],h,E,f,v,u,function(N,T){l(N,T),t&&"length"in t&&t.length===++C&&s(C)});else t?fp(t,h,E,f,v,u,function(N,T){l(N,T),s(1),t=null}):s(0)},nv={exports:{}},VC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qC=VC,jC=qC;function rv(){}function av(){}av.resetWarningCache=rv;var KC=function(){function e(r,a,s,i,l,c){if(c!==jC){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:av,resetWarningCache:rv};return n.PropTypes=n,n};nv.exports=KC();var rn=nv.exports,QC=function(t){var n=(t==null?void 0:t.ownerDocument)||document;return n.defaultView||window},XC=function(t,n){for(var r in t)if(!(r in n))return!0;for(var a in n)if(t[a]!==n[a])return!0;return!1},JC=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],kl="http://www.w3.org/2000/svg",hp="http://www.w3.org/1999/xlink",Eh=function(e){function t(){for(var r,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=e.call.apply(e,[this].concat(s))||this,r.initialState={hasError:!1,isLoading:!0},r.state=r.initialState,r._isMounted=!1,r.reactWrapper=void 0,r.nonReactWrapper=void 0,r.refCallback=function(l){r.reactWrapper=l},r}OC(t,e);var n=t.prototype;return n.renderSVG=function(){var a=this;if(this.reactWrapper instanceof QC(this.reactWrapper).Node){var s=this.props,i=s.desc,l=s.evalScripts,c=s.httpRequestWithCredentials,u=s.renumerateIRIElements,d=s.src,f=s.title,m=s.useRequestCache,h=this.props.onError,g=this.props.beforeInjection,v=this.props.afterInjection,_=this.props.wrapper,E,C;_==="svg"?(E=document.createElementNS(kl,_),E.setAttribute("xmlns",kl),E.setAttribute("xmlns:xlink",hp),C=document.createElementNS(kl,_)):(E=document.createElement(_),C=document.createElement(_)),E.appendChild(C),C.dataset.src=d,this.nonReactWrapper=this.reactWrapper.appendChild(E);var w=function(k){if(a.removeSVG(),!a._isMounted){h(k);return}a.setState(function(){return{hasError:!0,isLoading:!1}},function(){h(k)})},S=function(k,I){if(k){w(k);return}a._isMounted&&a.setState(function(){return{isLoading:!1}},function(){try{v(I)}catch(A){w(A)}})},N=function(k){if(k.setAttribute("role","img"),i){var I=k.querySelector(":scope > desc");I&&k.removeChild(I);var A=document.createElement("desc");A.innerHTML=i,k.prepend(A)}if(f){var x=k.querySelector(":scope > title");x&&k.removeChild(x);var D=document.createElement("title");D.innerHTML=f,k.prepend(D)}try{g(k)}catch(P){w(P)}};zC(C,{afterEach:S,beforeEach:N,cacheRequests:m,evalScripts:l,httpRequestWithCredentials:c,renumerateIRIElements:u})}},n.removeSVG=function(){var a;(a=this.nonReactWrapper)!=null&&a.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},n.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},n.componentDidUpdate=function(a){var s=this;XC(bc({},a),this.props)&&this.setState(function(){return s.initialState},function(){s.removeSVG(),s.renderSVG()})},n.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},n.render=function(){var a=this.props;a.afterInjection,a.beforeInjection,a.desc,a.evalScripts;var s=a.fallback;a.httpRequestWithCredentials;var i=a.loading;a.renumerateIRIElements,a.src,a.title,a.useRequestCache;var l=a.wrapper,c=PC(a,JC),u=l;return y.createElement(u,bc({},c,{ref:this.refCallback},l==="svg"?{xmlns:kl,xmlnsXlink:hp}:{}),this.state.isLoading&&i&&y.createElement(i,null),this.state.hasError&&s&&y.createElement(s,null))},t}(y.Component);Eh.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"};Eh.propTypes={afterInjection:rn.func,beforeInjection:rn.func,desc:rn.string,evalScripts:rn.oneOf(["always","once","never"]),fallback:rn.oneOfType([rn.func,rn.object,rn.string]),httpRequestWithCredentials:rn.bool,loading:rn.oneOfType([rn.func,rn.object,rn.string]),onError:rn.func,renumerateIRIElements:rn.bool,src:rn.string.isRequired,title:rn.string,useRequestCache:rn.bool,wrapper:rn.oneOf(["div","span","svg"])};const ie=e=>{const{icon:t,className:n,width:r="auto",height:a="auto"}=e,s=t.split("--"),[i]=J("svg",n);return o(Eh,{wrapper:"span",src:"/svg/".concat(s[0],".svg"),className:i({transform:s[1]}),beforeInjection:l=>{l.setAttribute("style","width: ".concat(r,"; height: ").concat(a))}})};const z=e=>{const{className:t,theme:n,icon:r,iconSize:a,onClick:s,type:i,href:l="",children:c,small:u,size:d,width:f="full",typeBtn:m="button",hoverContent:h,hoverIcon:g,disabled:v,loading:_,loadingText:E,refInner:C,withBorder:w}=e,[S,N]=J("button",t),[T,k]=y.useState(c),[I,A]=y.useState(r),x=U=>{(h||g)&&(U?(A(g),k(h)):(A(r),k(c)))};y.useEffect(()=>{A(r),k(c)},[c,r]);const D=U=>{const $=U.currentTarget;if(!$)return;const H=document.createElement("span"),K=Math.max($.clientWidth,$.clientHeight),L=K/2;H.style.width=H.style.height="".concat(K,"px"),H.style.left="".concat(U.clientX-$.getBoundingClientRect().left-L,"px"),H.style.top="".concat(U.clientY-$.getBoundingClientRect().top-L,"px"),H.classList.add("button__ripple");const le=$.getElementsByClassName("ripple")[0];le&&le.remove(),$.appendChild(H),setTimeout(()=>H.remove(),800)},P=U=>{v||_||(D(U),s==null||s(U))},M=U=>{if(v){U.preventDefault();return}D(U),s==null||s(U)},R=p(nt,{children:[!_&&I&&o(ie,{width:a!=null?a:"16px",height:a!=null?a:"16px",icon:I,className:N("icon")}),_&&o("span",{className:N("loading")}),_&&E!=null?E:T]});return(()=>{switch(i){case"Link":return p(Fe,{to:l,className:S({theme:n,small:u,size:d,disabled:v,width:f}),onClick:M,children:[R,n==="gradient"&&o("div",{className:N("gradient-shadow")})]});case"button-close":return o("button",{className:S({close:!0,withBorder:w}),onClick:P,type:"button",disabled:v,ref:C,"aria-label":"закрыть",children:o(ie,{icon:"cross",width:"20px",height:"20px"})});case"button":default:return p("button",{className:S({theme:n,small:u,size:d,disabled:v,width:f}),onClick:P,type:m==="button"?"button":"submit",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),disabled:v,ref:C,children:[R,n==="gradient"&&o("div",{className:N("gradient-shadow")})]})}})()};const ke=e=>{const{className:t,tag:n="h4",theme:r,children:a}=e,[s]=J("title",t);return(()=>{switch(n){case"h1":return o("h1",{className:s({tag:n,theme:r}),children:a});case"h2":return o("h2",{className:s({tag:n,theme:r}),children:a});case"h3":return o("h3",{className:s({tag:n,theme:r}),children:a});case"h4":default:return o("h4",{className:s({tag:n,theme:r}),children:a})}})()};class ZC extends Z.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n)}render(){const{children:t}=this.props,{hasError:n,error:r}=this.state;return n?p("main",{className:"error-boundary",children:[o(ke,{tag:"h1",children:"Что-то пошло не так"}),o(ke,{tag:"h2",children:"Произошла непредвиденная ошибка"}),o("p",{className:"error-boundary__text",children:"Попробуйте обновить страницу или вернуться на главную."}),(r==null?void 0:r.message)&&p("div",{className:"error-boundary__details",children:[o("span",{className:"error-boundary__details-label",children:"Ошибка:"}),o("p",{className:"error-boundary__details-message",children:r.message})]}),p("div",{className:"error-boundary__actions",children:[o(z,{theme:"blue",size:"medium",icon:"refresh",className:"error-boundary__btn",onClick:()=>window.location.reload(),children:"Обновить страницу"}),p("a",{href:"/",className:"error-boundary__link",children:[o(ie,{icon:"bullseye",width:"16px",height:"16px"}),"На главную"]})]})]}):t}}function Pt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var eT={};function au(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:eT}var sv=Object.assign,Ec=Object.getOwnPropertyDescriptor,da=Object.defineProperty,su=Object.prototype,_f=[];Object.freeze(_f);var iv={};Object.freeze(iv);var tT=typeof Proxy<"u",nT=Object.toString();function ov(){tT||Pt("Proxy not available")}function lv(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ui=function(){};function Hr(e){return typeof e=="function"}function As(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function iu(e){return e!==null&&typeof e=="object"}function Ua(e){if(!iu(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===nT}function cv(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Uo(e,t,n){da(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function uv(e,t,n){da(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Hs(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return iu(r)&&r[n]===!0}}function Gi(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function rT(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function ka(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var dv=typeof Object.getOwnPropertySymbols<"u";function aT(e){var t=Object.keys(e);if(!dv)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return su.propertyIsEnumerable.call(e,r)})):t}var Ci=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:dv?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function fv(e){return e===null?null:typeof e=="object"?""+e:e}function Pa(e,t){return su.hasOwnProperty.call(e,t)}var sT=Object.getOwnPropertyDescriptors||function(t){var n={};return Ci(t).forEach(function(r){n[r]=Ec(t,r)}),n};function or(e,t){return!!(e&t)}function lr(e,t,n){return n?e|=t:e&=~t,e}function mp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oT(r.key),r)}}function $i(e,t,n){return t&&pp(e.prototype,t),n&&pp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function di(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=lT(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ps.apply(null,arguments)}function hv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wf(e,t)}function wf(e,t){return wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},wf(e,t)}function iT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oT(e){var t=iT(e,"string");return typeof t=="symbol"?t:t+""}function lT(e,t){if(e){if(typeof e=="string")return mp(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mp(e,t):void 0}}var oa=Symbol("mobx-stored-annotations");function fa(e){function t(n,r){if(Go(r))return e.decorate_20223_(n,r);Ho(n,r,e)}return Object.assign(t,e)}function Ho(e,t,n){Pa(e,oa)||Uo(e,oa,Ps({},e[oa])),yT(n)||(e[oa][t]=n)}function cT(e){return Pa(e,oa)||Uo(e,oa,Ps({},e[oa])),e[oa]}function Go(e){return typeof e=="object"&&typeof e.kind=="string"}var st=Symbol("mobx administration"),ls=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=It.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return Av(this)},t.reportChanged=function(){Nr(),Pv(this),kr()},t.toString=function(){return this.name_},$i(e,[{key:"isBeingObserved",get:function(){return or(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=lr(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return or(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=lr(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return or(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=lr(this.flags_,e.diffValueMask_,r===1)}}])}();ls.isBeingObservedMask_=1;ls.isPendingUnobservationMask_=2;ls.diffValueMask_=4;var _h=Hs("Atom",ls);function mv(e,t,n){t===void 0&&(t=ui),n===void 0&&(n=ui);var r=new ls(e);return t!==ui&&bS(r,t),n!==ui&&Fv(r,n),r}function uT(e,t){return e===t}function dT(e,t){return Dh(e,t)}function fT(e,t){return Dh(e,t,1)}function hT(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var _c={identity:uT,structural:dT,default:hT,shallow:fT};function Os(e,t,n){return $v(e)?e:Array.isArray(e)?xt.array(e,{name:n}):Ua(e)?xt.object(e,void 0,{name:n}):Gi(e)?xt.map(e,{name:n}):ka(e)?xt.set(e,{name:n}):typeof e=="function"&&!ko(e)&&!Do(e)?cv(e)?Ti(e):No(n,e):e}function mT(e,t,n){if(e==null||xo(e)||du(e)||$s(e)||na(e))return e;if(Array.isArray(e))return xt.array(e,{name:n,deep:!1});if(Ua(e))return xt.object(e,void 0,{name:n,deep:!1});if(Gi(e))return xt.map(e,{name:n,deep:!1});if(ka(e))return xt.set(e,{name:n,deep:!1})}function ou(e){return e}function pT(e,t){return Dh(e,t)?t:e}var gT="override";function yT(e){return e.annotationType_===gT}function $o(e,t){return{annotationType_:e,options_:t,make_:vT,extend_:bT,decorate_20223_:ET}}function vT(e,t,n,r){var a;if((a=this.options_)!=null&&a.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(ko(n.value))return 1;var s=pv(e,this,t,n,!1);return da(r,t,s),2}function bT(e,t,n,r){var a=pv(e,this,t,n);return e.defineProperty_(t,a,r)}function ET(e,t){var n=t.kind,r=t.name,a=t.addInitializer,s=this,i=function(u){var d,f,m,h;return Is((d=(f=s.options_)==null?void 0:f.name)!=null?d:r.toString(),u,(m=(h=s.options_)==null?void 0:h.autoAction)!=null?m:!1)};if(n=="field")return function(c){var u,d=c;return ko(d)||(d=i(d)),(u=s.options_)!=null&&u.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(n=="method"){var l;return ko(e)||(e=i(e)),(l=this.options_)!=null&&l.bound&&a(function(){var c=this,u=c[r].bind(c);u.isMobxAction=!0,c[r]=u}),e}Pt("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+("\n'"+s.annotationType_+"' can only be used on properties with a function value."))}function _T(e,t,n,r){t.annotationType_,r.value}function pv(e,t,n,r,a){var s,i,l,c,u,d,f;a===void 0&&(a=Ie.safeDescriptors),_T(e,t,n,r);var m=r.value;if((s=t.options_)!=null&&s.bound){var h;m=m.bind((h=e.proxy_)!=null?h:e.target_)}return{value:Is((i=(l=t.options_)==null?void 0:l.name)!=null?i:n.toString(),m,(c=(u=t.options_)==null?void 0:u.autoAction)!=null?c:!1,(d=t.options_)!=null&&d.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:a?e.isPlainObject_:!0,enumerable:!1,writable:!a}}function gv(e,t){return{annotationType_:e,options_:t,make_:wT,extend_:CT,decorate_20223_:TT}}function wT(e,t,n,r){var a;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((a=this.options_)!=null&&a.bound&&(!Pa(e.target_,t)||!Do(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Do(n.value))return 1;var s=yv(e,this,t,n,!1,!1);return da(r,t,s),2}function CT(e,t,n,r){var a,s=yv(e,this,t,n,(a=this.options_)==null?void 0:a.bound);return e.defineProperty_(t,s,r)}function TT(e,t){var n,r=t.name,a=t.addInitializer;return Do(e)||(e=Ti(e)),(n=this.options_)!=null&&n.bound&&a(function(){var s=this,i=s[r].bind(s);i.isMobXFlow=!0,s[r]=i}),e}function ST(e,t,n,r){t.annotationType_,r.value}function yv(e,t,n,r,a,s){s===void 0&&(s=Ie.safeDescriptors),ST(e,t,n,r);var i=r.value;if(Do(i)||(i=Ti(i)),a){var l;i=i.bind((l=e.proxy_)!=null?l:e.target_),i.isMobXFlow=!0}return{value:i,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function wh(e,t){return{annotationType_:e,options_:t,make_:NT,extend_:kT,decorate_20223_:DT}}function NT(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function kT(e,t,n,r){return xT(e,this,t,n),e.defineComputedProperty_(t,Ps({},this.options_,{get:n.get,set:n.set}),r)}function DT(e,t){var n=this,r=t.name,a=t.addInitializer;return a(function(){var s=Ws(this)[st],i=Ps({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),s.values_.set(r,new Gr(i))}),function(){return this[st].getObservablePropValue_(r)}}function xT(e,t,n,r){t.annotationType_,r.get}function lu(e,t){return{annotationType_:e,options_:t,make_:AT,extend_:PT,decorate_20223_:OT}}function AT(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function PT(e,t,n,r){var a,s;return IT(e,this),e.defineObservableProperty_(t,n.value,(a=(s=this.options_)==null?void 0:s.enhancer)!=null?a:Os,r)}function OT(e,t){var n=this,r=t.kind,a=t.name,s=new WeakSet;function i(l,c){var u,d,f=Ws(l)[st],m=new Ss(c,(u=(d=n.options_)==null?void 0:d.enhancer)!=null?u:Os,"ObservableObject."+a.toString(),!1);f.values_.set(a,m),s.add(l)}if(r=="accessor")return{get:function(){return s.has(this)||i(this,e.get.call(this)),this[st].getObservablePropValue_(a)},set:function(c){return s.has(this)||i(this,c),this[st].setObservablePropValue_(a,c)},init:function(c){return s.has(this)||i(this,c),c}}}function IT(e,t,n,r){t.annotationType_}var LT="true",RT=vv();function vv(e){return{annotationType_:LT,options_:e,make_:MT,extend_:FT,decorate_20223_:BT}}function MT(e,t,n,r){var a,s;if(n.get)return cu.make_(e,t,n,r);if(n.set){var i=Is(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:Ie.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(da(r,t,{configurable:!0,set:i}),2)}if(r!==e.target_&&typeof n.value=="function"){var l;if(cv(n.value)){var c,u=(c=this.options_)!=null&&c.autoBind?Ti.bound:Ti;return u.make_(e,t,n,r)}var d=(l=this.options_)!=null&&l.autoBind?No.bound:No;return d.make_(e,t,n,r)}var f=((a=this.options_)==null?void 0:a.deep)===!1?xt.ref:xt;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var m;n.value=n.value.bind((m=e.proxy_)!=null?m:e.target_)}return f.make_(e,t,n,r)}function FT(e,t,n,r){var a,s;if(n.get)return cu.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:Ie.safeDescriptors?e.isPlainObject_:!0,set:Is(t.toString(),n.set)},r);if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var l=((s=this.options_)==null?void 0:s.deep)===!1?xt.ref:xt;return l.extend_(e,t,n,r)}function BT(e,t){Pt("'"+this.annotationType_+"' cannot be used as a decorator")}var UT="observable",HT="observable.ref",GT="observable.shallow",$T="observable.struct",bv={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(bv);function Dl(e){return e||bv}var Cf=lu(UT),WT=lu(HT,{enhancer:ou}),YT=lu(GT,{enhancer:mT}),zT=lu($T,{enhancer:pT}),Ev=fa(Cf);function xl(e){return e.deep===!0?Os:e.deep===!1?ou:qT(e.defaultDecorator)}function VT(e){var t;return e?(t=e.defaultDecorator)!=null?t:vv(e):void 0}function qT(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Os}function _v(e,t,n){if(Go(t))return Cf.decorate_20223_(e,t);if(As(t)){Ho(e,t,Cf);return}return $v(e)?e:Ua(e)?xt.object(e,t,n):Array.isArray(e)?xt.array(e,t):Gi(e)?xt.map(e,t):ka(e)?xt.set(e,t):typeof e=="object"&&e!==null?e:xt.box(e,t)}sv(_v,Ev);var jT={box:function(t,n){var r=Dl(n);return new Ss(t,xl(r),r.name,!0,r.equals)},array:function(t,n){var r=Dl(n);return(Ie.useProxies===!1||r.proxy===!1?$S:OS)(t,xl(r),r.name)},map:function(t,n){var r=Dl(n);return new zv(t,xl(r),r.name)},set:function(t,n){var r=Dl(n);return new Vv(t,xl(r),r.name)},object:function(t,n,r){return cs(function(){return Uv(Ie.useProxies===!1||(r==null?void 0:r.proxy)===!1?Ws({},r):xS({},r),t,n)})},ref:fa(WT),shallow:fa(YT),deep:Ev,struct:fa(zT)},xt=sv(_v,jT),wv="computed",KT="computed.struct",Tf=wh(wv),QT=wh(KT,{equals:_c.structural}),cu=function(t,n){if(Go(n))return Tf.decorate_20223_(t,n);if(As(n))return Ho(t,n,Tf);if(Ua(t))return fa(wh(wv,t));var r=Ua(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Gr(r)};Object.assign(cu,Tf);cu.struct=fa(QT);var gp,yp,wc=0,XT=1,JT=(gp=(yp=Ec(function(){},"name"))==null?void 0:yp.configurable)!=null?gp:!1,vp={value:"action",configurable:!0,writable:!1,enumerable:!1};function Is(e,t,n,r){n===void 0&&(n=!1);function a(){return Cv(e,n,t,r||this,arguments)}return a.isMobxAction=!0,a.toString=function(){return t.toString()},JT&&(vp.value=e,da(a,"name",vp)),a}function Cv(e,t,n,r,a){var s=ZT(e,t);try{return n.apply(r,a)}catch(i){throw s.error_=i,i}finally{eS(s)}}function ZT(e,t,n,r){var a=!1,s=0,i=Ie.trackingDerivation,l=!t||!i;Nr();var c=Ie.allowStateChanges;l&&(Gs(),c=Ch(!0));var u=Sh(!0),d={runAsAction_:l,prevDerivation_:i,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:a,startTime_:s,actionId_:XT++,parentActionId_:wc};return wc=d.actionId_,d}function eS(e){wc!==e.actionId_&&Pt(30),wc=e.parentActionId_,e.error_!==void 0&&(Ie.suppressReactionErrors=!0),Th(e.prevAllowStateChanges_),po(e.prevAllowStateReads_),kr(),e.runAsAction_&&Oa(e.prevDerivation_),Ie.suppressReactionErrors=!1}function Ch(e){var t=Ie.allowStateChanges;return Ie.allowStateChanges=e,t}function Th(e){Ie.allowStateChanges=e}var Ss=function(e){function t(r,a,s,i,l){var c;return s===void 0&&(s="ObservableValue"),l===void 0&&(l=_c.default),c=e.call(this,s)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=a,c.name_=s,c.equals=l,c.value_=a(r,void 0,s),c}hv(t,e);var n=t.prototype;return n.dehanceValue=function(a){return this.dehancer!==void 0?this.dehancer(a):a},n.set=function(a){this.value_,a=this.prepareNewValue_(a),a!==Ie.UNCHANGED&&this.setNewValue_(a)},n.prepareNewValue_=function(a){if(wr(this)){var s=Cr(this,{object:this,type:ha,newValue:a});if(!s)return Ie.UNCHANGED;a=s.newValue}return a=this.enhancer(a,this.value_,this.name_),this.equals(this.value_,a)?Ie.UNCHANGED:a},n.setNewValue_=function(a){var s=this.value_;this.value_=a,this.reportChanged(),Mr(this)&&Fr(this,{type:ha,object:this,newValue:a,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(a){return Wo(this,a)},n.observe_=function(a,s){return s&&a({observableKind:"value",debugObjectName:this.name_,object:this,type:ha,newValue:this.value_,oldValue:void 0}),Yo(this,a)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return fv(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(ls),Gr=function(){function e(n){this.dependenciesState_=It.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=It.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Tc(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Cc.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Pt(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Is("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?_c.structural:_c.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){sS(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Pt(32,this.name_,this.derivation),Ie.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Sf(this)&&(this.warnAboutUntrackedRead_(),Nr(),this.value_=this.computeValue_(!1),kr());else if(Av(this),Sf(this)){var r=Ie.trackingContext;this.keepAlive_&&!r&&(Ie.trackingContext=this),this.trackAndCompute()&&aS(this),Ie.trackingContext=r}var a=this.value_;if(rc(a))throw a.cause;return a},t.set=function(r){if(this.setter_){this.isRunningSetter&&Pt(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Pt(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,a=this.dependenciesState_===It.NOT_TRACKING_,s=this.computeValue_(!0),i=a||rc(r)||rc(s)||!this.equals_(r,s);return i&&(this.value_=s),i},t.computeValue_=function(r){this.isComputing=!0;var a=Ch(!1),s;if(r)s=Tv(this,this.derivation,this.scope_);else if(Ie.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(i){s=new Tc(i)}return Th(a),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(Nf(this),this.value_=void 0)},t.observe_=function(r,a){var s=this,i=!0,l=void 0;return mS(function(){var c=s.get();if(!i||a){var u=Gs();r({observableKind:"computed",debugObjectName:s.name_,type:ha,object:s,newValue:c,oldValue:l}),Oa(u)}i=!1,l=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return fv(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},$i(e,[{key:"isComputing",get:function(){return or(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=lr(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return or(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=lr(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return or(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=lr(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return or(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=lr(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return or(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=lr(this.flags_,e.diffValueMask_,r===1)}}])}();Gr.isComputingMask_=1;Gr.isRunningSetterMask_=2;Gr.isBeingObservedMask_=4;Gr.isPendingUnobservationMask_=8;Gr.diffValueMask_=16;var uu=Hs("ComputedValue",Gr),It;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(It||(It={}));var Cc;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Cc||(Cc={}));var Tc=function(t){this.cause=void 0,this.cause=t};function rc(e){return e instanceof Tc}function Sf(e){switch(e.dependenciesState_){case It.UP_TO_DATE_:return!1;case It.NOT_TRACKING_:case It.STALE_:return!0;case It.POSSIBLY_STALE_:{for(var t=Sh(!0),n=Gs(),r=e.observing_,a=r.length,s=0;s<a;s++){var i=r[s];if(uu(i)){if(Ie.disableErrorBoundaries)i.get();else try{i.get()}catch(l){return Oa(n),po(t),!0}if(e.dependenciesState_===It.STALE_)return Oa(n),po(t),!0}}return Nv(e),Oa(n),po(t),!1}}}function Tv(e,t,n){var r=Sh(!0);Nv(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Ie.runId;var a=Ie.trackingDerivation;Ie.trackingDerivation=e,Ie.inBatch++;var s;if(Ie.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(i){s=new Tc(i)}return Ie.inBatch--,Ie.trackingDerivation=a,tS(e),po(r),s}function tS(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=It.UP_TO_DATE_,a=0,s=e.unboundDepsCount_,i=0;i<s;i++){var l=n[i];l.diffValue===0&&(l.diffValue=1,a!==i&&(n[a]=l),a++),l.dependenciesState_>r&&(r=l.dependenciesState_)}for(n.length=a,e.newObserving_=null,s=t.length;s--;){var c=t[s];c.diffValue===0&&Dv(c,e),c.diffValue=0}for(;a--;){var u=n[a];u.diffValue===1&&(u.diffValue=0,rS(u,e))}r!==It.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function Nf(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Dv(t[n],e);e.dependenciesState_=It.NOT_TRACKING_}function Sv(e){var t=Gs();try{return e()}finally{Oa(t)}}function Gs(){var e=Ie.trackingDerivation;return Ie.trackingDerivation=null,e}function Oa(e){Ie.trackingDerivation=e}function Sh(e){var t=Ie.allowStateReads;return Ie.allowStateReads=e,t}function po(e){Ie.allowStateReads=e}function Nv(e){if(e.dependenciesState_!==It.UP_TO_DATE_){e.dependenciesState_=It.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=It.UP_TO_DATE_}}var ac=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},sc=!0,kv=!1,Ie=function(){var e=au();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(sc=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new ac().version&&(sc=!1),sc?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ac):(setTimeout(function(){kv||Pt(35)},1),new ac)}();function nS(){if((Ie.pendingReactions.length||Ie.inBatch||Ie.isRunningReactions)&&Pt(36),kv=!0,sc){var e=au();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),Ie=new ac}}function rS(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Dv(e,t){e.observers_.delete(t),e.observers_.size===0&&xv(e)}function xv(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,Ie.pendingUnobservations.push(e))}function Nr(){Ie.inBatch++}function kr(){if(--Ie.inBatch===0){Ov();for(var e=Ie.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Gr&&n.suspend_())}Ie.pendingUnobservations=[]}}function Av(e){var t=Ie.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&Ie.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&Ie.inBatch>0&&xv(e),!1)}function Pv(e){e.lowestObserverState_!==It.STALE_&&(e.lowestObserverState_=It.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===It.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=It.STALE_}))}function aS(e){e.lowestObserverState_!==It.STALE_&&(e.lowestObserverState_=It.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===It.POSSIBLY_STALE_?t.dependenciesState_=It.STALE_:t.dependenciesState_===It.UP_TO_DATE_&&(e.lowestObserverState_=It.UP_TO_DATE_)}))}function sS(e){e.lowestObserverState_===It.UP_TO_DATE_&&(e.lowestObserverState_=It.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===It.UP_TO_DATE_&&(t.dependenciesState_=It.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Ha=function(){function e(n,r,a,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=It.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Cc.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=a,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Ie.pendingReactions.push(this),Ov())},t.runReaction_=function(){if(!this.isDisposed){Nr(),this.isScheduled=!1;var r=Ie.trackingContext;if(Ie.trackingContext=this,Sf(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(a){this.reportExceptionInDerivation_(a)}}Ie.trackingContext=r,kr()}},t.track=function(r){if(!this.isDisposed){Nr(),this.isRunning=!0;var a=Ie.trackingContext;Ie.trackingContext=this;var s=Tv(this,r,void 0);Ie.trackingContext=a,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Nf(this),rc(s)&&this.reportExceptionInDerivation_(s.cause),kr()}},t.reportExceptionInDerivation_=function(r){var a=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Ie.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";Ie.suppressReactionErrors||console.error(s,r),Ie.globalReactionErrorHandlers.forEach(function(i){return i(r,a)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Nr(),Nf(this),kr()))},t.getDisposer_=function(r){var a=this,s=function i(){a.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",i)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[st]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},$i(e,[{key:"isDisposed",get:function(){return or(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=lr(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return or(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=lr(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return or(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=lr(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return or(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=lr(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return or(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=lr(this.flags_,e.diffValueMask_,r===1)}}])}();Ha.isDisposedMask_=1;Ha.isScheduledMask_=2;Ha.isTrackPendingMask_=4;Ha.isRunningMask_=8;Ha.diffValueMask_=16;var iS=100,kf=function(t){return t()};function Ov(){Ie.inBatch>0||Ie.isRunningReactions||kf(oS)}function oS(){Ie.isRunningReactions=!0;for(var e=Ie.pendingReactions,t=0;e.length>0;){++t===iS&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,a=n.length;r<a;r++)n[r].runReaction_()}Ie.isRunningReactions=!1}var Sc=Hs("Reaction",Ha);function lS(e){var t=kf;kf=function(r){return e(function(){return t(r)})}}function go(){return!1}function cS(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Iv="action",uS="action.bound",Lv="autoAction",dS="autoAction.bound",Rv="<unnamed action>",Df=$o(Iv),fS=$o(uS,{bound:!0}),xf=$o(Lv,{autoAction:!0}),hS=$o(dS,{autoAction:!0,bound:!0});function Mv(e){var t=function(r,a){if(Hr(r))return Is(r.name||Rv,r,e);if(Hr(a))return Is(r,a,e);if(Go(a))return(e?xf:Df).decorate_20223_(r,a);if(As(a))return Ho(r,a,e?xf:Df);if(As(r))return fa($o(e?Lv:Iv,{name:r,autoAction:e}))};return t}var un=Mv(!1);Object.assign(un,Df);var No=Mv(!0);Object.assign(No,xf);un.bound=fa(fS);No.bound=fa(hS);function Ze(e){return Cv(e.name||Rv,!1,e,this,void 0)}function ko(e){return Hr(e)&&e.isMobxAction===!0}function mS(e,t){var n,r,a,s;t===void 0&&(t=iv);var i=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",l=!t.scheduler&&!t.delay,c;if(l)c=new Ha(i,function(){this.track(f)},t.onError,t.requiresObservable);else{var u=gS(t),d=!1;c=new Ha(i,function(){d||(d=!0,u(function(){d=!1,c.isDisposed||c.track(f)}))},t.onError,t.requiresObservable)}function f(){e(c)}return(a=t)!=null&&(a=a.signal)!=null&&a.aborted||c.schedule_(),c.getDisposer_((s=t)==null?void 0:s.signal)}var pS=function(t){return t()};function gS(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:pS}var yS="onBO",vS="onBUO";function bS(e,t,n){return Bv(yS,e,t,n)}function Fv(e,t,n){return Bv(vS,e,t,n)}function Bv(e,t,n,r){var a=typeof r=="function"?Si(t,n):Si(t),s=Hr(r)?r:n,i=e+"L";return a[i]?a[i].add(s):a[i]=new Set([s]),function(){var l=a[i];l&&(l.delete(s),l.size===0&&delete a[i])}}var ES="never",Al="always",_S="observed";function wS(e){e.isolateGlobalState===!0&&nS();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(Ie.useProxies=t===Al?!0:t===ES?!1:typeof Proxy<"u"),t==="ifavailable"&&(Ie.verifyProxies=!0),n!==void 0){var r=n===Al?Al:n===_S;Ie.enforceActions=r,Ie.allowStateChanges=!(r===!0||r===Al)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(a){a in e&&(Ie[a]=!!e[a])}),Ie.allowStateReads=!Ie.observableRequiresReaction,e.reactionScheduler&&lS(e.reactionScheduler)}function Uv(e,t,n,r){var a=sT(t);return cs(function(){var s=Ws(e,r)[st];Ci(a).forEach(function(i){s.extend_(i,a[i],n&&i in n?n[i]:!0)})}),e}function CS(e,t){return Hv(Si(e,t))}function Hv(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=TS(e.observing_).map(Hv)),t}function TS(e){return Array.from(new Set(e))}var SS=0;function Gv(){this.message="FLOW_CANCELLED"}Gv.prototype=Object.create(Error.prototype);var ud=gv("flow"),NS=gv("flow.bound",{bound:!0}),Ti=Object.assign(function(t,n){if(Go(n))return ud.decorate_20223_(t,n);if(As(n))return Ho(t,n,ud);var r=t,a=r.name||"<unnamed flow>",s=function(){var l=this,c=arguments,u=++SS,d=un(a+" - runid: "+u+" - init",r).apply(l,c),f,m=void 0,h=new Promise(function(g,v){var _=0;f=v;function E(S){m=void 0;var N;try{N=un(a+" - runid: "+u+" - yield "+_++,d.next).call(d,S)}catch(T){return v(T)}w(N)}function C(S){m=void 0;var N;try{N=un(a+" - runid: "+u+" - yield "+_++,d.throw).call(d,S)}catch(T){return v(T)}w(N)}function w(S){if(Hr(S==null?void 0:S.then)){S.then(w,v);return}return S.done?g(S.value):(m=Promise.resolve(S.value),m.then(E,C))}E(void 0)});return h.cancel=un(a+" - runid: "+u+" - cancel",function(){try{m&&bp(m);var g=d.return(void 0),v=Promise.resolve(g.value);v.then(ui,ui),bp(v),f(new Gv)}catch(_){f(_)}}),h};return s.isMobXFlow=!0,s},ud);Ti.bound=fa(NS);function bp(e){Hr(e.cancel)&&e.cancel()}function Do(e){return(e==null?void 0:e.isMobXFlow)===!0}function kS(e,t){return e?t!==void 0?xo(e)?e[st].values_.has(t):!1:xo(e)||!!e[st]||_h(e)||Sc(e)||uu(e):!1}function $v(e){return kS(e)}function Da(e,t){t===void 0&&(t=void 0),Nr();try{return e.apply(t)}finally{kr()}}function Zs(e){return e[st]}var DS={has:function(t,n){return Zs(t).has_(n)},get:function(t,n){return Zs(t).get_(n)},set:function(t,n,r){var a;return As(n)?(a=Zs(t).set_(n,r,!0))!=null?a:!0:!1},deleteProperty:function(t,n){var r;return As(n)?(r=Zs(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var a;return(a=Zs(t).defineProperty_(n,r))!=null?a:!0},ownKeys:function(t){return Zs(t).ownKeys_()},preventExtensions:function(t){Pt(13)}};function xS(e,t){var n,r;return ov(),e=Ws(e,t),(r=(n=e[st]).proxy_)!=null?r:n.proxy_=new Proxy(e,DS)}function wr(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Wo(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),lv(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Cr(e,t){var n=Gs();try{for(var r=[].concat(e.interceptors_||[]),a=0,s=r.length;a<s&&(t=r[a](t),t&&!t.type&&Pt(14),!!t);a++);return t}finally{Oa(n)}}function Mr(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Yo(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),lv(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Fr(e,t){var n=Gs(),r=e.changeListeners_;if(r){r=r.slice();for(var a=0,s=r.length;a<s;a++)r[a](t);Oa(n)}}function Wv(e,t,n){return cs(function(){var r,a=Ws(e,n)[st];(r=t)!=null||(t=cT(e)),Ci(t).forEach(function(s){return a.make_(s,t[s])})}),e}var dd=Symbol("mobx-keys");function Yr(e,t,n){return Ua(e)?Uv(e,e,t,n):(cs(function(){var r=Ws(e,n)[st];if(!e[dd]){var a=Object.getPrototypeOf(e),s=new Set([].concat(Ci(e),Ci(a)));s.delete("constructor"),s.delete(st),Uo(a,dd,s)}e[dd].forEach(function(i){return r.make_(i,t&&i in t?t[i]:!0)})}),e)}var Ep="splice",ha="update",AS=1e4,PS={get:function(t,n){var r=t[st];return n===st?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Pa(Nc,n)?Nc[n]:t[n]},set:function(t,n,r){var a=t[st];return n==="length"&&a.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:a.set_(parseInt(n),r),!0},preventExtensions:function(){Pt(15)}},Nh=function(){function e(n,r,a,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=a,this.legacyMode_=s,this.atom_=new ls(n),this.enhancer_=function(i,l){return r(i,l,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Wo(this,r)},t.observe_=function(r,a){return a===void 0&&(a=!1),a&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Yo(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Pt("Out of range: "+r);var a=this.values_.length;if(r!==a)if(r>a){for(var s=new Array(r-a),i=0;i<r-a;i++)s[i]=void 0;this.spliceWithArray_(a,0,s)}else this.spliceWithArray_(r,a-r)},t.updateArrayLength_=function(r,a){r!==this.lastKnownLength_&&Pt(16),this.lastKnownLength_+=a,this.legacyMode_&&a>0&&Qv(r+a+1)},t.spliceWithArray_=function(r,a,s){var i=this;this.atom_;var l=this.values_.length;if(r===void 0?r=0:r>l?r=l:r<0&&(r=Math.max(0,l+r)),arguments.length===1?a=l-r:a==null?a=0:a=Math.max(0,Math.min(a,l-r)),s===void 0&&(s=_f),wr(this)){var c=Cr(this,{object:this.proxy_,type:Ep,index:r,removedCount:a,added:s});if(!c)return _f;a=c.removedCount,s=c.added}if(s=s.length===0?s:s.map(function(f){return i.enhancer_(f,void 0)}),this.legacyMode_){var u=s.length-a;this.updateArrayLength_(l,u)}var d=this.spliceItemsIntoValues_(r,a,s);return(a!==0||s.length!==0)&&this.notifyArraySplice_(r,s,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(r,a,s){if(s.length<AS){var i;return(i=this.values_).splice.apply(i,[r,a].concat(s))}else{var l=this.values_.slice(r,r+a),c=this.values_.slice(r+a);this.values_.length+=s.length-a;for(var u=0;u<s.length;u++)this.values_[r+u]=s[u];for(var d=0;d<c.length;d++)this.values_[r+s.length+d]=c[d];return l}},t.notifyArrayChildUpdate_=function(r,a,s){var i=!this.owned_&&go(),l=Mr(this),c=l||i?{observableKind:"array",object:this.proxy_,type:ha,debugObjectName:this.atom_.name_,index:r,newValue:a,oldValue:s}:null;this.atom_.reportChanged(),l&&Fr(this,c)},t.notifyArraySplice_=function(r,a,s){var i=!this.owned_&&go(),l=Mr(this),c=l||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Ep,index:r,removed:s,added:a,removedCount:s.length,addedCount:a.length}:null;this.atom_.reportChanged(),l&&Fr(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,a){var s=this.values_;if(this.legacyMode_&&r>s.length&&Pt(17,r,s.length),r<s.length){this.atom_;var i=s[r];if(wr(this)){var l=Cr(this,{type:ha,object:this.proxy_,index:r,newValue:a});if(!l)return;a=l.newValue}a=this.enhancer_(a,i);var c=a!==i;c&&(s[r]=a,this.notifyArrayChildUpdate_(r,a,i))}else{for(var u=new Array(r+1-s.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=a,this.spliceWithArray_(s.length,0,u)}},e}();function OS(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),ov(),cs(function(){var a=new Nh(n,t,r,!1);uv(a.values_,st,a);var s=new Proxy(a.values_,PS);return a.proxy_=s,e&&e.length&&a.spliceWithArray_(0,0,e),s})}var Nc={clear:function(){return this.splice(0)},replace:function(t){var n=this[st];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];var i=this[st];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,a)},spliceWithArray:function(t,n,r){return this[st].spliceWithArray_(t,n,r)},push:function(){for(var t=this[st],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[st].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[st],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return Ie.trackingDerivation&&Pt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ie.trackingDerivation&&Pt(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[st],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Jt("at",fr);Jt("concat",fr);Jt("flat",fr);Jt("includes",fr);Jt("indexOf",fr);Jt("join",fr);Jt("lastIndexOf",fr);Jt("slice",fr);Jt("toString",fr);Jt("toLocaleString",fr);Jt("toSorted",fr);Jt("toSpliced",fr);Jt("with",fr);Jt("every",zr);Jt("filter",zr);Jt("find",zr);Jt("findIndex",zr);Jt("findLast",zr);Jt("findLastIndex",zr);Jt("flatMap",zr);Jt("forEach",zr);Jt("map",zr);Jt("some",zr);Jt("toReversed",zr);Jt("reduce",Yv);Jt("reduceRight",Yv);function Jt(e,t){typeof Array.prototype[e]=="function"&&(Nc[e]=t(e))}function fr(e){return function(){var t=this[st];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function zr(e){return function(t,n){var r=this,a=this[st];a.atom_.reportObserved();var s=a.dehanceValues_(a.values_);return s[e](function(i,l){return t.call(n,i,l,r)})}}function Yv(e){return function(){var t=this,n=this[st];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),a=arguments[0];return arguments[0]=function(s,i,l){return a(s,i,l,t)},r[e].apply(r,arguments)}}var IS=Hs("ObservableArrayAdministration",Nh);function du(e){return iu(e)&&IS(e[st])}var LS={},Xa="add",kc="delete",zv=function(){function e(n,r,a){var s=this;r===void 0&&(r=Os),a===void 0&&(a="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[st]=LS,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=a,Hr(Map)||Pt(18),cs(function(){s.keysAtom_=mv("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var a=this;if(!Ie.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var i=s=new Ss(this.has_(r),ou,"ObservableMap.key?",!1);this.hasMap_.set(r,i),Fv(i,function(){return a.hasMap_.delete(r)})}return s.get()},t.set=function(r,a){var s=this.has_(r);if(wr(this)){var i=Cr(this,{type:s?ha:Xa,object:this,newValue:a,name:r});if(!i)return this;a=i.newValue}return s?this.updateValue_(r,a):this.addValue_(r,a),this},t.delete=function(r){var a=this;if(this.keysAtom_,wr(this)){var s=Cr(this,{type:kc,object:this,name:r});if(!s)return!1}if(this.has_(r)){var i=go(),l=Mr(this),c=l||i?{observableKind:"map",debugObjectName:this.name_,type:kc,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Da(function(){var u;a.keysAtom_.reportChanged(),(u=a.hasMap_.get(r))==null||u.setNewValue_(!1);var d=a.data_.get(r);d.setNewValue_(void 0),a.data_.delete(r)}),l&&Fr(this,c),!0}return!1},t.updateValue_=function(r,a){var s=this.data_.get(r);if(a=s.prepareNewValue_(a),a!==Ie.UNCHANGED){var i=go(),l=Mr(this),c=l||i?{observableKind:"map",debugObjectName:this.name_,type:ha,object:this,oldValue:s.value_,name:r,newValue:a}:null;s.setNewValue_(a),l&&Fr(this,c)}},t.addValue_=function(r,a){var s=this;this.keysAtom_,Da(function(){var u,d=new Ss(a,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,d),a=d.value_,(u=s.hasMap_.get(r))==null||u.setNewValue_(!0),s.keysAtom_.reportChanged()});var i=go(),l=Mr(this),c=l||i?{observableKind:"map",debugObjectName:this.name_,type:Xa,object:this,name:r,newValue:a}:null;l&&Fr(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,a=this.keys();return _p({next:function(){var i=a.next(),l=i.done,c=i.value;return{done:l,value:l?void 0:r.get(c)}}})},t.entries=function(){var r=this,a=this.keys();return _p({next:function(){var i=a.next(),l=i.done,c=i.value;return{done:l,value:l?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,a){for(var s=di(this),i;!(i=s()).done;){var l=i.value,c=l[0],u=l[1];r.call(a,u,c,this)}},t.merge=function(r){var a=this;return $s(r)&&(r=new Map(r)),Da(function(){Ua(r)?aT(r).forEach(function(s){return a.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var i=s[0],l=s[1];return a.set(i,l)}):Gi(r)?(rT(r)||Pt(19,r),r.forEach(function(s,i){return a.set(i,s)})):r!=null&&Pt(20,r)}),this},t.clear=function(){var r=this;Da(function(){Sv(function(){for(var a=di(r.keys()),s;!(s=a()).done;){var i=s.value;r.delete(i)}})})},t.replace=function(r){var a=this;return Da(function(){for(var s=RS(r),i=new Map,l=!1,c=di(a.data_.keys()),u;!(u=c()).done;){var d=u.value;if(!s.has(d)){var f=a.delete(d);if(f)l=!0;else{var m=a.data_.get(d);i.set(d,m)}}}for(var h=di(s.entries()),g;!(g=h()).done;){var v=g.value,_=v[0],E=v[1],C=a.data_.has(_);if(a.set(_,E),a.data_.has(_)){var w=a.data_.get(_);i.set(_,w),C||(l=!0)}}if(!l)if(a.data_.size!==i.size)a.keysAtom_.reportChanged();else for(var S=a.data_.keys(),N=i.keys(),T=S.next(),k=N.next();!T.done;){if(T.value!==k.value){a.keysAtom_.reportChanged();break}T=S.next(),k=N.next()}a.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,a){return Yo(this,r)},t.intercept_=function(r){return Wo(this,r)},$i(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),$s=Hs("ObservableMap",zv);function _p(e){return e[Symbol.toStringTag]="MapIterator",xh(e)}function RS(e){if(Gi(e)||$s(e))return e;if(Array.isArray(e))return new Map(e);if(Ua(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Pt(21,e)}var MS={},Vv=function(){function e(n,r,a){var s=this;r===void 0&&(r=Os),a===void 0&&(a="ObservableSet"),this.name_=void 0,this[st]=MS,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=a,Hr(Set)||Pt(22),this.enhancer_=function(i,l){return r(i,l,a)},cs(function(){s.atom_=mv(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Da(function(){Sv(function(){for(var a=di(r.data_.values()),s;!(s=a()).done;){var i=s.value;r.delete(i)}})})},t.forEach=function(r,a){for(var s=di(this),i;!(i=s()).done;){var l=i.value;r.call(a,l,l,this)}},t.add=function(r){var a=this;if(this.atom_,wr(this)){var s=Cr(this,{type:Xa,object:this,newValue:r});if(!s)return this;r=s.newValue}if(!this.has(r)){Da(function(){a.data_.add(a.enhancer_(r,void 0)),a.atom_.reportChanged()});var i=!1,l=Mr(this),c=l||i?{observableKind:"set",debugObjectName:this.name_,type:Xa,object:this,newValue:r}:null;l&&Fr(this,c)}return this},t.delete=function(r){var a=this;if(wr(this)){var s=Cr(this,{type:kc,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var i=!1,l=Mr(this),c=l||i?{observableKind:"set",debugObjectName:this.name_,type:kc,object:this,oldValue:r}:null;return Da(function(){a.atom_.reportChanged(),a.data_.delete(r)}),l&&Fr(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return wp({next:function(){var s=r.next(),i=s.value,l=s.done;return l?{value:void 0,done:l}:{value:[i,i],done:l}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,a=this.data_.values();return wp({next:function(){var i=a.next(),l=i.value,c=i.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(l),done:c}}})},t.intersection=function(r){if(ka(r)&&!na(r))return r.intersection(this);var a=new Set(this);return a.intersection(r)},t.union=function(r){if(ka(r)&&!na(r))return r.union(this);var a=new Set(this);return a.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(ka(r)&&!na(r))return r.symmetricDifference(this);var a=new Set(this);return a.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(ka(r)&&!na(r))return r.isDisjointFrom(this);var a=new Set(this);return a.isDisjointFrom(r)},t.replace=function(r){var a=this;return na(r)&&(r=new Set(r)),Da(function(){Array.isArray(r)?(a.clear(),r.forEach(function(s){return a.add(s)})):ka(r)?(a.clear(),r.forEach(function(s){return a.add(s)})):r!=null&&Pt("Cannot initialize set from "+r)}),this},t.observe_=function(r,a){return Yo(this,r)},t.intercept_=function(r){return Wo(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},$i(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),na=Hs("ObservableSet",Vv);function wp(e){return e[Symbol.toStringTag]="SetIterator",xh(e)}var Cp=Object.create(null),Tp="remove",qv=function(){function e(n,r,a,s){r===void 0&&(r=new Map),s===void 0&&(s=RT),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=a,this.defaultAnnotation_=s,this.keysAtom_=new ls("ObservableObject.keys"),this.isPlainObject_=Ua(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,a){var s=this.values_.get(r);if(s instanceof Gr)return s.set(a),!0;if(wr(this)){var i=Cr(this,{type:ha,object:this.proxy_||this.target_,name:r,newValue:a});if(!i)return null;a=i.newValue}if(a=s.prepareNewValue_(a),a!==Ie.UNCHANGED){var l=Mr(this),c=!1,u=l||c?{type:ha,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:a}:null;s.setNewValue_(a),l&&Fr(this,u)}return!0},t.get_=function(r){return Ie.trackingDerivation&&!Pa(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,a,s){return s===void 0&&(s=!1),Pa(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,a):s?Reflect.set(this.target_,r,a):(this.target_[r]=a,!0):this.extend_(r,{value:a,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!Ie.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var a=this.pendingKeys_.get(r);return a||(a=new Ss(r in this.target_,ou,"ObservableObject.key?",!1),this.pendingKeys_.set(r,a)),a.get()},t.make_=function(r,a){if(a===!0&&(a=this.defaultAnnotation_),a!==!1){if(!(r in this.target_)){var s;if((s=this.target_[oa])!=null&&s[r])return;Pt(1,a.annotationType_,this.name_+"."+r.toString())}for(var i=this.target_;i&&i!==su;){var l=Ec(i,r);if(l){var c=a.make_(this,r,l,i);if(c===0)return;if(c===1)break}i=Object.getPrototypeOf(i)}Np(this,a,r)}},t.extend_=function(r,a,s,i){if(i===void 0&&(i=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,a,i);var l=s.extend_(this,r,a,i);return l&&Np(this,s,r),l},t.defineProperty_=function(r,a,s){s===void 0&&(s=!1),this.keysAtom_;try{Nr();var i=this.delete_(r);if(!i)return i;if(wr(this)){var l=Cr(this,{object:this.proxy_||this.target_,name:r,type:Xa,newValue:a.value});if(!l)return null;var c=l.newValue;a.value!==c&&(a=Ps({},a,{value:c}))}if(s){if(!Reflect.defineProperty(this.target_,r,a))return!1}else da(this.target_,r,a);this.notifyPropertyAddition_(r,a.value)}finally{kr()}return!0},t.defineObservableProperty_=function(r,a,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Nr();var l=this.delete_(r);if(!l)return l;if(wr(this)){var c=Cr(this,{object:this.proxy_||this.target_,name:r,type:Xa,newValue:a});if(!c)return null;a=c.newValue}var u=Sp(r),d={configurable:Ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(i){if(!Reflect.defineProperty(this.target_,r,d))return!1}else da(this.target_,r,d);var f=new Ss(a,s,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{kr()}return!0},t.defineComputedProperty_=function(r,a,s){s===void 0&&(s=!1),this.keysAtom_;try{Nr();var i=this.delete_(r);if(!i)return i;if(wr(this)){var l=Cr(this,{object:this.proxy_||this.target_,name:r,type:Xa,newValue:void 0});if(!l)return null}a.name||(a.name="ObservableObject.key"),a.context=this.proxy_||this.target_;var c=Sp(r),u={configurable:Ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else da(this.target_,r,u);this.values_.set(r,new Gr(a)),this.notifyPropertyAddition_(r,void 0)}finally{kr()}return!0},t.delete_=function(r,a){if(a===void 0&&(a=!1),this.keysAtom_,!Pa(this.target_,r))return!0;if(wr(this)){var s=Cr(this,{object:this.proxy_||this.target_,name:r,type:Tp});if(!s)return null}try{var i;Nr();var l=Mr(this),c=!1,u=this.values_.get(r),d=void 0;if(!u&&(l||c)){var f;d=(f=Ec(this.target_,r))==null?void 0:f.value}if(a){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Ss&&(d=u.value_),Pv(u)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(r in this.target_),l||c){var m={type:Tp,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};l&&Fr(this,m)}}finally{kr()}return!0},t.observe_=function(r,a){return Yo(this,r)},t.intercept_=function(r){return Wo(this,r)},t.notifyPropertyAddition_=function(r,a){var s,i=Mr(this),l=!1;if(i||l){var c=i||l?{type:Xa,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:a}:null;i&&Fr(this,c)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Ci(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Ws(e,t){var n;if(Pa(e,st))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",a=new qv(e,new Map,String(r),VT(t));return Uo(e,st,a),e}var FS=Hs("ObservableObjectAdministration",qv);function Sp(e){return Cp[e]||(Cp[e]={get:function(){return this[st].getObservablePropValue_(e)},set:function(n){return this[st].setObservablePropValue_(e,n)}})}function xo(e){return iu(e)?FS(e[st]):!1}function Np(e,t,n){var r;(r=e.target_[oa])==null||delete r[n]}var BS=Kv(0),US=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),fd=0,jv=function(){};function HS(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}HS(jv,Array.prototype);var kh=function(e){function t(r,a,s,i){var l;return s===void 0&&(s="ObservableArray"),i===void 0&&(i=!1),l=e.call(this)||this,cs(function(){var c=new Nh(s,a,i,!0);c.proxy_=l,uv(l,st,c),r&&r.length&&l.spliceWithArray(0,0,r),US&&Object.defineProperty(l,"0",BS)}),l}hv(t,e);var n=t.prototype;return n.concat=function(){this[st].atom_.reportObserved();for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),s.map(function(l){return du(l)?l.slice():l}))},n[Symbol.iterator]=function(){var r=this,a=0;return xh({next:function(){return a<r.length?{value:r[a++],done:!1}:{done:!0,value:void 0}}})},$i(t,[{key:"length",get:function(){return this[st].getArrayLength_()},set:function(a){this[st].setArrayLength_(a)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(jv);Object.entries(Nc).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Uo(kh.prototype,t,n)});function Kv(e){return{enumerable:!1,configurable:!0,get:function(){return this[st].get_(e)},set:function(n){this[st].set_(e,n)}}}function GS(e){da(kh.prototype,""+e,Kv(e))}function Qv(e){if(e>fd){for(var t=fd;t<e+100;t++)GS(t);fd=e}}Qv(1e3);function $S(e,t,n){return new kh(e,t,n)}function Si(e,t){if(typeof e=="object"&&e!==null){if(du(e))return t!==void 0&&Pt(23),e[st].atom_;if(na(e))return e.atom_;if($s(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Pt(25,t,Af(e)),n}if(xo(e)){if(!t)return Pt(26);var r=e[st].values_.get(t);return r||Pt(27,t,Af(e)),r}if(_h(e)||uu(e)||Sc(e))return e}else if(Hr(e)&&Sc(e[st]))return e[st];Pt(28)}function Xv(e,t){if(e||Pt(29),t!==void 0)return Xv(Si(e,t));if(_h(e)||uu(e)||Sc(e)||$s(e)||na(e))return e;if(e[st])return e[st];Pt(24,e)}function Af(e,t){var n;if(t!==void 0)n=Si(e,t);else{if(ko(e))return e.name;xo(e)||$s(e)||na(e)?n=Xv(e):n=Si(e)}return n.name_}function cs(e){var t=Gs(),n=Ch(!0);Nr();try{return e()}finally{kr(),Th(n),Oa(t)}}var kp=su.toString;function Dh(e,t,n){return n===void 0&&(n=-1),Pf(e,t,n)}function Pf(e,t,n,r,a){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var i=kp.call(e);if(i!==kp.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Dp(e),t=Dp(t);var l=i==="[object Array]";if(!l){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!(Hr(c)&&c instanceof c&&Hr(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],a=a||[];for(var d=r.length;d--;)if(r[d]===e)return a[d]===t;if(r.push(e),a.push(t),l){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!Pf(e[d],t[d],n-1,r,a))return!1}else{var f=Object.keys(e),m=f.length;if(Object.keys(t).length!==m)return!1;for(var h=0;h<m;h++){var g=f[h];if(!(Pa(t,g)&&Pf(e[g],t[g],n-1,r,a)))return!1}}return r.pop(),a.pop(),!0}function Dp(e){return du(e)?e.slice():Gi(e)||$s(e)||ka(e)||na(e)?Array.from(e.entries()):e}var xp,WS=((xp=au().Iterator)==null?void 0:xp.prototype)||{};function xh(e){return e[Symbol.iterator]=YS,Object.assign(Object.create(WS),e)}function YS(){return this}["Symbol","Map","Set"].forEach(function(e){var t=au();typeof t[e]>"u"&&Pt("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:cS,extras:{getDebugName:Af},$mobx:st});if(!y.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Wv)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function zS(e){e()}function VS(e){e||(e=zS),wS({reactionScheduler:e})}function qS(e){return CS(e)}var jS=1e4,KS=1e4,QS=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=jS),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var a=Date.now();n.registrations.forEach(function(s,i){a-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(i))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,KS))}}),e}(),XS=typeof FinalizationRegistry<"u"?FinalizationRegistry:QS,Of=new XS(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),Jv={exports:{}},Zv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni=y;function JS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZS=typeof Object.is=="function"?Object.is:JS,eN=Ni.useState,tN=Ni.useEffect,nN=Ni.useLayoutEffect,rN=Ni.useDebugValue;function aN(e,t){var n=t(),r=eN({inst:{value:n,getSnapshot:t}}),a=r[0].inst,s=r[1];return nN(function(){a.value=n,a.getSnapshot=t,hd(a)&&s({inst:a})},[e,n,t]),tN(function(){return hd(a)&&s({inst:a}),e(function(){hd(a)&&s({inst:a})})},[e]),rN(n),n}function hd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ZS(e,n)}catch(r){return!0}}function sN(e,t){return t()}var iN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sN:aN;Zv.useSyncExternalStore=Ni.useSyncExternalStore!==void 0?Ni.useSyncExternalStore:iN;Jv.exports=Zv;var oN=Jv.exports;function Ap(e){e.reaction=new Ha("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function lN(e,t){t===void 0&&(t="observed");var n=Z.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(l){return Of.unregister(r),r.onStoreChange=l,r.reaction||(Ap(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var a=n.current;a.reaction||(Ap(a),Of.register(n,a,a)),Z.useDebugValue(a.reaction,qS),oN.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot);var s,i;if(a.reaction.track(function(){try{s=e()}catch(l){i=l}}),i)throw i;return s}var md,pd,eb=typeof Symbol=="function"&&Symbol.for,cN=(pd=(md=Object.getOwnPropertyDescriptor(function(){},"name"))===null||md===void 0?void 0:md.configurable)!==null&&pd!==void 0?pd:!1,Pp=eb?Symbol.for("react.forward_ref"):typeof y.forwardRef=="function"&&y.forwardRef(function(e){return null}).$$typeof,Op=eb?Symbol.for("react.memo"):typeof y.memo=="function"&&y.memo(function(e){return null}).$$typeof;function ze(e,t){var n;if(Op&&e.$$typeof===Op)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=t==null?void 0:t.forwardRef)!==null&&n!==void 0?n:!1,a=e,s=e.displayName||e.name;if(Pp&&e.$$typeof===Pp&&(r=!0,a=e.render,typeof a!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var i=function(l,c){return lN(function(){return a(l,c)},s)};return i.displayName=e.displayName,cN&&Object.defineProperty(i,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(i.contextTypes=e.contextTypes),r&&(i=y.forwardRef(i)),i=y.memo(i),dN(e,i),i}var uN={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function dN(e,t){Object.keys(e).forEach(function(n){uN[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var gd;VS(rs.unstable_batchedUpdates);gd=Of.finalizeAllImmediately;const yd="cookie_consent",fN=()=>{const[e,t]=J("cookie-banner"),[n,r]=y.useState(!1);y.useEffect(()=>{if(!localStorage.getItem(yd)){const l=setTimeout(()=>{r(!0)},500);return()=>clearTimeout(l)}},[]);const a=()=>{localStorage.setItem(yd,"accepted"),r(!1)},s=()=>{localStorage.setItem(yd,"rejected"),r(!1)};return n?o("div",{className:e(),children:p("div",{className:t("content"),children:[o("div",{className:t("text"),children:p("p",{className:t("message"),children:["Мы используем файлы cookie для улучшения работы сайта и персонализации контента. Продолжая использовать сайт, вы соглашаетесь с использованием cookie. Подробнее в"," ",o(Fe,{to:"/cookies",className:t("link"),target:"_blank",rel:"noopener noreferrer",children:"Политике использования cookie"}),"."]})}),p("div",{className:t("actions"),children:[o(z,{theme:"blue-light",className:t("btn"),onClick:s,typeBtn:"button",children:"Отклонить"}),o(z,{theme:"blue",className:t("btn"),onClick:a,typeBtn:"button",children:"Принять"})]})]})}):null};/*! js-cookie v3.0.5 | MIT */function Pl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var hN={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function If(e,t){function n(a,s,i){if(!(typeof document>"u")){i=Pl({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var c in i)i[c]&&(l+="; "+c,i[c]!==!0&&(l+="="+i[c].split(";")[0]));return document.cookie=a+"="+e.write(s,a)+l}}function r(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var s=document.cookie?document.cookie.split("; "):[],i={},l=0;l<s.length;l++){var c=s[l].split("="),u=c.slice(1).join("=");try{var d=decodeURIComponent(c[0]);if(i[d]=e.read(u,d),a===d)break}catch(f){}}return a?i[a]:i}}return Object.create({set:n,get:r,remove:function(a,s){n(a,"",Pl({},s,{expires:-1}))},withAttributes:function(a){return If(this.converter,Pl({},this.attributes,a))},withConverter:function(a){return If(Pl({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var dt=If(hN,{path:"/"});let mN=class{constructor(){this.isAuth=!!dt.get("token"),this.name=dt.get("name")||"",this.avatar=dt.get("avatar")||"",this.emailConfirmed=dt.get("email_confirmed")==="true",this.email=dt.get("email")||"",this.userInfo={avatar:dt.get("avatar")||"",email:"",name:"",id:0,username:"",firstName:"",lastName:"",country:"",coverImage:"",aboutMe:"",totalAddedGoals:0,totalCompletedGoals:0,totalCompletedLists:0,totalAddedLists:0,totalAchievements:0},this.userSelf={avatar:dt.get("avatar")||"",email:"",name:"",id:+(dt.get("user-id")||0),username:"",firstName:"",lastName:"",country:"",coverImage:"",aboutMe:"",totalAddedGoals:0,totalCompletedGoals:parseInt(dt.get("user_total_completed_goals")||"0",10),totalCompletedLists:0,totalAddedLists:0,totalAchievements:0,subscriptionType:dt.get("subscription_type")||void 0,level:parseInt(dt.get("user_level")||"0",10)||void 0},this.addedGoals={goals:[],totalAdded:0},this.addedLists={lists:[],totalAdded:0},this.mainGoals={easyGoals:{data:[],countCompleted:0},mediumGoals:{data:[],countCompleted:0},hardGoals:{data:[],countCompleted:0}},this.setIsAuth=t=>{this.isAuth=t},this.setName=t=>{this.name=t},this.setUserInfo=t=>{this.userInfo=t;const n=parseInt(dt.get("user-id")||"0",10);t.id&&t.id===n&&(t.isEmailConfirmed!==void 0&&this.setEmailConfirmed(t.isEmailConfirmed),t.email&&this.setEmail(t.email))},this.setUserSelf=t=>{var r;this.userSelf=t,t.isEmailConfirmed!==void 0&&this.setEmailConfirmed(t.isEmailConfirmed),t.email&&this.setEmail(t.email),t.subscriptionType?dt.set("subscription_type",t.subscriptionType):dt.remove("subscription_type"),dt.set("user_total_completed_goals",String((r=t.totalCompletedGoals)!=null?r:0));const{level:n}=t;n!=null?dt.set("user_level",String(n)):dt.remove("user_level")},this.setAddedGoals=t=>{this.addedGoals=t},this.setAddedLists=t=>{this.addedLists=t},this.setMainGoals=t=>{this.mainGoals=t},this.setAvatar=t=>{this.avatar=t},this.setEmailConfirmed=t=>{this.emailConfirmed=t,t?dt.set("email_confirmed","true"):dt.remove("email_confirmed")},this.setEmail=t=>{this.email=t,t?dt.set("email",t):dt.remove("email")},Yr(this)}};const Rt=new mN;let pN=class{constructor(){this.queue=[],this.visibleNotifications=[],Yr(this)}addNotification(t){const n=Math.random().toString(36).substr(2,9);this.queue.push({id:n,...t}),this.showNextNotification()}showNextNotification(){for(;this.visibleNotifications.length<3&&this.queue.length>0;){const t=this.queue.shift();t&&(this.visibleNotifications.push(t),setTimeout(()=>this.removeNotification(t.id),7e3))}}removeNotification(t){this.visibleNotifications=this.visibleNotifications.filter(n=>n.id!==t),this.showNextNotification()}};const me=new pN,gN=e=>new Promise(t=>{setTimeout(t,e)}),tb=async(e,t=3,n=1,r=!0)=>{let a=0;for(;a<=t;){const s=await e();if(s.success)return s;if(s.errors&&a<t&&typeof s.errors=="object"&&("retry_after"in s.errors||"api_name"in s.errors)){const l=s.errors.retry_after||n,c=s.errors.api_name||"API";let u=l;r&&a>0?u=n*2**a+Math.random()*.5:u=l+Math.random()*.5,c.toLowerCase().includes("igdb")&&(u=Math.max(u,.3)),await gN(u*1e3),a++;continue}return s}return e()},nb=(e={})=>{const t={};return e!=null&&e.auth&&dt.get("token")&&(t.Authorization="Token ".concat(dt.get("token"))),e!=null&&e.file||(t["Content-Type"]="application/json"),t},fu=async(e,t,n={})=>{const{showErrorNotification:r=!0,showSuccessNotification:a=!1,enableRetry:s=!1}=n,i=async()=>{const l=nb(n);try{const c=await fetch("/api/".concat(e,"/"),{method:t,headers:l,body:n.body?n.file?n.body:JSON.stringify(n.body):void 0}),u=c.headers.get("content-type");let d;if(u!=null&&u.includes("application/json"))d=await c.json();else throw new Error("Server returned non-JSON. Status: ".concat(c.status));return c.ok?(a&&(n!=null&&n.success?me.addNotification(n.success):me.addNotification({type:"success",title:"Успешно"})),{success:!0,data:d}):c.status===429&&s?{success:!1,errors:{...d,retry_after:d.retry_after||1,api_name:d.api_name||"API"}}:(r&&(n!=null&&n.error?me.addNotification(n.error):me.addNotification({type:"error",title:"Ошибка",message:d.error||"Что-то пошло не так"})),{success:!1,errors:d.error})}catch(c){return r&&me.addNotification({type:"error",title:"Ошибка сервера",message:c instanceof Error?c.message:"Что-то пошло не так"}),{success:!1,error:c instanceof Error?c.message:"Ошибка при выполнении запроса"}}};return s?tb(i):i()},tt=(e,t)=>fu(e,"POST",t),yN=(e,t)=>fu(e,"POST",{...t,enableRetry:!0}),Xn=(e,t)=>fu(e,"DELETE",t),Ue=async(e,t)=>{const n=nb(t);let r="";if(t!=null&&t.get){const a=Object.entries(t.get).filter(([i,l])=>l!=null).reduce((i,[l,c])=>({...i,[l]:String(c)}),{});r=new URLSearchParams(a).toString()}try{const a=await fetch("/api/".concat(e,"/").concat(r?"?".concat(r):""),{headers:n}),s=a.headers.get("content-type");let i;if(s&&s.includes("application/json"))i=await a.json();else{const l=await a.text();throw console.error("Non-JSON response received:",l.substring(0,500)),new Error("Server returned non-JSON response. Status: ".concat(a.status))}return a.ok?{success:!0,data:i}:{success:!1,errors:i.error||i.errors||"Ошибка сервера"}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Ошибка при выполнении запроса"}}},cr=(e,t)=>fu(e,"PUT",t),vN=async e=>{try{const t=await fetch("/api/goals/fantlab/".concat(e,"/details/"),{headers:{"Content-Type":"application/json"}}),n=await t.json();return t.ok?{success:!0,data:n}:{success:!1,error:n.error||"Ошибка получения детальной информации"}}catch(t){return{success:!1,error:"Ошибка сети при получении детальной информации"}}},rb=async()=>await tt("resend-confirmation-email",{auth:!0,showErrorNotification:!0,showSuccessNotification:!1});const ab="email_confirmation_banner_dismissed",bN=()=>!dt.get(ab),EN=ze(()=>{const[e,t]=J("email-confirmation-banner"),[n,r]=y.useState(!1),[a,s]=y.useState(!1),[i,l]=y.useState(!1),{isAuth:c,emailConfirmed:u,email:d}=Rt;y.useEffect(()=>{if(c&&!u){if(bN()){const h=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(h)}}else r(!1)},[c,u]);const f=async()=>{s(!0),(await rb()).success&&(l(!0),setTimeout(()=>{l(!1)},3e3)),s(!1)},m=()=>{dt.set(ab,"1",{expires:1}),r(!1)};return n?o("div",{className:e(),children:p("div",{className:t("content"),children:[o("div",{className:t("icon"),children:o(ie,{icon:"email"})}),p("div",{className:t("text"),children:[p("p",{className:t("message"),children:[o("strong",{children:"Подтвердите ваш email адрес"}),o("br",{}),"Мы отправили письмо на ",o("strong",{children:d}),". Перейдите по ссылке в письме для подтверждения.",i&&o("span",{className:t("success"),children:" Письмо отправлено!"})]}),o("p",{className:t("warning"),children:"Если не подтвердить email в течение 7 дней, аккаунт будет удалён."})]}),p("div",{className:t("actions"),children:[o(z,{theme:"blue-light",className:t("btn"),onClick:f,typeBtn:"button",disabled:a||i,children:a?"Отправка...":i?"Отправлено":"Отправить повторно"}),o("button",{type:"button",className:t("close"),onClick:m,"aria-label":"Закрыть",children:o(ie,{icon:"cross"})})]})]})}):null}),_N=[{name:"xl",size:1464},{name:"lg",size:1200},{name:"md",size:768},{name:"sm",size:576},{name:"xs",size:0}],Ip=e=>{const t={isScreenSmallMobile:!1,isScreenMobile:!1,isScreenSmallTablet:!1,isScreenTablet:!1,isScreenDesktop:!1};switch(e){case"xs":return{...t,isScreenSmallMobile:!0,isScreenMobile:!0};case"sm":return{...t,isScreenMobile:!0};case"md":return{...t,isScreenTablet:!0,isScreenSmallTablet:!0};case"lg":return{...t,isScreenTablet:!0};default:return{...t,isScreenDesktop:!0}}},Vr=()=>{const[e,t]=y.useState(Ip("xl")),n=y.useCallback(()=>{const r=window.innerWidth,s=document.documentElement.clientWidth||r;let i="xs";s>=1464?i="xl":s>=1200?i="lg":s>=768?i="md":s>=576?i="sm":i="xs";const l=Ip(i);t(l)},[]);return y.useEffect(()=>{const r=_N.map(({name:a,size:s})=>({mediaQueryList:window.matchMedia("(min-width: ".concat(s,"px)")),mode:a}));return n(),r.forEach(({mediaQueryList:a})=>{a.addEventListener?a.addEventListener("change",n):a.addListener(n)}),()=>{r.forEach(({mediaQueryList:a})=>{a.removeEventListener?a.removeEventListener("change",n):a.removeListener(n)})}},[n]),e};let wN=class{constructor(){this.header="transparent",this.footer=!0,this.page="isMainPage",this.full=!0,this.setHeader=t=>{this.header=t},this.setPage=t=>{this.page=t},this.setFull=t=>{this.full=t},this.setFooter=t=>{this.footer=t},Yr(this)}};const yt=new wN;const CN=ze(e=>{const{className:t}=e,{footer:n}=yt,{isAuth:r}=Rt,{isScreenMobile:a}=Vr(),[s,i]=J("footer",t),l=new Date().getFullYear(),c=[{title:"Платформа",links:[{to:"/list/100-goals",label:"100 целей"},{to:"/categories/all",label:"Каталог целей"},{to:"/leaders",label:"Лидеры"},{to:"/news",label:"Новости"},...r?[]:[{to:"/tariffs",label:"Тарифы"}]]},...r?[{title:"Мой профиль",links:[{to:"/user/self",label:"Дашборд"},{to:"/user/self/active-goals",label:"Активные цели и списки"},{to:"/user/self/done-goals",label:"Выполненные"},{to:"/user/self/achievements",label:"Достижения"},{to:"/user/self/friends",label:"Друзья"},{to:"/user/self/maps",label:"Мои карты"},{to:"/user/self/folders",label:"Папки целей"},{to:"/user/self/progress",label:"Прогресс целей"},{to:"/user/self/regular",label:"Регулярные цели"},{to:"/user/self/subs",label:"Подписка"},{to:"/user/self/settings",label:"Настройки"}]}]:[],{title:"Ресурсы",links:[{to:"/about",label:"О проекте"},{to:"/help",label:"Помощь"},{to:"/contacts",label:"Контакты"}]},{title:"Правовая информация",links:[{to:"/privacy",label:"Политика конфиденциальности"},{to:"/agreement",label:"Пользовательское соглашение"},{to:"/terms",label:"Условия использования"},{to:"/cookies",label:"Cookie"}]}];return o("footer",{className:s({theme:n}),children:p("div",{className:i("content"),children:[p(fn.div,{className:i("main-section"),initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[p("div",{className:i("brand"),children:[o(Fe,{to:"/",className:i("logo"),children:o(ie,{icon:"delting",className:i("logo-icon")})}),o("p",{className:i("description"),children:"Платформа для достижения целей и саморазвития. Ставьте цели, отслеживайте прогресс и вдохновляйтесь успехами других пользователей."})]}),o("nav",{className:i("navigation"),children:c.map((u,d)=>p(fn.div,{className:i("nav-section"),initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:d*.1},viewport:{once:!0},children:[o("h3",{className:i("nav-title"),children:u.title}),o("ul",{className:i("nav-list"),children:u.links.map(f=>o("li",{className:i("nav-item"),children:o(Fe,{to:f.to,className:i("nav-link"),children:f.label})},f.to))})]},u.title))})]}),p(fn.div,{className:i("bottom-section"),initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5,delay:.3},viewport:{once:!0},children:[o("div",{className:i("divider")}),p("div",{className:i("bottom-content"),children:[p("div",{className:i("copyright"),children:[o("span",{children:"©"}),p("span",{children:[l," Delting. Все права защищены."]})]}),!a&&o("div",{className:i("additional-info"),children:o("span",{children:"Сделано с ❤️ для вашего развития"})})]})]})]})})}),TN=(e,t)=>Ue("notifications",{get:{...e&&{page:e},...t&&{unread_only:!0}},auth:!0}),SN=e=>tt("notifications/".concat(e,"/mark-read"),{showSuccessNotification:!1}),NN=()=>tt("notifications/mark-all-read",{success:{type:"success",title:"Уведомления прочитаны",message:"Все уведомления отмечены как прочитанные"}}),kN=NN;let DN=class{constructor(){this.notifications=[],this.unreadCount=0,this.isLoading=!1,Yr(this)}setNotifications(t){this.notifications=t}setUnreadCount(t){this.unreadCount=t}setLoading(t){this.isLoading=t}get hasUnreadNotifications(){return this.unreadCount>0}async markAsRead(t){try{await SN(t),this.notifications=this.notifications.map(r=>r.id===t?{...r,isRead:!0}:r),this.notifications.some(r=>r.id===t&&r.isRead)&&(this.unreadCount=Math.max(0,this.unreadCount-1))}catch(n){throw console.error("Ошибка отметки уведомления как прочитанного:",n),n}}async markAllAsRead(){try{await kN(),this.notifications=this.notifications.map(t=>({...t,isRead:!0})),this.unreadCount=0}catch(t){throw console.error("Ошибка отметки всех уведомлений как прочитанных:",t),t}}clearNotifications(){this.notifications=[],this.unreadCount=0}};const vr=new DN,xN=e=>{const n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),a=Math.floor(r/60),s=Math.floor(a/24);return r<1?"Только что":r<60?"".concat(r," мин назад"):a<24?"".concat(a," ч назад"):s<7?"".concat(s," дн назад"):e.toLocaleDateString("ru-RU")};const Jn=e=>{const{className:t,avatar:n,size:r="small",noBorder:a=!1,isPremium:s=!1}=e,[i,l]=J("avatar",t),c=()=>{switch(r){case"medium":return"24px";case"medium-56":return"32px";case"large-96":return"48px";case"large":return"96px";default:return"16px"}},d=(()=>{switch(r){case"medium":return"12px";case"medium-56":return"14px";case"large-96":return"24px";case"large":return"48px";default:return"8px"}})();return p("div",{className:i({size:r,noBorder:a,premium:s}),children:[o("div",{className:l("inner"),children:n&&n!=="undefined"?o("img",{className:l("image"),src:n||"",alt:"Аватар"}):o(ie,{icon:"avatar",className:l("icon"),width:c(),height:c()})}),s&&o("div",{className:l("premium-badge"),children:o(ie,{icon:"star-full",className:l("premium-icon"),width:d,height:d})})]})};const jt=({className:e,title:t,description:n,children:r,size:a="default"})=>{const[s,i]=J("empty-state",e),l=()=>n?typeof n=="string"?o("p",{className:i("description"),children:n}):o(nt,{children:n.map((c,u)=>o("p",{className:i("description"),children:c},u))}):null;return p("div",{className:s({small:a==="small"}),children:[o("div",{className:i("logo-background"),children:o("img",{src:"/svg/logo.svg",alt:"","aria-hidden":"true"})}),p("div",{className:i("content"),children:[t&&o("h3",{className:i("title"),children:t}),l(),r&&o("div",{className:i("actions"),children:r})]})]})};const AN=ze(({isOpen:e,onClose:t})=>{const[n,r]=J("notification-dropdown"),a=y.useRef(null);y.useEffect(()=>{const c=u=>{a.current&&!a.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t]);const s=async c=>{try{await vr.markAsRead(c)}catch(u){console.error("Ошибка отметки уведомления:",u)}},i=async()=>{try{await vr.markAllAsRead()}catch(c){console.error("Ошибка отметки всех уведомлений:",c)}},l=c=>{switch(c){case"friend_request":return"user-plus";case"friend_accepted":return"user-check";case"friend_rejected":return"user-x";case"achievement":return"trophy";case"goal_completed":return"check-circle";default:return"bell"}};return e?p("div",{ref:a,className:n(),children:[p("div",{className:r("header"),children:[o("h3",{className:r("title"),children:"Уведомления"}),vr.hasUnreadNotifications&&o(z,{theme:"blue-light",size:"small",onClick:i,children:"Отметить все"})]}),o("div",{className:r("content"),children:!vr.notifications||vr.notifications.length===0?o(jt,{title:"Нет уведомлений",size:"small",className:r("empty")}):o("div",{className:r("list"),children:vr.notifications.map(c=>{var f;const u=c.sender?"".concat(c.sender.firstName," ").concat(c.sender.lastName).trim()||c.sender.username:c.userName,d=((f=c.sender)==null?void 0:f.avatar)||c.userAvatar;return p("button",{className:r("item",{unread:!c.isRead}),onClick:()=>s(c.id),type:"button","aria-label":'Отметить уведомление "'.concat(c.title,'" как прочитанное'),children:[o("div",{className:r("item-avatar"),children:u?o(Jn,{avatar:d,size:"small"}):o("div",{className:r("item-icon"),children:o("span",{className:"icon-".concat(l(c.type))})})}),p("div",{className:r("item-content"),children:[p("div",{className:r("item-header"),children:[o("h4",{className:r("item-title"),children:c.title}),o("span",{className:r("item-time"),children:xN(new Date(c.createdAt))})]}),o("p",{className:r("item-message"),children:c.message})]}),!c.isRead&&o("div",{className:r("item-badge")})]},c.id)})})})]}):null}),PN=async e=>{try{return await Ue("goals/".concat(e,"/progress"),{auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},ON=async(e,t)=>{try{return await tt("goals/".concat(e,"/progress/update"),{body:t,auth:!0})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}},Ao=async(e,t)=>{try{return await tt("goals/".concat(e,"/progress/update"),{body:t,auth:!0})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}};function IN(e){var n,r,a,s,i,l,c,u;const t=(r=(n=e.percentageChange)!=null?n:e.percentage_change)!=null?r:0;return{id:e.id,goalProgress:0,date:(a=e.date)!=null?a:"",percentageChange:typeof t=="number"?t:Number(t)||0,notes:(s=e.notes)!=null?s:"",workDone:(l=(i=e.workDone)!=null?i:e.work_done)!=null?l:!1,createdAt:(u=(c=e.createdAt)!=null?c:e.created_at)!=null?u:""}}const LN=async e=>{var t;try{const n=await Ue("goals/".concat(e,"/progress/entries"),{auth:!0});return!n.success||!n.data?n:{success:!0,data:{results:((t=n.data.results)!=null?t:[]).map(IN)}}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}},RN=async()=>{try{return await Ue("goals/folders",{auth:!0})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Неизвестная ошибка"}}},MN=async()=>{try{return await Ue("goals/folders/light",{auth:!0})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Неизвестная ошибка"}}},FN=async e=>{try{return await tt("goals/folders",{body:e,auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},BN=async(e,t)=>{try{return await cr("goals/folders/".concat(e),{body:t,auth:!0})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}},UN=async e=>{try{return await Xn("goals/folders/".concat(e),{auth:!0,success:{type:"success",title:"Папка удалена",message:"Папка целей успешно удалена"}})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},HN=e=>Ue("goals/folders/".concat(e,"/goals"),{auth:!0}),GN=(e,t,n)=>tt("goals/folders/".concat(e,"/add-goal"),{body:{goal_id:t,order:n},auth:!0,success:{type:"success",title:"Цель добавлена",message:"Цель добавлена в папку"}}),$N=(e,t)=>Xn("goals/folders/".concat(e,"/remove-goal/").concat(t,"/"),{auth:!0,success:{type:"success",title:"Цель удалена",message:"Цель удалена из папки"}}),Ah=async e=>{try{return await Ue("goals/progress",{auth:!0,...e?{get:e}:{}})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},Lp=async e=>{try{return await Xn("goals/".concat(e,"/progress/reset"),{auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},Ph=async e=>{try{return await tt("goals/regular/mark-progress",{body:e,auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},Dc=async e=>{try{return await Ue("goals/regular/statistics",{auth:!0,...e?{get:e}:{}})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},WN=async(e,t=!1)=>{try{return await tt("goals/regular/".concat(e,"/reset"),{auth:!0,body:{mark_as_completed:t}})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}},sb=async e=>{try{return await tt("goals/regular/".concat(e,"/restart"),{auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},YN=async e=>{try{return await Ue("goals/regular/".concat(e,"/rating"),{auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},zN=async e=>{try{return await Ue("goals/regular/".concat(e,"/history"),{auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},VN=async e=>{try{return await tt("goals/regular/".concat(e,"/reset-completed"),{auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},qN=async e=>{try{return await tt("goals/regular/".concat(e,"/restart-after-completion"),{auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},jN=async()=>{try{return await Ue("goals/folders/rules/options",{auth:!0})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Неизвестная ошибка"}}},KN=async(e,t)=>{var n;try{const r={rule_type:t.ruleType,is_active:(n=t.isActive)!=null?n:!0};return t.category!==void 0&&(r.category=t.category),t.complexity!==void 0&&(r.complexity=t.complexity),t.keywords!==void 0&&(r.keywords=t.keywords),t.removeFromFolder!==void 0&&(r.remove_from_folder=t.removeFromFolder),t.ruleType==="ON_DEADLINE_APPROACHING_ADD"&&t.daysBeforeDeadline!==void 0&&(r.days_before_deadline=t.daysBeforeDeadline),t.ruleType==="ON_HIGH_PROGRESS_ADD"&&t.progressThreshold!==void 0&&(r.progress_threshold=t.progressThreshold),t.ruleType==="ON_STALLED_PROGRESS_ADD"&&t.daysWithoutProgress!==void 0&&(r.days_without_progress=t.daysWithoutProgress),await tt("goals/folders/".concat(e,"/rules/create"),{body:r,auth:!0})}catch(r){return{success:!1,error:r instanceof Error?r.message:"Неизвестная ошибка"}}},QN=async(e,t,n)=>{var r;try{const a={rule_type:n.ruleType,is_active:(r=n.isActive)!=null?r:!0};return n.category!==void 0&&(a.category=n.category),n.complexity!==void 0&&(a.complexity=n.complexity),n.keywords!==void 0&&(a.keywords=n.keywords),n.removeFromFolder!==void 0&&(a.remove_from_folder=n.removeFromFolder),n.ruleType==="ON_DEADLINE_APPROACHING_ADD"&&n.daysBeforeDeadline!==void 0&&(a.days_before_deadline=n.daysBeforeDeadline),n.ruleType==="ON_HIGH_PROGRESS_ADD"&&n.progressThreshold!==void 0&&(a.progress_threshold=n.progressThreshold),n.ruleType==="ON_STALLED_PROGRESS_ADD"&&n.daysWithoutProgress!==void 0&&(a.days_without_progress=n.daysWithoutProgress),await cr("goals/folders/".concat(e,"/rules/").concat(t,"/update"),{body:a,auth:!0})}catch(a){return{success:!1,error:a instanceof Error?a.message:"Неизвестная ошибка"}}},XN=async(e,t)=>{try{return await Xn("goals/folders/".concat(e,"/rules/").concat(t,"/delete"),{auth:!0})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}};function JN(e){var t;return e.isActive&&(e.canCompleteToday||((t=e.currentPeriodProgress)==null?void 0:t.completedToday)===!0)}function ZN(e){var t;return((t=e.currentPeriodProgress)==null?void 0:t.completedToday)===!0}let ek=class{constructor(){this.todayCount=0,this.completedTodayCount=0,this.isLoading=!1,Yr(this)}setTodayStats(t,n){this.todayCount=t,this.completedTodayCount=n}setLoading(t){this.isLoading=t}get hasRegularGoalsToday(){return this.todayCount>0}get allCompletedToday(){return this.todayCount>0&&this.completedTodayCount===this.todayCount}async loadTodayCount(){this.setLoading(!0);try{const t=await Dc();if(t.success&&t.data){const r=(Array.isArray(t.data)?t.data:t.data.data).filter(JN),a=r.filter(ZN);this.setTodayStats(r.length,a.length)}else this.setTodayStats(0,0)}catch(t){console.error("Ошибка загрузки количества регулярных целей:",t),this.setTodayStats(0,0)}finally{this.setLoading(!1)}}clear(){this.todayCount=0,this.completedTodayCount=0}};const Qr=new ek;let tk=class{constructor(){this.isOpen=!1,this.window="login",this.funcModal=()=>{},this.setIsOpen=t=>{this.isOpen=t},this.setWindow=t=>{this.window=t},this.setFuncModal=t=>{this.funcModal=t},this.setModalProps=t=>{this.modalProps=t},Yr(this)}};const cn=new tk;const at=e=>{const{className:t,vertical:n,margin:r,height:a=0}=e,[s]=J("line",t);return n?o("div",{style:{display:"flex",alignItems:"center"},children:o("div",{className:s({vertical:n}),style:{margin:r,height:"calc(100% + ".concat(a,"px)")}})}):o("hr",{className:s(),style:{margin:r}})};const pa=e=>{const{className:t,done:n,all:r,goal:a,text:s,variant:i="bar"}=e,[l,c]=J("progress",t),u=Math.round(n/(r||1)*100),d=a?"".concat(u,"%"):s||"".concat(n,"/").concat(r);return i==="numbers"?o("div",{className:l({goal:a,text:!!s,numbers:!0}),children:o("span",{className:c("count"),children:d})}):p("div",{className:l(i==="bar-plain"?{text:!!s,barPlain:!0}:{goal:a,text:!!s}),children:[!a&&!s&&o("span",{className:c("count"),children:"".concat(n,"/").concat(r)}),o("div",{className:c("line"),children:o("div",{className:c("line-done",{all:r===n}),style:{width:"".concat(u,"%")}})}),s&&o("span",{className:c("count"),children:s}),a&&o("span",{className:c("count"),children:"".concat(u,"%")})]})},nk=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],ib=()=>{const t=new Date().getDay();return t===0?6:t-1},rk=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},ak=(e,t)=>{const n=ib(),r=e.recentEntries||e.entries||[],a=new Set(r.map(f=>f.date.split("T")[0])),s=new Date,i=new Date(s);i.setDate(s.getDate()-((s.getDay()||7)-1));const l=new Date(i);l.setDate(i.getDate()+t);const c=rk(l),u=a.has(c),d=t===n;return u?"completed":d&&e.isWorkingToday||d?"active":"inactive"},sk=({progress:e,onMarkToday:t,onChangeProgress:n})=>{const[r,a]=J("progress-goal-compact-card"),s=ib(),i=c=>{c.preventDefault(),c.stopPropagation(),t()},l=c=>{c.preventDefault(),c.stopPropagation(),n()};return p("div",{className:r(),children:[p(Fe,{to:"/goals/".concat(e.goalCode),className:a("link-area"),children:[o("div",{className:a("image-wrapper"),children:o("img",{src:e.goalImage,alt:e.goalTitle,className:a("image")})}),p("div",{className:a("content"),children:[o("h4",{className:a("title"),children:e.goalTitle}),p("div",{className:a("days-row"),children:[o("div",{className:a("days"),children:nk.map((c,u)=>{const d=ak(e,u),f=u===s,m=d==="completed";return o("div",{className:a("day",{selected:f?!m:d==="active",completed:m}),title:c,children:m&&o(ie,{icon:"done",className:a("day-icon")})},c)})}),o(at,{vertical:!0,className:a("line")}),o("div",{className:a("duration"),children:o(pa,{done:Math.round(e.progressPercentage),all:100,goal:!0,variant:"bar-plain",className:a("progress")})})]})]})]}),p("div",{className:a("action-buttons"),children:[o("button",{type:"button",className:a("action-button",{change:!0}),onClick:l,"aria-label":"Изменить прогресс",title:"Изменить прогресс",children:o(ie,{icon:"signal",className:a("action-icon")})}),o("button",{type:"button",className:a("action-button",{completed:e.isWorkingToday}),onClick:i,"aria-label":e.isWorkingToday?"Снять отметку":"Отметить сегодня",title:e.isWorkingToday?"Снять отметку":"Отметить сегодня",children:o(ie,{icon:e.isWorkingToday?"regular":"regular-empty",className:a("action-icon")})})]})]})},ct=(e,t,n=!0)=>e%10===1&&e%100!==11?"".concat(n?e:""," ").concat(t[0]):e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?"".concat(n?e:""," ").concat(t[1]||t[0]):"".concat(n?e:""," ").concat(t[2]||t[0]),ik=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],ob=()=>{const t=new Date().getDay();return t===0?6:t-1},ok=e=>{var r;const t=e.currentStreak||0;return((r=e.currentPeriodProgress)==null?void 0:r.type)==="weekly"?ct(t,["неделя","недели","недель"]):ct(t,["день","дня","дней"])},lk=(e,t)=>{const n=e.currentPeriodProgress;if(!n)return"inactive";const r=ob(),a=Array.isArray(n.weekDays)?n.weekDays:null;if(a&&a.length>0){const s=a.find(f=>f.dayIndex===t);if(!s)return"inactive";const i=s.isBlockedByStartDate||!1,l=s.isBlocked||!1,c=!i&&(s.isCompleted||!1),u=!i&&(s.isSkipped||!1),d=t===r;return c||u?"completed":l&&!i?"blocked":d&&!i?"active":"inactive"}if(n.type==="daily")return t!==r?"inactive":n.completedToday?"completed":"active";if(n.type==="weekly"){const s=n.requiredPerWeek||1,i=n.currentWeekCompletions||0;return t<i?"completed":t<s?"active":"inactive"}return"inactive"},ck=({statistics:e,onQuickComplete:t})=>{var f,m;const[n,r]=J("regular-goal-compact-card"),[a,s]=y.useState(!1),i=ob(),l=(m=(f=e.currentPeriodProgress)==null?void 0:f.completedToday)!=null?m:!1,c=e.regularGoalData,u=l&&a?"cross":l?"regular":"regular-empty",d=h=>{h.preventDefault(),h.stopPropagation(),t(e.regularGoal,l)};return p("div",{className:n(),children:[p(Fe,{to:"/goals/".concat(c.goalCode),className:r("link-area"),children:[o("div",{className:r("image-wrapper"),children:o("img",{src:c.goalImage,alt:c.goalTitle,className:r("image")})}),p("div",{className:r("content"),children:[o("h4",{className:r("title"),children:c.goalTitle}),p("div",{className:r("days-row"),children:[o("div",{className:r("days"),children:ik.map((h,g)=>{const v=lk(e,g),_=g===i,E=v==="completed",C=v==="blocked";return p("div",{className:r("day",{selected:(v==="active"||C&&_)&&!E,blocked:C,completed:E}),title:h,children:[E&&o(ie,{icon:"done",className:r("day-icon")}),!E&&C&&o(ie,{icon:"cross",className:r("day-icon")})]},h)})}),o(at,{vertical:!0,className:r("line")}),o("span",{className:r("duration"),children:ok(e)})]})]})]}),o("button",{type:"button",className:r("action-button",{completed:l}),onClick:d,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),"aria-label":l?"Отменить выполнение":"Быстро выполнить",children:o(ie,{icon:u,className:r("action-icon")})})]})};const Oh=({active:e,children:t,className:n,isPageBlur:r})=>{const[a,s]=J("loader",n);return!e&&!t?null:p("div",{className:a({page:r}),children:[t&&o("div",{className:s("content",{blurred:e,page:r}),children:t}),e&&o("div",{className:s("overlay",{page:r,transparent:!0})})]})};const Rp=ze(({isOpen:e,onClose:t,variant:n="regular"})=>{const[r,a]=J("regular-goals-dropdown"),s=y.useRef(null),[i,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(!0),m=n==="progress";y.useEffect(()=>{(async()=>{if(e){f(!0);try{if(m){const w=await Ah();w.success&&w.data&&u(w.data)}else{const w=await Dc();if(w.success&&w.data){const N=(Array.isArray(w.data)?w.data:w.data.data).filter(k=>{var I;return k.isActive&&(k.canCompleteToday||((I=k.currentPeriodProgress)==null?void 0:I.completedToday)===!0)}).sort((k,I)=>{var D,P;const A=((D=k.currentPeriodProgress)==null?void 0:D.completedToday)===!0,x=((P=I.currentPeriodProgress)==null?void 0:P.completedToday)===!0;return A===x?0:A?1:-1});l(N);const T=N.filter(k=>{var I;return((I=k.currentPeriodProgress)==null?void 0:I.completedToday)===!0}).length;Qr.setTodayStats(N.length,T)}}}catch(w){console.error(m?"Ошибка загрузки целей в процессе":"Ошибка загрузки регулярных целей:",w)}finally{f(!1)}}})()},[e,m]),y.useEffect(()=>{const C=w=>{s.current&&!s.current.contains(w.target)&&t()};return e&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[e,t]);const h=async C=>{try{const w=await Ao(C.goal,{progress_percentage:C.progressPercentage,daily_notes:C.dailyNotes||"",is_working_today:!C.isWorkingToday});w.success&&w.data&&u(S=>S.map(N=>N.id===C.id?w.data:N))}catch(w){console.error("Ошибка отметки «работаю сегодня»:",w)}},g=C=>{cn.setWindow("progress-update"),cn.setIsOpen(!0),cn.setModalProps({goalId:C.goal,goalTitle:C.goalTitle,currentProgress:C,onProgressUpdate:w=>{u(S=>S.map(N=>N.id===w.id?w:N)),w.progressPercentage>=100&&u(S=>S.filter(N=>N.id!==w.id))},onGoalCompleted:()=>{u(w=>w.filter(S=>S.id!==C.id))}})},v=async(C,w)=>{f(!0);try{if((await Ph({regular_goal_id:C,completed:!w})).success){const N=await Dc();if(N.success&&N.data){const k=(Array.isArray(N.data)?N.data:N.data.data).filter(A=>{var x;return A.isActive&&(A.canCompleteToday||((x=A.currentPeriodProgress)==null?void 0:x.completedToday)===!0)}).sort((A,x)=>{var M,R;const D=((M=A.currentPeriodProgress)==null?void 0:M.completedToday)===!0,P=((R=x.currentPeriodProgress)==null?void 0:R.completedToday)===!0;return D===P?0:D?1:-1});l(k);const I=k.filter(A=>{var x;return((x=A.currentPeriodProgress)==null?void 0:x.completedToday)===!0}).length;Qr.setTodayStats(k.length,I)}}}catch(S){console.error("Ошибка отметки регулярной цели:",S)}finally{f(!1)}};if(!e)return null;const _=m?[...c].sort((C,w)=>{const S=C.isWorkingToday,N=w.isWorkingToday;return S===N?0:S?1:-1}):[],E=i;return p("div",{ref:s,className:r(),children:[o("div",{className:a("content"),children:o(Oh,{active:d,className:a("loader"),children:m?_.length===0?o(jt,{title:"Нет целей в процессе",size:"small",className:a("empty")}):o("div",{className:a("list"),children:_.map(C=>o(sk,{progress:C,onMarkToday:()=>h(C),onChangeProgress:()=>g(C)},C.id))}):E.length===0?o(jt,{title:"Нет регулярных целей на сегодня",size:"small",className:a("empty")}):o("div",{className:a("list"),children:E.map(C=>o(ck,{statistics:C,onQuickComplete:(w,S)=>v(w,S)},C.id))})})}),o("div",{className:a("footer"),children:m?o(Fe,{to:"/user/self/progress",onClick:t,children:o(z,{theme:"blue-light",className:a("view-all"),children:"Перейти в прогресс целей"})}):o(Fe,{to:"/user/self/regular",onClick:t,children:o(z,{theme:"blue-light",className:a("view-all"),children:"Перейти в регулярные цели"})})})]})}),hu={hard:"Тяжело",medium:"Средне",easy:"Легко"},lb={hard:"Тяжелая категория",medium:"Средняя категория",easy:"Легкая категория"},uk={hard:"Невероятно! Ты сделал невозможное возможным",medium:"Ты доказал: упорство творит чудеса",easy:"Ты разогрелся! Первая вершина покорена"},on=[{name:"Легко",value:"easy"},{name:"Средне",value:"medium"},{name:"Тяжело",value:"hard"}];const Nn=e=>{const{icon:t,className:n,text:r,title:a,category:s,theme:i,classNameIcon:l,complexity:c,style:u}=e,[d]=J("tag",n);return p("span",{className:d({category:s,theme:i}),style:u,title:a,children:[t&&o(ie,{className:l,icon:t,width:"16px",height:"16px"}),r&&r,c&&hu[c]]})},cb=ze(({hideSubscriptionButton:e=!1,noBorder:t=!1})=>{var c;const[,n]=J("user-self"),{userSelf:r}=Rt,a=r.name||r.firstName||r.username||"Пользователь",s=(c=r.level)!=null?c:0,i=r.totalCompletedGoals||0,l=r.subscriptionType==="premium";return p("div",{className:n("profile",{noBorder:t}),children:[p("div",{className:n("profile-header"),children:[o(Jn,{avatar:r.avatar,size:"medium",className:n("profile-avatar"),isPremium:r.subscriptionType==="premium"}),p("div",{className:n("profile-info"),children:[o(Fe,{to:"/user/".concat(r==null?void 0:r.id,"/showcase/"),className:n("profile-name"),children:a}),p("div",{className:n("profile-stats"),children:[ct(s,["уровень","уровня","уровней"])," · ",ct(i,["цель","цели","целей"])," ","выполнено"]})]}),o(Nn,{text:l?"Premium":"Free",theme:l?void 0:"light",className:n("profile-subscription-badge",{premium:l})})]}),o(at,{className:n("profile-line")}),!e&&o(z,{type:"Link",href:"/user/self/subs",theme:"no-border",size:"medium",icon:"rocket",className:n("profile-premium-btn"),children:l?"Подписка":"Купить премиум"})]})});let dk=class{constructor(){this.categoriesTree=[],Yr(this,{},{autoBind:!0})}setCategories(t){const n=new Map,r=[];t.forEach(a=>{n.set(a.id,{...a,children:[]})}),t.forEach(a=>{const s=n.get(a.id);if(a.parentCategory){const i=n.get(a.parentCategory.id);i&&i.children.push(s)}else r.push(s)}),this.categoriesTree=r}};const ub=new dk;let fk=class{constructor(){this.goalsInProgress=[],this.isLoading=!1,Yr(this)}setGoalsInProgress(t){this.goalsInProgress=t}setLoading(t){this.isLoading=t}get hasRegularGoalsToday(){return this.goalsInProgress.length>0}get goalsCount(){return this.goalsInProgress.length}async loadGoalsInProgress(){this.setLoading(!0);try{const t=await Ah();t.success&&t.data?this.setGoalsInProgress(Array.isArray(t.data)?t.data:[]):this.setGoalsInProgress([])}catch(t){console.error("Ошибка загрузки целей в процессе:",t),this.setGoalsInProgress([])}finally{this.setLoading(!1)}}clear(){this.goalsInProgress=[]}};const ei=new fk,mu=async()=>await Ue("categories"),zo=async()=>await Ue("categories/all"),db=async e=>{const t=await Ue("user".concat(e?"/".concat(e):""),{auth:!0});t.success&&(e?Rt.setUserInfo(t.data):Rt.setUserSelf(t.data))};const co=e=>{const{className:t,current:n,max:r}=e,[a,s]=J("char-count",t),i=n>=r;return o("div",{className:a(),children:p("span",{className:s("text",{error:i}),children:[n,"/",r]})})};const He=e=>{const{className:t,type:n="text",placeholder:r,id:a,text:s,value:i,setValue:l,setValueTarget:c,iconBegin:u,iconEnd:d,autoComplete:f="off",error:m,required:h,onFocus:g,onBlur:v,onKeyDown:_,theme:E,maxLength:C,showCharCount:w=!1,focusBorder:S,rows:N=2,disabled:T=!1,suffix:k}=e,[I,A]=J("field-input",t),[x,D]=y.useState(n),P=()=>{D(x==="password"?"text":"password")},M=R=>{c?c(R):l&&l(R.target.value)};return p("div",{className:I({error:!!m,theme:E}),children:[s&&o("label",{className:A("label"),htmlFor:a,children:s}),p("div",{className:A("wrapper"),children:[u&&o(ie,{icon:u,className:A("icon-begin")}),x==="textarea"?o("textarea",{className:A("input",{iconBegin:!!u,textarea:!0,iconEnd:!!d}),id:a,placeholder:r,value:i,onChange:M,onFocus:g,onBlur:v,onKeyDown:_,rows:N,maxLength:C,disabled:T}):o("input",{className:A("input",{iconBegin:!!u,focusBorder:S,iconEnd:!!d||n==="password",suffix:!!k}),id:a,type:x,placeholder:r,value:i,onChange:M,autoComplete:f,required:h,onFocus:g,onBlur:v,onKeyDown:_,maxLength:C,disabled:T}),k&&o("span",{className:A("suffix"),children:k}),n==="password"&&o("button",{type:"button",className:A("show-password"),onClick:P,"aria-label":"Показать пароль",children:x==="password"?o(ie,{icon:"eye"}):o(ie,{icon:"eye-closed"})}),d&&o(ie,{icon:d,className:A("icon-end")})]}),w&&C!==void 0&&o(co,{current:i.length,max:C}),m==null?void 0:m.map(R=>o("p",{className:A("error"),children:R},R))]})},hk=async(e,t,n)=>await tt("login",{body:{email:e,password:t,remember_me:n},showErrorNotification:!1});const fb=e=>{const{className:t,openRegistration:n,openForgotPassword:r,successLogin:a,isPage:s}=e,[i,l]=J("login",t),[c,u]=y.useState(""),[d,f]=y.useState(""),[m,h]=y.useState(""),[g,v]=y.useState(void 0),[_,E]=y.useState(void 0),[C,w]=y.useState(!1),S=async N=>{h(""),v(void 0),E(void 0),N.preventDefault(),w(!0);const T=await hk(c,d,!0);if(w(!1),T.success){a(T.data);return}if(T.errors)if(typeof T.errors=="object"&&!Array.isArray(T.errors))if(T.errors.email&&v(Array.isArray(T.errors.email)?T.errors.email:[T.errors.email]),T.errors.password&&E(Array.isArray(T.errors.password)?T.errors.password:[T.errors.password]),T.errors.non_field_errors){const k=Array.isArray(T.errors.non_field_errors)?T.errors.non_field_errors:[T.errors.non_field_errors];h(k[0]||"Неверный email или пароль")}else!T.errors.email&&!T.errors.password&&h("Неверный email или пароль");else typeof T.errors=="string"?h(T.errors):Array.isArray(T.errors)?h(T.errors[0]||"Неверный email или пароль"):h("Неверный email или пароль");else T.error?h(T.error):h("Неверный email или пароль")};return p("form",{className:i({page:s}),onSubmit:N=>S(N),children:[o(ie,{icon:"icon-logo",className:l("logo")}),o(ke,{tag:"h3",className:l("title"),children:"Вход в лучшую жизнь"}),p("div",{className:l("form"),children:[o(He,{placeholder:"E-mail",id:"email",text:"E-mail",value:c,setValue:u,className:l("field"),required:!0,error:g}),o(He,{placeholder:"Пароль для входа",id:"password",text:"Пароль",value:d,setValue:f,className:l("field"),type:"password",required:!0,error:_}),m&&o("p",{className:l("error"),children:m}),o("div",{className:l("move"),children:r&&o(z,{theme:"no-border",className:l("forgot-password"),onClick:()=>r(c),typeBtn:"button",children:"Забыли пароль?"})}),o(z,{typeBtn:"submit",icon:"sign-in",theme:"blue",className:l("btn"),onClick:S,loading:C,loadingText:"Вход...",disabled:!c.trim()||!d.trim(),children:"Войти"}),p("p",{className:l("registration"),children:["У вас нет аккаунта?"," ",o(z,{theme:"no-border",className:l("btn-registration"),onClick:n,children:"Регистрация"})]})]})]})};const wn=e=>{const{className:t,id:n,text:r,checked:a,setChecked:s,disabled:i=!1}=e,[l,c]=J("field-checkbox"),u=d=>{i||(d.key===" "||d.key==="Enter")&&(d.preventDefault(),s(!a))};return p("div",{className:l({disabled:i}),children:[o("input",{className:c("input"),id:n,type:"checkbox",value:n,onChange:()=>!i&&s(!a),checked:a,disabled:i}),p("label",{className:"".concat(c("label")," ").concat(t),htmlFor:n,children:[o("span",{className:c("checkbox"),role:"button",tabIndex:i?-1:0,onKeyDown:u,"aria-label":typeof r=="string"?r:"Согласие","aria-disabled":i,children:o(ie,{icon:"done",className:c("icon")})}),r]})]})},mk=async(e,t,n)=>await tt("register",{body:{email:e,password:t,username:n},showErrorNotification:!1});const hb=e=>{const{className:t,openLogin:n,successRegistration:r,isPage:a}=e,[s,i]=J("registration",t),[l,c]=y.useState(""),[u,d]=y.useState(""),[f,m]=y.useState(""),[h,g]=y.useState(""),[v,_]=y.useState(!1),[E,C]=y.useState(!1),[w,S]=y.useState({}),[N,T]=y.useState(""),k=async I=>{var x;if(S({}),T(""),I.preventDefault(),f!==h){S({password:["Пароли не совпадают"]});return}C(!0);const A=await mk(l,f,u);if(C(!1),A.success){r((x=A.data)!=null?x:A);return}A.errors?typeof A.errors=="object"&&!Array.isArray(A.errors)?(S(A.errors),A.errors.non_field_errors&&Array.isArray(A.errors.non_field_errors)&&T(A.errors.non_field_errors[0])):typeof A.errors=="string"?T(A.errors):Array.isArray(A.errors)?T(A.errors[0]||"Произошла ошибка при регистрации"):T("Произошла ошибка при регистрации"):A.error?T(A.error):T("Произошла ошибка при регистрации")};return p("form",{className:s({page:a}),onSubmit:k,children:[o(ie,{icon:"icon-logo",className:i("logo")}),o(ke,{tag:"h3",className:i("title"),children:"Вступить в лучшую жизнь"}),p("div",{className:i("form"),children:[N&&o("p",{className:i("error"),children:N}),o(He,{placeholder:"E-mail",type:"email",id:"email",text:"E-mail",value:l,setValue:c,className:i("field"),autoComplete:"email",error:w==null?void 0:w.email,required:!0}),o(He,{placeholder:"Имя в системе, которое увидят другие",type:"text",id:"username",text:"Имя в системе",value:u,setValue:d,className:i("field"),autoComplete:"username",error:w==null?void 0:w.username,required:!0}),o(He,{placeholder:"Пароль для входа",id:"new-password",text:"Пароль",value:f,setValue:m,className:i("field"),type:"password",autoComplete:"new-password",required:!0,error:w.password}),o(He,{placeholder:"Повтор ввода пароля",id:"repeatPassword",text:"Повторите пароль",value:h,setValue:g,className:i("field"),type:"password",autoComplete:"new-password",required:!0}),o("div",{className:i("consent"),children:o(wn,{id:"privacy-consent",text:p("div",{children:["Даю согласие на обработку моих персональных данных в соответствии с"," ",o(Fe,{to:"/privacy",className:i("consent-link"),target:"_blank",rel:"noopener noreferrer",children:"Политикой конфиденциальности"})]}),checked:v,setChecked:_,className:i("consent-checkbox")})}),o(z,{icon:"rocket",theme:"blue",className:i("btn"),typeBtn:"submit",disabled:!l.trim()||!u.trim()||!f.trim()||!h.trim()||!v,loading:E,loadingText:"Регистрация...",children:"Зарегистрироваться"}),p("p",{className:i("sign-in"),children:["У вас уже есть аккаунт?",o(z,{theme:"no-border",className:i("btn-sign-in"),onClick:n,children:"Вход"})]})]})]})};var mb={},pk=Sr&&Sr.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)a.hasOwnProperty(s)&&(r[s]=a[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pb=Sr&&Sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mb,"__esModule",{value:!0});var mr=pb(rn),vd=pb(y),gk=function(e){pk(t,e);function t(n){var r=e.call(this,n)||this;return r.resetDragging=function(){r.frameDragCounter=0,r.setState({draggingOverFrame:!1,draggingOverTarget:!1})},r.handleWindowDragOverOrDrop=function(a){a.preventDefault()},r.handleFrameDrag=function(a){if(t.eventHasFiles(a)){if(r.frameDragCounter+=a.type==="dragenter"?1:-1,r.frameDragCounter===1){r.setState({draggingOverFrame:!0}),r.props.onFrameDragEnter&&r.props.onFrameDragEnter(a);return}if(r.frameDragCounter===0){r.setState({draggingOverFrame:!1}),r.props.onFrameDragLeave&&r.props.onFrameDragLeave(a);return}}},r.handleFrameDrop=function(a){r.state.draggingOverTarget||(r.resetDragging(),r.props.onFrameDrop&&r.props.onFrameDrop(a))},r.handleDragOver=function(a){t.eventHasFiles(a)&&(r.setState({draggingOverTarget:!0}),!t.isIE()&&r.props.dropEffect&&(a.dataTransfer.dropEffect=r.props.dropEffect),r.props.onDragOver&&r.props.onDragOver(a))},r.handleDragLeave=function(a){r.setState({draggingOverTarget:!1}),r.props.onDragLeave&&r.props.onDragLeave(a)},r.handleDrop=function(a){if(r.props.onDrop&&t.eventHasFiles(a)){var s=a.dataTransfer?a.dataTransfer.files:null;r.props.onDrop(s,a)}r.resetDragging()},r.handleTargetClick=function(a){r.props.onTargetClick&&r.props.onTargetClick(a),r.resetDragging()},r.stopFrameListeners=function(a){a&&(a.removeEventListener("dragenter",r.handleFrameDrag),a.removeEventListener("dragleave",r.handleFrameDrag),a.removeEventListener("drop",r.handleFrameDrop))},r.startFrameListeners=function(a){a&&(a.addEventListener("dragenter",r.handleFrameDrag),a.addEventListener("dragleave",r.handleFrameDrag),a.addEventListener("drop",r.handleFrameDrop))},r.frameDragCounter=0,r.state={draggingOverFrame:!1,draggingOverTarget:!1},r}return t.prototype.componentDidMount=function(){this.startFrameListeners(this.props.frame),this.resetDragging(),window.addEventListener("dragover",this.handleWindowDragOverOrDrop),window.addEventListener("drop",this.handleWindowDragOverOrDrop)},t.prototype.componentDidUpdate=function(n){n.frame!==this.props.frame&&(this.resetDragging(),this.stopFrameListeners(n.frame),this.startFrameListeners(this.props.frame))},t.prototype.componentWillUnmount=function(){this.stopFrameListeners(this.props.frame),window.removeEventListener("dragover",this.handleWindowDragOverOrDrop),window.removeEventListener("drop",this.handleWindowDragOverOrDrop)},t.prototype.render=function(){var n=this.props,r=n.children,a=n.className,s=n.targetClassName,i=n.draggingOverFrameClassName,l=n.draggingOverTargetClassName,c=this.state,u=c.draggingOverTarget,d=c.draggingOverFrame,f=s;return d&&(f+=" "+i),u&&(f+=" "+l),vd.default.createElement("div",{className:a,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},vd.default.createElement("div",{className:f,onClick:this.handleTargetClick},r))},t.isIE=function(){return typeof window<"u"&&(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>0)},t.eventHasFiles=function(n){var r=!1;if(n.dataTransfer){var a=n.dataTransfer.types;for(var s in a)if(a[s]==="Files"){r=!0;break}}return r},t.propTypes={className:mr.default.string,targetClassName:mr.default.string,draggingOverFrameClassName:mr.default.string,draggingOverTargetClassName:mr.default.string,onDragOver:mr.default.func,onDragLeave:mr.default.func,onDrop:mr.default.func,onTargetClick:mr.default.func,dropEffect:mr.default.oneOf(["copy","move","link","none"]),frame:function(n,r,a){var s=n[r];if(s==null)return new Error("Warning: Required prop `"+r+"` was not specified in `"+a+"`");if(s!==document&&!(s instanceof HTMLElement))return new Error("Warning: Prop `"+r+"` must be one of the following: document, HTMLElement!")},onFrameDragEnter:mr.default.func,onFrameDragLeave:mr.default.func,onFrameDrop:mr.default.func},t.defaultProps={dropEffect:"copy",frame:typeof window>"u"?void 0:window.document,className:"file-drop",targetClassName:"file-drop-target",draggingOverFrameClassName:"file-drop-dragging-over-frame",draggingOverTargetClassName:"file-drop-dragging-over-target"},t}(vd.default.PureComponent),as=mb.FileDrop=gk;const xc={itemsPerPage:0,page:0,totalPages:0,totalItems:0},yk={experienceEarned:0,goalsCompleted:0,reviewsAdded:0};let vk=class{constructor(){this.comments=[],this.lists=[],this.infoPaginationLists=xc,this.infoPaginationComments=xc,this.id=0,this.setComments=t=>{this.comments=t},this.setLists=t=>{this.lists=t},this.setInfoPaginationLists=t=>{this.infoPaginationLists=t},this.setInfoPaginationComments=t=>{this.infoPaginationComments=t},this.setId=t=>{this.id=t},Yr(this)}};const pu=new vk,bk=async e=>await tt("comments/add",{body:e,auth:!0,file:!0});const qt=({options:e,activeOption:t,onSelect:n,text:r,className:a,filter:s,placeholder:i="Сделайте выбор",disabled:l=!1})=>{var T,k;const[c,u]=y.useState(!1),[d,f]=y.useState(null),m=y.useRef(null),h=y.useRef([]),[g,v]=J("select",a),_=()=>{l||(u(!c),!c&&typeof t=="number"&&f(t))},E=I=>{m.current&&!m.current.contains(I.target)&&u(!1)},C=I=>{l||(n(I),u(!1))},w=I=>{if(!l){if(!c&&(I.key==="Enter"||I.key===" "||I.key==="ArrowDown")){I.preventDefault(),u(!0),f(t!==null?t:0);return}if(c)switch(I.key){case"Escape":I.preventDefault(),u(!1);break;case"ArrowDown":I.preventDefault(),f(A=>{var D;const x=A===null?0:(A+1)%e.length;return(D=h.current[x])==null||D.scrollIntoView({block:"nearest"}),x});break;case"ArrowUp":I.preventDefault(),f(A=>{var D;const x=A===null||A===0?e.length-1:A-1;return(D=h.current[x])==null||D.scrollIntoView({block:"nearest"}),x});break;case"Enter":case" ":I.preventDefault(),d!==null&&C(d);break}}},S=I=>{l||(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),_())},N=(I,A)=>{l||(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),C(A))};return y.useEffect(()=>(document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}),[]),y.useEffect(()=>{h.current=h.current.slice(0,e.length)},[e.length]),p("div",{className:g({filter:s,disabled:l}),ref:m,onKeyDown:w,role:"combobox","aria-haspopup":"listbox","aria-expanded":c,"aria-controls":c?"select-options-list":void 0,"aria-label":r||"Выпадающий список",tabIndex:l?-1:0,"aria-disabled":l,children:[r&&o("p",{className:v("text"),children:r}),p("button",{type:"button",className:v("option",{isOpen:c,placeholder:typeof t!="number",disabled:l}),onClick:_,onKeyDown:S,"aria-label":typeof t=="number"?"Выбрано: ".concat((T=e[t])==null?void 0:T.name):i,disabled:l,children:[o(ie,{icon:s?"sort":"arrow--right"}),o("span",{className:v("option-text"),children:typeof t=="number"?(k=e[t])==null?void 0:k.name:i})]}),c&&!l&&o("ul",{id:"select-options-list",className:v("list"),role:"listbox","aria-label":"Доступные опции",children:e.map((I,A)=>o("li",{ref:x=>{h.current[A]=x},className:v("item",{active:t===A,highlighted:d===A}),onClick:()=>C(A),onKeyDown:x=>N(x,A),role:"option","aria-selected":t===A,tabIndex:0,children:I.name},I.value))})]})};const Ek=e=>{const{className:t,closeModal:n}=e,[r,a]=J("add-review",t),[s,i]=y.useState(null),[l,c]=y.useState(""),[u,d]=y.useState([]),{setComments:f,comments:m,id:h}=pu,g=y.useRef(null),v=y.useCallback(S=>{const N=Array.from(S);if(N.length+u.length>10){me.addNotification({type:"error",title:"Слишком много фотографий",message:"Можно загрузить не более 10 фотографий."});return}d(T=>[...T,...N])},[u]),_=async S=>{if(S.preventDefault(),typeof s!="number")return;const N=new FormData;N.append("complexity",on[s].value),N.append("text",l),N.append("goal_id",h.toString()),u.forEach(k=>{N.append("photo",k)});const T=await bk(N);T.success&&(n(),f([T.data,...m]))},E=S=>{d([...u.slice(0,S),...u.slice(S+1)])},C=()=>{g.current&&g.current.click()},w=S=>{S.target.files&&v(S.target.files)};return p("form",{className:r(),onSubmit:_,children:[o(ke,{tag:"h2",className:a("title"),children:"Написать отзыв к цели"}),o(qt,{className:a("field"),placeholder:"Насколько вам было тяжело выполнить цель?",options:on,activeOption:s,onSelect:i,text:"Сложность"}),o(He,{placeholder:"Опишите свои впечатления о выполнении",id:"new-comment",text:"Комментарий",value:l,setValue:c,className:a("field"),type:"textarea"}),o("p",{className:a("field-title"),children:"Фотографии"}),p("div",{className:a("dropzone"),children:[o(as,{onDrop:S=>S&&v(S),children:p("div",{className:a("photos"),onClick:C,role:"button",tabIndex:0,"aria-label":"Добавить фотографии",onKeyPress:S=>{(S.key==="Enter"||S.key===" ")&&C()},children:[o("input",{type:"file",multiple:!0,ref:g,style:{display:"none"},onChange:w,accept:"image/*"}),o("div",{className:a("btn-add"),children:o(ie,{icon:"plus"})})]})}),u.map((S,N)=>p("div",{className:a("photo-wrapper"),children:[o("img",{className:a("photo"),src:URL.createObjectURL(S),alt:"Фотография ".concat(N+1)}),o("button",{className:a("delete-photo"),type:"button",onClick:()=>E(N),"aria-label":"Удалить фотографию",children:o(ie,{icon:"cross"})})]},"".concat(S.name,"-").concat(N)))]}),p("div",{className:a("btns-wrapper"),children:[o(z,{theme:"blue-light",className:a("btn"),onClick:n,children:"Отмена"}),o(z,{theme:"blue",className:a("btn"),typeBtn:"submit",children:"Опубликовать (+10 опыта)"})]})]})},_k=async e=>await cr("users/change-password",{body:e,auth:!0});const wk=e=>{const{className:t,closeModal:n}=e,[r,a]=J("change-password",t),[s,i]=y.useState(""),[l,c]=y.useState(""),[u,d]=y.useState(""),f=async m=>{if(m.preventDefault(),l!==u)return;(await _k({oldPassword:s,newPassword:l})).success&&n()};return p("form",{className:r(),onSubmit:f,children:[o(ke,{tag:"h2",className:a("title"),children:"Изменить пароль"}),o(He,{placeholder:"Введите ваш пароль",id:"password",text:"Текущий пароль",value:s,setValue:i,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"current-password"}),o(He,{placeholder:"Введите ваш новый пароль",id:"new-password",text:"Новый пароль",value:l,setValue:c,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"new-password"}),o(He,{placeholder:"Повтор ввода нового пароля",id:"repeat-new-password",text:"Повторите новый пароль",value:u,setValue:d,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"new-password"}),p("div",{className:a("btns-wrapper"),children:[o(z,{theme:"blue-light",className:a("btn"),onClick:n,children:"Отмена"}),o(z,{theme:"blue",className:a("btn"),typeBtn:"submit",children:"Изменить пароль"})]})]})};function Ck(e){const t=n=>{var r,a,s,i,l,c,u,d,f,m,h,g,v;return{id:n.id,username:n.username,firstName:(a=(r=n.firstName)!=null?r:n.first_name)!=null?a:"",lastName:(i=(s=n.lastName)!=null?s:n.last_name)!=null?i:"",avatar:(l=n.avatar)!=null?l:null,activity:{goalsCompleted:(u=(c=n.activity.goalsCompleted)!=null?c:n.activity.goals_completed)!=null?u:0,listsCompleted:(f=(d=n.activity.listsCompleted)!=null?d:n.activity.lists_completed)!=null?f:0,totalCompleted:(h=(m=n.activity.totalCompleted)!=null?m:n.activity.total_completed)!=null?h:0,latestCompletion:(v=(g=n.activity.latestCompletion)!=null?g:n.activity.latest_completion)!=null?v:null}}};return{user:t(e.user),friend:t(e.friend)}}const Mp=[{key:"goalsCompleted",label:"Выполнено целей"},{key:"listsCompleted",label:"Выполнено списков"},{key:"totalCompleted",label:"Всего выполнений"},{key:"latestCompletion",label:"Последнее выполнение",formatDate:!0}];function Fp(e,t){if(e==null)return"—";if(t&&typeof e=="string")try{const n=new Date(e);return Number.isNaN(n.getTime())?"—":n.toLocaleDateString("ru-RU")}catch(n){return"—"}return String(e)}function Bp(e){return[e.firstName,e.lastName].filter(Boolean).join(" ").trim()||e.username}function Up(e){var n;const t=[e.firstName,e.lastName].filter(Boolean).join(" ").trim();return t?t.charAt(0).toUpperCase():((n=e.username)==null?void 0:n.charAt(0).toUpperCase())||"?"}function Tk(e,t,n){if(n||typeof e=="string"||typeof t=="string")return null;const r=Number(e),a=Number(t);return Number.isNaN(r)||Number.isNaN(a)?null:r>a?"user":a>r?"friend":null}const Sk=({data:e})=>{const[t,n]=J("compare-friend-modal"),{user:r,friend:a}=e,s=Bp(a),i=Mp.filter(d=>!d.formatDate);let l=0,c=0;i.forEach(({key:d})=>{const f=r.activity[d],m=a.activity[d];f>m?l+=1:m>f&&(c+=1)});const u=i.length;return p("div",{className:t(),children:[o("div",{className:n("section"),children:p("h2",{className:n("header"),children:["Сравнение с ",s]})}),p("div",{className:n("participants"),children:[p("div",{className:n("card"),children:[o("div",{className:n("card-avatar"),children:r.avatar?o(Jn,{size:"medium-56",avatar:r.avatar}):o("div",{className:n("initials"),children:Up(r)})}),o("div",{className:n("card-name"),children:Bp(r)||r.username}),p("div",{className:n("card-meta"),children:["@",r.username]}),p("div",{className:n("card-row"),children:[o("span",{className:n("card-label"),children:"Уровень"}),o("span",{className:n("card-value"),children:r.activity.totalCompleted})]})]}),p("div",{className:n("card"),children:[o("div",{className:n("card-avatar"),children:a.avatar?o(Jn,{size:"medium-56",avatar:a.avatar}):o("div",{className:n("initials"),children:Up(a)})}),o("div",{className:n("card-name"),children:s}),p("div",{className:n("card-meta"),children:["@",a.username]}),p("div",{className:n("card-row"),children:[o("span",{className:n("card-label"),children:"Уровень"}),o("span",{className:n("card-value"),children:a.activity.totalCompleted})]})]})]}),p("div",{className:n("section"),children:[o("div",{className:n("metrics-title"),children:"Показатели"}),o(at,{className:n("line"),margin:"12px 0 16px"}),p("div",{className:n("metrics-header"),children:[o("span",{className:n("metric-label")}),p("div",{className:n("metric-cells"),children:[o("span",{className:n("metric-cell",{header:!0}),children:"Вы"}),o("span",{className:n("metric-cell",{header:!0}),children:"Друг"})]})]}),o("div",{className:n("metrics"),children:Mp.map(({key:d,label:f,formatDate:m})=>{const h=r.activity[d],g=a.activity[d],v=Tk(h,g,m);return p("div",{className:n("metric-row"),children:[o("span",{className:n("metric-label"),children:f}),p("div",{className:n("metric-cells"),children:[p("span",{className:n("metric-cell",{win:v==="user"}),children:[v==="user"&&o(ie,{icon:"trophy",className:n("icon-win")}),Fp(h,m)]}),p("span",{className:n("metric-cell",{win:v==="friend"}),children:[v==="friend"&&o(ie,{icon:"trophy",className:n("icon-win")}),Fp(g,m)]})]})]},d)})}),o(at,{className:n("line"),margin:"16px 0 0"}),p("div",{className:n("summary"),children:[l>c&&p("p",{className:n("summary-text",{you:!0}),children:["Вы впереди по ",l," из ",u," показателей"]}),c>l&&p("p",{className:n("summary-text",{friend:!0}),children:["Друг впереди по ",c," из ",u," показателей"]}),l===c&&p("p",{className:n("summary-text",{equal:!0}),children:["По ",u," показателям ничья"]})]})]})]})};const Nk=e=>{const{className:t,closeModal:n,funcModal:r}=e,[a,s]=J("confirm-execution-all-goal",t),i=async()=>{try{r()&&n()}catch(l){me.addNotification({type:"error",title:"Упс",message:"Что-то пошло не так"})}};return p("section",{className:a(),children:[o(ke,{tag:"h2",className:s("title"),children:"Выполнение всех целей списка"}),o("p",{className:s("text"),children:"Вы действительно хотите отметить все цели выполненными? Отменить это действие можно только вручную по каждой цели."}),p("div",{className:s("btns-wrapper"),children:[o(z,{theme:"blue-light",className:s("btn"),onClick:n,children:"Отмена"}),o(z,{theme:"blue",className:s("btn"),onClick:i,children:"Выполнить"})]})]})},Hn={getTodoLists:async()=>Ue("lists",{auth:!0,showSuccessNotification:!1}),getTodoList:async e=>Ue("lists/".concat(e),{auth:!0,showSuccessNotification:!1}),createTodoList:async e=>{const t={title:e.title,description:e.description,color:e.color,icon:e.icon,template_category:e.templateCategory};return tt("lists/create",{body:t,auth:!0,success:{type:"success",title:"Список создан",message:"Новый список задач успешно создан"}})},updateTodoList:async(e,t)=>{const n={};return t.title!==void 0&&(n.title=t.title),t.description!==void 0&&(n.description=t.description),t.color!==void 0&&(n.color=t.color),t.icon!==void 0&&(n.icon=t.icon),t.templateCategory!==void 0&&(n.template_category=t.templateCategory),cr("lists/".concat(e,"/update"),{body:n,auth:!0,success:{type:"success",title:"Список обновлен",message:"Изменения сохранены"}})},deleteTodoList:async e=>Xn("lists/".concat(e,"/delete"),{auth:!0,success:{type:"success",title:"Список удален",message:"Список задач успешно удален"}}),duplicateTodoList:async e=>tt("lists/".concat(e,"/duplicate"),{auth:!0,success:{type:"success",title:"Список скопирован",message:"Список задач успешно скопирован"}}),archiveTodoList:async e=>tt("lists/".concat(e,"/archive"),{auth:!0,success:{type:"success",title:"Список архивирован",message:"Список задач перемещен в архив"}}),restoreTodoList:async e=>tt("lists/".concat(e,"/restore"),{auth:!0,success:{type:"success",title:"Список восстановлен",message:"Список задач восстановлен из архива"}}),getTodoListStats:async()=>Ue("lists/stats",{auth:!0,showSuccessNotification:!1}),getUserGoals:async()=>Ue("self/added-goals",{auth:!0,showSuccessNotification:!1}),getTodoTasks:async e=>{const t={};return e!=null&&e.todoList&&(t.todo_list=e.todoList),e!=null&&e.priority&&(t.priority=e.priority),e!=null&&e.context&&(t.context=e.context),(e==null?void 0:e.is_completed)!==void 0&&(t.is_completed=e.is_completed),(e==null?void 0:e.has_deadline)!==void 0&&(t.has_deadline=e.has_deadline),e!=null&&e.search&&(t.search=e.search),e!=null&&e.ordering&&(t.ordering=e.ordering),Ue("tasks",{get:t,auth:!0,showSuccessNotification:!1})},getTodoTask:async e=>Ue("tasks/".concat(e),{auth:!0,showSuccessNotification:!1}),createTodoTask:async e=>{const t={title:e.title,description:e.description,todo_list:e.todoList,related_goal_id:e.relatedGoalId,priority:e.priority,context:e.context,estimated_duration:e.estimatedDuration||null,deadline:e.deadline||null,scheduled_date:e.scheduledDate||null,scheduled_time:e.scheduledTime||null,parent_task:e.parentTask,is_recurring:e.isRecurring||!1,recurring_pattern:e.recurringPattern||{},tags:e.tags||[],notes:e.notes};return Object.keys(t).forEach(n=>{(t[n]===void 0||t[n]==="")&&["estimated_duration","deadline","scheduled_date","scheduled_time","parent_task","related_goal_id"].includes(n)&&(t[n]=null)}),tt("tasks/create",{body:t,auth:!0,success:{type:"success",title:"Задача создана",message:"Новая задача успешно добавлена"}})},updateTodoTask:async(e,t)=>{const n={};return t.title!==void 0&&(n.title=t.title),t.description!==void 0&&(n.description=t.description),t.todoList!==void 0&&(n.todo_list=t.todoList),t.relatedGoalId!==void 0&&(n.related_goal_id=t.relatedGoalId),t.priority!==void 0&&(n.priority=t.priority),t.context!==void 0&&(n.context=t.context),t.estimatedDuration!==void 0&&(n.estimated_duration=t.estimatedDuration||null),t.deadline!==void 0&&(n.deadline=t.deadline||null),t.scheduledDate!==void 0&&(n.scheduled_date=t.scheduledDate||null),t.scheduledTime!==void 0&&(n.scheduled_time=t.scheduledTime||null),t.parentTask!==void 0&&(n.parent_task=t.parentTask),t.isRecurring!==void 0&&(n.is_recurring=t.isRecurring),t.recurringPattern!==void 0&&(n.recurring_pattern=t.recurringPattern||{}),t.tags!==void 0&&(n.tags=t.tags||[]),t.notes!==void 0&&(n.notes=t.notes),Object.keys(n).forEach(r=>{n[r]===""&&["estimated_duration","deadline","scheduled_date","scheduled_time","parent_task","related_goal_id"].includes(r)&&(n[r]=null)}),cr("tasks/".concat(e,"/update"),{body:n,auth:!0,success:{type:"success",title:"Задача обновлена",message:"Изменения сохранены"}})},deleteTodoTask:async e=>Xn("tasks/".concat(e,"/delete"),{auth:!0,success:{type:"success",title:"Задача удалена",message:"Задача успешно удалена"}}),toggleTaskComplete:async e=>tt("tasks/".concat(e,"/toggle_complete"),{auth:!0,success:{type:"success",title:"Статус изменен",message:"Статус задачи обновлен"}}),duplicateTodoTask:async e=>tt("tasks/".concat(e,"/duplicate"),{auth:!0,success:{type:"success",title:"Задача скопирована",message:"Задача успешно скопирована"}}),bulkUpdateTasks:async e=>{const t={task_ids:e.taskIds,action:e.action,priority:e.priority,context:e.context,target_list_id:e.targetListId};return tt("tasks/bulk_update",{body:t,auth:!0,success:{type:"success",title:"Задачи обновлены",message:"Массовое обновление выполнено"}})},getTodayTasks:async()=>Ue("tasks/today",{auth:!0,showSuccessNotification:!1}),getUpcomingTasks:async()=>Ue("tasks/upcoming",{auth:!0,showSuccessNotification:!1}),getOverdueTasks:async()=>Ue("tasks/overdue",{auth:!0,showSuccessNotification:!1}),getTodoTemplates:async e=>Ue("templates",{get:e,auth:!0,showSuccessNotification:!1}),getTodoTemplate:async e=>Ue("templates/".concat(e),{auth:!0,showSuccessNotification:!1}),createTodoTemplate:async e=>tt("templates/create",{body:e,auth:!0,success:{type:"success",title:"Шаблон создан",message:"Новый шаблон успешно создан"}}),updateTodoTemplate:async(e,t)=>cr("templates/".concat(e,"/update"),{body:t,auth:!0,success:{type:"success",title:"Шаблон обновлен",message:"Изменения сохранены"}}),deleteTodoTemplate:async e=>Xn("templates/".concat(e,"/delete"),{auth:!0,success:{type:"success",title:"Шаблон удален",message:"Шаблон успешно удален"}}),createListFromTemplate:async(e,t)=>{const n={list_title:t.listTitle,list_description:t.listDescription,color:t.color,icon:t.icon};return tt("templates/".concat(e,"/create_list"),{body:n,auth:!0,success:{type:"success",title:"Список создан",message:"Список создан на основе шаблона"}})},getPublicTemplates:async()=>Ue("templates/public",{showSuccessNotification:!1}),getMyTemplates:async()=>Ue("templates/my",{auth:!0,showSuccessNotification:!1})};let kk=class{constructor(){this.todoLists=[],this.todoTasks=[],this.todayTasks=[],this.upcomingTasks=[],this.overdueTasks=[],this.userGoals=[],this.todoTemplates=[],this.publicTemplates=[],this.myTemplates=[],this.stats=null,this.loading=!1,this.error=null,this.filters={},Yr(this)}async loadTodoLists(){this.setLoading(!0);try{const t=await Hn.getTodoLists();if(t.success)Ze(()=>{this.todoLists=t.data,this.error=null});else throw new Error(t.errors||"Ошибка загрузки списков задач")}catch(t){Ze(()=>{this.error="Ошибка загрузки списков задач"})}finally{this.setLoading(!1)}}async loadTodoTasks(t){this.setLoading(!0);try{const n=await Hn.getTodoTasks(t);Ze(()=>{this.todoTasks=n.data,this.error=null})}catch(n){Ze(()=>{this.error="Ошибка загрузки задач"})}finally{this.setLoading(!1)}}async loadTodayTasks(){this.setLoading(!0);try{const t=await Hn.getTodayTasks();if(t.success)Ze(()=>{this.todayTasks=t.data,this.error=null});else throw new Error(t.errors||"Ошибка загрузки задач на сегодня")}catch(t){Ze(()=>{this.error="Ошибка загрузки задач на сегодня"})}finally{this.setLoading(!1)}}async loadUpcomingTasks(){this.setLoading(!0);try{const t=await Hn.getUpcomingTasks();if(t.success)Ze(()=>{this.upcomingTasks=t.data,this.error=null});else throw new Error(t.errors||"Ошибка загрузки предстоящих задач")}catch(t){Ze(()=>{this.error="Ошибка загрузки предстоящих задач"})}finally{this.setLoading(!1)}}async loadOverdueTasks(){this.setLoading(!0);try{const t=await Hn.getOverdueTasks();if(t.success)Ze(()=>{this.overdueTasks=t.data,this.error=null});else throw new Error(t.errors||"Ошибка загрузки просроченных задач")}catch(t){Ze(()=>{this.error="Ошибка загрузки просроченных задач"})}finally{this.setLoading(!1)}}async loadStats(){try{const t=await Hn.getTodoListStats();if(t.success)Ze(()=>{this.stats=t.data,this.error=null});else throw new Error(t.errors||"Ошибка загрузки статистики")}catch(t){Ze(()=>{this.error="Ошибка загрузки статистики"})}}async createTodoList(t){this.setLoading(!0);try{const n=await Hn.createTodoList(t);if(n.success)return Ze(()=>{this.todoLists.unshift(n.data),this.error=null}),n.data;throw new Error(n.errors||"Ошибка создания списка задач")}catch(n){throw Ze(()=>{this.error="Ошибка создания списка задач"}),n}finally{this.setLoading(!1)}}async createTodoTask(t){this.setLoading(!0);try{const n=await Hn.createTodoTask(t);if(n.success)return Ze(()=>{this.todoTasks.unshift(n.data),this.error=null}),n.data;throw new Error(n.errors||"Ошибка создания задачи")}catch(n){throw Ze(()=>{this.error="Ошибка создания задачи"}),n}finally{this.setLoading(!1)}}async updateTodoTask(t,n){try{const r=await Hn.updateTodoTask(t,n);if(r.success)return Ze(()=>{const a=this.todoTasks.findIndex(s=>s.id===t);a!==-1&&(this.todoTasks[a]=r.data),this.updateTaskInArrays(r.data),this.error=null}),r.data;throw new Error(r.errors||"Ошибка обновления задачи")}catch(r){throw Ze(()=>{this.error="Ошибка обновления задачи"}),r}}async toggleTaskComplete(t){try{const n=await Hn.toggleTaskComplete(t);if(n.success)return Ze(()=>{const r=this.todoTasks.findIndex(a=>a.id===t);r!==-1&&(this.todoTasks[r]=n.data),this.updateTaskInArrays(n.data),this.error=null}),n.data;throw new Error(n.errors||"Ошибка изменения статуса задачи")}catch(n){throw Ze(()=>{this.error="Ошибка изменения статуса задачи"}),n}}async deleteTodoTask(t){try{const n=await Hn.deleteTodoTask(t);if(n.success)Ze(()=>{this.todoTasks=this.todoTasks.filter(r=>r.id!==t),this.todayTasks=this.todayTasks.filter(r=>r.id!==t),this.upcomingTasks=this.upcomingTasks.filter(r=>r.id!==t),this.overdueTasks=this.overdueTasks.filter(r=>r.id!==t),this.error=null});else throw new Error(n.errors||"Ошибка удаления задачи")}catch(n){throw Ze(()=>{this.error="Ошибка удаления задачи"}),n}}async duplicateTodoTask(t){try{const n=await Hn.duplicateTodoTask(t);if(n.success)Ze(()=>{const r=n.data;this.todoTasks.push(r);const a=new Date().toDateString();(r.scheduledDate===a||r.deadline===a)&&this.todayTasks.push(r),this.error=null});else throw new Error(n.errors||"Ошибка дублирования задачи")}catch(n){throw Ze(()=>{this.error="Ошибка дублирования задачи"}),n}}async bulkUpdateTasks(t){try{const n=await Hn.bulkUpdateTasks(t);if(n.success)Ze(()=>{t.action==="delete"?(this.todoTasks=this.todoTasks.filter(r=>!t.taskIds.includes(r.id)),this.todayTasks=this.todayTasks.filter(r=>!t.taskIds.includes(r.id)),this.upcomingTasks=this.upcomingTasks.filter(r=>!t.taskIds.includes(r.id)),this.overdueTasks=this.overdueTasks.filter(r=>!t.taskIds.includes(r.id))):(this.loadTodoTasks(),this.loadTodayTasks(),this.loadUpcomingTasks(),this.loadOverdueTasks()),this.error=null});else throw new Error(n.errors||"Ошибка массового обновления задач")}catch(n){throw Ze(()=>{this.error="Ошибка массового обновления задач"}),n}}async deleteTodoList(t){try{const n=await Hn.deleteTodoList(t);if(n.success)Ze(()=>{this.todoLists=this.todoLists.filter(r=>r.id!==t),this.todoTasks=this.todoTasks.filter(r=>r.todoList!==t),this.error=null});else throw new Error(n.errors||"Ошибка удаления списка")}catch(n){throw Ze(()=>{this.error="Ошибка удаления списка"}),n}}setFilters(t){Ze(()=>{this.filters=t})}clearFilters(){Ze(()=>{this.filters={}})}setLoading(t){Ze(()=>{this.loading=t})}updateTaskInArrays(t){const n=r=>{const a=r.findIndex(s=>s.id===t.id);return a!==-1?[...r.slice(0,a),t,...r.slice(a+1)]:r};this.todayTasks=n(this.todayTasks),this.upcomingTasks=n(this.upcomingTasks),this.overdueTasks=n(this.overdueTasks)}get filteredTasks(){let t=this.todoTasks;if(this.filters.priority&&(t=t.filter(n=>n.priority===this.filters.priority)),this.filters.context&&(t=t.filter(n=>n.context===this.filters.context)),this.filters.is_completed!==void 0&&(t=t.filter(n=>n.isCompleted===this.filters.is_completed)),this.filters.has_deadline!==void 0&&(this.filters.has_deadline?t=t.filter(n=>n.deadline):t=t.filter(n=>!n.deadline)),this.filters.search){const n=this.filters.search.toLowerCase();t=t.filter(r=>{var a,s;return r.title.toLowerCase().includes(n)||((a=r.description)==null?void 0:a.toLowerCase().includes(n))||((s=r.notes)==null?void 0:s.toLowerCase().includes(n))})}if(this.filters.tags){const n=this.filters.tags.toLowerCase();t=t.filter(r=>r.tags&&r.tags.some(a=>a.toLowerCase().includes(n)))}return t}get activeTodoLists(){return this.todoLists.filter(t=>t.isActive)}get completedTasksCount(){return this.todoTasks.filter(t=>t.isCompleted).length}get pendingTasksCount(){return this.todoTasks.filter(t=>!t.isCompleted).length}async loadUserGoals(){try{const t=await Hn.getUserGoals();if(t.success)Ze(()=>{this.userGoals=t.data.goals||[],this.error=null});else throw new Error(t.errors||"Ошибка загрузки целей")}catch(t){Ze(()=>{this.error="Ошибка загрузки целей пользователя"})}}};const oi=new kk;const Dk=({className:e,onSuccess:t,onCancel:n})=>{const[r,a]=J("create-todo-list-form",e),{isScreenMobile:s}=Vr(),[i,l]=y.useState({title:"",description:"",color:"#3a89d8",icon:"📋",templateCategory:""}),[c,u]=y.useState(!1),d=(v,_)=>{l(E=>({...E,[v]:_}))},f=()=>{cn.setIsOpen(!1)},m=async v=>{v.preventDefault(),u(!0);try{await oi.createTodoList(i),t==null||t(),f()}catch(_){}finally{u(!1)}},h=[{value:"#3a89d8",label:"Синий"},{value:"#10b981",label:"Зеленый"},{value:"#f59e0b",label:"Желтый"},{value:"#ef4444",label:"Красный"},{value:"#8b5cf6",label:"Фиолетовый"},{value:"#06b6d4",label:"Голубой"},{value:"#f97316",label:"Оранжевый"},{value:"#84cc16",label:"Лайм"}],g=["📋","📝","✅","📌","🎯","🚀","💼","🏠","🛒","✈️","💪","📚","🎵","🎨","🔧","⭐"];return p("form",{onSubmit:m,className:r(),children:[o("div",{className:a("field"),children:p("label",{htmlFor:"list-title",className:a("label"),children:["Название списка ",o("span",{className:a("required"),children:"*"}),o("input",{id:"list-title",type:"text",className:a("input"),value:i.title,onChange:v=>d("title",v.target.value),placeholder:"Введите название списка",required:!0})]})}),o("div",{className:a("field"),children:p("label",{htmlFor:"list-description",className:a("label"),children:["Описание",o("textarea",{id:"list-description",className:a("textarea"),value:i.description,onChange:v=>d("description",v.target.value),placeholder:"Краткое описание списка задач",rows:3})]})}),p("div",{className:a("row"),children:[o("div",{className:a("field",{half:!0}),children:p("fieldset",{children:[o("legend",{className:a("label"),id:"color-legend",children:"Цвет"}),o("div",{className:a("color-grid"),role:"radiogroup","aria-labelledby":"color-legend",children:h.map(v=>o("button",{type:"button",className:a("color-option",{active:i.color===v.value}),style:{backgroundColor:v.value},onClick:()=>d("color",v.value),"aria-label":"Выбрать цвет ".concat(v.label),role:"radio","aria-checked":i.color===v.value},v.value))})]})}),o("div",{className:a("field",{half:!0}),children:p("fieldset",{children:[o("legend",{className:a("label"),id:"icon-legend",children:"Иконка"}),o("div",{className:a("icon-grid"),role:"radiogroup","aria-labelledby":"icon-legend",children:g.map(v=>o("button",{type:"button",className:a("icon-option",{active:i.icon===v}),onClick:()=>d("icon",v),"aria-label":"Выбрать иконку ".concat(v),role:"radio","aria-checked":i.icon===v,children:v},v))})]})})]}),o("div",{className:a("field"),children:p("label",{htmlFor:"list-template-category",className:a("label"),children:["Категория шаблона",p("select",{id:"list-template-category",className:a("select"),value:i.templateCategory,onChange:v=>d("templateCategory",v.target.value),children:[o("option",{value:"",children:"Не использовать как шаблон"}),o("option",{value:"work",children:"Работа"}),o("option",{value:"personal",children:"Личное"}),o("option",{value:"shopping",children:"Покупки"}),o("option",{value:"travel",children:"Путешествия"}),o("option",{value:"health",children:"Здоровье"}),o("option",{value:"learning",children:"Обучение"}),o("option",{value:"other",children:"Другое"})]})]})}),p("div",{className:a("actions"),children:[o(z,{type:"button",onClick:n,theme:"blue-light",size:s?"medium":void 0,disabled:c,children:"Отмена"}),o(z,{typeBtn:"submit",theme:"blue",size:s?"medium":void 0,disabled:c||!i.title.trim(),children:c?"Создание...":"Создать список"})]})]})};const xk=({className:e,defaultListId:t,onSuccess:n,onCancel:r})=>{var E,C;const[a,s]=J("create-todo-task-form",e),{isScreenMobile:i}=Vr(),[l,c]=y.useState({title:"",description:"",todoList:t||"",relatedGoalId:"",priority:"medium",context:"",estimatedDuration:"",deadline:"",scheduledDate:"",scheduledTime:"",isRecurring:!1,recurringPattern:{type:"daily",interval:1},tags:[],notes:""}),[u,d]=y.useState(""),[f,m]=y.useState(!1);y.useEffect(()=>{oi.userGoals.length===0&&oi.loadUserGoals()},[]),y.useEffect(()=>{t&&t!==l.todoList&&c(w=>({...w,todoList:t}))},[t,l.todoList]);const h=(w,S)=>{c(N=>({...N,[w]:S}))},g=()=>{var S;const w=u.trim();w&&!((S=l.tags)!=null&&S.includes(w))&&(c(N=>({...N,tags:[...N.tags||[],w]})),d(""))},v=w=>{c(S=>{var N;return{...S,tags:((N=S.tags)==null?void 0:N.filter(T=>T!==w))||[]}})},_=async w=>{if(w.preventDefault(),!!l.title.trim()&&l.todoList){m(!0);try{await oi.createTodoTask(l),n()}catch(S){}finally{m(!1)}}};return p("form",{className:a(),onSubmit:_,children:[o("div",{className:s("field"),children:p("label",{htmlFor:"task",className:s("label"),children:["Название задачи ",o("span",{className:s("required"),children:"*"}),o("input",{id:"task",type:"text",className:s("input"),value:l.title,onChange:w=>h("title",w.target.value),placeholder:"Введите название задачи",required:!0})]})}),o("div",{className:s("field"),children:p("label",{htmlFor:"task-description",className:s("label"),children:["Описание",o("textarea",{id:"task-description",className:s("textarea"),value:l.description,onChange:w=>h("description",w.target.value),placeholder:"Краткое описание задачи",rows:3})]})}),o("div",{className:s("field"),children:p("label",{htmlFor:"task-list",className:s("label"),children:["Список задач ",o("span",{className:s("required"),children:"*"}),p("select",{id:"task-list",className:s("select"),value:l.todoList,onChange:w=>h("todoList",w.target.value),required:!0,children:[o("option",{value:"",children:"Выберите список"}),oi.todoLists.map(w=>p("option",{value:w.id,children:[w.icon," ",w.title]},w.id))]})]})}),o("div",{className:s("field"),children:p("label",{htmlFor:"task-goal",className:s("label"),children:["Связанная цель",p("select",{id:"task-goal",className:s("select"),value:l.relatedGoalId||"",onChange:w=>h("relatedGoalId",w.target.value),children:[o("option",{value:"",children:"Не связана с целью"}),oi.userGoals.map(w=>o("option",{value:w.id,children:w.title},w.id))]})]})}),p("div",{className:s("row"),children:[o("div",{className:s("field",{half:!0}),children:p("label",{htmlFor:"task-priority",className:s("label"),children:["Приоритет",p("select",{id:"task-priority",className:s("select"),value:l.priority,onChange:w=>h("priority",w.target.value),children:[o("option",{value:"low",children:"Низкий"}),o("option",{value:"medium",children:"Средний"}),o("option",{value:"high",children:"Высокий"}),o("option",{value:"urgent",children:"Срочный"})]})]})}),o("div",{className:s("field",{half:!0}),children:p("label",{htmlFor:"task-context",className:s("label"),children:["Контекст",p("select",{id:"task-context",className:s("select"),value:l.context,onChange:w=>h("context",w.target.value),children:[o("option",{value:"",children:"Не указан"}),o("option",{value:"home",children:"Дом"}),o("option",{value:"work",children:"Работа"}),o("option",{value:"call",children:"Звонки"}),o("option",{value:"email",children:"Почта"}),o("option",{value:"errands",children:"Поручения"}),o("option",{value:"computer",children:"Компьютер"}),o("option",{value:"online",children:"Онлайн"}),o("option",{value:"waiting",children:"Ожидание"}),o("option",{value:"other",children:"Другое"})]})]})})]}),o("div",{className:s("field"),children:p("label",{htmlFor:"task-duration",className:s("label"),children:["Расчетная длительность",o("input",{id:"task-duration",type:"text",className:s("input"),value:l.estimatedDuration,onChange:w=>h("estimatedDuration",w.target.value),placeholder:"Например: 2 часа"})]})}),o("div",{className:s("field"),children:p("label",{htmlFor:"task-deadline",className:s("label"),children:["Крайний срок",o("input",{id:"task-deadline",type:"date",className:s("input"),value:l.deadline,onChange:w=>h("deadline",w.target.value)})]})}),p("div",{className:s("row"),children:[o("div",{className:s("field",{half:!0}),children:p("label",{htmlFor:"task-scheduled-date",className:s("label"),children:["Запланированная дата",o("input",{id:"task-scheduled-date",type:"date",className:s("input"),value:l.scheduledDate,onChange:w=>h("scheduledDate",w.target.value)})]})}),o("div",{className:s("field",{half:!0}),children:p("label",{htmlFor:"task-scheduled-time",className:s("label"),children:["Запланированное время",o("input",{id:"task-scheduled-time",type:"time",className:s("input"),value:l.scheduledTime,onChange:w=>h("scheduledTime",w.target.value)})]})})]}),o("div",{className:s("field"),children:o("div",{className:s("checkbox-group"),children:p("label",{htmlFor:"task-recurring",className:s("checkbox-label"),children:[o("input",{id:"task-recurring",type:"checkbox",className:s("checkbox"),checked:l.isRecurring,onChange:w=>h("isRecurring",w.target.checked)}),"Повторяющаяся задача"]})})}),l.isRecurring&&p("div",{className:s("recurring-settings"),children:[o("div",{className:s("field"),children:p("label",{htmlFor:"task-recurring-type",className:s("label"),children:["Тип повторения",p("select",{id:"task-recurring-type",className:s("select"),value:((E=l.recurringPattern)==null?void 0:E.type)||"daily",onChange:w=>{var N;const S={type:w.target.value,interval:((N=l.recurringPattern)==null?void 0:N.interval)||1,...l.recurringPattern};h("recurringPattern",S)},children:[o("option",{value:"daily",children:"Ежедневно"}),o("option",{value:"weekly",children:"Еженедельно"}),o("option",{value:"monthly",children:"Ежемесячно"})]})]})}),o("div",{className:s("field"),children:p("label",{htmlFor:"task-recurring-interval",className:s("label"),children:["Интервал",o("input",{id:"task-recurring-interval",type:"number",min:"1",className:s("input"),value:((C=l.recurringPattern)==null?void 0:C.interval)||1,onChange:w=>{var N;const S={type:((N=l.recurringPattern)==null?void 0:N.type)||"daily",interval:parseInt(w.target.value,10)||1,...l.recurringPattern};h("recurringPattern",S)}})]})})]}),p("div",{className:s("field"),children:[p("label",{htmlFor:"task-tags",className:s("label"),children:["Теги",p("div",{className:s("tags-input"),children:[o("input",{id:"task-tags",type:"text",className:s("input"),value:u,onChange:w=>d(w.target.value),onKeyPress:w=>w.key==="Enter"&&(w.preventDefault(),g()),placeholder:"Добавить тег"}),o(z,{type:"button",onClick:g,theme:"blue-light",size:"small",children:"Добавить"})]})]}),l.tags&&l.tags.length>0&&o("div",{className:s("tags-list"),children:l.tags.map(w=>p("span",{className:s("tag"),children:[w,o("button",{type:"button",className:s("tag-remove"),onClick:()=>v(w),"aria-label":"Удалить тег ".concat(w),children:"×"})]},w))})]}),o("div",{className:s("field"),children:p("label",{htmlFor:"task-notes",className:s("label"),children:["Заметки",o("textarea",{id:"task-notes",className:s("textarea"),value:l.notes,onChange:w=>h("notes",w.target.value),placeholder:"Дополнительные заметки",rows:3})]})}),p("div",{className:s("actions"),children:[o(z,{type:"button",onClick:r,theme:"blue-light",size:i?"medium":void 0,disabled:f,children:"Отмена"}),o(z,{typeBtn:"submit",theme:"blue",size:i?"medium":void 0,disabled:f||!l.title.trim()||!l.todoList,children:f?"Создание...":"Создать задачу"})]})]})};const Hp=e=>{const{className:t,closeModal:n,funcModal:r}=e,[a,s]=J("delete-goal",t),i=async()=>{r()&&n()};return p("section",{className:a(),children:[o(ke,{tag:"h2",className:s("title"),children:"Удаление цели"}),o("p",{className:s("text"),children:"Вы действительно хотите удалить цель? Написанный отзыв будет будет удалён вместе с целью."}),p("div",{className:s("btns-wrapper"),children:[o(z,{theme:"blue-light",className:s("btn"),onClick:n,children:"Отмена"}),o(z,{theme:"red",className:s("btn"),onClick:i,children:"Удалить"})]})]})},Tt=({isLoading:e,children:t,className:n,isPageLoader:r})=>{const[a,s]=J("loader");return!e&&!t?null:p("div",{className:a({page:r}),children:[t&&o("div",{className:s("content",{blurred:e,page:r},n),children:t}),e&&o("div",{className:s("overlay"),children:p("svg",{width:"80",height:"80",viewBox:"-10 -10 50 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",overflow:"visible",children:[p("g",{className:s("aim"),children:[o("circle",{cx:"11.3667",cy:"14.56",r:"11.25",fill:"#E05A4F"}),o("circle",{cx:"11.3667",cy:"14.56",r:"8.25",fill:"white"}),o("circle",{cx:"11.3667",cy:"14.56",r:"4.25",fill:"#E05A4F"})]}),p("g",{className:s("dart"),children:[o("rect",{x:"10.33",y:"13.48",width:"18.63",height:"2.077",rx:"1.0385",transform:"rotate(-30.16 10.33 13.48)",fill:"white"}),o("path",{d:"M21.2094 9.564L25.0427 11.212C25.6205 11.4604 26.2818 11.4201 26.827 11.1033L30.4352 9.00667L25.6838 6.964L21.2094 9.564Z",fill:"#3A89D8"}),o("path",{d:"M20.176 7.76267L20.6746 3.59748C20.7498 2.96968 21.1151 2.41344 21.6603 2.09662L25.2685 3.64657e-06L24.6505 5.16267L20.176 7.76267Z",fill:"#3A89D8"})]})]})})]})};const Ak=ze(({goalId:e,goalTitle:t,goalFolders:n=[],onFolderSelected:r,showCreateButton:a=!1})=>{const[s,i]=J("folder-selector"),[l,c]=y.useState([]),[u,d]=y.useState(!0),[f,m]=y.useState(null),[h,g]=y.useState(!1),v=async()=>{d(!0);try{const w=await MN();w.success&&w.data&&c(w.data||[])}catch(w){console.error("Ошибка загрузки папок:",w)}d(!1)};y.useEffect(()=>{v()},[]);const _=async()=>{if(f){g(!0);try{if((await GN(f,e)).success){const S=l.find(N=>N.id===f);r==null||r(f,(S==null?void 0:S.name)||"")}}catch(w){console.error("Ошибка добавления цели в папку:",w)}g(!1)}},E=(w,S)=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),n.some(T=>T.id===S)||m(S))},C=w=>{n.some(N=>N.id===w)||m(w)};return u?o(Tt,{isLoading:!0}):p("div",{className:s(),children:[p("div",{className:i("header"),children:[p("h3",{className:i("title"),children:['Добавить цель "',t,'" в папку']}),o("p",{className:i("description"),children:"Выберите папку, в которую хотите добавить эту цель"})]}),l.length===0?o(jt,{title:"У вас пока нет папок для целей",description:a?'Создайте первую папку в разделе "Папки целей"':void 0}):o("div",{className:i("folders"),children:l.map(w=>{const S=n.some(T=>T.id===w.id),N=f===w.id;return p("div",{className:i("folder",{selected:N,disabled:S}),onClick:()=>C(w.id),onKeyDown:T=>E(T,w.id),role:"button",tabIndex:S?-1:0,"aria-label":S?"Цель уже находится в папке ".concat(w.name):"Выбрать папку ".concat(w.name),"aria-disabled":S,children:[p("div",{className:i("folder-info"),children:[p("h4",{className:i("folder-name"),children:[w.name,S&&o("span",{className:i("added-badge"),children:"Уже добавлена"})]}),w.description&&o("p",{className:i("folder-description"),children:w.description}),p("p",{className:i("folder-meta"),children:["Целей: ",w.goalsCount]})]}),o("div",{className:i("folder-radio"),children:o("input",{type:"radio",name:"folder",value:w.id,checked:N,disabled:S,onChange:()=>C(w.id)})})]},w.id)})}),l.length>0&&o("div",{className:i("actions"),children:o(z,{theme:"blue",onClick:_,disabled:!f||h,loading:h,children:"Добавить в папку"})})]})}),Pk=async e=>await tt("request-password-reset",{body:{email:e},showErrorNotification:!0});const Ok=e=>{const{className:t,onBack:n,initialEmail:r=""}=e,[a,s]=J("forgot-password",t),[i,l]=y.useState(r),[c,u]=y.useState("");y.useEffect(()=>{l(r)},[r]);const[d,f]=y.useState(!1),[m,h]=y.useState(!1),g=async v=>{if(v.preventDefault(),u(""),f(!0),!i){u("Введите email адрес"),f(!1);return}const _=await Pk(i);_.success?h(!0):u(_.error||"Произошла ошибка при отправке письма"),f(!1)};return m?p("div",{className:a(),children:[o(ie,{icon:"icon-logo",className:s("logo")}),o(ke,{tag:"h3",className:s("title"),children:"Письмо отправлено"}),p("div",{className:s("message"),children:[p("p",{children:["Мы отправили письмо для восстановления пароля на адрес ",o("strong",{children:i})]}),o("p",{children:"Проверьте почту и следуйте инструкциям в письме."}),o("p",{className:s("note"),children:'Если письмо не пришло, проверьте папку "Спам" или попробуйте отправить запрос повторно.'})]}),o("div",{className:s("actions"),children:n&&o(z,{theme:"blue-light",className:s("btn"),onClick:n,typeBtn:"button",children:"Вернуться к входу"})})]}):p("form",{className:a(),onSubmit:g,children:[o(ie,{icon:"icon-logo",className:s("logo")}),o(ke,{tag:"h3",className:s("title"),children:"Восстановление пароля"}),p("div",{className:s("form"),children:[o("p",{className:s("description"),children:"Введите email адрес, который вы использовали при регистрации. Мы отправим вам письмо с инструкциями для восстановления пароля."}),o(He,{placeholder:"E-mail",id:"email",text:"E-mail",type:"email",value:i,setValue:l,className:s("field"),required:!0,autoComplete:"email"}),c&&o("p",{className:s("error"),children:c}),o(z,{typeBtn:"submit",icon:"email",theme:"blue",className:s("btn"),disabled:d,loading:d,children:d?"Отправка...":"Отправить письмо"}),n&&o(z,{theme:"no-border",className:s("btn-back"),onClick:n,typeBtn:"button",children:"Вернуться к входу"})]})]})};const Ik=({location:e,userVisitedLocation:t})=>{const n=y.useRef(null),r=y.useRef(null),a=y.useRef(null),s=()=>{if(!n.current||r.current||!window.ymaps)return;const i=new window.ymaps.Map(n.current,{center:[e.latitude,e.longitude],zoom:13,controls:["zoomControl","typeSelector"]});r.current=i;const l=new window.ymaps.Placemark([e.latitude,e.longitude],{balloonContentHeader:'<div class="goal-map__title">'.concat(e.name||"Место назначения","</div>"),balloonContentBody:'\n					<div class="goal-map__content">\n						'.concat(e.address?'<p class="goal-map__address">'.concat(e.address,"</p>"):"","\n						").concat(e.description?'<p class="goal-map__description">'.concat(e.description,"</p>"):"",'\n						<p class="goal-map__coordinates">\n							<span class="goal-map__coordinates-label">Координаты:</span>\n							<span class="goal-map__coordinates-value">').concat(e.latitude.toFixed(6),", ").concat(e.longitude.toFixed(6),'</span>\n						</p>\n						<p class="goal-map__status">Статус: ').concat(t?"Посещено ✓":"Не посещено","</p>\n					</div>\n				"),hintContent:e.name||"Место назначения"},{preset:t?"islands#greenDotIcon":"islands#redDotIcon",openBalloonOnHover:!0,balloonCloseButton:!0,hideIconOnBalloonOpen:!1});i.geoObjects.add(l),a.current=l};return y.useEffect(()=>{if(window.ymaps&&window.ymaps.Map)window.ymaps.ready(s);else{const i=document.querySelector('script[src^="https://api-maps.yandex.ru/2.1/"]');if(i)i.addEventListener("load",()=>window.ymaps.ready(s));else{const l=document.createElement("script");l.src="https://api-maps.yandex.ru/2.1/?apikey=668a24d1-1303-4e5d-9f7b-0f94d2c0f859&lang=ru_RU",l.async=!0,l.onload=()=>window.ymaps.ready(s),document.head.appendChild(l)}}return()=>{r.current&&(r.current.destroy(),r.current=null)}},[]),y.useEffect(()=>{!r.current||!a.current||(a.current.geometry.setCoordinates([e.latitude,e.longitude]),a.current.properties.set({balloonContentHeader:'<div class="goal-map__title">'.concat(e.name||"Место назначения","</div>"),balloonContentBody:'\n				<div class="goal-map__content">\n					'.concat(e.address?'<p class="goal-map__address">'.concat(e.address,"</p>"):"","\n					").concat(e.description?'<p class="goal-map__description">'.concat(e.description,"</p>"):"",'\n					<p class="goal-map__coordinates">\n						<span class="goal-map__coordinates-label">Координаты:</span>\n						<span class="goal-map__coordinates-value">').concat(e.latitude.toFixed(6),", ").concat(e.longitude.toFixed(6),'</span>\n					</p>\n					<p class="goal-map__status">Статус: ').concat(t?"Посещено ✓":"Не посещено","</p>\n				</div>\n			"),hintContent:e.name||"Место назначения"}),a.current.options.set("preset",t?"islands#greenDotIcon":"islands#redDotIcon"),r.current.setCenter([e.latitude,e.longitude]))},[e,t]),o("div",{className:"goal-map",children:o("div",{ref:n,className:"goal-map__container"})})},gb=({goals:e})=>{const t=y.useRef(null),n=y.useRef(null);return y.useEffect(()=>{const r=e.filter(s=>s.location&&typeof s.location.latitude=="number"&&typeof s.location.longitude=="number");if(!r.length)return;const a=()=>{if(!t.current||n.current||!window.ymaps)return;const s=new window.ymaps.Map(t.current,{center:[r[0].location.latitude,r[0].location.longitude],zoom:4,controls:["zoomControl","typeSelector"]});n.current=s;const i=[];r.forEach(l=>{const{location:c,userVisitedLocation:u,name:d,address:f,description:m}=l,h=new window.ymaps.Placemark([c.latitude,c.longitude],{balloonContentHeader:'<div class="goal-map__title">'.concat(d||"Место назначения","</div>"),balloonContentBody:'\n              <div class="goal-map__content">\n                '.concat(f?'<p class="goal-map__address">'.concat(f,"</p>"):"","\n                ").concat(m?'<p class="goal-map__description">'.concat(m,"</p>"):"",'\n                <p class="goal-map__coordinates">\n                  <span class="goal-map__coordinates-label">Координаты:</span>\n                  <span class="goal-map__coordinates-value">').concat(c.latitude.toFixed(6),", ").concat(c.longitude.toFixed(6),'</span>\n                </p>\n                <p class="goal-map__status">Статус: ').concat(u?"Посещено ✓":"Не посещено","</p>\n              </div>\n            "),hintContent:d||"Место назначения"},{preset:u?"islands#greenDotIcon":"islands#redDotIcon",openBalloonOnHover:!0,balloonCloseButton:!0,hideIconOnBalloonOpen:!1});s.geoObjects.add(h),i.push([c.latitude,c.longitude])}),i.length>1?s.setBounds(window.ymaps.util.bounds.fromPoints(i),{checkZoomRange:!0,zoomMargin:40}):s.setCenter([r[0].location.latitude,r[0].location.longitude],13)};if(window.ymaps&&window.ymaps.Map)window.ymaps.ready(a);else{const s=document.querySelector('script[src^="https://api-maps.yandex.ru/2.1/"]');if(s)s.addEventListener("load",()=>window.ymaps.ready(a));else{const i=document.createElement("script");i.src="https://api-maps.yandex.ru/2.1/?apikey=668a24d1-1303-4e5d-9f7b-0f94d2c0f859&lang=ru_RU",i.async=!0,i.onload=()=>window.ymaps.ready(a),document.head.appendChild(i)}}return()=>{n.current&&(n.current.destroy(),n.current=null)}},[e]),o("div",{className:"goal-map",children:o("div",{ref:t,className:"goal-map__container"})})};const Lk=({onLocationSelect:e,initialLocation:t,closeModal:n})=>{var d,f;const[r,a]=J("location-picker"),s=y.useRef(null),[i,l]=y.useState(t||null),c=y.useRef(null),u=y.useRef(null);return y.useEffect(()=>{const m=()=>{if(!s.current||u.current)return;const g=t&&t.latitude&&t.longitude?[t.latitude,t.longitude]:[55.751244,37.618423],v=new window.ymaps.Map(s.current,{center:g,zoom:t?12:2,controls:["zoomControl","typeSelector"]});u.current=v;const _=new window.ymaps.control.SearchControl({options:{provider:"yandex#search",noPlacemark:!0,results:10,size:"large",noSuggestPanel:!0,suggestProvider:{provider:"yandex#suggest",apikey:"e5d7c042-cb73-457e-b0b4-00311f716d57"}}});v.controls.add(_),_.events.add("resultselect",E=>{const C=E.get("index");_.getResult(C).then(w=>{const S=w.geometry.getCoordinates();c.current?c.current.geometry.setCoordinates(S):(c.current=new window.ymaps.Placemark(S,{},{preset:"islands#redDotIcon"}),v.geoObjects.add(c.current)),window.ymaps.geocode(S).then(N=>{const T=N.geoObjects.get(0);l({name:w.properties.get("name")||w.properties.get("text")||w.getAddressLine&&w.getAddressLine(),description:w.properties.get("description")||"",latitude:S[0],longitude:S[1],country:T.getCountry(),city:T.getLocalities()[0]})}),v.setCenter(S,12)})}),v.events.add("click",E=>{const C=E.get("coords");l({latitude:C[0],longitude:C[1]}),c.current?c.current.geometry.setCoordinates(C):(c.current=new window.ymaps.Placemark(C,{},{preset:"islands#redDotIcon"}),v.geoObjects.add(c.current)),window.ymaps.geocode(C).then(w=>{const S=w.geoObjects.get(0);l(N=>({...N,name:S.getLocalities()[0]||S.getAddressLine(),country:S.getCountry(),city:S.getLocalities()[0]}))})}),t&&t.latitude&&t.longitude&&(c.current=new window.ymaps.Placemark(g,{},{preset:"islands#redDotIcon"}),v.geoObjects.add(c.current))},h="https://api-maps.yandex.ru/2.1/?apikey=668a24d1-1303-4e5d-9f7b-0f94d2c0f859&lang=ru_RU";if(window.ymaps&&window.ymaps.Map)window.ymaps.ready(m);else if(document.querySelector('script[src="'.concat(h,'"]'))){const g=()=>{window.ymaps&&typeof window.ymaps.ready=="function"?window.ymaps.ready(m):setTimeout(g,100)};g()}else{const g=document.createElement("script");g.src=h,g.async=!0,g.onload=()=>window.ymaps.ready(m),document.head.appendChild(g)}return()=>{u.current&&(u.current.destroy(),u.current=null)}},[t]),p("div",{className:r(),children:[o(ke,{tag:"h2",children:"Выберите место на карте"}),o("div",{className:a("map"),children:o("div",{ref:s,style:{width:"100%",height:450,borderRadius:12}})}),i&&p("div",{className:a("selected"),children:[o("h4",{children:"Выбранное место:"}),p("div",{className:a("details"),children:[o(He,{text:"Название места",placeholder:"Введите название",id:"location-name",value:i.name||"",setValue:m=>l(h=>({...h,name:m}))}),o(He,{text:"Описание",placeholder:"Краткое описание места",id:"location-description",value:i.description||"",setValue:m=>l(h=>({...h,description:m})),type:"textarea"}),o("div",{className:a("coordinates"),children:p("span",{children:["Координаты: ",(d=i.latitude)==null?void 0:d.toFixed(6),", ",(f=i.longitude)==null?void 0:f.toFixed(6)]})})]})]}),p("div",{className:a("actions"),children:[o(z,{theme:"blue-light",onClick:n,children:"Отмена"}),o(z,{theme:"blue",onClick:()=>i&&e(i),children:"Выбрать место"})]})]})};const Gp=ze(({goalId:e,currentProgress:t,onProgressUpdate:n,onGoalCompleted:r,onClose:a})=>{const[s,i]=J("progress-update-modal"),[l,c]=y.useState(t.progressPercentage.toString()),[u,d]=y.useState(""),[f,m]=y.useState(t.isWorkingToday),[h,g]=y.useState(!1),[v,_]=y.useState(!1);y.useEffect(()=>{if(!v)return;const S=()=>_(!1);return window.addEventListener("pointerup",S),window.addEventListener("pointercancel",S),()=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",S)}},[v]);const E=async()=>{g(!0);try{const S=Math.min(100,Math.max(0,parseInt(l,10)||0)),T=await Ao(e,{progress_percentage:S,daily_notes:u,is_working_today:f});T.success&&T.data&&(S>=100&&t.progressPercentage<100&&r&&r(),n(T.data),a())}catch(S){console.error("Ошибка сохранения прогресса:",S)}finally{g(!1)}},C=S=>{c(S.target.value)},w=Math.min(100,Math.max(0,parseInt(l,10)||0));return p("div",{className:s(),children:[o("div",{className:i("header"),children:o("h3",{className:i("title"),children:"Прогресс цели"})}),p("div",{className:i("content"),children:[p("div",{className:i("slider-section"),children:[p("div",{className:i("progress-header"),children:[o("label",{htmlFor:"progress-slider",className:i("slider-label"),children:"Текущий прогресс (в процентах %)"}),o(pa,{variant:"numbers",done:w,all:100,goal:!0,className:i("progress-bar")})]}),p("div",{className:i("slider-wrap"),children:[p("div",{className:i("slider-tooltip",{visible:v}),style:{left:"".concat(w,"%")},"aria-hidden":!0,children:[w,"%"]}),o("input",{id:"progress-slider",type:"range",min:"0",max:"100",value:l,onChange:C,onPointerDown:()=>_(!0),className:i("slider"),style:{"--progress-percent":"".concat(w,"%")}})]})]}),o(He,{id:"progress-input",text:"Точное значение",value:l,setValue:c,placeholder:"Введите процент (0-100)",type:"number",suffix:"%",className:i("field")}),o(He,{id:"progress-notes",text:"Заметка изменения прогресса",value:u,setValue:d,placeholder:"Опишите свои впечатления о выполнении",type:"textarea",className:i("field")}),!t.isWorkingToday&&o(wn,{id:"worked-today",text:"Работал над целью сегодня",checked:f,setChecked:m,className:i("field")})]}),p("div",{className:i("footer"),children:[o(z,{theme:"blue-light",className:i("btn"),onClick:a,disabled:h,type:"button",children:"Отмена"}),o(z,{theme:"blue",className:i("btn"),onClick:E,disabled:h,loading:h,type:"button",children:"Сохранить"})]})]})});const Rk=({goals:e,onClose:t})=>{const n=y.useRef(null),r=y.useRef(null),a=y.useRef(!1),s=Zn(),[i,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=J("random-goal-picker"),m=400,h=300,g=1200,v=2e3,_=200,E=e.filter(D=>!D.completedByUser),C=E.length;y.useEffect(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[]),y.useEffect(()=>{if(!c&&!i&&n.current){const D=n.current,P=D.getContext("2d");if(!P)return;const M=window.devicePixelRatio||1;D.width=Math.floor(m*M),D.height=Math.floor(h*M),D.style.width="".concat(m,"px"),D.style.height="".concat(h,"px"),P.setTransform(M,0,0,M,0,0),P.clearRect(0,0,m,h),P.fillStyle="#94a3b8",P.font="bold 120px Arial",P.textAlign="center",P.textBaseline="middle",P.save(),P.beginPath(),P.rect(0,0,m,h/2+40),P.clip(),P.fillText("?",m/2,h/2-15),P.restore();const R=new Image;R.onload=()=>{P.drawImage(R,m/2-30/2,h/2+45,30,30*(R.height/R.width))},R.src="/logo.svg"}},[c,i]);const w=D=>new Promise((P,M)=>{const R=new Image;R.crossOrigin="Anonymous",R.onload=()=>P(R),R.onerror=M,R.src=D}),S=D=>{D.clearRect(0,0,D.canvas.width,D.canvas.height)},N=D=>1-(1-D)**3,T=()=>{const D=[],P="#cbd5e1";for(let R=0;R<Math.min(800,v);R++){const F=Math.random()*m,U=Math.random()*h,$=m/2+(Math.random()-.5)*_,H=h/2+(Math.random()-.5)*_,K=1+Math.random()*2,L=Math.random()*200;D.push({sx:$,sy:H,tx:F,ty:U,color:P,size:K,delay:L})}return D},k=(D,P,M)=>{const R=document.createElement("canvas"),F=Math.floor(m*M),U=Math.floor(h*M);R.width=F,R.height=U;const $=R.getContext("2d");if(!$)return[];const H=D.width/D.height;let K=F,L=Math.round(K/H);L>U&&(L=U,K=Math.round(L*H));const le=Math.floor((F-K)/2)+3,q=Math.floor((U-L)/2)+3.5;$.clearRect(0,0,F,U),$.drawImage(D,le,q,K,L);const O=1200,ee=K*L,Q=Math.max(1,Math.floor(Math.sqrt(ee/O))),oe=[],V=$.getImageData(0,0,F,U).data;for(let Ae=0;Ae<U;Ae+=Q){for(let ne=0;ne<F;ne+=Q){const Ce=(Ae*F+ne)*4,rt=V[Ce],ot=V[Ce+1],Et=V[Ce+2],j=V[Ce+3];if(j>=50){const pt=ne/M,be=Ae/M,ue=m/2+(Math.random()-.5)*_,Ne=h/2+(Math.random()-.5)*_,De="rgba(".concat(rt,",").concat(ot,",").concat(Et,",").concat(j/255,")"),Te=Math.max(1,Q/M),de=Math.random()*200;if(oe.push({sx:ue,sy:Ne,tx:pt,ty:be,color:De,size:Te,delay:de}),oe.length>=v)break}}if(oe.length>=v)break}return oe},I=(D,P,M,R=g)=>new Promise(F=>{const U=window.devicePixelRatio||1,$=M.getContext("2d");if(!$){F();return}M.width=Math.floor(m*U),M.height=Math.floor(h*U),M.style.width="".concat(m,"px"),M.style.height="".concat(h,"px"),$.setTransform(U,0,0,U,0,0);const H=performance.now(),K=L=>{const le=L-H;S($);let q=0;for(let O=0;O<D.length;O++){const ee=D[O],Q=Math.min(Math.max((le-ee.delay)/R,0),1),oe=N(Q),V=ee.sx+(ee.tx-ee.sx)*oe,Ae=ee.sy+(ee.ty-ee.sy)*oe;$.beginPath(),$.fillStyle=ee.color,$.arc(V,Ae,ee.size,0,Math.PI*2),$.fill(),Q>=1&&q++}if(q>=D.length){if(P){const O=P.width/P.height;let ee=m,Q=Math.round(ee/O);Q>h&&(Q=h,ee=Math.round(Q*O));const oe=Math.floor((m-ee)/2),V=Math.floor((h-Q)/2);$.drawImage(P,oe,V,ee,Q)}F();return}r.current=requestAnimationFrame(K)};r.current=requestAnimationFrame(K)}),A=async()=>{if(!C||a.current)return;a.current=!0,l(!0);const D=Math.floor(Math.random()*C),P=E[D],M=n.current;if(!M){a.current=!1,l(!1);return}let R=null;try{P.image&&(R=await w(P.image))}catch(F){R=null}try{const F=window.devicePixelRatio||1,U=M.getContext("2d");if(!U)throw new Error("no-canvas");const $=R?k(R,U,F):T();await I($,R,M),u(P)}catch(F){u(P)}l(!1),a.current=!1},x=()=>{c&&(t(),s("/goals/".concat(c.code,"/")))};return p("section",{className:d(),children:[o(ke,{tag:"h2",children:"Случайная цель"}),o("div",{style:{width:m,height:h,margin:"24px auto",position:"relative",borderRadius:12,overflow:"hidden"},children:o("canvas",{ref:n,className:f("canvas")})}),p("div",{className:f("details"),children:[p("div",{className:f("selected-goal",{disabled:!c&&!!C}),children:[o("p",{children:C===0?"Вы уже выполнили все цели в этом списке":"Ваша цель:"}),o("p",{className:f("selected-goal-title"),children:i?"...":c==null?void 0:c.title})]}),p("div",{className:f("buttons"),children:[c&&o(z,{theme:"blue-light",disabled:!c,onClick:x,className:f("button-to-goal",{disabled:!c||i}),children:"Перейти к цели"}),o(z,{className:f("button-select"),onClick:A,disabled:i||C===0,theme:"blue",children:c?"Выбрать другую":"Выбрать"})]})]})]})},yb=6048e5,Mk=864e5,gu=6e4,yu=36e5,Fk=1e3,$p=Symbol.for("constructDateFrom");function Wt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&$p in e?e[$p](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ye(e,t){return Wt(t||e,e)}function Br(e,t,n){const r=Ye(e,n==null?void 0:n.in);return isNaN(t)?Wt((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function $r(e,t,n){const r=Ye(e,n==null?void 0:n.in);if(isNaN(t))return Wt((n==null?void 0:n.in)||e,NaN);if(!t)return r;const a=r.getDate(),s=Wt((n==null?void 0:n.in)||e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function vb(e,t,n){return Wt((n==null?void 0:n.in)||e,+Ye(e)+t)}function Bk(e,t,n){return vb(e,t*yu,n)}let Uk={};function Ys(){return Uk}function Wr(e,t){var l,c,u,d,f,m,h,g;const n=Ys(),r=(g=(h=(d=(u=t==null?void 0:t.weekStartsOn)!=null?u:(c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)!=null?d:n.weekStartsOn)!=null?h:(m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)!=null?g:0,a=Ye(e,t==null?void 0:t.in),s=a.getDay(),i=(s<r?7:0)+s-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function ki(e,t){return Wr(e,{...t,weekStartsOn:1})}function bb(e,t){const n=Ye(e,t==null?void 0:t.in),r=n.getFullYear(),a=Wt(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=ki(a),i=Wt(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=ki(i);return n.getTime()>=s.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Ac(e){const t=Ye(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function va(e,...t){const n=Wt.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Ls(e,t){const n=Ye(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Di(e,t,n){const[r,a]=va(n==null?void 0:n.in,e,t),s=Ls(r),i=Ls(a),l=+s-Ac(s),c=+i-Ac(i);return Math.round((l-c)/Mk)}function Hk(e,t){const n=bb(e,t),r=Wt((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ki(r)}function Lf(e,t,n){const r=Ye(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*gu),r}function Ih(e,t,n){return $r(e,t*3,n)}function Gk(e,t,n){return vb(e,t*1e3,n)}function Pc(e,t,n){return Br(e,t*7,n)}function Ia(e,t,n){return $r(e,t*12,n)}function Wp(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Wt.bind(null,a));const s=Ye(a,r);(!n||n<s||isNaN(+s))&&(n=s)}),Wt(r,n||NaN)}function Yp(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Wt.bind(null,a));const s=Ye(a,r);(!n||n>s||isNaN(+s))&&(n=s)}),Wt(r,n||NaN)}function $k(e,t,n){const[r,a]=va(n==null?void 0:n.in,e,t);return+Ls(r)==+Ls(a)}function La(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Oc(e){return!(!La(e)&&typeof e!="number"||isNaN(+Ye(e)))}function Ic(e,t,n){const[r,a]=va(n==null?void 0:n.in,e,t),s=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return s*12+i}function Ns(e,t){const n=Ye(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function Lc(e,t,n){const[r,a]=va(n==null?void 0:n.in,e,t),s=r.getFullYear()-a.getFullYear(),i=Ns(r)-Ns(a);return s*4+i}function Rc(e,t,n){const[r,a]=va(n==null?void 0:n.in,e,t);return r.getFullYear()-a.getFullYear()}function Wk(e,t,n){const[r,a]=va(n==null?void 0:n.in,e,t),s=zp(r,a),i=Math.abs(Di(r,a));r.setDate(r.getDate()-s*i);const l=+(zp(r,a)===-s),c=s*(i-l);return c===0?0:c}function zp(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Eb(e,t){const n=Ye(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function _b(e,t){const n=Ye(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Rf(e,t){const n=Ye(e,t==null?void 0:t.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function wb(e,t){const n=Ye(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Cb(e,t){const n=Ye(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function vu(e,t){const n=Ye(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Yk(e,t){var l,c,u,d,f,m,h,g;const n=Ys(),r=(g=(h=(d=(u=t==null?void 0:t.weekStartsOn)!=null?u:(c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)!=null?d:n.weekStartsOn)!=null?h:(m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)!=null?g:0,a=Ye(e,t==null?void 0:t.in),s=a.getDay(),i=(s<r?-7:0)+6-(s-r);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}const zk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vk=(e,t,n)=>{let r;const a=zk[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function pi(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const qk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qk={date:pi({formats:qk,defaultWidth:"full"}),time:pi({formats:jk,defaultWidth:"full"}),dateTime:pi({formats:Kk,defaultWidth:"full"})},Xk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jk=(e,t,n,r)=>Xk[e];function ra(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Zk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sD=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iD={ordinalNumber:sD,era:ra({values:Zk,defaultWidth:"wide"}),quarter:ra({values:eD,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ra({values:tD,defaultWidth:"wide"}),day:ra({values:nD,defaultWidth:"wide"}),dayPeriod:ra({values:rD,defaultWidth:"wide",formattingValues:aD,defaultFormattingWidth:"wide"})};function aa(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lD(l,f=>f.test(i)):oD(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function oD(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function lD(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Tb(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const cD=/^(\d+)(th|st|nd|rd)?/i,uD=/\d+/i,dD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fD={any:[/^b/i,/^(a|c)/i]},hD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mD={any:[/1/i,/2/i,/3/i,/4/i]},pD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ED={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_D={ordinalNumber:Tb({matchPattern:cD,parsePattern:uD,valueCallback:e=>parseInt(e,10)}),era:aa({matchPatterns:dD,defaultMatchWidth:"wide",parsePatterns:fD,defaultParseWidth:"any"}),quarter:aa({matchPatterns:hD,defaultMatchWidth:"wide",parsePatterns:mD,defaultParseWidth:"any",valueCallback:e=>e+1}),month:aa({matchPatterns:pD,defaultMatchWidth:"wide",parsePatterns:gD,defaultParseWidth:"any"}),day:aa({matchPatterns:yD,defaultMatchWidth:"wide",parsePatterns:vD,defaultParseWidth:"any"}),dayPeriod:aa({matchPatterns:bD,defaultMatchWidth:"any",parsePatterns:ED,defaultParseWidth:"any"})},Sb={code:"en-US",formatDistance:Vk,formatLong:Qk,formatRelative:Jk,localize:iD,match:_D,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wD(e,t){const n=Ye(e,t==null?void 0:t.in);return Di(n,vu(n))+1}function Lh(e,t){const n=Ye(e,t==null?void 0:t.in),r=+ki(n)-+Hk(n);return Math.round(r/yb)+1}function Rh(e,t){var d,f,m,h,g,v,_,E;const n=Ye(e,t==null?void 0:t.in),r=n.getFullYear(),a=Ys(),s=(E=(_=(h=(m=t==null?void 0:t.firstWeekContainsDate)!=null?m:(f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)!=null?h:a.firstWeekContainsDate)!=null?_:(v=(g=a.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)!=null?E:1,i=Wt((t==null?void 0:t.in)||e,0);i.setFullYear(r+1,0,s),i.setHours(0,0,0,0);const l=Wr(i,t),c=Wt((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=Wr(c,t);return+n>=+l?r+1:+n>=+u?r:r-1}function CD(e,t){var l,c,u,d,f,m,h,g;const n=Ys(),r=(g=(h=(d=(u=t==null?void 0:t.firstWeekContainsDate)!=null?u:(c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)!=null?d:n.firstWeekContainsDate)!=null?h:(m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)!=null?g:1,a=Rh(e,t),s=Wt((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),Wr(s,t)}function Nb(e,t){const n=Ye(e,t==null?void 0:t.in),r=+Wr(n,t)-+CD(n,t);return Math.round(r/yb)+1}function $t(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const $a={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return $t(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):$t(n+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return $t(a,t.length)}},ti={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vp={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return $a.y(e,t)},Y:function(e,t,n,r){const a=Rh(e,r),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return $t(i,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):$t(s,t.length)},R:function(e,t){const n=bb(e);return $t(n,t.length)},u:function(e,t){const n=e.getFullYear();return $t(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return $a.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Nb(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):$t(a,t.length)},I:function(e,t,n){const r=Lh(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):$a.d(e,t)},D:function(e,t,n){const r=wD(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return $t(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return $t(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return $t(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=ti.noon:r===0?a=ti.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=ti.evening:r>=12?a=ti.afternoon:r>=4?a=ti.morning:a=ti.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $a.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):$a.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):$a.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):$a.s(e,t)},S:function(e,t){return $a.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return jp(r);case"XXXX":case"XX":return ys(r);case"XXXXX":case"XXX":default:return ys(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return jp(r);case"xxxx":case"xx":return ys(r);case"xxxxx":case"xxx":default:return ys(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qp(r,":");case"OOOO":default:return"GMT"+ys(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qp(r,":");case"zzzz":default:return"GMT"+ys(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return $t(r,t.length)},T:function(e,t,n){return $t(+e,t.length)}};function qp(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return s===0?n+String(a):n+String(a)+t+$t(s,2)}function jp(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):ys(e,t)}function ys(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=$t(Math.trunc(r/60),2),s=$t(r%60,2);return n+a+t+s}const Kp=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kb=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},TD=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Kp(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",Kp(r,t)).replace("{{time}}",kb(a,t))},Mf={p:kb,P:TD},SD=/^D+$/,ND=/^Y+$/,kD=["D","DD","YY","YYYY"];function Db(e){return SD.test(e)}function xb(e){return ND.test(e)}function Ff(e,t,n){const r=DD(e,t,n);if(console.warn(r),kD.includes(e))throw new RangeError(r)}function DD(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}const xD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PD=/^'([^]*?)'?$/,OD=/''/g,ID=/[a-zA-Z]/;function ga(e,t,n){var d,f,m,h,g,v,_,E,C,w,S,N,T,k,I,A,x,D;const r=Ys(),a=(f=(d=n==null?void 0:n.locale)!=null?d:r.locale)!=null?f:Sb,s=(w=(C=(v=(g=n==null?void 0:n.firstWeekContainsDate)!=null?g:(h=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)!=null?v:r.firstWeekContainsDate)!=null?C:(E=(_=r.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)!=null?w:1,i=(D=(x=(k=(T=n==null?void 0:n.weekStartsOn)!=null?T:(N=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:N.weekStartsOn)!=null?k:r.weekStartsOn)!=null?x:(A=(I=r.locale)==null?void 0:I.options)==null?void 0:A.weekStartsOn)!=null?D:0,l=Ye(e,n==null?void 0:n.in);if(!Oc(l))throw new RangeError("Invalid time value");let c=t.match(AD).map(P=>{const M=P[0];if(M==="p"||M==="P"){const R=Mf[M];return R(P,a.formatLong)}return P}).join("").match(xD).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const M=P[0];if(M==="'")return{isToken:!1,value:LD(P)};if(Vp[M])return{isToken:!0,value:P};if(M.match(ID))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:P}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(P=>{if(!P.isToken)return P.value;const M=P.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&xb(M)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Db(M))&&Ff(M,t,String(e));const R=Vp[M[0]];return R(l,M,a.localize,u)}).join("")}function LD(e){const t=e.match(PD);return t?t[1].replace(OD,"'"):e}function Qp(e,t){return Ye(e,t==null?void 0:t.in).getDate()}function RD(e,t){return Ye(e,t==null?void 0:t.in).getDay()}function MD(e,t){const n=Ye(e,t==null?void 0:t.in),r=n.getFullYear(),a=n.getMonth(),s=Wt(n,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function FD(){return Object.assign({},Ys())}function Ra(e,t){return Ye(e,t==null?void 0:t.in).getHours()}function BD(e,t){const n=Ye(e,t==null?void 0:t.in).getDay();return n===0?7:n}function Ma(e,t){return Ye(e,t==null?void 0:t.in).getMinutes()}function Ln(e,t){return Ye(e,t==null?void 0:t.in).getMonth()}function ts(e){return Ye(e).getSeconds()}function Bf(e){return+Ye(e)}function gt(e,t){return Ye(e,t==null?void 0:t.in).getFullYear()}function ss(e,t){return+Ye(e)>+Ye(t)}function la(e,t){return+Ye(e)<+Ye(t)}function UD(e,t){return+Ye(e)==+Ye(t)}function HD(e,t){const n=GD(t)?new t(0):Wt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function GD(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const $D=10;class Ab{constructor(){Re(this,"subPriority",0)}validate(t,n){return!0}}class WD extends Ab{constructor(t,n,r,a,s){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=a,s&&(this.subPriority=s)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class YD extends Ab{constructor(n,r){super();Re(this,"priority",$D);Re(this,"subPriority",-1);this.context=n||(a=>Wt(r,a))}set(n,r){return r.timestampIsSet?n:Wt(n,HD(n,this.context))}}let Mt=class{run(t,n,r,a){const s=this.parse(t,n,r,a);return s?{setter:new WD(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,n,r){return!0}};class zD extends Mt{constructor(){super(...arguments);Re(this,"priority",140);Re(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,r,a){return r.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const pn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},sa={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function gn(e,t){return e&&{value:t(e.value),rest:e.rest}}function ln(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ia(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:r*(a*yu+s*gu+i*Fk),rest:t.slice(n[0].length)}}function Pb(e){return ln(pn.anyDigitsSigned,e)}function hn(e,t){switch(e){case 1:return ln(pn.singleDigit,t);case 2:return ln(pn.twoDigits,t);case 3:return ln(pn.threeDigits,t);case 4:return ln(pn.fourDigits,t);default:return ln(new RegExp("^\\d{1,"+e+"}"),t)}}function Mc(e,t){switch(e){case 1:return ln(pn.singleDigitSigned,t);case 2:return ln(pn.twoDigitsSigned,t);case 3:return ln(pn.threeDigitsSigned,t);case 4:return ln(pn.fourDigitsSigned,t);default:return ln(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Mh(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ob(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const s=r+50,i=Math.trunc(s/100)*100,l=e>=s%100;a=e+i-(l?100:0)}return n?a:1-a}function Ib(e){return e%400===0||e%4===0&&e%100!==0}class VD extends Mt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,a){const s=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return gn(hn(4,n),s);case"yo":return gn(a.ordinalNumber(n,{unit:"year"}),s);default:return gn(hn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a){const s=n.getFullYear();if(a.isTwoDigitYear){const l=Ob(a.year,s);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const i=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class qD extends Mt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,a){const s=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return gn(hn(4,n),s);case"Yo":return gn(a.ordinalNumber(n,{unit:"year"}),s);default:return gn(hn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a,s){const i=Rh(n,s);if(a.isTwoDigitYear){const c=Ob(a.year,i);return n.setFullYear(c,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Wr(n,s)}const l=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Wr(n,s)}}class jD extends Mt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Mc(r==="R"?4:r.length,n)}set(n,r,a){const s=Wt(n,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),ki(s)}}class KD extends Mt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Mc(r==="u"?4:r.length,n)}set(n,r,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class QD extends Mt{constructor(){super(...arguments);Re(this,"priority",120);Re(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"Q":case"QQ":return hn(r.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class XD extends Mt{constructor(){super(...arguments);Re(this,"priority",120);Re(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"q":case"qq":return hn(r.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class JD extends Mt{constructor(){super(...arguments);Re(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Re(this,"priority",110)}parse(n,r,a){const s=i=>i-1;switch(r){case"M":return gn(ln(pn.month,n),s);case"MM":return gn(hn(2,n),s);case"Mo":return gn(a.ordinalNumber(n,{unit:"month"}),s);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class ZD extends Mt{constructor(){super(...arguments);Re(this,"priority",110);Re(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,a){const s=i=>i-1;switch(r){case"L":return gn(ln(pn.month,n),s);case"LL":return gn(hn(2,n),s);case"Lo":return gn(a.ordinalNumber(n,{unit:"month"}),s);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function ex(e,t,n){const r=Ye(e,n==null?void 0:n.in),a=Nb(r,n)-t;return r.setDate(r.getDate()-a*7),Ye(r,n==null?void 0:n.in)}class tx extends Mt{constructor(){super(...arguments);Re(this,"priority",100);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,a){switch(r){case"w":return ln(pn.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return hn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a,s){return Wr(ex(n,a,s),s)}}function nx(e,t,n){const r=Ye(e,n==null?void 0:n.in),a=Lh(r,n)-t;return r.setDate(r.getDate()-a*7),r}class rx extends Mt{constructor(){super(...arguments);Re(this,"priority",100);Re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,a){switch(r){case"I":return ln(pn.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return hn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a){return ki(nx(n,a))}}const ax=[31,28,31,30,31,30,31,31,30,31,30,31],sx=[31,29,31,30,31,30,31,31,30,31,30,31];class ix extends Mt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"subPriority",1);Re(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"d":return ln(pn.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return hn(r.length,n)}}validate(n,r){const a=n.getFullYear(),s=Ib(a),i=n.getMonth();return s?r>=1&&r<=sx[i]:r>=1&&r<=ax[i]}set(n,r,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class ox extends Mt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"subpriority",1);Re(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,a){switch(r){case"D":case"DD":return ln(pn.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return hn(r.length,n)}}validate(n,r){const a=n.getFullYear();return Ib(a)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function Fh(e,t,n){var f,m,h,g,v,_,E,C;const r=Ys(),a=(C=(E=(g=(h=n==null?void 0:n.weekStartsOn)!=null?h:(m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)!=null?g:r.weekStartsOn)!=null?E:(_=(v=r.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)!=null?C:0,s=Ye(e,n==null?void 0:n.in),i=s.getDay(),c=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(i+u)%7:(c+u)%7-(i+u)%7;return Br(s,d,n)}class lx extends Mt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,s){return n=Fh(n,a,s),n.setHours(0,0,0,0),n}}class cx extends Mt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,a,s){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return gn(hn(r.length,n),i);case"eo":return gn(a.ordinalNumber(n,{unit:"day"}),i);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,s){return n=Fh(n,a,s),n.setHours(0,0,0,0),n}}class ux extends Mt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,a,s){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return gn(hn(r.length,n),i);case"co":return gn(a.ordinalNumber(n,{unit:"day"}),i);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,s){return n=Fh(n,a,s),n.setHours(0,0,0,0),n}}function dx(e,t,n){const r=Ye(e,n==null?void 0:n.in),a=BD(r,n),s=t-a;return Br(r,s,n)}class fx extends Mt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,a){const s=i=>i===0?7:i;switch(r){case"i":case"ii":return hn(r.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return gn(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return gn(a.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return gn(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return gn(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,a){return n=dx(n,a),n.setHours(0,0,0,0),n}}class hx extends Mt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(Mh(a),0,0,0),n}}class mx extends Mt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(Mh(a),0,0,0),n}}class px extends Mt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(Mh(a),0,0,0),n}}class gx extends Mt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,a){switch(r){case"h":return ln(pn.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return hn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,a){const s=n.getHours()>=12;return s&&a<12?n.setHours(a+12,0,0,0):!s&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class yx extends Mt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,a){switch(r){case"H":return ln(pn.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return hn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,a){return n.setHours(a,0,0,0),n}}class vx extends Mt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,a){switch(r){case"K":return ln(pn.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return hn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class bx extends Mt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,a){switch(r){case"k":return ln(pn.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return hn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,a){const s=a<=24?a%24:a;return n.setHours(s,0,0,0),n}}class Ex extends Mt{constructor(){super(...arguments);Re(this,"priority",60);Re(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"m":return ln(pn.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return hn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setMinutes(a,0,0),n}}class _x extends Mt{constructor(){super(...arguments);Re(this,"priority",50);Re(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"s":return ln(pn.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return hn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setSeconds(a,0),n}}class wx extends Mt{constructor(){super(...arguments);Re(this,"priority",30);Re(this,"incompatibleTokens",["t","T"])}parse(n,r){const a=s=>Math.trunc(s*Math.pow(10,-r.length+3));return gn(hn(r.length,n),a)}set(n,r,a){return n.setMilliseconds(a),n}}class Cx extends Mt{constructor(){super(...arguments);Re(this,"priority",10);Re(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return ia(sa.basicOptionalMinutes,n);case"XX":return ia(sa.basic,n);case"XXXX":return ia(sa.basicOptionalSeconds,n);case"XXXXX":return ia(sa.extendedOptionalSeconds,n);case"XXX":default:return ia(sa.extended,n)}}set(n,r,a){return r.timestampIsSet?n:Wt(n,n.getTime()-Ac(n)-a)}}class Tx extends Mt{constructor(){super(...arguments);Re(this,"priority",10);Re(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return ia(sa.basicOptionalMinutes,n);case"xx":return ia(sa.basic,n);case"xxxx":return ia(sa.basicOptionalSeconds,n);case"xxxxx":return ia(sa.extendedOptionalSeconds,n);case"xxx":default:return ia(sa.extended,n)}}set(n,r,a){return r.timestampIsSet?n:Wt(n,n.getTime()-Ac(n)-a)}}class Sx extends Mt{constructor(){super(...arguments);Re(this,"priority",40);Re(this,"incompatibleTokens","*")}parse(n){return Pb(n)}set(n,r,a){return[Wt(n,a*1e3),{timestampIsSet:!0}]}}class Nx extends Mt{constructor(){super(...arguments);Re(this,"priority",20);Re(this,"incompatibleTokens","*")}parse(n){return Pb(n)}set(n,r,a){return[Wt(n,a),{timestampIsSet:!0}]}}const kx={G:new zD,y:new VD,Y:new qD,R:new jD,u:new KD,Q:new QD,q:new XD,M:new JD,L:new ZD,w:new tx,I:new rx,d:new ix,D:new ox,E:new lx,e:new cx,c:new ux,i:new fx,a:new hx,b:new mx,B:new px,h:new gx,H:new yx,K:new vx,k:new bx,m:new Ex,s:new _x,S:new wx,X:new Cx,x:new Tx,t:new Sx,T:new Nx},Dx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ax=/^'([^]*?)'?$/,Px=/''/g,Ox=/\S/,Ix=/[a-zA-Z]/;function Lx(e,t,n,r){var _,E,C,w,S,N,T,k,I,A,x,D,P,M,R,F,U,$;const a=()=>Wt((r==null?void 0:r.in)||n,NaN),s=FD(),i=(E=(_=r==null?void 0:r.locale)!=null?_:s.locale)!=null?E:Sb,l=(A=(I=(N=(S=r==null?void 0:r.firstWeekContainsDate)!=null?S:(w=(C=r==null?void 0:r.locale)==null?void 0:C.options)==null?void 0:w.firstWeekContainsDate)!=null?N:s.firstWeekContainsDate)!=null?I:(k=(T=s.locale)==null?void 0:T.options)==null?void 0:k.firstWeekContainsDate)!=null?A:1,c=($=(U=(M=(P=r==null?void 0:r.weekStartsOn)!=null?P:(D=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:D.weekStartsOn)!=null?M:s.weekStartsOn)!=null?U:(F=(R=s.locale)==null?void 0:R.options)==null?void 0:F.weekStartsOn)!=null?$:0;if(!t)return e?a():Ye(n,r==null?void 0:r.in);const u={firstWeekContainsDate:l,weekStartsOn:c,locale:i},d=[new YD(r==null?void 0:r.in,n)],f=t.match(xx).map(H=>{const K=H[0];if(K in Mf){const L=Mf[K];return L(H,i.formatLong)}return H}).join("").match(Dx),m=[];for(let H of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&xb(H)&&Ff(H,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Db(H)&&Ff(H,t,e);const K=H[0],L=kx[K];if(L){const{incompatibleTokens:le}=L;if(Array.isArray(le)){const O=m.find(ee=>le.includes(ee.token)||ee.token===K);if(O)throw new RangeError("The format string mustn't contain `".concat(O.fullToken,"` and `").concat(H,"` at the same time"))}else if(L.incompatibleTokens==="*"&&m.length>0)throw new RangeError("The format string mustn't contain `".concat(H,"` and any other token at the same time"));m.push({token:K,fullToken:H});const q=L.run(e,H,i.match,u);if(!q)return a();d.push(q.setter),e=q.rest}else{if(K.match(Ix))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");if(H==="''"?H="'":K==="'"&&(H=Rx(H)),e.indexOf(H)===0)e=e.slice(H.length);else return a()}}if(e.length>0&&Ox.test(e))return a();const h=d.map(H=>H.priority).sort((H,K)=>K-H).filter((H,K,L)=>L.indexOf(H)===K).map(H=>d.filter(K=>K.priority===H).sort((K,L)=>L.subPriority-K.subPriority)).map(H=>H[0]);let g=Ye(n,r==null?void 0:r.in);if(isNaN(+g))return a();const v={};for(const H of h){if(!H.validate(g,u))return a();const K=H.set(g,v,u);Array.isArray(K)?(g=K[0],Object.assign(v,K[1])):g=K}return g}function Rx(e){return e.match(Ax)[1].replace(Px,"'")}function Xp(e,t,n){const[r,a]=va(n==null?void 0:n.in,e,t);return+Wr(r,n)==+Wr(a,n)}function Mx(e,t,n){const[r,a]=va(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function Fx(e,t,n){const[r,a]=va(n==null?void 0:n.in,e,t);return+Rf(r)==+Rf(a)}function Bx(e,t,n){const[r,a]=va(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()}function Po(e,t,n){const r=+Ye(e,n==null?void 0:n.in),[a,s]=[+Ye(t.start,n==null?void 0:n.in),+Ye(t.end,n==null?void 0:n.in)].sort((i,l)=>i-l);return r>=a&&r<=s}function Ux(e,t,n){return Br(e,-t,n)}function uo(e,t){var u;const n=()=>Wt(t==null?void 0:t.in,NaN),r=(u=t==null?void 0:t.additionalDigits)!=null?u:2,a=Wx(e);let s;if(a.date){const d=Yx(a.date,r);s=zx(d.restDateString,d.year)}if(!s||isNaN(+s))return n();const i=+s;let l=0,c;if(a.time&&(l=Vx(a.time),isNaN(l)))return n();if(a.timezone){if(c=qx(a.timezone),isNaN(c))return n()}else{const d=new Date(i+l),f=Ye(0,t==null?void 0:t.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Ye(i+l+c,t==null?void 0:t.in)}const Ol={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Hx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Gx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$x=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Wx(e){const t={},n=e.split(Ol.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Ol.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ol.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Ol.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function Yx(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function zx(e,t){if(t===null)return new Date(NaN);const n=e.match(Hx);if(!n)return new Date(NaN);const r=!!n[4],a=to(n[1]),s=to(n[2])-1,i=to(n[3]),l=to(n[4]),c=to(n[5])-1;if(r)return Jx(t,l,c)?jx(t,l,c):new Date(NaN);{const u=new Date(0);return!Qx(t,s,i)||!Xx(t,a)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(a,i)),u)}}function to(e){return e?parseInt(e):1}function Vx(e){const t=e.match(Gx);if(!t)return NaN;const n=bd(t[1]),r=bd(t[2]),a=bd(t[3]);return Zx(n,r,a)?n*yu+r*gu+a*1e3:NaN}function bd(e){return e&&parseFloat(e.replace(",","."))||0}function qx(e){if(e==="Z")return 0;const t=e.match($x);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return eA(r,a)?n*(r*yu+a*gu):NaN}function jx(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,s=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const Kx=[31,null,31,30,31,30,31,31,30,31,30,31];function Lb(e){return e%400===0||e%4===0&&e%100!==0}function Qx(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Kx[t]||(Lb(e)?29:28))}function Xx(e,t){return t>=1&&t<=(Lb(e)?366:365)}function Jx(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Zx(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function eA(e,t){return t>=0&&t<=59}function yr(e,t,n){const r=Ye(e,n==null?void 0:n.in),a=r.getFullYear(),s=r.getDate(),i=Wt((n==null?void 0:n.in)||e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const l=MD(i);return r.setMonth(t,Math.min(s,l)),r}function ic(e,t,n){const r=Ye(e,n==null?void 0:n.in);return r.setHours(t),r}function oc(e,t,n){const r=Ye(e,n==null?void 0:n.in);return r.setMinutes(t),r}function li(e,t,n){const r=Ye(e,n==null?void 0:n.in),a=Math.trunc(r.getMonth()/3)+1,s=t-a;return yr(r,r.getMonth()+s*3)}function lc(e,t,n){const r=Ye(e,n==null?void 0:n.in);return r.setSeconds(t),r}function Jr(e,t,n){const r=Ye(e,n==null?void 0:n.in);return isNaN(+r)?Wt((n==null?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function ks(e,t,n){return $r(e,-t,n)}function Rb(e,t,n){return Ih(e,-t,n)}function Jp(e,t,n){return Pc(e,-t,n)}function xi(e,t,n){return Ia(e,-t,n)}function no(e,t){if(e.one!==void 0&&t===1)return e.one;const n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Gn(e){return(t,n)=>n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?no(e.future,t):"через "+no(e.regular,t):e.past?no(e.past,t):no(e.regular,t)+" назад":no(e.regular,t)}const tA={lessThanXSeconds:Gn({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:Gn({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(e,t)=>t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:Gn({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:Gn({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:Gn({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:Gn({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:Gn({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:Gn({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:Gn({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:Gn({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:Gn({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:Gn({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:Gn({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:Gn({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:Gn({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},nA=(e,t,n)=>tA[e](t,n),rA={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},aA={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},sA={any:"{{date}}, {{time}}"},iA={date:pi({formats:rA,defaultWidth:"full"}),time:pi({formats:aA,defaultWidth:"full"}),dateTime:pi({formats:sA,defaultWidth:"any"})},Bh=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function oA(e){const t=Bh[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function Zp(e){const t=Bh[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function lA(e){const t=Bh[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}const cA={lastWeek:(e,t,n)=>{const r=e.getDay();return Xp(e,t,n)?Zp(r):oA(r)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(e,t,n)=>{const r=e.getDay();return Xp(e,t,n)?Zp(r):lA(r)},other:"P"},uA=(e,t,n,r)=>{const a=cA[e];return typeof a=="function"?a(t,n,r):a},dA={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},fA={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},hA={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},mA={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},pA={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},gA={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},yA={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},vA=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;let a;return r==="date"?a="-е":r==="week"||r==="minute"||r==="second"?a="-я":a="-й",n+a},bA={ordinalNumber:vA,era:ra({values:dA,defaultWidth:"wide"}),quarter:ra({values:fA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ra({values:hA,defaultWidth:"wide",formattingValues:mA,defaultFormattingWidth:"wide"}),day:ra({values:pA,defaultWidth:"wide"}),dayPeriod:ra({values:gA,defaultWidth:"any",formattingValues:yA,defaultFormattingWidth:"wide"})},EA=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,_A=/\d+/i,wA={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},CA={any:[/^д/i,/^н/i]},TA={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},SA={any:[/1/i,/2/i,/3/i,/4/i]},NA={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},kA={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},DA={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},xA={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},AA={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},PA={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},OA={ordinalNumber:Tb({matchPattern:EA,parsePattern:_A,valueCallback:e=>parseInt(e,10)}),era:aa({matchPatterns:wA,defaultMatchWidth:"wide",parsePatterns:CA,defaultParseWidth:"any"}),quarter:aa({matchPatterns:TA,defaultMatchWidth:"wide",parsePatterns:SA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:aa({matchPatterns:NA,defaultMatchWidth:"wide",parsePatterns:kA,defaultParseWidth:"any"}),day:aa({matchPatterns:DA,defaultMatchWidth:"wide",parsePatterns:xA,defaultParseWidth:"any"}),dayPeriod:aa({matchPatterns:AA,defaultMatchWidth:"wide",parsePatterns:PA,defaultParseWidth:"any"})},Uh={code:"ru",formatDistance:nA,formatLong:iA,formatRelative:uA,localize:bA,match:OA,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Mb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Mb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Mb(e))&&(r&&(r+=" "),r+=t);return r}function bu(){return typeof window<"u"}function Wi(e){return Fb(e)?(e.nodeName||"").toLowerCase():"#document"}function ur(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ba(e){var t;return(t=(Fb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Fb(e){return bu()?e instanceof Node||e instanceof ur(e).Node:!1}function Yn(e){return bu()?e instanceof Element||e instanceof ur(e).Element:!1}function ya(e){return bu()?e instanceof HTMLElement||e instanceof ur(e).HTMLElement:!1}function eg(e){return!bu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ur(e).ShadowRoot}const IA=new Set(["inline","contents"]);function Vo(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Dr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!IA.has(a)}const LA=new Set(["table","td","th"]);function RA(e){return LA.has(Wi(e))}const MA=[":popover-open",":modal"];function Eu(e){return MA.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const FA=["transform","translate","scale","rotate","perspective"],BA=["transform","translate","scale","rotate","perspective","filter"],UA=["paint","layout","strict","content"];function Hh(e){const t=Gh(),n=Yn(e)?Dr(e):e;return FA.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||BA.some(r=>(n.willChange||"").includes(r))||UA.some(r=>(n.contain||"").includes(r))}function HA(e){let t=is(e);for(;ya(t)&&!Ai(t);){if(Hh(t))return t;if(Eu(t))return null;t=is(t)}return null}function Gh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GA=new Set(["html","body","#document"]);function Ai(e){return GA.has(Wi(e))}function Dr(e){return ur(e).getComputedStyle(e)}function _u(e){return Yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function is(e){if(Wi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eg(e)&&e.host||ba(e);return eg(t)?t.host:t}function Bb(e){const t=is(e);return Ai(t)?e.ownerDocument?e.ownerDocument.body:e.body:ya(t)&&Vo(t)?t:Bb(t)}function Oo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=Bb(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),i=ur(a);if(s){const l=Uf(i);return t.concat(i,i.visualViewport||[],Vo(a)?a:[],l&&n?Oo(l):[])}return t.concat(a,Oo(a,[],n))}function Uf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Pi=Math.min,Ds=Math.max,Fc=Math.round,Il=Math.floor,ma=e=>({x:e,y:e}),$A={left:"right",right:"left",bottom:"top",top:"bottom"},WA={start:"end",end:"start"};function YA(e,t,n){return Ds(e,Pi(t,n))}function wu(e,t){return typeof e=="function"?e(t):e}function Oi(e){return e.split("-")[0]}function qo(e){return e.split("-")[1]}function zA(e){return e==="x"?"y":"x"}function $h(e){return e==="y"?"height":"width"}const VA=new Set(["top","bottom"]);function ws(e){return VA.has(Oi(e))?"y":"x"}function Wh(e){return zA(ws(e))}function qA(e,t,n){n===void 0&&(n=!1);const r=qo(e),a=Wh(e),s=$h(a);let i=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Bc(i)),[i,Bc(i)]}function jA(e){const t=Bc(e);return[Hf(e),t,Hf(t)]}function Hf(e){return e.replace(/start|end/g,t=>WA[t])}const tg=["left","right"],ng=["right","left"],KA=["top","bottom"],QA=["bottom","top"];function XA(e,t,n){switch(e){case"top":case"bottom":return n?t?ng:tg:t?tg:ng;case"left":case"right":return t?KA:QA;default:return[]}}function JA(e,t,n,r){const a=qo(e);let s=XA(Oi(e),n==="start",r);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(Hf)))),s}function Bc(e){return e.replace(/left|right|bottom|top/g,t=>$A[t])}function ZA(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ub(e){return typeof e!="number"?ZA(e):{top:e,right:e,bottom:e,left:e}}function Uc(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var e2=typeof document<"u",t2=function(){},Hc=e2?y.useLayoutEffect:t2;const n2={...zy},r2=n2.useInsertionEffect,a2=r2||(e=>e());function s2(e){const t=y.useRef(()=>{});return a2(()=>{t.current=e}),y.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function rg(e,t,n){let{reference:r,floating:a}=e;const s=ws(t),i=Wh(t),l=$h(i),c=Oi(t),u=s==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,m=r[l]/2-a[l]/2;let h;switch(c){case"top":h={x:d,y:r.y-a.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-a.width,y:f};break;default:h={x:r.x,y:r.y}}switch(qo(t)){case"start":h[i]-=m*(n&&u?-1:1);break;case"end":h[i]+=m*(n&&u?-1:1);break}return h}const i2=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:i}=n,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=rg(u,r,c),m=r,h={},g=0;for(let v=0;v<l.length;v++){const{name:_,fn:E}=l[v],{x:C,y:w,data:S,reset:N}=await E({x:d,y:f,initialPlacement:r,placement:m,strategy:a,middlewareData:h,rects:u,platform:i,elements:{reference:e,floating:t}});d=C!=null?C:d,f=w!=null?w:f,h={...h,[_]:{...h[_],...S}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=rg(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:h}};async function o2(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=wu(t,e),g=Ub(h),_=l[m?f==="floating"?"reference":"floating":f],E=Uc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),C=f==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),S=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Uc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:w,strategy:c}):C);return{top:(E.top-N.top+g.top)/S.y,bottom:(N.bottom-E.bottom+g.bottom)/S.y,left:(E.left-N.left+g.left)/S.x,right:(N.right-E.right+g.right)/S.x}}const l2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=wu(e,t)||{};if(u==null)return{};const f=Ub(d),m={x:n,y:r},h=Wh(a),g=$h(h),v=await i.getDimensions(u),_=h==="y",E=_?"top":"left",C=_?"bottom":"right",w=_?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[h]-m[h]-s.floating[g],N=m[h]-s.reference[h],T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=T?T[w]:0;(!k||!await(i.isElement==null?void 0:i.isElement(T)))&&(k=l.floating[w]||s.floating[g]);const I=S/2-N/2,A=k/2-v[g]/2-1,x=Pi(f[E],A),D=Pi(f[C],A),P=x,M=k-v[g]-D,R=k/2-v[g]/2+I,F=YA(P,R,M),U=!c.arrow&&qo(a)!=null&&R!==F&&s.reference[g]/2-(R<P?x:D)-v[g]/2<0,$=U?R<P?R-P:R-M:0;return{[h]:m[h]+$,data:{[h]:F,centerOffset:R-F-$,...U&&{alignmentOffset:$}},reset:U}}}),c2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,..._}=wu(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Oi(a),C=ws(l),w=Oi(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(w||!v?[Bc(l)]:jA(l)),T=g!=="none";!m&&T&&N.push(...JA(l,v,g,S));const k=[l,...N],I=await o2(t,_),A=[];let x=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(I[E]),f){const R=qA(a,i,S);A.push(I[R[0]],I[R[1]])}if(x=[...x,{placement:a,overflows:A}],!A.every(R=>R<=0)){var D,P;const R=(((D=s.flip)==null?void 0:D.index)||0)+1,F=k[R];if(F&&(!(f==="alignment"?C!==ws(F):!1)||x.every(H=>ws(H.placement)===C?H.overflows[0]>0:!0)))return{data:{index:R,overflows:x},reset:{placement:F}};let U=(P=x.filter($=>$.overflows[0]<=0).sort(($,H)=>$.overflows[1]-H.overflows[1])[0])==null?void 0:P.placement;if(!U)switch(h){case"bestFit":{var M;const $=(M=x.filter(H=>{if(T){const K=ws(H.placement);return K===C||K==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(K=>K>0).reduce((K,L)=>K+L,0)]).sort((H,K)=>H[1]-K[1])[0])==null?void 0:M[0];$&&(U=$);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}},u2=new Set(["left","top"]);async function d2(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=Oi(n),l=qo(n),c=ws(n)==="y",u=u2.has(i)?-1:1,d=s&&c?-1:1,f=wu(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const f2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await d2(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}};function Hb(e){const t=Dr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=ya(e),s=a?e.offsetWidth:n,i=a?e.offsetHeight:r,l=Fc(n)!==s||Fc(r)!==i;return l&&(n=s,r=i),{width:n,height:r,$:l}}function Yh(e){return Yn(e)?e:e.contextElement}function gi(e){const t=Yh(e);if(!ya(t))return ma(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=Hb(t);let i=(s?Fc(n.width):n.width)/r,l=(s?Fc(n.height):n.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const h2=ma(0);function Gb(e){const t=ur(e);return!Gh()||!t.visualViewport?h2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function m2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ur(e)?!1:t}function Rs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=Yh(e);let i=ma(1);t&&(r?Yn(r)&&(i=gi(r)):i=gi(e));const l=m2(s,n,r)?Gb(s):ma(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=ur(s),h=r&&Yn(r)?ur(r):r;let g=m,v=Uf(g);for(;v&&r&&h!==g;){const _=gi(v),E=v.getBoundingClientRect(),C=Dr(v),w=E.left+(v.clientLeft+parseFloat(C.paddingLeft))*_.x,S=E.top+(v.clientTop+parseFloat(C.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,f*=_.y,c+=w,u+=S,g=ur(v),v=Uf(g)}}return Uc({width:d,height:f,x:c,y:u})}function Cu(e,t){const n=_u(e).scrollLeft;return t?t.left+n:Rs(ba(e)).left+n}function $b(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Cu(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function p2(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",i=ba(r),l=t?Eu(t.floating):!1;if(r===i||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=ma(1);const d=ma(0),f=ya(r);if((f||!f&&!s)&&((Wi(r)!=="body"||Vo(i))&&(c=_u(r)),ya(r))){const h=Rs(r);u=gi(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const m=i&&!f&&!s?$b(i,c):ma(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function g2(e){return Array.from(e.getClientRects())}function y2(e){const t=ba(e),n=_u(e),r=e.ownerDocument.body,a=Ds(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ds(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Cu(e);const l=-n.scrollTop;return Dr(r).direction==="rtl"&&(i+=Ds(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:i,y:l}}const ag=25;function v2(e,t){const n=ur(e),r=ba(e),a=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const d=Gh();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Cu(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-h);g<=ag&&(s-=g)}else u<=ag&&(s+=u);return{width:s,height:i,x:l,y:c}}const b2=new Set(["absolute","fixed"]);function E2(e,t){const n=Rs(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=ya(e)?gi(e):ma(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=r*s.y;return{width:i,height:l,x:c,y:u}}function sg(e,t,n){let r;if(t==="viewport")r=v2(e,n);else if(t==="document")r=y2(ba(e));else if(Yn(t))r=E2(t,n);else{const a=Gb(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Uc(r)}function Wb(e,t){const n=is(e);return n===t||!Yn(n)||Ai(n)?!1:Dr(n).position==="fixed"||Wb(n,t)}function _2(e,t){const n=t.get(e);if(n)return n;let r=Oo(e,[],!1).filter(l=>Yn(l)&&Wi(l)!=="body"),a=null;const s=Dr(e).position==="fixed";let i=s?is(e):e;for(;Yn(i)&&!Ai(i);){const l=Dr(i),c=Hh(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&b2.has(a.position)||Vo(i)&&!c&&Wb(e,i))?r=r.filter(d=>d!==i):a=l,i=is(i)}return t.set(e,r),r}function w2(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const i=[...n==="clippingAncestors"?Eu(t)?[]:_2(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=sg(t,d,a);return u.top=Ds(f.top,u.top),u.right=Pi(f.right,u.right),u.bottom=Pi(f.bottom,u.bottom),u.left=Ds(f.left,u.left),u},sg(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function C2(e){const{width:t,height:n}=Hb(e);return{width:t,height:n}}function T2(e,t,n){const r=ya(t),a=ba(t),s=n==="fixed",i=Rs(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=ma(0);function u(){c.x=Cu(a)}if(r||!r&&!s)if((Wi(t)!=="body"||Vo(a))&&(l=_u(t)),r){const h=Rs(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&u();s&&!r&&a&&u();const d=a&&!r&&!s?$b(a,l):ma(0),f=i.left+l.scrollLeft-c.x-d.x,m=i.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function Ed(e){return Dr(e).position==="static"}function ig(e,t){if(!ya(e)||Dr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ba(e)===n&&(n=n.ownerDocument.body),n}function Yb(e,t){const n=ur(e);if(Eu(e))return n;if(!ya(e)){let a=is(e);for(;a&&!Ai(a);){if(Yn(a)&&!Ed(a))return a;a=is(a)}return n}let r=ig(e,t);for(;r&&RA(r)&&Ed(r);)r=ig(r,t);return r&&Ai(r)&&Ed(r)&&!Hh(r)?n:r||HA(e)||n}const S2=async function(e){const t=this.getOffsetParent||Yb,n=this.getDimensions,r=await n(e.floating);return{reference:T2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function N2(e){return Dr(e).direction==="rtl"}const k2={convertOffsetParentRelativeRectToViewportRelativeRect:p2,getDocumentElement:ba,getClippingRect:w2,getOffsetParent:Yb,getElementRects:S2,getClientRects:g2,getDimensions:C2,getScale:gi,isElement:Yn,isRTL:N2};function zb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function D2(e,t){let n=null,r;const a=ba(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||t(),!m||!h)return;const g=Il(f),v=Il(a.clientWidth-(d+m)),_=Il(a.clientHeight-(f+h)),E=Il(d),w={rootMargin:-g+"px "+-v+"px "+-_+"px "+-E+"px",threshold:Ds(0,Pi(1,c))||1};let S=!0;function N(T){const k=T[0].intersectionRatio;if(k!==c){if(!S)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!zb(u,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch(T){n=new IntersectionObserver(N,w)}n.observe(e)}return i(!0),s}function x2(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Yh(e),d=a||s?[...u?Oo(u):[],...Oo(t)]:[];d.forEach(E=>{a&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const f=u&&l?D2(u,n):null;let m=-1,h=null;i&&(h=new ResizeObserver(E=>{let[C]=E;C&&C.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let g,v=c?Rs(e):null;c&&_();function _(){const E=Rs(e);v&&!zb(v,E)&&n(),v=E,g=requestAnimationFrame(_)}return n(),()=>{var E;d.forEach(C=>{a&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),f==null||f(),(E=h)==null||E.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const A2=f2,P2=c2,og=l2,O2=(e,t,n)=>{const r=new Map,a={platform:k2,...n},s={...a.platform,_c:r};return i2(e,t,{...a,platform:s})};var I2=typeof document<"u",L2=function(){},cc=I2?y.useLayoutEffect:L2;function Gc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Gc(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!Gc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Vb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lg(e,t){const n=Vb(e);return Math.round(t*n)/n}function _d(e){const t=y.useRef(e);return cc(()=>{t.current=e}),t}function R2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=y.useState(r);Gc(m,r)||h(r);const[g,v]=y.useState(null),[_,E]=y.useState(null),C=y.useCallback(H=>{H!==T.current&&(T.current=H,v(H))},[]),w=y.useCallback(H=>{H!==k.current&&(k.current=H,E(H))},[]),S=s||g,N=i||_,T=y.useRef(null),k=y.useRef(null),I=y.useRef(d),A=c!=null,x=_d(c),D=_d(a),P=_d(u),M=y.useCallback(()=>{if(!T.current||!k.current)return;const H={placement:t,strategy:n,middleware:m};D.current&&(H.platform=D.current),O2(T.current,k.current,H).then(K=>{const L={...K,isPositioned:P.current!==!1};R.current&&!Gc(I.current,L)&&(I.current=L,rs.flushSync(()=>{f(L)}))})},[m,t,n,D,P]);cc(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[u]);const R=y.useRef(!1);cc(()=>(R.current=!0,()=>{R.current=!1}),[]),cc(()=>{if(S&&(T.current=S),N&&(k.current=N),S&&N){if(x.current)return x.current(S,N,M);M()}},[S,N,M,x,A]);const F=y.useMemo(()=>({reference:T,floating:k,setReference:C,setFloating:w}),[C,w]),U=y.useMemo(()=>({reference:S,floating:N}),[S,N]),$=y.useMemo(()=>{const H={position:n,left:0,top:0};if(!U.floating)return H;const K=lg(U.floating,d.x),L=lg(U.floating,d.y);return l?{...H,transform:"translate("+K+"px, "+L+"px)",...Vb(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:L}},[n,l,U.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:M,refs:F,elements:U,floatingStyles:$}),[d,M,F,U,$])}const M2=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?og({element:r.current,padding:a}).fn(n):{}:r?og({element:r,padding:a}).fn(n):{}}}},F2=(e,t)=>({...A2(e),options:[e,t]}),B2=(e,t)=>({...P2(e),options:[e,t]}),U2=(e,t)=>({...M2(e),options:[e,t]}),H2={...zy};let cg=!1,G2=0;const ug=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+G2++;function $2(){const[e,t]=y.useState(()=>cg?ug():void 0);return Hc(()=>{e==null&&t(ug())},[]),y.useEffect(()=>{cg=!0},[]),e}const W2=H2.useId,qb=W2||$2,Y2=y.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:s,shift:i}},width:l=14,height:c=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:m,d:h,style:{transform:g,...v}={},..._}=t,E=qb(),[C,w]=y.useState(!1);if(Hc(()=>{if(!a)return;Dr(a).direction==="rtl"&&w(!0)},[a]),!a)return null;const[S,N]=r.split("-"),T=S==="top"||S==="bottom";let k=f;(T&&i!=null&&i.x||!T&&i!=null&&i.y)&&(k=null);const I=d*2,A=I/2,x=l/2*(u/-8+1),D=c/2*u/4,P=!!h,M=k&&N==="end"?"bottom":"top";let R=k&&N==="end"?"right":"left";k&&C&&(R=N==="end"?"left":"right");const F=(s==null?void 0:s.x)!=null?k||s.x:"",U=(s==null?void 0:s.y)!=null?k||s.y:"",$=h||"M0,0"+(" H"+l)+(" L"+(l-x)+","+(c-D))+(" Q"+l/2+","+c+" "+x+","+(c-D))+" Z",H={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[S];return p("svg",{..._,"aria-hidden":!0,ref:n,width:P?l:l+I,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[R]:F,[M]:U,[S]:T||P?"100%":"calc(100% - "+I/2+"px)",transform:[H,g].filter(K=>!!K).join(" "),...v},children:[I>0&&o("path",{clipPath:"url(#"+E+")",fill:"none",stroke:m,strokeWidth:I+(h?0:1),d:$}),o("path",{stroke:I&&!h?_.fill:"none",d:$}),o("clipPath",{id:E,children:o("rect",{x:-A,y:A*(P?-1:1),width:l+I,height:l})})]})});function z2(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(a=>a(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const V2=y.createContext(null),q2=y.createContext(null),j2=()=>{var e;return((e=y.useContext(V2))==null?void 0:e.id)||null},K2=()=>y.useContext(q2);function Q2(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=qb(),s=y.useRef({}),[i]=y.useState(()=>z2()),l=j2()!=null,[c,u]=y.useState(r.reference),d=s2((h,g,v)=>{s.current.openEvent=h?g:void 0,i.emit("openchange",{open:h,event:g,reason:v,nested:l}),n==null||n(h,g,v)}),f=y.useMemo(()=>({setPositionReference:u}),[]),m=y.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return y.useMemo(()=>({dataRef:s,open:t,onOpenChange:d,elements:m,events:i,floatingId:a,refs:f}),[t,d,m,i,a,f])}function X2(e){e===void 0&&(e={});const{nodeId:t}=e,n=Q2({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[s,i]=y.useState(null),[l,c]=y.useState(null),d=(a==null?void 0:a.domReference)||s,f=y.useRef(null),m=K2();Hc(()=>{d&&(f.current=d)},[d]);const h=R2({...e,elements:{...a,...l&&{reference:l}}}),g=y.useCallback(w=>{const S=Yn(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),getClientRects:()=>w.getClientRects(),contextElement:w}:w;c(S),h.refs.setReference(S)},[h.refs]),v=y.useCallback(w=>{(Yn(w)||w===null)&&(f.current=w,i(w)),(Yn(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!Yn(w))&&h.refs.setReference(w)},[h.refs]),_=y.useMemo(()=>({...h.refs,setReference:v,setPositionReference:g,domReference:f}),[h.refs,v,g]),E=y.useMemo(()=>({...h.elements,domReference:d}),[h.elements,d]),C=y.useMemo(()=>({...h,...r,refs:_,elements:E,nodeId:t}),[h,_,E,t,r]);return Hc(()=>{r.dataRef.current.floatingContext=C;const w=m==null?void 0:m.nodesRef.current.find(S=>S.id===t);w&&(w.context=C)}),y.useMemo(()=>({...h,context:C,refs:_,elements:E}),[h,_,E,C])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Gf=function(t,n){return Gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},Gf(t,n)};function An(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var wt=function(){return wt=Object.assign||function(n){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},wt.apply(this,arguments)};function ca(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var J2=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,a=r===void 0?!1:r,s=e.className,i=e.children,l=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return Z.createElement("div",{className:s,role:"dialog","aria-label":l,"aria-modal":"true"},i)},Z2=function(e,t){var n=y.useRef(null),r=y.useRef(e);r.current=e;var a=y.useCallback(function(s){var i,l=s.composed&&s.composedPath&&s.composedPath().find(function(c){return c instanceof Node})||s.target;n.current&&!n.current.contains(l)&&(t&&l instanceof HTMLElement&&l.classList.contains(t)||(i=r.current)===null||i===void 0||i.call(r,s))},[t]);return y.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},Tu=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,s=e.style,i=e.ignoreClass,l=Z2(n,i);return Z.createElement("div",{className:r,style:s,ref:function(c){l.current=c,a&&(a.current=c)}},t)},Me;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Me||(Me={}));function zh(){var e=typeof window<"u"?window:globalThis;return e}var jo=12;function Ut(e){if(e==null)return new Date;var t=typeof e=="string"?uo(e):Ye(e);return Su(t)?t:new Date}function wd(e,t,n,r,a){a===void 0&&(a=Ut());for(var s=Ii(n)||Ii(Vh()),i=Array.isArray(t)?t:[t],l=0,c=i;l<c.length;l++){var u=c[l],d=Lx(e,u,a,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(Su(d)&&(!r||e===en(d,u,n)))return d}return null}function Su(e,t){return Oc(e)&&!la(e,new Date("1/1/1800"))}function en(e,t,n){if(n==="en")return ga(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ii(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Ii(Vh()),ga(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function gr(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&en(e,a,r)||""}var jb=" - ";function eP(e,t,n){if(!e&&!t)return"";var r=e?gr(e,n):"",a=t?gr(t,n):"",s=n.rangeSeparator||jb;return"".concat(r).concat(s).concat(a)}function tP(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?gr(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=gr(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}function Cd(e,t){var n=t.hour,r=n===void 0?0:n,a=t.minute,s=a===void 0?0:a,i=t.second,l=i===void 0?0:i;return ic(oc(lc(e,l),s),r)}function nP(e){return Lh(e)}function rP(e,t){return en(e,"ddd",t)}function uc(e){return Ls(e)}function ns(e,t,n){var r=Ii(t||Vh());return Wr(e,{locale:r,weekStartsOn:n})}function Fa(e){return wb(e)}function fo(e){return vu(e)}function dg(e){return Rf(e)}function fg(){return Ls(Ut())}function hg(e){return Eb(e)}function aP(e){return Yk(e)}function sP(e){return _b(e)}function Zr(e,t){return e&&t?Bx(e,t):!e&&!t}function $n(e,t){return e&&t?Mx(e,t):!e&&!t}function $c(e,t){return e&&t?Fx(e,t):!e&&!t}function _t(e,t){return e&&t?$k(e,t):!e&&!t}function Cs(e,t){return e&&t?UD(e,t):!e&&!t}function vs(e,t,n){var r,a=Ls(t),s=Eb(n);try{r=Po(e,{start:a,end:s})}catch(i){r=!1}return r}function iP(e,t){var n=zh();n.__localeData__||(n.__localeData__={}),n.__localeData__[e]=t}function Vh(){var e=zh();return e.__localeId__}function Ii(e){if(typeof e=="string"){var t=zh();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function oP(e,t,n){return t(en(e,"EEEE",n))}function lP(e,t){return en(e,"EEEEEE",t)}function cP(e,t){return en(e,"EEE",t)}function qh(e,t){return en(yr(Ut(),e),"LLLL",t)}function Kb(e,t){return en(yr(Ut(),e),"LLL",t)}function uP(e,t){return en(li(Ut(),e),"QQQ",t)}function br(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,i=n.excludeDateIntervals,l=n.includeDates,c=n.includeDateIntervals,u=n.filterDate;return Ko(e,{minDate:r,maxDate:a})||s&&s.some(function(d){return d instanceof Date?_t(e,d):_t(e,d.date)})||i&&i.some(function(d){var f=d.start,m=d.end;return Po(e,{start:f,end:m})})||l&&!l.some(function(d){return _t(e,d)})||c&&!c.some(function(d){var f=d.start,m=d.end;return Po(e,{start:f,end:m})})||u&&!u(Ut(e))||!1}function jh(e,t){var n=t===void 0?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var i=s.start,l=s.end;return Po(e,{start:i,end:l})}):r&&r.some(function(s){var i;return s instanceof Date?_t(e,s):_t(e,(i=s.date)!==null&&i!==void 0?i:new Date)})||!1}function Qb(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,i=n.includeDates,l=n.filterDate;return Ko(e,{minDate:r?wb(r):void 0,maxDate:a?_b(a):void 0})||(s==null?void 0:s.some(function(c){return $n(e,c instanceof Date?c:c.date)}))||i&&!i.some(function(c){return $n(e,c)})||l&&!l(Ut(e))||!1}function Ll(e,t,n,r){var a=gt(e),s=Ln(e),i=gt(t),l=Ln(t),c=gt(r);return a===i&&a===c?s<=n&&n<=l:a<i?c===a&&s<=n||c===i&&l>=n||c<i&&c>a:!1}function dP(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,i=n.includeDates;return Ko(e,{minDate:r,maxDate:a})||s&&s.some(function(l){return $n(l instanceof Date?l:l.date,e)})||i&&!i.some(function(l){return $n(l,e)})||!1}function Rl(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,i=n.includeDates,l=n.filterDate;return Ko(e,{minDate:r,maxDate:a})||(s==null?void 0:s.some(function(c){return $c(e,c instanceof Date?c:c.date)}))||i&&!i.some(function(c){return $c(e,c)})||l&&!l(Ut(e))||!1}function Ml(e,t,n){if(!t||!n||!Oc(t)||!Oc(n))return!1;var r=gt(t),a=gt(n);return r<=e&&a>=e}function dc(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,i=n.includeDates,l=n.filterDate,c=new Date(e,0,1);return Ko(c,{minDate:r?vu(r):void 0,maxDate:a?Cb(a):void 0})||(s==null?void 0:s.some(function(u){return Zr(c,u instanceof Date?u:u.date)}))||i&&!i.some(function(u){return Zr(c,u)})||l&&!l(Ut(c))||!1}function Fl(e,t,n,r){var a=gt(e),s=Ns(e),i=gt(t),l=Ns(t),c=gt(r);return a===i&&a===c?s<=n&&n<=l:a<i?c===a&&s<=n||c===i&&l>=n||c<i&&c>a:!1}function Ko(e,t){var n,r=t===void 0?{}:t,a=r.minDate,s=r.maxDate;return(n=a&&Di(e,a)<0||s&&Di(e,s)>0)!==null&&n!==void 0?n:!1}function mg(e,t){return t.some(function(n){return Ra(n)===Ra(e)&&Ma(n)===Ma(e)&&ts(n)===ts(e)})}function pg(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,a=n.includeTimes,s=n.filterTime;return r&&mg(e,r)||a&&!mg(e,a)||s&&!s(e)||!1}function gg(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=Ut();a=ic(a,Ra(e)),a=oc(a,Ma(e)),a=lc(a,ts(e));var s=Ut();s=ic(s,Ra(n)),s=oc(s,Ma(n)),s=lc(s,ts(n));var i=Ut();i=ic(i,Ra(r)),i=oc(i,Ma(r)),i=lc(i,ts(r));var l;try{l=!Po(a,{start:s,end:i})}catch(c){l=!1}return l}function yg(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=ks(e,1);return r&&Ic(r,s)>0||a&&a.every(function(i){return Ic(i,s)>0})||!1}function vg(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=$r(e,1);return r&&Ic(s,r)>0||a&&a.every(function(i){return Ic(s,i)>0})||!1}function fP(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=vu(e),i=Rb(s,1);return r&&Lc(r,i)>0||a&&a.every(function(l){return Lc(l,i)>0})||!1}function hP(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=Cb(e),i=Ih(s,1);return r&&Lc(i,r)>0||a&&a.every(function(l){return Lc(i,l)>0})||!1}function bg(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=xi(e,1);return r&&Rc(r,s)>0||a&&a.every(function(i){return Rc(i,s)>0})||!1}function mP(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.yearItemNumber,s=a===void 0?jo:a,i=fo(xi(e,s)),l=Aa(i,s).endPeriod,c=r&&gt(r);return c&&c>l||!1}function Eg(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=Ia(e,1);return r&&Rc(s,r)>0||a&&a.every(function(i){return Rc(s,i)>0})||!1}function pP(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.yearItemNumber,s=a===void 0?jo:a,i=Ia(e,s),l=Aa(i,s).startPeriod,c=r&&gt(r);return c&&c<l||!1}function Xb(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return Di(a,t)>=0});return Yp(r)}else return n?Yp(n):t}function Jb(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return Di(a,t)<=0});return Wp(r)}else return n?Wp(n):t}function _g(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,s=e.length;a<s;a++){var i=e[a];if(La(i)){var l=en(i,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(t)||(c.push(t),r.set(l,c))}else if(typeof i=="object"){var u=Object.keys(i),d=(n=u[0])!==null&&n!==void 0?n:"",f=i[d];if(typeof d=="string"&&Array.isArray(f))for(var m=0,h=f.length;m<h;m++){var g=f[m];if(g){var l=en(g,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(d)||(c.push(d),r.set(l,c))}}}}return r}function gP(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function yP(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var a=r.date,s=r.holidayName;if(La(a)){var i=en(a,"MM.dd.yyyy"),l=n.get(i)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===t&&gP(l.holidayNames,[s]))){l.className=t;var c=l.holidayNames;l.holidayNames=c?ca(ca([],c,!0),[s],!1):[s],n.set(i,l)}}}),n}function vP(e,t,n,r,a){for(var s=a.length,i=[],l=0;l<s;l++){var c=e,u=a[l];u&&(c=Bk(c,Ra(u)),c=Lf(c,Ma(u)),c=Gk(c,ts(u)));var d=Lf(e,(n+1)*r);ss(c,t)&&la(c,d)&&u!=null&&i.push(u)}return i}function wg(e){return e<10?"0".concat(e):"".concat(e)}function Aa(e,t){t===void 0&&(t=jo);var n=Math.ceil(gt(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function bP(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function Cg(e){var t=e.getSeconds(),n=e.getMilliseconds();return Ye(e.getTime()-t*1e3-n)}function EP(e,t){return Cg(e).getTime()===Cg(t).getTime()}function Tg(e){if(!La(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Td(e,t){if(!La(e)||!La(t))throw new Error("Invalid date received");var n=Tg(e),r=Tg(t);return la(n,r)}function Zb(e){return e.key===Me.Space}var _P=function(e){An(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=Z.createRef(),r.onTimeChange=function(a){var s,i;r.setState({time:a});var l=r.props.date,c=l instanceof Date&&!isNaN(+l),u=c?l:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),f=d[0],m=d[1];u.setHours(Number(f)),u.setMinutes(Number(m))}(i=(s=r.props).onChange)===null||i===void 0||i.call(s,u)},r.renderTimeInput=function(){var a=r.state.time,s=r.props,i=s.date,l=s.timeString,c=s.customTimeInput;return c?y.cloneElement(c,{date:i,value:a,onChange:r.onTimeChange}):Z.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){r.onTimeChange(u.target.value||l)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return Z.createElement("div",{className:"react-datepicker__input-time-container"},Z.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Z.createElement("div",{className:"react-datepicker-time__input-container"},Z.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(y.Component),wP=function(e){An(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=y.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var a,s,i=r.key;i===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(s=(a=n.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},n.isSameDay=function(r){return _t(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),br(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return jh(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return _t(n.props.day,ns(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&_t(r,ns(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,a=r.day,s=r.highlightDates;if(!s)return!1;var i=en(a,"MM.dd.yyyy");return s.get(i)},n.getHolidaysClass=function(){var r,a=n.props,s=a.day,i=a.holidays;if(!i)return[void 0];var l=en(s,"MM.dd.yyyy");return i.has(l)?[(r=i.get(l))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,a=r.day,s=r.startDate,i=r.endDate;return!s||!i?!1:vs(a,s,i)},n.isInSelectingRange=function(){var r,a=n.props,s=a.day,i=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,u=a.selectsDisabledDaysInRange,d=a.startDate,f=a.swapRange,m=a.endDate,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;if(!(i||l||c)||!h||!u&&n.isDisabled())return!1;if(i&&m&&(la(h,m)||Cs(h,m)))return vs(s,h,m);if(l&&d&&(ss(h,d)||Cs(h,d)))return vs(s,d,h);if(c&&d&&!m){if(Cs(h,d)||ss(h,d))return vs(s,d,h);if(f&&la(h,d))return vs(s,h,d)}return!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,s=a.day,i=a.startDate,l=a.selectsStart,c=a.swapRange,u=a.selectsRange,d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?_t(s,d):u&&c&&i&&d?_t(s,la(d,i)?d:i):_t(s,i)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,s=a.day,i=a.endDate,l=a.selectsEnd,c=a.selectsRange,u=a.swapRange,d=a.startDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?_t(s,f):c&&u&&d&&f?_t(s,la(f,d)?d:f):c?_t(s,f):_t(s,i)},n.isRangeStart=function(){var r=n.props,a=r.day,s=r.startDate,i=r.endDate;return!s||!i?!1:_t(s,a)},n.isRangeEnd=function(){var r=n.props,a=r.day,s=r.startDate,i=r.endDate;return!s||!i?!1:_t(i,a)},n.isWeekend=function(){var r=RD(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Ln(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Ln(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ut())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var a=n.props.dayClassName?n.props.dayClassName(r):void 0;return xn("react-datepicker__day",a,"react-datepicker__day--"+rP(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,a=r.day,s=r.ariaLabelPrefixWhenEnabled,i=s===void 0?"Choose":s,l=r.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,u=n.isDisabled()||n.isExcluded()?c:i;return"".concat(u," ").concat(en(a,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,a=r.day,s=r.holidays,i=s===void 0?new Map:s,l=r.excludeDates,c=en(a,"MM.dd.yyyy"),u=[];return i.has(c)&&u.push.apply(u,i.get(c).holidayNames),n.isExcluded()&&u.push(l==null?void 0:l.filter(function(d){return d instanceof Date?_t(d,a):_t(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},n.getTabIndex=function(){var r=n.props.selected,a=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&_t(a,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Qp(n.props.day),n.props.day):Qp(n.props.day)},n.render=function(){return Z.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&Z.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,a;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(y.Component),CP=function(e){An(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=y.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var a,s,i=r.key;i===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(s=(a=n.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!_t(n.props.date,n.props.selected)&&_t(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||_t(n.props.date,n.props.selected)&&_t(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var a=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&_t(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,a=n.isWeekDisabled,s=n.ariaLabelPrefix,i=s===void 0?t.defaultProps.ariaLabelPrefix:s,l=n.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!a,"react-datepicker__week-number--selected":!!l&&_t(this.props.date,this.props.selected)};return Z.createElement("div",{ref:this.weekNumberEl,className:xn(c),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},t}(y.Component),TP=function(e){An(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return br(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,a){n.props.onDayClick&&n.props.onDayClick(r,a)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,a,s){for(var i,l,c,u=new Date(r),d=0;d<7;d++){var f=new Date(r);f.setDate(f.getDate()+d);var m=!n.isDisabled(f);if(m){u=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,a,s),n.props.showWeekPicker&&n.handleDayClick(u,s),((i=n.props.shouldCloseOnSelect)!==null&&i!==void 0?i:t.defaultProps.shouldCloseOnSelect)&&((c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):nP(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),a=Br(r,6),s=new Date(r);s<=a;){if(!n.isDisabled(s))return!1;s=Br(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),a=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var i=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;a.push(Z.createElement(CP,wt({key:"W"},t.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:i})))}return a.concat([0,1,2,3,4,5,6].map(function(l){var c=Br(r,l);return Z.createElement(wP,wt({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:n.handleDayClick.bind(n,c),onMouseEnter:n.handleDayMouseEnter.bind(n,c)}))}))},n.startOfWeek=function(){return ns(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!_t(n.startOfWeek(),n.props.selected)&&_t(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":_t(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Z.createElement("div",{className:xn(n,r),role:"row"},this.renderDays())},t}(y.Component),ro,SP=6,yi={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Sd=(ro={},ro[yi.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ro[yi.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ro[yi.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ro),Bl=1;function Sg(e,t){return e?yi.FOUR_COLUMNS:t?yi.TWO_COLUMNS:yi.THREE_COLUMNS}var NP=function(e){An(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=ca([],Array(12),!0).map(function(){return y.createRef()}),n.QUARTER_REFS=ca([],Array(4),!0).map(function(){return y.createRef()}),n.isDisabled=function(r){return br(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return jh(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,a){var s,i;(i=(s=n.props).onDayClick)===null||i===void 0||i.call(s,r,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var a,s;(s=(a=n.props).onDayMouseEnter)===null||s===void 0||s.call(a,r)},n.handleMouseLeave=function(){var r,a;(a=(r=n.props).onMouseLeave)===null||a===void 0||a.call(r)},n.isRangeStartMonth=function(r){var a=n.props,s=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:$n(yr(s,r),i)},n.isRangeStartQuarter=function(r){var a=n.props,s=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:$c(li(s,r),i)},n.isRangeEndMonth=function(r){var a=n.props,s=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:$n(yr(s,r),l)},n.isRangeEndQuarter=function(r){var a=n.props,s=a.day,i=a.startDate,l=a.endDate;return!i||!l?!1:$c(li(s,r),l)},n.isInSelectingRangeMonth=function(r){var a,s=n.props,i=s.day,l=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,m=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(l||c||u)||!m?!1:l&&f?Ll(m,f,r,i):c&&d||u&&d&&!f?Ll(d,m,r,i):!1},n.isSelectingMonthRangeStart=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,i=s.day,l=s.startDate,c=s.selectsStart,u=yr(i,r),d=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return c?$n(u,d):$n(u,l)},n.isSelectingMonthRangeEnd=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,i=s.day,l=s.endDate,c=s.selectsEnd,u=s.selectsRange,d=yr(i,r),f=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return c||u?$n(d,f):$n(d,l)},n.isInSelectingRangeQuarter=function(r){var a,s=n.props,i=s.day,l=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,m=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(l||c||u)||!m?!1:l&&f?Fl(m,f,r,i):c&&d||u&&d&&!f?Fl(d,m,r,i):!1},n.isWeekInMonth=function(r){var a=n.props.day,s=Br(r,6);return $n(r,a)||$n(s,a)},n.isCurrentMonth=function(r,a){return gt(r)===gt(Ut())&&a===Ln(Ut())},n.isCurrentQuarter=function(r,a){return gt(r)===gt(Ut())&&a===Ns(Ut())},n.isSelectedMonth=function(r,a,s){return Ln(s)===a&&gt(r)===gt(s)},n.isSelectMonthInList=function(r,a,s){return s.some(function(i){return n.isSelectedMonth(r,a,i)})},n.isSelectedQuarter=function(r,a,s){return Ns(r)===a&&gt(r)===gt(s)},n.isMonthSelected=function(){var r=n.props,a=r.day,s=r.selected,i=r.selectedDates,l=r.selectsMultiple,c=Ln(a);return l?i==null?void 0:i.some(function(u){return n.isSelectedMonth(a,c,u)}):!!s&&n.isSelectedMonth(a,c,s)},n.renderWeeks=function(){for(var r=[],a=n.props.fixedHeight,s=0,i=!1,l=ns(Fa(n.props.day),n.props.locale,n.props.calendarStartDay),c=function(g){return n.props.showWeekPicker?ns(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(g){return n.props.showWeekPicker?ns(g,n.props.locale,n.props.calendarStartDay):n.props.selected},d=n.props.selected?u(n.props.selected):void 0,f=n.props.preSelection?c(n.props.preSelection):void 0;r.push(Z.createElement(TP,wt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:l,month:Ln(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!i;){s++,l=Pc(l,1);var m=a&&s>=SP,h=!a&&!n.isWeekInMonth(l);if(m||h)if(n.props.peekNextMonth)i=!0;else break}return r},n.onMonthClick=function(r,a){var s=n.isMonthDisabledForLabelDate(a),i=s.isDisabled,l=s.labelDate;i||n.handleDayClick(Fa(l),r)},n.onMonthMouseEnter=function(r){var a=n.isMonthDisabledForLabelDate(r),s=a.isDisabled,i=a.labelDate;s||n.handleDayMouseEnter(Fa(i))},n.handleMonthNavigation=function(r,a){var s,i,l,c;(i=(s=n.props).setPreSelection)===null||i===void 0||i.call(s,a),(c=(l=n.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},n.handleKeyboardNavigation=function(r,a,s){var i,l=n.props,c=l.selected,u=l.preSelection,d=l.setPreSelection,f=l.minDate,m=l.maxDate,h=l.showFourColumnMonthYearPicker,g=l.showTwoColumnMonthYearPicker;if(u){var v=Sg(h,g),_=n.getVerticalOffset(v),E=(i=Sd[v])===null||i===void 0?void 0:i.grid,C=function(k,I,A){var x,D,P=I,M=A;switch(k){case Me.ArrowRight:P=$r(I,Bl),M=A===11?0:A+Bl;break;case Me.ArrowLeft:P=ks(I,Bl),M=A===0?11:A-Bl;break;case Me.ArrowUp:P=ks(I,_),M=!((x=E==null?void 0:E[0])===null||x===void 0)&&x.includes(A)?A+12-_:A-_;break;case Me.ArrowDown:P=$r(I,_),M=!((D=E==null?void 0:E[E.length-1])===null||D===void 0)&&D.includes(A)?A-12+_:A+_;break}return{newCalculatedDate:P,newCalculatedMonth:M}},w=function(k,I,A){for(var x=40,D=k,P=!1,M=0,R=C(D,I,A),F=R.newCalculatedDate,U=R.newCalculatedMonth;!P;){if(M>=x){F=I,U=A;break}if(f&&F<f){D=Me.ArrowRight;var $=C(D,F,U);F=$.newCalculatedDate,U=$.newCalculatedMonth}if(m&&F>m){D=Me.ArrowLeft;var $=C(D,F,U);F=$.newCalculatedDate,U=$.newCalculatedMonth}if(dP(F,n.props)){var $=C(D,F,U);F=$.newCalculatedDate,U=$.newCalculatedMonth}else P=!0;M++}return{newCalculatedDate:F,newCalculatedMonth:U}};if(a===Me.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),d==null||d(c));return}var S=w(a,u,s),N=S.newCalculatedDate,T=S.newCalculatedMonth;switch(a){case Me.ArrowRight:case Me.ArrowLeft:case Me.ArrowUp:case Me.ArrowDown:n.handleMonthNavigation(T,N);break}}},n.getVerticalOffset=function(r){var a,s;return(s=(a=Sd[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,a){var s=n.props,i=s.disabledKeyboardNavigation,l=s.handleOnMonthKeyDown,c=r.key;c!==Me.Tab&&r.preventDefault(),i||n.handleKeyboardNavigation(r,c,a),l&&l(r)},n.onQuarterClick=function(r,a){var s=li(n.props.day,a);Rl(s,n.props)||n.handleDayClick(dg(s),r)},n.onQuarterMouseEnter=function(r){var a=li(n.props.day,r);Rl(a,n.props)||n.handleDayMouseEnter(dg(a))},n.handleQuarterNavigation=function(r,a){var s,i,l,c;n.isDisabled(a)||n.isExcluded(a)||((i=(s=n.props).setPreSelection)===null||i===void 0||i.call(s,a),(c=(l=n.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},n.onQuarterKeyDown=function(r,a){var s,i,l=r.key;if(!n.props.disabledKeyboardNavigation)switch(l){case Me.Enter:n.onQuarterClick(r,a),(i=(s=n.props).setPreSelection)===null||i===void 0||i.call(s,n.props.selected);break;case Me.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,Ih(n.props.preSelection,1));break;case Me.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,Rb(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var a,s=n.props,i=s.day,l=s.minDate,c=s.maxDate,u=s.excludeDates,d=s.includeDates,f=yr(i,r);return{isDisabled:(a=(l||c||u||d)&&Qb(f,n.props))!==null&&a!==void 0?a:!1,labelDate:f}},n.isMonthDisabled=function(r){var a=n.isMonthDisabledForLabelDate(r).isDisabled;return a},n.getMonthClassNames=function(r){var a=n.props,s=a.day,i=a.startDate,l=a.endDate,c=a.preSelection,u=a.monthClassName,d=u?u(yr(s,r)):void 0,f=n.getSelection();return xn("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(s,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&c&&n.isSelectedMonth(s,r,c)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":i&&l?Ll(i,l,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=Ln(n.props.preSelection),s=n.isMonthDisabledForLabelDate(a).isDisabled,i=r===a&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return i},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=Ns(n.props.preSelection),s=Rl(n.props.day,n.props),i=r===a&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return i},n.getAriaLabel=function(r){var a=n.props,s=a.chooseDayAriaLabelPrefix,i=s===void 0?"Choose":s,l=a.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,u=a.day,d=a.locale,f=yr(u,r),m=n.isDisabled(f)||n.isExcluded(f)?c:i;return"".concat(m," ").concat(en(f,"MMMM yyyy",d))},n.getQuarterClassNames=function(r){var a=n.props,s=a.day,i=a.startDate,l=a.endDate,c=a.selected,u=a.minDate,d=a.maxDate,f=a.excludeDates,m=a.includeDates,h=a.filterDate,g=a.preSelection,v=a.disabledKeyboardNavigation,_=(u||d||f||m||h)&&Rl(li(s,r),n.props);return xn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":_,"react-datepicker__quarter-text--selected":c?n.isSelectedQuarter(s,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!v&&g&&n.isSelectedQuarter(s,r,g)&&!_,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":i&&l?Fl(i,l,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var a=n.props,s=a.showFullMonthYearPicker,i=a.renderMonthContent,l=a.locale,c=a.day,u=Kb(r,l),d=qh(r,l);return i?i(r,u,d,c):s?d:u},n.getQuarterContent=function(r){var a,s=n.props,i=s.renderQuarterContent,l=s.locale,c=uP(r,l);return(a=i==null?void 0:i(r,c))!==null&&a!==void 0?a:c},n.renderMonths=function(){var r,a=n.props,s=a.showTwoColumnMonthYearPicker,i=a.showFourColumnMonthYearPicker,l=a.day,c=a.selected,u=(r=Sd[Sg(i,s)])===null||r===void 0?void 0:r.grid;return u==null?void 0:u.map(function(d,f){return Z.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(m,h){return Z.createElement("div",{ref:n.MONTH_REFS[m],key:h,onClick:function(g){n.onMonthClick(g,m)},onKeyDown:function(g){Zb(g)&&(g.preventDefault(),g.key=Me.Enter),n.onMonthKeyDown(g,m)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(m)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(m)}:void 0,tabIndex:Number(n.getTabIndex(m)),className:n.getMonthClassNames(m),"aria-disabled":n.isMonthDisabled(m),role:"option","aria-label":n.getAriaLabel(m),"aria-current":n.isCurrentMonth(l,m)?"date":void 0,"aria-selected":c?n.isSelectedMonth(l,m,c):void 0},n.getMonthContent(m))}))})},n.renderQuarters=function(){var r=n.props,a=r.day,s=r.selected,i=[1,2,3,4];return Z.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(l,c){return Z.createElement("div",{key:c,ref:n.QUARTER_REFS[c],role:"option",onClick:function(u){n.onQuarterClick(u,l)},onKeyDown:function(u){n.onQuarterKeyDown(u,l)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(l)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(l)}:void 0,className:n.getQuarterClassNames(l),"aria-selected":s?n.isSelectedQuarter(a,l,s):void 0,tabIndex:Number(n.getQuarterTabIndex(l)),"aria-current":n.isCurrentQuarter(a,l)?"date":void 0},n.getQuarterContent(l))}))},n.getClassNames=function(){var r=n.props,a=r.selectingDate,s=r.selectsStart,i=r.selectsEnd,l=r.showMonthYearPicker,c=r.showQuarterYearPicker,u=r.showWeekPicker;return xn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||i)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":u})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,a=n.selectedDates,s=n.selectsMultiple;if(s)return a;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,a=n.showQuarterYearPicker,s=n.day,i=n.ariaLabelPrefix,l=i===void 0?"Month ":i,c=l?l.trim()+" ":"",u=r||a;return u?Z.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(en(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():this.renderQuarters()):Z.createElement("div",{role:"table"},this.props.dayNamesHeader&&Z.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),Z.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(en(s,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},t}(y.Component),kP=function(e){An(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(r){return n.props.month===r},n.handleOptionKeyDown=function(r,a){var s;switch(a.key){case"Enter":a.preventDefault(),n.onChange(r);break;case"Escape":a.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var i=(r+(a.key==="ArrowUp"?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;(s=n.monthOptionButtonsRef[i])===null||s===void 0||s.focus();break}}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(r,a){return Z.createElement("div",{ref:function(s){n.monthOptionButtonsRef[a]=s,n.isSelectedMonth(a)&&(s==null||s.focus())},role:"button",tabIndex:0,className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,a),onKeyDown:n.handleOptionKeyDown.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?Z.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return Z.createElement(Tu,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(y.Component),DP=function(e){An(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(a,s){return Z.createElement("option",{key:a,value:s},a)})},n.renderSelectMode=function(r){return Z.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,a){return Z.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},Z.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(r){return Z.createElement(kP,wt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var a=n.state.dropdownVisible,s=[n.renderReadView(!a,r)];return a&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return Kb(s,n.props.locale)}:function(s){return qh(s,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return Z.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(y.Component);function xP(e,t){for(var n=[],r=Fa(e),a=Fa(t);!ss(r,a);)n.push(Ut(r)),r=$r(r,1);return n}var AP=function(e){An(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var s=Bf(a),i=Zr(r.props.date,a)&&$n(r.props.date,a);return Z.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":i?"true":void 0},i?Z.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",en(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:xP(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=xn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Z.createElement(Tu,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(y.Component),PP=function(e){An(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Fa(n.props.minDate),a=Fa(n.props.maxDate),s=[];!ss(r,a);){var i=Bf(r);s.push(Z.createElement("option",{key:i,value:i},en(r,n.props.dateFormat,n.props.locale))),r=$r(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return Z.createElement("select",{value:Bf(Fa(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var a=en(n.props.date,n.props.dateFormat,n.props.locale);return Z.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},Z.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return Z.createElement(AP,wt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown();var a=Ut(r);Zr(n.props.date,a)&&$n(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return Z.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(y.Component),OP=function(e){An(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var a,s;(n.props.minTime||n.props.maxTime)&&gg(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&pg(r,n.props)||(s=(a=n.props).onChange)===null||s===void 0||s.call(a,r)},n.isSelectedTime=function(r){return n.props.selected&&EP(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&gg(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&pg(r,n.props)},n.liClasses=function(r){var a,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Ra(r)*3600+Ma(r)*60+ts(r))%(((a=n.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,a){var s,i;r.key===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(r.key===Me.ArrowUp||r.key===Me.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Me.ArrowDown||r.key===Me.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Me.Enter&&n.handleClick(a),(i=(s=n.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},n.renderTimes=function(){for(var r,a=[],s=typeof n.props.format=="string"?n.props.format:"p",i=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,l=n.props.selected||n.props.openToDate||Ut(),c=uc(l),u=n.props.injectTimes&&n.props.injectTimes.sort(function(_,E){return _.getTime()-E.getTime()}),d=60*bP(l),f=d/i,m=0;m<f;m++){var h=Lf(c,m*i);if(a.push(h),u){var g=vP(c,h,m,i,u);a=a.concat(g)}}var v=a.reduce(function(_,E){return E.getTime()<=l.getTime()?E:_},a[0]);return a.map(function(_){return Z.createElement("li",{key:_.valueOf(),onClick:n.handleClick.bind(n,_),className:n.liClasses(_),ref:function(E){_===v&&(n.centerLi=E)},onKeyDown:function(E){n.handleOnKeyDown(E,_)},tabIndex:_===v?0:-1,role:"option","aria-selected":n.isSelectedTime(_)?"true":void 0,"aria-disabled":n.isDisabledTime(_)?"true":void 0},en(_,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?Z.createElement(Z.Fragment,null):Z.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},Z.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,a=this.state.height;return Z.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Z.createElement("div",{className:"react-datepicker__time"},Z.createElement("div",{className:"react-datepicker__time-box"},Z.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(y.Component),Ng=3,IP=function(e){An(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=ca([],Array(r.props.yearItemNumber),!0).map(function(){return y.createRef()}),r.isDisabled=function(a){return br(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return jh(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var s=function(){var i,l;(l=(i=r.YEAR_REFS[a])===null||i===void 0?void 0:i.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(a,s){r.props.onDayClick&&r.props.onDayClick(a,s)},r.handleYearNavigation=function(a,s){var i,l,c,u,d=r.props,f=d.date,m=d.yearItemNumber;if(!(f===void 0||m===void 0)){var h=Aa(f,m).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((l=(i=r.props).setPreSelection)===null||l===void 0||l.call(i,s),a-h<0?r.updateFocusOnPaginate(m-(h-a)):a-h>=m?r.updateFocusOnPaginate(Math.abs(m-(a-h))):(u=(c=r.YEAR_REFS[a-h])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())}},r.isSameDay=function(a,s){return _t(a,s)},r.isCurrentYear=function(a){return a===gt(Ut())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Zr(Jr(Ut(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Zr(Jr(Ut(),a),r.props.endDate)},r.isInRange=function(a){return Ml(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var s=r.props,i=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.startDate,d=s.endDate;return!(i||l||c)||!r.selectingDate()?!1:i&&d?Ml(a,r.selectingDate(),d):l&&u||c&&u&&!d?Ml(a,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var s;if(!r.isInSelectingRange(a))return!1;var i=r.props,l=i.startDate,c=i.selectsStart,u=Jr(Ut(),a);return c?Zr(u,(s=r.selectingDate())!==null&&s!==void 0?s:null):Zr(u,l!=null?l:null)},r.isSelectingRangeEnd=function(a){var s;if(!r.isInSelectingRange(a))return!1;var i=r.props,l=i.endDate,c=i.selectsEnd,u=i.selectsRange,d=Jr(Ut(),a);return c||u?Zr(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):Zr(d,l!=null?l:null)},r.isKeyboardSelected=function(a){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,i=s.minDate,l=s.maxDate,c=s.excludeDates,u=s.includeDates,d=s.filterDate,f=s.selected,m=fo(Jr(r.props.date,a)),h=(i||l||c||u||d)&&dc(a,r.props),g=!!f&&_t(m,fo(f)),v=_t(m,fo(r.props.preSelection));return!r.props.inline&&!g&&v&&!h}},r.isSelectedYear=function(a){var s=r.props,i=s.selectsMultiple,l=s.selected,c=s.selectedDates;return i?c==null?void 0:c.some(function(u){return a===gt(u)}):!!l&&a===gt(l)},r.onYearClick=function(a,s){var i=r.props.date;i!==void 0&&r.handleYearClick(fo(Jr(i,s)),a)},r.onYearKeyDown=function(a,s){var i,l,c=a.key,u=r.props,d=u.date,f=u.yearItemNumber,m=u.handleOnKeyDown;if(c!==Me.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case Me.Enter:if(r.props.selected==null)break;r.onYearClick(a,s),(l=(i=r.props).setPreSelection)===null||l===void 0||l.call(i,r.props.selected);break;case Me.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Ia(r.props.preSelection,1));break;case Me.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,xi(r.props.preSelection,1));break;case Me.ArrowUp:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var h=Aa(d,f).startPeriod,g=Ng,v=s-g;if(v<h){var _=f%g;s>=h&&s<h+_?g=_:g+=_,v=s-g}r.handleYearNavigation(v,xi(r.props.preSelection,g));break}case Me.ArrowDown:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var E=Aa(d,f).endPeriod,g=Ng,v=s+g;if(v>E){var _=f%g;s<=E&&s>E-_?g=_:g+=_,v=s+g}r.handleYearNavigation(v,Ia(r.props.preSelection,g));break}}m&&m(a)},r.getYearClassNames=function(a){var s=r.props,i=s.date,l=s.minDate,c=s.maxDate,u=s.excludeDates,d=s.includeDates,f=s.filterDate,m=s.yearClassName;return xn("react-datepicker__year-text","react-datepicker__year-".concat(a),i?m==null?void 0:m(Jr(i,a)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(a),"react-datepicker__year-text--disabled":(l||c||u||d||f)&&dc(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=gt(r.props.preSelection),i=dc(a,r.props);return a===s&&!i?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return t.prototype.render=function(){var n=this,r=[],a=this.props,s=a.date,i=a.yearItemNumber,l=a.onYearMouseEnter,c=a.onYearMouseLeave;if(s===void 0)return null;for(var u=Aa(s,i),d=u.startPeriod,f=u.endPeriod,m=function(v){r.push(Z.createElement("div",{ref:h.YEAR_REFS[v-d],onClick:function(_){n.onYearClick(_,v)},onKeyDown:function(_){Zb(_)&&(_.preventDefault(),_.key=Me.Enter),n.onYearKeyDown(_,v)},tabIndex:Number(h.getYearTabIndex(v)),className:h.getYearClassNames(v),onMouseEnter:h.props.usePointerEvent?void 0:function(_){return l(_,v)},onPointerEnter:h.props.usePointerEvent?function(_){return l(_,v)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(_){return c(_,v)},onPointerLeave:h.props.usePointerEvent?function(_){return c(_,v)}:void 0,key:v,"aria-current":h.isCurrentYear(v)?"date":void 0},h.getYearContent(v)))},h=this,g=d;g<=f;g++)m(g);return Z.createElement("div",{className:"react-datepicker__year"},Z.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(y.Component);function LP(e,t,n,r){for(var a=[],s=0;s<2*t+1;s++){var i=e+t-s,l=!0;n&&(l=gt(n)<=i),r&&l&&(l=gt(r)>=i),l&&a.push(i)}return a}var RP=function(e){An(t,e);function t(n){var r=e.call(this,n)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(l,c){var u;switch(c.key){case"Enter":c.preventDefault(),r.onChange(l);break;case"Escape":c.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var d=l+(c.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[d]&&((u=r.yearOptionButtonsRef[d])===null||u===void 0||u.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var l=r.props.year,c=r.state.yearsList.map(function(f){return Z.createElement("div",{ref:function(m){r.yearOptionButtonsRef[f]=m,f===l&&(m==null||m.focus())},role:"button",tabIndex:0,className:l===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),onKeyDown:r.handleOptionKeyDown.bind(r,f),"aria-selected":l===f?"true":void 0},l===f?Z.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),u=r.props.minDate?gt(r.props.minDate):null,d=r.props.maxDate?gt(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(f){return f===d}))&&c.unshift(Z.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},Z.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(f){return f===u}))&&c.push(Z.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},Z.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var c=r.state.yearsList.map(function(u){return u+l});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,i=a||(s?10:5);return r.state={yearsList:LP(r.props.year,i,r.props.minDate,r.props.maxDate)},r.dropdownRef=y.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,a=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=xn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Z.createElement(Tu,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(y.Component),MP=function(e){An(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?gt(n.props.minDate):1900,a=n.props.maxDate?gt(n.props.maxDate):2100,s=[],i=r;i<=a;i++)s.push(Z.createElement("option",{key:i,value:i},i));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return Z.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return Z.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},Z.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return Z.createElement(RP,wt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,a){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,a),n.setOpen()},n.onSelect=function(r,a){var s,i;(i=(s=n.props).onSelect)===null||i===void 0||i.call(s,r,a)},n.setOpen=function(){var r,a;(a=(r=n.props).setOpen)===null||a===void 0||a.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return Z.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(y.Component),FP=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],eE="react-datepicker-ignore-onclickoutside",BP=function(e){var t=(e.className||"").split(/\s+/);return FP.some(function(n){return t.indexOf(n)>=0})},UP=function(e){An(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var s,i;BP(a.target)&&((i=(s=r.props).onDropdownFocus)===null||i===void 0||i.call(s,a))},r.getDateInView=function(){var a=r.props,s=a.preSelection,i=a.selected,l=a.openToDate,c=Xb(r.props),u=Jb(r.props),d=Ut(),f=l||i||s;return f||(c&&la(d,c)?c:u&&ss(d,u)?u:d)},r.increaseMonth=function(){r.setState(function(a){var s=a.date;return{date:$r(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var s=a.date;return{date:ks(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,s,i){r.props.onSelect(a,s,i),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,s){r.setState({selectingDate:Jr(Ut(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,s)},r.handleYearMouseLeave=function(a,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,s)},r.handleYearChange=function(a){var s,i,l,c;(i=(s=r.props).onYearChange)===null||i===void 0||i.call(s,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!br(a,r.props))return a;for(var s=Fa(a),i=sP(a),l=Wk(i,s),c=null,u=0;u<=l;u++){var d=Br(s,u);if(!br(d,r.props)){c=d;break}}return c},r.handleMonthChange=function(a){var s,i,l,c=(s=r.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(l=(i=r.props).setOpen)===null||l===void 0||l.call(i,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(a){var s,i;(i=(s=r.props).onMonthChange)===null||i===void 0||i.call(s,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(s){var i=s.date;return{date:Jr(i,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(s){var i=s.date;return{date:yr(i,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(s){var i=s.date;return{date:Jr(yr(i,Ln(a)),gt(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){a===void 0&&(a=r.state.date);var s=ns(a,r.props.locale,r.props.calendarStartDay),i=[];return r.props.showWeekNumbers&&i.push(Z.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},Z.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Z.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),i.concat([0,1,2,3,4,5,6].map(function(l){var c=Br(s,l),u=r.formatWeekday(c,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return Z.createElement("div",{key:l,role:"columnheader",className:xn("react-datepicker__day-name",d)},Z.createElement("span",{className:"react-datepicker__sr-only"},en(c,"EEEE",r.props.locale)),Z.createElement("span",{"aria-hidden":"true"},u))}))},r.formatWeekday=function(a,s){return r.props.formatWeekDay?oP(a,r.props.formatWeekDay,s):r.props.useWeekdaysShort?cP(a,s):lP(a,s)},r.decreaseYear=function(){r.setState(function(a){var s,i=a.date;return{date:xi(i,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,s,i;if(!r.props.renderCustomHeader){var l=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,u=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,d=ks(r.state.date,u),f;switch(!0){case r.props.showMonthYearPicker:f=bg(r.state.date,r.props);break;case r.props.showYearPicker:f=mP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:f=fP(r.state.date,r.props);break;default:f=yg(d,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&f||r.props.showTimeSelectOnly)){var m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],h=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),f&&r.props.showDisabledMonthNavigation&&(h.push("react-datepicker__navigation--previous--disabled"),g=void 0);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,_=r.props,E=_.previousMonthButtonLabel,C=E===void 0?t.defaultProps.previousMonthButtonLabel:E,w=_.previousYearButtonLabel,S=w===void 0?t.defaultProps.previousYearButtonLabel:w,N=r.props,T=N.previousMonthAriaLabel,k=T===void 0?typeof C=="string"?C:"Previous Month":T,I=N.previousYearAriaLabel,A=I===void 0?typeof S=="string"?S:"Previous Year":I;return Z.createElement("button",{type:"button",className:h.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?A:k},Z.createElement("span",{className:m.join(" ")},v?S:C))}}},r.increaseYear=function(){r.setState(function(a){var s,i=a.date;return{date:Ia(i,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=Eg(r.state.date,r.props);break;case r.props.showYearPicker:s=pP(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=hP(r.state.date,r.props);break;default:s=vg(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),c=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.nextMonthButtonLabel,m=f===void 0?t.defaultProps.nextMonthButtonLabel:f,h=d.nextYearButtonLabel,g=h===void 0?t.defaultProps.nextYearButtonLabel:h,v=r.props,_=v.nextMonthAriaLabel,E=_===void 0?typeof m=="string"?m:"Next Month":_,C=v.nextYearAriaLabel,w=C===void 0?typeof g=="string"?g:"Next Year":C;return Z.createElement("button",{type:"button",className:i.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?w:E},Z.createElement("span",{className:l.join(" ")},u?g:m))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),Z.createElement("h2",{className:s.join(" ")},en(a,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return Z.createElement(MP,wt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:gt(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return Z.createElement(DP,wt({},t.defaultProps,r.props,{month:Ln(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return Z.createElement(PP,wt({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(fg(),a),r.props.setPreSelection&&r.props.setPreSelection(fg())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return Z.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(a){return Z.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(a))},r.renderDefaultHeader=function(a){var s=a.monthDate,i=a.i;return Z.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),Z.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(i!==0),r.renderMonthYearDropdown(i!==0),r.renderYearDropdown(i!==0)))},r.renderCustomHeader=function(a){var s,i,l=a.monthDate,c=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=r.props,d=u.showYearPicker,f=u.yearItemNumber,m;if(d){var h=Aa(l,f),g=h.startPeriod,v=h.endPeriod;m={startYear:g,endYear:v}}var _=yg(r.state.date,r.props),E=vg(r.state.date,r.props),C=bg(r.state.date,r.props),w=Eg(r.state.date,r.props);return Z.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(i=(s=r.props).renderCustomHeader)===null||i===void 0?void 0:i.call(s,wt(wt(wt({},r.state),d&&{visibleYearsRange:m}),{customHeaderCount:c,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:_,nextMonthButtonDisabled:E,prevYearButtonDisabled:C,nextYearButtonDisabled:w})))},r.renderYearHeader=function(a){var s=a.monthDate,i=r.props,l=i.showYearPicker,c=i.yearItemNumber,u=c===void 0?t.defaultProps.yearItemNumber:c,d=Aa(s,u),f=d.startPeriod,m=d.endPeriod;return Z.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(f," - ").concat(m):gt(s))},r.renderHeader=function(a){var s=a.monthDate,i=a.i,l=i===void 0?0:i,c={monthDate:s,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var a,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var i=[],l=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ia(r.state.date,c):ks(r.state.date,c),d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,f=0;f<l;++f){var m=f-d+c,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ia(u,m):$r(u,m),g="month-".concat(f),v=f<l-1,_=f>0;i.push(Z.createElement("div",{key:g,ref:function(E){r.monthContainer=E!=null?E:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:f}),Z.createElement(NP,wt({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:_,dayNamesHeader:r.renderDayNamesHeader(h)}))))}return i}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return Z.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),Z.createElement(IP,wt({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return Z.createElement(OP,wt({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,s=a&&Su(a)&&!!r.props.selected,i=s?"".concat(wg(a.getHours()),":").concat(wg(a.getMinutes())):"";if(r.props.showTimeInput)return Z.createElement(_P,wt({},t.defaultProps,r.props,{date:a,timeString:i,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a,s=Aa(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),i=s.startPeriod,l=s.endPeriod,c;return r.props.showYearPicker?c="".concat(i," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=gt(r.state.date):c="".concat(qh(Ln(r.state.date),r.props.locale)," ").concat(gt(r.state.date)),Z.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return Z.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=y.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:eE,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:jo}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!_t(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!$n(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!_t(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||J2;return Z.createElement(Tu,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Z.createElement("div",{style:{display:"contents"},ref:this.containerRef},Z.createElement(n,{className:xn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(y.Component),HP=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,a=e.onClick,s="react-datepicker__calendar-icon";if(typeof t=="string")return Z.createElement("i",{className:"".concat(s," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(Z.isValidElement(t)){var i=t;return Z.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(s," ").concat(r),onClick:function(l){typeof i.props.onClick=="function"&&i.props.onClick(l),typeof a=="function"&&a(l)}})}return Z.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},Z.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},tE=function(e){An(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return eC.createPortal(this.props.children,this.el)},t}(y.Component),GP="[tabindex], a, button, input, select, textarea",$P=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},nE=function(e){An(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(GP),1,-1).filter($P)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=y.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?Z.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Z.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Z.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(y.Component);function WP(e){function t(n){var r,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=y.useRef(null),i=X2(wt({open:!a,whileElementsMounted:x2,placement:n.popperPlacement,middleware:ca([B2({padding:15}),F2(10),U2({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),l=wt(wt({},n),{hidePopper:a,popperProps:wt(wt({},i),{arrowRef:s})});return Z.createElement(e,wt({},l))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var YP=function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,a=r===void 0?!0:r,s=e.popperComponent,i=e.targetComponent,l=e.enableTabLoop,c=e.popperOnKeyDown,u=e.portalId,d=e.portalHost,f=e.popperProps,m=e.showArrow,h=void 0;if(!a){var g=xn("react-datepicker-popper",t);h=Z.createElement(nE,{enableTabLoop:l},Z.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:g,"data-placement":f.placement,onKeyDown:c},s,m&&Z.createElement(Y2,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(h=y.createElement(e.popperContainer,{},h)),u&&!a&&(h=Z.createElement(tE,{portalId:u,portalHost:d},h));var v=xn("react-datepicker-wrapper",n);return Z.createElement(Z.Fragment,null,Z.createElement("div",{ref:f.refs.setReference,className:v},i),h)},zP=WP(YP);function VP(e,t){return e&&t?Ln(e)!==Ln(t)||gt(e)!==gt(t):e!==t}var Nd="Date input not valid.",qP=function(e){An(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ut()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,i){var l=new Date(i.date);return Su(l)?ca(ca([],s,!0),[wt(wt({},i),{date:l})],!1):s},[])},r.calcInitialState=function(){var a,s=r.getPreSelection(),i=Xb(r.props),l=Jb(r.props),c=i&&la(s,uc(i))?i:l&&ss(s,hg(l))?l:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:c,highlightDates:_g(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var a,s=r.props,i=s.locale,l=s.startDate,c=s.endDate,u=s.rangeSeparator,d=s.selected,f=s.selectedDates,m=s.selectsMultiple,h=s.selectsRange,g=s.value,v=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,_=r.state.inputValue;return typeof g=="string"?g:typeof _=="string"?_:h?eP(l,c,{dateFormat:v,locale:i,rangeSeparator:u}):m?tP(f!=null?f:[],{dateFormat:v,locale:i}):gr(d,{dateFormat:v,locale:i})},r.resetHiddenStatus=function(){r.setState(wt(wt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(wt(wt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},r.setBlur=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,s){s===void 0&&(s=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:kd},function(){a||r.setState(function(i){return{focused:s?i.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return La(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var s,i,l=r.state.wasHidden,c=l?r.state.open:!0;l&&r.resetHiddenStatus(),r.state.preventFocus||((i=(s=r.props).onFocus)===null||i===void 0||i.call(s,a),c&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(wt(wt({},r.state),{inputValue:null}))},r.handleBlur=function(a){var s,i;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((i=(s=r.props).onBlur)===null||i===void 0||i.call(s,a)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var s,i;r.props.inline||r.setOpen(!1),(i=(s=r.props).onClickOutside)===null||i===void 0||i.call(s,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,s,i,l,c,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var f=u[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,u),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){r.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:jP});var m=r.props,h=m.selectsRange,g=m.startDate,v=m.endDate,_=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,E=(s=r.props.strictParsing)!==null&&s!==void 0?s:t.defaultProps.strictParsing,C=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(h){var w=r.props.rangeSeparator,S=w.trim(),N=C.split(_.includes(S)?w:S,2).map(function(M){return M.trim()}),T=N[0],k=N[1],I=wd(T!=null?T:"",_,r.props.locale,E),A=I?wd(k!=null?k:"",_,r.props.locale,E):null,x=(g==null?void 0:g.getTime())!==(I==null?void 0:I.getTime()),D=(v==null?void 0:v.getTime())!==(A==null?void 0:A.getTime());if(!x&&!D||I&&br(I,r.props)||A&&br(A,r.props))return;(l=(i=r.props).onChange)===null||l===void 0||l.call(i,[I,A],f)}else{var P=wd(C,_,r.props.locale,E,(c=r.props.selected)!==null&&c!==void 0?c:void 0);(P||!C)&&r.setSelected(P,f,!0)}}},r.handleSelect=function(a,s,i){if(!r.props.readOnly){var l=r.props,c=l.selectsRange,u=l.startDate,d=l.endDate,f=l.swapRange,m=!c||u&&!d&&(f||!Td(a,u));r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&m&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(a,s,!1,i),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(a):m&&r.setOpen(!1)}},r.setSelected=function(a,s,i,l){var c,u,d=a;if(r.props.showYearPicker){if(d!==null&&dc(gt(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&Qb(d,r.props))return}else if(d!==null&&br(d,r.props))return;var f=r.props,m=f.onChange,h=f.selectsRange,g=f.startDate,v=f.endDate,_=f.selectsMultiple,E=f.selectedDates,C=f.minTime,w=f.swapRange;if(!Cs(r.props.selected,d)||r.props.allowSameDay||h||_)if(d!==null&&(r.props.selected&&(!i||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=Cd(d,{hour:Ra(r.props.selected),minute:Ma(r.props.selected),second:ts(r.props.selected)})),!i&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(d=Cd(d,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),h){var S=!g&&!v,N=g&&!v,T=!g&&!!v,k=g&&v;S?m==null||m([d,null],s):N?d===null?m==null||m([null,null],s):Td(d,g)?w?m==null||m([d,g],s):m==null||m([d,null],s):m==null||m([g,d],s):T&&(d&&Td(d,v)?m==null||m([d,v],s):m==null||m([d,null],s)),k&&(m==null||m([d,null],s))}else if(_){if(d!==null)if(!(E!=null&&E.length))m==null||m([d],s);else{var I=E.some(function(x){return _t(x,d)});if(I){var A=E.filter(function(x){return!_t(x,d)});m==null||m(A,s)}else m==null||m(ca(ca([],E,!0),[d],!1),s)}}else m==null||m(d,s);i||((u=(c=r.props).onSelect)===null||u===void 0||u.call(c,d,s),r.setState({inputValue:null}))},r.setPreSelection=function(a){if(!r.props.readOnly){var s=La(r.props.minDate),i=La(r.props.maxDate),l=!0;if(a){var c=uc(a);if(s&&i)l=vs(a,r.props.minDate,r.props.maxDate);else if(s){var u=uc(r.props.minDate);l=ss(a,u)||Cs(c,u)}else if(i){var d=hg(r.props.maxDate);l=la(a,d)||Cs(c,d)}}l&&r.setState({preSelection:a})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var s,i;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?a:Cd(l,{hour:Ra(a),minute:Ma(a)});r.setState({preSelection:c}),(i=(s=r.props).onChange)===null||i===void 0||i.call(s,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(a=r.props).onInputClick)===null||s===void 0||s.call(a)},r.onInputKeyDown=function(a){var s,i,l,c,u,d;(i=(s=r.props).onKeyDown)===null||i===void 0||i.call(s,a);var f=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===Me.ArrowDown||f===Me.ArrowUp||f===Me.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(f===Me.ArrowDown||f===Me.ArrowUp){a.preventDefault();var m=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(m);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var g=Ut(r.state.preSelection);f===Me.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===kd?(r.handleSelect(g,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):f===Me.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):f===Me.Tab&&r.setOpen(!1),r.inputOk()||(d=(u=r.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:Nd})}},r.onPortalKeyDown=function(a){var s=a.key;s===Me.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var s,i,l,c,u,d,f=r.props,m=f.minDate,h=f.maxDate,g=f.disabledKeyboardNavigation,v=f.showWeekPicker,_=f.shouldCloseOnSelect,E=f.locale,C=f.calendarStartDay,w=f.adjustDateOnChange,S=f.inline;if((i=(s=r.props).onKeyDown)===null||i===void 0||i.call(s,a),!g){var N=a.key,T=a.shiftKey,k=Ut(r.state.preSelection),I=function(F,U){var $=U;switch(F){case Me.ArrowRight:$=v?Pc(U,1):Br(U,1);break;case Me.ArrowLeft:$=v?Jp(U,1):Ux(U,1);break;case Me.ArrowUp:$=Jp(U,1);break;case Me.ArrowDown:$=Pc(U,1);break;case Me.PageUp:$=T?xi(U,1):ks(U,1);break;case Me.PageDown:$=T?Ia(U,1):$r(U,1);break;case Me.Home:$=ns(U,E,C);break;case Me.End:$=aP(U);break}return $},A=function(F,U){for(var $=40,H=F,K=!1,L=0,le=I(F,U);!K;){if(L>=$){le=U;break}m&&le<m&&(H=Me.ArrowRight,le=br(m,r.props)?I(H,le):m),h&&le>h&&(H=Me.ArrowLeft,le=br(h,r.props)?I(H,le):h),br(le,r.props)?((H===Me.PageUp||H===Me.Home)&&(H=Me.ArrowRight),(H===Me.PageDown||H===Me.End)&&(H=Me.ArrowLeft),le=I(H,le)):K=!0,L++}return le};if(N===Me.Enter){a.preventDefault(),r.handleSelect(k,a),!_&&r.setPreSelection(k);return}else if(N===Me.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:Nd});return}var x=null;switch(N){case Me.ArrowLeft:case Me.ArrowRight:case Me.ArrowUp:case Me.ArrowDown:case Me.PageUp:case Me.PageDown:case Me.Home:case Me.End:x=A(N,k);break}if(!x){(d=(u=r.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:Nd});return}if(a.preventDefault(),r.setState({lastPreSelectChange:kd}),w&&r.setSelected(x),r.setPreSelection(x),S){var D=Ln(k),P=Ln(x),M=gt(k),R=gt(x);D!==P||M!==R?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(a){var s=a.key;s===Me.Escape&&(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var s=r.props,i=s.selectsRange,l=s.onChange;i?l==null||l([null,null],a):l==null||l(null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,s;return!r.props.inline&&!r.isCalendarOpen()?null:Z.createElement(UP,wt({showMonthYearDropdown:void 0,ref:function(i){r.calendar=i}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:yP(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a,s=r.props.locale,i=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(gr(r.props.startDate,{dateFormat:c,locale:s}),". ").concat(r.props.endDate?"End date: "+gr(r.props.endDate,{dateFormat:c,locale:s}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(gr(r.props.selected,{dateFormat:i,locale:s})):r.props.showYearPicker?u="Selected year: ".concat(gr(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?u="Selected month: ".concat(gr(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(gr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):u="Selected date: ".concat(gr(r.props.selected,{dateFormat:c,locale:s})),Z.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var a,s,i=xn(r.props.className,(a={},a[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,a)),l=r.props.customInput||Z.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref";return y.cloneElement(l,(s={},s[c]=function(u){r.input=u},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=xn(l.props.className,i),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var a=r.props,s=a.isClearable,i=a.disabled,l=a.selected,c=a.startDate,u=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,m=f===void 0?"":f,h=a.ariaLabelClose,g=h===void 0?"Close":h,v=a.selectedDates,_=a.readOnly;return s&&!_&&(l!=null||c!=null||u!=null||v!=null&&v.length)?Z.createElement("button",{type:"button",className:xn("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":g,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:eE,readOnly:!1,rangeSeparator:jb,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:jo,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var a,s,i,l;n.inline&&VP(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:_g(this.props.highlightDates)}),!r.focused&&!Cs(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),r.open===!0&&this.state.open===!1&&((l=(i=this.props).onCalendarClose)===null||l===void 0||l.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,a=n.icon,s=n.calendarIconClassname,i=n.calendarIconClassName,l=n.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Z.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&Z.createElement(HP,wt({icon:a,className:xn(i,!i&&s,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?Z.createElement(nE,{enableTabLoop:this.props.enableTabLoop},Z.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=Z.createElement(tE,wt({portalId:this.props.portalId},this.props),r)),Z.createElement("div",null,this.renderInputContainer(),r)}return Z.createElement(zP,wt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(y.Component),jP="input",kd="navigate";iP("ru",Uh);const rE=y.forwardRef(({value:e,onClick:t,onChange:n,placeholder:r,id:a,...s},i)=>p("div",{className:"custom-date-input",children:[o("input",{ref:i,id:a,value:e,onClick:t,onChange:n,placeholder:r,readOnly:!0,...s}),o("button",{type:"button",onClick:t,"aria-label":"Календарь",children:o(ie,{icon:"calendar",className:"calendar-icon",width:"16",height:"16"})})]}));rE.displayName="CustomDateInput";const Yi=({className:e="",onChange:t,id:n,selected:r,minDate:a,maxDate:s,...i})=>{const l=new Date;l.setFullYear(l.getFullYear()+10);const c=s||l,u=new Date;u.setDate(u.getDate()+1);const d=a||u,f=m=>{t(m)};return o("div",{className:"date-picker ".concat(e),children:o(qP,{locale:"ru",dateFormat:"dd.MM.yyyy",onChange:f,customInput:o(rE,{id:n}),maxDate:c,minDate:d,showPopperArrow:!1,placeholderText:"ДД.ММ.ГГГГ",selected:r,...i})})};const Nu=({className:e,schedule:t,onChange:n})=>{const[r,a]=J("week-day-selector",e),s=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],i=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],l=u=>{const d={...t,[u]:!t[u]};n(d)},c=(u,d)=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),l(d))};return o("div",{className:r(),children:i.map((u,d)=>{const f=t[u],m=!f;return p("div",{className:a("day-wrapper"),children:[o("div",{className:a("day",{selected:f,blocked:m}),onClick:()=>l(u),onKeyDown:h=>c(h,u),role:"button",tabIndex:0,"aria-label":"".concat(f?"Отменить выбор":"Выбрать"," ").concat(s[d]),children:m?o(ie,{icon:"cross",className:a("day-icon")}):o(ie,{icon:"done",className:a("day-icon-selected")})}),o("span",{className:a("day-name",{selected:f}),children:s[d]})]},u)})})};const $f=({onSave:e,onCancel:t,initialSettings:n})=>{const[r,a]=J("set-regular-goal-modal"),[s,i]=y.useState((n==null?void 0:n.frequency)||"daily"),[l,c]=y.useState((n==null?void 0:n.weeklyFrequency)||3),[u,d]=y.useState((n==null?void 0:n.customSchedule)||{monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}),[f,m]=y.useState((n==null?void 0:n.durationType)||"days"),[h,g]=y.useState((n==null?void 0:n.durationValue)||30),[v,_]=y.useState((n==null?void 0:n.endDate)||""),[E,C]=y.useState((n==null?void 0:n.resetOnSkip)||!1),[w,S]=y.useState((n==null?void 0:n.allowSkipDays)||0),[N,T]=y.useState((n==null?void 0:n.daysForEarnedSkip)||0),[k]=y.useState((n==null?void 0:n.markAsCompletedAfterSeries)||!1),I=()=>{if(s==="custom"&&!Object.values(u).some(Boolean)){me.addNotification({type:"error",title:"Ошибка",message:"Выберите хотя бы один день недели для пользовательского графика"});return}e({frequency:s,weeklyFrequency:s==="weekly"?l:void 0,customSchedule:s==="custom"?u:void 0,durationType:f,durationValue:f==="days"||f==="weeks"?h:void 0,endDate:f==="until_date"?v:void 0,resetOnSkip:E,allowSkipDays:E?w:0,daysForEarnedSkip:E?N:0,markAsCompletedAfterSeries:k})};return p("div",{className:r(),children:[o("div",{className:a("content"),children:p("div",{className:a("form"),children:[p("div",{className:a("regular-field-group"),children:[o(qt,{className:a("field"),placeholder:"Выберите периодичность",options:[{name:"Ежедневно",value:"daily"},{name:"N раз в неделю",value:"weekly"},{name:"Пользовательский график",value:"custom"}],activeOption:s==="daily"?0:s==="weekly"?1:2,onSelect:A=>{i(["daily","weekly","custom"][A])},text:"Периодичность"}),s==="weekly"&&o(He,{placeholder:"Например: 3",id:"weekly-frequency",text:"Сколько раз в неделю",value:l.toString(),setValue:A=>{const x=parseInt(A,10)||1;c(Math.min(7,Math.max(1,x)))},className:a("field"),type:"number"}),s==="custom"&&p("div",{className:a("custom-schedule-selector"),children:[o("p",{className:a("field-title"),children:"Выберите дни недели (обязательно хотя бы один)"}),o(Nu,{schedule:u,onChange:d})]})]}),p("div",{className:a("regular-field-group"),children:[o(qt,{className:a("field"),placeholder:"Выберите тип длительности",options:[{name:"Дни",value:"days"},{name:"Недели",value:"weeks"},{name:"До даты",value:"until_date"},{name:"Бессрочно",value:"indefinite"}],activeOption:f==="days"?0:f==="weeks"?1:f==="until_date"?2:3,onSelect:A=>{m(["days","weeks","until_date","indefinite"][A])},text:"Длительность"}),(f==="days"||f==="weeks")&&o(He,{placeholder:f==="days"?"Количество дней":"Количество недель",id:"duration-value",text:f==="days"?"Количество дней":"Количество недель",value:h.toString(),setValue:A=>{const x=parseInt(A,10)||1;g(Math.max(1,x))},className:a("field"),type:"number"}),f==="until_date"&&p("div",{className:a("date-field-container"),children:[o("p",{className:a("field-title"),children:"Дата окончания"}),o(Yi,{selected:v?new Date(v):null,onChange:A=>{_(A?ga(A,"yyyy-MM-dd"):"")},className:a("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))})]})]}),p("div",{className:a("regular-field-group"),children:[o(wn,{id:"reset-on-skip",text:"Сбрасывать прогресс при превышении лимита пропусков",checked:E,setChecked:C,className:a("field")}),E&&p(nt,{children:[o(He,{placeholder:"0",id:"allow-skip-days",text:"Разрешенные пропуски",value:w.toString(),setValue:A=>{const x=parseInt(A,10)||0;S(Math.max(0,x))},className:a("field"),type:"number"}),o("div",{className:a("field-with-suffix"),children:o(He,{placeholder:"0",id:"days-for-earned-skip",text:"Начисление разрешенного пропуска через",value:N.toString(),setValue:A=>{const x=parseInt(A,10)||0;T(Math.max(0,x))},className:a("field"),type:"number",suffix:s==="weekly"?"недель":"дней"})})]})]})]})}),p("div",{className:a("footer"),children:[o(z,{theme:"blue-light",className:a("btn"),onClick:t,type:"button",children:"Отмена"}),o(z,{theme:"blue",className:a("btn"),onClick:I,type:"button",children:"Сохранить"})]})]})};const xr=ze(e=>{var le,q,O,ee;const{className:t,children:n,isOpen:r,onClose:a,title:s,size:i}=e,[l,c]=J("modal",t),{isOpen:u,setIsOpen:d,window:f,setWindow:m,funcModal:h,modalProps:g,setModalProps:v}=cn,{setIsAuth:_,setName:E,setAvatar:C,setUserInfo:w,userInfo:S}=Rt,N=r!==void 0?r:u,T=a||(()=>d(!1)),k=y.useRef(null),I=y.useRef(null),A=()=>{T()},x=()=>{m("registration")},D=()=>{m("login")},P=Q=>{v({initialEmail:Q!=null?Q:""}),m("forgot-password")},M=Q=>{dt.set("name",Q.name||""),A(),E(Q.name||""),_(!0),C(dt.get("avatar")||""),Q.email_confirmed!==void 0&&Rt.setEmailConfirmed(Q.email_confirmed),Q.email&&Rt.setEmail(Q.email),w({...S,email:Q.email||S.email,firstName:Q.name||S.firstName,name:Q.name||S.name,...Q.email_confirmed!==void 0&&{isEmailConfirmed:Q.email_confirmed}})},R=Q=>{Q.key==="Escape"&&A()},F=Q=>{if(Q.key!=="Tab"||!k.current)return;const oe=k.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(oe.length===0)return;const V=oe[0],Ae=oe[oe.length-1];Q.shiftKey&&document.activeElement===V?(Q.preventDefault(),Ae.focus()):!Q.shiftKey&&document.activeElement===Ae&&(Q.preventDefault(),V.focus())};function U(Q,oe){let V=Q;for(;V&&V!==oe;){const{overflowY:Ae}=getComputedStyle(V);if(/(auto|scroll|overlay)/.test(Ae)&&V.scrollHeight>V.clientHeight)return V;V=V.parentElement}return V&&V!==oe?V:null}if(y.useEffect(()=>{if(!N)return;const Q=k.current,oe=V=>{const Ae=V.target;if(!(Q!=null&&Q.contains(Ae))){V.preventDefault();return}const ne=U(V.target,Q);if(!ne){V.preventDefault();return}if(V instanceof WheelEvent){const{scrollTop:Ce,scrollHeight:rt,clientHeight:ot}=ne,Et=Ce<=0,j=Ce+ot>=rt;(Et&&V.deltaY<0||j&&V.deltaY>0)&&V.preventDefault()}};return document.addEventListener("wheel",oe,{passive:!1}),document.addEventListener("touchmove",oe,{passive:!1}),()=>{document.removeEventListener("wheel",oe),document.removeEventListener("touchmove",oe)}},[N]),y.useEffect(()=>{if(N)return document.addEventListener("keyup",R),document.addEventListener("keydown",F),setTimeout(()=>{if(k.current){const Q=k.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');Q.length>0?Q[0].focus():I.current&&I.current.focus()}},50),()=>{document.removeEventListener("keyup",R),document.removeEventListener("keydown",F)}},[N]),!N)return null;const $=n||p(nt,{children:[f==="login"&&o(fb,{openRegistration:x,openForgotPassword:P,successLogin:M}),f==="registration"&&o(hb,{openLogin:D,successRegistration:M}),f==="forgot-password"&&o(Ok,{onBack:D,initialEmail:g==null?void 0:g.initialEmail}),f==="change-password"&&o(wk,{closeModal:A}),f==="add-review"&&o(Ek,{closeModal:A}),f==="delete-goal"&&o(Hp,{closeModal:A,funcModal:h}),f==="delete-list"&&o(Hp,{closeModal:A,funcModal:h}),f==="confirm-execution-all-goal"&&o(Nk,{closeModal:A,funcModal:h}),f==="goal-map"&&o(Ik,{...g}),f==="goal-map-multi"&&o(gb,{...g}),f==="goal-map-add"&&o(Lk,{closeModal:A,...g}),f==="folder-selector"&&o(Ak,{goalId:g==null?void 0:g.goalId,goalTitle:g==null?void 0:g.goalTitle,onFolderSelected:(Q,oe)=>{var V;(V=g==null?void 0:g.onFolderSelected)==null||V.call(g,Q,oe),A()},showCreateButton:!0}),f==="create-todo-list"&&o(Dk,{onSuccess:()=>{var Q;A(),(Q=g==null?void 0:g.onSuccess)==null||Q.call(g)},onCancel:A}),f==="create-todo-task"&&o(xk,{defaultListId:g==null?void 0:g.defaultListId,onSuccess:()=>{var Q;A(),(Q=g==null?void 0:g.onSuccess)==null||Q.call(g)},onCancel:A}),f==="progress-update"&&o(Gp,{goalId:g==null?void 0:g.goalId,goalTitle:g==null?void 0:g.goalTitle,currentProgress:g==null?void 0:g.currentProgress,onProgressUpdate:g==null?void 0:g.onProgressUpdate,onClose:A}),f==="random-goal-picker"&&o(Rk,{goals:(g==null?void 0:g.goals)||[],onClose:A}),f==="set-regular-goal"&&o($f,{onSave:async Q=>{var oe;await((oe=g==null?void 0:g.onSave)==null?void 0:oe.call(g,Q))},onCancel:A,initialSettings:g==null?void 0:g.initialSettings}),f==="compare-friend"&&(g==null?void 0:g.comparisonData)&&o(Sk,{data:g.comparisonData})]});if(!n&&f==="progress-update")return rs.createPortal(o(xr,{isOpen:N,onClose:A,className:"progress-update-modal",size:"medium",children:o(Gp,{goalId:(le=g==null?void 0:g.goalId)!=null?le:0,goalTitle:(q=g==null?void 0:g.goalTitle)!=null?q:"",currentProgress:(O=g==null?void 0:g.currentProgress)!=null?O:{progressPercentage:0,dailyNotes:"",isWorkingToday:!1,id:0,goal:0,goalTitle:"",goalCategory:"",goalCategoryNameEn:"",goalImage:"",goalCode:"",lastUpdated:"",createdAt:"",recentEntries:[]},onProgressUpdate:(ee=g==null?void 0:g.onProgressUpdate)!=null?ee:()=>{},onGoalCompleted:g==null?void 0:g.onGoalCompleted,onClose:A})}),document.body);const H=i||(f==="compare-friend"?"medium":void 0),K={fullscreen:f==="goal-map"||f==="goal-map-multi"||f==="goal-map-add",...H?{[H]:!0}:{}};n||(K.type=f);const L=p("section",{className:l({isOpen:N}),children:[p("div",{className:c("window",K),ref:k,children:[(s||(g==null?void 0:g.title))&&o("div",{className:c("header"),children:o("h2",{className:c("title"),children:s||(g==null?void 0:g.title)})}),o("div",{className:c("content"),children:$}),o(z,{theme:"blue-light",className:c("close",{map:f==="goal-map"||f==="goal-map-multi"}),onClick:A,refInner:I,children:o(ie,{icon:"cross"})})]}),o("button",{"aria-label":"Закрыть окно",type:"button",className:c("base"),onClick:A})]});return rs.createPortal(L,document.body)}),KP=async e=>tt("feedback",{auth:!0,body:e});const QP=({isOpen:e,onClose:t})=>{const[n,r]=J("feedback-modal"),[a,s]=y.useState(0),[i,l]=y.useState(null),[c,u]=y.useState(""),d=async m=>{if(m.preventDefault(),!a&&!c.trim()){me.addNotification({type:"error",title:"Заполните отзыв",message:"Поставьте оценку или напишите текст отзыва."});return}(await KP({rating:a,message:c})).success&&(me.addNotification({type:"success",title:"Спасибо за отзыв",message:"Ваш отзыв отправлен команде Delting."}),t(),s(0),l(null),u(""))},f=i!=null?i:a;return o(xr,{isOpen:e,onClose:t,className:n(),size:"small",children:p("form",{className:r("form"),onSubmit:d,children:[p("div",{className:r("header"),children:[o(ke,{tag:"h2",className:r("title"),children:"Оставить отзыв"}),o("p",{className:r("subtitle"),children:"Нам важно ваше мнение, чтобы сделать Delting лучше."})]}),p("div",{className:r("rating"),children:[o("span",{className:r("rating-label"),children:"Ваша оценка:"}),o("div",{className:r("stars"),children:[1,2,3,4,5].map(m=>{const h=m<=f;return o("button",{type:"button",className:r("star",{active:h}),onMouseEnter:()=>l(m),onMouseLeave:()=>l(null),onClick:()=>s(g=>g===m?0:m),"aria-label":"Оценка ".concat(m),children:o(ie,{icon:h?"star-full":"star"})},m)})})]}),p("label",{className:r("field"),children:[o("span",{className:r("field-label"),children:"Текст отзыва"}),o("textarea",{className:r("textarea"),placeholder:"Напишите, что вам нравится в Delting и что можно улучшить...",value:c,onChange:m=>u(m.target.value),rows:5})]}),p("div",{className:r("footer"),children:[o(z,{theme:"blue-light",className:r("btn"),typeBtn:"button",onClick:t,children:"Отмена"}),o(z,{theme:"blue",className:r("btn"),typeBtn:"submit",children:"Отправить отзыв"})]})]})})};var dn={},Kh={},Qo={},Xo={},aE="Expected a function",kg=0/0,XP="[object Symbol]",JP=/^\s+|\s+$/g,ZP=/^[-+]0x[0-9a-f]+$/i,eO=/^0b[01]+$/i,tO=/^0o[0-7]+$/i,nO=parseInt,rO=typeof Sr=="object"&&Sr&&Sr.Object===Object&&Sr,aO=typeof self=="object"&&self&&self.Object===Object&&self,sO=rO||aO||Function("return this")(),iO=Object.prototype,oO=iO.toString,lO=Math.max,cO=Math.min,Dd=function(){return sO.Date.now()};function uO(e,t,n){var r,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(aE);t=Dg(t)||0,Wc(n)&&(d=!!n.leading,f="maxWait"in n,s=f?lO(Dg(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m);function h(T){var k=r,I=a;return r=a=void 0,u=T,i=e.apply(I,k),i}function g(T){return u=T,l=setTimeout(E,t),d?h(T):i}function v(T){var k=T-c,I=T-u,A=t-k;return f?cO(A,s-I):A}function _(T){var k=T-c,I=T-u;return c===void 0||k>=t||k<0||f&&I>=s}function E(){var T=Dd();if(_(T))return C(T);l=setTimeout(E,v(T))}function C(T){return l=void 0,m&&r?h(T):(r=a=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function S(){return l===void 0?i:C(Dd())}function N(){var T=Dd(),k=_(T);if(r=arguments,a=this,c=T,k){if(l===void 0)return g(c);if(f)return l=setTimeout(E,t),h(c)}return l===void 0&&(l=setTimeout(E,t)),i}return N.cancel=w,N.flush=S,N}function dO(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(aE);return Wc(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),uO(e,t,{leading:r,maxWait:t,trailing:a})}function Wc(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function fO(e){return!!e&&typeof e=="object"}function hO(e){return typeof e=="symbol"||fO(e)&&oO.call(e)==XP}function Dg(e){if(typeof e=="number")return e;if(hO(e))return kg;if(Wc(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wc(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(JP,"");var n=eO.test(e);return n||tO.test(e)?nO(e.slice(2),n?2:8):ZP.test(e)?kg:+e}var mO=dO,Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.addPassiveEventListener=function(t,n,r){var a=r.name;a||(a=n,console.warn("Listener must be a named function.")),fc.has(n)||fc.set(n,new Set);var s=fc.get(n);if(!s.has(a)){var i=function(){var l=!1;try{var c=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,c)}catch(u){}return l}();t.addEventListener(n,r,i?{passive:!0}:!1),s.add(a)}};Jo.removePassiveEventListener=function(t,n,r){t.removeEventListener(n,r),fc.get(n).delete(r.name||n)};var fc=new Map;Object.defineProperty(Xo,"__esModule",{value:!0});var pO=mO,gO=yO(pO),xg=Jo;function yO(e){return e&&e.__esModule?e:{default:e}}var vO=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,gO.default)(t,n)},an={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(t,n){if(t){var r=vO(function(a){an.scrollHandler(t)},n);return an.scrollSpyContainers.push(t),(0,xg.addPassiveEventListener)(t,"scroll",r),function(){(0,xg.removePassiveEventListener)(t,"scroll",r),an.scrollSpyContainers.splice(an.scrollSpyContainers.indexOf(t),1)}}return function(){}},isMounted:function(t){return an.scrollSpyContainers.indexOf(t)!==-1},currentPositionX:function(t){if(t===document){var n=window.scrollY!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.scrollX:r?document.documentElement.scrollLeft:document.body.scrollLeft}else return t.scrollLeft},currentPositionY:function(t){if(t===document){var n=window.scrollX!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.scrollY:r?document.documentElement.scrollTop:document.body.scrollTop}else return t.scrollTop},scrollHandler:function(t){var n=an.scrollSpyContainers[an.scrollSpyContainers.indexOf(t)].spyCallbacks||[];n.forEach(function(r){return r(an.currentPositionX(t),an.currentPositionY(t))})},addStateHandler:function(t){an.spySetState.push(t)},addSpyHandler:function(t,n){var r=an.scrollSpyContainers[an.scrollSpyContainers.indexOf(n)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(t)},updateStates:function(){an.spySetState.forEach(function(t){return t()})},unmount:function(t,n){an.scrollSpyContainers.forEach(function(r){return r.spyCallbacks&&r.spyCallbacks.length&&r.spyCallbacks.indexOf(n)>-1&&r.spyCallbacks.splice(r.spyCallbacks.indexOf(n),1)}),an.spySetState&&an.spySetState.length&&an.spySetState.indexOf(t)>-1&&an.spySetState.splice(an.spySetState.indexOf(t),1),document.removeEventListener("scroll",an.scrollHandler)},update:function(){return an.scrollSpyContainers.forEach(function(t){return an.scrollHandler(t)})}};Xo.default=an;var zi={},Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});var bO=function(t,n){var r=t.indexOf("#")===0?t.substring(1):t,a=r?"#"+r:"",s=window&&window.location,i=a?s.pathname+s.search+a:s.pathname+s.search;n?history.pushState(history.state,"",i):history.replaceState(history.state,"",i)},EO=function(){return window.location.hash.replace(/^#/,"")},_O=function(t){return function(n){return t.contains?t!=n&&t.contains(n):!!(t.compareDocumentPosition(n)&16)}},wO=function(t){return getComputedStyle(t).position!=="static"},xd=function(t,n){for(var r=t.offsetTop,a=t.offsetParent;a&&!n(a);)r+=a.offsetTop,a=a.offsetParent;return{offsetTop:r,offsetParent:a}},CO=function(t,n,r){if(r)return t===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(t).position!=="static"?n.offsetLeft:n.offsetLeft-t.offsetLeft;if(t===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(wO(t)){if(n.offsetParent!==t){var a=function(d){return d===t||d===document},s=xd(n,a),i=s.offsetTop,l=s.offsetParent;if(l!==t)throw new Error("Seems containerElement is not an ancestor of the Element");return i}return n.offsetTop}if(n.offsetParent===t.offsetParent)return n.offsetTop-t.offsetTop;var c=function(d){return d===document};return xd(n,c).offsetTop-xd(t,c).offsetTop};Zo.default={updateHash:bO,getHash:EO,filterElementInContainer:_O,scrollOffset:CO};var ku={},Qh={};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.default={defaultEasing:function(t){return t<.5?Math.pow(t*2,2)/2:1-Math.pow((1-t)*2,2)/2},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});var TO=Jo,SO=["mousedown","wheel","touchmove","keydown"];Xh.default={subscribe:function(t){return typeof document<"u"&&SO.forEach(function(n){return(0,TO.addPassiveEventListener)(document,n,t)})}};var el={};Object.defineProperty(el,"__esModule",{value:!0});var Wf={registered:{},scrollEvent:{register:function(t,n){Wf.registered[t]=n},remove:function(t){Wf.registered[t]=null}}};el.default=Wf;Object.defineProperty(ku,"__esModule",{value:!0});var NO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kO=Zo;Du(kO);var DO=Qh,Ag=Du(DO),xO=Xh,AO=Du(xO),PO=el,ea=Du(PO);function Du(e){return e&&e.__esModule?e:{default:e}}var sE=function(t){return Ag.default[t.smooth]||Ag.default.defaultEasing},OO=function(t){return typeof t=="function"?t:function(){return t}},IO=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Yf=function(){return IO()||function(e,t,n){window.setTimeout(e,n||1e3/60,new Date().getTime())}}(),iE=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},oE=function(t){var n=t.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var r=window.pageXOffset!==void 0,a=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:a?document.documentElement.scrollLeft:document.body.scrollLeft},lE=function(t){var n=t.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var r=window.pageXOffset!==void 0,a=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:a?document.documentElement.scrollTop:document.body.scrollTop},LO=function(t){var n=t.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var r=document.body,a=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,a.clientWidth,a.scrollWidth,a.offsetWidth)},RO=function(t){var n=t.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var r=document.body,a=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)},MO=function e(t,n,r){var a=n.data;if(!n.ignoreCancelEvents&&a.cancel){ea.default.registered.end&&ea.default.registered.end(a.to,a.target,a.currentPositionY);return}if(a.delta=Math.round(a.targetPosition-a.startPosition),a.start===null&&(a.start=r),a.progress=r-a.start,a.percent=a.progress>=a.duration?1:t(a.progress/a.duration),a.currentPosition=a.startPosition+Math.ceil(a.delta*a.percent),a.containerElement&&a.containerElement!==document&&a.containerElement!==document.body?n.horizontal?a.containerElement.scrollLeft=a.currentPosition:a.containerElement.scrollTop=a.currentPosition:n.horizontal?window.scrollTo(a.currentPosition,0):window.scrollTo(0,a.currentPosition),a.percent<1){var s=e.bind(null,t,n);Yf.call(window,s);return}ea.default.registered.end&&ea.default.registered.end(a.to,a.target,a.currentPosition)},Jh=function(t){t.data.containerElement=t?t.containerId?document.getElementById(t.containerId):t.container&&t.container.nodeType?t.container:document:null},tl=function(t,n,r,a){n.data=n.data||iE(),window.clearTimeout(n.data.delayTimeout);var s=function(){n.data.cancel=!0};if(AO.default.subscribe(s),Jh(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?oE(n):lE(n),n.data.targetPosition=n.absolute?t:t+n.data.startPosition,n.data.startPosition===n.data.targetPosition){ea.default.registered.end&&ea.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=OO(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=r,n.data.target=a;var i=sE(n),l=MO.bind(null,i,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){ea.default.registered.begin&&ea.default.registered.begin(n.data.to,n.data.target),Yf.call(window,l)},n.delay);return}ea.default.registered.begin&&ea.default.registered.begin(n.data.to,n.data.target),Yf.call(window,l)},xu=function(t){return t=NO({},t),t.data=t.data||iE(),t.absolute=!0,t},FO=function(t){tl(0,xu(t))},BO=function(t,n){tl(t,xu(n))},UO=function(t){t=xu(t),Jh(t),tl(t.horizontal?LO(t):RO(t),t)},HO=function(t,n){n=xu(n),Jh(n);var r=n.horizontal?oE(n):lE(n);tl(t+r,n)};ku.default={animateTopScroll:tl,getAnimationType:sE,scrollToTop:FO,scrollToBottom:UO,scrollTo:BO,scrollMore:HO};Object.defineProperty(zi,"__esModule",{value:!0});var GO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$O=Zo,WO=Zh($O),YO=ku,zO=Zh(YO),VO=el,Ul=Zh(VO);function Zh(e){return e&&e.__esModule?e:{default:e}}var Hl={},Pg=void 0;zi.default={unmount:function(){Hl={}},register:function(t,n){Hl[t]=n},unregister:function(t){delete Hl[t]},get:function(t){return Hl[t]||document.getElementById(t)||document.getElementsByName(t)[0]||document.getElementsByClassName(t)[0]},setActiveLink:function(t){return Pg=t},getActiveLink:function(){return Pg},scrollTo:function(t,n){var r=this.get(t);if(!r){console.warn("target Element not found");return}n=GO({},n,{absolute:!1});var a=n.containerId,s=n.container,i=void 0;a?i=document.getElementById(a):s&&s.nodeType?i=s:i=document,n.absolute=!0;var l=n.horizontal,c=WO.default.scrollOffset(i,r,l)+(n.offset||0);if(!n.smooth){Ul.default.registered.begin&&Ul.default.registered.begin(t,r),i===document?n.horizontal?window.scrollTo(c,0):window.scrollTo(0,c):i.scrollTop=c,Ul.default.registered.end&&Ul.default.registered.end(t,r);return}zO.default.animateTopScroll(c,n,t,r)}};var Au={};Object.defineProperty(Au,"__esModule",{value:!0});var qO=Zo,Ad=jO(qO);function jO(e){return e&&e.__esModule?e:{default:e}}var KO={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(t){this.scroller=t,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(t,n){this.containers[t]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var t=this,n=this.getHash();n?window.setTimeout(function(){t.scrollTo(n,!0),t.initialized=!0},10):this.initialized=!0},scrollTo:function(t,n){var r=this.scroller,a=r.get(t);if(a&&(n||t!==r.getActiveLink())){var s=this.containers[t]||document;r.scrollTo(t,{container:s})}},getHash:function(){return Ad.default.getHash()},changeHash:function(t,n){this.isInitialized()&&Ad.default.getHash()!==t&&Ad.default.updateHash(t,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Au.default=KO;Object.defineProperty(Qo,"__esModule",{value:!0});var Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QO=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),XO=y,Og=nl(XO),JO=Xo,$l=nl(JO),ZO=zi,eI=nl(ZO),tI=rn,tn=nl(tI),nI=Au,Wa=nl(nI);function nl(e){return e&&e.__esModule?e:{default:e}}function rI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aI(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ig={to:tn.default.string.isRequired,containerId:tn.default.string,container:tn.default.object,activeClass:tn.default.string,activeStyle:tn.default.object,spy:tn.default.bool,horizontal:tn.default.bool,smooth:tn.default.oneOfType([tn.default.bool,tn.default.string]),offset:tn.default.number,delay:tn.default.number,isDynamic:tn.default.bool,onClick:tn.default.func,duration:tn.default.oneOfType([tn.default.number,tn.default.func]),absolute:tn.default.bool,onSetActive:tn.default.func,onSetInactive:tn.default.func,ignoreCancelEvents:tn.default.bool,hashSpy:tn.default.bool,saveHashHistory:tn.default.bool,spyThrottle:tn.default.number};Qo.default=function(e,t){var n=t||eI.default,r=function(s){sI(i,s);function i(l){rI(this,i);var c=aI(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,l));return a.call(c),c.state={active:!1},c.beforeUnmountCallbacks=[],c}return QO(i,[{key:"getScrollSpyContainer",value:function(){var c=this.props.containerId,u=this.props.container;return c&&!u?document.getElementById(c):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var c=this.getScrollSpyContainer();if(!$l.default.isMounted(c)){var u=$l.default.mount(c,this.props.spyThrottle);this.beforeUnmountCallbacks.push(u)}this.props.hashSpy&&(Wa.default.isMounted()||Wa.default.mount(n),Wa.default.mapContainer(this.props.to,c)),$l.default.addSpyHandler(this.spyHandler,c),this.setState({container:c})}}},{key:"componentWillUnmount",value:function(){$l.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(c){return c()})}},{key:"render",value:function(){var c="";this.state&&this.state.active?c=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():c=this.props.className;var u={};this.state&&this.state.active?u=Gl({},this.props.style,this.props.activeStyle):u=Gl({},this.props.style);var d=Gl({},this.props);for(var f in Ig)d.hasOwnProperty(f)&&delete d[f];return d.className=c,d.style=u,d.onClick=this.handleClick,Og.default.createElement(e,d)}}]),i}(Og.default.PureComponent),a=function(){var i=this;this.scrollTo=function(l,c){n.scrollTo(l,Gl({},i.state,c))},this.handleClick=function(l){i.props.onClick&&i.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),i.scrollTo(i.props.to,i.props)},this.spyHandler=function(l,c){var u=i.getScrollSpyContainer();if(!(Wa.default.isMounted()&&!Wa.default.isInitialized())){var d=i.props.horizontal,f=i.props.to,m=null,h=void 0,g=void 0;if(d){var v=0,_=0,E=0;if(u.getBoundingClientRect){var C=u.getBoundingClientRect();E=C.left}if(!m||i.props.isDynamic){if(m=n.get(f),!m)return;var w=m.getBoundingClientRect();v=w.left-E+l,_=v+w.width}var S=l-i.props.offset;h=S>=Math.floor(v)&&S<Math.floor(_),g=S<Math.floor(v)||S>=Math.floor(_)}else{var N=0,T=0,k=0;if(u.getBoundingClientRect){var I=u.getBoundingClientRect();k=I.top}if(!m||i.props.isDynamic){if(m=n.get(f),!m)return;var A=m.getBoundingClientRect();N=A.top-k+c,T=N+A.height}var x=c-i.props.offset;h=x>=Math.floor(N)&&x<Math.floor(T),g=x<Math.floor(N)||x>=Math.floor(T)}var D=n.getActiveLink();if(g){if(f===D&&n.setActiveLink(void 0),i.props.hashSpy&&Wa.default.getHash()===f){var P=i.props.saveHashHistory,M=P===void 0?!1:P;Wa.default.changeHash("",M)}i.props.spy&&i.state.active&&(i.setState({active:!1}),i.props.onSetInactive&&i.props.onSetInactive(f,m))}if(h&&(D!==f||i.state.active===!1)){n.setActiveLink(f);var R=i.props.saveHashHistory,F=R===void 0?!1:R;i.props.hashSpy&&Wa.default.changeHash(f,F),i.props.spy&&(i.setState({active:!0}),i.props.onSetActive&&i.props.onSetActive(f,m))}}}};return r.propTypes=Ig,r.defaultProps={offset:0},r};Object.defineProperty(Kh,"__esModule",{value:!0});var iI=y,Lg=cE(iI),oI=Qo,lI=cE(oI);function cE(e){return e&&e.__esModule?e:{default:e}}function cI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function uI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dI=function(e){uI(t,e);function t(){var n,r,a,s;cI(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return s=(r=(a=Rg(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(l))),a),a.render=function(){return Lg.default.createElement("a",a.props,a.props.children)},r),Rg(a,s)}return t}(Lg.default.Component);Kh.default=(0,lI.default)(dI);var em={};Object.defineProperty(em,"__esModule",{value:!0});var fI=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hI=y,Mg=uE(hI),mI=Qo,pI=uE(mI);function uE(e){return e&&e.__esModule?e:{default:e}}function gI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yI(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function vI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bI=function(e){vI(t,e);function t(){return gI(this,t),yI(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return fI(t,[{key:"render",value:function(){return Mg.default.createElement("button",this.props,this.props.children)}}]),t}(Mg.default.Component);em.default=(0,pI.default)(bI);var tm={},Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});var EI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_I=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wI=y,Fg=Ou(wI),CI=rs;Ou(CI);var TI=zi,Bg=Ou(TI),SI=rn,Ug=Ou(SI);function Ou(e){return e&&e.__esModule?e:{default:e}}function NI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kI(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function DI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Pu.default=function(e){var t=function(n){DI(r,n);function r(a){NI(this,r);var s=kI(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a));return s.childBindings={domNode:null},s}return _I(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Bg.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){Bg.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return Fg.default.createElement(e,EI({},this.props,{parentBindings:this.childBindings}))}}]),r}(Fg.default.Component);return t.propTypes={name:Ug.default.string,id:Ug.default.string},t};Object.defineProperty(tm,"__esModule",{value:!0});var Hg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xI=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),AI=y,Gg=nm(AI),PI=Pu,OI=nm(PI),II=rn,$g=nm(II);function nm(e){return e&&e.__esModule?e:{default:e}}function LI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RI(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function MI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dE=function(e){MI(t,e);function t(){return LI(this,t),RI(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return xI(t,[{key:"render",value:function(){var r=this,a=Hg({},this.props);return delete a.name,a.parentBindings&&delete a.parentBindings,Gg.default.createElement("div",Hg({},a,{ref:function(i){r.props.parentBindings.domNode=i}}),this.props.children)}}]),t}(Gg.default.Component);dE.propTypes={name:$g.default.string,id:$g.default.string};tm.default=(0,OI.default)(dE);var Pd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wg=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Yg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Vg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Wl=y,fs=Xo,Od=zi,sn=rn,Ya=Au,qg={to:sn.string.isRequired,containerId:sn.string,container:sn.object,activeClass:sn.string,spy:sn.bool,smooth:sn.oneOfType([sn.bool,sn.string]),offset:sn.number,delay:sn.number,isDynamic:sn.bool,onClick:sn.func,duration:sn.oneOfType([sn.number,sn.func]),absolute:sn.bool,onSetActive:sn.func,onSetInactive:sn.func,ignoreCancelEvents:sn.bool,hashSpy:sn.bool,spyThrottle:sn.number},FI={Scroll:function(t,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=n||Od,a=function(i){Vg(l,i);function l(c){Yg(this,l);var u=zg(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c));return s.call(u),u.state={active:!1},u}return Wg(l,[{key:"getScrollSpyContainer",value:function(){var u=this.props.containerId,d=this.props.container;return u?document.getElementById(u):d&&d.nodeType?d:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var u=this.getScrollSpyContainer();fs.isMounted(u)||fs.mount(u,this.props.spyThrottle),this.props.hashSpy&&(Ya.isMounted()||Ya.mount(r),Ya.mapContainer(this.props.to,u)),this.props.spy&&fs.addStateHandler(this.stateHandler),fs.addSpyHandler(this.spyHandler,u),this.setState({container:u})}}},{key:"componentWillUnmount",value:function(){fs.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var u="";this.state&&this.state.active?u=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():u=this.props.className;var d=Pd({},this.props);for(var f in qg)d.hasOwnProperty(f)&&delete d[f];return d.className=u,d.onClick=this.handleClick,Wl.createElement(t,d)}}]),l}(Wl.Component),s=function(){var l=this;this.scrollTo=function(c,u){r.scrollTo(c,Pd({},l.state,u))},this.handleClick=function(c){l.props.onClick&&l.props.onClick(c),c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault(),l.scrollTo(l.props.to,l.props)},this.stateHandler=function(){r.getActiveLink()!==l.props.to&&(l.state!==null&&l.state.active&&l.props.onSetInactive&&l.props.onSetInactive(),l.setState({active:!1}))},this.spyHandler=function(c){var u=l.getScrollSpyContainer();if(!(Ya.isMounted()&&!Ya.isInitialized())){var d=l.props.to,f=null,m=0,h=0,g=0;if(u.getBoundingClientRect){var v=u.getBoundingClientRect();g=v.top}if(!f||l.props.isDynamic){if(f=r.get(d),!f)return;var _=f.getBoundingClientRect();m=_.top-g+c,h=m+_.height}var E=c-l.props.offset,C=E>=Math.floor(m)&&E<Math.floor(h),w=E<Math.floor(m)||E>=Math.floor(h),S=r.getActiveLink();if(w)return d===S&&r.setActiveLink(void 0),l.props.hashSpy&&Ya.getHash()===d&&Ya.changeHash(),l.props.spy&&l.state.active&&(l.setState({active:!1}),l.props.onSetInactive&&l.props.onSetInactive()),fs.updateStates();if(C&&S!==d)return r.setActiveLink(d),l.props.hashSpy&&Ya.changeHash(d),l.props.spy&&(l.setState({active:!0}),l.props.onSetActive&&l.props.onSetActive(d)),fs.updateStates()}}};return a.propTypes=qg,a.defaultProps={offset:0},a},Element:function(t){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(r){Vg(a,r);function a(s){Yg(this,a);var i=zg(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,s));return i.childBindings={domNode:null},i}return Wg(a,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(i){this.props.name!==i.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Od.unregister(this.props.name)}},{key:"registerElems",value:function(i){Od.register(i,this.childBindings.domNode)}},{key:"render",value:function(){return Wl.createElement(t,Pd({},this.props,{parentBindings:this.childBindings}))}}]),a}(Wl.Component);return n.propTypes={name:sn.string,id:sn.string},n}},BI=FI;Object.defineProperty(dn,"__esModule",{value:!0});dn.Helpers=dn.ScrollElement=dn.ScrollLink=dn.animateScroll=dn.scrollSpy=dn.Events=zs=dn.scroller=dn.Element=dn.Button=dn.Link=void 0;var UI=Kh,fE=Ea(UI),HI=em,hE=Ea(HI),GI=tm,mE=Ea(GI),$I=zi,pE=Ea($I),WI=el,gE=Ea(WI),YI=Xo,yE=Ea(YI),zI=ku,vE=Ea(zI),VI=Qo,bE=Ea(VI),qI=Pu,EE=Ea(qI),jI=BI,_E=Ea(jI);function Ea(e){return e&&e.__esModule?e:{default:e}}dn.Link=fE.default;dn.Button=hE.default;dn.Element=mE.default;var zs=dn.scroller=pE.default;dn.Events=gE.default;dn.scrollSpy=yE.default;dn.animateScroll=vE.default;dn.ScrollLink=bE.default;dn.ScrollElement=EE.default;dn.Helpers=_E.default;dn.default={Link:fE.default,Button:hE.default,Element:mE.default,scroller:pE.default,Events:gE.default,scrollSpy:yE.default,animateScroll:vE.default,ScrollLink:bE.default,ScrollElement:EE.default,Helpers:_E.default};const ho=async(e,t)=>await Ue("goals/".concat(e,"/all"),{auth:!0,get:t}),KI=e=>{if(!e||e<=0)return"";const t=Math.floor(e/86400),n=Math.floor(e%86400/3600),r=Math.floor(e%3600/60),a=[];return t>0&&a.push("".concat(t," д")),n>0&&a.push("".concat(n," ч")),r>0&&a.push("".concat(r," м")),a.length===0?"< 1м":a.join(" ")},QI=e=>{if(!e)return 0;const t=e.split(":");if(t.length===3){const n=parseInt(t[0],10)||0,r=parseInt(t[1],10)||0,a=parseInt(t[2],10)||0;return n*3600+r*60+a}if(t.length===2){const n=parseInt(t[0],10)||0,r=parseInt(t[1],10)||0;return n*3600+r*60}return 0},XI=e=>{if(!e)return"";let t;return typeof e=="number"?t=e:t=QI(e),KI(t)},rm=e=>{if(!e||!e.trim())return!0;const t=e.trim().toLowerCase();return!!(/^\d+\.?\d*$/.test(t)||/^\d{1,2}:?\d{0,2}(:\d{0,2})?$/.test(t)||/^(\d+\s*[дddays]?\s*)?(\d+\s*[чhours]?\s*)?(\d+\s*[мminutes]?\s*)?(\d+\s*[сseconds]?\s*)?$/.test(t.replace(/\s+/g,""))||/^(\d+\s*(день|дня|дней|день|day|days)?\s*)?(\d+\s*(час|часа|часов|hour|hours)?\s*)?(\d+\s*(минута|минуты|минут|minute|minutes)?\s*)?(\d+\s*(секунда|секунды|секунд|second|seconds)?\s*)?$/.test(t)||/^[0-9:дчмсднейячасовминутсекунд\s]+$/i.test(t))};const Iu=e=>{const{className:t,theme:n,category:r,complexity:a,done:s,added:i,medal:l,time:c,estimatedTime:u,showSeparator:d,userFolders:f}=e,[m]=J("tags",t),h=c||(u?XI(u):null),g=[];return r&&g.push(o(Nn,{category:r.nameEn,text:r.name,theme:n})),l&&g.push(o(Nn,{text:l,theme:n,icon:"medal"})),g.push(o(Nn,{text:hu[a],theme:n,icon:a})),i&&g.push(o(Nn,{text:i,theme:n,icon:"people"})),s&&g.push(o(Nn,{text:s,theme:n,icon:"done"})),h&&g.push(o(Nn,{text:h,theme:n,icon:"watch"})),f&&f.length>0&&f.forEach(v=>{g.push(o(Nn,{text:v.name,theme:n,icon:v.icon,style:{backgroundColor:v.color}}))}),o("section",{className:m(),children:g.map((v,_)=>p(y.Fragment,{children:[v,d&&_<g.length-1&&o(at,{vertical:!0})]},_))})};const JI=e=>{const{className:t,goal:n}=e,[r,a]=J("card-short",t);return o("section",{className:r(),children:p(Fe,{to:"/goals/".concat(n.code),className:a("link"),children:[o("img",{src:n.image,alt:n.title,className:a("img")}),p("div",{className:a("info"),children:[o(ke,{tag:"h3",className:a("title"),children:n.title}),o("div",{className:a("tags-wrapper"),children:o(Iu,{complexity:n.complexity,added:n.totalAdded,estimatedTime:n.estimatedTime,theme:"integrate",className:a("tags"),showSeparator:!0})})]})]})})};const Id=ze(e=>{const{className:t,isModal:n,theme:r}=e,[a,s]=J("global-goals-search",t),i=Zn(),[l,c]=y.useState(""),[u,d]=y.useState(!1),[f,m]=y.useState([]),[h,g]=y.useState(0),[v,_]=y.useState(!1),[E,C]=y.useState(null),w=y.useRef(null);y.useEffect(()=>{if(n)return;const D=P=>{w.current&&!w.current.contains(P.target)&&_(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[n]);const S=y.useCallback(async D=>{if(D.length<2){m([]),g(0),_(!1);return}d(!0);try{const P=await ho("all",{search:D,page:1,limit:6});P.success&&(m(P.data.data),g(P.data.pagination.totalItems),_(!0))}catch(P){m([]),g(0)}finally{d(!1)}},[]),N=D=>{c(D),E&&clearTimeout(E);const P=setTimeout(()=>{S(D)},300);C(P)},T=()=>{l.trim()&&(_(!1),i("/categories/all?search=".concat(encodeURIComponent(l))),setTimeout(()=>{zs.scrollTo("catalog-items-goals",{duration:800,delay:100,smooth:"easeInOutQuart",offset:-150})},100))},k=D=>{_(!1),i("/goals/".concat(D))},I=()=>{f.length>0&&_(!0)},A=D=>{D.key==="Enter"&&(D.preventDefault(),T()),D.key==="Escape"&&_(!1)},x=()=>o("div",{className:s("results"),style:{maxHeight:n?"auto":"60vh",overflowY:"auto",padding:"8px 0"},children:f.map(D=>o("div",{className:s("result-item"),role:"button",tabIndex:0,onClick:()=>k(D.code),onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),k(D.code))},"aria-label":"Перейти к цели ".concat(D.title),children:o(JI,{goal:D})},D.code))});return p("div",{className:a({isModal:n,theme:r}),ref:w,children:[!n&&p("div",{className:s("input-wrapper"),children:[o(He,{className:s("input"),placeholder:"Поиск целей",id:"global-search",value:l,setValue:N,iconEnd:"search",onFocus:I,onKeyDown:A,theme:!n&&r==="transparent"?"transparent":void 0,focusBorder:"white"}),u&&o("div",{className:s("loading"),children:o(Tt,{isLoading:!0})})]}),(v||n)&&p("div",{className:s("dropdown"),children:[n&&p("div",{className:s("input-wrapper"),children:[o(He,{className:s("input"),placeholder:"Поиск целей",id:"global-search",value:l,setValue:N,iconEnd:"search",onFocus:I,onKeyDown:A,theme:!n&&r==="transparent"?"transparent":void 0,focusBorder:"white"}),u&&o("div",{className:s("loading"),children:o(Tt,{isLoading:!0})})]}),f.length>0?p(nt,{children:[o(x,{}),h>6&&o("div",{className:s("show-all",{isModal:n}),children:o(z,{className:s("show-all-button"),theme:"blue-light",size:"medium",onClick:T,children:p(nt,{children:["Показать результаты: ",h]})})})]}):o("div",{className:s("no-results"),children:p("div",{className:s("no-results-content"),children:[o(ie,{icon:"search",className:s("no-results-icon")}),o("span",{className:s("no-results-text"),children:l.length<2?"Введите минимум 2 символа для поиска":"Цели не найдены"})]})})]})]})});const Yl=ze(e=>{const{className:t,children:n,isOpen:r,onClose:a,title:s}=e,[i,l]=J("modal-phone",t),{isOpen:c,setIsOpen:u}=cn,d=r!==void 0?r:c,f=a||(()=>u(!1)),m=y.useRef(null),h=y.useRef(null),g=y.useCallback(()=>{f()},[f]),v=y.useCallback(C=>{const w=C.target,S=w.tagName==="A"?w:w.closest("a");S&&(S.target==="_blank"||S.hostname!==window.location.hostname?g():setTimeout(()=>{g()},150))},[g]),_=y.useCallback(C=>{C.key==="Escape"&&g()},[g]),E=y.useCallback(C=>{const S=C.touches[0].clientY,N=Date.now(),T=I=>{const D=I.touches[0].clientY-S,P=Date.now()-N;if(D>100&&P<300&&m.current){const M=m.current.querySelector(".modal-phone__content");M&&M.scrollTop===0&&g()}},k=()=>{document.removeEventListener("touchmove",T),document.removeEventListener("touchend",k)};document.addEventListener("touchmove",T,{passive:!0}),document.addEventListener("touchend",k)},[g]);return y.useEffect(()=>(d?(document.addEventListener("keyup",_),document.addEventListener("touchstart",E,{passive:!0}),m.current&&m.current.addEventListener("click",v),document.body.style.overflow="hidden",setTimeout(()=>{h.current&&h.current.focus()},100)):(document.removeEventListener("keyup",_),document.removeEventListener("touchstart",E),m.current&&m.current.removeEventListener("click",v),document.body.style.overflow=""),()=>{document.body.style.overflow="",document.removeEventListener("keyup",_),document.removeEventListener("touchstart",E)}),[d,_,E,v]),d?o("section",{className:i({isOpen:d}),children:p("div",{className:l("window"),ref:m,children:[p("div",{className:l("header"),children:[s&&o("h2",{className:l("title"),children:s}),o(z,{type:"button-close",onClick:g,refInner:h,"aria-label":"Закрыть окно"})]}),o("div",{className:l("content"),children:n})]})}):null});const ZI=ze(e=>{const{className:t}=e,{header:n,page:r}=yt,{setIsOpen:a,setWindow:s}=cn,{categoriesTree:i,setCategories:l}=ub,{isScreenDesktop:c,isScreenSmallTablet:u,isScreenMobile:d,isScreenSmallMobile:f,isScreenTablet:m}=Vr(),h=c||m&&!u,{isAuth:g,avatar:v,setAvatar:_,setIsAuth:E,setName:C,userSelf:w}=Rt,[S,N]=y.useState(!1),[T,k]=y.useState(!1),[I,A]=y.useState(!1),[x,D]=y.useState(!1),[P,M]=y.useState(!1),[R,F]=y.useState(null),[U,$]=y.useState(!1),[H,K]=y.useState(!1),[L,le]=y.useState(!1),[q,O]=y.useState(!1),[ee,Q]=y.useState(!1),[oe,V]=J("header",t),Ae=Zn();y.useEffect(()=>{if(i.length>0)return;(async()=>{const Se=await zo();l(Se.data)})()},[]);const ne=y.useRef(null),Ce=y.useRef(null),rt=y.useRef(null),ot=y.useRef(null),Et=y.useRef(null),j=y.useRef(null),pt=()=>{a(!0),s("login")},be=()=>{a(!0),s("registration")},ue=()=>{dt.remove("token"),dt.remove("avatar"),dt.remove("name"),dt.remove("user-id"),dt.remove("subscription_type"),dt.remove("user_level"),dt.remove("user_total_completed_goals"),_(""),E(!1),C(""),vr.clearNotifications(),Qr.clear(),ei.clear(),Ae("/")},Ne=Y=>{Y.stopPropagation(),N(!S)},De=Y=>{Y.stopPropagation(),k(!T)},Te=Y=>{Y.stopPropagation(),A(!I)},de=y.useCallback(Y=>{var pe;const Se=Y.target;(pe=Y.target)!=null&&pe.closest(".modal-phone")||(ne.current&&!ne.current.contains(Se)&&$(!1),j.current&&!j.current.contains(Se)&&(D(!1),F(null)),rt.current&&!rt.current.contains(Se)&&N(!1),ot.current&&!ot.current.contains(Se)&&k(!1),Et.current&&!Et.current.contains(Se)&&A(!1))},[]),We=()=>{d&&K(!0)},fe=Y=>{m&&!d&&(Y.preventDefault(),D(!x))};y.useEffect(()=>{g&&db()},[g]),y.useEffect(()=>{const Y=()=>{M(window.scrollY>0)};return Y(),window.addEventListener("scroll",Y),()=>{window.removeEventListener("scroll",Y)}},[]),y.useEffect(()=>{g?Qr.loadTodayCount():Qr.clear()},[g]),y.useEffect(()=>{g?ei.loadGoalsInProgress():ei.clear()},[g]),y.useEffect(()=>(U||x||S||T||I?document.addEventListener("mousedown",de):document.removeEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}),[U,x,S,T,I,de]);const Ve=p("div",{className:V("profile-menu"),children:[o(cb,{hideSubscriptionButton:!0,noBorder:!0}),d?p(nt,{children:[o("button",{type:"button",className:V("menu-item"),onClick:()=>{K(!0),N(!0)},children:"Уведомления"}),o(at,{margin:"8px 0"})]}):o(at,{margin:"8px 0"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self",end:!0,children:"Дашборд"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self/active-goals",end:!0,children:"Активные цели и списки"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self/progress",end:!0,children:"Прогресс целей"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self/regular",end:!0,children:"Регулярные цели"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self/folders",end:!0,children:"Папки целей"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self/done-goals",end:!0,children:"Выполненные"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self/achievements",end:!0,children:"Достижения"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self/friends",end:!0,children:"Друзья"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self/maps",end:!0,children:"Мои карты"}),o(at,{margin:"8px 0"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self/subs",end:!0,children:"Больше функционала"}),o(Or,{className:({isActive:Y})=>V("menu-item",{active:Y}),to:"/user/self/settings",end:!0,children:"Настройки"}),o(z,{type:"button",className:V("menu-item-red"),onClick:ue,children:"Выход"})]}),Qe=p("ul",{className:V("list",{open:U,noAuth:!g}),children:[!g&&d&&p(nt,{children:[o(z,{theme:"integrate",size:"small",onClick:pt,children:"Войти"}),o(z,{theme:"integrate",size:"small",onClick:be,children:"Регистрация"}),o(at,{className:V("list-line"),margin:"8px 0"})]}),o("li",{className:V("item"),children:o(Fe,{className:V("item-link",{active:r==="isMainGoals"}),to:"/list/100-goals",children:"100 целей"})}),o("li",{className:V("item"),children:o(Fe,{className:V("item-link",{active:r==="isCategoriesAll"}),to:"/categories/all",children:"Каталог"})}),o("li",{className:V("item"),children:o(Fe,{className:V("item-link",{active:r==="isLeaders"}),to:"/leaders",children:"Лидеры"})}),o("li",{className:V("item"),children:o(Fe,{className:V("item-link",{active:r==="isNews"}),to:"/news",children:"Новости"})}),o("li",{className:V("item"),children:o(Fe,{className:V("item-link",{active:r==="isAbout"}),to:"/about",children:"О проекте"})}),o("li",{className:V("item"),children:o(Fe,{className:V("item-link",{active:r==="isHelp"}),to:"/help",children:"Помощь"})}),o("li",{className:V("item"),children:o(Fe,{className:V("item-link",{active:r==="isContacts"}),to:"/contacts",children:"Контакты"})})]}),re=p("div",{className:V("profile"),children:[o(z,{className:V("sign-in"),theme:"blue-light",size:d?"medium":"small",onClick:pt,children:"Войти"}),o(z,{className:V("registration"),theme:"blue",size:d?"medium":"small",icon:"rocket",onClick:be,children:"Регистрация"})]});return p("header",{className:oe({theme:n,compact:P}),children:[p("div",{className:V("wrapper-pre-header",{hidden:P}),children:[o("nav",{className:V("nav"),ref:ne,children:!d&&Qe}),o("button",{type:"button",className:V("item-link",{active:r==="isReview"}),onClick:()=>Q(!0),children:"Оставить отзыв"})]}),o("div",{className:V("wrapper"),children:f?p(nt,{children:[p("div",{className:V("row-1"),children:[o("div",{className:V("menu-button-wrap"),children:o(z,{className:V("categories-link-menu"),onClick:()=>$(!U),children:o(ie,{icon:"bars",className:V("categories-icon"),width:"24px",height:"24px"})})}),o("div",{className:V("logo-wrap"),children:o(Fe,{className:V("logo"),to:"/","aria-label":"Главная",children:o(ie,{icon:"delting"})})}),g?o("div",{className:V("row-1-avatar"),children:o("div",{className:V("profile"),role:"button",tabIndex:0,onClick:We,onKeyDown:Y=>{(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),We())},"aria-label":"Открыть меню пользователя",children:o(Jn,{avatar:v,size:"small",noBorder:!0,isPremium:(w==null?void 0:w.subscriptionType)==="premium"})})}):o("div",{className:V("row-1-avatar"),children:o("button",{type:"button",className:V("profile"),onClick:()=>K(!0),"aria-label":"Открыть меню пользователя",children:o(ie,{icon:"user",width:"16px",height:"16px",className:V("profile-icon")})})})]}),p("ul",{className:V("list-categories",{row2:!0}),children:[o("li",{ref:j,className:V("categories-item"),onMouseEnter:()=>c&&D(!0),onMouseLeave:()=>{c&&(D(!1),F(null))},children:o(z,{className:V("categories-link"),onClick:()=>O(!0),children:o(ie,{icon:"apps",className:V("categories-icon")})})}),o("li",{className:V("search-item"),children:o(Id,{className:V("search"),theme:n})})]})]}):p(nt,{children:[o(Fe,{className:V("logo"),to:"/","aria-label":"Главная",children:d?o(ie,{icon:"icon-logo",className:V("logo-icon")}):o(ie,{icon:"delting"})}),d&&!f&&o(z,{width:"auto",className:V("categories-link-menu"),onClick:()=>$(!U),children:o(ie,{icon:"bars",className:V("categories-icon"),width:"24px",height:"24px"})}),p("ul",{className:V("list-categories"),children:[p("li",{ref:j,className:V("categories-item"),onMouseEnter:()=>c&&D(!0),onMouseLeave:()=>{c&&(D(!1),F(null))},children:[m?p("button",{type:"button",className:V("categories-link"),onClick:fe,children:[o(ie,{icon:"apps",className:V("categories-icon")}),h?"Категории":""]}):c?p("div",{className:V("categories-link"),children:[o(ie,{icon:"apps",className:V("categories-icon")}),h?"Категории":""]}):o(z,{className:V("categories-link"),onClick:()=>O(!0),children:o(ie,{icon:"apps",className:V("categories-icon")})}),o(si,{children:x&&o(fn.ul,{className:V("categories-list",{open:!0}),initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},transition:{duration:.15,ease:"easeOut"},children:i.map(Y=>p("li",{className:V("categories-item-parent"),onMouseEnter:()=>F(Y.id),onMouseLeave:()=>F(null),children:[p(Fe,{className:V("category-link"),to:"/categories/".concat(Y.nameEn),children:[Y!=null&&Y.icon?o("img",{src:Y==null?void 0:Y.icon,alt:Y==null?void 0:Y.name,className:V("categories-icon-img")}):o(ie,{icon:(Y==null?void 0:Y.icon)||"apps"}),Y.name,o(ie,{icon:"arrow",className:V("categories-arrow")})]}),o(si,{children:Y.children.length>0&&R===Y.id&&o(fn.ul,{className:V("categories-list",{child:!0,open:!0}),initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:8},transition:{duration:.15,ease:"easeOut"},children:Y.children.map(Se=>o(Fe,{className:V("category-link",{child:!0}),to:"/categories/".concat(Se.nameEn),children:Se.name},Se.id))})})]},Y.id))})})]}),o("li",{className:V("search-item"),children:o(Id,{className:V("search"),theme:n})})]}),g?!f&&p("div",{className:V("right-menu"),children:[!d&&o(z,{size:"small",type:"Link",theme:"light",icon:"plus",iconSize:"24px",href:"/goals/create",children:u?"":"Создать"}),p("div",{className:V("notifications-wrapper"),ref:rt,children:[p("button",{type:"button",className:V("notifications-button"),onClick:Ne,"aria-label":"Уведомления",children:[o(ie,{icon:"bell",className:V("notifications-icon",{theme:n})}),vr.hasUnreadNotifications&&o("span",{className:V("notifications-badge"),children:vr.unreadCount>99?"99+":vr.unreadCount})]}),!d&&p("div",{className:V("progress-wrapper"),ref:Et,children:[o("button",{type:"button",className:V("notifications-button",{progress:!0}),onClick:Te,"aria-label":"Прогресс",children:ei.hasRegularGoalsToday?p("span",{className:V("regular-goals-badge",{allCompleted:I}),children:[o(ie,{icon:"signal",className:V("regular-goals-badge-icon",{theme:n})}),o("span",{className:V("regular-goals-badge-count",{theme:n}),children:ei.goalsCount>99?"99+":ei.goalsCount})]}):o(ie,{icon:"signal",className:V("regular-goals-icon",{theme:n})})}),o(si,{children:I&&o(fn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:V("progress-dropdown"),children:o(Rp,{variant:"progress",isOpen:I,onClose:()=>A(!1)})})})]}),!d&&p(nt,{children:[o("button",{type:"button",className:V("notifications-button"),onClick:De,"aria-label":"Регулярные цели",children:Qr.hasRegularGoalsToday?p("span",{className:V("regular-goals-badge",{allCompleted:Qr.allCompletedToday}),children:[o(ie,{icon:Qr.allCompletedToday?"regular":"regular-empty",className:V("regular-goals-badge-icon",{theme:n})}),o("span",{className:V("regular-goals-badge-count",{theme:n}),children:Qr.todayCount>99?"99+":Qr.todayCount})]}):o(ie,{icon:"regular-empty",className:V("regular-goals-icon",{theme:n})})}),o(si,{children:S&&o(fn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:V("notifications-dropdown"),children:o(AN,{isOpen:S,onClose:()=>N(!1)})})}),o(si,{children:T&&o(fn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:V("regular-goals-dropdown"),children:o(Rp,{isOpen:T,onClose:()=>k(!1)})})})]})]}),p("div",{className:V("profile-wrapper"),ref:Ce,children:[p("div",{className:V("profile"),role:"button",tabIndex:0,onClick:We,onKeyDown:Y=>{(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),We())},children:[o(Jn,{avatar:v,size:"small",noBorder:!0,isPremium:(w==null?void 0:w.subscriptionType)==="premium"}),!d&&o(ie,{icon:"arrow--right",className:V("profile-arrow")})]}),!d&&Ve]})]}):d?o("div",{className:V("right-menu"),children:o("div",{className:V("profile-wrapper"),children:o("button",{type:"button",className:V("profile"),onClick:()=>K(!0),"aria-label":"Открыть меню пользователя",children:o(ie,{icon:"user",width:"16px",height:"16px",className:V("profile-icon")})})})}):re]})}),o(Yl,{title:"Меню",isOpen:d&&U,onClose:()=>$(!1),children:p("div",{className:V("menu-wrapper"),children:[Qe,o(at,{margin:"0"}),o("button",{type:"button",className:V("item-link",{active:r==="isReview"}),onClick:()=>Q(!0),children:"Оставить отзыв"})]})}),o(Yl,{title:"Пользователь",isOpen:d&&H,onClose:()=>K(!1),children:o("div",{className:V("menu-wrapper"),children:g?Ve:re})}),o(Yl,{title:"Поиск",isOpen:L,onClose:()=>le(!1),children:o(Id,{className:V("search"),isModal:!0})}),o(Yl,{title:"Категории",isOpen:q,onClose:()=>O(!1),children:o("div",{className:V("categories-modal"),children:i.map(Y=>p("div",{className:V("category-group"),children:[p(Fe,{className:V("category-main-link"),to:"/categories/".concat(Y.nameEn),onClick:()=>O(!1),children:[Y!=null&&Y.icon?o("img",{src:Y==null?void 0:Y.icon,alt:Y==null?void 0:Y.name,className:V("categories-icon-img")}):o(ie,{icon:(Y==null?void 0:Y.icon)||"apps"}),Y.name]}),Y.children.length>0&&o("div",{className:V("category-children"),children:Y.children.map(Se=>o(Fe,{className:V("category-child-link"),to:"/categories/".concat(Se.nameEn),onClick:()=>O(!1),children:Se.name},Se.id))})]},Y.id))})}),o(QP,{isOpen:ee,onClose:()=>Q(!1)})]})}),am=({title:e,description:t="Delting - платформа для достижения целей и составления списков желаний",image:n="/delting.jpg",url:r=window.location.href,type:a="website",dynamicImage:s})=>{const i=s||n,l=i.startsWith("http")||i.startsWith("data:")?i:"".concat(window.location.origin).concat(i);return p(xC,{children:[p("title",{children:[e," | Delting"]}),o("meta",{name:"description",content:t}),o("meta",{property:"og:title",content:e}),o("meta",{property:"og:description",content:t}),o("meta",{property:"og:image",content:l}),o("meta",{property:"og:url",content:r}),o("meta",{property:"og:type",content:a}),o("meta",{property:"og:site_name",content:"Delting"}),o("meta",{name:"twitter:card",content:"summary_large_image"}),o("meta",{name:"twitter:title",content:e}),o("meta",{name:"twitter:description",content:t}),o("meta",{name:"twitter:image",content:l}),o("meta",{property:"telegram:title",content:e}),o("meta",{property:"telegram:description",content:t}),o("meta",{property:"telegram:image",content:l}),o("meta",{property:"vk:image",content:l})]})};const os=({type:e,title:t,message:n,actionText:r,onAction:a,onClose:s,className:i})=>{const[l,c]=J("alert",i);return p("div",{className:l({type:e}),children:[o(ie,{icon:"info",className:c("icon",{type:e})}),p("div",{className:c("body"),children:[p("div",{className:c("header"),children:[t!=null&&o("h3",{className:c("title"),children:t}),p("div",{className:c("actions"),children:[r!=null&&a!=null&&o(z,{className:c("action"),theme:"no-border",type:"button",width:"auto",onClick:a,children:r}),s!=null&&o(z,{type:"button-close",onClick:s,className:c("close")})]})]}),n!=null&&o("div",{className:c("message-wrap"),children:typeof n=="string"?o("p",{className:c("message"),children:n}):n})]})]})};const eL=e=>e==="error"?"danger":e,tL=ze(({id:e,type:t,title:n,message:r,actionText:a,action:s})=>{const[i]=J("notification");return o(fn.div,{className:i(),initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.9},transition:{duration:.3},children:o(os,{type:eL(t),title:n,message:typeof r=="string"?r:void 0,actionText:a,onAction:s,onClose:()=>me.removeNotification(e)})})});const nL=ze(()=>{const[e]=J("notification-container");return o("div",{className:e(),children:o(si,{children:me.visibleNotifications.map(t=>o(tL,{...t},t.id))})})}),rL=({shouldScroll:e})=>{const{pathname:t}=Hi(),n=y.useRef(t);return y.useEffect(()=>{const r=n.current;n.current=t,(e?e(r,t):!0)&&window.scrollTo(0,0)},[t,e]),null};function jg(e){const t=[],n=String(e||"");let r=n.indexOf(","),a=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const i=n.slice(a,r).trim();(i||!s)&&t.push(i),a=r+1,r=n.indexOf(",",a)}return t}function wE(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const aL=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sL=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,iL={};function Kg(e,t){return((t||iL).jsx?sL:aL).test(e)}const oL=/[ \t\n\f\r]/g;function lL(e){return typeof e=="object"?e.type==="text"?Qg(e.value):!1:Qg(e)}function Qg(e){return e.replace(oL,"")===""}let rl=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};rl.prototype.normal={};rl.prototype.property={};rl.prototype.space=void 0;function CE(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new rl(n,r,t)}function Io(e){return e.toLowerCase()}let er=class{constructor(t,n){this.attribute=n,this.property=t}};er.prototype.attribute="";er.prototype.booleanish=!1;er.prototype.boolean=!1;er.prototype.commaOrSpaceSeparated=!1;er.prototype.commaSeparated=!1;er.prototype.defined=!1;er.prototype.mustUseProperty=!1;er.prototype.number=!1;er.prototype.overloadedBoolean=!1;er.prototype.property="";er.prototype.spaceSeparated=!1;er.prototype.space=void 0;let cL=0;const mt=Vs(),bn=Vs(),zf=Vs(),_e=Vs(),Qt=Vs(),vi=Vs(),ar=Vs();function Vs(){return 2**++cL}const Vf=Object.freeze(Object.defineProperty({__proto__:null,boolean:mt,booleanish:bn,commaOrSpaceSeparated:ar,commaSeparated:vi,number:_e,overloadedBoolean:zf,spaceSeparated:Qt},Symbol.toStringTag,{value:"Module"})),Ld=Object.keys(Vf);let sm=class extends er{constructor(t,n,r,a){let s=-1;if(super(t,n),Xg(this,"space",a),typeof r=="number")for(;++s<Ld.length;){const i=Ld[s];Xg(this,Ld[s],(r&Vf[i])===Vf[i])}}};sm.prototype.defined=!0;function Xg(e,t,n){n&&(e[t]=n)}function Vi(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const s=new sm(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Io(r)]=r,n[Io(s.attribute)]=r}return new rl(t,n,e.space)}const TE=Vi({properties:{ariaActiveDescendant:null,ariaAtomic:bn,ariaAutoComplete:null,ariaBusy:bn,ariaChecked:bn,ariaColCount:_e,ariaColIndex:_e,ariaColSpan:_e,ariaControls:Qt,ariaCurrent:null,ariaDescribedBy:Qt,ariaDetails:null,ariaDisabled:bn,ariaDropEffect:Qt,ariaErrorMessage:null,ariaExpanded:bn,ariaFlowTo:Qt,ariaGrabbed:bn,ariaHasPopup:null,ariaHidden:bn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qt,ariaLevel:_e,ariaLive:null,ariaModal:bn,ariaMultiLine:bn,ariaMultiSelectable:bn,ariaOrientation:null,ariaOwns:Qt,ariaPlaceholder:null,ariaPosInSet:_e,ariaPressed:bn,ariaReadOnly:bn,ariaRelevant:null,ariaRequired:bn,ariaRoleDescription:Qt,ariaRowCount:_e,ariaRowIndex:_e,ariaRowSpan:_e,ariaSelected:bn,ariaSetSize:_e,ariaSort:null,ariaValueMax:_e,ariaValueMin:_e,ariaValueNow:_e,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function SE(e,t){return t in e?e[t]:t}function NE(e,t){return SE(e,t.toLowerCase())}const uL=Vi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vi,acceptCharset:Qt,accessKey:Qt,action:null,allow:null,allowFullScreen:mt,allowPaymentRequest:mt,allowUserMedia:mt,alt:null,as:null,async:mt,autoCapitalize:null,autoComplete:Qt,autoFocus:mt,autoPlay:mt,blocking:Qt,capture:null,charSet:null,checked:mt,cite:null,className:Qt,cols:_e,colSpan:null,content:null,contentEditable:bn,controls:mt,controlsList:Qt,coords:_e|vi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:mt,defer:mt,dir:null,dirName:null,disabled:mt,download:zf,draggable:bn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:mt,formTarget:null,headers:Qt,height:_e,hidden:zf,high:_e,href:null,hrefLang:null,htmlFor:Qt,httpEquiv:Qt,id:null,imageSizes:null,imageSrcSet:null,inert:mt,inputMode:null,integrity:null,is:null,isMap:mt,itemId:null,itemProp:Qt,itemRef:Qt,itemScope:mt,itemType:Qt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:mt,low:_e,manifest:null,max:null,maxLength:_e,media:null,method:null,min:null,minLength:_e,multiple:mt,muted:mt,name:null,nonce:null,noModule:mt,noValidate:mt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:mt,optimum:_e,pattern:null,ping:Qt,placeholder:null,playsInline:mt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:mt,referrerPolicy:null,rel:Qt,required:mt,reversed:mt,rows:_e,rowSpan:_e,sandbox:Qt,scope:null,scoped:mt,seamless:mt,selected:mt,shadowRootClonable:mt,shadowRootDelegatesFocus:mt,shadowRootMode:null,shape:null,size:_e,sizes:null,slot:null,span:_e,spellCheck:bn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_e,step:null,style:null,tabIndex:_e,target:null,title:null,translate:null,type:null,typeMustMatch:mt,useMap:null,value:bn,width:_e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qt,axis:null,background:null,bgColor:null,border:_e,borderColor:null,bottomMargin:_e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:mt,declare:mt,event:null,face:null,frame:null,frameBorder:null,hSpace:_e,leftMargin:_e,link:null,longDesc:null,lowSrc:null,marginHeight:_e,marginWidth:_e,noResize:mt,noHref:mt,noShade:mt,noWrap:mt,object:null,profile:null,prompt:null,rev:null,rightMargin:_e,rules:null,scheme:null,scrolling:bn,standby:null,summary:null,text:null,topMargin:_e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:mt,disableRemotePlayback:mt,prefix:null,property:null,results:_e,security:null,unselectable:null},space:"html",transform:NE}),dL=Vi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ar,accentHeight:_e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_e,amplitude:_e,arabicForm:null,ascent:_e,attributeName:null,attributeType:null,azimuth:_e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_e,by:null,calcMode:null,capHeight:_e,className:Qt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_e,diffuseConstant:_e,direction:null,display:null,dur:null,divisor:_e,dominantBaseline:null,download:mt,dx:null,dy:null,edgeMode:null,editable:null,elevation:_e,enableBackground:null,end:null,event:null,exponent:_e,externalResourcesRequired:null,fill:null,fillOpacity:_e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vi,g2:vi,glyphName:vi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_e,horizOriginX:_e,horizOriginY:_e,id:null,ideographic:_e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_e,k:_e,k1:_e,k2:_e,k3:_e,k4:_e,kernelMatrix:ar,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_e,overlineThickness:_e,paintOrder:null,panose1:null,path:null,pathLength:_e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_e,pointsAtY:_e,pointsAtZ:_e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ar,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ar,rev:ar,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ar,requiredFeatures:ar,requiredFonts:ar,requiredFormats:ar,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_e,specularExponent:_e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_e,strikethroughThickness:_e,string:null,stroke:null,strokeDashArray:ar,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_e,strokeOpacity:_e,strokeWidth:null,style:null,surfaceScale:_e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ar,tabIndex:_e,tableValues:null,target:null,targetX:_e,targetY:_e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ar,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_e,underlineThickness:_e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_e,values:null,vAlphabetic:_e,vMathematical:_e,vectorEffect:null,vHanging:_e,vIdeographic:_e,version:null,vertAdvY:_e,vertOriginX:_e,vertOriginY:_e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:SE}),kE=Vi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),DE=Vi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:NE}),xE=Vi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),fL={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hL=/[A-Z]/g,Jg=/-[a-z]/g,mL=/^data[-\w.:]+$/i;function im(e,t){const n=Io(t);let r=t,a=er;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mL.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Jg,gL);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Jg.test(s)){let i=s.replace(hL,pL);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}a=sm}return new a(r,t)}function pL(e){return"-"+e.toLowerCase()}function gL(e){return e.charAt(1).toUpperCase()}const Lu=CE([TE,uL,kE,DE,xE],"html"),qi=CE([TE,dL,kE,DE,xE],"svg");function Zg(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function AE(e){return e.join(" ").trim()}var om={},e0=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,yL=/\n/g,vL=/^\s*/,bL=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,EL=/^:\s*/,_L=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,wL=/^[;\s]*/,CL=/^\s+|\s+$/g,TL="\n",t0="/",n0="*",bs="",SL="comment",NL="declaration",kL=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(g){var v=g.match(yL);v&&(n+=v.length);var _=g.lastIndexOf(TL);r=~_?g.length-_:r+g.length}function s(){var g={line:n,column:r};return function(v){return v.position=new i(g),u(),v}}function i(g){this.start=g,this.end={line:n,column:r},this.source=t.source}i.prototype.content=e;function l(g){var v=new Error(t.source+":"+n+":"+r+": "+g);if(v.reason=g,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function c(g){var v=g.exec(e);if(v){var _=v[0];return a(_),e=e.slice(_.length),v}}function u(){c(vL)}function d(g){var v;for(g=g||[];v=f();)v!==!1&&g.push(v);return g}function f(){var g=s();if(!(t0!=e.charAt(0)||n0!=e.charAt(1))){for(var v=2;bs!=e.charAt(v)&&(n0!=e.charAt(v)||t0!=e.charAt(v+1));)++v;if(v+=2,bs===e.charAt(v-1))return l("End of comment missing");var _=e.slice(2,v-2);return r+=2,a(_),e=e.slice(v),r+=2,g({type:SL,comment:_})}}function m(){var g=s(),v=c(bL);if(v){if(f(),!c(EL))return l("property missing ':'");var _=c(_L),E=g({type:NL,property:r0(v[0].replace(e0,bs)),value:_?r0(_[0].replace(e0,bs)):bs});return c(wL),E}}function h(){var g=[];d(g);for(var v;v=m();)v!==!1&&(g.push(v),d(g));return g}return u(),h()};function r0(e){return e?e.replace(CL,bs):bs}var DL=Sr&&Sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(om,"__esModule",{value:!0});om.default=AL;var xL=DL(kL);function AL(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,xL.default)(e),a=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var i=s.property,l=s.value;a?t(i,l,s):l&&(n=n||{},n[i]=l)}}),n}var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.camelCase=void 0;var PL=/^--[a-zA-Z0-9_-]+$/,OL=/-([a-z])/g,IL=/^[^-]+$/,LL=/^-(webkit|moz|ms|o|khtml)-/,RL=/^-(ms)-/,ML=function(e){return!e||IL.test(e)||PL.test(e)},FL=function(e,t){return t.toUpperCase()},a0=function(e,t){return"".concat(t,"-")},BL=function(e,t){return t===void 0&&(t={}),ML(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(RL,a0):e=e.replace(LL,a0),e.replace(OL,FL))};Ru.camelCase=BL;var UL=Sr&&Sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},HL=UL(om),GL=Ru;function qf(e,t){var n={};return!e||typeof e!="string"||(0,HL.default)(e,function(r,a){r&&a&&(n[(0,GL.camelCase)(r,t)]=a)}),n}qf.default=qf;var $L=qf;const WL=Bo($L),Mu=PE("end"),_a=PE("start");function PE(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function OE(e){const t=_a(e),n=Mu(e);if(t&&n)return{start:t,end:n}}function yo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?s0(e.position):"start"in e||"end"in e?s0(e):"line"in e||"column"in e?jf(e):""}function jf(e){return i0(e&&e.line)+":"+i0(e&&e.column)}function s0(e){return jf(e&&e.start)+"-"+jf(e&&e.end)}function i0(e){return e&&typeof e=="number"?e:1}class Mn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",s={},i=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?a=t:!s.cause&&t&&(i=!0,a=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=yo(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=i&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Mn.prototype.file="";Mn.prototype.name="";Mn.prototype.reason="";Mn.prototype.message="";Mn.prototype.stack="";Mn.prototype.column=void 0;Mn.prototype.line=void 0;Mn.prototype.ancestors=void 0;Mn.prototype.cause=void 0;Mn.prototype.fatal=void 0;Mn.prototype.place=void 0;Mn.prototype.ruleId=void 0;Mn.prototype.source=void 0;const lm={}.hasOwnProperty,YL=new Map,zL=/[A-Z]/g,VL=new Set(["table","tbody","thead","tfoot","tr"]),qL=new Set(["td","th"]),IE="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function jL(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=nR(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=tR(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?qi:Lu,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=LE(a,e,void 0);return s&&typeof s!="string"?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function LE(e,t,n){if(t.type==="element")return KL(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return QL(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return JL(e,t,n);if(t.type==="mdxjsEsm")return XL(e,t);if(t.type==="root")return ZL(e,t,n);if(t.type==="text")return eR(e,t)}function KL(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=qi,e.schema=a),e.ancestors.push(t);const s=ME(e,t.tagName,!1),i=rR(e,t);let l=um(e,t);return VL.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!lL(c):!0})),RE(e,i,s,t),cm(i,l),e.ancestors.pop(),e.schema=r,e.create(t,s,i,n)}function QL(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Lo(e,t.position)}function XL(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Lo(e,t.position)}function JL(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=qi,e.schema=a),e.ancestors.push(t);const s=t.name===null?e.Fragment:ME(e,t.name,!0),i=aR(e,t),l=um(e,t);return RE(e,i,s,t),cm(i,l),e.ancestors.pop(),e.schema=r,e.create(t,s,i,n)}function ZL(e,t,n){const r={};return cm(r,um(e,t)),e.create(t,e.Fragment,r,n)}function eR(e,t){return t.value}function RE(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function cm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function tR(e,t,n){return r;function r(a,s,i,l){const u=Array.isArray(i.children)?n:t;return l?u(s,i,l):u(s,i)}}function nR(e,t){return n;function n(r,a,s,i){const l=Array.isArray(s.children),c=_a(r);return t(a,s,i,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function rR(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&lm.call(t.properties,a)){const s=sR(e,a,t.properties[a]);if(s){const[i,l]=s;e.tableCellAlignToStyle&&i==="align"&&typeof l=="string"&&qL.has(t.tagName)?r=l:n[i]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function aR(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const i=s.expression;i.type;const l=i.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Lo(e,t.position);else{const a=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else Lo(e,t.position);else s=r.value===null?!0:r.value;n[a]=s}return n}function um(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:YL;for(;++r<t.children.length;){const s=t.children[r];let i;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=a.get(c)||0;i=c+"-"+u,a.set(c,u+1)}}const l=LE(e,s,i);l!==void 0&&n.push(l)}return n}function sR(e,t,n){const r=im(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?wE(n):AE(n)),r.property==="style"){let a=typeof n=="object"?n:iR(e,String(n));return e.stylePropertyNameCase==="css"&&(a=oR(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?fL[r.property]||r.property:r.attribute,n]}}function iR(e,t){try{return WL(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Mn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=IE+"#cannot-parse-style-attribute",a}}function ME(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let s=-1,i;for(;++s<a.length;){const l=Kg(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};i=i?{type:"MemberExpression",object:i,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=i}else r=Kg(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return lm.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Lo(e)}function Lo(e,t){const n=new Mn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=IE+"#cannot-handle-mdx-estrees-without-createevaluater",n}function oR(e){const t={};let n;for(n in e)lm.call(e,n)&&(t[lR(n)]=e[n]);return t}function lR(e){let t=e.replace(zL,cR);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function cR(e){return"-"+e.toLowerCase()}const Rd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},uR={};function dm(e,t){const n=t||uR,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return FE(e,r,a)}function FE(e,t,n){if(dR(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return o0(e.children,t,n)}return Array.isArray(e)?o0(e,t,n):""}function o0(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=FE(e[a],t,n);return r.join("")}function dR(e){return!!(e&&typeof e=="object")}const l0=document.createElement("i");function fm(e){const t="&"+e+";";l0.innerHTML=t;const n=l0.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function dr(e,t,n,r){const a=e.length;let s=0,i;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);s<r.length;)i=r.slice(s,s+1e4),i.unshift(t,0),e.splice(...i),s+=1e4,t+=1e4}function Er(e,t){return e.length>0?(dr(e,e.length,0,t),e):t}const c0={}.hasOwnProperty;function BE(e){const t={};let n=-1;for(;++n<e.length;)fR(t,e[n]);return t}function fR(e,t){let n;for(n in t){const a=(c0.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let i;if(s)for(i in s){c0.call(a,i)||(a[i]=[]);const l=s[i];hR(a[i],Array.isArray(l)?l:l?[l]:[])}}}function hR(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);dr(e,0,0,r)}function UE(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ur(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wn=us(/[A-Za-z]/),Rn=us(/[\dA-Za-z]/),mR=us(/[#-'*+\--9=?A-Z^-~]/);function Yc(e){return e!==null&&(e<32||e===127)}const Kf=us(/\d/),pR=us(/[\dA-Fa-f]/),gR=us(/[!-/:-@[-`{-~]/);function Je(e){return e!==null&&e<-2}function Kt(e){return e!==null&&(e<0||e===32)}function bt(e){return e===-2||e===-1||e===32}const Fu=us(new RegExp("\\p{P}|\\p{S}","u")),Ms=us(/\s/);function us(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ji(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const s=e.charCodeAt(n);let i="";if(s===37&&Rn(e.charCodeAt(n+1))&&Rn(e.charCodeAt(n+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(i=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(i=String.fromCharCode(s,l),a=1):i="�"}else i=String.fromCharCode(s);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+a+1,i=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Nt(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let s=0;return i;function i(c){return bt(c)?(e.enter(n),l(c)):t(c)}function l(c){return bt(c)&&s++<a?(e.consume(c),l):(e.exit(n),t(c))}}const yR={tokenize:vR};function vR(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Nt(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),s(l)}function s(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,i(l)}function i(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Je(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),i)}}const bR={tokenize:ER},u0={tokenize:_R};function ER(e){const t=this,n=[];let r=0,a,s,i;return l;function l(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&C();const S=t.events.length;let N=S,T;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){T=t.events[N][1].end;break}E(r);let k=S;for(;k<t.events.length;)t.events[k][1].end={...T},k++;return dr(t.events,N+1,0,t.events.slice(S)),t.events.length=k,u(w)}return l(w)}function u(w){if(r===n.length){if(!a)return m(w);if(a.currentConstruct&&a.currentConstruct.concrete)return g(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(u0,d,f)(w)}function d(w){return a&&C(),E(r),m(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,i=t.now().offset,g(w)}function m(w){return t.containerState={},e.attempt(u0,h,g)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),m(w)}function g(w){if(w===null){a&&C(),E(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:s}),v(w)}function v(w){if(w===null){_(e.exit("chunkFlow"),!0),E(0),e.consume(w);return}return Je(w)?(e.consume(w),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),v)}function _(w,S){const N=t.sliceStream(w);if(S&&N.push(null),w.previous=s,s&&(s.next=w),s=w,a.defineSkip(w.start),a.write(N),t.parser.lazy[w.start.line]){let T=a.events.length;for(;T--;)if(a.events[T][1].start.offset<i&&(!a.events[T][1].end||a.events[T][1].end.offset>i))return;const k=t.events.length;let I=k,A,x;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(A){x=t.events[I][1].end;break}A=!0}for(E(r),T=k;T<t.events.length;)t.events[T][1].end={...x},T++;dr(t.events,I+1,0,t.events.slice(k)),t.events.length=T}}function E(w){let S=n.length;for(;S-- >w;){const N=n[S];t.containerState=N[1],N[0].exit.call(t,e)}n.length=w}function C(){a.write([null]),s=void 0,a=void 0,t.containerState._closeFlow=void 0}}function _R(e,t,n){return Nt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Li(e){if(e===null||Kt(e)||Ms(e))return 1;if(Fu(e))return 2}function Bu(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Qf={name:"attention",resolveAll:wR,tokenize:CR};function wR(e,t){let n=-1,r,a,s,i,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},m={...e[n][1].start};d0(f,-c),d0(m,c),i={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...i.start},end:{...l.end}},e[r][1].end={...i.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Er(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Er(u,[["enter",a,t],["enter",i,t],["exit",i,t],["enter",s,t]]),u=Er(u,Bu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Er(u,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Er(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,dr(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function CR(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Li(r);let s;return i;function i(c){return s=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===s)return e.consume(c),l;const u=e.exit("attentionSequence"),d=Li(c),f=!d||d===2&&a||n.includes(c),m=!a||a===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(a||!m)),u._close=!!(s===42?m:m&&(d||!f)),t(c)}}function d0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const TR={name:"autolink",tokenize:SR};function SR(e,t,n){let r=0;return a;function a(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Wn(h)?(e.consume(h),i):h===64?n(h):u(h)}function i(h){return h===43||h===45||h===46||Rn(h)?(r=1,l(h)):u(h)}function l(h){return h===58?(e.consume(h),r=0,c):(h===43||h===45||h===46||Rn(h))&&r++<32?(e.consume(h),l):(r=0,u(h))}function c(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Yc(h)?n(h):(e.consume(h),c)}function u(h){return h===64?(e.consume(h),d):mR(h)?(e.consume(h),u):n(h)}function d(h){return Rn(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,d):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):m(h)}function m(h){if((h===45||Rn(h))&&r++<63){const g=h===45?m:f;return e.consume(h),g}return n(h)}}const al={partial:!0,tokenize:NR};function NR(e,t,n){return r;function r(s){return bt(s)?Nt(e,a,"linePrefix")(s):a(s)}function a(s){return s===null||Je(s)?t(s):n(s)}}const HE={continuation:{tokenize:DR},exit:xR,name:"blockQuote",tokenize:kR};function kR(e,t,n){const r=this;return a;function a(i){if(i===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),s}return n(i)}function s(i){return bt(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function DR(e,t,n){const r=this;return a;function a(i){return bt(i)?Nt(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):s(i)}function s(i){return e.attempt(HE,t,n)(i)}}function xR(e){e.exit("blockQuote")}const GE={name:"characterEscape",tokenize:AR};function AR(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),a}function a(s){return gR(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const $E={name:"characterReference",tokenize:PR};function PR(e,t,n){const r=this;let a=0,s,i;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,i=Rn,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,i=pR,d):(e.enter("characterReferenceValue"),s=7,i=Kf,d(f))}function d(f){if(f===59&&a){const m=e.exit("characterReferenceValue");return i===Rn&&!fm(r.sliceSerialize(m))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return i(f)&&a++<s?(e.consume(f),d):n(f)}}const f0={partial:!0,tokenize:IR},h0={concrete:!0,name:"codeFenced",tokenize:OR};function OR(e,t,n){const r=this,a={partial:!0,tokenize:N};let s=0,i=0,l;return c;function c(T){return u(T)}function u(T){const k=r.events[r.events.length-1];return s=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,l=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(T)}function d(T){return T===l?(i++,e.consume(T),d):i<3?n(T):(e.exit("codeFencedFenceSequence"),bt(T)?Nt(e,f,"whitespace")(T):f(T))}function f(T){return T===null||Je(T)?(e.exit("codeFencedFence"),r.interrupt?t(T):e.check(f0,v,S)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===null||Je(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(T)):bt(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Nt(e,h,"whitespace")(T)):T===96&&T===l?n(T):(e.consume(T),m)}function h(T){return T===null||Je(T)?f(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===null||Je(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(T)):T===96&&T===l?n(T):(e.consume(T),g)}function v(T){return e.attempt(a,S,_)(T)}function _(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),E}function E(T){return s>0&&bt(T)?Nt(e,C,"linePrefix",s+1)(T):C(T)}function C(T){return T===null||Je(T)?e.check(f0,v,S)(T):(e.enter("codeFlowValue"),w(T))}function w(T){return T===null||Je(T)?(e.exit("codeFlowValue"),C(T)):(e.consume(T),w)}function S(T){return e.exit("codeFenced"),t(T)}function N(T,k,I){let A=0;return x;function x(F){return T.enter("lineEnding"),T.consume(F),T.exit("lineEnding"),D}function D(F){return T.enter("codeFencedFence"),bt(F)?Nt(T,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):P(F)}function P(F){return F===l?(T.enter("codeFencedFenceSequence"),M(F)):I(F)}function M(F){return F===l?(A++,T.consume(F),M):A>=i?(T.exit("codeFencedFenceSequence"),bt(F)?Nt(T,R,"whitespace")(F):R(F)):I(F)}function R(F){return F===null||Je(F)?(T.exit("codeFencedFence"),k(F)):I(F)}}}function IR(e,t,n){const r=this;return a;function a(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s)}function s(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}const Md={name:"codeIndented",tokenize:RR},LR={partial:!0,tokenize:MR};function RR(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),Nt(e,s,"linePrefix",4+1)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(u):n(u)}function i(u){return u===null?c(u):Je(u)?e.attempt(LR,i,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||Je(u)?(e.exit("codeFlowValue"),i(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function MR(e,t,n){const r=this;return a;function a(i){return r.parser.lazy[r.now().line]?n(i):Je(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),a):Nt(e,s,"linePrefix",4+1)(i)}function s(i){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(i):Je(i)?a(i):n(i)}}const FR={name:"codeText",previous:UR,resolve:BR,tokenize:HR};function BR(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function UR(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function HR(e,t,n){let r=0,a,s;return i;function i(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(s=e.enter("codeTextSequence"),a=0,d(f)):Je(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Je(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class GR{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n==null?Number.POSITIVE_INFINITY:n;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&ao(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ao(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ao(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ao(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ao(this.left,n.reverse())}}}function ao(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function WE(e){const t={};let n=-1,r,a,s,i,l,c,u;const d=new GR(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,$R(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,a=void 0;s--;)if(i=d.get(s),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),i[1].type="lineEnding",a=s);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},l=d.slice(a,n),l.unshift(r),d.splice(a,n-a+1,l))}}return dr(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function $R(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const s=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const l=i.events,c=[],u={};let d,f,m=-1,h=n,g=0,v=0;const _=[v];for(;h;){for(;e.get(++a)[1]!==h;);s.push(a),h._tokenizer||(d=r.sliceStream(h),h.next||d.push(null),f&&i.defineSkip(h.start),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(v=m+1,_.push(v),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(i.events=[],h?(h._tokenizer=void 0,h.previous=void 0):_.pop(),m=_.length;m--;){const E=l.slice(_[m],_[m+1]),C=s.pop();c.push([C,C+E.length-1]),e.splice(C,2,E)}for(c.reverse(),m=-1;++m<c.length;)u[g+c[m][0]]=g+c[m][1],g+=c[m][1]-c[m][0]-1;return u}const WR={resolve:zR,tokenize:VR},YR={partial:!0,tokenize:qR};function zR(e){return WE(e),e}function VR(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?s(l):Je(l)?e.check(YR,i,s)(l):(e.consume(l),a)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function i(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function qR(e,t,n){const r=this;return a;function a(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Nt(e,s,"linePrefix")}function s(i){if(i===null||Je(i))return n(i);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function YE(e,t,n,r,a,s,i,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(E){return E===60?(e.enter(r),e.enter(a),e.enter(s),e.consume(E),e.exit(s),m):E===null||E===32||E===41||Yc(E)?n(E):(e.enter(r),e.enter(i),e.enter(l),e.enter("chunkString",{contentType:"string"}),v(E))}function m(E){return E===62?(e.enter(s),e.consume(E),e.exit(s),e.exit(a),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===62?(e.exit("chunkString"),e.exit(l),m(E)):E===null||E===60||Je(E)?n(E):(e.consume(E),E===92?g:h)}function g(E){return E===60||E===62||E===92?(e.consume(E),h):h(E)}function v(E){return!d&&(E===null||E===41||Kt(E))?(e.exit("chunkString"),e.exit(l),e.exit(i),e.exit(r),t(E)):d<u&&E===40?(e.consume(E),d++,v):E===41?(e.consume(E),d--,v):E===null||E===32||E===40||Yc(E)?n(E):(e.consume(E),E===92?_:v)}function _(E){return E===40||E===41||E===92?(e.consume(E),v):v(E)}}function zE(e,t,n,r,a,s){const i=this;let l=0,c;return u;function u(h){return e.enter(r),e.enter(a),e.consume(h),e.exit(a),e.enter(s),d}function d(h){return l>999||h===null||h===91||h===93&&!c||h===94&&!l&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):h===93?(e.exit(s),e.enter(a),e.consume(h),e.exit(a),e.exit(r),t):Je(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Je(h)||l++>999?(e.exit("chunkString"),d(h)):(e.consume(h),c||(c=!bt(h)),h===92?m:f)}function m(h){return h===91||h===92||h===93?(e.consume(h),l++,f):f(h)}}function VE(e,t,n,r,a,s){let i;return l;function l(m){return m===34||m===39||m===40?(e.enter(r),e.enter(a),e.consume(m),e.exit(a),i=m===40?41:m,c):n(m)}function c(m){return m===i?(e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):(e.enter(s),u(m))}function u(m){return m===i?(e.exit(s),c(i)):m===null?n(m):Je(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Nt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===i||m===null||Je(m)?(e.exit("chunkString"),u(m)):(e.consume(m),m===92?f:d)}function f(m){return m===i||m===92?(e.consume(m),d):d(m)}}function vo(e,t){let n;return r;function r(a){return Je(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):bt(a)?Nt(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const jR={name:"definition",tokenize:QR},KR={partial:!0,tokenize:XR};function QR(e,t,n){const r=this;let a;return s;function s(h){return e.enter("definition"),i(h)}function i(h){return zE.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return a=Ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),c):n(h)}function c(h){return Kt(h)?vo(e,u)(h):u(h)}function u(h){return YE(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function d(h){return e.attempt(KR,f,f)(h)}function f(h){return bt(h)?Nt(e,m,"whitespace")(h):m(h)}function m(h){return h===null||Je(h)?(e.exit("definition"),r.parser.defined.push(a),t(h)):n(h)}}function XR(e,t,n){return r;function r(l){return Kt(l)?vo(e,a)(l):n(l)}function a(l){return VE(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return bt(l)?Nt(e,i,"whitespace")(l):i(l)}function i(l){return l===null||Je(l)?t(l):n(l)}}const JR={name:"hardBreakEscape",tokenize:ZR};function ZR(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),a}function a(s){return Je(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const e3={name:"headingAtx",resolve:t3,tokenize:n3};function t3(e,t){let n=e.length-2,r=3,a,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},dr(e,r,n-r+1,[["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t]])),e}function n3(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&r++<6?(e.consume(d),i):d===null||Kt(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||Je(d)?(e.exit("atxHeading"),t(d)):bt(d)?Nt(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Kt(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const r3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],m0=["pre","script","style","textarea"],a3={concrete:!0,name:"htmlFlow",resolveTo:o3,tokenize:l3},s3={partial:!0,tokenize:u3},i3={partial:!0,tokenize:c3};function o3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function l3(e,t,n){const r=this;let a,s,i,l,c;return u;function u(O){return d(O)}function d(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),f}function f(O){return O===33?(e.consume(O),m):O===47?(e.consume(O),s=!0,v):O===63?(e.consume(O),a=3,r.interrupt?t:L):Wn(O)?(e.consume(O),i=String.fromCharCode(O),_):n(O)}function m(O){return O===45?(e.consume(O),a=2,h):O===91?(e.consume(O),a=5,l=0,g):Wn(O)?(e.consume(O),a=4,r.interrupt?t:L):n(O)}function h(O){return O===45?(e.consume(O),r.interrupt?t:L):n(O)}function g(O){const ee="CDATA[";return O===ee.charCodeAt(l++)?(e.consume(O),l===ee.length?r.interrupt?t:P:g):n(O)}function v(O){return Wn(O)?(e.consume(O),i=String.fromCharCode(O),_):n(O)}function _(O){if(O===null||O===47||O===62||Kt(O)){const ee=O===47,Q=i.toLowerCase();return!ee&&!s&&m0.includes(Q)?(a=1,r.interrupt?t(O):P(O)):r3.includes(i.toLowerCase())?(a=6,ee?(e.consume(O),E):r.interrupt?t(O):P(O)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):s?C(O):w(O))}return O===45||Rn(O)?(e.consume(O),i+=String.fromCharCode(O),_):n(O)}function E(O){return O===62?(e.consume(O),r.interrupt?t:P):n(O)}function C(O){return bt(O)?(e.consume(O),C):x(O)}function w(O){return O===47?(e.consume(O),x):O===58||O===95||Wn(O)?(e.consume(O),S):bt(O)?(e.consume(O),w):x(O)}function S(O){return O===45||O===46||O===58||O===95||Rn(O)?(e.consume(O),S):N(O)}function N(O){return O===61?(e.consume(O),T):bt(O)?(e.consume(O),N):w(O)}function T(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),c=O,k):bt(O)?(e.consume(O),T):I(O)}function k(O){return O===c?(e.consume(O),c=null,A):O===null||Je(O)?n(O):(e.consume(O),k)}function I(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Kt(O)?N(O):(e.consume(O),I)}function A(O){return O===47||O===62||bt(O)?w(O):n(O)}function x(O){return O===62?(e.consume(O),D):n(O)}function D(O){return O===null||Je(O)?P(O):bt(O)?(e.consume(O),D):n(O)}function P(O){return O===45&&a===2?(e.consume(O),U):O===60&&a===1?(e.consume(O),$):O===62&&a===4?(e.consume(O),le):O===63&&a===3?(e.consume(O),L):O===93&&a===5?(e.consume(O),K):Je(O)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(s3,q,M)(O)):O===null||Je(O)?(e.exit("htmlFlowData"),M(O)):(e.consume(O),P)}function M(O){return e.check(i3,R,q)(O)}function R(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),F}function F(O){return O===null||Je(O)?M(O):(e.enter("htmlFlowData"),P(O))}function U(O){return O===45?(e.consume(O),L):P(O)}function $(O){return O===47?(e.consume(O),i="",H):P(O)}function H(O){if(O===62){const ee=i.toLowerCase();return m0.includes(ee)?(e.consume(O),le):P(O)}return Wn(O)&&i.length<8?(e.consume(O),i+=String.fromCharCode(O),H):P(O)}function K(O){return O===93?(e.consume(O),L):P(O)}function L(O){return O===62?(e.consume(O),le):O===45&&a===2?(e.consume(O),L):P(O)}function le(O){return O===null||Je(O)?(e.exit("htmlFlowData"),q(O)):(e.consume(O),le)}function q(O){return e.exit("htmlFlow"),t(O)}}function c3(e,t,n){const r=this;return a;function a(i){return Je(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s):n(i)}function s(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}function u3(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(al,t,n)}}const d3={name:"htmlText",tokenize:f3};function f3(e,t,n){const r=this;let a,s,i;return l;function l(L){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(L),c}function c(L){return L===33?(e.consume(L),u):L===47?(e.consume(L),N):L===63?(e.consume(L),w):Wn(L)?(e.consume(L),I):n(L)}function u(L){return L===45?(e.consume(L),d):L===91?(e.consume(L),s=0,g):Wn(L)?(e.consume(L),C):n(L)}function d(L){return L===45?(e.consume(L),h):n(L)}function f(L){return L===null?n(L):L===45?(e.consume(L),m):Je(L)?(i=f,$(L)):(e.consume(L),f)}function m(L){return L===45?(e.consume(L),h):f(L)}function h(L){return L===62?U(L):L===45?m(L):f(L)}function g(L){const le="CDATA[";return L===le.charCodeAt(s++)?(e.consume(L),s===le.length?v:g):n(L)}function v(L){return L===null?n(L):L===93?(e.consume(L),_):Je(L)?(i=v,$(L)):(e.consume(L),v)}function _(L){return L===93?(e.consume(L),E):v(L)}function E(L){return L===62?U(L):L===93?(e.consume(L),E):v(L)}function C(L){return L===null||L===62?U(L):Je(L)?(i=C,$(L)):(e.consume(L),C)}function w(L){return L===null?n(L):L===63?(e.consume(L),S):Je(L)?(i=w,$(L)):(e.consume(L),w)}function S(L){return L===62?U(L):w(L)}function N(L){return Wn(L)?(e.consume(L),T):n(L)}function T(L){return L===45||Rn(L)?(e.consume(L),T):k(L)}function k(L){return Je(L)?(i=k,$(L)):bt(L)?(e.consume(L),k):U(L)}function I(L){return L===45||Rn(L)?(e.consume(L),I):L===47||L===62||Kt(L)?A(L):n(L)}function A(L){return L===47?(e.consume(L),U):L===58||L===95||Wn(L)?(e.consume(L),x):Je(L)?(i=A,$(L)):bt(L)?(e.consume(L),A):U(L)}function x(L){return L===45||L===46||L===58||L===95||Rn(L)?(e.consume(L),x):D(L)}function D(L){return L===61?(e.consume(L),P):Je(L)?(i=D,$(L)):bt(L)?(e.consume(L),D):A(L)}function P(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),a=L,M):Je(L)?(i=P,$(L)):bt(L)?(e.consume(L),P):(e.consume(L),R)}function M(L){return L===a?(e.consume(L),a=void 0,F):L===null?n(L):Je(L)?(i=M,$(L)):(e.consume(L),M)}function R(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Kt(L)?A(L):(e.consume(L),R)}function F(L){return L===47||L===62||Kt(L)?A(L):n(L)}function U(L){return L===62?(e.consume(L),e.exit("htmlTextData"),e.exit("htmlText"),t):n(L)}function $(L){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),H}function H(L){return bt(L)?Nt(e,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):K(L)}function K(L){return e.enter("htmlTextData"),i(L)}}const hm={name:"labelEnd",resolveAll:g3,resolveTo:y3,tokenize:v3},h3={tokenize:b3},m3={tokenize:E3},p3={tokenize:_3};function g3(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&dr(e,0,e.length,n),e}function y3(e,t){let n=e.length,r=0,a,s,i,l;for(;n--;)if(a=e[n][1],s){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(i){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(s=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(i=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[i][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[i-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=Er(l,e.slice(s+1,s+r+3)),l=Er(l,[["enter",d,t]]),l=Er(l,Bu(t.parser.constructs.insideSpan.null,e.slice(s+r+4,i-3),t)),l=Er(l,[["exit",d,t],e[i-2],e[i-1],["exit",u,t]]),l=Er(l,e.slice(i+1)),l=Er(l,[["exit",c,t]]),dr(e,s,e.length,l),e}function v3(e,t,n){const r=this;let a=r.events.length,s,i;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){s=r.events[a][1];break}return l;function l(m){return s?s._inactive?f(m):(i=r.parser.defined.includes(Ur(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),c):n(m)}function c(m){return m===40?e.attempt(h3,d,i?d:f)(m):m===91?e.attempt(m3,d,i?u:f)(m):i?d(m):f(m)}function u(m){return e.attempt(p3,d,f)(m)}function d(m){return t(m)}function f(m){return s._balanced=!0,n(m)}}function b3(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Kt(f)?vo(e,s)(f):s(f)}function s(f){return f===41?d(f):YE(e,i,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function i(f){return Kt(f)?vo(e,c)(f):d(f)}function l(f){return n(f)}function c(f){return f===34||f===39||f===40?VE(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Kt(f)?vo(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function E3(e,t,n){const r=this;return a;function a(l){return zE.call(r,e,s,i,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function i(l){return n(l)}}function _3(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),a}function a(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const w3={name:"labelStartImage",resolveAll:hm.resolveAll,tokenize:C3};function C3(e,t,n){const r=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),i):n(l)}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const T3={name:"labelStartLink",resolveAll:hm.resolveAll,tokenize:S3};function S3(e,t,n){const r=this;return a;function a(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),s}function s(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}const Fd={name:"lineEnding",tokenize:N3};function N3(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Nt(e,t,"linePrefix")}}const hc={name:"thematicBreak",tokenize:k3};function k3(e,t,n){let r=0,a;return s;function s(u){return e.enter("thematicBreak"),i(u)}function i(u){return a=u,l(u)}function l(u){return u===a?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||Je(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===a?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),bt(u)?Nt(e,l,"whitespace")(u):l(u))}}const Kn={continuation:{tokenize:P3},exit:I3,name:"list",tokenize:A3},D3={partial:!0,tokenize:L3},x3={partial:!0,tokenize:O3};function A3(e,t,n){const r=this,a=r.events[r.events.length-1];let s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,i=0;return l;function l(h){const g=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Kf(h)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(hc,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(h)}return n(h)}function c(h){return Kf(h)&&++i<10?(e.consume(h),c):(!r.interrupt||i<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(al,r.interrupt?n:d,e.attempt(D3,m,f))}function d(h){return r.containerState.initialBlankLine=!0,s++,m(h)}function f(h){return bt(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),m):n(h)}function m(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function P3(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(al,a,s);function a(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Nt(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!bt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(x3,t,i)(l))}function i(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Nt(e,e.attempt(Kn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function O3(e,t,n){const r=this;return Nt(e,a,"listItemIndent",r.containerState.size+1);function a(s){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(s):n(s)}}function I3(e){e.exit(this.containerState.type)}function L3(e,t,n){const r=this;return Nt(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function a(s){const i=r.events[r.events.length-1];return!bt(s)&&i&&i[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const p0={name:"setextUnderline",resolveTo:R3,tokenize:M3};function R3(e,t){let n=e.length,r,a,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const i={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",s?(e.splice(a,0,["enter",i,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=i,e.push(["exit",i,t]),e}function M3(e,t,n){const r=this;let a;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=u,i(u)):n(u)}function i(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===a?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),bt(u)?Nt(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Je(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const F3={tokenize:B3};function B3(e){const t=this,n=e.attempt(al,r,e.attempt(this.parser.constructs.flowInitial,a,Nt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(WR,a)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const U3={resolveAll:jE()},H3=qE("string"),G3=qE("text");function qE(e){return{resolveAll:jE(e==="text"?$3:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],s=n.attempt(a,i,l);return i;function i(d){return u(d)?s(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=a[d];let m=-1;if(f)for(;++m<f.length;){const h=f[m];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function jE(e){return t;function t(n,r){let a=-1,s;for(;++a<=n.length;)s===void 0?n[a]&&n[a][1].type==="data"&&(s=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==s+2&&(n[s][1].end=n[a-1][1].end,n.splice(s+2,a-s-2),a=s+2),s=void 0);return e?e(n,r):n}}function $3(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let s=a.length,i=-1,l=0,c;for(;s--;){const u=a[s];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)l++,i--;if(i)break;i=-1}else if(u===-2)c=!0,l++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?i:r.start._bufferIndex+i,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const W3={42:Kn,43:Kn,45:Kn,48:Kn,49:Kn,50:Kn,51:Kn,52:Kn,53:Kn,54:Kn,55:Kn,56:Kn,57:Kn,62:HE},Y3={91:jR},z3={[-2]:Md,[-1]:Md,32:Md},V3={35:e3,42:hc,45:[p0,hc],60:a3,61:p0,95:hc,96:h0,126:h0},q3={38:$E,92:GE},j3={[-5]:Fd,[-4]:Fd,[-3]:Fd,33:w3,38:$E,42:Qf,60:[TR,d3],91:T3,92:[JR,GE],93:hm,95:Qf,96:FR},K3={null:[Qf,U3]},Q3={null:[42,95]},X3={null:[]},J3=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Q3,contentInitial:Y3,disable:X3,document:W3,flow:V3,flowInitial:z3,insideSpan:K3,string:q3,text:j3},Symbol.toStringTag,{value:"Module"}));function Z3(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},s=[];let i=[],l=[];const c={attempt:k(N),check:k(T),consume:C,enter:w,exit:S,interrupt:k(T,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:g,parser:e,previous:null,sliceSerialize:m,sliceStream:h,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function f(D){return i=Er(i,D),_(),i[i.length-1]!==null?[]:(I(t,0),u.events=Bu(s,u.events,u),u.events)}function m(D,P){return tM(h(D),P)}function h(D){return eM(i,D)}function g(){const{_bufferIndex:D,_index:P,line:M,column:R,offset:F}=r;return{_bufferIndex:D,_index:P,line:M,column:R,offset:F}}function v(D){a[D.line]=D.column,x()}function _(){let D;for(;r._index<i.length;){const P=i[r._index];if(typeof P=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<P.length;)E(P.charCodeAt(r._bufferIndex));else E(P)}}function E(D){d=d(D)}function C(D){Je(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,x()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=D}function w(D,P){const M=P||{};return M.type=D,M.start=g(),u.events.push(["enter",M,u]),l.push(M),M}function S(D){const P=l.pop();return P.end=g(),u.events.push(["exit",P,u]),P}function N(D,P){I(D,P.from)}function T(D,P){P.restore()}function k(D,P){return M;function M(R,F,U){let $,H,K,L;return Array.isArray(R)?q(R):"tokenize"in R?q([R]):le(R);function le(oe){return V;function V(Ae){const ne=Ae!==null&&oe[Ae],Ce=Ae!==null&&oe.null,rt=[...Array.isArray(ne)?ne:ne?[ne]:[],...Array.isArray(Ce)?Ce:Ce?[Ce]:[]];return q(rt)(Ae)}}function q(oe){return $=oe,H=0,oe.length===0?U:O(oe[H])}function O(oe){return V;function V(Ae){return L=A(),K=oe,oe.partial||(u.currentConstruct=oe),oe.name&&u.parser.constructs.disable.null.includes(oe.name)?Q():oe.tokenize.call(P?Object.assign(Object.create(u),P):u,c,ee,Q)(Ae)}}function ee(oe){return D(K,L),F}function Q(oe){return L.restore(),++H<$.length?O($[H]):U}}}function I(D,P){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&dr(u.events,P,u.events.length-P,D.resolve(u.events.slice(P),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function A(){const D=g(),P=u.previous,M=u.currentConstruct,R=u.events.length,F=Array.from(l);return{from:R,restore:U};function U(){r=D,u.previous=P,u.currentConstruct=M,u.events.length=R,l=F,x()}}function x(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function eM(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let i;if(n===a)i=[e[n].slice(r,s)];else{if(i=e.slice(n,a),r>-1){const l=i[0];typeof l=="string"?i[0]=l.slice(r):i.shift()}s>0&&i.push(e[a].slice(0,s))}return i}function tM(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const s=e[n];let i;if(typeof s=="string")i=s;else switch(s){case-5:{i="\r";break}case-4:{i="\n";break}case-3:{i="\r\n";break}case-2:{i=t?" ":"	";break}case-1:{if(!t&&a)continue;i=" ";break}default:i=String.fromCharCode(s)}a=s===-2,r.push(i)}return r.join("")}function nM(e){const r={constructs:BE([J3,...(e||{}).extensions||[]]),content:a(yR),defined:[],document:a(bR),flow:a(F3),lazy:{},string:a(H3),text:a(G3)};return r;function a(s){return i;function i(l){return Z3(r,s,l)}}}function rM(e){for(;!WE(e););return e}const g0=/[\0\t\n\r]/g;function aM(){let e=1,t="",n=!0,r;return a;function a(s,i,l){const c=[];let u,d,f,m,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(i||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(g0.lastIndex=f,u=g0.exec(s),m=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(m),!u){t=s.slice(f);break}if(h===10&&f===m&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<m&&(c.push(s.slice(f,m)),e+=m-f),h){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=m+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const sM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function iM(e){return e.replace(sM,oM)}function oM(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),s=a===120||a===88;return UE(n.slice(s?2:1),s?16:10)}return fm(n)||e}const KE={}.hasOwnProperty;function lM(e,t,n){return typeof t!="string"&&(n=t,t=void 0),cM(n)(rM(nM(n).document().write(aM()(e,t,!0))))}function cM(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(De),autolinkProtocol:A,autolinkEmail:A,atxHeading:s(pt),blockQuote:s(Ce),characterEscape:A,characterReference:A,codeFenced:s(rt),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:s(rt,i),codeText:s(ot,i),codeTextData:A,data:A,codeFlowValue:A,definition:s(Et),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:s(j),hardBreakEscape:s(be),hardBreakTrailing:s(be),htmlFlow:s(ue,i),htmlFlowData:A,htmlText:s(ue,i),htmlTextData:A,image:s(Ne),label:i,link:s(De),listItem:s(de),listItemValue:m,listOrdered:s(Te,f),listUnordered:s(Te),paragraph:s(We),reference:O,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:s(pt),strong:s(fe),thematicBreak:s(Qe)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:ne,autolinkProtocol:Ae,blockQuote:c(),characterEscapeValue:x,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:oe,characterReference:V,codeFenced:c(_),codeFencedFence:v,codeFencedFenceInfo:h,codeFencedFenceMeta:g,codeFlowValue:x,codeIndented:c(E),codeText:c(F),codeTextData:x,data:x,definition:c(),definitionDestinationString:S,definitionLabelString:C,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(P),hardBreakTrailing:c(P),htmlFlow:c(M),htmlFlowData:x,htmlText:c(R),htmlTextData:x,image:c($),label:K,labelText:H,lineEnding:D,link:c(U),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ee,resourceDestinationString:L,resourceTitleString:le,resource:q,setextHeading:c(I),setextHeadingLineSequence:k,setextHeadingText:T,strong:c(),thematicBreak:c()}};QE(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(re){let Y={type:"root",children:[]};const Se={stack:[Y],tokenStack:[],config:t,enter:l,exit:u,buffer:i,resume:d,data:n},je=[];let pe=-1;for(;++pe<re.length;)if(re[pe][1].type==="listOrdered"||re[pe][1].type==="listUnordered")if(re[pe][0]==="enter")je.push(pe);else{const lt=je.pop();pe=a(re,lt,pe)}for(pe=-1;++pe<re.length;){const lt=t[re[pe][0]];KE.call(lt,re[pe][1].type)&&lt[re[pe][1].type].call(Object.assign({sliceSerialize:re[pe][2].sliceSerialize},Se),re[pe][1])}if(Se.tokenStack.length>0){const lt=Se.tokenStack[Se.tokenStack.length-1];(lt[1]||y0).call(Se,void 0,lt[0])}for(Y.position={start:za(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:za(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},pe=-1;++pe<t.transforms.length;)Y=t.transforms[pe](Y)||Y;return Y}function a(re,Y,Se){let je=Y-1,pe=-1,lt=!1,Ke,ut,$e,Ht;for(;++je<=Se;){const Ot=re[je];switch(Ot[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ot[0]==="enter"?pe++:pe--,Ht=void 0;break}case"lineEndingBlank":{Ot[0]==="enter"&&(Ke&&!Ht&&!pe&&!$e&&($e=je),Ht=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ht=void 0}if(!pe&&Ot[0]==="enter"&&Ot[1].type==="listItemPrefix"||pe===-1&&Ot[0]==="exit"&&(Ot[1].type==="listUnordered"||Ot[1].type==="listOrdered")){if(Ke){let yn=je;for(ut=void 0;yn--;){const kt=re[yn];if(kt[1].type==="lineEnding"||kt[1].type==="lineEndingBlank"){if(kt[0]==="exit")continue;ut&&(re[ut][1].type="lineEndingBlank",lt=!0),kt[1].type="lineEnding",ut=yn}else if(!(kt[1].type==="linePrefix"||kt[1].type==="blockQuotePrefix"||kt[1].type==="blockQuotePrefixWhitespace"||kt[1].type==="blockQuoteMarker"||kt[1].type==="listItemIndent"))break}$e&&(!ut||$e<ut)&&(Ke._spread=!0),Ke.end=Object.assign({},ut?re[ut][1].start:Ot[1].end),re.splice(ut||je,0,["exit",Ke,Ot[2]]),je++,Se++}if(Ot[1].type==="listItemPrefix"){const yn={type:"listItem",_spread:!1,start:Object.assign({},Ot[1].start),end:void 0};Ke=yn,re.splice(je,0,["enter",yn,Ot[2]]),je++,Se++,$e=void 0,Ht=!0}}}return re[Y][1]._spread=lt,Se}function s(re,Y){return Se;function Se(je){l.call(this,re(je),je),Y&&Y.call(this,je)}}function i(){this.stack.push({type:"fragment",children:[]})}function l(re,Y,Se){this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([Y,Se||void 0]),re.position={start:za(Y.start),end:void 0}}function c(re){return Y;function Y(Se){re&&re.call(this,Se),u.call(this,Se)}}function u(re,Y){const Se=this.stack.pop(),je=this.tokenStack.pop();if(je)je[0].type!==re.type&&(Y?Y.call(this,re,je[0]):(je[1]||y0).call(this,re,je[0]));else throw new Error("Cannot close `"+re.type+"` ("+yo({start:re.start,end:re.end})+"): it’s not open");Se.position.end=za(re.end)}function d(){return dm(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(re){if(this.data.expectingFirstListItemValue){const Y=this.stack[this.stack.length-2];Y.start=Number.parseInt(this.sliceSerialize(re),10),this.data.expectingFirstListItemValue=void 0}}function h(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.lang=re}function g(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.meta=re}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.value=re.replace(/(\r?\n|\r)$/g,"")}function C(re){const Y=this.resume(),Se=this.stack[this.stack.length-1];Se.label=Y,Se.identifier=Ur(this.sliceSerialize(re)).toLowerCase()}function w(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.title=re}function S(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.url=re}function N(re){const Y=this.stack[this.stack.length-1];if(!Y.depth){const Se=this.sliceSerialize(re).length;Y.depth=Se}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function k(re){const Y=this.stack[this.stack.length-1];Y.depth=this.sliceSerialize(re).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function A(re){const Se=this.stack[this.stack.length-1].children;let je=Se[Se.length-1];(!je||je.type!=="text")&&(je=Ve(),je.position={start:za(re.start),end:void 0},Se.push(je)),this.stack.push(je)}function x(re){const Y=this.stack.pop();Y.value+=this.sliceSerialize(re),Y.position.end=za(re.end)}function D(re){const Y=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=Y.children[Y.children.length-1];Se.position.end=za(re.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Y.type)&&(A.call(this,re),x.call(this,re))}function P(){this.data.atHardBreak=!0}function M(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.value=re}function R(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.value=re}function F(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.value=re}function U(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=Y,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function $(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=Y,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function H(re){const Y=this.sliceSerialize(re),Se=this.stack[this.stack.length-2];Se.label=iM(Y),Se.identifier=Ur(Y).toLowerCase()}function K(){const re=this.stack[this.stack.length-1],Y=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const je=re.children;Se.children=je}else Se.alt=Y}function L(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.url=re}function le(){const re=this.resume(),Y=this.stack[this.stack.length-1];Y.title=re}function q(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function ee(re){const Y=this.resume(),Se=this.stack[this.stack.length-1];Se.label=Y,Se.identifier=Ur(this.sliceSerialize(re)).toLowerCase(),this.data.referenceType="full"}function Q(re){this.data.characterReferenceType=re.type}function oe(re){const Y=this.sliceSerialize(re),Se=this.data.characterReferenceType;let je;Se?(je=UE(Y,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):je=fm(Y);const pe=this.stack[this.stack.length-1];pe.value+=je}function V(re){const Y=this.stack.pop();Y.position.end=za(re.end)}function Ae(re){x.call(this,re);const Y=this.stack[this.stack.length-1];Y.url=this.sliceSerialize(re)}function ne(re){x.call(this,re);const Y=this.stack[this.stack.length-1];Y.url="mailto:"+this.sliceSerialize(re)}function Ce(){return{type:"blockquote",children:[]}}function rt(){return{type:"code",lang:null,meta:null,value:""}}function ot(){return{type:"inlineCode",value:""}}function Et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function j(){return{type:"emphasis",children:[]}}function pt(){return{type:"heading",depth:0,children:[]}}function be(){return{type:"break"}}function ue(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function De(){return{type:"link",title:null,url:"",children:[]}}function Te(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function de(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function We(){return{type:"paragraph",children:[]}}function fe(){return{type:"strong",children:[]}}function Ve(){return{type:"text",value:""}}function Qe(){return{type:"thematicBreak"}}}function za(e){return{line:e.line,column:e.column,offset:e.offset}}function QE(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?QE(e,r):uM(e,r)}}function uM(e,t){let n;for(n in t)if(KE.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function y0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+yo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+yo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+yo({start:t.start,end:t.end})+") is still open")}function dM(e){const t=this;t.parser=n;function n(r){return lM(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function fM(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function hM(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]}function mM(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function pM(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gM(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yM(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=ji(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let i,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=s+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function vM(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bM(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function XE(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),s=a[0];s&&s.type==="text"?s.value="["+s.value:a.unshift({type:"text",value:"["});const i=a[a.length-1];return i&&i.type==="text"?i.value+=r:a.push({type:"text",value:r}),a}function EM(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return XE(e,t);const a={src:ji(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)}function _M(e,t){const n={src:ji(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function wM(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function CM(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return XE(e,t);const a={href:ji(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function TM(e,t){const n={href:ji(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function SM(e,t,n){const r=e.all(t),a=n?NM(n):JE(t),s={},i=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(a||l!==0||d.type!=="element"||d.tagName!=="p")&&i.push({type:"text",value:"\n"}),d.type==="element"&&d.tagName==="p"&&!a?i.push(...d.children):i.push(d)}const c=r[r.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&i.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:s,children:i};return e.patch(t,u),e.applyData(t,u)}function NM(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=JE(n[r])}return t}function JE(e){const t=e.spread;return t==null?e.children.length>1:t}function kM(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const i=r[a];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function DM(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xM(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function AM(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function PM(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],i),a.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=_a(t.children[1]),c=Mu(t.children[t.children.length-1]);l&&c&&(i.position={start:l,end:c}),a.push(i)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)}function OM(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,l=i?i.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const f=t.children[c],m={},h=i?i[c]:void 0;h&&(m.align=h);let g={type:"element",tagName:s,properties:m,children:[]};f&&(g.children=e.all(f),e.patch(f,g),g=e.applyData(f,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function IM(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const v0=9,b0=32;function LM(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const s=[];for(;r;)s.push(E0(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return s.push(E0(t.slice(a),a>0,!1)),s.join("")}function E0(e,t,n){let r=0,a=e.length;if(t){let s=e.codePointAt(r);for(;s===v0||s===b0;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(a-1);for(;s===v0||s===b0;)a--,s=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function RM(e,t){const n={type:"text",value:LM(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function MM(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const FM={blockquote:fM,break:hM,code:mM,delete:pM,emphasis:gM,footnoteReference:yM,heading:vM,html:bM,imageReference:EM,image:_M,inlineCode:wM,linkReference:CM,link:TM,listItem:SM,list:kM,paragraph:DM,root:xM,strong:AM,table:PM,tableCell:IM,tableRow:OM,text:RM,thematicBreak:MM,toml:zl,yaml:zl,definition:zl,footnoteDefinition:zl};function zl(){}const ZE=-1,Uu=0,bo=1,zc=2,mm=3,pm=4,gm=5,ym=6,e1=7,t1=8,_0=typeof self=="object"?self:globalThis,BM=(e,t)=>{const n=(a,s)=>(e.set(s,a),a),r=a=>{if(e.has(a))return e.get(a);const[s,i]=t[a];switch(s){case Uu:case ZE:return n(i,a);case bo:{const l=n([],a);for(const c of i)l.push(r(c));return l}case zc:{const l=n({},a);for(const[c,u]of i)l[r(c)]=r(u);return l}case mm:return n(new Date(i),a);case pm:{const{source:l,flags:c}=i;return n(new RegExp(l,c),a)}case gm:{const l=n(new Map,a);for(const[c,u]of i)l.set(r(c),r(u));return l}case ym:{const l=n(new Set,a);for(const c of i)l.add(r(c));return l}case e1:{const{name:l,message:c}=i;return n(new _0[l](c),a)}case t1:return n(BigInt(i),a);case"BigInt":return n(Object(BigInt(i)),a);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:l}=new Uint8Array(i);return n(new DataView(l),i)}}return n(new _0[s](i),a)};return r},w0=e=>BM(new Map,e)(0),ni="",{toString:UM}={},{keys:HM}=Object,so=e=>{const t=typeof e;if(t!=="object"||!e)return[Uu,t];const n=UM.call(e).slice(8,-1);switch(n){case"Array":return[bo,ni];case"Object":return[zc,ni];case"Date":return[mm,ni];case"RegExp":return[pm,ni];case"Map":return[gm,ni];case"Set":return[ym,ni];case"DataView":return[bo,n]}return n.includes("Array")?[bo,n]:n.includes("Error")?[e1,n]:[zc,n]},Vl=([e,t])=>e===Uu&&(t==="function"||t==="symbol"),GM=(e,t,n,r)=>{const a=(i,l)=>{const c=r.push(i)-1;return n.set(l,c),c},s=i=>{if(n.has(i))return n.get(i);let[l,c]=so(i);switch(l){case Uu:{let d=i;switch(c){case"bigint":l=t1,d=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return a([ZE],i)}return a([l,d],i)}case bo:{if(c){let m=i;return c==="DataView"?m=new Uint8Array(i.buffer):c==="ArrayBuffer"&&(m=new Uint8Array(i)),a([c,[...m]],i)}const d=[],f=a([l,d],i);for(const m of i)d.push(s(m));return f}case zc:{if(c)switch(c){case"BigInt":return a([c,i.toString()],i);case"Boolean":case"Number":case"String":return a([c,i.valueOf()],i)}if(t&&"toJSON"in i)return s(i.toJSON());const d=[],f=a([l,d],i);for(const m of HM(i))(e||!Vl(so(i[m])))&&d.push([s(m),s(i[m])]);return f}case mm:return a([l,i.toISOString()],i);case pm:{const{source:d,flags:f}=i;return a([l,{source:d,flags:f}],i)}case gm:{const d=[],f=a([l,d],i);for(const[m,h]of i)(e||!(Vl(so(m))||Vl(so(h))))&&d.push([s(m),s(h)]);return f}case ym:{const d=[],f=a([l,d],i);for(const m of i)(e||!Vl(so(m)))&&d.push(s(m));return f}}const{message:u}=i;return a([l,{name:c,message:u}],i)};return s},C0=(e,{json:t,lossy:n}={})=>{const r=[];return GM(!(t||n),!!t,new Map,r)(e),r},Fs=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?w0(C0(e,t)):structuredClone(e):(e,t)=>w0(C0(e,t));function $M(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function WM(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function YM(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||$M,r=e.options.footnoteBackLabel||WM,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),m=ji(f.toLowerCase());let h=0;const g=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++h<=v;){g.length>0&&g.push({type:"text",value:" "});let C=typeof n=="string"?n:n(c,h);typeof C=="string"&&(C={type:"text",value:C}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,h),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const _=d[d.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const C=_.children[_.children.length-1];C&&C.type==="text"?C.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...g)}else d.push(...g);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(u,E),l.push(E)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Fs(i),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:"\n"}]}}const Hu=function(e){if(e==null)return jM;if(typeof e=="function")return Gu(e);if(typeof e=="object")return Array.isArray(e)?zM(e):VM(e);if(typeof e=="string")return qM(e);throw new Error("Expected function, string, or object as test")};function zM(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Hu(e[n]);return Gu(r);function r(...a){let s=-1;for(;++s<t.length;)if(t[s].apply(this,a))return!0;return!1}}function VM(e){const t=e;return Gu(n);function n(r){const a=r;let s;for(s in e)if(a[s]!==t[s])return!1;return!0}}function qM(e){return Gu(t);function t(n){return n&&n.type===e}}function Gu(e){return t;function t(n,r,a){return!!(KM(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function jM(){return!0}function KM(e){return e!==null&&typeof e=="object"&&"type"in e}const n1=[],QM=!0,Xf=!1,XM="skip";function r1(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const s=Hu(a),i=r?-1:1;l(e,void 0,[])();function l(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(h?"<"+h+">":""))+")"})}return m;function m(){let h=n1,g,v,_;if((!t||s(c,u,d[d.length-1]||void 0))&&(h=JM(n(c,d)),h[0]===Xf))return h;if("children"in c&&c.children){const E=c;if(E.children&&h[0]!==XM)for(v=(r?E.children.length:-1)+i,_=d.concat(E);v>-1&&v<E.children.length;){const C=E.children[v];if(g=l(C,v,_)(),g[0]===Xf)return g;v=typeof g[1]=="number"?g[1]:v+i}}return h}}}function JM(e){return Array.isArray(e)?e:typeof e=="number"?[QM,e]:e==null?n1:[e]}function $u(e,t,n,r){let a,s,i;typeof t=="function"&&typeof n!="function"?(s=void 0,i=t,a=n):(s=t,i=n,a=r),r1(e,s,l,a);function l(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return i(c,f,d)}}const Jf={}.hasOwnProperty,ZM={};function e6(e,t){const n=t||ZM,r=new Map,a=new Map,s=new Map,i={...FM,...n.handlers},l={all:u,applyData:n6,definitionById:r,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:i,one:c,options:n,patch:t6,wrap:a6};return $u(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,m=String(d.identifier).toUpperCase();f.has(m)||f.set(m,d)}}),l;function c(d,f){const m=d.type,h=l.handlers[m];if(Jf.call(l.handlers,m)&&h)return h(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in d){const{children:v,..._}=d,E=Fs(_);return E.children=l.all(d),E}return Fs(d)}return(l.options.unknownHandler||r6)(l,d,f)}function u(d){const f=[];if("children"in d){const m=d.children;let h=-1;for(;++h<m.length;){const g=l.one(m[h],d);if(g){if(h&&m[h-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=T0(g.value)),!Array.isArray(g)&&g.type==="element")){const v=g.children[0];v&&v.type==="text"&&(v.value=T0(v.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function t6(e,t){e.position&&(t.position=OE(e))}function n6(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&s&&Object.assign(n.properties,Fs(s)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function r6(e,t){const n=t.data||{},r="value"in t&&!(Jf.call(n,"hProperties")||Jf.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function a6(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function T0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function S0(e,t){const n=e6(e,t),r=n.one(e,void 0),a=YM(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&s.children.push({type:"text",value:"\n"},a),s}function s6(e,t){return e&&"run"in e?async function(n,r){const a=S0(n,{file:r,...t});await e.run(a,r)}:function(n,r){return S0(n,{file:r,...e||t})}}function N0(e){if(e)throw e}var mc=Object.prototype.hasOwnProperty,a1=Object.prototype.toString,k0=Object.defineProperty,D0=Object.getOwnPropertyDescriptor,x0=function(t){return typeof Array.isArray=="function"?Array.isArray(t):a1.call(t)==="[object Array]"},A0=function(t){if(!t||a1.call(t)!=="[object Object]")return!1;var n=mc.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&mc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||mc.call(t,a)},P0=function(t,n){k0&&n.name==="__proto__"?k0(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},O0=function(t,n){if(n==="__proto__")if(mc.call(t,n)){if(D0)return D0(t,n).value}else return;return t[n]},i6=function e(){var t,n,r,a,s,i,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=O0(l,n),a=O0(t,n),l!==a&&(d&&a&&(A0(a)||(s=x0(a)))?(s?(s=!1,i=r&&x0(r)?r:[]):i=r&&A0(r)?r:{},P0(l,{name:n,newValue:e(d,i,a)})):typeof a<"u"&&P0(l,{name:n,newValue:a}));return l};const Bd=Bo(i6);function Zf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o6(){const e=[],t={run:n,use:r};return t;function n(...a){let s=-1;const i=a.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);l(null,...a);function l(c,...u){const d=e[++s];let f=-1;if(c){i(c);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,d?l6(d,l)(...u):i(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function l6(e,t){let n;return r;function r(...i){const l=e.length>i.length;let c;l&&i.push(a);try{c=e.apply(this,i)}catch(u){const d=u;if(l&&n)throw d;return a(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(s,a):c instanceof Error?a(c):s(c))}function a(i,...l){n||(n=!0,t(i,...l))}function s(i){a(null,i)}}const Xr={basename:c6,dirname:u6,extname:d6,join:f6,sep:"/"};function c6(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');sl(e);let n=0,r=-1,a=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else r<0&&(s=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let i=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else i<0&&(s=!0,i=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(r=a):(l=-1,r=i));return n===r?r=i:r<0&&(r=e.length),e.slice(n,r)}function u6(e){if(sl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function d6(e){sl(e);let t=e.length,n=-1,r=0,a=-1,s=0,i;for(;t--;){const l=e.codePointAt(t);if(l===47){if(i){r=t+1;break}continue}n<0&&(i=!0,n=t+1),l===46?a<0?a=t:s!==1&&(s=1):a>-1&&(s=-1)}return a<0||n<0||s===0||s===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function f6(...e){let t=-1,n;for(;++t<e.length;)sl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":h6(n)}function h6(e){sl(e);const t=e.codePointAt(0)===47;let n=m6(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function m6(e,t){let n="",r=0,a=-1,s=0,i=-1,l,c;for(;++i<=e.length;){if(i<e.length)l=e.codePointAt(i);else{if(l===47)break;l=47}if(l===47){if(!(a===i-1||s===1))if(a!==i-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),a=i,s=0;continue}}else if(n.length>0){n="",r=0,a=i,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,i):n=e.slice(a+1,i),r=i-a-1;a=i,s=0}else l===46&&s>-1?s++:s=-1}return n}function sl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const p6={cwd:g6};function g6(){return"/"}function eh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function y6(e){if(typeof e=="string")e=new URL(e);else if(!eh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return v6(e)}function v6(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Ud=["history","path","basename","stem","extname","dirname"];class s1{constructor(t){let n;t?eh(t)?n={path:t}:typeof t=="string"||b6(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":p6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ud.length;){const s=Ud[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let a;for(a in n)Ud.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Xr.basename(this.path):void 0}set basename(t){Gd(t,"basename"),Hd(t,"basename"),this.path=Xr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Xr.dirname(this.path):void 0}set dirname(t){I0(this.basename,"dirname"),this.path=Xr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Xr.extname(this.path):void 0}set extname(t){if(Hd(t,"extname"),I0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){eh(t)&&(t=y6(t)),Gd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Xr.basename(this.path,this.extname):void 0}set stem(t){Gd(t,"stem"),Hd(t,"stem"),this.path=Xr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Mn(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Hd(e,t){if(e&&e.includes(Xr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Xr.sep+"`")}function Gd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function I0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function b6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const E6=function(e){const r=this.constructor.prototype,a=r[e],s=function(){return a.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},_6={}.hasOwnProperty;class vm extends E6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=o6()}copy(){const t=new vm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Bd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Yd("data",this.frozen),this.namespace[t]=n,this):_6.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Yd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ql(t),r=this.parser||this.Parser;return $d("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),$d("process",this.parser||this.Parser),Wd("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(s,i){const l=ql(t),c=r.parse(l);r.run(c,l,function(d,f,m){if(d||!f||!m)return u(d);const h=f,g=r.stringify(h,m);T6(g)?m.value=g:m.result=g,u(d,m)});function u(d,f){d||!f?i(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),$d("processSync",this.parser||this.Parser),Wd("processSync",this.compiler||this.Compiler),this.process(t,a),R0("processSync","process",n),r;function a(s,i){n=!0,N0(s),r=i}}run(t,n,r){L0(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(i,l){const c=ql(n);a.run(t,c,u);function u(d,f,m){const h=f||t;d?l(d):i?i(h):r(void 0,h,m)}}}runSync(t,n){let r=!1,a;return this.run(t,n,s),R0("runSync","run",r),a;function s(i,l){N0(i),a=l,r=!0}}stringify(t,n){this.freeze();const r=ql(n),a=this.compiler||this.Compiler;return Wd("stringify",a),L0(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Yd("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):i(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(a.settings=Bd(!0,a.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===u){m=f;break}if(m===-1)r.push([u,...d]);else if(d.length>0){let[h,...g]=d;const v=r[m][1];Zf(v)&&Zf(h)&&(h=Bd(!0,v,h)),r[m]=[u,h,...g]}}}}const w6=new vm().freeze();function $d(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Wd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Yd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function L0(e){if(!Zf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function R0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ql(e){return C6(e)?e:new s1(e)}function C6(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function T6(e){return typeof e=="string"||S6(e)}function S6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const N6="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",M0=[],F0={allowDangerousHtml:!0},k6=/^(https?|ircs?|mailto|xmpp)$/i,D6=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function x6(e){const t=A6(e),n=P6(e);return O6(t.runSync(t.parse(n),n),e)}function A6(e){const t=e.rehypePlugins||M0,n=e.remarkPlugins||M0,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...F0}:F0;return w6().use(dM).use(n).use(s6,r).use(t)}function P6(e){const t=e.children||"",n=new s1;return typeof t=="string"&&(n.value=t),n}function O6(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,s=t.disallowedElements,i=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||I6;for(const d of D6)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+N6+d.id,void 0);return $u(e,u),jL(e,{Fragment:nt,components:a,ignoreInvalidStyle:!0,jsx:o,jsxs:p,passKeys:!0,passNode:!0});function u(d,f,m){if(d.type==="raw"&&m&&typeof f=="number")return i?m.children.splice(f,1):m.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let h;for(h in Rd)if(Object.hasOwn(Rd,h)&&Object.hasOwn(d.properties,h)){const g=d.properties[h],v=Rd[h];(v===null||v.includes(d.tagName))&&(d.properties[h]=c(String(g||""),h,d))}}if(d.type==="element"){let h=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(d,f,m)),h&&m&&typeof f=="number")return l&&d.children?m.children.splice(f,1,...d.children):m.children.splice(f,1),f}}}function I6(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||k6.test(e.slice(0,t))?e:""}const B0=/[#.]/g;function L6(e,t){const n=e||"",r={};let a=0,s,i;for(;a<n.length;){B0.lastIndex=a;const l=B0.exec(n),c=n.slice(a,l?l.index:n.length);c&&(s?s==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:i=c,a+=c.length),l&&(s=l[0],a++)}return{type:"element",tagName:i||t||"div",properties:r,children:[]}}function i1(e,t,n){const r=n?B6(n):void 0;function a(s,i,...l){let c;if(s==null){c={type:"root",children:[]};const u=i;l.unshift(u)}else{c=L6(s,t);const u=c.tagName.toLowerCase(),d=r?r.get(u):void 0;if(c.tagName=d||u,R6(i))l.unshift(i);else for(const[f,m]of Object.entries(i))M6(e,c.properties,f,m)}for(const u of l)th(c.children,u);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return a}function R6(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const a=t[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const s=a;for(const i of s)if(typeof i!="number"&&typeof i!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function M6(e,t,n,r){const a=im(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?a.spaceSeparated?s=Zg(r):a.commaSeparated?s=jg(r):a.commaOrSpaceSeparated?s=Zg(jg(r).join(" ")):s=U0(a,a.property,r):Array.isArray(r)?s=[...r]:s=a.property==="style"?F6(r):String(r);if(Array.isArray(s)){const i=[];for(const l of s)i.push(U0(a,a.property,l));s=i}a.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[a.property]=s}}function th(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)th(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?th(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function U0(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Io(n)===Io(t)))return!0}return n}function F6(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function B6(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const U6=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],H6=i1(Lu,"div"),G6=i1(qi,"g",U6);function $6(e){const t=String(e),n=[];return{toOffset:a,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let i=0;for(;;){let l=n[i];if(l===void 0){const c=H0(t,n[i-1]);l=c===-1?t.length+1:c+1,n[i]=l}if(l>s)return{line:i+1,column:s-(i>0?n[i-1]:0)+1,offset:s};i++}}}function a(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const l=n[n.length-1],c=H0(t,l),u=c===-1?t.length+1:c+1;if(l===u)break;n.push(u)}const i=(s.line>1?n[s.line-2]:0)+s.column-1;if(i<n[s.line-1])return i}}}function H0(e,t){const n=e.indexOf("\r",t),r=e.indexOf("\n",t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Ts={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o1={}.hasOwnProperty,W6=Object.prototype;function Y6(e,t){const n=t||{};return bm({file:n.file||void 0,location:!1,schema:n.space==="svg"?qi:Lu,verbose:n.verbose||!1},e)}function bm(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},pc(e,r,n),n}case"#document":case"#document-fragment":{const r=t,a="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:l1(e,t.childNodes),data:{quirksMode:a}},e.file&&e.location){const s=String(e.file),i=$6(s),l=i.toPoint(0),c=i.toPoint(s.length);n.position={start:l,end:c}}return n}case"#documentType":{const r=t;return n={type:"doctype"},pc(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},pc(e,r,n),n}default:return n=z6(e,t),n}}function l1(e,t){let n=-1;const r=[];for(;++n<t.length;){const a=bm(e,t[n]);r.push(a)}return r}function z6(e,t){const n=e.schema;e.schema=t.namespaceURI===Ts.svg?qi:Lu;let r=-1;const a={};for(;++r<t.attrs.length;){const l=t.attrs[r],c=(l.prefix?l.prefix+":":"")+l.name;o1.call(W6,c)||(a[c]=l.value)}const i=(e.schema.space==="svg"?G6:H6)(t.tagName,a,l1(e,t.childNodes));if(pc(e,t,i),i.tagName==="template"){const l=t,c=l.sourceCodeLocation,u=c&&c.startTag&&fi(c.startTag),d=c&&c.endTag&&fi(c.endTag),f=bm(e,l.content);u&&d&&e.file&&(f.position={start:u.end,end:d.start}),i.content=f}return e.schema=n,i}function pc(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=V6(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function V6(e,t,n){const r=fi(n);if(t.type==="element"){const a=t.children[t.children.length-1];if(r&&!n.endTag&&a&&a.position&&a.position.end&&(r.end=Object.assign({},a.position.end)),e.verbose){const s={};let i;if(n.attrs)for(i in n.attrs)o1.call(n.attrs,i)&&(s[im(e.schema,i).property]=fi(n.attrs[i]));n.startTag;const l=fi(n.startTag),c=n.endTag?fi(n.endTag):void 0,u={opening:l};c&&(u.closing=c),u.properties=s,t.data={position:u}}}return r}function fi(e){const t=G0({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=G0({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function G0(e){return e.line&&e.column?e:void 0}class il{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}il.prototype.property={};il.prototype.normal={};il.prototype.space=null;function c1(e,t){const n={},r={};let a=-1;for(;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new il(n,r,t)}function nh(e){return e.toLowerCase()}class Ar{constructor(t,n){this.property=t,this.attribute=n}}Ar.prototype.space=null;Ar.prototype.boolean=!1;Ar.prototype.booleanish=!1;Ar.prototype.overloadedBoolean=!1;Ar.prototype.number=!1;Ar.prototype.commaSeparated=!1;Ar.prototype.spaceSeparated=!1;Ar.prototype.commaOrSpaceSeparated=!1;Ar.prototype.mustUseProperty=!1;Ar.prototype.defined=!1;let q6=0;const ft=qs(),En=qs(),u1=qs(),we=qs(),Xt=qs(),bi=qs(),sr=qs();function qs(){return 2**++q6}const rh=Object.freeze(Object.defineProperty({__proto__:null,boolean:ft,booleanish:En,commaOrSpaceSeparated:sr,commaSeparated:bi,number:we,overloadedBoolean:u1,spaceSeparated:Xt},Symbol.toStringTag,{value:"Module"})),zd=Object.keys(rh);class Em extends Ar{constructor(t,n,r,a){let s=-1;if(super(t,n),$0(this,"space",a),typeof r=="number")for(;++s<zd.length;){const i=zd[s];$0(this,zd[s],(r&rh[i])===rh[i])}}}Em.prototype.defined=!0;function $0(e,t,n){n&&(e[t]=n)}const j6={}.hasOwnProperty;function Ki(e){const t={},n={};let r;for(r in e.properties)if(j6.call(e.properties,r)){const a=e.properties[r],s=new Em(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[nh(r)]=r,n[nh(s.attribute)]=r}return new il(t,n,e.space)}const d1=Ki({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),f1=Ki({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function h1(e,t){return t in e?e[t]:t}function m1(e,t){return h1(e,t.toLowerCase())}const p1=Ki({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:m1,properties:{xmlns:null,xmlnsXLink:null}}),g1=Ki({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:En,ariaAutoComplete:null,ariaBusy:En,ariaChecked:En,ariaColCount:we,ariaColIndex:we,ariaColSpan:we,ariaControls:Xt,ariaCurrent:null,ariaDescribedBy:Xt,ariaDetails:null,ariaDisabled:En,ariaDropEffect:Xt,ariaErrorMessage:null,ariaExpanded:En,ariaFlowTo:Xt,ariaGrabbed:En,ariaHasPopup:null,ariaHidden:En,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xt,ariaLevel:we,ariaLive:null,ariaModal:En,ariaMultiLine:En,ariaMultiSelectable:En,ariaOrientation:null,ariaOwns:Xt,ariaPlaceholder:null,ariaPosInSet:we,ariaPressed:En,ariaReadOnly:En,ariaRelevant:null,ariaRequired:En,ariaRoleDescription:Xt,ariaRowCount:we,ariaRowIndex:we,ariaRowSpan:we,ariaSelected:En,ariaSetSize:we,ariaSort:null,ariaValueMax:we,ariaValueMin:we,ariaValueNow:we,ariaValueText:null,role:null}}),K6=Ki({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:m1,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bi,acceptCharset:Xt,accessKey:Xt,action:null,allow:null,allowFullScreen:ft,allowPaymentRequest:ft,allowUserMedia:ft,alt:null,as:null,async:ft,autoCapitalize:null,autoComplete:Xt,autoFocus:ft,autoPlay:ft,blocking:Xt,capture:null,charSet:null,checked:ft,cite:null,className:Xt,cols:we,colSpan:null,content:null,contentEditable:En,controls:ft,controlsList:Xt,coords:we|bi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ft,defer:ft,dir:null,dirName:null,disabled:ft,download:u1,draggable:En,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ft,formTarget:null,headers:Xt,height:we,hidden:ft,high:we,href:null,hrefLang:null,htmlFor:Xt,httpEquiv:Xt,id:null,imageSizes:null,imageSrcSet:null,inert:ft,inputMode:null,integrity:null,is:null,isMap:ft,itemId:null,itemProp:Xt,itemRef:Xt,itemScope:ft,itemType:Xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ft,low:we,manifest:null,max:null,maxLength:we,media:null,method:null,min:null,minLength:we,multiple:ft,muted:ft,name:null,nonce:null,noModule:ft,noValidate:ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ft,optimum:we,pattern:null,ping:Xt,placeholder:null,playsInline:ft,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ft,referrerPolicy:null,rel:Xt,required:ft,reversed:ft,rows:we,rowSpan:we,sandbox:Xt,scope:null,scoped:ft,seamless:ft,selected:ft,shadowRootClonable:ft,shadowRootDelegatesFocus:ft,shadowRootMode:null,shape:null,size:we,sizes:null,slot:null,span:we,spellCheck:En,src:null,srcDoc:null,srcLang:null,srcSet:null,start:we,step:null,style:null,tabIndex:we,target:null,title:null,translate:null,type:null,typeMustMatch:ft,useMap:null,value:En,width:we,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xt,axis:null,background:null,bgColor:null,border:we,borderColor:null,bottomMargin:we,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ft,declare:ft,event:null,face:null,frame:null,frameBorder:null,hSpace:we,leftMargin:we,link:null,longDesc:null,lowSrc:null,marginHeight:we,marginWidth:we,noResize:ft,noHref:ft,noShade:ft,noWrap:ft,object:null,profile:null,prompt:null,rev:null,rightMargin:we,rules:null,scheme:null,scrolling:En,standby:null,summary:null,text:null,topMargin:we,valueType:null,version:null,vAlign:null,vLink:null,vSpace:we,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ft,disableRemotePlayback:ft,prefix:null,property:null,results:we,security:null,unselectable:null}}),Q6=Ki({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:h1,properties:{about:sr,accentHeight:we,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:we,amplitude:we,arabicForm:null,ascent:we,attributeName:null,attributeType:null,azimuth:we,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:we,by:null,calcMode:null,capHeight:we,className:Xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:we,diffuseConstant:we,direction:null,display:null,dur:null,divisor:we,dominantBaseline:null,download:ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:we,enableBackground:null,end:null,event:null,exponent:we,externalResourcesRequired:null,fill:null,fillOpacity:we,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bi,g2:bi,glyphName:bi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:we,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:we,horizOriginX:we,horizOriginY:we,id:null,ideographic:we,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:we,k:we,k1:we,k2:we,k3:we,k4:we,kernelMatrix:sr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:we,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:we,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:we,overlineThickness:we,paintOrder:null,panose1:null,path:null,pathLength:we,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:we,pointsAtY:we,pointsAtZ:we,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:sr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:sr,rev:sr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:sr,requiredFeatures:sr,requiredFonts:sr,requiredFormats:sr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:we,specularExponent:we,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:we,strikethroughThickness:we,string:null,stroke:null,strokeDashArray:sr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:we,strokeOpacity:we,strokeWidth:null,style:null,surfaceScale:we,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:sr,tabIndex:we,tableValues:null,target:null,targetX:we,targetY:we,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:sr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:we,underlineThickness:we,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:we,values:null,vAlphabetic:we,vMathematical:we,vectorEffect:null,vHanging:we,vIdeographic:we,version:null,vertAdvY:we,vertOriginX:we,vertOriginY:we,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:we,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),X6=/^data[-\w.:]+$/i,W0=/-[a-z]/g,J6=/[A-Z]/g;function Z6(e,t){const n=nh(t);let r=t,a=Ar;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&X6.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(W0,t4);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!W0.test(s)){let i=s.replace(J6,e4);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}a=Em}return new a(r,t)}function e4(e){return"-"+e.toLowerCase()}function t4(e){return e.charAt(1).toUpperCase()}const n4=c1([f1,d1,p1,g1,K6],"html"),y1=c1([f1,d1,p1,g1,Q6],"svg"),Y0={}.hasOwnProperty;function v1(e,t){const n=t||{};function r(a,...s){let i=r.invalid;const l=r.handlers;if(a&&Y0.call(a,e)){const c=String(a[e]);i=Y0.call(l,c)?l[c]:r.unknown}if(i)return i.call(this,a,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const r4={},a4={}.hasOwnProperty,b1=v1("type",{handlers:{root:i4,element:d4,text:c4,comment:u4,doctype:l4}});function s4(e,t){const r=(t||r4).space;return b1(e,r==="svg"?y1:n4)}function i4(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=_m(e.children,n,t),Qi(e,n),n}function o4(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=_m(e.children,n,t),Qi(e,n),n}function l4(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Qi(e,t),t}function c4(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Qi(e,t),t}function u4(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Qi(e,t),t}function d4(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=y1);const a=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&a4.call(e.properties,s)){const c=f4(r,s,e.properties[s]);c&&a.push(c)}}const i=r.space,l={nodeName:e.tagName,tagName:e.tagName,attrs:a,namespaceURI:Ts[i],childNodes:[],parentNode:null};return l.childNodes=_m(e.children,l,r),Qi(e,l),e.tagName==="template"&&e.content&&(l.content=o4(e.content,r)),l}function f4(e,t,n){const r=Z6(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?wE(n):AE(n));const a={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=a.name.indexOf(":");s<0?a.prefix="":(a.name=a.name.slice(s+1),a.prefix=r.attribute.slice(0,s)),a.namespace=Ts[r.space]}return a}function _m(e,t,n){let r=-1;const a=[];if(e)for(;++r<e.length;){const s=b1(e[r],n);s.parentNode=t,a.push(s)}return a}function Qi(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const h4=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],m4=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),nn="�";var B;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(B||(B={}));const jn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function E1(e){return e>=55296&&e<=57343}function p4(e){return e>=56320&&e<=57343}function g4(e,t){return(e-55296)*1024+9216+t}function _1(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function w1(e){return e>=64976&&e<=65007||m4.has(e)}var ce;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ce||(ce={}));const y4=65536;class v4{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=y4,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:a,offset:s}=this,i=a+n,l=s+n;return{code:t,startLine:r,endLine:r,startCol:i,endCol:i,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(p4(n))return this.pos++,this._addGap(),g4(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,B.EOF;return this._err(ce.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;const r=this.html.charCodeAt(n);return r===B.CARRIAGE_RETURN?B.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;let t=this.html.charCodeAt(this.pos);return t===B.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,B.LINE_FEED):t===B.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,E1(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===B.LINE_FEED||t===B.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){_1(t)?this._err(ce.controlCharacterInInputStream):w1(t)&&this._err(ce.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var vt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(vt||(vt={}));function C1(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const b4=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),E4=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function _4(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=E4.get(e))!==null&&t!==void 0?t:e}var kn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(kn||(kn={}));const w4=32;var Ja;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ja||(Ja={}));function ah(e){return e>=kn.ZERO&&e<=kn.NINE}function C4(e){return e>=kn.UPPER_A&&e<=kn.UPPER_F||e>=kn.LOWER_A&&e<=kn.LOWER_F}function T4(e){return e>=kn.UPPER_A&&e<=kn.UPPER_Z||e>=kn.LOWER_A&&e<=kn.LOWER_Z||ah(e)}function S4(e){return e===kn.EQUALS||T4(e)}var Tn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Tn||(Tn={}));var xa;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(xa||(xa={}));class N4{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Tn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=xa.Strict}startEntity(t){this.decodeMode=t,this.state=Tn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Tn.EntityStart:return t.charCodeAt(n)===kn.NUM?(this.state=Tn.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Tn.NamedEntity,this.stateNamedEntity(t,n));case Tn.NumericStart:return this.stateNumericStart(t,n);case Tn.NumericDecimal:return this.stateNumericDecimal(t,n);case Tn.NumericHex:return this.stateNumericHex(t,n);case Tn.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|w4)===kn.LOWER_X?(this.state=Tn.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Tn.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const s=r-n;this.result=this.result*Math.pow(a,s)+Number.parseInt(t.substr(n,s),a),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(ah(a)||C4(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(ah(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===kn.SEMI)this.consumed+=1;else if(this.decodeMode===xa.Strict)return 0;return this.emitCodePoint(_4(this.result),this.consumed),this.errors&&(t!==kn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],s=(a&Ja.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const i=t.charCodeAt(n);if(this.treeIndex=k4(r,a,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return this.result===0||this.decodeMode===xa.Attribute&&(s===0||S4(i))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],s=(a&Ja.VALUE_LENGTH)>>14,s!==0){if(i===kn.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==xa.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&Ja.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~Ja.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case Tn.NamedEntity:return this.result!==0&&(this.decodeMode!==xa.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Tn.NumericDecimal:return this.emitNumericEntity(0,2);case Tn.NumericHex:return this.emitNumericEntity(0,3);case Tn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Tn.EntityStart:return 0}}}function k4(e,t,n,r){const a=(t&Ja.BRANCH_LENGTH)>>7,s=t&Ja.JUMP_TABLE;if(a===0)return s!==0&&r===s?n:-1;if(s){const c=r-s;return c<0||c>=a?-1:e[n+c]-1}let i=n,l=i+a-1;for(;i<=l;){const c=i+l>>>1,u=e[c];if(u<r)i=c+1;else if(u>r)l=c-1;else return e[c+a]}return-1}var ye;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(ye||(ye={}));var xs;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(xs||(xs={}));var _r;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(_r||(_r={}));var X;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(X||(X={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(b||(b={}));const D4=new Map([[X.A,b.A],[X.ADDRESS,b.ADDRESS],[X.ANNOTATION_XML,b.ANNOTATION_XML],[X.APPLET,b.APPLET],[X.AREA,b.AREA],[X.ARTICLE,b.ARTICLE],[X.ASIDE,b.ASIDE],[X.B,b.B],[X.BASE,b.BASE],[X.BASEFONT,b.BASEFONT],[X.BGSOUND,b.BGSOUND],[X.BIG,b.BIG],[X.BLOCKQUOTE,b.BLOCKQUOTE],[X.BODY,b.BODY],[X.BR,b.BR],[X.BUTTON,b.BUTTON],[X.CAPTION,b.CAPTION],[X.CENTER,b.CENTER],[X.CODE,b.CODE],[X.COL,b.COL],[X.COLGROUP,b.COLGROUP],[X.DD,b.DD],[X.DESC,b.DESC],[X.DETAILS,b.DETAILS],[X.DIALOG,b.DIALOG],[X.DIR,b.DIR],[X.DIV,b.DIV],[X.DL,b.DL],[X.DT,b.DT],[X.EM,b.EM],[X.EMBED,b.EMBED],[X.FIELDSET,b.FIELDSET],[X.FIGCAPTION,b.FIGCAPTION],[X.FIGURE,b.FIGURE],[X.FONT,b.FONT],[X.FOOTER,b.FOOTER],[X.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[X.FORM,b.FORM],[X.FRAME,b.FRAME],[X.FRAMESET,b.FRAMESET],[X.H1,b.H1],[X.H2,b.H2],[X.H3,b.H3],[X.H4,b.H4],[X.H5,b.H5],[X.H6,b.H6],[X.HEAD,b.HEAD],[X.HEADER,b.HEADER],[X.HGROUP,b.HGROUP],[X.HR,b.HR],[X.HTML,b.HTML],[X.I,b.I],[X.IMG,b.IMG],[X.IMAGE,b.IMAGE],[X.INPUT,b.INPUT],[X.IFRAME,b.IFRAME],[X.KEYGEN,b.KEYGEN],[X.LABEL,b.LABEL],[X.LI,b.LI],[X.LINK,b.LINK],[X.LISTING,b.LISTING],[X.MAIN,b.MAIN],[X.MALIGNMARK,b.MALIGNMARK],[X.MARQUEE,b.MARQUEE],[X.MATH,b.MATH],[X.MENU,b.MENU],[X.META,b.META],[X.MGLYPH,b.MGLYPH],[X.MI,b.MI],[X.MO,b.MO],[X.MN,b.MN],[X.MS,b.MS],[X.MTEXT,b.MTEXT],[X.NAV,b.NAV],[X.NOBR,b.NOBR],[X.NOFRAMES,b.NOFRAMES],[X.NOEMBED,b.NOEMBED],[X.NOSCRIPT,b.NOSCRIPT],[X.OBJECT,b.OBJECT],[X.OL,b.OL],[X.OPTGROUP,b.OPTGROUP],[X.OPTION,b.OPTION],[X.P,b.P],[X.PARAM,b.PARAM],[X.PLAINTEXT,b.PLAINTEXT],[X.PRE,b.PRE],[X.RB,b.RB],[X.RP,b.RP],[X.RT,b.RT],[X.RTC,b.RTC],[X.RUBY,b.RUBY],[X.S,b.S],[X.SCRIPT,b.SCRIPT],[X.SEARCH,b.SEARCH],[X.SECTION,b.SECTION],[X.SELECT,b.SELECT],[X.SOURCE,b.SOURCE],[X.SMALL,b.SMALL],[X.SPAN,b.SPAN],[X.STRIKE,b.STRIKE],[X.STRONG,b.STRONG],[X.STYLE,b.STYLE],[X.SUB,b.SUB],[X.SUMMARY,b.SUMMARY],[X.SUP,b.SUP],[X.TABLE,b.TABLE],[X.TBODY,b.TBODY],[X.TEMPLATE,b.TEMPLATE],[X.TEXTAREA,b.TEXTAREA],[X.TFOOT,b.TFOOT],[X.TD,b.TD],[X.TH,b.TH],[X.THEAD,b.THEAD],[X.TITLE,b.TITLE],[X.TR,b.TR],[X.TRACK,b.TRACK],[X.TT,b.TT],[X.U,b.U],[X.UL,b.UL],[X.SVG,b.SVG],[X.VAR,b.VAR],[X.WBR,b.WBR],[X.XMP,b.XMP]]);function Xi(e){var t;return(t=D4.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const ve=b,x4={[ye.HTML]:new Set([ve.ADDRESS,ve.APPLET,ve.AREA,ve.ARTICLE,ve.ASIDE,ve.BASE,ve.BASEFONT,ve.BGSOUND,ve.BLOCKQUOTE,ve.BODY,ve.BR,ve.BUTTON,ve.CAPTION,ve.CENTER,ve.COL,ve.COLGROUP,ve.DD,ve.DETAILS,ve.DIR,ve.DIV,ve.DL,ve.DT,ve.EMBED,ve.FIELDSET,ve.FIGCAPTION,ve.FIGURE,ve.FOOTER,ve.FORM,ve.FRAME,ve.FRAMESET,ve.H1,ve.H2,ve.H3,ve.H4,ve.H5,ve.H6,ve.HEAD,ve.HEADER,ve.HGROUP,ve.HR,ve.HTML,ve.IFRAME,ve.IMG,ve.INPUT,ve.LI,ve.LINK,ve.LISTING,ve.MAIN,ve.MARQUEE,ve.MENU,ve.META,ve.NAV,ve.NOEMBED,ve.NOFRAMES,ve.NOSCRIPT,ve.OBJECT,ve.OL,ve.P,ve.PARAM,ve.PLAINTEXT,ve.PRE,ve.SCRIPT,ve.SECTION,ve.SELECT,ve.SOURCE,ve.STYLE,ve.SUMMARY,ve.TABLE,ve.TBODY,ve.TD,ve.TEMPLATE,ve.TEXTAREA,ve.TFOOT,ve.TH,ve.THEAD,ve.TITLE,ve.TR,ve.TRACK,ve.UL,ve.WBR,ve.XMP]),[ye.MATHML]:new Set([ve.MI,ve.MO,ve.MN,ve.MS,ve.MTEXT,ve.ANNOTATION_XML]),[ye.SVG]:new Set([ve.TITLE,ve.FOREIGN_OBJECT,ve.DESC]),[ye.XLINK]:new Set,[ye.XML]:new Set,[ye.XMLNS]:new Set},sh=new Set([ve.H1,ve.H2,ve.H3,ve.H4,ve.H5,ve.H6]);X.STYLE,X.SCRIPT,X.XMP,X.IFRAME,X.NOEMBED,X.NOFRAMES,X.PLAINTEXT;var G;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(G||(G={}));const mn={DATA:G.DATA,RCDATA:G.RCDATA,RAWTEXT:G.RAWTEXT,SCRIPT_DATA:G.SCRIPT_DATA,PLAINTEXT:G.PLAINTEXT,CDATA_SECTION:G.CDATA_SECTION};function A4(e){return e>=B.DIGIT_0&&e<=B.DIGIT_9}function mo(e){return e>=B.LATIN_CAPITAL_A&&e<=B.LATIN_CAPITAL_Z}function P4(e){return e>=B.LATIN_SMALL_A&&e<=B.LATIN_SMALL_Z}function qa(e){return P4(e)||mo(e)}function z0(e){return qa(e)||A4(e)}function jl(e){return e+32}function T1(e){return e===B.SPACE||e===B.LINE_FEED||e===B.TABULATION||e===B.FORM_FEED}function V0(e){return T1(e)||e===B.SOLIDUS||e===B.GREATER_THAN_SIGN}function O4(e){return e===B.NULL?ce.nullCharacterReference:e>1114111?ce.characterReferenceOutsideUnicodeRange:E1(e)?ce.surrogateCharacterReference:w1(e)?ce.noncharacterCharacterReference:_1(e)||e===B.CARRIAGE_RETURN?ce.controlCharacterReference:null}class I4{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=G.DATA,this.returnState=G.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new v4(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new N4(b4,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ce.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ce.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=O4(r);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:vt.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:vt.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:vt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:vt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(C1(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ce.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Xi(t.tagName),t.type===vt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ce.endTagWithAttributes),t.selfClosing&&this._err(ce.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case vt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case vt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case vt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:vt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=T1(t)?vt.WHITESPACE_CHARACTER:t===B.NULL?vt.NULL_CHARACTER:vt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(vt.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=G.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?xa.Attribute:xa.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===G.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===G.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===G.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case G.DATA:{this._stateData(t);break}case G.RCDATA:{this._stateRcdata(t);break}case G.RAWTEXT:{this._stateRawtext(t);break}case G.SCRIPT_DATA:{this._stateScriptData(t);break}case G.PLAINTEXT:{this._statePlaintext(t);break}case G.TAG_OPEN:{this._stateTagOpen(t);break}case G.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case G.TAG_NAME:{this._stateTagName(t);break}case G.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case G.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case G.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case G.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case G.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case G.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case G.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case G.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case G.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case G.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case G.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case G.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case G.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case G.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case G.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case G.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case G.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case G.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case G.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case G.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case G.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case G.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case G.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case G.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case G.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case G.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case G.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case G.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case G.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case G.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case G.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case G.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case G.BOGUS_COMMENT:{this._stateBogusComment(t);break}case G.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case G.COMMENT_START:{this._stateCommentStart(t);break}case G.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case G.COMMENT:{this._stateComment(t);break}case G.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case G.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case G.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case G.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case G.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case G.COMMENT_END:{this._stateCommentEnd(t);break}case G.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case G.DOCTYPE:{this._stateDoctype(t);break}case G.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case G.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case G.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case G.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case G.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case G.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case G.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case G.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case G.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case G.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case G.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case G.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case G.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case G.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case G.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case G.CDATA_SECTION:{this._stateCdataSection(t);break}case G.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case G.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case G.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case G.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case B.LESS_THAN_SIGN:{this.state=G.TAG_OPEN;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitCodePoint(t);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case B.AMPERSAND:{this._startCharacterReference();break}case B.LESS_THAN_SIGN:{this.state=G.RCDATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(nn);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case B.LESS_THAN_SIGN:{this.state=G.RAWTEXT_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(nn);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case B.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(nn);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(nn);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(qa(t))this._createStartTagToken(),this.state=G.TAG_NAME,this._stateTagName(t);else switch(t){case B.EXCLAMATION_MARK:{this.state=G.MARKUP_DECLARATION_OPEN;break}case B.SOLIDUS:{this.state=G.END_TAG_OPEN;break}case B.QUESTION_MARK:{this._err(ce.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=G.BOGUS_COMMENT,this._stateBogusComment(t);break}case B.EOF:{this._err(ce.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ce.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=G.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(qa(t))this._createEndTagToken(),this.state=G.TAG_NAME,this._stateTagName(t);else switch(t){case B.GREATER_THAN_SIGN:{this._err(ce.missingEndTagName),this.state=G.DATA;break}case B.EOF:{this._err(ce.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ce.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=G.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=G.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this.state=G.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),n.tagName+=nn;break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(mo(t)?jl(t):t)}}_stateRcdataLessThanSign(t){t===B.SOLIDUS?this.state=G.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=G.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){qa(t)?(this.state=G.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=G.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=G.BEFORE_ATTRIBUTE_NAME,!1;case B.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=G.SELF_CLOSING_START_TAG,!1;case B.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=G.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=G.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===B.SOLIDUS?this.state=G.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=G.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){qa(t)?(this.state=G.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=G.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=G.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case B.SOLIDUS:{this.state=G.SCRIPT_DATA_END_TAG_OPEN;break}case B.EXCLAMATION_MARK:{this.state=G.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=G.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){qa(t)?(this.state=G.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=G.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=G.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===B.HYPHEN_MINUS?(this.state=G.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=G.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===B.HYPHEN_MINUS?(this.state=G.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=G.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case B.HYPHEN_MINUS:{this.state=G.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(nn);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case B.HYPHEN_MINUS:{this.state=G.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.state=G.SCRIPT_DATA_ESCAPED,this._emitChars(nn);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=G.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.GREATER_THAN_SIGN:{this.state=G.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.state=G.SCRIPT_DATA_ESCAPED,this._emitChars(nn);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=G.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===B.SOLIDUS?this.state=G.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:qa(t)?(this._emitChars("<"),this.state=G.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=G.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){qa(t)?(this.state=G.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=G.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=G.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(jn.SCRIPT,!1)&&V0(this.preprocessor.peek(jn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<jn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=G.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case B.HYPHEN_MINUS:{this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(nn);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case B.HYPHEN_MINUS:{this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(nn);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.GREATER_THAN_SIGN:{this.state=G.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(nn);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===B.SOLIDUS?(this.state=G.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(jn.SCRIPT,!1)&&V0(this.preprocessor.peek(jn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<jn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=G.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=G.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this.state=G.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case B.EQUALS_SIGN:{this._err(ce.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=G.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=G.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this._leaveAttrName(),this.state=G.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case B.EQUALS_SIGN:{this._leaveAttrName(),this.state=G.BEFORE_ATTRIBUTE_VALUE;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:{this._err(ce.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.name+=nn;break}default:this.currentAttr.name+=String.fromCodePoint(mo(t)?jl(t):t)}}_stateAfterAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:{this.state=G.SELF_CLOSING_START_TAG;break}case B.EQUALS_SIGN:{this.state=G.BEFORE_ATTRIBUTE_VALUE;break}case B.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=G.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{this.state=G.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this.state=G.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingAttributeValue),this.state=G.DATA,this.emitCurrentTagToken();break}default:this.state=G.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case B.QUOTATION_MARK:{this.state=G.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.value+=nn;break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case B.APOSTROPHE:{this.state=G.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.value+=nn;break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=G.BEFORE_ATTRIBUTE_NAME;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=G.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.value+=nn;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:case B.EQUALS_SIGN:case B.GRAVE_ACCENT:{this._err(ce.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=G.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this._leaveAttrValue(),this.state=G.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=G.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this._err(ce.missingWhitespaceBetweenAttributes),this.state=G.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case B.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=G.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this._err(ce.unexpectedSolidusInTag),this.state=G.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentComment(n);break}case B.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),n.data+=nn;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(jn.DASH_DASH,!0)?(this._createCommentToken(jn.DASH_DASH.length+1),this.state=G.COMMENT_START):this._consumeSequenceIfMatch(jn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(jn.DOCTYPE.length+1),this.state=G.DOCTYPE):this._consumeSequenceIfMatch(jn.CDATA_START,!0)?this.inForeignNode?this.state=G.CDATA_SECTION:(this._err(ce.cdataInHtmlContent),this._createCommentToken(jn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=G.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ce.incorrectlyOpenedComment),this._createCommentToken(2),this.state=G.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case B.HYPHEN_MINUS:{this.state=G.COMMENT_START_DASH;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptClosingOfEmptyComment),this.state=G.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=G.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=G.COMMENT_END;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptClosingOfEmptyComment),this.state=G.DATA,this.emitCurrentComment(n);break}case B.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=G.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=G.COMMENT_END_DASH;break}case B.LESS_THAN_SIGN:{n.data+="<",this.state=G.COMMENT_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),n.data+=nn;break}case B.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case B.EXCLAMATION_MARK:{n.data+="!",this.state=G.COMMENT_LESS_THAN_SIGN_BANG;break}case B.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=G.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===B.HYPHEN_MINUS?this.state=G.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=G.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===B.HYPHEN_MINUS?this.state=G.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=G.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==B.GREATER_THAN_SIGN&&t!==B.EOF&&this._err(ce.nestedComment),this.state=G.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=G.COMMENT_END;break}case B.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=G.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentComment(n);break}case B.EXCLAMATION_MARK:{this.state=G.COMMENT_END_BANG;break}case B.HYPHEN_MINUS:{n.data+="-";break}case B.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=G.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case B.HYPHEN_MINUS:{n.data+="--!",this.state=G.COMMENT_END_DASH;break}case B.GREATER_THAN_SIGN:{this._err(ce.incorrectlyClosedComment),this.state=G.DATA,this.emitCurrentComment(n);break}case B.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=G.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=G.BEFORE_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=G.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case B.EOF:{this._err(ce.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ce.missingWhitespaceBeforeDoctypeName),this.state=G.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(mo(t))this._createDoctypeToken(String.fromCharCode(jl(t))),this.state=G.DOCTYPE_NAME;else switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.NULL:{this._err(ce.unexpectedNullCharacter),this._createDoctypeToken(nn),this.state=G.DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=G.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=G.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=G.AFTER_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentDoctype(n);break}case B.NULL:{this._err(ce.unexpectedNullCharacter),n.name+=nn;break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(mo(t)?jl(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(jn.PUBLIC,!1)?this.state=G.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(jn.SYSTEM,!1)?this.state=G.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ce.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=G.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(ce.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=G.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(ce.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=G.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=G.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{n.publicId="",this.state=G.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.publicId="",this.state=G.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=G.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case B.QUOTATION_MARK:{this.state=G.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),n.publicId+=nn;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=G.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case B.APOSTROPHE:{this.state=G.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),n.publicId+=nn;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=G.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=G.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case B.GREATER_THAN_SIGN:{this.state=G.DATA,this.emitCurrentDoctype(n);break}case B.QUOTATION_MARK:{this._err(ce.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(ce.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=G.DATA;break}case B.QUOTATION_MARK:{n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=G.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(ce.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(ce.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{n.systemId="",this.state=G.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.DATA,this.emitCurrentDoctype(n);break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case B.QUOTATION_MARK:{this.state=G.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),n.systemId+=nn;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=G.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case B.APOSTROPHE:{this.state=G.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),n.systemId+=nn;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=G.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=G.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ce.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=G.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=G.DATA;break}case B.NULL:{this._err(ce.unexpectedNullCharacter);break}case B.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case B.RIGHT_SQUARE_BRACKET:{this.state=G.CDATA_SECTION_BRACKET;break}case B.EOF:{this._err(ce.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===B.RIGHT_SQUARE_BRACKET?this.state=G.CDATA_SECTION_END:(this._emitChars("]"),this.state=G.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case B.GREATER_THAN_SIGN:{this.state=G.DATA;break}case B.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=G.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&z0(this.preprocessor.peek(1))?G.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){z0(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===B.SEMICOLON&&this._err(ce.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const S1=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),q0=new Set([...S1,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),Vc=new Set([b.APPLET,b.CAPTION,b.HTML,b.MARQUEE,b.OBJECT,b.TABLE,b.TD,b.TEMPLATE,b.TH]),L4=new Set([...Vc,b.OL,b.UL]),R4=new Set([...Vc,b.BUTTON]),j0=new Set([b.ANNOTATION_XML,b.MI,b.MN,b.MO,b.MS,b.MTEXT]),K0=new Set([b.DESC,b.FOREIGN_OBJECT,b.TITLE]),M4=new Set([b.TR,b.TEMPLATE,b.HTML]),F4=new Set([b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML]),B4=new Set([b.TABLE,b.TEMPLATE,b.HTML]),U4=new Set([b.TD,b.TH]);class H4{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ye.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==ye.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(sh,ye.HTML)}popUntilTableCellPopped(){this.popUntilPopped(U4,ye.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(B4,ye.HTML)}clearBackToTableBodyContext(){this.clearBackTo(F4,ye.HTML)}clearBackToTableRowContext(){this.clearBackTo(M4,ye.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case ye.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case ye.SVG:{if(K0.has(a))return!1;break}case ye.MATHML:{if(j0.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Vc)}hasInListItemScope(t){return this.hasInDynamicScope(t,L4)}hasInButtonScope(t){return this.hasInDynamicScope(t,R4)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case ye.HTML:{if(sh.has(n))return!0;if(Vc.has(n))return!1;break}case ye.SVG:{if(K0.has(n))return!1;break}case ye.MATHML:{if(j0.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===ye.HTML)switch(this.tagIDs[n]){case t:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===ye.HTML)switch(this.tagIDs[t]){case b.TBODY:case b.THEAD:case b.TFOOT:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===ye.HTML)switch(this.tagIDs[n]){case t:return!0;case b.OPTION:case b.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&S1.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&q0.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&q0.has(this.currentTagId);)this.pop()}}const Vd=3;var ta;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(ta||(ta={}));const Q0={type:ta.Marker};class G4{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],a=n.length,s=this.treeAdapter.getTagName(t),i=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const c=this.entries[l];if(c.type===ta.Marker)break;const{element:u}=c;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===i){const d=this.treeAdapter.getAttrList(u);d.length===a&&r.push({idx:l,attrs:d})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Vd)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Vd)return;const a=new Map(n.map(i=>[i.name,i.value]));let s=0;for(let i=0;i<r.length;i++){const l=r[i];l.attrs.every(c=>a.get(c.name)===c.value)&&(s+=1,s>=Vd&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(Q0)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:ta.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:ta.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Q0);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===ta.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===ta.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===ta.Element&&n.element===t)}}const ja={createDocument(){return{nodeName:"#document",mode:_r.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const a=e.childNodes.find(s=>s.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};ja.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(ja.isTextNode(n)){n.value+=t;return}}ja.appendChild(e,ja.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&ja.isTextNode(r)?r.value+=t:ja.insertBefore(e,ja.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},N1="html",$4="about:legacy-compat",W4="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",k1=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Y4=[...k1,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],z4=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),D1=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],V4=[...D1,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function X0(e,t){return t.some(n=>e.startsWith(n))}function q4(e){return e.name===N1&&e.publicId===null&&(e.systemId===null||e.systemId===$4)}function j4(e){if(e.name!==N1)return _r.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===W4)return _r.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),z4.has(n))return _r.QUIRKS;let r=t===null?Y4:k1;if(X0(n,r))return _r.QUIRKS;if(r=t===null?D1:V4,X0(n,r))return _r.LIMITED_QUIRKS}return _r.NO_QUIRKS}const J0={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},K4="definitionurl",Q4="definitionURL",X4=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),J4=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ye.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ye.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ye.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ye.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ye.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ye.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ye.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:ye.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ye.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ye.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ye.XMLNS}]]),Z4=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),eF=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function tF(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===xs.COLOR||r===xs.SIZE||r===xs.FACE)||eF.has(t)}function x1(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===K4){e.attrs[t].name=Q4;break}}function A1(e){for(let t=0;t<e.attrs.length;t++){const n=X4.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function wm(e){for(let t=0;t<e.attrs.length;t++){const n=J4.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function nF(e){const t=Z4.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Xi(e.tagName))}function rF(e,t){return t===ye.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function aF(e,t,n){if(t===ye.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===xs.ENCODING){const a=n[r].value.toLowerCase();return a===J0.TEXT_HTML||a===J0.APPLICATION_XML}}return t===ye.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function sF(e,t,n,r){return(!r||r===ye.HTML)&&aF(e,t,n)||(!r||r===ye.MATHML)&&rF(e,t)}const iF="hidden",oF=8,lF=3;var W;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(W||(W={}));const cF={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},P1=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),Z0={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ja,onParseError:null};class ey{constructor(t,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=W.INITIAL,this.originalInsertionMode=W.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Z0,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n!=null?n:this.treeAdapter.createDocument(),this.tokenizer=new I4(this.options,this),this.activeFormattingElements=new G4(this.treeAdapter),this.fragmentContextID=r?Xi(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r!=null?r:this.document,this.fragmentContextID),this.openElements=new H4(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Z0,...n};t!=null||(t=r.treeAdapter.createElement(X.TEMPLATE,ye.HTML,[]));const a=r.treeAdapter.createElement("documentmock",ye.HTML,[]),s=new this(r,a,t);return s.fragmentContextID===b.TEMPLATE&&s.tmplInsertionModeStack.unshift(W.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var a;if(!this.onParseError)return;const s=(a=t.location)!==null&&a!==void 0?a:cF,i={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(i)}onItemPush(t,n,r){var a,s;(s=(a=this.treeAdapter).onItemPush)===null||s===void 0||s.call(a,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,t,this.openElements.current),n){let s,i;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,i=this.fragmentContextID):{current:s,currentTagId:i}=this.openElements,this._setContextModes(s,i)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===ye.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,ye.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=W.TEXT}switchToPlaintextParsing(){this.insertionMode=W.TEXT,this.originalInsertionMode=W.IN_BODY,this.tokenizer.state=mn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===X.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==ye.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=mn.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=mn.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=mn.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=mn.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),t.location){const i=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));i&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r!=null?r:this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,ye.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,ye.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(X.HTML,ye.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),s=r?a.lastIndexOf(r):a.length,i=a[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(i)){const{endLine:c,endCol:u,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(i,{endLine:c,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(t),s=n.type===vt.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===X.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===ye.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,ye.HTML)}_processToken(t){switch(t.type){case vt.CHARACTER:{this.onCharacter(t);break}case vt.NULL_CHARACTER:{this.onNullCharacter(t);break}case vt.COMMENT:{this.onComment(t);break}case vt.DOCTYPE:{this.onDoctype(t);break}case vt.START_TAG:{this._processStartTag(t);break}case vt.END_TAG:{this.onEndTag(t);break}case vt.EOF:{this.onEof(t);break}case vt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const a=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return sF(t,a,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===ta.Marker||this.openElements.contains(a.element)),r=n===-1?t-1:n-1;for(let a=r;a>=0;a--){const s=this.activeFormattingElements.entries[a];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=W.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=W.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=W.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=W.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=W.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=W.IN_TABLE;return}case b.BODY:{this.insertionMode=W.IN_BODY;return}case b.FRAMESET:{this.insertionMode=W.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?W.AFTER_HEAD:W.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=W.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=W.IN_HEAD;return}break}}this.insertionMode=W.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=W.IN_SELECT_IN_TABLE;return}}this.insertionMode=W.IN_SELECT}_isElementCausesFosterParenting(t){return P1.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===ye.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return x4[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){UB(this,t);return}switch(this.insertionMode){case W.INITIAL:{io(this,t);break}case W.BEFORE_HTML:{Eo(this,t);break}case W.BEFORE_HEAD:{_o(this,t);break}case W.IN_HEAD:{wo(this,t);break}case W.IN_HEAD_NO_SCRIPT:{Co(this,t);break}case W.AFTER_HEAD:{To(this,t);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:{I1(this,t);break}case W.TEXT:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{qd(this,t);break}case W.IN_TABLE_TEXT:{U1(this,t);break}case W.IN_COLUMN_GROUP:{qc(this,t);break}case W.AFTER_BODY:{jc(this,t);break}case W.AFTER_AFTER_BODY:{gc(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){BB(this,t);return}switch(this.insertionMode){case W.INITIAL:{io(this,t);break}case W.BEFORE_HTML:{Eo(this,t);break}case W.BEFORE_HEAD:{_o(this,t);break}case W.IN_HEAD:{wo(this,t);break}case W.IN_HEAD_NO_SCRIPT:{Co(this,t);break}case W.AFTER_HEAD:{To(this,t);break}case W.TEXT:{this._insertCharacters(t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{qd(this,t);break}case W.IN_COLUMN_GROUP:{qc(this,t);break}case W.AFTER_BODY:{jc(this,t);break}case W.AFTER_AFTER_BODY:{gc(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){ih(this,t);return}switch(this.insertionMode){case W.INITIAL:case W.BEFORE_HTML:case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_TEMPLATE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{ih(this,t);break}case W.IN_TABLE_TEXT:{oo(this,t);break}case W.AFTER_BODY:{gF(this,t);break}case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{yF(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case W.INITIAL:{vF(this,t);break}case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:{this._err(t,ce.misplacedDoctype);break}case W.IN_TABLE_TEXT:{oo(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ce.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?HB(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case W.INITIAL:{io(this,t);break}case W.BEFORE_HTML:{bF(this,t);break}case W.BEFORE_HEAD:{_F(this,t);break}case W.IN_HEAD:{qr(this,t);break}case W.IN_HEAD_NO_SCRIPT:{TF(this,t);break}case W.AFTER_HEAD:{NF(this,t);break}case W.IN_BODY:{Fn(this,t);break}case W.IN_TABLE:{Ri(this,t);break}case W.IN_TABLE_TEXT:{oo(this,t);break}case W.IN_CAPTION:{wB(this,t);break}case W.IN_COLUMN_GROUP:{Sm(this,t);break}case W.IN_TABLE_BODY:{zu(this,t);break}case W.IN_ROW:{Vu(this,t);break}case W.IN_CELL:{SB(this,t);break}case W.IN_SELECT:{$1(this,t);break}case W.IN_SELECT_IN_TABLE:{kB(this,t);break}case W.IN_TEMPLATE:{xB(this,t);break}case W.AFTER_BODY:{PB(this,t);break}case W.IN_FRAMESET:{OB(this,t);break}case W.AFTER_FRAMESET:{LB(this,t);break}case W.AFTER_AFTER_BODY:{MB(this,t);break}case W.AFTER_AFTER_FRAMESET:{FB(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?GB(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case W.INITIAL:{io(this,t);break}case W.BEFORE_HTML:{EF(this,t);break}case W.BEFORE_HEAD:{wF(this,t);break}case W.IN_HEAD:{CF(this,t);break}case W.IN_HEAD_NO_SCRIPT:{SF(this,t);break}case W.AFTER_HEAD:{kF(this,t);break}case W.IN_BODY:{Yu(this,t);break}case W.TEXT:{fB(this,t);break}case W.IN_TABLE:{Ro(this,t);break}case W.IN_TABLE_TEXT:{oo(this,t);break}case W.IN_CAPTION:{CB(this,t);break}case W.IN_COLUMN_GROUP:{TB(this,t);break}case W.IN_TABLE_BODY:{oh(this,t);break}case W.IN_ROW:{G1(this,t);break}case W.IN_CELL:{NB(this,t);break}case W.IN_SELECT:{W1(this,t);break}case W.IN_SELECT_IN_TABLE:{DB(this,t);break}case W.IN_TEMPLATE:{AB(this,t);break}case W.AFTER_BODY:{z1(this,t);break}case W.IN_FRAMESET:{IB(this,t);break}case W.AFTER_FRAMESET:{RB(this,t);break}case W.AFTER_AFTER_BODY:{gc(this,t);break}}}onEof(t){switch(this.insertionMode){case W.INITIAL:{io(this,t);break}case W.BEFORE_HTML:{Eo(this,t);break}case W.BEFORE_HEAD:{_o(this,t);break}case W.IN_HEAD:{wo(this,t);break}case W.IN_HEAD_NO_SCRIPT:{Co(this,t);break}case W.AFTER_HEAD:{To(this,t);break}case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{F1(this,t);break}case W.TEXT:{hB(this,t);break}case W.IN_TABLE_TEXT:{oo(this,t);break}case W.IN_TEMPLATE:{Y1(this,t);break}case W.AFTER_BODY:case W.IN_FRAMESET:case W.AFTER_FRAMESET:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{Tm(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===B.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.TEXT:case W.IN_COLUMN_GROUP:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{this._insertCharacters(t);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:case W.AFTER_BODY:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{O1(this,t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{qd(this,t);break}case W.IN_TABLE_TEXT:{B1(this,t);break}}}}function uF(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):M1(e,t),n}function dF(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function fF(e,t,n){let r=t,a=e.openElements.getCommonAncestor(t);for(let s=0,i=a;i!==n;s++,i=a){a=e.openElements.getCommonAncestor(i);const l=e.activeFormattingElements.getElementEntry(i),c=l&&s>=lF;!l||c?(c&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(i)):(i=hF(e,l),r===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(i,r),r=i)}return r}function hF(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function mF(e,t,n){const r=e.treeAdapter.getTagName(t),a=Xi(r);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);a===b.TEMPLATE&&s===ye.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function pF(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,s=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,a.tagID)}function Cm(e,t){for(let n=0;n<oF;n++){const r=uF(e,t);if(!r)break;const a=dF(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;const s=fF(e,a,r.element),i=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),i&&mF(e,i,s),pF(e,a,r)}}function ih(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function gF(e,t){e._appendCommentNode(t,e.openElements.items[0])}function yF(e,t){e._appendCommentNode(t,e.document)}function Tm(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],i=e.treeAdapter.getNodeSourceCodeLocation(s);i&&!i.endTag&&e._setEndLocation(s,t)}}}}function vF(e,t){e._setDocumentType(t);const n=t.forceQuirks?_r.QUIRKS:j4(t);q4(t)||e._err(t,ce.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=W.BEFORE_HTML}function io(e,t){e._err(t,ce.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,_r.QUIRKS),e.insertionMode=W.BEFORE_HTML,e._processToken(t)}function bF(e,t){t.tagID===b.HTML?(e._insertElement(t,ye.HTML),e.insertionMode=W.BEFORE_HEAD):Eo(e,t)}function EF(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&Eo(e,t)}function Eo(e,t){e._insertFakeRootElement(),e.insertionMode=W.BEFORE_HEAD,e._processToken(t)}function _F(e,t){switch(t.tagID){case b.HTML:{Fn(e,t);break}case b.HEAD:{e._insertElement(t,ye.HTML),e.headElement=e.openElements.current,e.insertionMode=W.IN_HEAD;break}default:_o(e,t)}}function wF(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?_o(e,t):e._err(t,ce.endTagWithoutMatchingOpenElement)}function _o(e,t){e._insertFakeElement(X.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=W.IN_HEAD,e._processToken(t)}function qr(e,t){switch(t.tagID){case b.HTML:{Fn(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,ye.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,mn.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,mn.RAWTEXT):(e._insertElement(t,ye.HTML),e.insertionMode=W.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,mn.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,mn.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=W.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(W.IN_TEMPLATE);break}case b.HEAD:{e._err(t,ce.misplacedStartTagForHeadElement);break}default:wo(e,t)}}function CF(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=W.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{wo(e,t);break}case b.TEMPLATE:{js(e,t);break}default:e._err(t,ce.endTagWithoutMatchingOpenElement)}}function js(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,ce.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ce.endTagWithoutMatchingOpenElement)}function wo(e,t){e.openElements.pop(),e.insertionMode=W.AFTER_HEAD,e._processToken(t)}function TF(e,t){switch(t.tagID){case b.HTML:{Fn(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{qr(e,t);break}case b.NOSCRIPT:{e._err(t,ce.nestedNoscriptInHead);break}default:Co(e,t)}}function SF(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=W.IN_HEAD;break}case b.BR:{Co(e,t);break}default:e._err(t,ce.endTagWithoutMatchingOpenElement)}}function Co(e,t){const n=t.type===vt.EOF?ce.openElementsLeftAfterEof:ce.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=W.IN_HEAD,e._processToken(t)}function NF(e,t){switch(t.tagID){case b.HTML:{Fn(e,t);break}case b.BODY:{e._insertElement(t,ye.HTML),e.framesetOk=!1,e.insertionMode=W.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,ye.HTML),e.insertionMode=W.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,ce.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),qr(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,ce.misplacedStartTagForHeadElement);break}default:To(e,t)}}function kF(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{To(e,t);break}case b.TEMPLATE:{js(e,t);break}default:e._err(t,ce.endTagWithoutMatchingOpenElement)}}function To(e,t){e._insertFakeElement(X.BODY,b.BODY),e.insertionMode=W.IN_BODY,Wu(e,t)}function Wu(e,t){switch(t.type){case vt.CHARACTER:{I1(e,t);break}case vt.WHITESPACE_CHARACTER:{O1(e,t);break}case vt.COMMENT:{ih(e,t);break}case vt.START_TAG:{Fn(e,t);break}case vt.END_TAG:{Yu(e,t);break}case vt.EOF:{F1(e,t);break}}}function O1(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function I1(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function DF(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function xF(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function AF(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,ye.HTML),e.insertionMode=W.IN_FRAMESET)}function PF(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,ye.HTML)}function OF(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&sh.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,ye.HTML)}function IF(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,ye.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function LF(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,ye.HTML),n||(e.formElement=e.openElements.current))}function RF(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const a=e.openElements.tagIDs[r];if(n===b.LI&&a===b.LI||(n===b.DD||n===b.DT)&&(a===b.DD||a===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==b.ADDRESS&&a!==b.DIV&&a!==b.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,ye.HTML)}function MF(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,ye.HTML),e.tokenizer.state=mn.PLAINTEXT}function FF(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,ye.HTML),e.framesetOk=!1}function BF(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(X.A);n&&(Cm(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,ye.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function UF(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ye.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function HF(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(Cm(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,ye.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function GF(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ye.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function $F(e,t){e.treeAdapter.getDocumentMode(e.document)!==_r.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,ye.HTML),e.framesetOk=!1,e.insertionMode=W.IN_TABLE}function L1(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ye.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function R1(e){const t=C1(e,xs.TYPE);return t!=null&&t.toLowerCase()===iF}function WF(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ye.HTML),R1(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function YF(e,t){e._appendElement(t,ye.HTML),t.ackSelfClosing=!0}function zF(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,ye.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function VF(e,t){t.tagName=X.IMG,t.tagID=b.IMG,L1(e,t)}function qF(e,t){e._insertElement(t,ye.HTML),e.skipNextNewLine=!0,e.tokenizer.state=mn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=W.TEXT}function jF(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,mn.RAWTEXT)}function KF(e,t){e.framesetOk=!1,e._switchToTextParsing(t,mn.RAWTEXT)}function ty(e,t){e._switchToTextParsing(t,mn.RAWTEXT)}function QF(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ye.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===W.IN_TABLE||e.insertionMode===W.IN_CAPTION||e.insertionMode===W.IN_TABLE_BODY||e.insertionMode===W.IN_ROW||e.insertionMode===W.IN_CELL?W.IN_SELECT_IN_TABLE:W.IN_SELECT}function XF(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,ye.HTML)}function JF(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,ye.HTML)}function ZF(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,ye.HTML)}function eB(e,t){e._reconstructActiveFormattingElements(),x1(t),wm(t),t.selfClosing?e._appendElement(t,ye.MATHML):e._insertElement(t,ye.MATHML),t.ackSelfClosing=!0}function tB(e,t){e._reconstructActiveFormattingElements(),A1(t),wm(t),t.selfClosing?e._appendElement(t,ye.SVG):e._insertElement(t,ye.SVG),t.ackSelfClosing=!0}function ny(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ye.HTML)}function Fn(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{UF(e,t);break}case b.A:{BF(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{OF(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{PF(e,t);break}case b.LI:case b.DD:case b.DT:{RF(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{L1(e,t);break}case b.HR:{zF(e,t);break}case b.RB:case b.RTC:{JF(e,t);break}case b.RT:case b.RP:{ZF(e,t);break}case b.PRE:case b.LISTING:{IF(e,t);break}case b.XMP:{jF(e,t);break}case b.SVG:{tB(e,t);break}case b.HTML:{DF(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{qr(e,t);break}case b.BODY:{xF(e,t);break}case b.FORM:{LF(e,t);break}case b.NOBR:{HF(e,t);break}case b.MATH:{eB(e,t);break}case b.TABLE:{$F(e,t);break}case b.INPUT:{WF(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{YF(e,t);break}case b.IMAGE:{VF(e,t);break}case b.BUTTON:{FF(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{GF(e,t);break}case b.IFRAME:{KF(e,t);break}case b.SELECT:{QF(e,t);break}case b.OPTION:case b.OPTGROUP:{XF(e,t);break}case b.NOEMBED:case b.NOFRAMES:{ty(e,t);break}case b.FRAMESET:{AF(e,t);break}case b.TEXTAREA:{qF(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?ty(e,t):ny(e,t);break}case b.PLAINTEXT:{MF(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:ny(e,t)}}function nB(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=W.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function rB(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=W.AFTER_BODY,z1(e,t))}function aB(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function sB(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function iB(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(X.P,b.P),e._closePElement()}function oB(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function lB(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function cB(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function uB(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function dB(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(X.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function M1(e,t){const n=t.tagName,r=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const s=e.openElements.items[a],i=e.openElements.tagIDs[a];if(r===i&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(s,i))break}}function Yu(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{Cm(e,t);break}case b.P:{iB(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{aB(e,t);break}case b.LI:{oB(e);break}case b.DD:case b.DT:{lB(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{cB(e);break}case b.BR:{dB(e);break}case b.BODY:{nB(e,t);break}case b.HTML:{rB(e,t);break}case b.FORM:{sB(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{uB(e,t);break}case b.TEMPLATE:{js(e,t);break}default:M1(e,t)}}function F1(e,t){e.tmplInsertionModeStack.length>0?Y1(e,t):Tm(e,t)}function fB(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function hB(e,t){e._err(t,ce.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function qd(e,t){if(e.openElements.currentTagId!==void 0&&P1.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=W.IN_TABLE_TEXT,t.type){case vt.CHARACTER:{U1(e,t);break}case vt.WHITESPACE_CHARACTER:{B1(e,t);break}}else ol(e,t)}function mB(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,ye.HTML),e.insertionMode=W.IN_CAPTION}function pB(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ye.HTML),e.insertionMode=W.IN_COLUMN_GROUP}function gB(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(X.COLGROUP,b.COLGROUP),e.insertionMode=W.IN_COLUMN_GROUP,Sm(e,t)}function yB(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ye.HTML),e.insertionMode=W.IN_TABLE_BODY}function vB(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(X.TBODY,b.TBODY),e.insertionMode=W.IN_TABLE_BODY,zu(e,t)}function bB(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function EB(e,t){R1(t)?e._appendElement(t,ye.HTML):ol(e,t),t.ackSelfClosing=!0}function _B(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,ye.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Ri(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{vB(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{qr(e,t);break}case b.COL:{gB(e,t);break}case b.FORM:{_B(e,t);break}case b.TABLE:{bB(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{yB(e,t);break}case b.INPUT:{EB(e,t);break}case b.CAPTION:{mB(e,t);break}case b.COLGROUP:{pB(e,t);break}default:ol(e,t)}}function Ro(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{js(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:ol(e,t)}}function ol(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Wu(e,t),e.fosterParentingEnabled=n}function B1(e,t){e.pendingCharacterTokens.push(t)}function U1(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function oo(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ol(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const H1=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function wB(e,t){const n=t.tagID;H1.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_TABLE,Ri(e,t)):Fn(e,t)}function CB(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_TABLE,n===b.TABLE&&Ro(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:Yu(e,t)}}function Sm(e,t){switch(t.tagID){case b.HTML:{Fn(e,t);break}case b.COL:{e._appendElement(t,ye.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{qr(e,t);break}default:qc(e,t)}}function TB(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=W.IN_TABLE);break}case b.TEMPLATE:{js(e,t);break}case b.COL:break;default:qc(e,t)}}function qc(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=W.IN_TABLE,e._processToken(t))}function zu(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,ye.HTML),e.insertionMode=W.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(X.TR,b.TR),e.insertionMode=W.IN_ROW,Vu(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE,Ri(e,t));break}default:Ri(e,t)}}function oh(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE,Ro(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:Ro(e,t)}}function Vu(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,ye.HTML),e.insertionMode=W.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,zu(e,t));break}default:Ri(e,t)}}function G1(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,oh(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,oh(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:Ro(e,t)}}function SB(e,t){const n=t.tagID;H1.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),Vu(e,t)):Fn(e,t)}function NB(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),G1(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:Yu(e,t)}}function $1(e,t){switch(t.tagID){case b.HTML:{Fn(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,ye.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,ye.HTML);break}case b.HR:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._appendElement(t,ye.HTML),t.ackSelfClosing=!0;break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{qr(e,t);break}}}function W1(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{js(e,t);break}}}function kB(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):$1(e,t)}function DB(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):W1(e,t)}function xB(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{qr(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=W.IN_TABLE,e.insertionMode=W.IN_TABLE,Ri(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=W.IN_COLUMN_GROUP,e.insertionMode=W.IN_COLUMN_GROUP,Sm(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=W.IN_TABLE_BODY,e.insertionMode=W.IN_TABLE_BODY,zu(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=W.IN_ROW,e.insertionMode=W.IN_ROW,Vu(e,t);break}default:e.tmplInsertionModeStack[0]=W.IN_BODY,e.insertionMode=W.IN_BODY,Fn(e,t)}}function AB(e,t){t.tagID===b.TEMPLATE&&js(e,t)}function Y1(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Tm(e,t)}function PB(e,t){t.tagID===b.HTML?Fn(e,t):jc(e,t)}function z1(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=W.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else jc(e,t)}function jc(e,t){e.insertionMode=W.IN_BODY,Wu(e,t)}function OB(e,t){switch(t.tagID){case b.HTML:{Fn(e,t);break}case b.FRAMESET:{e._insertElement(t,ye.HTML);break}case b.FRAME:{e._appendElement(t,ye.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{qr(e,t);break}}}function IB(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=W.AFTER_FRAMESET))}function LB(e,t){switch(t.tagID){case b.HTML:{Fn(e,t);break}case b.NOFRAMES:{qr(e,t);break}}}function RB(e,t){t.tagID===b.HTML&&(e.insertionMode=W.AFTER_AFTER_FRAMESET)}function MB(e,t){t.tagID===b.HTML?Fn(e,t):gc(e,t)}function gc(e,t){e.insertionMode=W.IN_BODY,Wu(e,t)}function FB(e,t){switch(t.tagID){case b.HTML:{Fn(e,t);break}case b.NOFRAMES:{qr(e,t);break}}}function BB(e,t){t.chars=nn,e._insertCharacters(t)}function UB(e,t){e._insertCharacters(t),e.framesetOk=!1}function V1(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==ye.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function HB(e,t){if(tF(t))V1(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===ye.MATHML?x1(t):r===ye.SVG&&(nF(t),A1(t)),wm(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function GB(e,t){if(t.tagID===b.P||t.tagID===b.BR){V1(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===ye.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}X.AREA,X.BASE,X.BASEFONT,X.BGSOUND,X.BR,X.COL,X.EMBED,X.FRAME,X.HR,X.IMG,X.INPUT,X.KEYGEN,X.LINK,X.META,X.PARAM,X.SOURCE,X.TRACK,X.WBR;const $B=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,WB=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),ry={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function q1(e,t){const n=ZB(e),r=v1("type",{handlers:{root:YB,element:zB,text:VB,comment:K1,doctype:qB,raw:KB},unknown:QB}),a={parser:n?new ey(ry):ey.getFragmentParser(void 0,ry),handle(l){r(l,a)},stitches:!1,options:t||{}};r(e,a),Ji(a,_a());const s=n?a.parser.document:a.parser.getFragment(),i=Y6(s,{file:a.options.file});return a.stitches&&$u(i,"comment",function(l,c,u){const d=l;if(d.value.stitch&&u&&c!==void 0){const f=u.children;return f[c]=d.value.stitch,c}}),i.type==="root"&&i.children.length===1&&i.children[0].type===e.type?i.children[0]:i}function j1(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function YB(e,t){j1(e.children,t)}function zB(e,t){XB(e,t),j1(e.children,t),JB(e,t)}function VB(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:vt.CHARACTER,chars:e.value,location:ll(e)};Ji(t,_a(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function qB(e,t){const n={type:vt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:ll(e)};Ji(t,_a(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function jB(e,t){t.stitches=!0;const n=e8(e);if("children"in e&&"children"in n){const r=q1({type:"root",children:e.children},t.options);n.children=r.children}K1({type:"comment",value:{stitch:n}},t)}function K1(e,t){const n=e.value,r={type:vt.COMMENT,data:n,location:ll(e)};Ji(t,_a(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function KB(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Q1(t,_a(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace($B,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function QB(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))jB(n,t);else{let r="";throw WB.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Ji(e,t){Q1(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=mn.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Q1(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function XB(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===mn.PLAINTEXT)return;Ji(t,_a(e));const r=t.parser.openElements.current;let a="namespaceURI"in r?r.namespaceURI:Ts.html;a===Ts.html&&n==="svg"&&(a=Ts.svg);const s=s4({...e,children:[]},{space:a===Ts.svg?"svg":"html"}),i={type:vt.START_TAG,tagName:n,tagID:Xi(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:ll(e)};t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function JB(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&h4.includes(n)||t.parser.tokenizer.state===mn.PLAINTEXT)return;Ji(t,Mu(e));const r={type:vt.END_TAG,tagName:n,tagID:Xi(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:ll(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===mn.RCDATA||t.parser.tokenizer.state===mn.RAWTEXT||t.parser.tokenizer.state===mn.SCRIPT_DATA)&&(t.parser.tokenizer.state=mn.DATA)}function ZB(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function ll(e){const t=_a(e)||{line:void 0,column:void 0,offset:void 0},n=Mu(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function e8(e){return"children"in e?Fs({...e,children:[]}):Fs(e)}function t8(e){return function(t,n){return q1(t,{...e,file:n})}}const hs=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],ay={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...hs,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...hs],h2:[["className","sr-only"]],img:[...hs,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...hs,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...hs],table:[...hs],ul:[...hs,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},Ka={}.hasOwnProperty;function n8(e,t){let n={type:"root",children:[]};const r={schema:t?{...ay,...t}:ay,stack:[]},a=X1(r,e);return a&&(Array.isArray(a)?a.length===1?n=a[0]:n.children=a:n=a),n}function X1(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return r8(e,n);case"doctype":return a8(e,n);case"element":return s8(e,n);case"root":return i8(e,n);case"text":return o8(e,n)}}}function r8(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),s={type:"comment",value:r<0?n:n.slice(0,r)};return cl(s,t),s}}function a8(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return cl(n,t),n}}function s8(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=J1(e,t.children),a=l8(e,t.properties);e.stack.pop();let s=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(s=!0,e.schema.ancestors&&Ka.call(e.schema.ancestors,n))){const l=e.schema.ancestors[n];let c=-1;for(s=!1;++c<l.length;)e.stack.includes(l[c])&&(s=!0)}if(!s)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const i={type:"element",tagName:n,properties:a,children:r};return cl(i,t),i}function i8(e,t){const r={type:"root",children:J1(e,t.children)};return cl(r,t),r}function o8(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return cl(r,t),r}function J1(e,t){const n=[];if(Array.isArray(t)){const r=t;let a=-1;for(;++a<r.length;){const s=X1(e,r[a]);s&&(Array.isArray(s)?n.push(...s):n.push(s))}}return n}function l8(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,a=e.schema.required,s=r&&Ka.call(r,n)?r[n]:void 0,i=r&&Ka.call(r,"*")?r["*"]:void 0,l=t&&typeof t=="object"?t:{},c={};let u;for(u in l)if(Ka.call(l,u)){const d=l[u];let f=sy(e,iy(s,u),u,d);f==null&&(f=sy(e,iy(i,u),u,d)),f!=null&&(c[u]=f)}if(a&&Ka.call(a,n)){const d=a[n];for(u in d)Ka.call(d,u)&&!Ka.call(c,u)&&(c[u]=d[u])}return c}function sy(e,t,n,r){return t?Array.isArray(r)?c8(e,t,n,r):Z1(e,t,n,r):void 0}function c8(e,t,n,r){let a=-1;const s=[];for(;++a<r.length;){const i=Z1(e,t,n,r[a]);(typeof i=="number"||typeof i=="string")&&s.push(i)}return s}function Z1(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&u8(e,n,r)){if(typeof t=="object"&&t.length>1){let a=!1,s=0;for(;++s<t.length;){const i=t[s];if(i&&typeof i=="object"&&"flags"in i){if(i.test(String(r))){a=!0;break}}else if(i===r){a=!0;break}}if(!a)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function u8(e,t,n){const r=e.schema.protocols&&Ka.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const a=String(n),s=a.indexOf(":"),i=a.indexOf("?"),l=a.indexOf("#"),c=a.indexOf("/");if(s<0||c>-1&&s>c||i>-1&&s>i||l>-1&&s>l)return!0;let u=-1;for(;++u<r.length;){const d=r[u];if(s===d.length&&a.slice(0,d.length)===d)return!0}return!1}function cl(e,t){const n=OE(t);t.data&&(e.data=Fs(t.data)),n&&(e.position=n)}function iy(e,t){let n,r=-1;if(e)for(;++r<e.length;){const a=e[r],s=typeof a=="string"?a:a[0];if(s===t)return a;s==="data*"&&(n=a)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function d8(e){return function(t){return n8(t,e)}}function oy(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function f8(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function h8(e,t,n){const a=Hu((n||{}).ignore||[]),s=m8(t);let i=-1;for(;++i<s.length;)r1(e,"text",l);function l(u,d){let f=-1,m;for(;++f<d.length;){const h=d[f],g=m?m.children:void 0;if(a(h,g?g.indexOf(h):void 0,m))return;m=h}if(m)return c(u,d)}function c(u,d){const f=d[d.length-1],m=s[i][0],h=s[i][1];let g=0;const _=f.children.indexOf(u);let E=!1,C=[];m.lastIndex=0;let w=m.exec(u.value);for(;w;){const S=w.index,N={index:w.index,input:w.input,stack:[...d,u]};let T=h(...w,N);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?m.lastIndex=S+1:(g!==S&&C.push({type:"text",value:u.value.slice(g,S)}),Array.isArray(T)?C.push(...T):T&&C.push(T),g=S+w[0].length,E=!0),!m.global)break;w=m.exec(u.value)}return E?(g<u.value.length&&C.push({type:"text",value:u.value.slice(g)}),f.children.splice(_,1,...C)):C=[u],_+C.length}}function m8(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([p8(a[0]),g8(a[1])])}return t}function p8(e){return typeof e=="string"?new RegExp(f8(e),"g"):e}function g8(e){return typeof e=="function"?e:function(){return e}}const jd="phrasing",Kd=["autolink","link","image","label"];function y8(){return{transforms:[T8],enter:{literalAutolink:b8,literalAutolinkEmail:Qd,literalAutolinkHttp:Qd,literalAutolinkWww:Qd},exit:{literalAutolink:C8,literalAutolinkEmail:w8,literalAutolinkHttp:E8,literalAutolinkWww:_8}}}function v8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:jd,notInConstruct:Kd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:jd,notInConstruct:Kd},{character:":",before:"[ps]",after:"\\/",inConstruct:jd,notInConstruct:Kd}]}}function b8(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Qd(e){this.config.enter.autolinkProtocol.call(this,e)}function E8(e){this.config.exit.autolinkProtocol.call(this,e)}function _8(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function w8(e){this.config.exit.autolinkEmail.call(this,e)}function C8(e){this.exit(e)}function T8(e){h8(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,S8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),N8]],{ignore:["link","linkReference"]})}function S8(e,t,n,r,a){let s="";if(!e_(a)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!k8(n)))return!1;const i=D8(n+r);if(!i[0])return!1;const l={type:"link",title:null,url:s+t+i[0],children:[{type:"text",value:t+i[0]}]};return i[1]?[l,{type:"text",value:i[1]}]:l}function N8(e,t,n,r){return!e_(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function k8(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function D8(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=oy(e,"(");let s=oy(e,")");for(;r!==-1&&a>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function e_(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ms(n)||Fu(n))&&(!t||n!==47)}t_.peek=F8;function x8(){this.buffer()}function A8(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function P8(){this.buffer()}function O8(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function I8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ur(this.sliceSerialize(e)).toLowerCase(),n.label=t}function L8(e){this.exit(e)}function R8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ur(this.sliceSerialize(e)).toLowerCase(),n.label=t}function M8(e){this.exit(e)}function F8(){return"["}function t_(e,t,n,r){const a=n.createTracker(r);let s=a.move("[^");const i=n.enter("footnoteReference"),l=n.enter("reference");return s+=a.move(n.safe(n.associationId(e),{after:"]",before:s})),l(),i(),s+=a.move("]"),s}function B8(){return{enter:{gfmFootnoteCallString:x8,gfmFootnoteCall:A8,gfmFootnoteDefinitionLabelString:P8,gfmFootnoteDefinition:O8},exit:{gfmFootnoteCallString:I8,gfmFootnoteCall:L8,gfmFootnoteDefinitionLabelString:R8,gfmFootnoteDefinition:M8}}}function U8(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:t_},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,s,i){const l=s.createTracker(i);let c=l.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return c+=l.move(s.safe(s.associationId(r),{before:c,after:"]"})),d(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?"\n":" ")+s.indentLines(s.containerFlow(r,l.current()),t?n_:H8))),u(),c}}function H8(e,t,n){return t===0?e:n_(e,t,n)}function n_(e,t,n){return(n?"":"    ")+e}const G8=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];r_.peek=V8;function $8(){return{canContainEols:["delete"],enter:{strikethrough:Y8},exit:{strikethrough:z8}}}function W8(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:G8}],handlers:{delete:r_}}}function Y8(e){this.enter({type:"delete",children:[]},e)}function z8(e){this.exit(e)}function r_(e,t,n,r){const a=n.createTracker(r),s=n.enter("strikethrough");let i=a.move("~~");return i+=n.containerPhrasing(e,{...a.current(),before:i,after:"~"}),i+=a.move("~~"),s(),i}function V8(){return"~"}function q8(e){return e.length}function j8(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||q8,s=[],i=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const v=[],_=[];let E=-1;for(e[d].length>u&&(u=e[d].length);++E<e[d].length;){const C=K8(e[d][E]);if(n.alignDelimiters!==!1){const w=a(C);_[E]=w,(c[E]===void 0||w>c[E])&&(c[E]=w)}v.push(C)}i[d]=v,l[d]=_}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=ly(r[f]);else{const v=ly(r);for(;++f<u;)s[f]=v}f=-1;const m=[],h=[];for(;++f<u;){const v=s[f];let _="",E="";v===99?(_=":",E=":"):v===108?_=":":v===114&&(E=":");let C=n.alignDelimiters===!1?1:Math.max(1,c[f]-_.length-E.length);const w=_+"-".repeat(C)+E;n.alignDelimiters!==!1&&(C=_.length+C+E.length,C>c[f]&&(c[f]=C),h[f]=C),m[f]=w}i.splice(1,0,m),l.splice(1,0,h),d=-1;const g=[];for(;++d<i.length;){const v=i[d],_=l[d];f=-1;const E=[];for(;++f<u;){const C=v[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const N=c[f]-(_[f]||0),T=s[f];T===114?w=" ".repeat(N):T===99?N%2?(w=" ".repeat(N/2+.5),S=" ".repeat(N/2-.5)):(w=" ".repeat(N/2),S=w):S=" ".repeat(N)}n.delimiterStart!==!1&&!f&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&C==="")&&(n.delimiterStart!==!1||f)&&E.push(" "),n.alignDelimiters!==!1&&E.push(w),E.push(C),n.alignDelimiters!==!1&&E.push(S),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&E.push("|")}g.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return g.join("\n")}function K8(e){return e==null?"":String(e)}function ly(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Q8(e,t,n,r){const a=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const i=n.indentLines(n.containerFlow(e,s.current()),X8);return a(),i}function X8(e,t,n){return">"+(n?"":" ")+e}function J8(e,t){return cy(e,t.inConstruct,!0)&&!cy(e,t.notInConstruct,!1)}function cy(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function uy(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character==="\n"&&J8(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function Z8(e,t){const n=String(e);let r=n.indexOf(t),a=r,s=0,i=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++s>i&&(i=s):s=1,a=r+t.length,r=n.indexOf(t,a);return i}function e5(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function t5(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function n5(e,t,n,r){const a=t5(n),s=e.value||"",i=a==="`"?"GraveAccent":"Tilde";if(e5(e,n)){const f=n.enter("codeIndented"),m=n.indentLines(s,r5);return f(),m}const l=n.createTracker(r),c=a.repeat(Math.max(Z8(s,a)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const f=n.enter("codeFencedLang".concat(i));d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=n.enter("codeFencedMeta".concat(i));d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:"\n",encode:["`"],...l.current()})),f()}return d+=l.move("\n"),s&&(d+=l.move(s+"\n")),d+=l.move(c),u(),d}function r5(e,t,n){return(n?"":"    ")+e}function Nm(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function a5(e,t,n,r){const a=Nm(n),s=a==='"'?"Quote":"Apostrophe",i=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":"\n",...c.current()}))),l(),e.title&&(l=n.enter("title".concat(s)),u+=c.move(" "+a),u+=c.move(n.safe(e.title,{before:u,after:a,...c.current()})),u+=c.move(a),l()),i(),u}function s5(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Mo(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Kc(e,t,n){const r=Li(e),a=Li(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}a_.peek=i5;function a_(e,t,n,r){const a=s5(n),s=n.enter("emphasis"),i=n.createTracker(r),l=i.move(a);let c=i.move(n.containerPhrasing(e,{after:a,before:l,...i.current()}));const u=c.charCodeAt(0),d=Kc(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(c=Mo(u)+c.slice(1));const f=c.charCodeAt(c.length-1),m=Kc(r.after.charCodeAt(0),f,a);m.inside&&(c=c.slice(0,-1)+Mo(f));const h=i.move(a);return s(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+c+h}function i5(e,t,n){return n.options.emphasis||"*"}function o5(e,t){let n=!1;return $u(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Xf}),!!((!e.depth||e.depth<3)&&dm(e)&&(t.options.setext||n))}function l5(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(o5(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),m=n.containerPhrasing(e,{...s.current(),before:"\n",after:"\n"});return f(),d(),m+"\n"+(a===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf("\n"))+1))}const i="#".repeat(a),l=n.enter("headingAtx"),c=n.enter("phrasing");s.move(i+" ");let u=n.containerPhrasing(e,{before:"# ",after:"\n",...s.current()});return/^[\t ]/.test(u)&&(u=Mo(u.charCodeAt(0))+u.slice(1)),u=u?i+" "+u:i,n.options.closeAtx&&(u+=" "+i),c(),l(),u}s_.peek=c5;function s_(e){return e.value||""}function c5(){return"<"}i_.peek=u5;function i_(e,t,n,r){const a=Nm(n),s=a==='"'?"Quote":"Apostrophe",i=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter("title".concat(s)),u+=c.move(" "+a),u+=c.move(n.safe(e.title,{before:u,after:a,...c.current()})),u+=c.move(a),l()),u+=c.move(")"),i(),u}function u5(){return"!"}o_.peek=d5;function o_(e,t,n,r){const a=e.referenceType,s=n.enter("imageReference");let i=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),i();const d=n.stack;n.stack=[],i=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return i(),n.stack=d,s(),a==="full"||!u||u!==f?c+=l.move(f+"]"):a==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function d5(){return"!"}l_.peek=f5;function l_(e,t,n){let r=e.value||"",a="`",s=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const i=n.unsafe[s],l=n.compilePattern(i);let c;if(i.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return a+r+a}function f5(){return"`"}function c_(e,t){const n=dm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}u_.peek=h5;function u_(e,t,n,r){const a=Nm(n),s=a==='"'?"Quote":"Apostrophe",i=n.createTracker(r);let l,c;if(c_(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let f=i.move("<");return f+=i.move(n.containerPhrasing(e,{before:f,after:">",...i.current()})),f+=i.move(">"),l(),n.stack=d,f}l=n.enter("link"),c=n.enter("label");let u=i.move("[");return u+=i.move(n.containerPhrasing(e,{before:u,after:"](",...i.current()})),u+=i.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(n.safe(e.url,{before:u,after:">",...i.current()})),u+=i.move(">")):(c=n.enter("destinationRaw"),u+=i.move(n.safe(e.url,{before:u,after:e.title?" ":")",...i.current()}))),c(),e.title&&(c=n.enter("title".concat(s)),u+=i.move(" "+a),u+=i.move(n.safe(e.title,{before:u,after:a,...i.current()})),u+=i.move(a),c()),u+=i.move(")"),l(),u}function h5(e,t,n){return c_(e,n)?"<":"["}d_.peek=m5;function d_(e,t,n,r){const a=e.referenceType,s=n.enter("linkReference");let i=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),i();const d=n.stack;n.stack=[],i=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return i(),n.stack=d,s(),a==="full"||!u||u!==f?c+=l.move(f+"]"):a==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function m5(){return"["}function km(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function p5(e){const t=km(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function g5(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function f_(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function y5(e,t,n,r){const a=n.enter("list"),s=n.bulletCurrent;let i=e.ordered?g5(n):km(n);const l=e.ordered?i==="."?")":".":p5(n);let c=t&&n.bulletLastUsed?i===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((i==="*"||i==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),f_(n)===i&&d){let f=-1;for(;++f<e.children.length;){const m=e.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(i=l),n.bulletCurrent=i;const u=n.containerFlow(e,r);return n.bulletLastUsed=i,n.bulletCurrent=s,a(),u}function v5(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function b5(e,t,n,r){const a=v5(n);let s=n.bulletCurrent||km(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let i=s.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(i=Math.ceil(i/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(i-s.length)),l.shift(i);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(f,m,h){return m?(h?"":" ".repeat(i))+f:(h?s:s+" ".repeat(i-s.length))+f}}function E5(e,t,n,r){const a=n.enter("paragraph"),s=n.enter("phrasing"),i=n.containerPhrasing(e,r);return s(),a(),i}const _5=Hu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function w5(e,t,n,r){return(e.children.some(function(i){return _5(i)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function C5(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}h_.peek=T5;function h_(e,t,n,r){const a=C5(n),s=n.enter("strong"),i=n.createTracker(r),l=i.move(a+a);let c=i.move(n.containerPhrasing(e,{after:a,before:l,...i.current()}));const u=c.charCodeAt(0),d=Kc(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(c=Mo(u)+c.slice(1));const f=c.charCodeAt(c.length-1),m=Kc(r.after.charCodeAt(0),f,a);m.inside&&(c=c.slice(0,-1)+Mo(f));const h=i.move(a+a);return s(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+c+h}function T5(e,t,n){return n.options.strong||"*"}function S5(e,t,n,r){return n.safe(e.value,r)}function N5(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function k5(e,t,n){const r=(f_(n)+(n.options.ruleSpaces?" ":"")).repeat(N5(n));return n.options.ruleSpaces?r.slice(0,-1):r}const m_={blockquote:Q8,break:uy,code:n5,definition:a5,emphasis:a_,hardBreak:uy,heading:l5,html:s_,image:i_,imageReference:o_,inlineCode:l_,link:u_,linkReference:d_,list:y5,listItem:b5,paragraph:E5,root:w5,strong:h_,text:S5,thematicBreak:k5};function D5(){return{enter:{table:x5,tableData:dy,tableHeader:dy,tableRow:P5},exit:{codeText:O5,table:A5,tableData:Xd,tableHeader:Xd,tableRow:Xd}}}function x5(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function A5(e){this.exit(e),this.data.inTable=void 0}function P5(e){this.enter({type:"tableRow",children:[]},e)}function Xd(e){this.exit(e)}function dy(e){this.enter({type:"tableCell",children:[]},e)}function O5(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,I5));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function I5(e,t){return t==="|"?t:e}function L5(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:i,tableCell:c,tableRow:l}};function i(h,g,v,_){return u(d(h,v,_),h.align)}function l(h,g,v,_){const E=f(h,v,_),C=u([E]);return C.slice(0,C.indexOf("\n"))}function c(h,g,v,_){const E=v.enter("tableCell"),C=v.enter("phrasing"),w=v.containerPhrasing(h,{..._,before:s,after:s});return C(),E(),w}function u(h,g){return j8(h,{align:g,alignDelimiters:r,padding:n,stringLength:a})}function d(h,g,v){const _=h.children;let E=-1;const C=[],w=g.enter("table");for(;++E<_.length;)C[E]=f(_[E],g,v);return w(),C}function f(h,g,v){const _=h.children;let E=-1;const C=[],w=g.enter("tableRow");for(;++E<_.length;)C[E]=c(_[E],h,g,v);return w(),C}function m(h,g,v){let _=m_.inlineCode(h,g,v);return v.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function R5(){return{exit:{taskListCheckValueChecked:fy,taskListCheckValueUnchecked:fy,paragraph:F5}}}function M5(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:B5}}}function fy(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function F5(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let s=-1,i;for(;++s<a.length;){const l=a[s];if(l.type==="paragraph"){i=l;break}}i===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function B5(e,t,n,r){const a=e.children[0],s=typeof e.checked=="boolean"&&a&&a.type==="paragraph",i="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);s&&l.move(i);let c=m_.listItem(e,t,n,{...r,...l.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+i}}function U5(){return[y8(),B8(),$8(),D5(),R5()]}function H5(e){return{extensions:[v8(),U8(e),W8(),L5(e),M5()]}}const G5={tokenize:q5,partial:!0},p_={tokenize:j5,partial:!0},g_={tokenize:K5,partial:!0},y_={tokenize:Q5,partial:!0},$5={tokenize:X5,partial:!0},v_={name:"wwwAutolink",tokenize:z5,previous:E_},b_={name:"protocolAutolink",tokenize:V5,previous:__},Ga={name:"emailAutolink",tokenize:Y5,previous:w_},wa={};function W5(){return{text:wa}}let ms=48;for(;ms<123;)wa[ms]=Ga,ms++,ms===58?ms=65:ms===91&&(ms=97);wa[43]=Ga;wa[45]=Ga;wa[46]=Ga;wa[95]=Ga;wa[72]=[Ga,b_];wa[104]=[Ga,b_];wa[87]=[Ga,v_];wa[119]=[Ga,v_];function Y5(e,t,n){const r=this;let a,s;return i;function i(f){return!lh(f)||!w_.call(r,r.previous)||Dm(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return lh(f)?(e.consume(f),l):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check($5,d,u)(f):f===45||f===95||Rn(f)?(s=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),a=!0,c}function d(f){return s&&a&&Wn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function z5(e,t,n){const r=this;return a;function a(i){return i!==87&&i!==119||!E_.call(r,r.previous)||Dm(r.events)?n(i):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(G5,e.attempt(p_,e.attempt(g_,s),n),n)(i))}function s(i){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(i)}}function V5(e,t,n){const r=this;let a="",s=!1;return i;function i(f){return(f===72||f===104)&&__.call(r,r.previous)&&!Dm(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),l):n(f)}function l(f){if(Wn(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const m=a.toLowerCase();if(m==="http"||m==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),s?u:(s=!0,c)):n(f)}function u(f){return f===null||Yc(f)||Kt(f)||Ms(f)||Fu(f)?n(f):e.attempt(p_,e.attempt(g_,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function q5(e,t,n){let r=0;return a;function a(i){return(i===87||i===119)&&r<3?(r++,e.consume(i),a):i===46&&r===3?(e.consume(i),s):n(i)}function s(i){return i===null?n(i):t(i)}}function j5(e,t,n){let r,a,s;return i;function i(u){return u===46||u===95?e.check(y_,c,l)(u):u===null||Kt(u)||Ms(u)||u!==45&&Fu(u)?c(u):(s=!0,e.consume(u),i)}function l(u){return u===95?r=!0:(a=r,r=void 0),e.consume(u),i}function c(u){return a||r||!s?n(u):t(u)}}function K5(e,t){let n=0,r=0;return a;function a(i){return i===40?(n++,e.consume(i),a):i===41&&r<n?s(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?e.check(y_,t,s)(i):i===null||Kt(i)||Ms(i)?t(i):(e.consume(i),a)}function s(i){return i===41&&r++,e.consume(i),a}}function Q5(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),s):l===93?(e.consume(l),a):l===60||l===null||Kt(l)||Ms(l)?t(l):n(l)}function a(l){return l===null||l===40||l===91||Kt(l)||Ms(l)?t(l):r(l)}function s(l){return Wn(l)?i(l):n(l)}function i(l){return l===59?(e.consume(l),r):Wn(l)?(e.consume(l),i):n(l)}}function X5(e,t,n){return r;function r(s){return e.consume(s),a}function a(s){return Rn(s)?n(s):t(s)}}function E_(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Kt(e)}function __(e){return!Wn(e)}function w_(e){return!(e===47||lh(e))}function lh(e){return e===43||e===45||e===46||e===95||Rn(e)}function Dm(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const J5={tokenize:iU,partial:!0};function Z5(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:rU,continuation:{tokenize:aU},exit:sU}},text:{91:{name:"gfmFootnoteCall",tokenize:nU},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:eU,resolveTo:tU}}}}function eU(e,t,n){const r=this;let a=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;a--;){const c=r.events[a][1];if(c.type==="labelImage"){i=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!i||!i._balanced)return n(c);const u=Ur(r.sliceSerialize({start:i.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function tU(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function nU(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,i;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!i||f===null||f===91||Kt(f))return n(f);if(f===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return a.includes(Ur(r.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Kt(f)||(i=!0),s++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,u):u(f)}}function rU(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,i=0,l;return c;function c(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(g)}function d(g){if(i>999||g===93&&!l||g===null||g===91||Kt(g))return n(g);if(g===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return s=Ur(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return Kt(g)||(l=!0),i++,e.consume(g),g===92?f:d}function f(g){return g===91||g===92||g===93?(e.consume(g),i++,d):d(g)}function m(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),a.includes(s)||a.push(s),Nt(e,h,"gfmFootnoteDefinitionWhitespace")):n(g)}function h(g){return t(g)}}function aU(e,t,n){return e.check(al,t,e.attempt(J5,t,n))}function sU(e){e.exit("gfmFootnoteDefinition")}function iU(e,t,n){const r=this;return Nt(e,a,"gfmFootnoteDefinitionIndent",4+1);function a(s){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?t(s):n(s)}}function oU(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(i,l){let c=-1;for(;++c<i.length;)if(i[c][0]==="enter"&&i[c][1].type==="strikethroughSequenceTemporary"&&i[c][1]._close){let u=c;for(;u--;)if(i[u][0]==="exit"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._open&&i[c][1].end.offset-i[c][1].start.offset===i[u][1].end.offset-i[u][1].start.offset){i[c][1].type="strikethroughSequence",i[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},i[u][1].start),end:Object.assign({},i[c][1].end)},f={type:"strikethroughText",start:Object.assign({},i[u][1].end),end:Object.assign({},i[c][1].start)},m=[["enter",d,l],["enter",i[u][1],l],["exit",i[u][1],l],["enter",f,l]],h=l.parser.constructs.insideSpan.null;h&&dr(m,m.length,0,Bu(h,i.slice(u+1,c),l)),dr(m,m.length,0,[["exit",f,l],["enter",i[c][1],l],["exit",i[c][1],l],["exit",d,l]]),dr(i,u-1,c-u+3,m),c=u+m.length-2;break}}for(c=-1;++c<i.length;)i[c][1].type==="strikethroughSequenceTemporary"&&(i[c][1].type="data");return i}function s(i,l,c){const u=this.previous,d=this.events;let f=0;return m;function m(g){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(g):(i.enter("strikethroughSequenceTemporary"),h(g))}function h(g){const v=Li(u);if(g===126)return f>1?c(g):(i.consume(g),f++,h);if(f<2&&!n)return c(g);const _=i.exit("strikethroughSequenceTemporary"),E=Li(g);return _._open=!E||E===2&&!!v,_._close=!v||v===2&&!!E,l(g)}}}class lU{constructor(){this.map=[]}add(t,n,r){cU(this,t,n,r)}consume(t){if(this.map.sort(function(s,i){return s[0]-i[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const s of a)t.push(s);a=r.pop()}this.map.length=0}}function cU(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function uU(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function dU(){return{flow:{null:{name:"table",tokenize:fU,resolveAll:hU}}}}function fU(e,t,n){const r=this;let a=0,s=0,i;return l;function l(x){let D=r.events.length-1;for(;D>-1;){const R=r.events[D][1].type;if(R==="lineEnding"||R==="linePrefix")D--;else break}const P=D>-1?r.events[D][1].type:null,M=P==="tableHead"||P==="tableRow"?T:c;return M===T&&r.parser.lazy[r.now().line]?n(x):M(x)}function c(x){return e.enter("tableHead"),e.enter("tableRow"),u(x)}function u(x){return x===124||(i=!0,s+=1),d(x)}function d(x){return x===null?n(x):Je(x)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),h):n(x):bt(x)?Nt(e,d,"whitespace")(x):(s+=1,i&&(i=!1,a+=1),x===124?(e.enter("tableCellDivider"),e.consume(x),e.exit("tableCellDivider"),i=!0,d):(e.enter("data"),f(x)))}function f(x){return x===null||x===124||Kt(x)?(e.exit("data"),d(x)):(e.consume(x),x===92?m:f)}function m(x){return x===92||x===124?(e.consume(x),f):f(x)}function h(x){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(x):(e.enter("tableDelimiterRow"),i=!1,bt(x)?Nt(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):g(x))}function g(x){return x===45||x===58?_(x):x===124?(i=!0,e.enter("tableCellDivider"),e.consume(x),e.exit("tableCellDivider"),v):N(x)}function v(x){return bt(x)?Nt(e,_,"whitespace")(x):_(x)}function _(x){return x===58?(s+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(x),e.exit("tableDelimiterMarker"),E):x===45?(s+=1,E(x)):x===null||Je(x)?S(x):N(x)}function E(x){return x===45?(e.enter("tableDelimiterFiller"),C(x)):N(x)}function C(x){return x===45?(e.consume(x),C):x===58?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(x),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(x))}function w(x){return bt(x)?Nt(e,S,"whitespace")(x):S(x)}function S(x){return x===124?g(x):x===null||Je(x)?!i||a!==s?N(x):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(x)):N(x)}function N(x){return n(x)}function T(x){return e.enter("tableRow"),k(x)}function k(x){return x===124?(e.enter("tableCellDivider"),e.consume(x),e.exit("tableCellDivider"),k):x===null||Je(x)?(e.exit("tableRow"),t(x)):bt(x)?Nt(e,k,"whitespace")(x):(e.enter("data"),I(x))}function I(x){return x===null||x===124||Kt(x)?(e.exit("data"),k(x)):(e.consume(x),x===92?A:I)}function A(x){return x===92||x===124?(e.consume(x),I):I(x)}}function hU(e,t){let n=-1,r=!0,a=0,s=[0,0,0,0],i=[0,0,0,0],l=!1,c=0,u,d,f;const m=new lU;for(;++n<e.length;){const h=e[n],g=h[1];h[0]==="enter"?g.type==="tableHead"?(l=!1,c!==0&&(hy(m,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},m.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],i=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},m.add(n,0,[["enter",d,t]])),a=g.type==="tableDelimiterRow"?2:d?3:1):a&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,i[2]===0&&(s[1]!==0&&(i[0]=i[1],f=Kl(m,t,s,a,void 0,f),s=[0,0,0,0]),i[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(i[0]=i[1],f=Kl(m,t,s,a,void 0,f)),s=i,i=[s[1],n,0,0])):g.type==="tableHead"?(l=!0,c=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(c=n,s[1]!==0?(i[0]=i[1],f=Kl(m,t,s,a,n,f)):i[1]!==0&&(f=Kl(m,t,i,a,n,f)),a=0):a&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(i[3]=n)}for(c!==0&&hy(m,t,c,u,d),m.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=uU(t.events,n))}return e}function Kl(e,t,n,r,a,s){const i=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},ci(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const c=ci(t.events,n[1]);if(s={type:i,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=ci(t.events,n[2]),d=ci(t.events,n[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const m=t.events[n[2]],h=t.events[n[3]];if(m[1].end=Object.assign({},h[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,v=n[3]-n[2]-1;e.add(g,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(s.end=Object.assign({},ci(t.events,a)),e.add(a,0,[["exit",s,t]]),s=void 0),s}function hy(e,t,n,r,a){const s=[],i=ci(t.events,n);a&&(a.end=Object.assign({},i),s.push(["exit",a,t])),r.end=Object.assign({},i),s.push(["exit",r,t]),e.add(n+1,0,s)}function ci(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const mU={name:"tasklistCheck",tokenize:gU};function pU(){return{text:{91:mU}}}function gU(e,t,n){const r=this;return a;function a(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return Kt(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),i):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),i):n(c)}function i(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return Je(c)?t(c):bt(c)?e.check({tokenize:yU},t,n)(c):n(c)}}function yU(e,t,n){return Nt(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function vU(e){return BE([W5(),Z5(),oU(e),dU(),pU()])}const bU={};function EU(e){const t=this,n=e||bU,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),i=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(vU(n)),s.push(U5()),i.push(H5(n))}const C_="carousel",T_="controller",_U="navigation",wU="no-scroll",xm="portal",CU="root",S_="toolbar",Jd="loading",Zd="error",ef="complete",TU="placeholder",SU=e=>"active-slide-".concat(e),N_="flex_center",NU="no_scroll",k_="no_scroll_padding",Am="slide",kU="slide_wrapper",Es="prev",_s="next",my="swipe",Mi="close",D_="onPointerDown",x_="onPointerMove",A_="onPointerUp",P_="onPointerLeave",O_="onPointerCancel",I_="onKeyDown",DU="onKeyUp",L_="onWheel",xU="Escape",AU="ArrowLeft",PU="ArrowRight",OU="button",ch="icon",R_="contain",py="cover",IU="Unknown action type",M_="yarl__";function Ba(...e){return[...e].filter(Boolean).join(" ")}function Bt(e){return"".concat(M_).concat(e)}function Qn(e){return"--".concat(M_).concat(e)}function ul(e,t){return"".concat(e).concat(t?"_".concat(t):"")}function Pm(e){return t=>ul(e,t)}function Fi(e,t){var n;return(n=e==null?void 0:e[t])!==null&&n!==void 0?n:t}function LU(e,t,n){return Fi(e,"{index} of {total}").replace(/\{index}/g,"".concat(Om(n,t.length)+1)).replace(/\{total}/g,"".concat(t.length))}function F_(...e){return()=>{e.forEach(t=>{t()})}}function ds(e,t,n){return()=>{const r=y.useContext(n);if(!r)throw new Error("".concat(e," must be used within a ").concat(t,".Provider"));return r}}function B_(){return typeof window<"u"}function RU(e,t=0){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}function U_(e){return e.type===void 0||e.type==="image"}function MU(e,t){return e.imageFit===py||e.imageFit!==R_&&t===py}function qu(e){return typeof e=="string"?Number.parseInt(e,10):e}function Qc(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=qu(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function FU(e,t){const n=Qc(t),r=n.percent!==void 0?e.width/100*n.percent:n.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function Om(e,t){return t>0?(e%t+t)%t:0}function H_(e){return e.length>0}function G_(e,t){return e[Om(t,e.length)]}function uh(e,t){return H_(e)?G_(e,t):void 0}function BU(e){return U_(e)?e.src:void 0}function UU(e,t,n=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),n))}const HU=Number(y.version.split(".")[0])>=19;function GU(e){return{inert:HU?e:e?"":void 0}}function $U(e){e.scrollTop}const dh={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Mi]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:R_,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function Ks(e,t){return{name:e,component:t}}function Sn(e,t){return{module:e,children:t}}function $_(e,t,n){return e.module.name===t?n(e):e.children?[Sn(e.module,e.children.flatMap(r=>{var a;return(a=$_(r,t,n))!==null&&a!==void 0?a:[]}))]:[e]}function ri(e,t,n){return e.flatMap(r=>{var a;return(a=$_(r,t,n))!==null&&a!==void 0?a:[]})}function WU(e,t=[],n=[]){let r=e;const a=h=>{const g=[...r];for(;g.length>0;){const v=g.pop();if((v==null?void 0:v.module.name)===h)return!0;v!=null&&v.children&&g.push(...v.children)}return!1},s=(h,g)=>{if(h===""){r=[Sn(g,r)];return}r=ri(r,h,v=>[Sn(g,[v])])},i=(h,g)=>{r=ri(r,h,v=>[Sn(v.module,[Sn(g,v.children)])])},l=(h,g,v)=>{r=ri(r,h,_=>{var E;return[Sn(_.module,[...v?[Sn(g)]:[],...(E=_.children)!==null&&E!==void 0?E:[],...v?[]:[Sn(g)]])]})},c=(h,g,v)=>{r=ri(r,h,_=>[...v?[Sn(g)]:[],_,...v?[]:[Sn(g)]])},u=h=>{i(T_,h)},d=(h,g)=>{r=ri(r,h,v=>[Sn(g,v.children)])},f=h=>{r=ri(r,h,g=>g.children)},m=h=>{n.push(h)};return t.forEach(h=>{h({contains:a,addParent:s,append:i,addChild:l,addSibling:c,addModule:u,replace:d,remove:f,augment:m})}),{config:r,augmentation:h=>n.reduce((g,v)=>v(g),h)}}const W_=y.createContext(null),Y_=ds("useA11yContext","A11yContext",W_);function YU({children:e}){const[t,n]=y.useState(!1),[r,a]=y.useState(!1),s=y.useMemo(()=>({focusWithin:t,trackFocusWithin:(l,c)=>{const u=d=>f=>{var m;f.currentTarget.contains(f.relatedTarget)||n(d),(m=d?l:c)===null||m===void 0||m(f)};return{onFocus:u(!0),onBlur:u(!1)}},autoPlaying:r,setAutoPlaying:a}),[t,r]);return y.createElement(W_.Provider,{value:s},e)}const z_=y.createContext(null),Im=ds("useDocument","DocumentContext",z_);function zU({nodeRef:e,children:t}){const n=y.useMemo(()=>{const r=s=>{var i;return((i=s||e.current)===null||i===void 0?void 0:i.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:s=>{var i;return((i=r(s))===null||i===void 0?void 0:i.defaultView)||window}}},[e]);return y.createElement(z_.Provider,{value:n},t)}const V_=y.createContext(null),ju=ds("useEvents","EventsContext",V_);function VU({children:e}){const[t]=y.useState({});y.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const n=y.useMemo(()=>{const r=(i,l)=>{var c;(c=t[i])===null||c===void 0||c.splice(0,t[i].length,...t[i].filter(u=>u!==l))};return{publish:(...[i,l])=>{var c;(c=t[i])===null||c===void 0||c.forEach(u=>u(l))},subscribe:(i,l)=>(t[i]||(t[i]=[]),t[i].push(l),()=>r(i,l)),unsubscribe:r}},[t]);return y.createElement(V_.Provider,{value:n},e)}const q_=y.createContext(null),dl=ds("useLightboxProps","LightboxPropsContext",q_);function qU({children:e,...t}){return y.createElement(q_.Provider,{value:t},e)}const j_=y.createContext(null),Ku=ds("useLightboxState","LightboxStateContext",j_),K_=y.createContext(null),jU=ds("useLightboxDispatch","LightboxDispatchContext",K_);function KU(e,t){switch(t.type){case"swipe":{const{slides:n}=e,r=(t==null?void 0:t.increment)||0,a=e.globalIndex+r,s=Om(a,n.length),i=uh(n,s),l=r||t.duration!==void 0?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:n,currentIndex:s,globalIndex:a,currentSlide:i,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:uh(t.slides,t.index)}:e;default:throw new Error(IU)}}function QU({slides:e,index:t,children:n}){const[r,a]=y.useReducer(KU,{slides:e,currentIndex:t,globalIndex:t,currentSlide:uh(e,t)});y.useEffect(()=>{a({type:"update",slides:e,index:t})},[e,t]);const s=y.useMemo(()=>({...r,state:r,dispatch:a}),[r,a]);return y.createElement(K_.Provider,{value:a},y.createElement(j_.Provider,{value:s},n))}const Q_=y.createContext(null),Qu=ds("useTimeouts","TimeoutsContext",Q_);function XU({children:e}){const[t]=y.useState([]);y.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const n=y.useMemo(()=>{const r=i=>{t.splice(0,t.length,...t.filter(l=>l!==i))};return{setTimeout:(i,l)=>{const c=window.setTimeout(()=>{r(c),i()},l);return t.push(c),c},clearTimeout:i=>{i!==void 0&&(r(i),window.clearTimeout(i))}}},[t]);return y.createElement(Q_.Provider,{value:n},e)}const X_=y.forwardRef(function({label:t,className:n,icon:r,renderIcon:a,onClick:s,style:i,...l},c){const{styles:u,labels:d}=dl(),f=Fi(d,t);return y.createElement("button",{ref:c,type:"button",title:f,"aria-label":f,className:Ba(Bt(OU),n),onClick:s,style:{...i,...u.button},...l},a?a():y.createElement(r,{className:Bt(ch),style:u.icon}))});function JU(e,t){const n=r=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return n.displayName=e,n}function fl(e,t){return JU(e,y.createElement("g",{fill:"currentColor"},y.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const ZU=fl("Close",y.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),e9=fl("Previous",y.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),t9=fl("Next",y.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),n9=fl("Loading",y.createElement(y.Fragment,null,Array.from({length:8}).map((e,t,n)=>y.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/n.length*(t+1),transform:"rotate(".concat(360/n.length*t,", 12, 12)")})))),r9=fl("Error",y.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),hl=B_()?y.useLayoutEffect:y.useEffect;function J_(){const[e,t]=y.useState(!1);return y.useEffect(()=>{var n,r;const a=(n=window.matchMedia)===null||n===void 0?void 0:n.call(window,"(prefers-reduced-motion: reduce)");t(a==null?void 0:a.matches);const s=i=>t(i.matches);return(r=a==null?void 0:a.addEventListener)===null||r===void 0||r.call(a,"change",s),()=>{var i;return(i=a==null?void 0:a.removeEventListener)===null||i===void 0?void 0:i.call(a,"change",s)}},[]),e}function a9(e){let t=0,n=0,r=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const i=s[1].split(",").map(qu);i.length===6?(t=i[4],n=i[5]):i.length===16&&(t=i[12],n=i[13],r=i[14])}return{x:t,y:n,z:r}}function gy(e,t){const n=y.useRef(void 0),r=y.useRef(void 0),a=J_();return hl(()=>{var s,i,l;if(e.current&&n.current!==void 0&&!a){const{keyframes:c,duration:u,easing:d,onfinish:f}=t(n.current,e.current.getBoundingClientRect(),a9(e.current))||{};if(c&&u){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(l=(i=e.current).animate)===null||l===void 0?void 0:l.call(i,c,{duration:u,easing:d})}catch(m){console.error(m)}r.current&&(r.current.onfinish=()=>{r.current=void 0,f==null||f()})}}n.current=void 0}),{prepareAnimation:s=>{n.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function Z_(){const e=y.useRef(null),t=y.useRef(void 0),[n,r]=y.useState();return{setContainerRef:y.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const i=()=>{if(s){const l=window.getComputedStyle(s),c=u=>parseFloat(u)||0;r({width:Math.round(s.clientWidth-c(l.paddingLeft)-c(l.paddingRight)),height:Math.round(s.clientHeight-c(l.paddingTop)-c(l.paddingBottom))})}else r(void 0)};i(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(i),t.current.observe(s))},[]),containerRef:e,containerRect:n}}function yc(){const e=y.useRef(void 0),{setTimeout:t,clearTimeout:n}=Qu();return y.useCallback((r,a)=>{n(e.current),e.current=t(r,a>0?a:0)},[t,n])}function _n(e){const t=y.useRef(e);return hl(()=>{t.current=e}),y.useCallback((...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function yy(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function fh(e,t){return y.useMemo(()=>e==null&&t==null?null:n=>{yy(e,n),yy(t,n)},[e,t])}function s9(e,t=!1){const n=y.useRef(!1);hl(()=>{t&&n.current&&(n.current=!1,e())},[t,e]);const r=y.useCallback(()=>{n.current=!0},[]),a=y.useCallback(()=>{n.current=!1},[]);return{onFocus:r,onBlur:a}}function Lm(){const[e,t]=y.useState(!1);return hl(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function i9(){const[e]=y.useState({}),t=y.useCallback((a,s)=>{var i;(i=e[a])===null||i===void 0||i.forEach(l=>{s.isPropagationStopped()||l(s)})},[e]),n=y.useMemo(()=>({onPointerDown:a=>t(D_,a),onPointerMove:a=>t(x_,a),onPointerUp:a=>t(A_,a),onPointerLeave:a=>t(P_,a),onPointerCancel:a=>t(O_,a),onKeyDown:a=>t(I_,a),onKeyUp:a=>t(DU,a),onWheel:a=>t(L_,a)}),[t]),r=y.useCallback((a,s)=>(e[a]||(e[a]=[]),e[a].unshift(s),()=>{const i=e[a];i&&i.splice(0,i.length,...i.filter(l=>l!==s))}),[e]);return{registerSensors:n,subscribeSensors:r}}function vy(e,t){const n=y.useRef(0),r=yc(),a=_n((...s)=>{n.current=Date.now(),e(s)});return y.useCallback((...s)=>{r(()=>{a(s)},t-(Date.now()-n.current))},[t,a,r])}const tf=Pm("slide"),nf=Pm("slide_image");function o9({slide:e,offset:t,render:n,rect:r,imageFit:a,imageProps:s,onClick:i,onLoad:l,onError:c,style:u}){var d,f,m,h,g,v,_,E;const[C,w]=y.useState(Jd),{publish:S}=ju(),{setTimeout:N}=Qu(),T=y.useRef(null);y.useEffect(()=>{t===0&&S(SU(C))},[t,C,S]);const k=_n(q=>{("decode"in q?q.decode():Promise.resolve()).catch(()=>{}).then(()=>{q.parentNode&&(w(ef),N(()=>{l==null||l(q)},0))})}),I=y.useCallback(q=>{T.current=q,q!=null&&q.complete&&k(q)},[k]),A=y.useCallback(q=>{k(q.currentTarget)},[k]),x=_n(()=>{w(Zd),c==null||c()}),D=MU(e,a),P=(q,O)=>Number.isFinite(q)?q:O,M=P(Math.max(...((f=(d=e.srcSet)===null||d===void 0?void 0:d.map(q=>q.width))!==null&&f!==void 0?f:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((m=T.current)===null||m===void 0?void 0:m.naturalWidth)||0),R=P(Math.max(...((g=(h=e.srcSet)===null||h===void 0?void 0:h.map(q=>q.height))!==null&&g!==void 0?g:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((v=T.current)===null||v===void 0?void 0:v.naturalHeight)||0),F=M&&R?{maxWidth:"min(".concat(M,"px, 100%)"),maxHeight:"min(".concat(R,"px, 100%)")}:{maxWidth:"100%",maxHeight:"100%"},U=(_=e.srcSet)===null||_===void 0?void 0:_.sort((q,O)=>q.width-O.width).map(q=>"".concat(q.src," ").concat(q.width,"w")).join(", "),$=()=>r&&!D&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,H=U&&r&&B_()?"".concat(Math.round(Math.min($(),r.width)),"px"):void 0,{style:K,className:L,...le}=s||{};return y.createElement(y.Fragment,null,y.createElement("img",{ref:I,onLoad:A,onError:x,onClick:i,draggable:!1,className:Ba(Bt(nf()),D&&Bt(nf("cover")),C!==ef&&Bt(nf("loading")),L),style:{...F,...u,...K},...le,alt:(E=e.alt)!==null&&E!==void 0?E:"",sizes:H,srcSet:U,src:e.src}),C!==ef&&y.createElement("div",{className:Bt(tf(TU))},C===Jd&&(n!=null&&n.iconLoading?n.iconLoading():y.createElement(n9,{className:Ba(Bt(ch),Bt(tf(Jd)))})),C===Zd&&(n!=null&&n.iconError?n.iconError():y.createElement(r9,{className:Ba(Bt(ch),Bt(tf(Zd)))}))))}const l9=y.forwardRef(function({className:t,children:n,onFocus:r,onBlur:a,...s},i){const l=y.useRef(null),{trackFocusWithin:c}=Y_();return y.createElement(zU,{nodeRef:l},y.createElement("div",{ref:fh(i,l),className:Ba(Bt("root"),t),...c(r,a),...s},n))});var In;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(In||(In={}));function c9(e,t,n,r,a){y.useEffect(()=>a?()=>{}:F_(e(D_,t),e(x_,n),e(A_,r),e(P_,r),e(O_,r)),[e,t,n,r,a])}var Ir;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(Ir||(Ir={}));const rf=30;function u9({disableSwipeNavigation:e,closeOnBackdropClick:t},n,r,a,s,i,l,c,u,d,f,m,h,g,v,_){const E=y.useRef(0),C=y.useRef([]),w=y.useRef(void 0),S=y.useRef(0),N=y.useRef(Ir.NONE),T=y.useCallback(M=>{w.current===M.pointerId&&(w.current=void 0,N.current=Ir.NONE);const R=C.current;R.splice(0,R.length,...R.filter(F=>F.pointerId!==M.pointerId))},[]),k=y.useCallback(M=>{T(M),M.persist(),C.current.push(M)},[T]),I=y.useCallback(M=>C.current.find(({pointerId:R})=>M.pointerId===R),[]),A=_n(M=>{k(M)}),x=(M,R)=>f&&M>R||d&&M<-R,D=_n(M=>{const R=I(M);if(R)if(w.current===M.pointerId){const F=Date.now()-S.current,U=E.current;N.current===Ir.SWIPE?Math.abs(U)>.3*a||Math.abs(U)>5&&F<s?c(U,F):u(U):N.current===Ir.PULL&&(x(U,2*rf)?g(U,F):v(U)),E.current=0,N.current=Ir.NONE}else{const{target:F}=M;t&&F instanceof HTMLElement&&F===R.target&&(F.classList.contains(Bt(Am))||F.classList.contains(Bt(kU)))&&_()}T(M)}),P=_n(M=>{const R=I(M);if(R){const F=w.current===M.pointerId;if(M.buttons===0){F&&E.current!==0?D(M):T(R);return}const U=M.clientX-R.clientX,$=M.clientY-R.clientY;if(w.current===void 0){const H=K=>{k(M),w.current=M.pointerId,S.current=Date.now(),N.current=K};Math.abs(U)>Math.abs($)&&Math.abs(U)>rf&&r(U)?e||(H(Ir.SWIPE),i()):Math.abs($)>Math.abs(U)&&x($,rf)&&(H(Ir.PULL),m())}else F&&(N.current===Ir.SWIPE?(E.current=U,l(U)):N.current===Ir.PULL&&(E.current=$,h($)))}});c9(n,A,P,D)}function d9({preventDefaultWheelX:e,preventDefaultWheelY:t}){const n=y.useRef(null),r=_n(a=>{const s=Math.abs(a.deltaX)>Math.abs(a.deltaY);(s&&e||!s&&t||a.ctrlKey)&&a.preventDefault()});return y.useCallback(a=>{var s;a?a.addEventListener("wheel",r,{passive:!1}):(s=n.current)===null||s===void 0||s.removeEventListener("wheel",r),n.current=a},[r])}function f9(e,t,n,r,a,s,i,l,c){const u=y.useRef(0),d=y.useRef(0),f=y.useRef(void 0),m=y.useRef(void 0),h=y.useRef(0),g=y.useRef(void 0),v=y.useRef(0),{setTimeout:_,clearTimeout:E}=Qu(),C=y.useCallback(()=>{f.current&&(E(f.current),f.current=void 0)},[E]),w=y.useCallback(()=>{m.current&&(E(m.current),m.current=void 0)},[E]),S=_n(()=>{e!==In.SWIPE&&(u.current=0,v.current=0,C(),w())});y.useEffect(S,[e,S]);const N=_n(k=>{m.current=void 0,u.current===k&&c(u.current)}),T=_n(k=>{if(k.ctrlKey||Math.abs(k.deltaY)>Math.abs(k.deltaX))return;const I=A=>{h.current=A,E(g.current),g.current=A>0?_(()=>{h.current=0,g.current=void 0},300):void 0};if(e===In.NONE){if(Math.abs(k.deltaX)<=1.2*Math.abs(h.current)){I(k.deltaX);return}if(!n(-k.deltaX))return;if(d.current+=k.deltaX,C(),Math.abs(d.current)>30)d.current=0,I(0),v.current=Date.now(),s();else{const A=d.current;f.current=_(()=>{f.current=void 0,A===d.current&&(d.current=0)},a)}}else if(e===In.SWIPE){let A=u.current-k.deltaX;if(A=Math.min(Math.abs(A),r)*Math.sign(A),u.current=A,i(A),w(),Math.abs(A)>.2*r){I(k.deltaX),l(A,Date.now()-v.current);return}m.current=_(()=>N(A),2*a)}else I(k.deltaX)});y.useEffect(()=>t(L_,T),[t,T])}const by=Pm("container"),ew=y.createContext(null),ml=ds("useController","ControllerContext",ew);function h9({children:e,...t}){var n;const{carousel:r,animation:a,controller:s,on:i,styles:l,render:c}=t,{closeOnPullUp:u,closeOnPullDown:d,preventDefaultWheelX:f,preventDefaultWheelY:m}=s,[h,g]=y.useState(),v=Ku(),_=jU(),[E,C]=y.useState(In.NONE),w=y.useRef(0),S=y.useRef(0),N=y.useRef(1),{registerSensors:T,subscribeSensors:k}=i9(),{subscribe:I,publish:A}=ju(),x=yc(),D=yc(),P=yc(),{containerRef:M,setContainerRef:R,containerRect:F}=Z_(),U=fh(d9({preventDefaultWheelX:f,preventDefaultWheelY:m}),R),$=y.useRef(null),H=fh($,void 0),{getOwnerDocument:K}=Im(),L=Lm(),le=de=>(L?-1:1)*(typeof de=="number"?de:1),q=_n(()=>{var de;return(de=M.current)===null||de===void 0?void 0:de.focus()}),O=_n(()=>t),ee=_n(()=>v),Q=y.useCallback(de=>A(Es,de),[A]),oe=y.useCallback(de=>A(_s,de),[A]),V=y.useCallback(()=>A(Mi),[A]),Ae=de=>!(r.finite&&(le(de)>0&&v.currentIndex===0||le(de)<0&&v.currentIndex===v.slides.length-1)),ne=de=>{var We;w.current=de,(We=M.current)===null||We===void 0||We.style.setProperty(Qn("swipe_offset"),"".concat(Math.round(de),"px"))},Ce=de=>{var We,fe;S.current=de,N.current=(()=>{const re=(()=>d&&de>0?de:u&&de<0?-de:0)();return Math.min(Math.max(RU(1-re/60*(1-.5),2),.5),1)})(),(We=M.current)===null||We===void 0||We.style.setProperty(Qn("pull_offset"),"".concat(Math.round(de),"px")),(fe=M.current)===null||fe===void 0||fe.style.setProperty(Qn("pull_opacity"),"".concat(N.current))},{prepareAnimation:rt}=gy($,(de,We,fe)=>{if($.current&&F)return{keyframes:[{transform:"translate(0, ".concat(de.rect.y-We.y+fe.y,"px)"),opacity:de.opacity},{transform:"translate(0, 0)",opacity:1}],duration:de.duration,easing:a.easing.fade}}),ot=(de,We)=>{if(u||d){Ce(de);let fe=0;$.current&&(fe=a.fade*(We?2:1),rt({rect:$.current.getBoundingClientRect(),opacity:N.current,duration:fe})),P(()=>{Ce(0),C(In.NONE)},fe),C(In.ANIMATION),We||V()}},{prepareAnimation:Et,isAnimationPlaying:j}=gy($,(de,We,fe)=>{var Ve;if($.current&&F&&(!((Ve=v.animation)===null||Ve===void 0)&&Ve.duration)){const Qe=Qc(r.spacing),re=(Qe.percent?Qe.percent*F.width/100:Qe.pixel)||0;return{keyframes:[{transform:"translate(".concat(le(v.globalIndex-de.index)*(F.width+re)+de.rect.x-We.x+fe.x,"px, 0)")},{transform:"translate(0, 0)"}],duration:v.animation.duration,easing:v.animation.easing}}}),pt=_n(de=>{var We,fe;const Ve=de.offset||0,Qe=Ve?a.swipe:(We=a.navigation)!==null&&We!==void 0?We:a.swipe,re=!Ve&&!j()?a.easing.navigation:a.easing.swipe;let{direction:Y}=de;const Se=(fe=de.count)!==null&&fe!==void 0?fe:1;let je=In.ANIMATION,pe=Qe*Se;if(!Y){const Ke=F==null?void 0:F.width,ut=de.duration||0,$e=Ke?Qe/Ke*Math.abs(Ve):Qe;Se!==0?(ut<$e?pe=pe/$e*Math.max(ut,$e/5):Ke&&(pe=Qe/Ke*(Ke-Math.abs(Ve))),Y=le(Ve)>0?Es:_s):pe=Qe/2}let lt=0;Y===Es?Ae(le(1))?lt=-Se:(je=In.NONE,pe=Qe):Y===_s&&(Ae(le(-1))?lt=Se:(je=In.NONE,pe=Qe)),pe=Math.round(pe),D(()=>{ne(0),C(In.NONE)},pe),$.current&&Et({rect:$.current.getBoundingClientRect(),index:v.globalIndex}),C(je),A(my,{type:"swipe",increment:lt,duration:pe,easing:re})});y.useEffect(()=>{var de,We;!((de=v.animation)===null||de===void 0)&&de.increment&&(!((We=v.animation)===null||We===void 0)&&We.duration)&&x(()=>_({type:"swipe",increment:0}),v.animation.duration)},[v.animation,_,x]);const be=[k,Ae,(F==null?void 0:F.width)||0,a.swipe,()=>C(In.SWIPE),de=>ne(de),(de,We)=>pt({offset:de,duration:We,count:1}),de=>pt({offset:de,count:0})],ue=[()=>{d&&C(In.PULL)},de=>Ce(de),de=>ot(de),de=>ot(de,!0)];u9(s,...be,u,d,...ue,V),f9(E,...be);const Ne=_n(()=>{s.focus&&K().querySelector(".".concat(Bt(xm)," .").concat(Bt(by())))&&q()});y.useEffect(Ne,[Ne]);const De=_n(()=>{var de;(de=i.view)===null||de===void 0||de.call(i,{index:v.currentIndex})});y.useEffect(De,[v.globalIndex,De]),y.useEffect(()=>F_(I(Es,de=>pt({direction:Es,...de})),I(_s,de=>pt({direction:_s,...de})),I(my,de=>_(de))),[I,pt,_]);const Te=y.useMemo(()=>({prev:Q,next:oe,close:V,focus:q,slideRect:F?FU(F,r.padding):{width:0,height:0},containerRect:F||{width:0,height:0},subscribeSensors:k,containerRef:M,setCarouselRef:H,toolbarWidth:h,setToolbarWidth:g}),[Q,oe,V,q,k,F,M,H,h,g,r.padding]);return y.useImperativeHandle(s.ref,()=>({prev:Q,next:oe,close:V,focus:q,getLightboxProps:O,getLightboxState:ee}),[Q,oe,V,q,O,ee]),y.createElement("div",{ref:U,className:Ba(Bt(by()),Bt(N_)),style:{...E===In.SWIPE?{[Qn("swipe_offset")]:"".concat(Math.round(w.current),"px")}:null,...E===In.PULL?{[Qn("pull_offset")]:"".concat(Math.round(S.current),"px"),[Qn("pull_opacity")]:"".concat(N.current)}:null,...s.touchAction!=="none"?{[Qn("controller_touch_action")]:s.touchAction}:null,...l.container},tabIndex:-1,...T},F&&y.createElement(ew.Provider,{value:Te},e,(n=c.controls)===null||n===void 0?void 0:n.call(c)))}const m9=Ks(T_,h9);function ps(e){return ul(C_,e)}function Ey(e){return ul(Am,e)}function p9({slide:e,offset:t}){const n=y.useRef(null),{currentIndex:r,slides:a}=Ku(),{slideRect:s,focus:i}=ml(),{render:l,carousel:{imageFit:c,imageProps:u},on:{click:d},styles:{slide:f},labels:m}=dl(),{getOwnerDocument:h}=Im(),g=t!==0;y.useEffect(()=>{var _;g&&(!((_=n.current)===null||_===void 0)&&_.contains(h().activeElement))&&i()},[g,i,h]);const v=()=>{var _,E,C,w;let S=(_=l.slide)===null||_===void 0?void 0:_.call(l,{slide:e,offset:t,rect:s});return!S&&U_(e)&&(S=y.createElement(o9,{slide:e,offset:t,render:l,rect:s,imageFit:c,imageProps:u,onClick:g?void 0:()=>d==null?void 0:d({index:r})})),S?y.createElement(y.Fragment,null,(E=l.slideHeader)===null||E===void 0?void 0:E.call(l,{slide:e}),((C=l.slideContainer)!==null&&C!==void 0?C:({children:N})=>N)({slide:e,children:S}),(w=l.slideFooter)===null||w===void 0?void 0:w.call(l,{slide:e})):null};return y.createElement("div",{ref:n,className:Ba(Bt(Ey()),!g&&Bt(Ey("current")),Bt(N_)),...GU(g),style:f,role:"group","aria-roledescription":Fi(m,"Slide"),"aria-label":LU(m,a,r+t)},v())}function g9(){const e=dl().styles.slide;return y.createElement("div",{className:Bt(Am),style:e})}function y9({carousel:e,labels:t}){const{slides:n,currentIndex:r,globalIndex:a}=Ku(),{setCarouselRef:s}=ml(),{autoPlaying:i,focusWithin:l}=Y_(),c=Qc(e.spacing),u=Qc(e.padding),d=UU(e,n,1),f=[];if(H_(n))for(let m=r-d;m<=r+d;m+=1){const h=G_(n,m),g=a-r+m,v=e.finite&&(m<0||m>n.length-1);f.push(v?{key:g}:{key:["".concat(g),BU(h)].filter(Boolean).join("|"),offset:m-r,slide:h})}return y.createElement("div",{ref:s,className:Ba(Bt(ps()),f.length>0&&Bt(ps("with_slides"))),style:{["".concat(Qn(ps("slides_count")))]:f.length,["".concat(Qn(ps("spacing_px")))]:c.pixel||0,["".concat(Qn(ps("spacing_percent")))]:c.percent||0,["".concat(Qn(ps("padding_px")))]:u.pixel||0,["".concat(Qn(ps("padding_percent")))]:u.percent||0},role:"region","aria-live":i&&!l?"off":"polite","aria-roledescription":Fi(t,"Carousel"),"aria-label":Fi(t,"Photo gallery")},f.map(({key:m,slide:h,offset:g})=>h?y.createElement(p9,{key:m,slide:h,offset:g}):y.createElement(g9,{key:m})))}const v9=Ks(C_,y9);function tw(){const{carousel:e}=dl(),{slides:t,currentIndex:n}=Ku(),r=t.length===0||e.finite&&n===0,a=t.length===0||e.finite&&n===t.length-1;return{prevDisabled:r,nextDisabled:a}}function b9(e){var t;const n=Lm(),{publish:r}=ju(),{animation:a}=dl(),{prevDisabled:s,nextDisabled:i}=tw(),l=((t=a.navigation)!==null&&t!==void 0?t:a.swipe)/2,c=vy(()=>r(Es),l),u=vy(()=>r(_s),l),d=_n(f=>{switch(f.key){case xU:r(Mi);break;case AU:(n?i:s)||(n?u:c)();break;case PU:(n?s:i)||(n?c:u)();break}});y.useEffect(()=>e(I_,d),[e,d])}function _y({label:e,icon:t,renderIcon:n,action:r,onClick:a,disabled:s,style:i}){return y.createElement(X_,{label:e,icon:t,renderIcon:n,className:Bt("navigation_".concat(r)),disabled:s,onClick:a,style:i,...s9(ml().focus,s)})}function E9({render:{buttonPrev:e,buttonNext:t,iconPrev:n,iconNext:r},styles:a}){const{prev:s,next:i,subscribeSensors:l}=ml(),{prevDisabled:c,nextDisabled:u}=tw();return b9(l),y.createElement(y.Fragment,null,e?e():y.createElement(_y,{label:"Previous",action:Es,icon:e9,renderIcon:n,style:a.navigationPrev,disabled:c,onClick:s}),t?t():y.createElement(_y,{label:"Next",action:_s,icon:t9,renderIcon:r,style:a.navigationNext,disabled:u,onClick:i}))}const _9=Ks(_U,E9),wy=Bt(NU),w9=Bt(k_);function C9(e){return"style"in e}function Cy(e,t,n){const r=window.getComputedStyle(e),a=n?"padding-left":"padding-right",s=n?r.paddingLeft:r.paddingRight,i=e.style.getPropertyValue(a);return e.style.setProperty(a,"".concat((qu(s)||0)+t,"px")),()=>{i?e.style.setProperty(a,i):e.style.removeProperty(a)}}function T9({noScroll:{disabled:e},children:t}){const n=Lm(),{getOwnerDocument:r,getOwnerWindow:a}=Im();return y.useEffect(()=>{if(e)return()=>{};const s=[],i=a(),{body:l,documentElement:c}=r(),u=Math.round(i.innerWidth-c.clientWidth);if(u>0){s.push(Cy(l,u,n));const d=l.getElementsByTagName("*");for(let f=0;f<d.length;f+=1){const m=d[f];C9(m)&&i.getComputedStyle(m).getPropertyValue("position")==="fixed"&&!m.classList.contains(w9)&&s.push(Cy(m,u,n))}}return l.classList.add(wy),()=>{l.classList.remove(wy),s.forEach(d=>d())}},[n,e,r,a]),y.createElement(y.Fragment,null,t)}const S9=Ks(wU,T9);function Ty(e){return ul(xm,e)}function Sy(e,t,n){const r=e.getAttribute(t);return e.setAttribute(t,n),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function N9({children:e,animation:t,styles:n,className:r,on:a,portal:s,close:i,labels:l}){const[c,u]=y.useState(!1),[d,f]=y.useState(!1),m=y.useRef([]),h=y.useRef(null),{setTimeout:g}=Qu(),{subscribe:v}=ju(),E=J_()?0:t.fade;y.useEffect(()=>(u(!0),()=>{u(!1),f(!1)}),[]);const C=_n(()=>{m.current.forEach(T=>T()),m.current=[]}),w=_n(()=>{var T;f(!1),C(),(T=a.exiting)===null||T===void 0||T.call(a),g(()=>{var k;(k=a.exited)===null||k===void 0||k.call(a),i()},E)});y.useEffect(()=>v(Mi,w),[v,w]);const S=_n(T=>{var k,I,A;$U(T),f(!0),(k=a.entering)===null||k===void 0||k.call(a);const x=(A=(I=T.parentNode)===null||I===void 0?void 0:I.children)!==null&&A!==void 0?A:[];for(let D=0;D<x.length;D+=1){const P=x[D];["TEMPLATE","SCRIPT","STYLE"].indexOf(P.tagName)===-1&&P!==T&&(m.current.push(Sy(P,"inert","")),m.current.push(Sy(P,"aria-hidden","true")))}m.current.push(()=>{var D,P;(P=(D=h.current)===null||D===void 0?void 0:D.focus)===null||P===void 0||P.call(D)}),g(()=>{var D;(D=a.entered)===null||D===void 0||D.call(a)},E)}),N=y.useCallback(T=>{T?S(T):C()},[S,C]);return c?rs.createPortal(y.createElement(l9,{ref:N,className:Ba(r,Bt(Ty()),Bt(k_),d&&Bt(Ty("open"))),"aria-modal":!0,role:"dialog","aria-label":Fi(l,"Lightbox"),style:{...t.fade!==dh.animation.fade?{[Qn("fade_animation_duration")]:"".concat(E,"ms")}:null,...t.easing.fade!==dh.animation.easing.fade?{[Qn("fade_animation_timing_function")]:t.easing.fade}:null,...n.root},onFocus:T=>{h.current||(h.current=T.relatedTarget)}},e),s.root||document.body):null}const k9=Ks(xm,N9);function D9({children:e}){return y.createElement(y.Fragment,null,e)}const x9=Ks(CU,D9);function A9(e){return ul(S_,e)}function P9({toolbar:{buttons:e},render:{buttonClose:t,iconClose:n},styles:r}){const{close:a,setToolbarWidth:s}=ml(),{setContainerRef:i,containerRect:l}=Z_();hl(()=>{s(l==null?void 0:l.width)},[s,l==null?void 0:l.width]);const c=()=>t?t():y.createElement(X_,{key:Mi,label:"Close",icon:ZU,renderIcon:n,onClick:a});return y.createElement("div",{ref:i,style:r.toolbar,className:Bt(A9())},e==null?void 0:e.map(u=>u===Mi?c():u))}const O9=Ks(S_,P9);function nw(e,t){var n;return y.createElement(e.module.component,{key:e.module.name,...t},(n=e.children)===null||n===void 0?void 0:n.map(r=>nw(r,t)))}function I9(e,t={}){const{easing:n,...r}=e,{easing:a,...s}=t;return{easing:{...n,...a},...r,...s}}function rw({carousel:e,animation:t,render:n,toolbar:r,controller:a,noScroll:s,on:i,plugins:l,slides:c,index:u,...d}){const{animation:f,carousel:m,render:h,toolbar:g,controller:v,noScroll:_,on:E,slides:C,index:w,plugins:S,...N}=dh,{config:T,augmentation:k}=WU([Sn(k9,[Sn(S9,[Sn(m9,[Sn(v9),Sn(O9),Sn(_9)])])])],l||S),I=k({animation:I9(f,t),carousel:{...m,...e},render:{...h,...n},toolbar:{...g,...r},controller:{...v,...a},noScroll:{..._,...s},on:{...E,...i},...N,...d});return I.open?y.createElement(qU,{...I},y.createElement(QU,{slides:c||C,index:qu(u||w)},y.createElement(XU,null,y.createElement(VU,null,y.createElement(YU,null,nw(Sn(x9,T),I)))))):null}const L9=async(e=1,t=10)=>{const n=await Ue("news",{get:{page:e,page_size:t},showSuccessNotification:!1});if(!n.success)throw new Error(n.errors||"Ошибка загрузки новостей");return n.data},R9=async e=>{const t=await Ue("news/".concat(e),{showSuccessNotification:!1});if(!t.success)throw new Error(t.errors||"Ошибка загрузки новости");return t.data},M9=async(e,t=1,n=10)=>{const r=await Ue("news",{get:{search:e,page:t,page_size:n},showSuccessNotification:!1});if(!r.success)throw new Error(r.errors||"Ошибка поиска новостей");return r.data},F9=async(e,t=1,n=50)=>{const r=await Ue("news/".concat(e,"/comments/"),{get:{page:t,page_size:n},showSuccessNotification:!1});if(!r.success)throw new Error(r.errors||"Ошибка загрузки комментариев");return r.data},B9=async(e,t)=>{const n=await tt("news/".concat(e,"/comments/create/"),{body:t,auth:!0,success:{type:"success",title:"Комментарий добавлен",message:"Ваш комментарий успешно опубликован"}});if(!n.success)throw new Error(n.errors||"Ошибка добавления комментария");return n.data},U9=async(e,t,n)=>{const r=await cr("news/".concat(e,"/comments/").concat(t,"/"),{body:{content:n},auth:!0,success:{type:"success",title:"Комментарий обновлен",message:"Изменения сохранены"}});if(!r.success)throw new Error(r.errors||"Ошибка обновления комментария");return r.data},H9=async(e,t)=>{const n=await Xn("news/".concat(e,"/comments/").concat(t,"/delete/"),{auth:!0,success:{type:"success",title:"Комментарий удален",message:"Комментарий успешно удален"}});if(!n.success)throw new Error(n.errors||"Ошибка удаления комментария")};class G9{constructor(){this.news=[],this.currentNews=null,this.totalNews=0,this.currentPage=1,this.hasMoreNews=!0,this.comments=[],this.totalComments=0,this.commentsPage=1,this.hasMoreComments=!0,this.loading=!1,this.commentsLoading=!1,this.searchQuery="",this.searchResults=[],this.searchLoading=!1,this.error=null,this.commentsError=null,this.setLoading=t=>{this.loading=t},this.setCommentsLoading=t=>{this.commentsLoading=t},this.setError=t=>{this.error=t},this.setCommentsError=t=>{this.commentsError=t},this.setSearchQuery=t=>{this.searchQuery=t},this.clearSearch=()=>{this.searchQuery="",this.searchResults=[]},this.loadNews=async(t=1,n=10)=>{this.setLoading(!0),this.setError(null);try{const r=await L9(t,n);Ze(()=>{t===1?this.news=r.results:this.news=[...this.news,...r.results],this.totalNews=r.count,this.currentPage=t,this.hasMoreNews=!!r.next})}catch(r){Ze(()=>{this.setError(r instanceof Error?r.message:"Ошибка загрузки новостей")})}finally{Ze(()=>{this.setLoading(!1)})}},this.loadMoreNews=async()=>{!this.hasMoreNews||this.loading||await this.loadNews(this.currentPage+1)},this.loadNewsDetail=async t=>{this.setLoading(!0),this.setError(null);try{const n=await R9(t);Ze(()=>{this.currentNews=n})}catch(n){Ze(()=>{this.setError(n instanceof Error?n.message:"Ошибка загрузки новости")})}finally{Ze(()=>{this.setLoading(!1)})}},this.searchNewsAction=async(t,n=1)=>{this.searchLoading=!0,this.setError(null),this.setSearchQuery(t);try{const r=await M9(t,n);Ze(()=>{n===1?this.searchResults=r.results:this.searchResults=[...this.searchResults,...r.results]})}catch(r){Ze(()=>{this.setError(r instanceof Error?r.message:"Ошибка поиска")})}finally{Ze(()=>{this.searchLoading=!1})}},this.loadComments=async(t,n=1,r=50)=>{this.setCommentsLoading(!0),this.setCommentsError(null);try{const a=await F9(t,n,r);Ze(()=>{n===1?this.comments=a.results:this.comments=[...this.comments,...a.results],this.updateTotalComments(),this.commentsPage=n,this.hasMoreComments=!!a.next})}catch(a){Ze(()=>{this.setCommentsError(a instanceof Error?a.message:"Ошибка загрузки комментариев")})}finally{Ze(()=>{this.setCommentsLoading(!1)})}},this.loadMoreComments=async t=>{!this.hasMoreComments||this.commentsLoading||await this.loadComments(t,this.commentsPage+1)},this.addComment=async(t,n)=>{this.setCommentsError(null);try{const r=await B9(t,n);return Ze(()=>{n.parent?this.comments=this.addReplyToComment(this.comments,n.parent,r):this.comments.unshift(r),this.updateTotalComments(),this.currentNews&&this.currentNews.id===t&&(this.currentNews.commentsCount+=1)}),r}catch(r){throw Ze(()=>{this.setCommentsError(r instanceof Error?r.message:"Ошибка добавления комментария")}),r}},this.updateComment=async(t,n,r)=>{try{const a=await U9(t,n,r);return Ze(()=>{const s=this.comments.findIndex(i=>i.id===n);s!==-1?this.comments[s]=a:this.comments=this.comments.map(i=>{if(i.replies){const l=i.replies.findIndex(c=>c.id===n);if(l!==-1)return{...i,replies:i.replies.map((c,u)=>u===l?a:c)}}return i})}),a}catch(a){throw Ze(()=>{this.setCommentsError(a instanceof Error?a.message:"Ошибка обновления комментария")}),a}},this.deleteComment=async(t,n)=>{try{await H9(t,n),Ze(()=>{this.comments=this.removeCommentFromList(this.comments,n),this.updateTotalComments(),this.currentNews&&this.currentNews.id===t&&(this.currentNews.commentsCount-=1)})}catch(r){throw Ze(()=>{this.setCommentsError(r instanceof Error?r.message:"Ошибка удаления комментария")}),r}},this.reset=()=>{this.news=[],this.currentNews=null,this.totalNews=0,this.currentPage=1,this.hasMoreNews=!0,this.comments=[],this.totalComments=0,this.commentsPage=1,this.hasMoreComments=!0,this.loading=!1,this.commentsLoading=!1,this.searchQuery="",this.searchResults=[],this.searchLoading=!1,this.error=null,this.commentsError=null},this.addReplyToComment=(t,n,r)=>t.map(a=>a.id===n?{...a,replies:[...a.replies||[],r],repliesCount:a.repliesCount+1}:a.replies&&a.replies.length>0?{...a,replies:this.addReplyToComment(a.replies,n,r)}:a),this.removeCommentFromList=(t,n)=>t.filter(r=>r.id!==n).map(r=>r.replies&&r.replies.length>0?{...r,replies:this.removeCommentFromList(r.replies,n)}:r),this.countAllComments=t=>t.reduce((n,r)=>{let a=1;return r.replies&&r.replies.length>0&&(a+=this.countAllComments(r.replies)),n+a},0),this.updateTotalComments=()=>{this.totalComments=this.countAllComments(this.comments)},Wv(this,{news:xt,currentNews:xt,totalNews:xt,currentPage:xt,hasMoreNews:xt,comments:xt,totalComments:xt,commentsPage:xt,hasMoreComments:xt,loading:xt,commentsLoading:xt,searchQuery:xt,searchResults:xt,searchLoading:xt,error:xt,commentsError:xt,setLoading:un,setCommentsLoading:un,setError:un,setCommentsError:un,setSearchQuery:un,clearSearch:un,loadNews:un,loadMoreNews:un,loadNewsDetail:un,searchNewsAction:un,loadComments:un,loadMoreComments:un,addComment:un,updateComment:un,deleteComment:un,reset:un})}}const it=new G9,aw=ze(({newsId:e,parentId:t,onCancel:n,onSuccess:r})=>{const[a,s]=y.useState(""),[i,l]=y.useState(!1),[c,u]=J("comment-form"),d=async h=>{if(h.preventDefault(),!(!a.trim()||i)){l(!0);try{await it.addComment(e,{content:a.trim(),parent:t}),s(""),r==null||r(),t&&n&&n()}catch(g){console.error("Ошибка добавления комментария:",g)}finally{l(!1)}}},f=()=>{s(""),n==null||n()},m=h=>{h.ctrlKey&&h.key==="Enter"&&(h.preventDefault(),a.trim()&&!i&&d(h))};return p("form",{onSubmit:d,className:c(),children:[o("div",{className:u("field"),children:o("textarea",{value:a,onChange:h=>s(h.target.value),onKeyDown:m,placeholder:t?"Написать ответ...":"Написать комментарий...",rows:4,className:u("textarea"),disabled:i})}),p("div",{className:u("actions"),children:[o("button",{type:"submit",disabled:!a.trim()||i,className:u("submit-button"),children:i?"Отправка...":t?"Ответить":"Комментировать"}),n&&o("button",{type:"button",onClick:f,disabled:i,className:u("cancel-button"),children:"Отмена"})]}),o("div",{className:u("hint"),children:o("small",{children:"Ctrl+Enter для быстрой отправки"})})]})});const Rr=ze(({isOpen:e,onClose:t,title:n,themeBtn:r="blue-light",handleBtn:a,textBtn:s,textBtnCancel:i="Отмена",text:l,checkboxText:c,checkboxId:u="modal-checkbox"})=>{const[d,f]=J("modal-confirm"),m=y.useRef(null),h=y.useRef(null),[g,v]=y.useState(!1),_=S=>{S.key==="Escape"&&t()},E=S=>{if(S.key!=="Tab"||!m.current)return;const N=m.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(N.length===0)return;const T=N[0],k=N[N.length-1];S.shiftKey&&document.activeElement===T?(S.preventDefault(),k.focus()):!S.shiftKey&&document.activeElement===k&&(S.preventDefault(),T.focus())},C=async()=>{try{const S=c?a(g):a();S instanceof Promise&&await S,t()}catch(S){console.error("Ошибка при выполнении действия:",S)}};if(y.useEffect(()=>{e&&v(!1)},[e]),y.useEffect(()=>(e&&(document.addEventListener("keyup",_),document.addEventListener("keydown",E),document.body.style.overflow="hidden",setTimeout(()=>{if(m.current){const S=m.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');S.length>0?S[0].focus():h.current&&h.current.focus()}},50)),()=>{document.removeEventListener("keyup",_),document.removeEventListener("keydown",E),document.body.style.overflow=""}),[e]),!e)return null;const w=p("section",{className:d({isOpen:e}),children:[p("div",{className:f("window"),ref:m,children:[n&&o("div",{className:f("header"),children:o("h2",{className:f("title"),children:n})}),p("div",{className:f("content"),children:[o("p",{className:f("text"),children:l}),c&&o("div",{className:f("checkbox-wrapper"),children:o(wn,{id:u,text:c,checked:g,setChecked:v})}),p("div",{className:f("btns-wrapper"),children:[o(z,{theme:"gray",className:f("btn"),onClick:t,type:"button",children:i}),o(z,{theme:r,className:f("btn"),onClick:C,type:"button",children:s})]})]}),o(z,{theme:"blue-light",className:f("close"),onClick:t,refInner:h,children:o(ie,{icon:"cross"})})]}),o("button",{"aria-label":"Закрыть окно",type:"button",className:f("base"),onClick:t})]});return rs.createPortal(w,document.body)}),$9=e=>new Date(e).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),sw=ze(({comment:e,newsId:t,level:n=0,onReply:r,onEdit:a,onDelete:s})=>{var x,D,P;const[i,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(e.content),[m,h]=y.useState(!1),[g,v]=y.useState(!1),[_,E]=y.useState(!1),[C,w]=J("comment-item"),S=async()=>{if(!(!d.trim()||m)){h(!0);try{await(a==null?void 0:a(e.id,d.trim())),u(!1)}catch(M){console.error("Ошибка редактирования:",M)}finally{h(!1)}}},N=async()=>{try{await(s==null?void 0:s(e.id))}catch(M){console.error("Ошибка удаления:",M)}},T=M=>{M.ctrlKey&&M.key==="Enter"&&(M.preventDefault(),d.trim()&&!m&&S())},{canEdit:k}=e,{canDelete:I}=e,A=e.replies&&e.replies.length>0;return p("div",{className:C({level:n>0?"reply":void 0}),children:[p("div",{className:w("content"),children:[p("div",{className:w("header"),children:[p("div",{className:w("author"),children:[(x=e.author)==null?void 0:x.firstName," ",(D=e.author)==null?void 0:D.lastName]}),o("div",{className:w("date"),children:$9(e.createdAt)})]}),c?o("div",{className:w("edit-form"),children:p("div",{className:w("edit-form-wrapper"),children:[o("textarea",{value:d,onChange:M=>f(M.target.value),rows:3,disabled:m,className:w("edit-textarea"),placeholder:"Введите текст комментария...",onKeyDown:T}),p("div",{className:w("edit-actions"),children:[o("button",{onClick:S,disabled:m||!d.trim(),type:"button",className:w("edit-save-button"),children:m?"Сохранение...":"Сохранить"}),o("button",{onClick:()=>{u(!1),f(e.content)},disabled:m,type:"button",className:w("edit-cancel-button"),children:"Отмена"})]})]})}):o("div",{className:w("text"),children:e.content}),p("div",{className:w("actions"),children:[n<3&&o("button",{onClick:()=>l(!i),className:w("action-button"),type:"button",children:i?"Отмена":"Ответить"}),k&&!c&&o("button",{onClick:()=>u(!0),className:w("action-button"),type:"button",children:"Редактировать"}),I&&o("button",{onClick:N,className:w("action-button",{delete:!0}),type:"button",children:"Удалить"})]}),i&&o("div",{className:w("reply-form"),children:o(aw,{newsId:t,parentId:e.id,onCancel:()=>l(!1),onSuccess:()=>l(!1)})})]}),A&&o("div",{className:w("replies"),children:(P=e.replies)==null?void 0:P.map(M=>o(sw,{comment:M,newsId:t,level:n+1,onReply:r,onEdit:a,onDelete:s},M.id))}),o(Rr,{title:"Удалить комментарий?",isOpen:g,onClose:()=>v(!1),handleBtn:N,textBtn:"Удалить комментарий",text:"Вы уверены, что хотите удалить этот комментарий?",themeBtn:"red"}),o(Rr,{title:"Редактировать комментарий?",isOpen:_,onClose:()=>E(!1),handleBtn:S,textBtn:"Редактировать комментарий",text:"Вы уверены, что хотите изменить комментарий?",themeBtn:"blue"})]})});const W9=ze(({newsId:e})=>{const[t,n]=y.useState(!1),[r,a]=J("news-comments"),s=async()=>{n(!1)},i=async(u,d)=>{try{await it.addComment(e,{content:d,parent:u})}catch(f){throw console.error("Ошибка добавления ответа:",f),f}},l=async(u,d)=>{try{await it.updateComment(e,u,d)}catch(f){throw console.error("Ошибка редактирования комментария:",f),f}},c=async u=>{try{await it.deleteComment(e,u)}catch(d){throw console.error("Ошибка удаления комментария:",d),d}};return p("section",{className:r(),children:[p("div",{className:a("header"),children:[p("h2",{className:a("title"),children:["Комментарии (",it.totalComments,")"]}),o("button",{onClick:()=>n(!t),className:a("add-button"),type:"button",children:t?"Отмена":"Добавить комментарий"})]}),t&&o("div",{className:a("form-container"),children:o(aw,{newsId:e,onCancel:()=>n(!1),onSuccess:s})}),o("div",{className:a("list"),children:it.commentsLoading&&it.comments.length===0?o("div",{className:a("loading"),children:"Загрузка комментариев..."}):it.comments.length===0?o(jt,{title:"Комментариев пока нет. Будьте первым!",className:a("empty")}):p(nt,{children:[it.comments.map(u=>o(sw,{comment:u,newsId:e,onReply:i,onEdit:l,onDelete:c},u.id)),it.hasMoreComments&&o("div",{className:a("load-more"),children:o("button",{onClick:()=>it.loadMoreComments(e),disabled:it.commentsLoading,className:a("load-more-button"),type:"button",children:it.commentsLoading?"Загрузка...":"Загрузить еще"})})]})}),it.commentsError&&p("div",{className:a("error"),children:[p("p",{children:["Ошибка: ",it.commentsError]}),o("button",{onClick:()=>it.loadComments(e,1),className:a("retry-button"),type:"button",children:"Попробовать снова"})]})]})});const Y9=ze(()=>{var h,g;const{id:e}=Us(),[t,n]=J("news-detail-page"),[r,a]=y.useState(!1),[s,i]=y.useState(0);y.useEffect(()=>{if(yt.setPage("isNewsDetail"),yt.setHeader("white"),yt.setFull(!1),e){const v=Number(e);it.loadNewsDetail(v),it.loadComments(v)}return()=>{yt.setPage("isMainPage")}},[e]);const l=v=>new Date(v).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),c=v=>{i(v),a(!0)},u=(v,_)=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),i(_),a(!0))};if(it.loading&&!it.currentNews)return o("div",{className:t(),children:o("div",{className:n("container"),children:o("div",{className:n("loading"),children:"Загрузка новости..."})})});if(it.error&&!it.currentNews)return o("div",{className:t(),children:o("div",{className:n("container"),children:p("div",{className:n("error"),children:[p("p",{children:["Ошибка: ",it.error]}),o("button",{type:"button",onClick:()=>e&&it.loadNewsDetail(Number(e)),className:n("retry-button"),children:"Попробовать снова"})]})})});if(!it.currentNews&&!it.loading)return o("div",{className:t(),children:o("div",{className:n("container"),children:p("div",{className:n("not-found"),children:[o("h1",{children:"Новость не найдена"}),o("p",{children:"Запрашиваемая новость не существует или была удалена."}),o(Fe,{to:"/news",className:n("back-link"),children:"← Вернуться к новостям"})]})})});const d=it.currentNews,f=[];(d.image||d.featuredImage)&&f.push(d.image||d.featuredImage),d.images&&d.images.length>0&&f.push(...d.images);const m=f.map(v=>({src:v}));return o("div",{className:t(),children:p("div",{className:n("container"),children:[o("div",{className:n("navigation"),children:o(Fe,{to:"/news",className:n("back-link"),children:"← Назад к новостям"})}),p("article",{className:n("article"),children:[p("header",{className:n("header"),children:[o("h1",{className:n("title"),children:d.title}),p("div",{className:n("meta"),children:[p("span",{className:n("author"),children:[(h=d.author)==null?void 0:h.firstName," ",(g=d.author)==null?void 0:g.lastName]}),o("span",{className:n("date"),children:l(d.createdAt)}),o("span",{className:n("comments-count"),children:ct(d.commentsCount,["комментарий","комментария","комментариев"])})]})]}),(d.image||d.featuredImage)&&o("div",{className:n("image"),children:o("button",{type:"button",className:n("image-button"),onClick:()=>c(0),onKeyDown:v=>u(v,0),"aria-label":"Открыть изображение в полном размере",children:o("img",{src:d.image||d.featuredImage,alt:d.title})})}),d.images&&d.images.length>0&&o("div",{className:n("images-gallery"),children:d.images.map((v,_)=>{const E=d.image||d.featuredImage?_+1:_;return o("div",{className:n("gallery-item"),children:o("button",{type:"button",className:n("gallery-button"),onClick:()=>c(E),onKeyDown:C=>u(C,E),"aria-label":"Открыть изображение в полном размере",children:o("img",{src:v,alt:"".concat(d.title," - дополнительное изображение")})})},v)})}),o("div",{className:n("content"),children:d.content?o("div",{className:n("content-markdown"),children:o(x6,{remarkPlugins:[EU],rehypePlugins:[t8,d8],children:d.content})}):d.excerpt?o("div",{className:n("content-text"),children:d.excerpt}):o("div",{className:n("content-text"),children:"Контент недоступен"})}),d.updatedAt!==d.createdAt&&o("div",{className:n("updated"),children:p("small",{children:["Обновлено: ",l(d.updatedAt)]})})]}),e&&o(W9,{newsId:Number(e)}),o(rw,{open:r,close:()=>a(!1),slides:m,index:s,carousel:{finite:!0,padding:"16px"},controller:{closeOnBackdropClick:!0},animation:{fade:300},styles:{container:{backgroundColor:"rgba(0, 0, 0, .8)"}}})]})})});const Fo=e=>{const{className:t,tabs:n,active:r,base:a="",vertical:s}=e,[i,l]=J("tabs",t),c=y.useRef(null),[u,d]=y.useState(!0),[f,m]=y.useState(!1),h=y.useCallback(()=>{if(!c.current||s)return;const g=c.current,{scrollLeft:v}=g,{scrollWidth:_}=g,{clientWidth:E}=g;if(_<=E){d(!0),m(!0);return}const C=v<=1,w=v+E>=_-1;d(C),m(w)},[s]);return y.useEffect(()=>{const g=c.current;if(!g||s)return;const v=setTimeout(()=>{h()},0),_=new ResizeObserver(()=>{setTimeout(h,0)});return _.observe(g),g.addEventListener("scroll",h,{passive:!0}),()=>{clearTimeout(v),g.removeEventListener("scroll",h),_.disconnect()}},[n,s,h]),o("section",{className:i({vertical:s,"at-start":u,"at-end":f}),children:o("div",{ref:c,className:l("scroll-container"),children:o("div",{className:l("wrapper"),children:n.map(g=>p(Fe,{to:"".concat(a).concat(g.url),className:l("link",{active:r===g.page}),children:[g.icon&&o(ie,{icon:g.icon}),g.name,!!g.count&&o("span",{className:l("count"),children:g.count})]},g.name))})})})};const z9=[{url:"/news/friends",name:"Лента друзей",page:"friends"},{url:"/news/project",name:"Новости проекта",page:"project"}],V9=ze(()=>{const[e,t]=J("news-page"),{pathname:n}=Hi();y.useEffect(()=>(yt.setPage("isNews"),yt.setHeader("white"),yt.setFull(!1),()=>{yt.setPage("isMainPage")}),[]);const r=n.includes("/project")?"project":"friends";return o("div",{className:e(),children:p("div",{className:t("container"),children:[p("header",{className:t("header"),children:[o("h1",{children:"Новости"}),o("p",{children:"Лента друзей и обновления проекта"})]}),o("div",{className:t("tabs"),children:o(Fo,{tabs:z9,active:r})}),o("div",{className:t("outlet"),children:o(Qw,{})})]})})}),q9=()=>o(es,{to:"/news/friends",replace:!0}),j9={achievement:"award",level_up:"hard",streak:"regular",return_after_pause:"star-half",list_completed:"book-open",goal_taken_from_you:"create-dashboard",popular_goal_completed:"users",day_stats:"chart",weekly_leaders:"trophy"};const K9=({event:e,className:t})=>{const[n,r]=J("news-feed-card",t),[a,s]=y.useState(e.isLikedByCurrentUser),[i,l]=y.useState(e.likesCount),c=()=>{s(f=>!f),l(f=>a?f-1:f+1)},u=f=>new Date(f).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),d=j9[e.type]||"award";return p("article",{className:n(),children:[o("div",{className:r("image"),children:e.image?o("img",{src:e.image,alt:""}):o("span",{className:r("icon"),children:o(ie,{icon:d})})}),p("div",{className:r("content"),children:[o("p",{className:r("text"),children:e.text}),p("div",{className:r("meta"),children:[o("span",{className:r("date"),children:u(e.createdAt)}),p("button",{type:"button",className:r("like",{active:a}),onClick:c,"aria-label":a?"Убрать лайк":"Поддержать друга",children:[o("img",{src:"/svg/like-fire.svg",alt:"",className:r("like-icon")}),o("span",{className:r("like-count"),children:i})]})]})]})]})},Q9=[{id:"1",type:"achievement",text:'Иван получил достижение "Сплинтер: 25 целей"',createdAt:"2026-02-10T12:00:00Z",userId:101,user:{id:101,username:"ivan",firstName:"Иван",lastName:"Петров"},likesCount:5,isLikedByCurrentUser:!1,achievementId:1,achievementTitle:"Сплинтер: 25 целей"},{id:"2",type:"level_up",text:"Мария получила 5 уровень",createdAt:"2026-02-10T11:30:00Z",userId:102,user:{id:102,username:"maria",firstName:"Мария",lastName:"Сидорова"},likesCount:12,isLikedByCurrentUser:!0,level:5},{id:"3",type:"streak",text:"Иван выполняет цели 7 дней подряд",createdAt:"2026-02-10T10:15:00Z",userId:101,user:{id:101,username:"ivan",firstName:"Иван",lastName:"Петров"},likesCount:8,isLikedByCurrentUser:!1,streakDays:7},{id:"4",type:"return_after_pause",text:'Мария вернулась к списку "Книги 2026" после 30 дней паузы',createdAt:"2026-02-09T18:00:00Z",userId:102,user:{id:102,username:"maria",firstName:"Мария",lastName:"Сидорова"},likesCount:3,isLikedByCurrentUser:!1,listId:1,listTitle:"Книги 2026",daysPaused:30},{id:"5",type:"list_completed",text:'Иван завершил список "100 целей"',createdAt:"2026-02-09T14:20:00Z",userId:101,user:{id:101,username:"ivan",firstName:"Иван",lastName:"Петров"},likesCount:24,isLikedByCurrentUser:!0,listId:2,listTitle:"100 целей"},{id:"6",type:"goal_taken_from_you",text:'Мария добавила к себе цель "Прыгнуть с парашютом" из вашего списка',createdAt:"2026-02-09T09:00:00Z",userId:102,user:{id:102,username:"maria",firstName:"Мария",lastName:"Сидорова"},likesCount:2,isLikedByCurrentUser:!1,sourceUserId:1,sourceGoalId:42,goalTitle:"Прыгнуть с парашютом"},{id:"7",type:"popular_goal_completed",text:'Иван завершил цель "Пробежать марафон", которая есть у 3 ваших друзей',createdAt:"2026-02-08T20:00:00Z",userId:101,user:{id:101,username:"ivan",firstName:"Иван",lastName:"Петров"},likesCount:15,isLikedByCurrentUser:!1,goalId:10,goalTitle:"Пробежать марафон",friendsCount:3},{id:"8",type:"day_stats",text:'Вчера Иван выполнил 5 целей: "Прочитать главу", "30 минут бега", "Медитация", "Ведение дневника", "Изучить английский" и 1 список — "Ежедневные привычки"',createdAt:"2026-02-08T08:00:00Z",userId:101,user:{id:101,username:"ivan",firstName:"Иван",lastName:"Петров"},likesCount:7,isLikedByCurrentUser:!1,goalsCompleted:["Прочитать главу","30 минут бега","Медитация","Ведение дневника","Изучить английский"],listsCompleted:["Ежедневные привычки"]},{id:"9",type:"weekly_leaders",text:'Мария заняла 1 место в "Лидеры недели"',createdAt:"2026-02-08T00:00:00Z",userId:102,user:{id:102,username:"maria",firstName:"Мария",lastName:"Сидорова"},likesCount:18,isLikedByCurrentUser:!0,position:1}];const X9=()=>{const[e,t]=J("news-friends-feed"),[n,r]=y.useState([]),[a,s]=y.useState(!0);return y.useEffect(()=>{const i=setTimeout(()=>{r(Q9),s(!1)},300);return()=>clearTimeout(i)},[]),o(Tt,{isLoading:a,className:e({empty:!a&&n.length===0}),children:n.length===0?o(jt,{title:"В ленте пока пусто",description:"Добавляйте друзей и следите за их достижениями — здесь появятся их новости"}):o("div",{className:t("content"),children:o("div",{className:t("list"),children:n.map(i=>o(K9,{event:i,className:t("card")},i.id))})})})};const J9=ze(()=>{const[e,t]=y.useState(""),[n,r]=y.useState(!1),[a,s]=J("news-project");y.useEffect(()=>{it.news.length===0&&it.loadNews()},[]);const i=async d=>{if(d.preventDefault(),!(!e.trim()||n)){r(!0);try{await it.searchNewsAction(e.trim())}finally{r(!1)}}},l=()=>{t(""),it.clearSearch()},c=d=>new Date(d).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),u=it.searchQuery?it.searchResults:it.news;return o("div",{className:a(),children:p("div",{className:s("container"),children:[o("div",{className:s("search"),children:p("form",{onSubmit:i,className:s("search-form"),children:[o("input",{type:"text",value:e,onChange:d=>t(d.target.value),placeholder:"Поиск по новостям...",className:s("search-input"),disabled:n}),o("button",{type:"submit",disabled:!e.trim()||n,className:s("search-button"),children:n?"Поиск...":"Найти"}),it.searchQuery&&o("button",{type:"button",onClick:l,className:s("search-clear"),children:"Очистить"})]})}),it.searchQuery&&o("div",{className:s("search-results"),children:p("p",{children:["Результаты поиска по запросу: ",p("strong",{children:["“",it.searchQuery,"”"]})]})}),o("div",{className:s("content"),children:it.loading&&u.length===0?o("div",{className:s("loading"),children:"Загрузка новостей..."}):u.length===0?o("div",{className:s("empty"),children:it.searchQuery?"По вашему запросу ничего не найдено":"Новостей пока нет"}):p(nt,{children:[o("div",{className:s("news-list"),children:u.map(d=>{var f,m;return p("article",{className:s("news-card"),children:[(d.image||d.featuredImage)&&o("div",{className:s("news-card-image"),children:o(Fe,{to:"/news/".concat(d.id),children:o("img",{src:d.image||d.featuredImage,alt:d.title})})}),p("div",{className:s("news-card-content"),children:[o("h2",{className:s("news-card-title"),children:o(Fe,{to:"/news/".concat(d.id),children:d.title})}),d.excerpt&&o("p",{className:s("news-card-excerpt"),children:d.excerpt}),p("div",{className:s("news-card-meta"),children:[p("div",{className:s("news-card-author"),children:[(f=d.author)==null?void 0:f.firstName," ",(m=d.author)==null?void 0:m.lastName]}),p("div",{className:s("news-card-info"),children:[o("span",{className:s("news-card-date"),children:c(d.createdAt)}),o("span",{className:s("news-card-comments"),children:ct(d.commentsCount,["комментарий","комментария","комментариев"])})]})]})]})]},d.id)})}),!it.searchQuery&&it.hasMoreNews&&o("div",{className:s("load-more"),children:o("button",{onClick:()=>it.loadMoreNews(),disabled:it.loading,className:s("load-more-button"),type:"button",children:it.loading?"Загрузка...":"Загрузить еще"})})]})}),it.error&&p("div",{className:s("error"),children:[p("p",{children:["Ошибка: ",it.error]}),o("button",{onClick:()=>it.loadNews(1),className:s("retry-button"),type:"button",children:"Попробовать снова"})]})]})})}),iw=async()=>await Ue("goals/total-completed");const Z9=()=>{const[e,t]=J("about-container"),[n,r]=y.useState(0),{setWindow:a,setIsOpen:s}=cn,{isAuth:i}=Rt,l=()=>{s(!0),a("login")};y.useEffect(()=>{(async()=>{const f=await iw();f.success&&r(f.data.totalCompletedGoals)})()},[]);const c=[{icon:"rocket",title:"Ставьте цели",description:"Выбирайте из тысяч готовых целей или создавайте свои собственные. Организуйте их по категориям и отслеживайте прогресс."},{icon:"level",title:"Отслеживайте прогресс",description:"Ведите дневник достижений, отмечайте выполнение целей и смотрите на свой рост в реальном времени."},{icon:"star",title:"Вдохновляйтесь",description:"Смотрите, какие цели ставят другие пользователи, делитесь своими достижениями и находите единомышленников."},{icon:"map",title:"Путешествуйте",description:"Отмечайте места, где вы побывали, и создавайте карту своих приключений и открытий."},{icon:"apps",title:"Организуйте",description:"Создавайте папки целей, составляйте списки желаний и упорядочивайте свои мечты по темам."},{icon:"trophy",title:"Достигайте",description:"Получайте достижения за свои успехи, участвуйте в рейтингах и становитесь лидером по выполненным целям."}],u=[{value:"5+",label:"Категорий целей"},{value:"100+",label:"Готовых целей"},{value:"∞",label:"Возможностей"}];return p("main",{className:e(),children:[o("div",{className:t("hero"),children:p(fn.div,{className:t("hero-content"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p("h1",{className:t("hero-title"),children:["Добро пожаловать в ",o("span",{className:t("hero-title-accent"),children:"Delting"}),"!"]}),o("p",{className:t("hero-description"),children:"Мы создали платформу, которая поможет вам превратить мечты в реальность. Ставьте цели, отслеживайте прогресс и вдохновляйтесь успехами других людей."})]})}),p("div",{className:t("content"),children:[p("section",{className:t("section"),children:[o(ke,{tag:"h2",className:t("section-title"),children:"Что такое Delting?"}),p("div",{className:t("section-content"),children:[p("p",{children:[o("strong",{children:"Delting"})," — это современная платформа для постановки и достижения целей. Мы верим, что каждый человек способен на многое, если правильно организовать свой путь к мечтам."]}),o("p",{children:"Наша миссия — помочь вам структурировать свои желания, превратить их в конкретные цели и поддерживать мотивацию на протяжении всего пути. Мы создали удобные инструменты для отслеживания прогресса, организации целей и обмена опытом с единомышленниками."})]})]}),p("section",{className:t("section"),children:[o(ke,{tag:"h2",className:t("section-title"),children:"Что мы предлагаем"}),o("div",{className:t("features"),children:c.map((d,f)=>p(fn.div,{className:t("feature-card"),initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:f*.1},viewport:{once:!0},children:[o("div",{className:t("feature-icon"),children:o(ie,{icon:d.icon,width:"24px",height:"24px"})}),o("h3",{className:t("feature-title"),children:d.title}),o("p",{className:t("feature-description"),children:d.description})]},d.title))})]}),p("section",{className:t("section",{stats:!0}),children:[o(ke,{tag:"h2",className:t("section-title"),children:"Начни прямо сейчас"}),o("div",{className:t("stats"),children:u.map((d,f)=>p(fn.div,{className:t("stat-card"),initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:f*.1},viewport:{once:!0},children:[o("div",{className:t("stat-value"),children:d.value}),o("div",{className:t("stat-label"),children:d.label})]},d.label))})]}),p("section",{className:t("section"),children:[o(ke,{tag:"h2",className:t("section-title"),children:"Наша команда"}),p("div",{className:t("team-content"),children:[o("p",{children:"Мы — команда энтузиастов, которые сами используют Delting для достижения своих целей. Мы постоянно работаем над улучшением платформы, добавляя новые функции и делая её ещё удобнее для вас."}),p("p",{children:["Если у вас есть идеи или предложения, мы всегда рады их услышать! Свяжитесь с нами через раздел"," ",o(Fe,{to:"/contacts",className:t("link"),children:"Контакты"}),"."]})]})]}),p(fn.section,{className:t("section",{cta:!0}),initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0},children:[o("h2",{className:t("cta-title"),children:"Готовы начать?"}),o("p",{className:t("cta-description"),children:"Присоединяйтесь к сообществу пользователей, которые уже идут к своим целям вместе с Delting!"}),o(z,{className:t("cta-button"),type:i?"Link":"button",theme:"gradient",size:"medium",icon:"rocket",onClick:l,href:"/categories/all",children:"Идти вперед!"}),p("p",{className:t("cta-completed"),children:["🔥 Уже выполнено:"," ",o("span",{className:t("cta-completed-number"),children:ct(n,["цель","цели","целей"])})]})]})]})]})},eH=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(Z9,{})};const Rm=({title:e,children:t,className:n})=>{const[r,a]=J("legal-document",n),s=new Date().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return o("main",{className:r(),children:p("div",{className:a("content"),children:[p("div",{className:a("header"),children:[o(ke,{tag:"h1",className:a("title"),children:e}),p("p",{className:a("date"),children:["Дата последнего обновления: ",s]})]}),o("div",{className:a("document"),children:t})]})})},tH=()=>p(Rm,{title:"Пользовательское соглашение",children:[p("section",{children:[o("h2",{children:"Термины и определения"}),p("p",{children:[o("strong",{children:"Сайт"})," — совокупность информации, текстов, графических элементов, дизайна, изображений, фото и видеоматериалов, программного обеспечения и иных результатов интеллектуальной деятельности, содержащихся в информационной системе, обеспечивающей доступность такой информации в сети Интернет по сетевому адресу платформы Delting и все его поддомены."]}),p("p",{children:[o("strong",{children:"Платформа"})," — веб-платформа Delting (в целом или любые ее компоненты), позволяющая пользователям создавать и управлять списками целей, отслеживать прогресс их достижения, делиться достижениями с друзьями, отмечать посещенные места на карте и использовать прочий функционал, являющаяся представленной в объективной форме совокупностью данных и команд, в том числе исходного текста, базы данных, аудиовизуальных произведений, включённых Правообладателем в состав указанной платформы, а также любая документация по ее использованию."]}),p("p",{children:[o("strong",{children:"Пользователь"})," — лицо, изъявившее желание пользоваться Платформой и зарегистрировавшееся на Платформе."]}),p("p",{children:[o("strong",{children:"Личный кабинет"})," — особый закрытый раздел Платформы, который позволяет Пользователю получить доступ к данным о состоянии и статистической информации лицевого счета, управлению целями, списками, друзьями и т.д. авторизованным Пользователям."]})]}),p("section",{children:[o("h2",{children:"1. Общие положения"}),o("p",{children:"Внимание! Перед началом использования Платформы внимательно ознакомьтесь с условиями ее использования, изложенными ниже. Начало использования Платформы или совершение иных действий, расцениваемых как акцепт, будет означать, что Вы заключаете Договор и полностью соглашаетесь со всеми его условиями. Если Вы не согласны на какие-либо условия Договора, Вам рекомендуется не заключать Договор и не совершать действия, трактуемые как акцепт."}),o("p",{children:"Данный документ в соответствии со статьей 435 и частью 2 статьи 437 Гражданского кодекса РФ является публичной офертой владельца платформы Delting (далее — Правообладатель), и содержит предложение всем физическим лицам заключить договор на предоставление права пользования платформой на нижеуказанных условиях."}),o("p",{children:"Лицо, осуществившее акцепт настоящей публичной оферты, приобретает все права и обязанности Пользователя, предусмотренные настоящим договором."}),o("p",{children:"Акцептом настоящей публичной оферты является любое из следующих действий:"}),p("ul",{children:[o("li",{children:"регистрация в качестве пользователя, создание учетной записи в Платформе;"}),o("li",{children:"использование функционала Платформы после регистрации."})]})]}),p("section",{children:[o("h2",{children:"2. Предмет договора"}),o("p",{children:"Правообладатель предоставляет Пользователю право использования Платформы в рамках ее функциональных возможностей исключительно для самостоятельного использования Пользователем без права сублицензирования третьим лицам."}),o("p",{children:"Акцепт настоящего Договора Пользователем означает его полное согласие с условиями настоящего Договора, без исключений."}),o("p",{children:"Настоящим Договором Пользователю не предоставляются никакие права на использование товарных знаков и знаков обслуживания Правообладателя."}),o("p",{children:"Алгоритмы работы Платформы и ее исходные коды (в том числе их части) являются коммерческой тайной Правообладателя. Любое их использование или использование Платформы в нарушение условий настоящего Договора рассматривается как нарушение прав Правообладателя и является достаточным основанием для лишения Пользователя предоставленных по настоящему Договору прав."}),o("p",{children:"Правообладатель гарантирует, что на момент заключения настоящего Договора он является законным Правообладателем Платформы. На момент заключения настоящего Договора не существует никаких прав на Платформу, обремененных требованиями третьих лиц."})]}),p("section",{children:[o("h2",{children:"3. Порядок использования Платформы"}),o("p",{children:"Для использования функционала Платформы Пользователю необходимо зарегистрировать личный кабинет и авторизоваться в нем. Пользователь может создать только один аккаунт, к которому привязана одна электронная почта."}),o("p",{children:'Нажимая кнопку "Зарегистрироваться" Пользователь подтверждает и соглашается с тем, что он намеревается стать пользователем Платформы с использованием регистрируемой электронной почты, что Пользователь предоставляет достоверную информацию. Пользователь несет полную ответственность за достоверность и актуальность сведений, указанных им при регистрации Личного кабинета.'}),p("p",{children:["При подписке на рассылку Пользователь даёт согласие на получение информационных, рекламных и маркетинговых сообщений от Правообладателя (новости Платформы, акции, уведомления). Согласие на рассылку является добровольным и необязательным. Подробная информация об обработке персональных данных в связи с рассылкой изложена в"," ",o(Fe,{to:"/privacy",children:"Политике конфиденциальности"}),"."]}),o("p",{children:"Любые действия Пользователя, совершенные в Платформе, расцениваются как действия, совершенные самим Пользователем или его доверенным лицом с его согласия. Пользователь, регистрирующий Личный кабинет в Платформе путем выдачи поручения третьему лицу, несёт полную ответственность за наличие прав на информацию, результаты интеллектуальной деятельности третьих лиц, размещаемые в Платформе."}),o("p",{children:"Пользователь обязан незамедлительно уведомить Правообладателя о любом случае несанкционированного доступа к Личному кабинету с использованием логина и пароля Пользователя и/или о любом нарушении безопасности личного кабинета Пользователя в Платформе. До момента такого уведомления все действия, совершенные с использованием Личного кабинета, будут считаться совершенными Пользователем лично либо третьим лицом с его согласия."}),o("p",{children:"Правообладатель вправе по своему собственному усмотрению отказать любому Пользователю в доступе к Личному кабинету или к части его функционала, в случае нарушения условий настоящего Договора. Пользователь обязуется прекратить использование Платформы незамедлительно после получения соответствующего уведомления."})]}),p("section",{children:[o("h2",{children:"4. Права и обязанности Сторон"}),o("h3",{children:"4.1. Пользователь вправе:"}),p("ul",{children:[o("li",{children:"пользоваться функционалом Платформы в рамках предоставленных возможностей;"}),o("li",{children:"создавать и управлять списками целей;"}),o("li",{children:"отслеживать прогресс достижения целей;"}),o("li",{children:"делиться достижениями с другими пользователями;"}),o("li",{children:"использовать социальные функции Платформы (друзья, рейтинги);"}),o("li",{children:"отмечать посещенные места на карте;"}),o("li",{children:"перед окончанием использования Платформы выгрузить все данные, хранящиеся в личном кабинете в Платформе, во избежание их полной потери."})]}),o("h3",{children:"4.2. Пользователь обязан:"}),p("ul",{children:[o("li",{children:"использовать Платформу только в пределах тех прав и теми способами, которые предусмотрены в настоящем Договоре;"}),o("li",{children:"соблюдать исключительные права Правообладателя;"}),o("li",{children:"самостоятельно устанавливать пароль, отвечающий минимальным требованиям безопасности, а также нести ответственность за его конфиденциальность;"}),o("li",{children:"нести полную ответственность за весь контент, размещаемый на Платформе (в том числе тексты, описания, фотографии, изображения — аватары, обложки профиля, фото в комментариях и т.п.). Пользователь гарантирует, что размещаемый им контент не нарушает права третьих лиц и законодательство РФ;"}),o("li",{children:"не размещать контент, нарушающий законодательство или права третьих лиц;"}),o("li",{children:"не использовать Платформу для мошенничества или иных противоправных действий."})]}),o("h3",{children:"4.2.1. Запрещённый контент и последствия его размещения"}),o("p",{children:"К размещению на Платформе запрещён контент, который содержит или пропагандирует: насилие, порнографию и материалы сексуального характера, экстремизм, призывы к насилию или дискриминации, оскорбления, угрозы, информацию о способах совершения противоправных действий, а также иной контент, противоречащий законодательству РФ или условиям настоящего Договора."}),o("p",{children:"В случае размещения запрещённого контента Правообладатель вправе без предварительного уведомления удалить такой контент (в том числе фотографии, аватары, обложки, изображения в комментариях), приостановить или прекратить доступ Пользователя к Платформе, удалить Личный кабинет Пользователя без возможности восстановления. Повторное или грубое нарушение может повлечь постоянную блокировку аккаунта."}),o("h3",{children:"4.3. Пользователь не вправе:"}),p("ul",{children:[o("li",{children:"предоставлять сублицензии на какое-либо использование Платформы или её частей третьим лицам;"}),o("li",{children:"скачивать, изменять, распространять полностью или частично Платформу или использовать иным образом, прямо не указанным в настоящем Договоре;"}),o("li",{children:"самостоятельно или с привлечением других лиц пытаться обойти, отключить или убрать технические средства защиты, обеспечивающую безопасность Платформы и содержащихся в них материалов, контента Правообладателя или иных пользователей, а также организовывать атаки на Платформу в целях взлома, нарушения работоспособности или в иных неправомерных целях."})]}),o("h3",{children:"4.4. Правообладатель обязан:"}),p("ul",{children:[o("li",{children:"предоставлять право использования Платформы ежедневно и круглосуточно, за исключением времени проведения профилактических мероприятий, составляющих не более 24 часов в месяц;"}),o("li",{children:"предоставлять всем Пользователям информацию о порядке присоединения к настоящему Договору и его условиях, информацию по вопросам работы с Платформой, посредством электронной почты и информации, размещаемой на Сайте;"}),o("li",{children:"предоставлять информацию об обновлениях текущей версии Платформы, вышедших в течение срока действия настоящего Договора;"}),o("li",{children:"при наличии технической возможности устранять возможные программные сбои в работе Платформы, возникшие по вине Правообладателя, на основании претензии Пользователя, за исключением случаев, когда программные сбои возникли по вине Пользователя."})]}),o("h3",{children:"4.5. Правообладатель вправе:"}),p("ul",{children:[o("li",{children:"расторгнуть Договор и отказать в предоставлении Пользователю прав использования Платформы в случае нарушения условий настоящего Договора. В таком случае Правообладатель вправе удалить Личный кабинет Пользователя без возможности восстановления всех данных в нем;"}),o("li",{children:"обновлять версии Платформы, дополнять, менять и расширять функционал Платформы, устанавливать и изменять условия предоставления доступа Пользователю;"}),o("li",{children:"приостановить фактический доступ Пользователя к Платформе или части функционала Платформы в случае обнаружения нарушения условий настоящего Договора;"}),o("li",{children:"производить анализ деятельности Пользователя в рамках работы с Платформой с целью улучшения качества предоставления услуг и оптимизации функциональных возможностей Платформы. Полученные сведения будут являться конфиденциальными и не подлежащими передаче третьим лицам;"}),o("li",{children:"в любой момент в одностороннем порядке изменять текст настоящего Договора посредством публикации его новой редакции на Сайте. Пользователь самостоятельно отслеживает такие изменения. В случае несогласия с новой редакцией настоящей оферты Пользователь обязуется воздержаться от использования Платформы."})]})]}),p("section",{children:[o("h2",{children:"5. Порядок использования Платформы"}),o("p",{children:'Платформа предоставляется Пользователю "AS IS" - "как есть". Это означает, что за проблемы, возникающие в процессе эксплуатации Платформы (в том числе: проблемы несоответствия программного и аппаратного обеспечения требуемому для работы Платформы, проблемы совместимости с другими программными продуктами, проблемы, возникающие из-за неоднозначного толкования сопроводительной документации, несоответствия результатов использования программного обеспечения ожиданиям Пользователя, недоступность или технические неполадки в работе Платформы или части его функциональных возможностей и т.п.), Правообладатель ответственности не несет. Пользователь, использующий программное обеспечение и/или Сайт на законных основаниях, несет полную ответственность за недостижение целей, преследуемых Пользователем при использовании Платформы. Правообладатель, в свою очередь, приложит все усилия для устранения возникающих ошибок в работе Платформы. Недоступность части функционала Сайта не влечет обязанности Правообладателя произвести перерасчет стоимости вознаграждения.'})]}),p("section",{children:[o("h2",{children:"6. Ответственность сторон"}),o("p",{children:"За неисполнение или ненадлежащее исполнение обязательств по настоящему Договору Стороны несут ответственность в соответствии с законодательством РФ."}),o("p",{children:"Пользователь соглашается с тем, что никакое программное обеспечение не свободно от ошибок. Пользователь вправе сообщить о возникновении ошибок Правообладателю, Правообладатель, в свою очередь, приложит все усилия по устранению ошибок в работе Платформы."}),o("p",{children:"Правообладатель не несет ответственности за любые действия Пользователя, связанные с использованием предоставленного доступа; за ущерб любого рода, понесенный Пользователем из-за утери и/или разглашения своих данных; за качество сервисов (в частности сервисов передачи данных) необходимых для работы с Платформой, если их организуют третьи лица, не привлекаемые Правообладателем."}),o("p",{children:"Пользователь соглашается с тем, что для работы с Платформой Пользователю необходимо использовать программное обеспечение (веб-браузеры, операционные системы и прочее) и оборудование (персональные компьютеры, сетевое оборудование и прочее) произведенное и предоставленное третьими лицами, и Правообладатель не может нести ответственность за качество их работы."}),o("p",{children:"Правообладатель не несет ответственности за размещение Пользователем любой информации в процессе использования Платформы, не влияет на ее содержание и действительность, а также в момент размещения указанной информации не несет ответственности за нарушение Пользователем охраняемых законом прав и интересов третьих лиц, международных договоров и законодательства Российской Федерации."}),o("p",{children:"Правообладатель не несет ответственности перед Пользователем за любой ущерб, любую потерю доходов, прибыли, информации, связанную с использованием или с невозможностью использования Платформы, в том числе в случае предварительного уведомления со стороны Пользователя о возможности такого ущерба, или по любому иску третьей стороны."})]}),p("section",{children:[o("h2",{children:"7. Срок действия и порядок расторжения договора"}),o("p",{children:"Срок действия доступа к полному функционалу Платформы составляет неограниченный период времени с момента регистрации Пользователя, если иное не предусмотрено настоящим Договором."}),o("p",{children:"Настоящий Договор может быть досрочно прекращен по основаниям, изложенным в его тексте, по соглашению Сторон, а также в одностороннем порядке с предварительным уведомлением об отказе за 10 (Десять) рабочих дней до даты прекращения. Уведомление об одностороннем отказе от договора направляется в письменной форме."}),o("p",{children:"В случае досрочного прекращения действия настоящего Договора по любым причинам Правообладатель вправе удалить Личный кабинет Пользователя без возможности восстановления всех данных в нем."})]}),p("section",{children:[o("h2",{children:"8. Порядок разрешения споров"}),o("p",{children:"Все споры и разногласия Стороны будут пытаться решить путем переговоров. В случае если разногласия и споры не могут быть решены путем переговоров, их рассмотрение передается в суд в соответствии с действующим законодательством Российской Федерации."}),p("p",{children:["Пользователь направляет свою претензию на адрес электронной почты"," ",o(Fe,{to:"mailto:delting-help@yandex.com",children:"delting-help@yandex.com"}),", с приложением подтверждающих документов или данных. Срок рассмотрения претензии - не более 10 рабочих дней с даты ее поступления."]})]}),p("section",{children:[o("h2",{children:"9. Обстоятельства непреодолимой силы"}),o("p",{children:"В случае возникновения обстоятельств непреодолимой силы, к которым относятся стихийные бедствия, аварии, пожары, массовые беспорядки, забастовки, военные действия, противоправные действия третьих лиц, вступление в силу законодательных актов, правительственных постановлений и распоряжений государственных органов, прямо или косвенно запрещающих указанные в настоящем Договор виды деятельности, препятствующие осуществлению сторонами своих функции по настоящему Договору и иных обстоятельств, не зависящих от волеизъявления Сторон они освобождаются от ответственности за неисполнение взятых на себя обязательств, если в течение 10 (десяти) дней с момента наступления таких обстоятельств и при наличии их связи с невозможностью исполнения Договора Сторона, пострадавшая от их влияния, доведет до сведения другой Стороны известие о случившемся, а также предпримет все усилия для скорейшей ликвидации последствий обстоятельств непреодолимой силы."})]}),p("section",{children:[o("h2",{children:"10. Контактная информация"}),p("p",{children:["По вопросам, связанным с настоящим Соглашением, обращайтесь:",o("br",{}),"Email: ",o(Fe,{to:"mailto:delting-help@yandex.com",children:"delting-help@yandex.com"})]})]})]}),nH=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(tH,{})};const Mm=e=>{const{className:t,img:n,children:r,category:a,show:s=!0,blacked:i,withoutBlack:l,withBlack:c}=e,[u,d]=J("gradient",t);return p("div",{className:u(),children:[o("img",{src:n.src,alt:n.alt,className:d("img",{blacked:i})}),o("div",{className:d("color",{category:a,show:s,blacked:i,withoutBlack:l,withBlack:c})}),o("div",{className:d("top-info"),children:r})]})};const rH=e=>{const{className:t,category:n,variant:r="default"}=e,[a,s]=J("card-category",t);return r==="minimal"?p(Fe,{to:"/categories/".concat(n.nameEn),className:a({variant:"minimal"}),children:[n!=null&&n.icon?o("img",{src:n.icon,alt:n.name,className:s("icon-img")}):o(ie,{icon:(n==null?void 0:n.icon)||"apps",className:s("icon-svg")}),p("div",{className:s("content"),children:[o(ke,{className:s("title"),tag:"h3",children:n.name}),o("p",{className:s("goals"),children:ct(n.goalCount,["цель","цели","целей"])})]})]}):o("section",{className:a(),children:o(Fe,{to:"/categories/".concat(n.nameEn),className:s("gradient"),children:o(Mm,{img:{src:n.image,alt:n.name},category:n.nameEn,withoutBlack:!0,children:p("div",{className:s("description"),children:[o(ke,{className:s("title"),theme:"white",tag:"h2",children:n.name}),o("p",{className:s("goals"),children:ct(n.goalCount,["цель","цели","целей"])})]})})})})};const ow=({categories:e,tag:t,title:n,variant:r="default"})=>{const[a,s]=J("categories");return p("main",{className:a(),children:[o(ke,{className:s("title",{tag:t}),tag:t,children:n}),o("section",{className:s("list",{variant:r}),children:!!e.length&&e.map(i=>o(rH,{category:i,className:s("item"),variant:r},i.id))})]})},lw=({tag:e="h1",title:t="Категории"})=>{const[n,r]=y.useState([]),[a,s]=y.useState(!0);return y.useEffect(()=>{(async()=>{s(!0);const i=await mu();i.success&&r(i.data),s(!1)})()},[]),o(Tt,{isLoading:a,children:o(ow,{categories:n,tag:e,title:t,variant:"minimal"})})},aH=({page:e})=>{const{setPage:t,setHeader:n,setFull:r}=yt;return y.useEffect(()=>{t(e),n("white"),r(!1)},[]),o(lw,{})};const Bi=e=>{const{className:t,horizontal:n,...r}=e,[a,s]=J("card",t),{goal:i,isList:l,onClickAdd:c,onClickDelete:u,onClickMark:d}=r,{isAuth:f}=Rt,{setIsOpen:m,setWindow:h}=cn,g=()=>{if(!f){m(!0),h("login");return}c()};return p("section",{className:a({horizontal:n}),children:[o(Fe,{to:"/".concat(l?"list":"goals","/").concat(i.code),className:s("gradient"),children:o(Mm,{img:{src:i.image,alt:i.title},category:i.category.nameEn,show:i.completedByUser,children:p("div",{className:s("img-tags"),children:[(i.addedByUser&&!i.completedByUser||!l&&i.regularConfig)&&p("div",{className:s("img-tag-wrapper"),children:[i.addedByUser&&!i.completedByUser&&o(Nn,{icon:"watch",theme:"light",title:"В процессе"}),!l&&i.regularConfig&&o(Nn,{icon:"regular-empty",theme:"light",title:"Регулярная цель"})]}),i.completedByUser&&o(Nn,{icon:"done",theme:"light",classNameIcon:s("img-tag-icon-done"),title:"Выполнено"}),o(Nn,{text:i.category.name,category:i.category.nameEn,className:s("img-tag-category")})]})})}),p("div",{className:s("info"),children:[p(Fe,{to:"/".concat(l?"list":"goals","/").concat(i.code),className:s("info-link"),children:[o(ke,{tag:"h3",className:s("title"),children:i.title}),o("p",{className:s("text"),children:i.shortDescription})]}),o(at,{}),p("div",{className:s("tags-wrapper"),children:[o(Iu,{complexity:i.complexity,added:i.totalAdded,estimatedTime:i.estimatedTime,theme:"integrate",className:s("tags",{added:i.addedByUser}),showSeparator:!0}),p("div",{className:s("buttons-wrapper"),children:[l&&"userCompletedGoals"in i&&"goalsCount"in i&&o(pa,{done:i.userCompletedGoals,all:i.goalsCount}),p("div",{className:s("buttons"),children:[!i.addedByUser&&o(z,{theme:"blue",icon:"plus",size:"small",onClick:g}),i.addedByUser&&o(z,{theme:"blue-light",icon:"trash",size:"small",onClick:u}),(i.addedByUser||i.completedByUser)&&!l&&d&&o(z,{theme:i.completedByUser?"green":"blue-light",size:"small",onClick:d,children:o(ie,{icon:"done",width:"16px",height:"16px",className:s("btn-done",{active:i.completedByUser})})})]})]})]})]})]})};const cw=({isOpen:e,onClose:t,goalData:n,originalSettings:r,onSave:a,isLoading:s=!1})=>{const[i,l]=J("regular-goal-settings-modal"),[c,u]=y.useState(r.frequency),[d,f]=y.useState(r.weeklyFrequency||3),[m,h]=y.useState(r.customSchedule||{monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}),[g,v]=y.useState(r.durationType),[_,E]=y.useState(r.durationValue||30),[C,w]=y.useState(r.endDate||""),[S,N]=y.useState(r.allowSkipDays||0),[T,k]=y.useState(r.resetOnSkip);y.useEffect(()=>{u(r.frequency),f(r.weeklyFrequency||3),h(r.customSchedule||{monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}),v(r.durationType),E(r.durationValue||30),w(r.endDate||""),N(r.allowSkipDays||0),k(r.resetOnSkip)},[r]);const I=()=>{if(c==="weekly"&&(!d||d<1||d>7)){me.addNotification({type:"error",title:"Ошибка",message:"Для недельной периодичности необходимо указать количество раз в неделю (от 1 до 7)"});return}if(g==="until_date"&&!C){me.addNotification({type:"error",title:"Ошибка",message:'Для типа "до даты" необходимо указать дату окончания'});return}if((g==="days"||g==="weeks")&&(!_||_<1)){me.addNotification({type:"error",title:"Ошибка",message:"Для указанного типа длительности необходимо задать положительное значение"});return}a({frequency:c,weeklyFrequency:c==="weekly"?d:void 0,customSchedule:c==="custom"?m:void 0,durationType:g,durationValue:g==="days"||g==="weeks"?_:void 0,endDate:g==="until_date"?C:void 0,allowSkipDays:S,resetOnSkip:T})},A=()=>{u(r.frequency),f(r.weeklyFrequency||3),h(r.customSchedule||{monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}),v(r.durationType),E(r.durationValue||30),w(r.endDate||""),N(r.allowSkipDays||0),k(r.resetOnSkip)};return e?p(xr,{isOpen:e,onClose:t,className:i(),children:[p("div",{className:l("header"),children:[p("div",{className:l("goal-info"),children:[n.image&&o("img",{src:n.image,alt:n.title,className:l("goal-image")}),p("div",{className:l("goal-details"),children:[o(ke,{tag:"h2",className:l("title"),children:"Настройка регулярности"}),o("p",{className:l("goal-title"),children:n.title}),n.category&&p("p",{className:l("goal-category"),children:["Категория: ",n.category.name]})]})]}),o("button",{type:"button",className:l("close-btn"),onClick:t,"aria-label":"Закрыть",children:o(ie,{icon:"cross"})})]}),p("div",{className:l("content"),children:[o("div",{className:l("info-message"),children:o(os,{type:"info",message:"Эта цель была создана как регулярная. Вы можете настроить параметры регулярности под себя или оставить оригинальные настройки автора."})}),p("div",{className:l("original-settings"),children:[o("h3",{className:l("section-title"),children:"Оригинальные настройки автора:"}),p("div",{className:l("settings-info"),children:[p("p",{children:[o("strong",{children:"Периодичность:"})," ",r.frequency==="daily"?"Ежедневно":r.frequency==="weekly"?"".concat(r.weeklyFrequency," раз в неделю"):"Пользовательский график"]}),p("p",{children:[o("strong",{children:"Длительность:"})," ",r.durationType==="days"?"".concat(r.durationValue," дней"):r.durationType==="weeks"?"".concat(r.durationValue," недель"):r.durationType==="until_date"?"До ".concat(r.endDate):"Бессрочно"]}),p("p",{children:[o("strong",{children:"Пропуски:"})," ",r.allowSkipDays," дней,"," ",r.resetOnSkip?"сбрасывать прогресс":"не сбрасывать прогресс"]})]})]}),p("div",{className:l("form"),children:[o("h3",{className:l("section-title"),children:"Ваши настройки:"}),p("div",{className:l("form-group"),children:[o(qt,{className:l("field"),placeholder:"Выберите периодичность",options:[{name:"Ежедневно",value:"daily"},{name:"N раз в неделю",value:"weekly"},{name:"Пользовательский график",value:"custom"}],activeOption:c==="daily"?0:c==="weekly"?1:2,onSelect:x=>{u(["daily","weekly","custom"][x])},text:"Периодичность"}),c==="weekly"&&o(He,{placeholder:"Например: 3",id:"weekly-frequency",text:"Сколько раз в неделю",value:d.toString(),setValue:x=>{const D=parseInt(x,10)||1;f(Math.min(7,Math.max(1,D)))},className:l("field"),type:"number"}),c==="custom"&&p("div",{className:l("custom-schedule-selector"),children:[o("p",{className:l("field-title"),children:"Выберите дни для выполнения цели"}),o(Nu,{schedule:m,onChange:h})]})]}),p("div",{className:l("form-group"),children:[o(qt,{className:l("field"),placeholder:"Выберите тип длительности",options:[{name:"Дни",value:"days"},{name:"Недели",value:"weeks"},{name:"До даты",value:"until_date"},{name:"Бессрочно",value:"indefinite"}],activeOption:g==="days"?0:g==="weeks"?1:g==="until_date"?2:3,onSelect:x=>{v(["days","weeks","until_date","indefinite"][x])},text:"Длительность"}),(g==="days"||g==="weeks")&&o(He,{placeholder:g==="days"?"Количество дней":"Количество недель",id:"duration-value",text:g==="days"?"Количество дней":"Количество недель",value:_.toString(),setValue:x=>{const D=parseInt(x,10)||1;E(Math.max(1,D))},className:l("field"),type:"number"}),g==="until_date"&&p("div",{className:l("date-field-container"),children:[o("p",{className:l("field-title"),children:"Дата окончания"}),o(Yi,{selected:C?new Date(C):null,onChange:x=>{w(x?ga(x,"yyyy-MM-dd"):"")},className:l("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))})]})]}),p("div",{className:l("form-group"),children:[o(He,{placeholder:"0",id:"allow-skip-days",text:"Разрешенные пропуски",value:S.toString(),setValue:x=>{const D=parseInt(x,10)||0;N(Math.max(0,D))},className:l("field"),type:"number"}),o(wn,{id:"reset-on-skip",text:"Сбрасывать прогресс при превышении лимита пропусков",checked:T,setChecked:k,className:l("field")})]})]})]}),p("div",{className:l("footer"),children:[o(z,{theme:"blue-light",className:l("btn"),onClick:A,type:"button",children:"Сбросить к оригиналу"}),o(z,{theme:"blue-light",className:l("btn"),onClick:t,type:"button",children:"Отмена"}),o(z,{theme:"blue",className:l("btn"),onClick:I,type:"button",disabled:s,children:s?"Сохранение...":"Добавить цель"})]})]}):null},Ql=async(e,t)=>await Ue("goal-lists/".concat(e,"/all"),{auth:!0,get:t}),uw=async e=>{var r,a;const t=await Ue("goals/".concat(e,"/regular-settings"));return t.success?{success:!0,data:(a=(r=t.data)==null?void 0:r.data)!=null?a:t.data}:t},Ui=async e=>await tt("goals/".concat(e,"/add"),{auth:!0}),Xu=async e=>await tt("goal-lists/".concat(e,"/add"),{auth:!0}),Fm=async(e,t)=>{const n={goal_code:e,frequency:t.frequency,duration_type:t.durationType,allow_skip_days:t.allowSkipDays,reset_on_skip:t.resetOnSkip};let r;if(t.frequency==="daily")if(t.durationType==="days"||t.durationType==="weeks"){if(t.durationValue===void 0)throw new Error("durationValue is required when durationType is days or weeks");r={...n,duration_value:t.durationValue}}else if(t.durationType==="until_date"){if(!t.endDate)throw new Error("endDate is required when durationType is until_date");r={...n,end_date:t.endDate}}else r=n;else if(t.frequency==="weekly"){if(t.weeklyFrequency===void 0)throw new Error("weeklyFrequency is required when frequency is weekly");if(t.durationType==="days"||t.durationType==="weeks"){if(t.durationValue===void 0)throw new Error("durationValue is required when durationType is days or weeks");r={...n,weekly_frequency:t.weeklyFrequency,duration_value:t.durationValue}}else if(t.durationType==="until_date"){if(!t.endDate)throw new Error("endDate is required when durationType is until_date");r={...n,weekly_frequency:t.weeklyFrequency,end_date:t.endDate}}else r={...n,weekly_frequency:t.weeklyFrequency}}else{if(!t.customSchedule||Object.keys(t.customSchedule).length===0)throw new Error("customSchedule is required when frequency is custom");if(t.durationType==="days"||t.durationType==="weeks"){if(t.durationValue===void 0)throw new Error("durationValue is required when durationType is days or weeks");r={...n,custom_schedule:t.customSchedule,duration_value:t.durationValue}}else if(t.durationType==="until_date"){if(!t.endDate)throw new Error("endDate is required when durationType is until_date");r={...n,custom_schedule:t.customSchedule,end_date:t.endDate}}else r={...n,custom_schedule:t.customSchedule}}const a=await tt("goals/".concat(e,"/add-regular"),{auth:!0,body:r});return{success:a.success||!1,data:a.data,error:a.errors||a.error||void 0}},pl=async(e,t,n)=>await tt("goals/".concat(e,"/mark"),{auth:!0,body:{done:t},success:n}),Ju=async e=>await tt("goals/".concat(e,"/remove"),{auth:!0}),Zu=async e=>await tt("goal-lists/".concat(e,"/remove"),{auth:!0});const ed=e=>{const{head:t,icon:n="filter",items:r,onFinish:a,multipleSelectedText:s=["Выбрано несколько"],multipleThreshold:i=2}=e,[l,c]=y.useState(!1),[u,d]=y.useState(t.name),[f,m]=y.useState(!0),[h,g]=y.useState(r.reduce((N,T)=>({...N,[T.code]:{value:!1,name:T.name}}),{})),v=y.useRef(null),[_,E]=J("filters-checkbox"),C=()=>{c(!l)},w=N=>{v.current&&!v.current.contains(N.target)&&c(!1)},S=()=>{const N=Object.keys(h).reduce((T,k)=>({...T,[k]:{value:!1,name:h[k].name}}),{});g(N),m(!0),d(t.name),a([]),c(!1)};return y.useEffect(()=>(document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}),[]),y.useEffect(()=>{if(!l){const N=Object.entries(h).filter(T=>T[1].value);if(N.length){N.length>i&&s?d("Выбрано ".concat(ct(N.length,s))):d(N.map(k=>k[1].name).join(", ")),m(!1);const T=N.map(k=>k[0]);a(T)}else d(t.name),m(!0),a([])}},[l,h]),y.useEffect(()=>{g(r.reduce((N,T)=>{const k=h[T.code]?h[T.code].value:!1;return{...N,[T.code]:{value:k,name:T.name}}},{}))},[r]),p("div",{className:_(),ref:v,children:[p("button",{type:"button",className:E("option"),onClick:C,"aria-label":"Выберите",children:[o(ie,{icon:n}),o("span",{className:E("option-text"),children:u})]}),l&&p("ul",{className:E("list"),children:[o("li",{className:E("head",{active:f}),onClick:S,role:"button",tabIndex:0,children:t.name}),o(at,{margin:"8px 0"}),r.map(N=>{var T,k;return o("li",{className:E("item",{selected:(T=h[N.code])==null?void 0:T.value}),children:o(wn,{className:E("checkbox"),text:N.name,id:N.code,checked:((k=h[N.code])==null?void 0:k.value)||!1,setChecked:I=>{g({...h,[N.code]:{value:I,name:N.name}})}})},N.code)}),o("li",{className:E("actions"),children:o("button",{type:"button",className:E("apply-btn"),onClick:()=>c(!1),children:"Применить"})})]})]})};const sH=(e,t,n=5)=>{const r=[];if(t<=n)for(let a=1;a<=t;a+=1)r.push({number:a,symbol:a});else{const a=Math.floor(n/2);r.push({number:1,symbol:1});const s=Math.max(2,e>t-2?t-(n-1):e-a),i=Math.min(t-1,e<3?n:e+a);e-a>2&&r.push({symbol:"...",number:Math.floor((s+1)/2)});for(let l=s;l<=i;l+=1)r.push({number:l,symbol:l});e+a<t-1&&r.push({symbol:"...",number:Math.floor((t+i)/2)}),r.push({number:t,symbol:t})}return r},Xc=e=>{const{className:t,goToPage:n,currentPage:r,totalPages:a}=e,[s,i]=y.useState(r),{isScreenSmallMobile:l,isScreenMobile:c}=Vr(),[u,d]=J("pagination",t),[f,m]=y.useState(!1),g=sH(s,a,l?1:c?3:5),v=async _=>{const E=s;m(!0),i(_),await n(_)||i(E),m(!1)};return y.useEffect(()=>{i(r)},[r]),a<2?null:p("div",{className:u(),children:[o(z,{theme:"blue-light",icon:"arrow--bottom",className:d("arrow",{notShow:!(r>1)}),onClick:()=>v(r-1)}),o("div",{className:d("pages"),children:g.map(_=>o(z,{theme:"blue-light",onClick:()=>v(_.number),className:d("page"),disabled:_.number===s,loading:f&&s===_.number,children:_.symbol},_.number))}),o(z,{theme:"blue-light",icon:"arrow",className:d("arrow",{notShow:!(r<a)}),onClick:()=>v(r+1)})]})};const gl=e=>{const{className:t,buttons:n,active:r,base:a=""}=e,[s,i]=J("switch",t);return o("section",{className:s(),children:n.map(l=>p(Fe,{to:"".concat(a).concat(l.url),className:i("link",{active:r===l.page}),children:[l.name,!!l.count&&o("span",{className:i("count"),children:l.count})]},l.url))})};const Va=[{name:"Новые",value:"-created_at"},{name:"Старые",value:"created_at"},{name:"Cамые популярные",value:"-added_by_users"},{name:"Больше всего выполненные",value:"-completed_by_users"}],Bm=e=>{const{className:t,code:n="all",subPage:r,category:a,userId:s,completed:i,beginUrl:l,columns:c,categories:u,initialSearch:d="",searchWrapperWrap:f=!1}=e,[m,h]=J("catalog-items",t),[g,v]=y.useState({data:[],pagination:xc}),[_,E]=y.useState({data:[],pagination:xc}),[C,w]=y.useState(0),[S,N]=y.useState(d),[T,k]=y.useState(null),[I,A]=y.useState(s?{user_id:s,completed:i}:{}),[x,D]=y.useState([]),[P,M]=y.useState(!1),[R,F]=y.useState(!1),[U,$]=y.useState(!1),[H,K]=y.useState(!1),[L,le]=y.useState(null),[q,O]=y.useState(null),[ee,Q]=y.useState(!1),oe=y.useMemo(()=>{let ue="";return a&&(ue=a.category.parentCategory?"".concat(a.category.parentCategory.nameEn,"/").concat(a.category.nameEn):a.category.nameEn),[{url:"".concat(l).concat(ue),name:"Цели",page:"goals",count:g.pagination.totalItems},{url:"".concat(l).concat(ue,"/lists"),name:"Списки",page:"lists",count:_.pagination.totalItems}]},[g,_,a,l]),V=y.useMemo(()=>u?u.map(ue=>({name:ue.name,code:ue.nameEn})):[],[u]);y.useEffect(()=>{F(!1),(async()=>{const ue=s?{user_id:s,completed:i}:{};A(ue);const De=await ho(n,{...ue,...d?{search:d}:{}});De.success&&v(De.data),F(!0)})()},[r,n,i,s,d]),y.useEffect(()=>{$(!1),(async()=>{const ue=s?{user_id:s,completed:i}:{};A(ue);const De=await Ql(n,{...ue,...d?{search:d}:{}});De.success&&E(De.data),$(!0)})()},[r,n,i,s,d]),y.useEffect(()=>{w(0),N(d),D([])},[r,l,d]);const Ae=async(ue,Ne,De)=>{try{let Te;const de={...I,sort_by:ue,page:Ne,...De&&De.length>0?{categories:De.join(",")}:{}};return r==="goals"?Te=await ho(n,de):Te=await Ql(n,de),Te.success?(r==="goals"?v(Te.data):E(Te.data),!0):!1}catch(Te){return!1}},ne=async ue=>{w(ue),await Ae(Va[ue].value,void 0,x)},Ce=async ue=>{M(!0);const Ne=await Ae(Va[C].value,ue,x);return zs.scrollTo("catalog-items-goals",{duration:800,delay:0,smooth:"easeInOutQuart",offset:-150}),M(!1),Ne},rt=ue=>{N(ue);const Ne=300;T&&clearTimeout(T),k(setTimeout(async()=>{if(r==="goals")if(ue.length>=3){const De=await ho(n,{sort_by:Va[C].value,search:ue,...x.length>0?{categories:x.join(",")}:{}});De.success&&v(De.data)}else{const De=await ho(n,{sort_by:Va[C].value,search:"",...x.length>0?{categories:x.join(",")}:{}});De.success&&v(De.data)}else if(ue.length>=3){const De=await Ql(n,{sort_by:Va[C].value,search:ue,...x.length>0?{categories:x.join(",")}:{}});De.success&&E(De.data)}else{const De=await Ql(n,{sort_by:Va[C].value,search:"",...x.length>0?{categories:x.join(",")}:{}});De.success&&E(De.data)}},Ne))},ot=async ue=>{D(ue),await Ae(Va[C].value,void 0,ue)},Et=async(ue,Ne,De,Te)=>{var We;if(De==="add")try{const fe=await uw(ue);if(fe.success&&fe.data){if((We=fe.data.regular_settings)!=null&&We.allowCustomSettings){le(fe.data),O(Ne),K(!0);return}if((await Ui(ue)).success){const Qe={...g.data[Ne],addedByUser:!0,totalAdded:(g.data[Ne].totalAdded||0)+1},re=[...g.data];re[Ne]=Qe,v({...g,data:re}),me.addNotification({type:"success",title:"Успех",message:"Регулярная цель успешно добавлена!"});return}}}catch(fe){console.log("Цель не является регулярной или ошибка API")}const de=await(De==="add"?Ui(ue):De==="delete"?Ju(ue):pl(ue,!Te));if(de.success&&g){const fe={...g.data[Ne],addedByUser:De!=="delete",completedByUser:De==="mark"?!Te:g.data[Ne].completedByUser,totalAdded:de.data.users_added_count},Ve=[...g.data];Ve[Ne]=fe,v({...g,data:Ve})}},j=async(ue,Ne,De)=>{const Te=await(De==="add"?Xu(ue):Zu(ue));if(Te.success){const de={..._.data[Ne],addedByUser:De==="add",totalAdded:Te.data.users_added_count},We=[..._.data];We[Ne]=de,E({..._,data:We})}},pt=()=>{K(!1),le(null),O(null)},be=async ue=>{if(!(!(L!=null&&L.goal)||q===null)){Q(!0);try{const Ne={frequency:ue.frequency,durationType:ue.durationType,allowSkipDays:ue.allowSkipDays,resetOnSkip:ue.resetOnSkip,...ue.frequency==="weekly"&&ue.weeklyFrequency!==void 0?{weeklyFrequency:ue.weeklyFrequency}:{},...ue.frequency==="custom"&&ue.customSchedule!==void 0?{customSchedule:ue.customSchedule}:{},...ue.durationType==="days"||ue.durationType==="weeks"?ue.durationValue!==void 0?{durationValue:ue.durationValue}:{}:{},...ue.durationType==="until_date"&&ue.endDate!==void 0?{endDate:ue.endDate}:{}},De=await Fm(L.goal.code,Ne);if(De.success){const Te={...g.data[q],addedByUser:!0,totalAdded:(g.data[q].totalAdded||0)+1},de=[...g.data];de[q]=Te,v({...g,data:de}),me.addNotification({type:"success",title:"Успех",message:"Регулярная цель успешно добавлена с вашими настройками!"}),K(!1),le(null),O(null)}else throw new Error(De.error||"Ошибка при добавлении регулярной цели")}catch(Ne){me.addNotification({type:"error",title:"Ошибка",message:Ne instanceof Error?Ne.message:"Не удалось добавить регулярную цель"})}finally{Q(!1)}}};return p("section",{className:m(),children:[p("div",{className:h("filters"),children:[o(gl,{className:h("switch"),buttons:oe,active:r||""}),o(at,{className:h("line")}),p("div",{className:h("search-wrapper",{"wrap-on-lg":f}),children:[o(He,{className:h("search"),placeholder:"Поисковой запрос",id:"searching",value:S,setValue:rt,iconBegin:"search"}),p("div",{className:h("categories-wrapper"),children:[u&&u.length>0&&o(ed,{head:{name:"Все категории",code:"all"},items:V,onFinish:ot,multipleSelectedText:["категория","категории","категорий"],multipleThreshold:1}),o(qt,{options:Va,activeOption:C,onSelect:ne,filter:!0})]})]})]}),o(Tt,{isLoading:P||r==="goals"&&!R||r==="lists"&&!U,children:r==="goals"?R?g.data.length===0?o(jt,{title:i?"У вас пока нет выполненных целей":"У вас пока нет активных целей",description:i?"Начните выполнять цели, чтобы они появились в списке выполненных":"Добавьте цели из каталога, чтобы они появились в списке активных"}):o("section",{className:h("goals",{columns:c}),id:"catalog-items-goals",children:g.data.map((ue,Ne)=>o(Bi,{className:h("goal"),goal:ue,onClickAdd:()=>Et(ue.code,Ne,"add"),onClickDelete:()=>Et(ue.code,Ne,"delete"),onClickMark:()=>Et(ue.code,Ne,"mark",ue.completedByUser)},ue.code))}):null:U?_.data.length===0?o(jt,{title:i?"У вас пока нет выполненных списков":"У вас пока нет активных списков",description:i?"Начните выполнять списки целей, чтобы они появились в списке выполненных":"Добавьте списки из каталога, чтобы они появились в списке активных"}):o("section",{className:h("goals",{columns:c}),id:"catalog-items-lists",children:_.data.map((ue,Ne)=>o(Bi,{className:h("list"),goal:ue,horizontal:!0,isList:!0,onClickAdd:()=>j(ue.code,Ne,"add"),onClickDelete:()=>j(ue.code,Ne,"delete")},ue.code))}):null}),r==="lists"&&_.data.length>0&&o(Xc,{currentPage:_.pagination.page,totalPages:_.pagination.totalPages,goToPage:Ce}),r==="goals"&&g.data.length>0&&o(Xc,{currentPage:g.pagination.page,totalPages:g.pagination.totalPages,goToPage:Ce}),H&&(L==null?void 0:L.regular_settings)&&o(cw,{isOpen:H,onClose:pt,goalData:L.goal,originalSettings:L.regular_settings,onSave:be,isLoading:ee})]},n)};const iH=e=>{var u;const{className:t,category:n,isSub:r,refHeader:a}=e,[s,i]=J("header-category",t),[l,c]=y.useState(!1);return y.useEffect(()=>{const d=()=>{const m=window.scrollY>160;c(m)};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),p("header",{className:s({category:(r&&((u=n.category.parentCategory)!=null&&u.nameEn),n.category.nameEn),fixed:l}),style:{backgroundImage:"url(".concat(n.category.image,")")},ref:a,children:[p("div",{className:i("title-wrapper"),children:[r&&n.category.parentCategory&&o(Fe,{to:"/categories/".concat(n.category.parentCategory.nameEn),children:p(ke,{className:i("title-link"),tag:"h1",children:[n.category.parentCategory.name," / "]})}),o(ke,{tag:"h1",theme:"white",className:i("title"),children:n.category.name})]}),!!n.subcategories.length&&!l&&o("section",{className:i("subcategories"),children:n.subcategories.map(d=>p(Fe,{className:i("subcategory"),to:"/categories/".concat(n.category.nameEn,"/").concat(d.nameEn),children:[d.icon&&o("img",{className:i("subcategory-icon"),src:d.icon,alt:d.name}),d.name]},d.nameEn))})]})},oH=async e=>await Ue("categories/".concat(e)),lH=async e=>await Ue("goals/".concat(e,"/popular"),{auth:!0}),cH=async e=>await Ue("goal-lists/".concat(e,"/popular"),{auth:!0});const uH=({subPage:e,page:t})=>{const[n,r]=J("category"),[a,s]=y.useState(null),[i,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState([]),[m,h]=y.useState(!0),g=y.useRef(null),[v,_]=y.useState(!1),[E,C]=y.useState(null),[w,S]=y.useState(null),[N,T]=y.useState(!1),{id:k}=Us(),[I]=vh(),A=I.get("search")||"";y.useEffect(()=>{A&&!k&&setTimeout(()=>{zs.scrollTo("catalog-items-goals",{duration:800,delay:100,smooth:"easeInOutQuart",offset:-150})},500)},[A,k]),y.useEffect(()=>{(async()=>{h(!0);const R=[];k?R.push(oH(k)):R.push(mu()),R.push(lH(k||"all")),R.push(cH(k||"all"));const[F,U,$]=await Promise.all(R);!k&&F.success?f(F.data):k&&F.success&&s(F.data),U.success&&l(U.data),$.success&&u($.data),h(!1)})()},[k]);const x=async(R,F,U,$)=>{var K;if(U==="add")try{const L=await uw(R);if(L.success&&L.data){if((K=L.data.regular_settings)!=null&&K.allowCustomSettings){C(L.data),S(F),_(!0);return}if((await Ui(R)).success){const q={...i[F],addedByUser:!0,totalAdded:(i[F].totalAdded||0)+1},O=[...i];O[F]=q,l(O),me.addNotification({type:"success",title:"Успех",message:"Регулярная цель успешно добавлена!"});return}}}catch(L){console.log("Цель не является регулярной или ошибка API")}const H=await(U==="add"?Ui(R):U==="delete"?Ju(R):pl(R,!$));if(H.success&&i){const L={...i[F],addedByUser:U!=="delete",completedByUser:U==="mark"?!$:i[F].completedByUser,totalAdded:H.data.users_added_count},le=[...i];le[F]=L,l(le)}},D=async(R,F,U)=>{const $=await(U==="add"?Xu(R):Zu(R));if($.success){const H={...c[F],addedByUser:U==="add",totalAdded:$.data.users_added_count},K=[...c];K[F]=H,u(K)}},P=()=>{_(!1),C(null),S(null)},M=async R=>{if(!(!(E!=null&&E.goal)||w===null)){T(!0);try{const F={frequency:R.frequency,durationType:R.durationType,allowSkipDays:R.allowSkipDays,resetOnSkip:R.resetOnSkip,...R.frequency==="weekly"&&R.weeklyFrequency!==void 0?{weeklyFrequency:R.weeklyFrequency}:{},...R.frequency==="custom"&&R.customSchedule!==void 0?{customSchedule:R.customSchedule}:{},...R.durationType==="days"||R.durationType==="weeks"?R.durationValue!==void 0?{durationValue:R.durationValue}:{}:{},...R.durationType==="until_date"&&R.endDate!==void 0?{endDate:R.endDate}:{}},U=await Fm(E.goal.code,F);if(U.success){const $={...i[w],addedByUser:!0,totalAdded:(i[w].totalAdded||0)+1},H=[...i];H[w]=$,l(H),me.addNotification({type:"success",title:"Успех",message:"Регулярная цель успешно добавлена с вашими настройками!"}),_(!1),C(null),S(null)}else throw new Error(U.error||"Ошибка при добавлении регулярной цели")}catch(F){me.addNotification({type:"error",title:"Ошибка",message:F instanceof Error?F.message:"Не удалось добавить регулярную цель"})}finally{T(!1)}}};return p("main",{className:n({sub:t==="isSubCategories",empty:!(a!=null&&a.subcategories.length),all:!k}),children:[k&&k!=="all"&&a&&o(iH,{category:a,className:r("header"),isSub:t==="isSubCategories",refHeader:g}),p(Tt,{isLoading:m,children:[!!i.length&&p(nt,{children:[p("div",{className:r("wrapper-title"),children:[o(ke,{tag:"h2",children:"Популярные цели этой недели"}),o(z,{type:"Link",theme:"blue",icon:"plus",href:"/goals/create".concat(k&&k!=="all"?"?category=".concat(k):""),size:"small",children:"Добавить цель"})]}),o("section",{className:r("popular-goals"),children:i.map((R,F)=>o(Bi,{goal:R,className:r("popular-goal"),onClickAdd:()=>x(R.code,F,"add"),onClickDelete:()=>x(R.code,F,"delete"),onClickMark:()=>x(R.code,F,"mark",R.completedByUser)},R.code))})]}),!!c.length&&p(nt,{children:[p("div",{className:r("wrapper-title"),children:[o(ke,{tag:"h2",children:"Популярные списки этой недели"}),o(z,{type:"Link",theme:"blue",icon:"plus",href:"/list/create".concat(k&&k!=="all"?"?category=".concat(k):""),size:"small",children:"Добавить список целей"})]}),o("section",{className:r("popular-lists"),children:c.map((R,F)=>o(Bi,{horizontal:!0,isList:!0,goal:R,className:r("popular-list"),onClickAdd:()=>D(R.code,F,"add"),onClickDelete:()=>D(R.code,F,"delete")},R.code))})]}),o(ke,{className:r("title"),tag:"h2",children:"Все цели и списки"}),o(Bm,{code:k||"all",className:r("all-goals"),subPage:e,category:a,beginUrl:k?"/categories/":"/categories/all",categories:d,initialSearch:A}),!k&&o(ow,{categories:d,tag:"h2",title:"Категории",variant:"minimal"})]}),v&&(E==null?void 0:E.regular_settings)&&o(cw,{isOpen:v,onClose:P,goalData:E.goal,originalSettings:E.regular_settings,onSave:M,isLoading:N})]})},ai=({page:e,subPage:t})=>{const{setPage:n,setHeader:r,setFull:a}=yt;return y.useEffect(()=>{n(e),e==="isCategoriesAll"?(r("white"),a(!1)):(r("transparent"),a(!0))},[e]),o(uH,{page:e,subPage:t})};const dH=()=>{const[e,t]=J("contacts-container"),n=[{icon:"telegram",title:"Telegram поддержка",description:"Напишите нам для получения помощи",href:"https://t.me/delting_help_bot",label:"@delting_help_bot"},{icon:"email",title:"Email",description:"Напишите нам на почту",href:"mailto:delting-help@yandex.com",label:"delting-help@yandex.com"}],r=[{icon:"telegram",title:"Telegram канал",description:"Новости, советы и истории пользователей",href:"https://t.me/delting_go",label:"@delting_go"}];return p("main",{className:e(),children:[o("div",{className:t("hero"),children:p(fn.div,{className:t("hero-content"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p("h1",{className:t("hero-title"),children:["Давайте ",o("span",{className:t("hero-title-accent"),children:"общаться"}),"!"]}),o("p",{className:t("hero-description"),children:"Мы всегда рады вашим вопросам, предложениям и отзывам. Выберите удобный способ связи, и мы обязательно ответим."})]})}),p("div",{className:t("content"),children:[p("section",{className:t("section"),children:[o(ke,{tag:"h2",className:t("section-title"),children:"Свяжитесь с нами"}),o("p",{className:t("section-description"),children:"Нужна помощь или есть вопросы? Выберите удобный способ связи, и мы обязательно ответим."}),o("div",{className:t("contacts"),children:n.map((a,s)=>p(fn.a,{href:a.href,target:a.href.startsWith("http")?"_blank":void 0,rel:a.href.startsWith("http")?"noopener noreferrer":void 0,className:t("contact-card"),initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:s*.1},viewport:{once:!0},children:[o("div",{className:t("contact-icon"),children:o(ie,{icon:a.icon})}),o("h3",{className:t("contact-title"),children:a.title}),o("p",{className:t("contact-label"),children:a.label}),o("p",{className:t("contact-description"),children:a.description})]},a.title))})]}),p("section",{className:t("section"),children:[o(ke,{tag:"h2",className:t("section-title"),children:"Мы в социальных сетях"}),o("p",{className:t("section-description"),children:"Присоединяйтесь к нашему сообществу! В канале мы публикуем новости, полезные советы, истории пользователей и многое другое."}),o("div",{className:t("contacts"),children:r.map((a,s)=>p(fn.a,{href:a.href,target:a.href.startsWith("http")?"_blank":void 0,rel:a.href.startsWith("http")?"noopener noreferrer":void 0,className:t("contact-card"),initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:s*.1},viewport:{once:!0},children:[o("div",{className:t("contact-icon"),children:o(ie,{icon:a.icon})}),o("h3",{className:t("contact-title"),children:a.title}),o("p",{className:t("contact-label"),children:a.label}),o("p",{className:t("contact-description"),children:a.description})]},a.title))})]}),p(fn.section,{className:t("section",{cta:!0}),initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0},children:[o("h2",{className:t("cta-title"),children:"Есть идеи для улучшения?"}),o("p",{className:t("cta-description"),children:"Мы постоянно развиваемся и ценим ваше мнение. Если у вас есть предложения по улучшению платформы или вы нашли ошибку — напишите нам! Ваш вклад помогает делать Delting лучше каждый день."})]})]})]})},fH=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(dH,{})},hH=()=>p(Rm,{title:"Политика использования Cookie",children:[p("section",{children:[o("h2",{children:"1. Что такое Cookie"}),o("p",{children:"Файлы cookie — это небольшие текстовые файлы, которые сохраняются на вашем устройстве (компьютере, планшете, смартфоне) при посещении веб-сайта. Они помогают Платформе запоминать ваши действия и предпочтения на определенный период времени."}),o("p",{children:"Файлы cookie запоминают информацию о предпочтениях Пользователя, позволяют в более удобном режиме просматривать посещенные сайты в течение определенного времени. Например, тип браузера, время, проведенное на Сайте, просмотренные страницы и предпочтения языка, статистическая информация об использовании Сайта в целях постоянного усовершенствования его дизайна и функциональности."}),o("p",{children:"IP-адрес - это номер, который автоматически присваивается компьютеру Пользователя провайдером интернет-услуг. IP-адрес идентифицируется и автоматически регистрируется в файлах сервера Оператора каждый раз, когда пользователь посещает Сайт; а также регистрируется время визита и просмотренные страницы. Сбор IP-адресов является стандартной практикой в Интернете и производится автоматически многими веб-сайтами."})]}),p("section",{children:[o("h2",{children:"2. Как мы используем Cookie"}),o("p",{children:"Платформа Delting использует файлы cookie для следующих целей:"}),p("ul",{children:[p("li",{children:[o("strong",{children:"Обязательные cookie"})," — необходимы для работы основных функций Платформы (авторизация, безопасность, сохранение сессии пользователя). Без этих cookie Платформа не сможет функционировать должным образом;"]}),p("li",{children:[o("strong",{children:"Функциональные cookie"})," — помогают запомнить ваши предпочтения и настройки (язык интерфейса, тема оформления, настройки отображения). Эти cookie улучшают пользовательский опыт;"]}),p("li",{children:[o("strong",{children:"Аналитические cookie"})," — позволяют анализировать использование Платформы для улучшения сервиса, понимания того, как пользователи взаимодействуют с Платформой, какие функции наиболее популярны, и выявления проблемных областей;"]}),p("li",{children:[o("strong",{children:"Cookie для безопасности"})," — помогают обнаруживать и предотвращать мошенничество, несанкционированный доступ и другие нарушения безопасности."]})]}),o("p",{children:"Оператор использует IP-адреса в целях расчета уровня посещаемости Сайта, диагностики проблем на сервере и администрирования Сайта."})]}),p("section",{children:[o("h2",{children:"3. Типы используемых Cookie"}),o("p",{children:"Мы используем следующие типы cookie:"}),p("ul",{children:[p("li",{children:[o("strong",{children:"Сессионные cookie"})," — временные файлы, которые удаляются после закрытия браузера. Они необходимы для работы Платформы во время вашего сеанса (например, для сохранения состояния авторизации);"]}),p("li",{children:[o("strong",{children:"Постоянные cookie"})," — остаются на устройстве до истечения срока действия или удаления вручную. Они помогают Платформе запомнить ваши предпочтения при следующем посещении;"]}),p("li",{children:[o("strong",{children:"Cookie первой стороны"})," — устанавливаются непосредственно Платформой Delting;"]}),p("li",{children:[o("strong",{children:"Cookie третьих сторон"})," — устанавливаются сторонними сервисами, которые мы используем (например, аналитические сервисы)."]})]}),o("p",{children:"Срок хранения cookie может варьироваться от нескольких минут (сессионные cookie) до нескольких месяцев или лет (постоянные cookie). Некоторые типы cookies удаляются автоматически по окончании сессии работы или в течение 30-60 минут с окончания сессии, в основном cookies хранятся от 3 месяцев до 1 года и удаляются автоматически по окончании этого срока."})]}),p("section",{children:[o("h2",{children:"4. Управление Cookie"}),o("p",{children:"Вы можете управлять cookie через настройки вашего браузера. Большинство браузеров позволяют:"}),p("ul",{children:[o("li",{children:"Просматривать список всех установленных cookie;"}),o("li",{children:"Удалять отдельные cookie или все cookie;"}),o("li",{children:"Блокировать установку cookie;"}),o("li",{children:"Настраивать уведомления о попытках установки cookie."})]}),o("p",{children:"Обратите внимание, что отключение или удаление cookie может повлиять на функциональность Платформы. Некоторые функции могут стать недоступными или работать некорректно."}),o("p",{children:"Инструкции по управлению cookie в популярных браузерах:"}),p("ul",{children:[p("li",{children:[o("strong",{children:"Google Chrome:"})," Настройки → Конфиденциальность и безопасность → Файлы cookie и другие данные сайтов"]}),p("li",{children:[o("strong",{children:"Mozilla Firefox:"})," Настройки → Приватность и защита → Файлы cookie и данные сайтов"]}),p("li",{children:[o("strong",{children:"Safari:"})," Настройки → Конфиденциальность → Файлы cookie и данные веб-сайтов"]}),p("li",{children:[o("strong",{children:"Microsoft Edge:"})," Настройки → Файлы cookie и разрешения сайтов"]})]}),o("p",{children:"Пользователь может отказаться принимать файлы cookies, выполнив инструкции своего браузера; однако, в этом случае могут возникнуть некоторые неудобства при использовании Платформы."})]}),p("section",{children:[o("h2",{children:"5. Сторонние Cookie и сервисы"}),o("p",{children:"Мы можем использовать сервисы третьих сторон, которые также могут устанавливать cookie на ваше устройство. Эти cookie контролируются политиками конфиденциальности соответствующих третьих сторон."}),o("p",{children:"Например, мы можем использовать:"}),p("ul",{children:[p("li",{children:[o("strong",{children:"Аналитические сервисы"})," — для сбора статистики об использовании Платформы (например, Яндекс.Метрика, Google Analytics);"]}),p("li",{children:[o("strong",{children:"Сервисы хостинга и инфраструктуры"})," — для обеспечения работы Платформы;"]}),p("li",{children:[o("strong",{children:"Сервисы безопасности"})," — для защиты от мошенничества и обеспечения безопасности."]})]}),o("p",{children:"Мы рекомендуем ознакомиться с политиками конфиденциальности этих сторонних сервисов для понимания того, как они используют cookie и другие технологии отслеживания."}),o("p",{children:"На основании данных, полученных с помощью файлов cookies, Оператор также проводит статистические и маркетинговые исследования, исправляет ошибки в сервисах Сайта, Платформы."})]}),p("section",{children:[o("h2",{children:"6. Изменения в Политике использования Cookie"}),o("p",{children:"Мы оставляем за собой право вносить изменения в настоящую Политику использования Cookie. Все изменения вступают в силу с момента публикации новой версии на Платформе."}),o("p",{children:"При внесении существенных изменений пользователи могут быть уведомлены через Платформу или по электронной почте."}),o("p",{children:"Рекомендуем периодически знакомиться с актуальной версией Политики."})]}),p("section",{children:[o("h2",{children:"7. Контактная информация"}),p("p",{children:["По вопросам использования cookie обращайтесь:",o("br",{}),"Email: ",o(Fe,{to:"mailto:delting-help@yandex.com",children:"delting-help@yandex.com"})]})]})]}),mH=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(hH,{})};const pH=["books","cinema-art","gaming"],Um=({onGoalSelected:e,className:t,category:n,initialQuery:r})=>{const[a,s]=J("external-goal-search",t),[i,l]=y.useState(r||""),[c,u]=y.useState([]),[d,f]=y.useState(!1),[m,h]=y.useState(1),[g,v]=y.useState(!1),[_,E]=y.useState({}),C=d||i.length<2,w=async()=>{if(i.length<2){u([]),v(!1);return}f(!0),v(!0);try{const A=await Ue("goals/search-external",{get:{category:n,query:i}});if(A.success&&A.data.results){const{ownResults:x=[],externalResults:D=[]}=A.data.results,P=[...x.map(M=>({...M,isOwnDatabase:!0})),...D.map(M=>({...M,isOwnDatabase:!1}))];u(P)}else me.addNotification({type:"error",title:"Ошибка",message:"Не удалось найти подходящие цели"}),u([])}catch(A){console.error("Ошибка при поиске:",A),me.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при поиске"}),u([])}finally{f(!1)}};if(y.useEffect(()=>{E({})},[c]),y.useEffect(()=>{r&&r.length>=2&&w()},[r]),!n||!pH.includes(n))return null;const S=A=>{l(A),A.length===0&&(u([]),v(!1))},N=A=>{E(x=>({...x,[A]:!1}))},T=A=>{E(x=>({...x,[A]:!1}))},k=async A=>{var x;E(D=>({...D,[String(A.externalId)]:!0}));try{let D=A;if(A.type==="book"&&A.apiSource==="fantlab"&&!A.isOwnDatabase)try{const M=await vN(String(A.externalId));if(M.success){const R=((x=M.data)==null?void 0:x.data)||M.data;D={...A,title:R.title||A.title,description:R.description||A.description,imageUrl:R.imageUrl||A.imageUrl,authors:R.authors||A.authors,additionalFields:{...A.additionalFields,...R.additionalFields}},me.addNotification({type:"success",title:"Информация загружена",message:"Получена детальная информация о произведении"})}else me.addNotification({type:"warning",title:"Частичная загрузка",message:"Не удалось загрузить детальную информацию, используются базовые данные"})}catch(M){me.addNotification({type:"warning",title:"Частичная загрузка",message:"Не удалось загрузить детальную информацию, используются базовые данные"})}const P={title:D.title,description:D.description||"Цель: ".concat(D.title),external_id:D.externalId,externalType:D.type,complexity:on[m].value,imageUrl:D.imageUrl,estimatedTime:"",deadline:"",status:D.source};if(D.additionalFields){const M=D.additionalFields;Object.keys(M).forEach(R=>{const F=M[R];F!=null&&R!=="additionalFields"&&(P[R]=F)})}D.isOwnDatabase&&(P.id=Number(D.externalId),P.code=D.goalCode,P.isExistingGoal=!0),D.imageUrl?P.imageUrl=D.imageUrl:me.addNotification({type:"warning",title:"Внимание",message:"Не удалось загрузить изображение. Вам нужно будет выбрать его вручную."}),e(P),u([]),l(""),v(!1),me.addNotification({type:"success",title:"Готово",message:"Данные цели загружены! Проверьте и дополните при необходимости."})}catch(D){console.error("Ошибка при выборе цели:",D),me.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при загрузке данных цели"})}finally{E(D=>({...D,[String(A.externalId)]:!1}))}},I=A=>({books:"книги","cinema-art":"фильмы",gaming:"игры"})[A]||"контент";return p("div",{className:a(),children:[p("h3",{className:s("title"),children:["Найти готовую цель (",I(n),")"]}),p("div",{className:s("search-panel"),children:[o("div",{className:s("selectors"),children:o(qt,{className:s("complexity-select"),placeholder:"Выберите сложность",options:on,activeOption:m,onSelect:h,text:"Сложность"})}),p("div",{className:s("search-field"),children:[o(He,{id:"external-search",text:"Поиск",value:i,setValue:S,placeholder:"Введите название для поиска ".concat(I(n),"..."),iconBegin:"search",className:s("search-input"),onKeyDown:A=>{A.key==="Enter"&&!C&&(A.preventDefault(),w())}}),o(z,{theme:"blue",icon:"search",onClick:w,size:"medium",width:"auto",className:"".concat(s("search-button")," ").concat(C?"disabled":""),children:d?"Поиск...":"Найти"})]})]}),o("div",{className:s("results-container",{"is-empty":c.length===0&&!d}),children:p(Tt,{isLoading:d,children:[c.length>0&&o("div",{className:s("results"),children:(()=>{const A=c.filter(D=>D.isOwnDatabase),x=c.filter(D=>!D.isOwnDatabase);return p(nt,{children:[A.length>0&&p(nt,{children:[o("div",{className:s("section-header"),children:o("h4",{children:"Цели из базы данных (если ваша цель уже есть в базе, просим вас выбирать её, а не создавать новую)"})}),A.map(D=>p("div",{className:s("result-item",{"own-database":!0}),children:[o("div",{className:s("result-image"),children:D.imageUrl?o("img",{src:D.imageUrl,alt:D.title,onLoad:()=>N(String(D.externalId)),onError:()=>T(String(D.externalId))}):o("div",{className:s("no-image"),children:o(ie,{icon:"mount"})})}),p("div",{className:s("result-details"),children:[o("h4",{className:s("result-title"),children:D.title}),D.description&&p("p",{className:s("result-description"),children:[D.description.substring(0,150),"..."]}),o("div",{className:s("result-meta"),children:p("span",{className:s("match-percentage"),children:["Совпадение: ",D.matchPercentage||D.match_percentage,"%"]})}),o(z,{theme:"green",onClick:()=>k(D),className:"".concat(s("add-button")," ").concat(_[String(D.externalId)]?"disabled":""),icon:"plus",children:_[String(D.externalId)]?"Проверка...":"Добавить как цель"})]})]},"own-".concat(D.externalId))),x.length>0&&p("div",{className:s("section-divider"),children:[o("hr",{}),o("span",{children:"Результаты из внешних источников"}),o("hr",{})]})]}),x.map(D=>p("div",{className:s("result-item"),children:[o("div",{className:s("result-image"),children:D.imageUrl?o("img",{src:D.imageUrl,alt:D.title,onLoad:()=>N(String(D.externalId)),onError:()=>T(String(D.externalId))}):o("div",{className:s("no-image"),children:o(ie,{icon:"mount"})})}),p("div",{className:s("result-details"),children:[o("h4",{className:s("result-title"),children:D.title}),D.description&&p("p",{className:s("result-description"),children:[D.description.substring(0,150),"..."]}),p("div",{className:s("result-meta"),children:[D.type==="cinema-art"&&D.releaseDate&&p("span",{children:["Год: ",D.releaseDate.substring(0,4)]}),D.type==="book"&&D.authors&&p("span",{children:["Авторы: ",D.authors.join(", ")]}),D.type==="travel"&&D.address&&p("span",{children:["Адрес: ",D.address]})]}),o(z,{theme:"green",onClick:()=>k(D),className:"".concat(s("add-button")," ").concat(_[String(D.externalId)]?"disabled":""),icon:"plus",children:_[String(D.externalId)]?"Проверка...":"Добавить как цель"})]})]},"external-".concat(D.type,"-").concat(D.externalId)))]})})()}),c.length===0&&g&&!d&&o("div",{className:s("no-results"),children:o(os,{type:"info",message:"Ничего не найдено. Попробуйте другой запрос."})})]})})]})},td=async e=>tb(async()=>Ue("goals/search-similar",{get:{query:e},showErrorNotification:!1}),6,1),Ny=async e=>await tt("goals/create",{body:e,file:!0,auth:!0}),hh={getUserMapData:async()=>{const e=await Ue("maps/user",{auth:!0,showSuccessNotification:!1});if(!e.success)throw new Error(e.errors||"Failed to fetch user map data");return e.data},getGoalListMapData:async e=>{const t=await Ue("maps/list/".concat(e),{auth:!0,showSuccessNotification:!1});if(!t.success)throw new Error(t.errors||"Failed to fetch goal list map data");return t.data},getCategoryMapData:async e=>{const t=await Ue("maps/category/".concat(e),{auth:!0,showSuccessNotification:!1});if(!t.success)throw new Error(t.errors||"Failed to fetch category map data");return t.data},markLocationVisited:async(e,t,n)=>{const r=await tt("maps/locations/visit",{auth:!0,body:{location_id:e,goal_id:t,notes:n||""}});if(!r.success)throw new Error(r.errors||"Failed to mark location as visited");return r.data},unmarkLocationVisited:async e=>{const t=await Xn("maps/locations/".concat(e,"/unvisit"),{auth:!0});if(!t.success)throw new Error(t.errors||"Failed to unmark location as visited")},searchLocations:async e=>{const t=await tt("maps/locations/search",{auth:!0,body:{query:e},showSuccessNotification:!1});if(!t.success)throw new Error(t.errors||"Failed to search locations");return t.data},createLocation:async e=>{const t=await tt("maps/locations/create",{auth:!0,body:e});if(!t.success)throw new Error(t.errors||"Failed to create location");return t.data},getCountriesList:async()=>{const e=await Ue("maps/countries",{auth:!0,showSuccessNotification:!1});if(!e.success)throw new Error(e.errors||"Failed to fetch countries list");return e.data},getUserVisitedCountries:async()=>{const e=await Ue("maps/countries/visited",{auth:!0,showSuccessNotification:!1});if(!e.success)throw new Error(e.errors||"Failed to fetch visited countries");return e.data},markCountryVisited:async(e,t)=>{const n=await tt("maps/countries/visit",{auth:!0,body:{country_id:e,notes:t||""}});if(!n.success)throw new Error(n.errors||"Failed to mark country as visited");return n.data},unmarkCountryVisited:async e=>{const t=await Xn("maps/countries/".concat(e,"/unvisit"),{auth:!0});if(!t.success)throw new Error(t.errors||"Failed to unmark country as visited")}},yl=(e,t,n=!1)=>{let r=null;return function(...a){const s=()=>{r=null,n||e.apply(this,a)},i=n&&!r;r&&clearTimeout(r),r=setTimeout(s,t),i&&e.apply(this,a)}},Tr=200,dw=({className:e,checked:t,setChecked:n})=>{const[,r]=J("add-goal",e);return o("div",{className:r("regular-field-group"),children:p("div",{className:r("field-with-tooltip"),children:[o(wn,{id:"allow-custom-settings",text:"Разрешить пользователям изменять настройки регулярности, при добавлении цели к себе",checked:t,setChecked:n,className:r("field")}),p("div",{className:r("tooltip-wrapper"),children:[o(ie,{icon:"info",className:r("tooltip-icon"),width:"13",height:"13"}),p("div",{className:r("tooltip-content"),children:[o("p",{className:r("tooltip-text"),children:"Если включено, пользователи смогут изменять настройки регулярности при добавлении цели к себе."}),o("p",{className:r("tooltip-text"),children:"Если отключено, пользователи смогут использовать только те настройки, которые будут указаны в цели при ее создании."})]})]})]})})};const fw=({goal:e,onSelect:t})=>{const[n,r]=J("similar-goal-item"),a=s=>{(s.key==="Enter"||s.key===" ")&&t(e)};return p("div",{className:n(),onClick:()=>t(e),onKeyDown:a,role:"button",tabIndex:0,children:[p("div",{className:r("content"),children:[o("div",{className:r("image-container"),children:e.image?o("img",{src:e.image,alt:e.title,className:r("image")}):o("div",{className:r("no-image"),children:o(ie,{icon:"mount"})})}),p("div",{className:r("info"),children:[o("h4",{className:r("title"),children:e.title}),o("p",{className:r("complexity"),children:e.complexity}),o("p",{className:r("description"),children:e.shortDescription})]})]}),o("div",{className:r("select-icon"),children:o(ie,{icon:"arrow--right"})})]})};const Hm=e=>{const{className:t,onGoalCreated:n,hideNavigation:r=!1,noForm:a=!1,onSubmitForm:s,initialCategory:i,lockCategory:l=!1,initialCategoryParam:c,preloadedCategories:u}=e,d=Zn(),f=Hi(),[m,h]=J("add-goal",t),[g,v]=y.useState(""),[_,E]=y.useState(""),[C,w]=y.useState(null),[S,N]=y.useState(""),[T,k]=y.useState(""),[I,A]=y.useState(null),[x,D]=y.useState(null),[P,M]=y.useState(null),[R,F]=y.useState(null),[U,$]=y.useState([]),[H,K]=y.useState(null),[L,le]=y.useState(null),[q,O]=y.useState(!1),[ee,Q]=y.useState(!1),[oe,V]=y.useState(!0),[Ae,ne]=y.useState("daily"),[Ce,rt]=y.useState(3),[ot,Et]=y.useState({monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}),[j,pt]=y.useState("days"),[be,ue]=y.useState(30),[Ne,De]=y.useState(0),[Te,de]=y.useState(0),[We,fe]=y.useState(!1),[Ve,Qe]=y.useState([]),[re,Y]=y.useState(!1),[Se,je]=y.useState([]),pe=y.useRef(null),{setWindow:lt,setModalProps:Ke,setIsOpen:ut}=cn,$e=y.useMemo(()=>U.filter(te=>!te.parentCategory),[U]),Ht=()=>{v(""),E(""),w(null),N(""),k(""),A(null),D(null),M(null),F(null),K(null),le(null),Q(!1),ne("daily"),rt(3),Et({monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}),pt("days"),ue(30),De(0),de(0),fe(!1),V(!0),Qe([]),Y(!1)},Ot=()=>{Ve.length>0&&Y(!0)},yn=()=>{setTimeout(()=>{Y(!1)},200)},kt=te=>{if(v(te.title?te.title.slice(0,Tr):""),E(te.description||""),k(te.estimatedTime||""),te.complexity){const xe=on.findIndex(Xe=>Xe.value===te.complexity);xe!==-1&&w(xe)}if(te.category){const xe=U.find(Xe=>{var et;return Xe.id===((et=te.category)==null?void 0:et.id)});if(xe)if(xe.parentCategory){const Xe=$e.findIndex(et=>{var qe;return et.id===((qe=xe.parentCategory)==null?void 0:qe.id)});if(Xe!==-1){M(Xe);const et=U.filter(Vt=>{var qn;return Vt.parentCategory&&Vt.parentCategory.id===((qn=xe.parentCategory)==null?void 0:qn.id)});je(et);const qe=et.findIndex(Vt=>Vt.id===xe.id);qe!==-1&&F(qe)}}else{const Xe=$e.findIndex(et=>et.id===xe.id);Xe!==-1&&M(Xe)}}te.image?(D(te.image),A(null)):(D(null),A(null)),Y(!1)},Bn=te=>{const xe={name:te.name||"",longitude:te.longitude||0,latitude:te.latitude||0,country:te.country||"",city:te.city||void 0,description:te.description||void 0,place_type:"other",address:void 0,created_at:new Date().toISOString()};K(xe),ut(!1)},hr=()=>{K(null)},Vn=te=>{te.length<=Tr&&v(te)},ht=te=>{rm(te)&&k(te)},Ft=te=>{if(!te)return"";const xe=/^(\d{1,2}):(\d{1,2})$/;if(xe.test(te)){const Pn=te.match(xe);if(Pn){const jr=Pn[1].padStart(2,"0"),Ta=Pn[2].padStart(2,"0");return"".concat(jr,":").concat(Ta)}}if(/^\d+$/.test(te)){const Pn=parseInt(te,10);return"".concat(Pn.toString().padStart(2,"0"),":00")}const et=/^(\d+)?\s*д?\s*(\d+)?\s*ч?\s*(\d+)?\s*м?$/i,qe=te.match(et);if(qe&&(qe[1]||qe[2]||qe[3])){const Pn=qe[1]?parseInt(qe[1],10):0,jr=qe[2]?parseInt(qe[2],10):0,Ta=qe[3]?parseInt(qe[3],10):0,El=Pn*24+jr+Math.floor(Ta/60),_l=Ta%60;return"".concat(El.toString().padStart(2,"0"),":").concat(_l.toString().padStart(2,"0"))}const Vt=/^(\d+)\s*(д|дн|дня|дней)$/i,qn=te.match(Vt);if(qn){const jr=parseInt(qn[1],10)*24;return"".concat(jr.toString().padStart(2,"0"),":00")}const Ca=/^(\d+)\s*(ч|час|часа|часов)$/i,bl=te.match(Ca);if(bl){const Pn=parseInt(bl[1],10);return"".concat(Pn.toString().padStart(2,"0"),":00")}const vn=/^(\d+)\s*(м|мин|минут|минуты)$/i,Xs=te.match(vn);if(Xs){const Pn=parseInt(Xs[1],10),jr=Math.floor(Pn/60),Ta=Pn%60;return"".concat(jr.toString().padStart(2,"0"),":").concat(Ta.toString().padStart(2,"0"))}return te};y.useEffect(()=>{(async()=>{try{if(u)$(u);else{const xe=await zo();xe.success&&$(xe.data)}}catch(xe){me.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[u]);const he=()=>{ut(!0),lt("goal-map-add"),Ke({onLocationSelect:Bn,initialLocation:H||void 0})};y.useEffect(()=>{if(P!==null&&$e.length>0&&$e[P]){const te=$e[P],xe=U.filter(Xe=>Xe.parentCategory&&Xe.parentCategory.id===te.id);je(xe),(!i||!i.parentCategory)&&F(null)}else je([]),F(null)},[P,$e.length]),y.useEffect(()=>{if(i&&U.length>0&&$e.length>0)if(i.parentCategory){const te=$e.findIndex(xe=>{var Xe;return xe.id===((Xe=i.parentCategory)==null?void 0:Xe.id)});if(te!==-1){M(te);const xe=U.filter(et=>{var qe;return et.parentCategory&&et.parentCategory.id===((qe=i.parentCategory)==null?void 0:qe.id)});je(xe);const Xe=xe.findIndex(et=>et.id===i.id);Xe!==-1?setTimeout(()=>{F(Xe)},100):console.warn("Подкатегория не найдена:",i)}else console.warn("Родительская категория не найдена:",i.parentCategory)}else{const te=$e.findIndex(xe=>xe.id===i.id);te!==-1?M(te):console.warn("Основная категория не найдена:",i)}},[i==null?void 0:i.id,$e.length,U.length]),y.useEffect(()=>{if(c&&$e.length>0){const te=$e.findIndex(xe=>xe.nameEn===c);te!==-1&&M(te)}else{const xe=new URLSearchParams(f.search).get("category");if(xe&&$e.length>0){const Xe=$e.findIndex(et=>et.nameEn===xe);Xe!==-1&&M(Xe)}}},[c,f.search,$e.length]);const ge=y.useCallback(yl(async te=>{var xe;if(te.length<3){Qe([]),Y(!1);return}try{const Xe=await td(te);Xe.success&&((xe=Xe.data)!=null&&xe.results)&&Qe(Xe.data.results.slice(0,5))}catch(Xe){console.error("Ошибка при поиске похожих целей:",Xe)}},500),[]);y.useEffect(()=>{g?ge(g):(Qe([]),Y(!1))},[g,ge]);const Be=y.useCallback(te=>{te&&te.length>0&&(A(te[0]),D(null))},[]),Lt=()=>{pe.current&&pe.current.click()},Yt=te=>{te.target.files&&Be(te.target.files)},St=async te=>{if(te.preventDefault(),s){s(te);return}if(!g||!_||C===null||P===null||!I&&!x){me.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}if(ee&&Ae==="custom"&&!Object.values(ot).some(Boolean)){me.addNotification({type:"error",title:"Ошибка",message:"Выберите хотя бы один день недели для пользовательского графика"});return}O(!0);try{const xe=new FormData;if(xe.append("title",g),_&&xe.append("description",_),C!==null&&xe.append("complexity",on[C].value),R!==null&&Se[R]?xe.append("category",Se[R].id.toString()):P!==null&&xe.append("category",$e[P].id.toString()),I?xe.append("image",I):x&&xe.append("image_url",x),S&&xe.append("deadline",S),T){const qe=Ft(T);xe.append("estimated_time",qe)}let Xe=null;if(H)if(H.id)Xe=H.id;else try{Xe=(await hh.createLocation({name:H.name||g,longitude:H.longitude,latitude:H.latitude,country:H.country,city:H.city,description:H.description,place_type:H.place_type||"other"})).id}catch(qe){me.addNotification({type:"error",title:"Ошибка",message:qe instanceof Error?qe.message:"Не удалось создать место"});return}if(Xe&&xe.append("location_id",Xe.toString()),ee){xe.append("is_regular","true"),xe.append("regular_frequency",Ae),Ae==="weekly"&&xe.append("weekly_frequency",Ce.toString()),Ae==="custom"&&xe.append("custom_schedule",JSON.stringify(ot)),xe.append("duration_type",j),(j==="days"||j==="weeks")&&xe.append("duration_value",be.toString());const qe=We?Ne:0,Vt=We?Te:0;xe.append("allow_skip_days",qe.toString()),xe.append("days_for_earned_skip",Vt.toString()),xe.append("reset_on_skip",We.toString()),xe.append("allow_custom_settings",oe.toString())}L&&Object.entries(L).forEach(([qe,Vt])=>{Vt!=null&&(Array.isArray(Vt)?xe.append(qe,JSON.stringify(Vt)):xe.append(qe,String(Vt)))});const et=await Ny(xe);if(et.success)me.addNotification({type:"success",title:"Успех",message:ee?"Регулярная цель успешно создана":"Цель успешно создана"}),n&&et.data?(n(et.data),Ht()):r||d("/goals/".concat(et.data.code));else throw new Error(et.error||"Неизвестная ошибка")}catch(xe){me.addNotification({type:"error",title:"Ошибка",message:xe instanceof Error?xe.message:"Не удалось создать цель"})}finally{O(!1)}},Dt=async()=>{if(!g||C===null||P===null||!I&&!x||!_){me.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}O(!0);try{const te=new FormData;if(te.append("title",g),_&&te.append("description",_),C!==null&&te.append("complexity",on[C].value),R!==null&&Se[R]?te.append("category",Se[R].id.toString()):P!==null&&te.append("category",$e[P].id.toString()),I?te.append("image",I):x&&te.append("image_url",x),S&&te.append("deadline",S),T){const et=Ft(T);te.append("estimated_time",et)}let xe=null;if(H)if(H.id)xe=H.id;else try{xe=(await hh.createLocation({name:H.name||g,longitude:H.longitude,latitude:H.latitude,country:H.country,city:H.city,description:H.description,place_type:H.place_type||"other"})).id}catch(et){me.addNotification({type:"error",title:"Ошибка",message:et instanceof Error?et.message:"Не удалось создать место"});return}if(xe&&te.append("location_id",xe.toString()),ee){te.append("is_regular","true"),te.append("regular_frequency",Ae),Ae==="weekly"&&te.append("weekly_frequency",Ce.toString()),Ae==="custom"&&te.append("custom_schedule",JSON.stringify(ot)),te.append("duration_type",j),(j==="days"||j==="weeks")&&te.append("duration_value",be.toString());const et=We?Ne:0,qe=We?Te:0;te.append("allow_skip_days",et.toString()),te.append("days_for_earned_skip",qe.toString()),te.append("reset_on_skip",We.toString()),te.append("allow_custom_settings",oe.toString())}L&&Object.entries(L).forEach(([et,qe])=>{qe!=null&&(Array.isArray(qe)?te.append(et,JSON.stringify(qe)):te.append(et,String(qe)))});const Xe=await Ny(te);if(Xe.success)me.addNotification({type:"success",title:"Успех",message:ee?"Регулярная цель успешно создана":"Цель успешно создана"}),n&&Xe.data?(n(Xe.data),Ht()):r||d("/goals/".concat(Xe.data.code));else throw new Error(Xe.error||"Неизвестная ошибка")}catch(te){me.addNotification({type:"error",title:"Ошибка",message:te instanceof Error?te.message:"Не удалось создать цель"})}finally{O(!1)}},zt=te=>{if(te.title&&v(te.title.slice(0,Tr)),te.description&&E(te.description||""),te.estimatedTime&&k(te.estimatedTime),te.category){const Xe=U.find(et=>{var qe;return et.id===((qe=te.category)==null?void 0:qe.id)});if(Xe)if(Xe.parentCategory){const et=$e.findIndex(qe=>{var Vt;return qe.id===((Vt=Xe.parentCategory)==null?void 0:Vt.id)});if(et!==-1){M(et);const qe=U.filter(qn=>{var Ca;return qn.parentCategory&&qn.parentCategory.id===((Ca=Xe.parentCategory)==null?void 0:Ca.id)});je(qe);const Vt=qe.findIndex(qn=>qn.id===Xe.id);Vt!==-1&&F(Vt)}}else{const et=$e.findIndex(qe=>qe.id===Xe.id);if(et!==-1){M(et);const qe=U.filter(Vt=>Vt.parentCategory&&Vt.parentCategory.id===Xe.id);if(je(qe),te.subcategory&&qe){const Vt=qe.findIndex(qn=>{var Ca;return qn.id===((Ca=te.subcategory)==null?void 0:Ca.id)});Vt!==-1&&F(Vt)}}}}te.imageUrl?(D(te.imageUrl),A(null)):te.image?(D(te.image),A(null)):(D(null),A(null));const xe={external_id:te.external_id,type:te.externalType,...Object.fromEntries(Object.entries(te).filter(([Xe])=>!["title","description","estimatedTime","complexity","category","subcategory","imageUrl","image","external_id","externalType","additionalFields","isExistingGoal","status","deadline"].includes(Xe)))};le(xe),me.addNotification({type:"success",title:"Готово",message:"Данные цели загружены! Проверьте и дополните при необходимости."})},tr=p(nt,{children:[!r&&p("div",{className:h("wrapper-title"),children:[o(ke,{tag:"h1",className:h("title"),children:"Создание новой цели"}),o(z,{size:"small",type:"Link",theme:"blue",icon:"plus",href:"/list/create",children:"Добавить список целей"})]}),o(Tt,{isLoading:q,children:p("div",{className:h("content"),children:[o("div",{className:h("edit-info-message"),children:o(os,{type:"info",message:"Вы сможете отредактировать или удалить цель в течение 24ч после создания, затем действие будет недоступно"})}),o("div",{className:h("external-search-section"),children:o(Um,{onGoalSelected:zt,className:h("external-search"),category:R!==null&&Se.length>0?Se[R].nameEn:P!==null?$e[P].nameEn:void 0})}),p("div",{className:h("image-section"),children:[o("p",{className:h("field-title"),children:"Изображение цели *"}),!I&&!x?o("div",{className:h("dropzone"),onClick:Lt,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyDown:te=>{(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),Lt())},children:o(as,{onDrop:te=>te&&Be(te),children:p("div",{className:h("upload-placeholder"),children:[o("input",{type:"file",ref:pe,style:{display:"none"},onChange:Yt,accept:"image/*"}),o(ie,{icon:"mount",className:h("upload-icon")}),o("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})}):p("div",{className:h("image-preview"),children:[I&&o("img",{src:URL.createObjectURL(I),alt:"Предпросмотр",className:h("preview")}),x&&!I&&o("img",{src:x,alt:"Предпросмотр из источника",className:h("preview")}),o(z,{withBorder:!0,className:h("remove-image"),type:"button-close",onClick:()=>{A(null),D(null)}})]})]}),p("div",{className:h("form"),children:[p("div",{className:h("field-container"),children:[o(He,{placeholder:"Введите название цели",id:"goal-title",text:"Название цели *",value:g,setValue:Vn,className:h("field"),required:!0,onFocus:Ot,onBlur:yn,maxLength:Tr,showCharCount:!0}),re&&p("div",{className:h("similar-goals"),children:[p("div",{className:h("similar-header"),children:[o("h3",{className:h("similar-title"),children:"Похожие цели"}),o("button",{type:"button",className:h("close-similar"),onClick:()=>Y(!1),"aria-label":"Закрыть",children:o(ie,{icon:"cross"})})]}),o("p",{className:h("similar-desc"),children:"Найдены похожие цели. Нажмите на цель, чтобы заполнить форму её данными:"}),o("div",{className:h("similar-list"),children:Ve.map(te=>o(fw,{goal:te,onSelect:kt},te.id))})]})]}),o(qt,{className:h("field"),placeholder:"Выберите категорию",options:$e.map(te=>({name:te.name,value:te.nameEn})),activeOption:P,onSelect:M,text:"Категория *",disabled:l}),P!==null&&Se.length>0&&o(qt,{className:h("field"),placeholder:"Выберите подкатегорию (необязательно)",options:Se.map(te=>({name:te.name,value:te.nameEn})),activeOption:R,onSelect:F,text:"Подкатегория",disabled:l}),P!==null&&$e[P].nameEn==="travel"&&p("div",{className:h("location-field-container"),children:[o("p",{className:h("field-title"),children:"Место на карте"}),H?p("div",{className:h("selected-location"),children:[p("div",{className:h("selected-location-info"),children:[o(ie,{icon:"map",className:h("location-icon")}),p("div",{children:[o("div",{className:h("selected-location-name"),children:H==null?void 0:H.name}),p("div",{className:h("selected-location-details"),children:[(H==null?void 0:H.city)&&"".concat(H.city,", "),H==null?void 0:H.country]}),(H==null?void 0:H.description)&&o("div",{className:h("selected-location-description"),children:H.description})]})]}),p("div",{className:h("location-actions"),children:[o(z,{theme:"blue-light",size:"small",onClick:he,children:"Изменить место"}),o(z,{theme:"red",size:"small",onClick:hr,children:"Удалить место"})]})]}):p("div",{className:h("location-empty"),children:[o("p",{children:"Выберите географическое место на карте"}),o(z,{theme:"blue",onClick:he,children:"Выбрать место на карте"})]}),o("small",{className:h("format-hint"),children:"Выберите географическое место на карте. Это поможет отслеживать ваши путешествия на карте."})]}),o(qt,{className:h("field"),placeholder:"Выберите сложность",options:on,activeOption:C,onSelect:w,text:"Сложность *"}),p("div",{className:h("regular-section"),children:[o(wn,{id:"is-regular",text:"Это регулярная цель?",checked:ee,setChecked:Q,className:h("field")}),ee&&p("div",{className:h("regular-config"),children:[p("div",{className:h("regular-field-group"),children:[o(qt,{className:h("field"),placeholder:"Выберите периодичность",options:[{name:"Ежедневно",value:"daily"},{name:"N раз в неделю",value:"weekly"},{name:"Пользовательский график",value:"custom"}],activeOption:Ae==="daily"?0:Ae==="weekly"?1:2,onSelect:te=>{ne(["daily","weekly","custom"][te])},text:"Периодичность"}),Ae==="weekly"&&o(He,{placeholder:"Например: 3",id:"weekly-frequency",text:"Сколько раз в неделю",value:Ce.toString(),setValue:te=>{const xe=parseInt(te,10)||1;rt(Math.min(7,Math.max(1,xe)))},className:h("field"),type:"number"}),Ae==="custom"&&p("div",{className:h("custom-schedule-selector"),children:[o("p",{className:h("field-title"),children:"Выберите дни недели (обязательно хотя бы один)"}),o(Nu,{schedule:ot,onChange:Et})]})]}),p("div",{className:h("regular-field-group"),children:[o(qt,{className:h("field"),placeholder:"Выберите тип длительности",options:[{name:"Дни",value:"days"},{name:"Недели",value:"weeks"},{name:"Бессрочно",value:"indefinite"}],activeOption:j==="days"?0:j==="weeks"?1:2,onSelect:te=>{pt(["days","weeks","indefinite"][te])},text:"Длительность"}),(j==="days"||j==="weeks")&&o(He,{placeholder:j==="days"?"Количество дней":"Количество недель",id:"duration-value",text:j==="days"?"Количество дней":"Количество недель",value:be.toString(),setValue:te=>{const xe=parseInt(te,10)||1;ue(Math.max(1,xe))},className:h("field"),type:"number"})]}),p("div",{className:h("regular-field-group"),children:[o(wn,{id:"reset-on-skip",text:"Сбрасывать прогресс при превышении лимита пропусков",checked:We,setChecked:te=>{fe(te),te||(De(0),de(0))},className:h("field")}),We&&p(nt,{children:[o(He,{placeholder:"0",id:"allow-skip-days",text:"Разрешенные пропуски",value:Ne.toString(),setValue:te=>{const xe=parseInt(te,10)||0;De(Math.max(0,xe))},className:h("field"),type:"number"}),p("div",{className:h("input-with-suffix"),children:[o(He,{placeholder:"0",id:"allow-skip-days-through",text:"Начисление разрешенного пропуска через",value:Te.toString(),setValue:te=>{const xe=parseInt(te,10);de(Math.max(0,xe))},className:h("field"),type:"number"}),o("span",{className:h("input-suffix"),children:j==="days"?"дней":j==="weeks"?"недель":"дней"})]}),o("small",{className:h("format-hint"),children:"Если установлено 0, то дополнительные пропуски не начисляются"})]})]}),o(dw,{checked:oe,setChecked:V,className:h("field")})]})]}),o(He,{placeholder:"Опишите цель подробно",id:"goal-description",text:"Описание *",value:_,setValue:E,className:h("field"),type:"textarea",rows:4,required:!0}),p("div",{className:h("time-field-container"),children:[o(He,{placeholder:"Например: 5, 2:30, 3д5ч, 3д 5 ч, 3 дня, 5 часов",id:"goal-estimated-time",text:"Предполагаемое время выполнения",value:T,setValue:ht,className:h("field"),type:"text"}),o("small",{className:h("format-hint"),children:"Укажите время: просто число (часы), ЧЧ:ММ (02:30), комбинации (3д5ч, 3д 5ч), или словами (3 дня, 5 часов, 30 минут)"})]}),p("div",{className:h("date-field-container"),children:[o("p",{className:h("field-title"),children:"Планируемая дата реализации"}),o(Yi,{selected:S?new Date(S):null,onChange:te=>{N(te?ga(te,"yyyy-MM-dd"):"")},className:h("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))}),o("small",{id:"date-format-hint",className:h("format-hint"),children:"Укажите планируемую дату достижения цели (не ранее завтрашнего дня)"})]}),p("div",{className:h("btns-wrapper"),children:[!r&&o(z,{theme:"blue-light",className:h("btn"),onClick:()=>d(-1),type:"button",children:"Отмена"}),o(z,{theme:"blue",className:h("btn"),typeBtn:"submit",onClick:a?te=>{te.preventDefault(),Dt()}:void 0,children:"Создать цель"})]})]})]})})]});return a?o("div",{className:m(),children:tr}):o("form",{className:m(),onSubmit:St,children:tr})},gH=({page:e})=>{const{setPage:t,setHeader:n,setFull:r}=yt;return y.useEffect(()=>{t(e),n("white"),r(!1)},[e,t,n,r]),o(Hm,{})},yH=async e=>await tt("goal-lists/create",{body:e,file:!0,auth:!0});const vH=e=>{const{className:t,goal:n,onGoalEdited:r,onCancel:a,initialCategory:s,preloadedCategories:i=[],preloadedSubcategories:l=[],autoParserData:c}=e,[u,d]=J("add-goal",t),[f,m]=y.useState(!1),[h,g]=y.useState((n==null?void 0:n.code)||""),[v,_]=y.useState(""),[E,C]=y.useState(""),[w,S]=y.useState(null),[N,T]=y.useState(null),[k,I]=y.useState(null),[A,x]=y.useState(""),[D,P]=y.useState(""),[M,R]=y.useState(null),[F,U]=y.useState(null),[$]=y.useState(i),[H]=y.useState(l),[K,L]=y.useState(!1),le=y.useRef(null),[q,O]=y.useState(c||{}),[ee,Q]=y.useState([]),[,oe]=y.useState(!1),[V,Ae]=y.useState(!1),[ne,Ce]=y.useState(!1);y.useEffect(()=>{c&&O(c)},[c]),y.useEffect(()=>{if(!f&&n&&$.length>0){if(_(n.title?n.title.slice(0,Tr):""),C(n.description||""),x(n.deadline||""),P(n.estimatedTime||""),U((n==null?void 0:n.imageUrl)||((n==null?void 0:n.image)instanceof File?null:n.image)),R((n==null?void 0:n.image)instanceof File?n.image:null),n.complexity){const fe=on.findIndex(Ve=>Ve.value===n.complexity);fe!==-1&&S(fe)}if(s)if(s.parentCategory){const fe=$.findIndex(Ve=>{var Qe;return Ve.id===((Qe=s.parentCategory)==null?void 0:Qe.id)});if(fe!==-1){T(fe);const Ve=H.findIndex(Qe=>Qe.id===s.id);Ve!==-1&&I(Ve)}}else{const fe=$.findIndex(Ve=>Ve.id===s.id);fe!==-1&&T(fe)}else if(n.category){const fe=$.findIndex(Ve=>Ve.id===n.category.id);fe!==-1&&T(fe)}m(!0)}},[n,$,H,s,f]);const rt=fe=>{fe.length<=Tr&&_(fe)},ot=fe=>{rm(fe)&&P(fe)},Et=fe=>{if(!fe)return"";const Ve=/^(\d{1,2}):(\d{1,2})$/;if(Ve.test(fe)){const $e=fe.match(Ve);if($e){const Ht=$e[1].padStart(2,"0"),Ot=$e[2].padStart(2,"0");return"".concat(Ht,":").concat(Ot)}}if(/^\d+$/.test(fe)){const $e=parseInt(fe,10);return"".concat($e.toString().padStart(2,"0"),":00")}const re=/^(\d+)?\s*д?\s*(\d+)?\s*ч?\s*(\d+)?\s*м?$/i,Y=fe.match(re);if(Y&&(Y[1]||Y[2]||Y[3])){const $e=Y[1]?parseInt(Y[1],10):0,Ht=Y[2]?parseInt(Y[2],10):0,Ot=Y[3]?parseInt(Y[3],10):0,yn=$e*24+Ht+Math.floor(Ot/60),kt=Ot%60;return"".concat(yn.toString().padStart(2,"0"),":").concat(kt.toString().padStart(2,"0"))}const Se=/^(\d+)\s*(д|дн|дня|дней)$/i,je=fe.match(Se);if(je){const Ht=parseInt(je[1],10)*24;return"".concat(Ht.toString().padStart(2,"0"),":00")}const pe=/^(\d+)\s*(ч|час|часа|часов)$/i,lt=fe.match(pe);if(lt){const $e=parseInt(lt[1],10);return"".concat($e.toString().padStart(2,"0"),":00")}const Ke=/^(\d+)\s*(м|мин|минут|минуты)$/i,ut=fe.match(Ke);if(ut){const $e=parseInt(ut[1],10),Ht=Math.floor($e/60),Ot=$e%60;return"".concat(Ht.toString().padStart(2,"0"),":").concat(Ot.toString().padStart(2,"0"))}return fe},j=y.useCallback(yl(async fe=>{var Ve;if(fe.length<3){Q([]),oe(!1),Ae(!1);return}try{const Qe=await td(fe);Qe.success&&((Ve=Qe==null?void 0:Qe.data)!=null&&Ve.results)&&(Q(Qe.data.results),Ae(Qe.data.results.length>0&&ne))}catch(Qe){console.error("Ошибка при поиске похожих целей:",Qe)}finally{oe(!1)}},500),[ne]);y.useEffect(()=>{v?(oe(!0),j(v)):(Q([]),Ae(!1))},[v,j]);const pt=()=>{Ce(!0),ee.length>0&&Ae(!0)},be=()=>{setTimeout(()=>{Ce(!1),Ae(!1)},200)},ue=fe=>{_(fe.title?fe.title.slice(0,Tr):""),C(fe.description),P(fe.estimatedTime||"");const Ve=on.findIndex(re=>re.value===fe.complexity);Ve!==-1&&S(Ve);const Qe=$.findIndex(re=>re.id===fe.category.id);if(Qe!==-1&&(T(Qe),fe.subcategory&&H.length>0)){const re=H.findIndex(Y=>{var Se;return Y.id===((Se=fe.subcategory)==null?void 0:Se.id)});re!==-1&&I(re)}fe.image?(U(fe.image),R(null)):(U(null),R(null)),Ae(!1),Ce(!1),me.addNotification({type:"warning",title:"Данные заполнены",message:"Поля формы заполнены данными выбранной цели. Вы можете изменить их перед сохранением."})},Ne=y.useCallback(fe=>{fe&&fe.length>0&&(R(fe[0]),U(null))},[]),De=()=>{le.current&&le.current.click()},Te=fe=>{fe.target.files&&Ne(fe.target.files)},de=fe=>{if(_(fe.title?fe.title.slice(0,Tr):""),C(fe.description||""),g(fe.code||""),fe.complexity){const Qe=on.findIndex(re=>re.value===fe.complexity);Qe!==-1&&S(Qe)}fe.imageUrl?(U(fe.imageUrl),R(null)):fe.image?(U(fe.image),R(null)):(U(null),R(null));const Ve={external_id:fe.external_id,type:fe.externalType,...Object.fromEntries(Object.entries(fe).filter(([Qe])=>!["title","description","estimatedTime","complexity","category","subcategory","imageUrl","image","external_id","externalType"].includes(Qe)))};O({...q,additionalFields:{...Ve},status:fe.status,apiSource:fe.externalType}),me.addNotification({type:"success",title:"Готово",message:"Данные цели загружены! Проверьте и дополните при необходимости."})},We=async fe=>{if(fe&&typeof fe.preventDefault=="function"&&fe.preventDefault(),!v||!E||w===null||N===null||!M&&!F){me.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}L(!0);try{const Ve={title:v,description:E,complexity:on[w].value,category:k!==null?H[k]:$[N],estimatedTime:D?Et(D):"",code:h,deadline:A,status:q.status,shortDescription:E?"".concat(E.substring(0,100),"..."):n.shortDescription,imageFile:M instanceof File?M:null,image:M?null:F,imageUrl:null,autoParserData:{...n.autoParserData,...q,title:v,description:E,imageUrl:M?null:F,estimatedTime:D?Et(D):""}};r(Ve),me.addNotification({type:"success",title:"Успех",message:"Цель успешно отредактирована"}),a()}catch(Ve){me.addNotification({type:"error",title:"Ошибка",message:Ve instanceof Error?Ve.message:"Не удалось отредактировать цель"})}finally{L(!1)}};return o("div",{className:u(),children:o(Tt,{isLoading:K,children:p("div",{className:d("content"),children:[o("div",{className:d("external-search-section"),children:o(Um,{onGoalSelected:de,className:d("external-search"),category:k!==null&&H.length>0?H[k].nameEn:N!==null?$[N].nameEn:void 0})}),p("div",{className:d("image-section"),children:[o("p",{className:d("field-title"),children:"Изображение цели *"}),!M&&!F?o("div",{className:d("dropzone"),onClick:De,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyDown:fe=>{(fe.key==="Enter"||fe.key===" ")&&(fe.preventDefault(),De())},children:o(as,{onDrop:fe=>fe&&Ne(fe),children:p("div",{className:d("upload-placeholder"),children:[o("input",{type:"file",ref:le,style:{display:"none"},onChange:Te,accept:"image/*"}),o(ie,{icon:"mount",className:d("upload-icon")}),o("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})}):p("div",{className:d("image-preview"),children:[F&&!M&&o("img",{src:F,alt:"Предпросмотр из источника",className:d("preview")}),M&&o("img",{src:M instanceof File?URL.createObjectURL(M):M,alt:"Предпросмотр",className:d("preview")}),o(z,{className:d("remove-image"),type:"button-close",onClick:()=>{R(null),U(null)}})]})]}),p("div",{className:d("form"),children:[p("div",{className:d("field-container"),children:[o(He,{placeholder:"Введите название цели",id:"goal-title",text:"Название цели *",value:v,setValue:rt,className:d("field"),required:!0,onFocus:pt,onBlur:be,maxLength:Tr,showCharCount:!0}),V&&p("div",{className:d("similar-goals"),children:[p("div",{className:d("similar-header"),children:[o("h3",{className:d("similar-title"),children:"Похожие цели"}),o("button",{type:"button",className:d("close-similar"),onClick:()=>Ae(!1),"aria-label":"Закрыть",children:o(ie,{icon:"cross"})})]}),o("p",{className:d("similar-desc"),children:"Найдены похожие цели. Нажмите на цель, чтобы заполнить форму её данными:"}),o("div",{className:d("similar-list"),children:ee.map(fe=>o(fw,{goal:fe,onSelect:ue},fe.id))})]})]}),o(qt,{className:d("field"),placeholder:"Выберите сложность",options:on,activeOption:w,onSelect:S,text:"Сложность *"}),o(He,{placeholder:"Опишите цель подробно",id:"goal-description",text:"Описание *",value:E,setValue:C,className:d("field"),type:"textarea",required:!0,rows:4}),p("div",{className:d("time-field-container"),children:[o(He,{placeholder:"Например: 5, 2:30, 3д5ч, 3д 5 ч, 3 дня, 5 часов",id:"goal-estimated-time",text:"Предполагаемое время выполнения",value:D,setValue:ot,className:d("field"),type:"text"}),o("small",{className:d("format-hint"),children:"Укажите время: просто число (часы), ЧЧ:ММ (02:30), комбинации (3д5ч, 3д 5ч), или словами (3 дня, 5 часов, 30 минут)"})]}),p("div",{className:d("date-field-container"),children:[o("p",{className:d("field-title"),children:"Планируемая дата реализации"}),o(Yi,{selected:A?new Date(A):null,onChange:fe=>{x(fe?ga(fe,"yyyy-MM-dd"):"")},className:d("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))}),o("small",{id:"date-format-hint",className:d("format-hint"),children:"Укажите планируемую дату достижения цели (не ранее завтрашнего дня)"})]}),p("div",{className:d("btns-wrapper"),children:[o(z,{theme:"blue-light",className:d("btn"),onClick:a,type:"button",children:"Отмена"}),o(z,{theme:"blue",className:d("btn"),onClick:We,type:"button",children:"Сохранить изменения"})]})]})]})})})},bH=({goal:e,index:t,onRemove:n,onEdit:r,onStartEdit:a,onCancelEdit:s,onConfirm:i,onReject:l,onReplaceFromSearch:c,onCloseReplacementSearch:u,isEditing:d=!1,isOtherEditing:f=!1,className:m,preloadedCategories:h,preloadedSubcategories:g,initialCategory:v})=>{var P,M,R,F;const[_,E]=J("goal-list-item",m),[C,w]=y.useState(null);y.useEffect(()=>{var U,$,H,K;if(d){const L=on.findIndex(q=>q.value===e.complexity),le={title:e.title,description:e.description,image:e.image,estimatedTime:e.estimatedTime,deadline:e.deadline,complexity:L!==-1?L:1,category:e.category};e.isFromAutoParser&&e.autoParserData?w({...le,external_id:((U=e.autoParserData)==null?void 0:U.external_id)||(($=e.autoParserData)==null?void 0:$.externalId),type:((H=e.autoParserData)==null?void 0:H.type)||((K=e.autoParserData)==null?void 0:K.externalType),...Object.fromEntries(Object.entries(e.autoParserData||{}).filter(([q])=>!["title","description","image","estimatedTime","deadline","complexity","category"].includes(q)))}):w(le)}},[d,e]);const S=()=>{var $;if(!e.isFromAutoParser||!e.autoParserData)return null;const{status:U}=e.autoParserData;switch(U){case"existing":return{color:"green",text:"Существующая цель",icon:"done"};case"external":return{color:"blue",text:"Найдена через ".concat(($=e.autoParserData.apiSource)==null?void 0:$.toUpperCase()),icon:"edit"};case"created":return{color:"orange",text:"Новая цель",icon:"plus"};case"error":return{color:"red",text:"Ошибка",icon:"info"};default:return{color:"gray",text:"Неизвестный статус",icon:"search"}}},N=()=>{var $;if(!e.isFromAutoParser||!(($=e.autoParserData)!=null&&$.confidence))return null;const U=Math.min(e.autoParserData.confidence*100,100);return U>=90?{color:"green",text:"Высокая"}:U>=70?{color:"orange",text:"Средняя"}:{color:"red",text:"Низкая"}},T=U=>{if(r){const $={title:U.title,description:U.description,image:U.image||U.imageUrl||U.imageFile,imageUrl:null,estimatedTime:U.estimatedTime,deadline:U.deadline,complexity:U.complexity,category:U.category,shortDescription:U.description?"".concat(U.description.substring(0,100),"..."):e.shortDescription,code:U.code,status:U.status,autoParserData:{...U.autoParserData,title:U.title,description:U.description,image:U.image||U.imageFile||U.imageUrl,estimatedTime:U.estimatedTime,deadline:U.deadline,complexity:U.complexity}};r(e.id,$)}},k=S(),I=N(),A=e.isFromAutoParser&&e.needsConfirmation&&!e.isConfirmed&&!e.isRejected,x=e.replacementSearch&&c,D=((P=e.autoParserData)==null?void 0:P.status)==="created"&&(!e.image||!e.description||e.description==="Цель: ".concat(e.title));return d&&C?p("div",{className:_({editing:!0}),children:[e.isFromAutoParser&&(k||I)&&p("div",{className:E("auto-header"),children:[k&&p("div",{className:E("status"),style:{color:k.color},children:[o(ie,{icon:k.icon,className:E("status-icon")}),o("span",{children:k.text})]}),I&&p("div",{className:E("confidence"),style:{color:I.color},children:[Math.round((((M=e.autoParserData)==null?void 0:M.confidence)||0)*100),"% (",I.text,")"]}),e.originalSearchText&&p("div",{className:E("search-text"),children:["Поиск: ",o("em",{children:e.originalSearchText})]})]}),o("div",{className:E("edit-form"),children:o(vH,{className:E("add-goal"),goal:e,onGoalEdited:T,onCancel:s||(()=>{}),initialCategory:v,preloadedCategories:h,preloadedSubcategories:g,autoParserData:C})})]}):p("div",{className:_({auto:e.isFromAutoParser,disabled:f&&!x,"needs-confirmation":A,"needs-edit":D,rejected:e.isRejected}),children:[e.isFromAutoParser&&(k||I)&&p("div",{className:E("auto-header"),children:[k&&p("div",{className:E("status"),style:{color:k.color},children:[o(ie,{icon:k.icon,className:E("status-icon")}),o("span",{children:k.text})]}),I&&p("div",{className:E("confidence"),style:{color:I.color},children:[Math.round((((R=e.autoParserData)==null?void 0:R.confidence)||0)*100),"% (",I.text,")"]}),e.originalSearchText&&p("div",{className:E("search-text"),children:["Поиск: ",o("em",{children:e.originalSearchText})]})]}),D&&o("div",{className:E("edit-warning"),children:o(os,{type:"warning",message:"Требуется редактирование: добавьте изображение и описание"})}),A&&p("div",{className:E("confirmation-buttons"),children:[p("div",{className:E("confirmation-message"),children:[o(ie,{icon:"search",className:E("question-icon")}),o("span",{children:"Это та цель, которую вы искали?"})]}),p("div",{className:E("confirmation-actions"),children:[o(z,{theme:"green",size:"small",onClick:()=>i==null?void 0:i(e.id),icon:"done",children:"Принять"}),o(z,{theme:"red",size:"small",onClick:()=>l==null?void 0:l(e.id),icon:"cross",children:"Отклонить"})]})]}),x&&p("div",{className:E("replacement-search"),children:[p("div",{className:E("replacement-header"),children:[p("h4",{children:["Поиск замены для: ",e.title]}),o(z,{theme:"blue-light",size:"small",onClick:()=>u==null?void 0:u(e.id),icon:"cross",children:"Закрыть"})]}),o(Um,{category:(F=e.category)==null?void 0:F.nameEn,onGoalSelected:U=>c==null?void 0:c(e.id,U),className:E("replacement-search-component"),initialQuery:e.originalSearchText})]}),p("div",{className:E("content"),children:[o("div",{className:E("image-container"),children:e.image instanceof File?o("img",{src:URL.createObjectURL(e.image),alt:e.title,className:E("image")}):e.image?o("img",{src:e.image,alt:e.title,className:E("image")}):e!=null&&e.imageUrl?o("img",{src:e==null?void 0:e.imageUrl,alt:e.title,className:E("image")}):o("div",{className:E("no-image"),children:o(ie,{icon:"mount"})})}),p("div",{className:E("info"),children:[o("h4",{className:E("title"),children:e.title}),o("p",{className:E("complexity"),children:hu[e.complexity]||e.complexity}),o("p",{className:E("description"),children:e.shortDescription})]})]}),p("div",{className:E("actions"),children:[(e.isFromAutoParser||D)&&a&&!f&&!x&&o("button",{type:"button",className:E("edit-btn"),onClick:()=>a(t),"aria-label":"Редактировать цель",title:"Редактировать цель",children:o(ie,{icon:"edit"})}),o("button",{type:"button",className:E("remove-btn"),onClick:()=>n(e.id),"aria-label":"Удалить цель",title:"Удалить цель",disabled:f,onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&n(e.id)},children:o(ie,{icon:"cross"})})]})]})};const hw=({goal:e,onAdd:t})=>{const[n,r]=J("goal-search-item");return p("div",{className:n(),children:[p("div",{className:r("content"),children:[o("div",{className:r("image-container"),children:e.image?o("img",{src:e.image,alt:e.title,className:r("image")}):o("div",{className:r("no-image"),children:o(ie,{icon:"mount"})})}),p("div",{className:r("info"),children:[o("h4",{className:r("title"),children:e.title}),o("p",{className:r("complexity"),children:e.complexity}),o("p",{className:r("description"),children:e.shortDescription})]})]}),o("button",{type:"button",className:r("add-btn"),onClick:()=>t(e),"aria-label":"Добавить цель",children:o(ie,{icon:"plus"})})]})};const nd=({className:e})=>{const[t]=J("scroll-to-top",e),[n,r]=y.useState(!1);y.useEffect(()=>{const s=()=>{const l=(window.pageYOffset||document.documentElement.scrollTop)>window.innerHeight*2;r(l)};return s(),window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]);const a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return o("button",{className:t({"fade-out":!n}),onClick:a,type:"button","aria-label":"Прокрутить наверх",children:o(ie,{icon:"arrow--left"})})};const af="addGoalList_cachedData",EH=e=>{const{className:t}=e,n=Zn(),r=Hi(),[a,s]=J("add-goal-list",t),[i,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(null),[m,h]=y.useState(null),[g,v]=y.useState(null),[_,E]=y.useState(null),[C,w]=y.useState([]),[S,N]=y.useState([]),[T,k]=y.useState(!1),[I,A]=y.useState(!1),[x,D]=y.useState(!1),P=y.useRef(null),M=y.useRef(null),[R,F]=y.useState([]),[U,$]=y.useState(""),[H,K]=y.useState([]),[,L]=y.useState(!1),[le,q]=y.useState(!1),[O,ee]=y.useState(""),[Q,oe]=y.useState(!1),[V,Ae]=y.useState(!1),[ne,Ce]=y.useState(""),[rt,ot]=y.useState(""),[Et,j]=y.useState(null),[pt,be]=y.useState(!1),ue=y.useMemo(()=>C.filter(he=>!he.parentCategory),[C]);y.useEffect(()=>{(()=>{try{const ge=localStorage.getItem(af);if(ge){const Be=JSON.parse(ge);l(Be.title),u(Be.description),f(Be.activeComplexity),h(Be.activeCategory),v(Be.activeSubcategory),F(Be.selectedGoals),Ce(Be.sourceName||""),ot(Be.sourceUrl||"")}}catch(ge){console.error("Ошибка при загрузке кешированных данных:",ge)}})()},[]),y.useEffect(()=>{if(!i&&!c&&d===null&&m===null&&R.length===0&&!ne&&!rt)return;(()=>{try{const ge={title:i,description:c,activeComplexity:d,activeCategory:m,activeSubcategory:g,selectedGoals:R,sourceName:ne,sourceUrl:rt};localStorage.setItem(af,JSON.stringify(ge))}catch(ge){console.error("Ошибка при кешировании данных:",ge)}})()},[i,c,d,m,g,R,ne,rt]),y.useEffect(()=>{q(m!==null)},[m]);const Ne=()=>{try{localStorage.removeItem(af)}catch(he){console.error("Ошибка при очистке кеша:",he)}},De=he=>{l(he)};y.useEffect(()=>{(async()=>{try{const ge=await zo();ge.success&&w(ge.data)}catch(ge){me.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[]),y.useEffect(()=>{if(m!==null&&ue.length>0&&ue[m]){const he=ue[m],ge=C.filter(Be=>Be.parentCategory&&Be.parentCategory.id===he.id);N(ge),v(null)}else N([]),v(null)},[m,ue.length]),y.useEffect(()=>{const ge=new URLSearchParams(r.search).get("category");if(ge&&ue.length>0){const Be=ue.findIndex(Lt=>Lt.nameEn===ge);Be!==-1&&h(Be)}},[r.search,ue.length]);const Te=y.useCallback(yl(async he=>{var ge;if(he.length<3){K([]),L(!1);return}try{const Be=await td(he);if(Be.success&&((ge=Be.data)!=null&&ge.results)){const Lt=Be.data.results.filter(Yt=>!R.some(St=>St.id===Yt.id));K(Lt)}}catch(Be){console.error("Ошибка при поиске целей:",Be)}finally{L(!1)}},500),[]);y.useEffect(()=>{U?(L(!0),Te(U)):K([])},[U,Te]);const de=y.useCallback(he=>{he&&he.length>0&&E(he[0])},[]),We=()=>{P.current&&P.current.click()},fe=he=>{he.target.files&&de(he.target.files)},Ve=()=>{E(null)},Qe=he=>{F(ge=>[...ge,he]),K(ge=>ge.filter(Be=>Be.id!==he.id)),$("")},re=he=>{F(ge=>ge.filter(Be=>Be.id!==he))},Y=he=>{F(ge=>[...ge,he]),A(!1),me.addNotification({type:"success",title:"Успех",message:"Цель успешно добавлена в список"})},Se=()=>R.some(he=>he.isFromAutoParser&&he.needsConfirmation&&!he.isConfirmed&&!he.isRejected),je=()=>R.some(he=>{var ge;return((ge=he.autoParserData)==null?void 0:ge.status)==="created"&&(!he.image||!he.description||he.description==="Цель: ".concat(he.title))}),pe=he=>{he.preventDefault(),he.stopPropagation()},lt=async he=>{if(he.preventDefault(),!i||!c||d===null||m===null||!_){me.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}if(R.length===0){me.addNotification({type:"error",title:"Ошибка",message:"Добавьте хотя бы одну цель в список"});return}if(Se()){me.addNotification({type:"error",title:"Внимание",message:"Есть цели, требующие подтверждения. Пожалуйста, подтвердите или отклоните их."});return}if(je()){me.addNotification({type:"error",title:"Внимание",message:"Есть новые цели, требующие редактирования. Пожалуйста, отредактируйте их."});return}k(!0);try{const ge=new FormData;ge.append("title",i),ge.append("description",c),d!==null&&ge.append("complexity",on[d].value),g!==null&&S[g]?ge.append("category",S[g].id.toString()):m!==null&&ge.append("category",ue[m].id.toString()),ge.append("image",_),ne.trim()&&ge.append("source_name",ne.trim()),rt.trim()&&ge.append("source_url",rt.trim());const Be=R.filter(St=>!St.isFromAutoParser),Lt=R.filter(St=>St.isFromAutoParser);if(Be.forEach(St=>{ge.append("goals[]",St.id.toString())}),Lt.length>0){const St=Lt.map(Dt=>{const zt={...Dt.autoParserData};return Dt.code&&(zt.goalCode=Dt.code),Dt.title&&(zt.title=Dt.title),Dt.description&&(zt.description=Dt.description),Dt.image&&(typeof Dt.image=="string"?zt.imageUrl=Dt.image:(ge.append("goal_image_".concat(Dt.id),Dt.image),zt.imageField="goal_image_".concat(Dt.id))),Dt.estimatedTime&&(zt.estimatedTime=Dt.estimatedTime),Dt.deadline&&(zt.deadline=Dt.deadline),Dt.complexity&&(zt.complexity=Dt.complexity),Dt.image||(zt.imageUrl=null,"imageField"in zt&&delete zt.imageField),zt});ge.append("goals_data",JSON.stringify(St))}const Yt=await yH(ge);if(Yt.success)Ne(),me.addNotification({type:"success",title:"Успех",message:"Список целей успешно создан"}),n("/list/".concat(Yt.data.code));else throw new Error(Yt.error||"Неизвестная ошибка")}catch(ge){me.addNotification({type:"error",title:"Ошибка",message:ge instanceof Error?ge.message:"Не удалось создать список целей"})}finally{k(!1)}};y.useEffect(()=>{I&&M.current&&M.current.scrollIntoView({behavior:"smooth",block:"start"})},[I]);const Ke=()=>{var he,ge;if(m!==null)return typeof g=="number"?(he=S[g])==null?void 0:he.id:(ge=ue[m])==null?void 0:ge.id},ut=(he,ge=5)=>{const Be=he.split("\n").filter(Yt=>Yt.trim()),Lt=[];for(let Yt=0;Yt<Be.length;Yt+=ge)Lt.push(Be.slice(Yt,Yt+ge).join("\n"));return Lt},$e=async(he,ge)=>{try{return await yN("goal-lists/parse-text",{body:{text:he,category_id:ge,prioritize_existing:!0},showSuccessNotification:!1,showErrorNotification:!1,auth:!0})}catch(Be){throw console.error("Error processing chunk:",Be),Be}},Ht=async()=>{if(!O.trim()){me.addNotification({type:"warning",title:"Внимание",message:"Введите текст для анализа"});return}const he=Ke();if(!he){me.addNotification({type:"error",title:"Ошибка",message:"Выберите категорию для автоматического поиска"});return}oe(!0);const ge=ut(O);let Be=[];try{await(async()=>{await ge.reduce(async(St,Dt,zt)=>{await St;const tr=await $e(Dt,he.toString());if(tr.success&&tr.data.goals){const xe=tr.data.goals.filter(Xe=>{const et={...Xe};return et.matchPercentage>100&&(et.matchPercentage=100),!R.some(qe=>qe.id===et.goalCode||qe.title.toLowerCase()===et.title.toLowerCase())});Be=[...Be,...xe]}const te=Math.round((zt+1)/ge.length*100);me.addNotification({type:"success",title:"Прогресс",message:"Обработано ".concat(te,"% текста...")})},Promise.resolve())})();const Yt=Be.map(St=>{var te;const zt=(St.confidence||0)<.97;return{id:St.goalCode||"temp_".concat(Date.now(),"_").concat(Math.random()),title:St.title,description:St.description,image:St.imageUrl,estimatedTime:St.estimatedTime||"",deadline:St.deadline||"",shortDescription:"".concat((te=St.description)==null?void 0:te.substring(0,100),"..."),complexity:d!==null?on[d].value:"medium",category:g!==null?S[g]:ue[m],isFromAutoParser:!0,originalSearchText:St.searchText,autoParserData:St,needsConfirmation:zt,isConfirmed:!zt,isRejected:!1,replacementSearch:!1,code:St.goalCode||"temp_".concat(Date.now(),"_").concat(Math.random()),additional:St.additional||{}}});F(St=>[...St,...Yt]),ee(""),me.addNotification({type:"success",title:"Готово!",message:"Добавлено ".concat(Yt.length," целей. ").concat(Be.length!==Yt.length?"Дубликаты пропущены.":"")})}catch(Lt){console.error("Error parsing text:",Lt),me.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при анализе текста"})}finally{oe(!1)}},Ot=()=>{j(null)},yn=(he,ge)=>{F(Be=>Be.map(Yt=>Yt.id===he?{...Yt,...ge}:Yt))},kt=()=>{F([]),me.addNotification({type:"success",title:"Готово",message:"Все выбранные цели удалены"})},Bn=he=>{F(ge=>ge.map(Be=>Be.id===he?{...Be,isConfirmed:!0,needsConfirmation:!1,replacementSearch:!1}:Be))},hr=he=>{F(ge=>ge.map(Be=>Be.id===he?{...Be,isRejected:!0,replacementSearch:!0}:Be))},Vn=he=>{const ge=R.find(Be=>Be.id===he);ge&&ge.isRejected&&!ge.isConfirmed?(F(Be=>Be.filter(Lt=>Lt.id!==he)),me.addNotification({type:"warning",title:"Цель удалена",message:"Отклоненная цель была удалена из списка."})):F(Be=>Be.map(Lt=>Lt.id===he?{...Lt,replacementSearch:!1}:Lt))},ht=(he,ge)=>{F(Be=>{const Lt=Be.findIndex(zt=>zt.id===he);if(Lt===-1)return Be;const Yt=Be[Lt];if(ge.isExistingGoal){const zt={...ge,id:ge.id||ge.external_id,isFromAutoParser:!1,originalSearchText:void 0,autoParserData:void 0,isConfirmed:!0,needsConfirmation:!1,replacementSearch:!1,isRejected:!1,code:ge.code||ge.id||ge.external_id,additional:ge.additional||{},shortDescription:ge.description?"".concat(ge.description.substring(0,100),"..."):ge.title},tr=[...Be];return tr[Lt]=zt,tr}const St={...ge,id:ge.id||"temp_".concat(Date.now(),"_").concat(Math.random()),isFromAutoParser:!0,originalSearchText:Yt.originalSearchText,autoParserData:{...ge,confidence:1,status:ge.source,apiSource:ge.externalType},isConfirmed:!0,needsConfirmation:!1,replacementSearch:!1,isRejected:!1,additional:ge.additional||{}},Dt=[...Be];return Dt[Lt]=St,Dt})},Ft=()=>pt?R.filter(he=>{var ge;return!!(he.needsConfirmation&&!he.isConfirmed||((ge=he.autoParserData)==null?void 0:ge.status)==="created"&&(!he.image||!he.description||he.description==="Цель: ".concat(he.title)))}):R;return p("form",{className:a(),onSubmit:lt,children:[p("div",{className:s("container"),children:[p("div",{className:s("wrapper-title"),children:[o(ke,{tag:"h1",className:s("title"),children:"Создание списка целей"}),o(z,{size:"small",type:"Link",theme:"blue",icon:"plus",href:"/goals/create",children:"Добавить цель"})]}),p("div",{className:s("content"),children:[p("div",{className:s("image-section"),children:[o("p",{className:s("field-title"),children:"Изображение списка *"}),_?p("div",{className:s("image-preview"),children:[o("img",{src:URL.createObjectURL(_),alt:"Предпросмотр",className:s("preview")}),o(z,{withBorder:!0,className:s("remove-image"),type:"button-close",onClick:Ve})]}):o("div",{className:s("dropzone"),onClick:We,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyDown:he=>{(he.key==="Enter"||he.key===" ")&&(he.preventDefault(),We())},children:o(as,{onDrop:he=>he&&de(he),children:p("div",{className:s("upload-placeholder"),children:[o("input",{type:"file",ref:P,style:{display:"none"},onChange:fe,accept:"image/*"}),o(ie,{icon:"mount",className:s("upload-icon")}),o("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})})]}),p("div",{className:s("form"),children:[o("div",{className:s("field-wrapper"),children:o(He,{placeholder:"Введите название списка целей",id:"goal-list-title",text:"Название списка *",value:i,setValue:De,className:s("field"),required:!0})}),o(qt,{className:s("field"),placeholder:"Выберите категорию",options:ue.map(he=>({name:he.name,value:he.nameEn})),activeOption:m,onSelect:h,text:"Категория *"}),m!==null&&S.length>0&&o(qt,{className:s("field"),placeholder:"Выберите подкатегорию (необязательно)",options:S.map(he=>({name:he.name,value:he.nameEn})),activeOption:g,onSelect:v,text:"Подкатегория"}),o(qt,{className:s("field"),placeholder:"Выберите сложность",options:on,activeOption:d,onSelect:f,text:"Сложность *"}),o(He,{placeholder:"Опишите список целей подробно",id:"goal-list-description",text:"Описание *",value:c,setValue:u,className:s("field"),type:"textarea",required:!0,rows:4}),p("div",{className:s("source-section"),children:[o("h3",{className:s("source-title"),children:"Источник списка (необязательно)"}),p("div",{className:s("source-fields"),children:[o(He,{placeholder:"Например: 100 лучших книг по версии BBC",id:"goal-list-source-name",text:"Название источника",value:ne,setValue:Ce,className:s("field")}),o(He,{placeholder:"https://example.com/list",id:"goal-list-source-url",text:"Ссылка на источник",value:rt,setValue:ot,className:s("field")})]})]}),p("div",{className:s("goals-section"),children:[o(ke,{tag:"h2",className:s("subtitle"),children:"Добавление целей в список"}),p("div",{className:s("search-container"),children:[o(He,{placeholder:"Поиск существующих целей",id:"goal-search",text:"Поиск целей",value:U,setValue:$,className:s("search-field"),iconBegin:"search"}),H.length>0&&o("div",{className:s("search-results"),children:H.map(he=>o(hw,{goal:he,onAdd:Qe},he.id))})]}),p("div",{className:s("auto-add-section"),children:[p("div",{className:s("auto-add-header"),children:[o("h3",{className:s("auto-add-title"),children:"Автоматическое добавление из списка"}),o(z,{theme:"blue-light",size:"small",onClick:()=>Ae(!V),className:s("auto-toggle-btn"),icon:"edit",children:V?"Скрыть":"Показать"})]}),V&&p("div",{className:s("auto-add-content"),children:[o("div",{className:s("auto-info"),children:o(os,{type:"info",message:"Вставьте список целей (книги, фильмы, игры) — система автоматически найдет соответствия и добавит их к уже выбранным целям."})}),m!==null&&o("div",{className:s("error-info"),children:o(os,{type:"warning",message:"Для автоматического добавления целей из списка необходимо выбрать категорию списка."})}),o(He,{id:"auto-goals-text",type:"textarea",text:"Список целей",value:O,setValue:ee,placeholder:["Пример:","1. Властелин колец, Дж. Р. Р. Толкин","2. Гарри Поттер, Дж. К. Роулинг","3. 1984, Джордж Оруэлл","","Или просто:","Властелин колец","Гарри Поттер","1984"].join("\n"),className:s("auto-textarea")}),o(z,{theme:"blue-light",onClick:Ht,disabled:Q||!O.trim()||m===null,className:s("auto-parse-btn"),icon:"plus",children:Q?"Обработка...":"Добавить цели из списка"})]})]}),p("div",{className:s("selected-goals"),children:[p("div",{className:s("selected-goals-header"),children:[p("h3",{className:s("section-title"),children:["Выбранные цели (",R.length,")"]}),p("div",{className:s("goals-controls"),children:[R.some(he=>he.isFromAutoParser)&&o(wn,{id:"hide-confirmed",text:"Скрыть подтвержденные",checked:pt,setChecked:be,className:s("hide-checkbox")}),o(z,{theme:"blue-light",className:s("clear-btn"),onClick:()=>D(!0),size:"small",children:"Очистить все цели"})]})]}),R.length>0?o("div",{className:s("goals-list"),children:Ft().map((he,ge)=>o(y.Fragment,{children:o(bH,{goal:he,index:ge,onRemove:re,onEdit:yn,onStartEdit:j,onCancelEdit:Ot,onConfirm:Bn,onReject:hr,onReplaceFromSearch:ht,onCloseReplacementSearch:Vn,isEditing:Et===ge,isOtherEditing:Et!==null&&Et!==he.id,initialCategory:g!==null?S[g]:ue[m],preloadedCategories:C,preloadedSubcategories:S})},"".concat(he==null?void 0:he.originalSearchText,"-").concat(he==null?void 0:he.id)))}):o("div",{className:s("empty-message"),children:"Вы еще не добавили ни одной цели. Воспользуйтесь поиском или создайте новую цель."})]}),o("div",{className:s("add-new-goal"),children:I?p("div",{className:s("new-goal-form"),ref:M,children:[o(ke,{tag:"h3",className:s("form-title"),children:"Создание новой цели"}),o("div",{className:s("embedded-add-goal-wrapper"),children:o(Hm,{className:s("embedded-add-goal"),onGoalCreated:Y,hideNavigation:!0,noForm:!0,onSubmitForm:pe,initialCategory:g!==null?S[g]:ue[m],lockCategory:!0,preloadedCategories:C})}),o("div",{className:s("form-buttons"),children:o(z,{theme:"blue-light",className:s("cancel-btn"),onClick:()=>A(!1),type:"button",children:"Отмена"})})]}):o(z,{theme:"blue-light",className:s("add-goal-btn"),onClick:()=>{le?(Ot(),A(!0)):me.addNotification({type:"warning",title:"Внимание",message:"Для создания цели необходимо сначала выбрать категорию списка"})},type:"button",icon:"plus",children:"Создать новую цель"})})]}),p("div",{className:s("btns-wrapper"),children:[o(z,{theme:"blue-light",className:s("btn"),onClick:()=>n(-1),type:"button",children:"Отмена"}),o(z,{theme:"blue",className:s("btn"),typeBtn:"submit",children:T?"Создание...":"Создать список целей"})]})]})]})]}),o(nd,{}),o(Rr,{title:"Очистить список целей?",isOpen:x,onClose:()=>D(!1),handleBtn:kt,textBtn:"Очистить список целей",text:"Вы уверены, что хотите очистить этот список целей?",themeBtn:"blue"})]})},_H=({page:e})=>{const{setPage:t,setHeader:n,setFull:r}=yt;return y.useEffect(()=>{t(e),n("white"),r(!1)},[e,t,n,r]),o(EH,{})},mw=async e=>{try{return await Ue("timer/".concat(e,"/get"),{auth:!0,showSuccessNotification:!1,showErrorNotification:!1})}catch(t){return console.error("Error getting goal timer:",t),{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка при получении таймера"}}},wH=async(e=!0)=>{try{return await Ue("timers",{auth:!0,get:{include_expired:e.toString()},showSuccessNotification:!1,showErrorNotification:!1})}catch(t){return console.error("Error getting user timers:",t),{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка при получении таймеров"}}},CH=async(e,t)=>{const n={goal_code:e,frequency:t.frequency,duration_type:t.durationType,allow_skip_days:t.allowSkipDays,days_for_earned_skip:0,reset_on_skip:t.resetOnSkip};let r;if(t.frequency==="daily")if(t.durationType==="days"||t.durationType==="weeks"){if(t.durationValue===void 0)throw new Error("durationValue is required when durationType is days or weeks");r={...n,duration_value:t.durationValue}}else if(t.durationType==="until_date"){if(!t.endDate)throw new Error("endDate is required when durationType is until_date");r={...n,end_date:t.endDate}}else r=n;else if(t.frequency==="weekly"){if(t.weeklyFrequency===void 0)throw new Error("weeklyFrequency is required when frequency is weekly");if(t.durationType==="days"||t.durationType==="weeks"){if(t.durationValue===void 0)throw new Error("durationValue is required when durationType is days or weeks");r={...n,weekly_frequency:t.weeklyFrequency,duration_value:t.durationValue}}else if(t.durationType==="until_date"){if(!t.endDate)throw new Error("endDate is required when durationType is until_date");r={...n,weekly_frequency:t.weeklyFrequency,end_date:t.endDate}}else r={...n,weekly_frequency:t.weeklyFrequency}}else{if(!t.customSchedule||Object.keys(t.customSchedule).length===0)throw new Error("customSchedule is required when frequency is custom");if(t.durationType==="days"||t.durationType==="weeks"){if(t.durationValue===void 0)throw new Error("durationValue is required when durationType is days or weeks");r={...n,custom_schedule:t.customSchedule,duration_value:t.durationValue}}else if(t.durationType==="until_date"){if(!t.endDate)throw new Error("endDate is required when durationType is until_date");r={...n,custom_schedule:t.customSchedule,end_date:t.endDate}}else r={...n,custom_schedule:t.customSchedule}}const a=await cr("goals/".concat(e,"/update-regular-settings"),{auth:!0,body:r});return{success:a.success||!1,data:a.data,error:a.errors||a.error||void 0,message:a.message||void 0}},TH=async e=>{try{const t=await Xn("timer/".concat(e,"/delete/"),{auth:!0,showSuccessNotification:!1,showErrorNotification:!1});return t.success?{success:!0,message:t.data.message||"Срок выполнения удален"}:{success:!1,message:t.errors||"Не удалось удалить срок выполнения"}}catch(t){return console.error("Error deleting goal timer:",t),{success:!1,message:"Произошла ошибка при удалении срока выполнения"}}},SH=async(e,t)=>{var n;try{const r=t.includes("T")?t.split("T")[0]:t,a=await cr("timer/".concat(e,"/"),{auth:!0,body:{deadline:r},showSuccessNotification:!1,showErrorNotification:!1});if(a.success&&((n=a.data)!=null&&n.timer)){const s=a.data.timer;return{success:!0,timer:{...s,goal:{code:e,title:s.goal_title||"",image:s.goal_image}},message:a.data.message||"Срок успешно установлен"}}return{success:!1,message:a.errors||"Не удалось установить срок выполнения"}}catch(r){return console.error("Error setting goal timer:",r),{success:!1,message:"Произошла ошибка при установке срока выполнения"}}};const NH=({goalCode:e,timer:t,onTimerUpdate:n})=>{const[r,a]=y.useState(!1),[s,i]=y.useState(t!=null&&t.deadline?uo(t.deadline):null),[l,c]=y.useState(t||null),[u,d]=y.useState(null),[f,m]=y.useState(!1),[h,g]=J("goal-timer"),v=async()=>{var T;m(!0);try{const k=await mw(e);k.success&&((T=k.data)!=null&&T.timer)&&(c(k.data.timer),i(uo(k.data.timer.deadline)))}catch(k){d("Не удалось получить информацию о сроке выполнения")}finally{m(!1)}};y.useEffect(()=>{t||v()},[t,e]);const _=T=>ga(uo(T),"d MMMM yyyy",{locale:Uh}),E=async()=>{if(!s){d("Пожалуйста, выберите дату");return}m(!0),d(null);try{const T=ga(s,"yyyy-MM-dd"),k=await SH(e,T);k.success&&k.timer?(c(k.timer),n&&n(k.timer),a(!1),me.addNotification({type:"success",title:"Успех",message:k.message||"Срок выполнения установлен"})):d(k.message||"Не удалось установить срок выполнения")}catch(T){d("Произошла ошибка при установке срока выполнения")}finally{m(!1)}},C=async()=>{m(!0);try{const T=await TH(e);T.success?(c(null),i(null),n&&n(null),me.addNotification({type:"success",title:"Успех",message:T.message||"Срок выполнения удален"})):d(T.message||"Не удалось удалить срок выполнения")}catch(T){d("Произошла ошибка при удалении срока выполнения")}finally{m(!1)}},w=()=>{a(!1),d(null),l!=null&&l.deadline?i(uo(l.deadline)):i(null)},S=()=>f?o(z,{onClick:()=>{},theme:"blue",className:g("save-button"),children:"Сохранение..."}):o(z,{onClick:E,theme:"blue",className:g("save-button"),children:"Сохранить"}),N=()=>f?o(z,{onClick:()=>{},theme:"red",className:g("delete-button"),children:"Удаление..."}):o(z,{onClick:C,theme:"red",className:g("delete-button"),children:"Удалить"});return p("div",{className:h(),children:[u&&o("div",{className:g("error"),children:u}),r?p("div",{className:g("setup"),children:[o("div",{className:g("date-picker"),children:o(Yi,{className:g("date-input"),placeholderText:"ДД.ММ.ГГГГ",selected:s,onChange:i,minDate:new Date(new Date().setDate(new Date().getDate()+1))})}),p("div",{className:g("actions"),children:[S(),o(z,{onClick:f?()=>{}:w,theme:"blue-light",className:g("cancel-button"),children:"Отмена"})]})]}):o("div",{className:g("display"),children:l!=null&&l.deadline?p("div",{className:g("info"),children:[p("div",{className:g("deadline"),children:[o("span",{className:g("label"),children:"Срок выполнения:"}),o("span",{className:g("date"),children:_(l.deadline)}),l.daysLeft!==void 0&&o("span",{className:g("days-left",{expired:l.isExpired}),children:l.isExpired?"Срок истек":"".concat(ct(l.daysLeft,["Остался","Осталось","Осталось"],!1),": ").concat(ct(l.daysLeft,["день","дня","дней"]))})]}),p("div",{className:g("actions"),children:[o(z,{onClick:f?()=>{}:()=>a(!0),theme:"blue-light",className:g("edit-button"),children:"Изменить"}),N()]})]}):o(z,{onClick:f?()=>{}:()=>a(!0),theme:"blue-light",className:g("set-button"),icon:"stopwatch",children:"Установить срок"})})]})};const pw=e=>{var jr,Ta,El,_l,Vm,qm,jm,Km;const{className:t,title:n,image:r,added:a,updateGoal:s,code:i,done:l,isList:c,openAddReview:u,editGoal:d,canEdit:f,location:m,goalId:h,userFolders:g,regularConfig:v,list:_,onGoalCompleted:E,onHistoryRefresh:C,page:w}=e,S=c?void 0:e.onGoalUpdate,[N,T]=y.useState(null),[k,I]=y.useState(null),[A,x]=y.useState(l),[D,P]=y.useState(!1),[M,R]=y.useState(!1),[F,U]=y.useState(a),[$,H]=y.useState((v==null?void 0:v.statistics)||null);y.useEffect(()=>{v!=null&&v.statistics&&H(v.statistics)},[v==null?void 0:v.statistics]);const[K,L]=y.useState(!1),[le,q]=y.useState(!1),[O,ee]=y.useState(!1),[Q,oe]=y.useState(!1),[V,Ae]=y.useState(null),[ne,Ce]=y.useState(!1),[rt,ot]=y.useState(!1),[Et,j]=J("aside-goal",t);y.useEffect(()=>{x(l)},[l]),y.useEffect(()=>{U(a)},[a]),y.useEffect(()=>{v!=null&&v.statistics&&H(v.statistics)},[v==null?void 0:v.statistics]),y.useEffect(()=>{!a&&v&&(H(null),P(!1))},[a,v]),y.useEffect(()=>{var ae;if(!a||!v){H(null),P(!1);return}if(v.statistics){const se={...v.statistics};if(se.currentPeriodProgress){const Ee={...se.currentPeriodProgress};Ee.weekDays&&Array.isArray(Ee.weekDays)&&(Ee.weekDays=Ee.weekDays.map(Oe=>({...Oe}))),se.currentPeriodProgress=Ee}se.regularGoalData&&(se.regularGoalData={...se.regularGoalData}),H(se),((ae=se.currentPeriodProgress)==null?void 0:ae.type)==="daily"?P(se.currentPeriodProgress.completedToday||!1):(v.frequency==="custom"||v.frequency==="weekly")&&P(!se.canCompleteToday)}else H(null),P(!1)},[v,a]);const{setIsOpen:pt,setWindow:be,setFuncModal:ue,setModalProps:Ne}=cn,{isAuth:De}=Rt,{isScreenMobile:Te,isScreenSmallTablet:de}=Vr();y.useEffect(()=>{(async()=>{var se;if(F&&!c){const Ee=await mw(i);Ee.success&&((se=Ee.data)!=null&&se.timer)?T(Ee.data.timer):T(null)}})()},[i,F,c]),y.useEffect(()=>{(async()=>{if(F&&!c&&h)try{const se=await PN(h);se.success&&se.data&&I(se.data)}catch(se){console.error("Ошибка загрузки прогресса:",se)}})()},[F,c,h]);const We=ae=>{T(ae)},fe=()=>{cn.setWindow("random-goal-picker"),cn.setModalProps({goals:_}),cn.setIsOpen(!0)},Ve=()=>{q(!0)},Qe=async ae=>{var se,Ee;if(!(!v||!F))try{const Oe={...ae,allowSkipDays:(se=ae.allowSkipDays)!=null?se:0,daysForEarnedSkip:(Ee=ae.daysForEarnedSkip)!=null?Ee:0},Pe=await CH(i,Oe);if(Pe.success&&Pe.data)me.addNotification({type:"success",title:"Успех",message:Pe.message||"Настройки успешно обновлены"}),ee(!1),Pe.data.statistics&&H(Pe.data.statistics),S?S(Pe.data.goal):console.warn("AsideGoal: onGoalUpdate is not provided, cannot update goal"),C&&C();else throw new Error(Pe.error||"Не удалось обновить настройки")}catch(Oe){me.addNotification({type:"error",title:"Ошибка",message:Oe instanceof Error?Oe.message:"Не удалось обновить настройки"})}},Y=(()=>{var se;if(!v)return null;const ae=$||v.statistics;if(ae!=null&&ae.currentPeriodProgress){const Ee=ae.currentPeriodProgress;if(Ee.type==="daily"){const Oe=$?Ee.completedToday||!1:D||Ee.completedToday||!1;return{text:Oe?"Выполнено сегодня":"Не выполнено сегодня",completed:Oe,streak:ae.currentStreak||0}}if(Ee.type==="weekly")return{text:"".concat(Ee.currentWeekCompletions||0," из ").concat(Ee.requiredPerWeek||1," на этой неделе"),progress:Ee.weekProgress||0}}if(v.frequency==="daily"){const Ee=$?((se=$.currentPeriodProgress)==null?void 0:se.completedToday)||!1:D;return{text:Ee?"Выполнено сегодня":"Не выполнено сегодня",completed:Ee,streak:(ae==null?void 0:ae.currentStreak)||0}}if(v.frequency==="weekly")return{text:"".concat((ae==null?void 0:ae.currentWeekCompletions)||0," из ").concat(v.weeklyFrequency||1," на этой неделе"),progress:0};if(v.frequency==="custom"&&(ae!=null&&ae.currentPeriodProgress)){const Ee=ae.currentPeriodProgress;if(Ee.type==="weekly")return{text:"".concat(Ee.currentWeekCompletions||0," из ").concat(Ee.requiredPerWeek||1," на этой неделе"),progress:Ee.weekProgress||0}}return v.frequency==="custom"?{text:"0 на этой неделе",progress:0}:null})(),Se=(()=>{var Pe;if(!v||!F||v.frequency!=="custom")return!1;const ae=$||v.statistics,se=(Pe=ae==null?void 0:ae.currentPeriodProgress)==null?void 0:Pe.weekDays;if(!Array.isArray(se)||se.length===0)return!1;const Ee=(new Date().getDay()+6)%7,Oe=se.find(Le=>(Le==null?void 0:Le.dayIndex)===Ee);return(Oe==null?void 0:Oe.isAllowed)===!1})(),je=async()=>{var Oe,Pe;if(!v||!F)return;const ae=$||v.statistics;if(ae!=null&&ae.isSeriesCompleted){Ve();return}let se=!1;((Oe=ae==null?void 0:ae.currentPeriodProgress)==null?void 0:Oe.type)==="daily"?se=ae.currentPeriodProgress.completedToday||!1:v.frequency==="custom"||v.frequency==="weekly"?se=!(ae!=null&&ae.canCompleteToday)||!1:se=D||(Y==null?void 0:Y.completed)||!1;const Ee=!se;try{const Le=await Ph({regular_goal_id:v.id,completed:Ee,notes:""});if(Le.success&&Le.data){const Zt=(Le.data.data||Le.data).statistics;if(Zt){const Dn={...Zt};if(Dn.currentPeriodProgress){const nr={...Dn.currentPeriodProgress};nr.weekDays&&Array.isArray(nr.weekDays)&&(nr.weekDays=nr.weekDays.map(wl=>({...wl}))),Dn.currentPeriodProgress=nr}if(Dn.regularGoalData&&(Dn.regularGoalData={...Dn.regularGoalData}),H(Dn),((Pe=Dn.currentPeriodProgress)==null?void 0:Pe.type)==="daily"){const nr=Dn.currentPeriodProgress.completedToday||!1;P(nr)}else if(v.frequency==="custom"||v.frequency==="weekly"){const nr=Dn.canCompleteToday||!1;P(!nr)}}else P(Ee);E&&(Zt!=null&&Zt.isSeriesCompleted)&&E(),Zt!=null&&Zt.isSeriesCompleted&&w==="isGoalHistory"&&C&&C()}}catch(Le){console.error("Ошибка отметки регулярной цели:",Le),me.addNotification({type:"error",title:"Ошибка",message:Le instanceof Error?Le.message:"Не удалось обновить выполнение цели"})}},pe=()=>{!v||!F||L(!0)},lt=ae=>{if(!v||!F)return;($==null?void 0:$.startDate)&&$.currentStreak>0?(Ae(ae),ee(!1),oe(!0)):Qe(ae)},Ke=async()=>{V&&(oe(!1),await Qe(V),Ae(null))},ut=async ae=>{var se,Ee;if(v){R(!0);try{const Oe={...ae,allowSkipDays:(se=ae.allowSkipDays)!=null?se:0,daysForEarnedSkip:(Ee=ae.daysForEarnedSkip)!=null?Ee:0},Pe=await Fm(i,Oe);if(Pe.success)U(!0),Ce(!1),me.addNotification({type:"success",title:"Успех",message:"Регулярная цель успешно добавлена с вашими настройками!"});else throw new Error(Pe.error||"Ошибка при добавлении регулярной цели")}catch(Oe){me.addNotification({type:"error",title:"Ошибка",message:Oe instanceof Error?Oe.message:"Не удалось добавить регулярную цель"})}finally{R(!1)}}},$e=async ae=>{var se;if(!(!v||!F))try{const Ee=await WN(v.id,ae!=null?ae:!1);if(Ee.success&&Ee.data){const Oe=Ee.data.data||Ee.data,Pe=Oe.statistics||Oe;if(Pe){const Le={...Pe};if(Le.currentPeriodProgress){const Ct={...Le.currentPeriodProgress};Ct.weekDays&&Array.isArray(Ct.weekDays)&&(Ct.weekDays=Ct.weekDays.map(Zt=>({...Zt}))),Le.currentPeriodProgress=Ct}if(Le.regularGoalData&&(Le.regularGoalData={...Le.regularGoalData}),H(Le),((se=Le.currentPeriodProgress)==null?void 0:se.type)==="daily"){const Ct=Le.currentPeriodProgress.completedToday||!1;P(Ct)}else if(v.frequency==="custom"||v.frequency==="weekly"){const Ct=Le.canCompleteToday||!1;P(!Ct)}else P(!1)}else P(!1);me.addNotification({type:"success",title:"Успех",message:Oe.message||"Серия прервана"}),E&&E(),w==="isGoalHistory"&&C&&C()}else throw new Error(Ee.error||"Ошибка при прерывании серии")}catch(Ee){throw me.addNotification({type:"error",title:"Ошибка",message:Ee instanceof Error?Ee.message:"Не удалось прервать серию"}),Ee}},Ht=async()=>{var ae;if(!(!v||!F))try{const se=await VN(v.id);if(se.success&&se.data){const Ee=se.data.data||se.data,Oe=Ee.statistics||Ee;if(Oe){const Pe={...Oe};if(Pe.currentPeriodProgress){const Le={...Pe.currentPeriodProgress};Le.weekDays&&Array.isArray(Le.weekDays)&&(Le.weekDays=Le.weekDays.map(Ct=>({...Ct}))),Pe.currentPeriodProgress=Le}Pe.regularGoalData&&(Pe.regularGoalData={...Pe.regularGoalData}),H(Pe),((ae=Pe.currentPeriodProgress)==null?void 0:ae.type)==="daily"?P(Pe.currentPeriodProgress.completedToday||!1):P(!1)}else P(!1);me.addNotification({type:"success",title:"Успех",message:Ee.message||"Выполнение серии отменено"}),E&&E(),w==="isGoalHistory"&&C&&C()}else throw new Error(se.error||"Ошибка при отмене выполнения серии")}catch(se){throw me.addNotification({type:"error",title:"Ошибка",message:se instanceof Error?se.message:"Не удалось отменить выполнение серии"}),se}},Ot=async()=>{var ae;if(!(!v||!F))try{const se=await qN(v.id);if(se.success&&se.data){const Ee=se.data.data||se.data,Oe=Ee.statistics||Ee;if(Oe){const Pe={...Oe};if(Pe.currentPeriodProgress){const Le={...Pe.currentPeriodProgress};Le.weekDays&&Array.isArray(Le.weekDays)&&(Le.weekDays=Le.weekDays.map(Ct=>({...Ct}))),Pe.currentPeriodProgress=Le}Pe.regularGoalData&&(Pe.regularGoalData={...Pe.regularGoalData}),H(Pe),((ae=Pe.currentPeriodProgress)==null?void 0:ae.type)==="daily"?P(Pe.currentPeriodProgress.completedToday||!1):P(!1)}else P(!1);me.addNotification({type:"success",title:"Успех",message:Ee.message||"Начата новая серия"}),E&&E(),w==="isGoalHistory"&&C&&C()}else throw new Error(se.error||"Ошибка при начале новой серии")}catch(se){me.addNotification({type:"error",title:"Ошибка",message:se instanceof Error?se.message:"Не удалось начать новую серию"})}},yn=async()=>{var ae;if(!(!v||!F))try{const se=await sb(v.id);if(se.success&&se.data){const Ee=se.data.data||se.data,Oe=Ee.statistics||Ee;if(Oe){const Pe={...Oe};if(Pe.currentPeriodProgress){const Le={...Pe.currentPeriodProgress};Le.weekDays&&Array.isArray(Le.weekDays)&&(Le.weekDays=Le.weekDays.map(Ct=>({...Ct}))),Pe.currentPeriodProgress=Le}if(Pe.regularGoalData&&(Pe.regularGoalData={...Pe.regularGoalData}),H(Pe),((ae=Pe.currentPeriodProgress)==null?void 0:ae.type)==="daily"){const Le=Pe.currentPeriodProgress.completedToday||!1;P(Le)}else if(v.frequency==="custom"||v.frequency==="weekly"){const Le=Pe.canCompleteToday||!1;P(!Le)}else P(!1)}else P(!1);me.addNotification({type:"success",title:"Успех",message:Ee.message||"Прогресс полностью сброшен. Можно начать заново."}),E&&E(),w==="isGoalHistory"&&C&&C()}else throw new Error(se.error||"Ошибка при сбросе прогресса")}catch(se){me.addNotification({type:"error",title:"Ошибка",message:se instanceof Error?se.message:"Не удалось сбросить прогресс"})}},kt=ae=>{const se=ae!=null?ae:k;!c&&h&&se&&(be("progress-update"),pt(!0),Ne({goalId:h,goalTitle:n,currentProgress:se,onProgressUpdate:Ee=>{I(Ee),Ee.progressPercentage>=100&&x(!0),w==="isGoalProgressHistory"&&C&&C()},onGoalCompleted:()=>{x(!0),E&&E()}}))},Bn=async()=>{if(!(c||!h||!F||v))if(k)kt();else try{const ae=await ON(h,{progress_percentage:0,daily_notes:"",is_working_today:!0});ae.success&&ae.data&&(I(ae.data),kt(ae.data))}catch(ae){console.error("Ошибка начала прогресса:",ae)}},hr=()=>{be("confirm-execution-all-goal"),pt(!0),c&&ue(()=>s(i,"mark-all"))},Vn=()=>{Ne({}),be("delete-goal"),pt(!0),ue(()=>s(i,"delete"))},ht=()=>{c?(be("goal-map-multi"),pt(!0),Ne({goals:m})):(be("goal-map"),pt(!0),Ne({location:m,userVisitedLocation:A}))},Ft=()=>{!c&&F&&h&&(be("folder-selector"),pt(!0),Ne({goalId:h,goalTitle:n,goalFolders:g||[]}))},he=async()=>{window.open("https://telegram.me/share/url?url=".concat(window.location.href),"sharer","status=0,toolbar=0,width=650,height=500")},ge=async()=>{if(!(c||F)){if(!De){be("login"),pt(!0);return}if(v){if(!v.allowCustomSettings){R(!0);try{await s(i,"add"),U(!0),me.addNotification({type:"success",title:"Успех",message:"Регулярная цель успешно добавлена!"})}catch(ae){me.addNotification({type:"error",title:"Ошибка",message:ae instanceof Error?ae.message:"Не удалось добавить регулярную цель"})}finally{R(!1)}return}Ce(!0);return}await s(i,"add")}},Be=()=>{kt()},Lt=ae=>{(ae.key==="Enter"||ae.key===" ")&&(ae.preventDefault(),kt())},Yt=async()=>{if(!h||!k)return;const ae=!k.isWorkingToday;try{const se=await Ao(h,{progress_percentage:k.progressPercentage,daily_notes:k.dailyNotes||"",is_working_today:ae});se.success&&se.data&&I(se.data)}catch(se){console.error("Ошибка отметки сегодня:",se),me.addNotification({type:"error",title:"Ошибка",message:se instanceof Error?se.message:"Не удалось обновить отметку"})}},St=async ae=>{if(ae&&k&&h)try{await Lp(h),I(null)}catch(se){console.error("Ошибка сброса прогресса:",se)}x(!ae),c||await s(i,"mark",ae)},Dt=ae=>{const se={monday:"Пн",tuesday:"Вт",wednesday:"Ср",thursday:"Чт",friday:"Пт",saturday:"Сб",sunday:"Вс"},Ee=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],Oe=[];return Ee.forEach(Pe=>{ae[Pe]===!0&&Oe.push(se[Pe])}),Oe.join(", ")||""},zt=()=>{if(!v)return"";switch(v.durationType){case"days":return"".concat(ct(v.durationValue||0,["день","дня","дней"]));case"weeks":return"".concat(ct(v.durationValue||0,["неделя","недели","недель"]));case"until_date":return v.endDate?new Date(v.endDate).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"До даты";case"indefinite":return"Бессрочно";default:return""}},tr=()=>{if(!v)return"";let{frequency:ae}=v,{customSchedule:se}=v,{weeklyFrequency:Ee}=v;const Oe=$||v.statistics;return F&&(Oe!=null&&Oe.regularGoalData)&&(ae=Oe.regularGoalData.frequency||ae,se=Oe.regularGoalData.customSchedule||se,Ee=Oe.regularGoalData.weeklyFrequency||Ee),ae==="daily"?"Ежедневно":ae==="weekly"?se&&Object.keys(se).length>0?Dt(se):"".concat(Ee||0," раз в неделю"):ae==="custom"&&se?Dt(se):""},te=()=>{const se=new Date().getDay();return se===0?6:se-1},xe=ae=>["Пн","Вт","Ср","Чт","Пт","Сб","Вс"][ae],Xe=ae=>{const se=new Date(ae.createdAt),Ee=new Date;Ee.setHours(0,0,0,0),se.setHours(0,0,0,0);const Oe=Ee.getTime()-se.getTime();return Math.max(0,Math.floor(Oe/(7*24*60*60*1e3)))},et=ae=>{const se=ae.recentEntries||[];if(se.length===0)return 0;const Ee=[...new Set(se.map(Le=>Le.date))].sort();let Oe=1,Pe=1;for(let Le=1;Le<Ee.length;Le++){const Ct=new Date(Ee[Le-1]),Zt=new Date(Ee[Le]);Math.round((Zt.getTime()-Ct.getTime())/(24*60*60*1e3))===1?(Pe+=1,Oe=Math.max(Oe,Pe)):Pe=1}return Oe},qe=ae=>{const se=new Date,Ee=se.getDay(),Oe=Ee===0?6:Ee-1,Pe=new Date(se);Pe.setDate(se.getDate()-Oe),Pe.setHours(0,0,0,0);const Le=new Set((ae.recentEntries||[]).map(Ct=>Ct.date.split("T")[0]));return Array.from({length:7},(Ct,Zt)=>{const Dn=new Date(Pe);Dn.setDate(Pe.getDate()+Zt);const nr=Dn.toISOString().split("T")[0];return Le.has(nr)})},Vt=ae=>{const se=ae.recentEntries||[];return new Set(se.map(Oe=>Oe.date.split("T")[0])).size},qn=()=>{var Pe,Le;const ae=$||(v==null?void 0:v.statistics);if(!ae||!v)return{value:0,unit:(v==null?void 0:v.frequency)==="daily"?"дней":"недель",isInterrupted:!1,isCompleted:!1};const se=ae.isSeriesCompleted||!1,Ee=ae.isInterrupted||!1;let Oe=ae.currentStreak||0;if(Ee&&ae.interruptedStreak!==null&&ae.interruptedStreak!==void 0)Oe=ae.interruptedStreak;else if(se){const Ct=((Pe=ae.regularGoalData)==null?void 0:Pe.durationType)||v.durationType,Zt=((Le=ae.regularGoalData)==null?void 0:Le.frequency)||v.frequency;Ct==="until_date"?Zt==="weekly"?Oe=ae.completedWeeks>0?ae.completedWeeks:ae.currentStreak||0:Oe=ae.totalCompletions||0:Oe=ae.currentStreak||0}return v.frequency==="daily"?{value:Oe,unit:ct(Oe,["день","дня","дней"]),isInterrupted:Ee,isCompleted:se}:{value:Oe,unit:ct(Oe,["неделя","недели","недель"]),isInterrupted:Ee,isCompleted:se}},Ca=()=>{var Ee;if(!v||!Y)return null;const ae=$||v.statistics,se=((Ee=ae==null?void 0:ae.regularGoalData)==null?void 0:Ee.durationType)||v.durationType;return ae!=null&&ae.isInterrupted&&ae.interruptedCompletionPercentage!==null&&ae.interruptedCompletionPercentage!==void 0?ae.interruptedCompletionPercentage:se==="indefinite"?null:(ae==null?void 0:ae.completionPercentage)!==void 0&&ae.completionPercentage!==null?ae.completionPercentage:v.frequency==="daily"?Y.completed?100:0:v.frequency==="weekly"&&Y.progress!==void 0||v.frequency==="custom"&&(Y==null?void 0:Y.progress)!==void 0?Y.progress:null},bl=ae=>{if(!v)return!1;let{frequency:se}=v,{customSchedule:Ee}=v;const Oe=$||v.statistics;if(F&&(Oe!=null&&Oe.regularGoalData)&&(se=Oe.regularGoalData.frequency||se,Ee=Oe.regularGoalData.customSchedule||Ee),se!=="custom"||!Ee)return!1;const Le=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"][ae];return Ee[Le]===!0},vn=qn(),Xs=te(),Pn=Ca();return p("aside",{className:Et(),children:[o("img",{src:r,alt:n,className:j("image")}),v&&!c&&!F&&p("div",{className:j("regular-info-header"),children:[p("div",{className:j("regular-info-title"),children:[o(ie,{icon:"regular",className:j("regular-info-icon")}),o("span",{children:"Регулярная цель"})]}),o(at,{className:j("line")}),v.completedSeriesCount!==void 0&&v.completedSeriesCount>0&&p(nt,{children:[p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Выполнено раз:"}),o("span",{className:j("regular-info-value"),children:v.completedSeriesCount})]}),o(at,{className:j("line"),margin:Te?"8px 0":void 0})]}),v.allowCustomSettings?o("div",{className:j("regular-info-text"),children:o("span",{children:"Параметры настраиваются при добавлении цели"})}):p("div",{className:j("regular-info-details"),children:[p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Периодичность:"}),o("span",{className:j("regular-info-value"),children:tr()})]}),p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Длительность:"}),o("span",{className:j("regular-info-value"),children:zt()})]}),p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Сброс прогресса:"}),o("span",{className:j("regular-info-value"),children:v.resetOnSkip?"Да":"Нет"})]}),p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Разрешенные пропуски:"}),o("span",{className:j("regular-info-value"),children:($==null?void 0:$.remainingSkipDays)!==void 0?$.remainingSkipDays:((jr=v.statistics)==null?void 0:jr.remainingSkipDays)!==void 0?v.statistics.remainingSkipDays:v.allowSkipDays||0})]}),($==null?void 0:$.usedSkipDays)!==void 0&&$.usedSkipDays>0&&p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Использовано пропусков:"}),o("span",{className:j("regular-info-value"),children:$.usedSkipDays})]}),!($!=null&&$.usedSkipDays)&&((Ta=v.statistics)==null?void 0:Ta.usedSkipDays)!==void 0&&v.statistics.usedSkipDays>0&&p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Использовано пропусков:"}),o("span",{className:j("regular-info-value"),children:v.statistics.usedSkipDays})]})]})]}),v&&F&&!c&&p("div",{className:j("regular-info-header"),children:[p("div",{className:j("regular-info-title"),children:[vn.isCompleted?o(ie,{icon:"regular-checked",className:j("regular-info-icon")}):vn.isInterrupted?o(ie,{icon:"regular-cancel",className:j("regular-info-icon")}):vn.value>0?o(ie,{icon:"regular",className:j("regular-info-icon")}):o(ie,{icon:"regular-empty",className:j("regular-info-icon")}),o("span",{children:vn.isCompleted?"Серия выполнена":vn.isInterrupted?"Серия прервана":"Текущая серия"}),(vn.isCompleted||vn.isInterrupted||vn.value>0)&&o("span",{className:j("regular-info-streak",{active:!0}),children:vn.unit})]}),!vn.isInterrupted&&!vn.isCompleted&&o("div",{className:j("regular-series-days"),children:Array.from({length:7},(ae,se)=>{var wl,Qm,Xm,Jm,Zm;const Ee=xe(se);let Oe=!1,Pe=!1,Le=!1,Ct=!1,Zt=!1;const Dn=se===Xs;if(v.frequency==="daily"){const Pr=$||v.statistics,rr=(wl=Pr==null?void 0:Pr.currentPeriodProgress)==null?void 0:wl.weekDays;if(rr&&rr.length>0){const Gt=rr.find(Un=>Un.dayIndex===se);Gt&&(Oe=Gt.isAllowed!==!1,Pe=!1,Le=Gt.isBlockedByStartDate||!1,Ct=!Le&&(Gt.isCompleted||!1),Zt=!Le&&(Gt.isSkipped||!1))}else if(Oe=se===Xs,Oe)if(((Qm=$==null?void 0:$.currentPeriodProgress)==null?void 0:Qm.type)==="daily")Ct=$.currentPeriodProgress.completedToday||!1;else{const Gt=$||v.statistics;((Xm=Gt==null?void 0:Gt.currentPeriodProgress)==null?void 0:Xm.type)==="daily"?Ct=Gt.currentPeriodProgress.completedToday||!1:Ct=D||(Y==null?void 0:Y.completed)||!1}}else if(v.frequency==="weekly"){const Pr=$||v.statistics,rr=(Jm=Pr==null?void 0:Pr.currentPeriodProgress)==null?void 0:Jm.weekDays;if(rr&&rr.length>0){const Gt=rr.find(Un=>Un.dayIndex===se);Gt&&(Oe=Gt.isAllowed!==!1,Le=Gt.isBlockedByStartDate||!1,Pe=!1,Ct=!Le&&(Gt.isCompleted||!1),Zt=!Le&&(Gt.isSkipped||!1))}if(!rr||rr.length===0){const Gt=$||v.statistics,Un=Gt!=null&&Gt.startDate?new Date("".concat(Gt.startDate,"T00:00:00")):null,Cl=new Date;Cl.setHours(0,0,0,0);const ep=Cl.getDay(),qw=ep===0?6:ep-1,Tl=new Date(Cl);Tl.setDate(Cl.getDate()-qw),Tl.setHours(0,0,0,0);const Sl=new Date(Tl);Sl.setDate(Tl.getDate()+se),Sl.setHours(0,0,0,0),Un?(Un.setHours(0,0,0,0),Oe=Sl>=Un,Le=Sl<Un,Pe=!1):(Oe=!0,Le=!1,Pe=!1),Ct=!1,Zt=!1}}else if(v.frequency==="custom"){const Pr=$||v.statistics,rr=(Zm=Pr==null?void 0:Pr.currentPeriodProgress)==null?void 0:Zm.weekDays;if(rr&&rr.length>0){const Gt=rr.find(Un=>Un.dayIndex===se);if(Gt){const Un=Gt.isAllowed!==!1;Oe=Un,Pe=!Un,Le=!1,Ct=Un&&!Pe&&(Gt.isCompleted||!1),Zt=Un&&!Pe&&(Gt.isSkipped||!1)}}else{const Gt=bl(se);Oe=Gt,Pe=!Gt,Le=!1,Ct=!1,Zt=!1}}const nr=Dn&&!Le;return p("div",{className:j("regular-series-day-wrapper"),children:[p("div",{className:j("regular-series-day",{selected:nr,blocked:Pe&&!Le,completed:Ct&&!Zt&&!Pe&&!Le,skipped:Zt&&!Pe&&!Le}),children:[Pe&&!Le&&o(ie,{icon:"cross",className:j("regular-series-day-icon")}),!Pe&&!Le&&(Ct||Zt)&&o(ie,{icon:"done",className:j("regular-series-day-icon-selected")})]}),o("span",{className:j("regular-series-day-name",{selected:Dn&&!Le}),children:Ee})]},se)})}),o(at,{className:j("line"),margin:Te?"8px 0":void 0}),Pn!==null&&!vn.isCompleted&&p(nt,{children:[p("div",{className:j("regular-series-progress"),children:[o("span",{className:j("regular-series-progress-label"),children:"Прогресс:"}),o("div",{className:j("regular-series-progress-bar"),children:o(pa,{done:Pn,all:100,goal:!0})})]}),o(at,{className:j("line"),margin:Te?"8px 0":void 0})]}),v.completedSeriesCount!==void 0&&v.completedSeriesCount>0&&p(nt,{children:[p("div",{className:j("regular-series-completed-count"),children:[o("span",{className:j("regular-series-completed-count-label"),children:"Выполнено раз:"}),o("span",{className:j("regular-series-completed-count-value"),children:v.completedSeriesCount})]}),o(at,{className:j("line"),margin:Te?"8px 0":void 0})]}),(vn.isCompleted||vn.isInterrupted)&&p(nt,{children:[p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Макс. серия:"}),o("span",{className:j("regular-info-value"),children:((El=$||(v==null?void 0:v.statistics))==null?void 0:El.maxStreak)||0})]}),o(at,{className:j("line"),margin:Te?"8px 0":void 0})]}),p("div",{className:j("regular-info-details"),children:[p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Периодичность:"}),o("span",{className:j("regular-info-value"),children:tr()})]}),p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Длительность:"}),o("span",{className:j("regular-info-value"),children:zt()})]}),p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Сброс прогресса:"}),o("span",{className:j("regular-info-value"),children:v.resetOnSkip?"Да":"Нет"})]}),p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Разрешенные пропуски:"}),o("span",{className:j("regular-info-value"),children:($==null?void 0:$.remainingSkipDays)!==void 0?$.remainingSkipDays:((_l=v.statistics)==null?void 0:_l.remainingSkipDays)!==void 0?v.statistics.remainingSkipDays:v.allowSkipDays||0})]}),($==null?void 0:$.usedSkipDays)!==void 0&&$.usedSkipDays>0||((Vm=v.statistics)==null?void 0:Vm.usedSkipDays)!==void 0&&v.statistics.usedSkipDays>0?p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Использовано пропусков:"}),o("span",{className:j("regular-info-value"),children:(Km=(jm=$==null?void 0:$.usedSkipDays)!=null?jm:(qm=v.statistics)==null?void 0:qm.usedSkipDays)!=null?Km:0})]}):null]}),o(at,{className:j("line"),margin:Te?"8px 0":void 0}),v&&F&&!c&&p("div",{className:j("regular-series-actions"),children:[vn.isCompleted?p(nt,{children:[o(z,{theme:"green",onClick:Ve,icon:"regular-checked",className:j("btn"),size:Te||de?"medium":void 0,hoverContent:"Отменить выполнение",hoverIcon:"cross",children:"Выполнено"}),o(z,{theme:"blue-light",onClick:Ot,icon:"regular-empty",className:j("btn"),size:Te||de?"medium":void 0,children:"Выполнить ещё раз"})]}):vn.isInterrupted?o(z,{theme:"blue",onClick:yn,icon:"regular-empty",className:j("btn"),size:Te||de?"medium":void 0,children:"Начать заново"}):(v.frequency==="daily"||v.frequency==="weekly"||v.frequency==="custom")&&o(z,{theme:Se?"no-active":v.frequency==="daily"&&(D||Y!=null&&Y.completed)||(v.frequency==="weekly"||v.frequency==="custom")&&D?"green":"blue",onClick:je,icon:Se?void 0:"regular",className:j("btn"),size:Te||de?"medium":void 0,disabled:Se,hoverContent:Se?void 0:v.frequency==="daily"&&(D||Y!=null&&Y.completed)||(v.frequency==="weekly"||v.frequency==="custom")&&D?"Отменить выполнение":void 0,hoverIcon:Se?void 0:v.frequency==="daily"&&(D||Y!=null&&Y.completed)||(v.frequency==="weekly"||v.frequency==="custom")&&D?"cross":void 0,children:Se?"Сегодня выполнить цель нельзя":v.frequency==="daily"&&(D||Y!=null&&Y.completed)?"Выполнено сегодня":v.frequency==="daily"?"Выполнить сегодня":(v.frequency==="weekly"||v.frequency==="custom")&&D?"Выполнено сегодня":"Выполнить сегодня"}),v&&F&&!c&&v.allowCustomSettings&&o(z,{theme:"blue-light",onClick:()=>ee(!0),className:j("btn"),size:Te||de?"medium":void 0,children:"Изменить параметры"})]})]}),!c&&F&&!v&&k&&(k.progressPercentage>0||!!k.dailyNotes||A)&&p("div",{className:j("regular-info-header"),children:[p("div",{className:j("regular-info-title"),children:[o(ie,{icon:"signal",className:j("regular-info-icon",{progress:!0})}),o("span",{children:"Прогресс"}),o("span",{className:j("regular-info-streak",{active:!0}),children:ct(Vt(k),["день","дня","дней"])})]}),o(at,{className:j("line"),margin:Te?"8px 0":void 0}),o("div",{className:j("regular-series-days"),children:Array.from({length:7},(ae,se)=>{const Ee=xe(se),Oe=qe(k)[se],Pe=se===Xs;return p("div",{className:j("regular-series-day-wrapper"),children:[o("div",{className:j("regular-series-day",{selected:Pe,completed:Oe}),children:Oe&&o(ie,{icon:"done",className:j("regular-series-day-icon-selected")})}),o("span",{className:j("regular-series-day-name",{selected:Pe}),children:Ee})]},se)})}),o(at,{className:j("line"),margin:Te?"8px 0":void 0}),o("div",{className:j("progress-bar"),onClick:Be,onKeyDown:Lt,role:"button",tabIndex:0,"aria-label":"Изменить прогресс цели, текущий прогресс ".concat(k.progressPercentage,"%"),style:{cursor:"pointer"},children:p("div",{className:j("regular-series-progress"),children:[o("span",{className:j("regular-series-progress-label"),children:"Прогресс:"}),o("div",{className:j("regular-series-progress-bar"),children:o(pa,{done:k.progressPercentage,all:100,goal:!0})})]})}),o(at,{className:j("line"),margin:Te?"8px 0":void 0}),p("div",{className:j("regular-info-details"),children:[p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Количество недель:"}),o("span",{className:j("regular-info-value"),children:Xe(k)})]}),p("div",{className:j("regular-info-row"),children:[o("span",{className:j("regular-info-label"),children:"Макс. серия без пропусков:"}),o("span",{className:j("regular-info-value"),children:ct(et(k),["день","дня","дней"])})]})]}),o(at,{className:j("line"),margin:Te?"8px 0":void 0}),p("div",{className:j("regular-series-actions"),children:[o(z,{theme:k.isWorkingToday?"green":"blue",onClick:Yt,icon:k.isWorkingToday?"regular-checked":"regular-empty",className:j("btn"),size:Te||de?"medium":void 0,hoverContent:k.isWorkingToday?"Снять отметку":void 0,hoverIcon:k.isWorkingToday?"cross":void 0,children:k.isWorkingToday?"Отмечено сегодня":"Отметить сегодня"}),o(z,{theme:"blue-light",onClick:Bn,icon:"signal",className:j("btn"),size:Te||de?"medium":void 0,children:k.progressPercentage>0?"Изменить прогресс":"Задать прогресс"}),h&&o(z,{theme:"blue-light",onClick:()=>ot(!0),icon:"trash",className:j("btn"),size:Te||de?"medium":void 0,children:"Удалить прогресс"})]})]}),p("div",{className:j("info"),children:[v&&F&&!c&&p(nt,{children:[!vn.isInterrupted&&!vn.isCompleted&&o(z,{theme:"blue-light",onClick:pe,icon:"stop-circle",className:j("btn"),size:Te||de?"medium":void 0,children:"Завершить серию"}),o(z,{theme:"blue-light",onClick:Ft,icon:"folder-open",className:j("btn",{folder:!0}),size:Te||de?"medium":void 0,children:"Добавить в папку"}),o(z,{theme:"blue-light",onClick:Vn,icon:"trash",className:j("btn"),size:Te||de?"medium":void 0,children:"Удалить"}),o(at,{className:j("line"),margin:Te?"8px 0":void 0}),o(z,{theme:"blue-light",icon:"share",onClick:he,className:j("btn"),size:Te||de?"medium":void 0,children:"Поделиться в Telegram"})]}),!c&&F&&!v&&o(z,{theme:A?"green":"blue",onClick:()=>St(A),icon:"plus",className:j("btn",{done:!0}),hoverContent:A?"Отменить выполнение":"",hoverIcon:A?"cross":"",size:Te||de?"medium":void 0,children:A?"Выполнено":"Выполнить"}),!c&&F&&!v&&o(z,{theme:"blue-light",onClick:Ft,icon:"folder-open",className:j("btn",{folder:!0}),size:Te||de?"medium":void 0,children:"Добавить в папку"}),F&&!A&&!c&&o(NH,{timer:N,goalCode:i,onTimerUpdate:We}),!c&&F&&!A&&!v&&(!k||k.progressPercentage===0&&!k.dailyNotes)&&o(z,{theme:"blue-light",onClick:Bn,icon:"signal",className:j("btn"),size:Te||de?"medium":void 0,children:"Задать прогресс"}),F&&!v&&!c&&o(z,{theme:"blue-light",onClick:Vn,icon:"trash",className:j("btn"),size:Te||de?"medium":void 0,children:"Удалить"}),c&&p(nt,{children:[!F&&o(z,{onClick:()=>s(i,"add"),icon:"plus",className:j("btn"),theme:"blue",size:Te||de?"medium":void 0,children:"Добавить к себе"}),F&&!A&&o(z,{theme:"blue",onClick:hr,icon:"done",className:j("btn"),size:Te||de?"medium":void 0,children:"Выполнить все цели"}),F&&o(z,{theme:"blue-light",onClick:Vn,icon:"trash",className:j("btn"),size:Te||de?"medium":void 0,children:"Удалить"}),f&&o(z,{theme:"blue-light",onClick:d,icon:"edit",className:j("btn"),type:d?"button":"Link",href:d?void 0:"/edit-list/".concat(i),size:Te||de?"medium":void 0,children:"Редактировать"}),!!(m!=null&&m.length)&&o(z,{theme:"blue-light",icon:"map",onClick:ht,className:j("btn"),size:Te||de?"medium":void 0,children:"Открыть карту"}),o(z,{theme:"blue-light",className:j("btn"),onClick:fe,icon:"magic",children:"Случайная цель"})]}),!c&&p(nt,{children:[m&&o(z,{theme:"blue-light",icon:"map",onClick:ht,className:j("btn"),size:Te||de?"medium":void 0,children:"Открыть карту"}),!F&&o(z,{onClick:ge,icon:"plus",className:j("btn"),theme:"blue",size:Te||de?"medium":void 0,disabled:M,children:M?"Добавление...":"Добавить к себе"}),A&&o(z,{theme:"blue-light",onClick:u,icon:"comment",className:j("btn"),size:Te||de?"medium":void 0,children:"Написать отзыв"})]}),!c&&!v&&p(nt,{children:[o(at,{className:j("line"),margin:Te?"8px 0":void 0}),o(z,{theme:"blue-light",icon:"share",onClick:he,className:j("btn"),size:Te||de?"medium":void 0,children:"Поделиться в Telegram"})]})]}),v&&F&&o(Rr,{isOpen:K,onClose:()=>L(!1),title:"Завершение серии",text:v.durationType==="indefinite"?"Вы действительно хотите завершить текущую серию выполнения цели? Вы сможете начать новую серию позже.":"Вы действительно хотите прервать текущую серию выполнения цели?",textBtnCancel:"Отмена",textBtn:"Завершить",themeBtn:"red",handleBtn:$e,checkboxText:v.durationType==="indefinite"?"Отметить серию выполненной":void 0,checkboxId:"mark-as-completed"}),v&&F&&o(Rr,{isOpen:le,onClose:()=>q(!1),title:"Сброс выполнения",text:"Вы действительно хотите отменить выполнение цели и сбросить весь прогресс серии?",textBtnCancel:"Отмена",textBtn:"Сбросить",themeBtn:"red",handleBtn:Ht}),o(Rr,{isOpen:rt,onClose:()=>ot(!1),title:"Удаление прогресса",text:"Вы действительно хотите удалить весь прогресс цели? Вся история прогресса выполнения будет сброшена.",textBtnCancel:"Отмена",textBtn:"Удалить",themeBtn:"red",handleBtn:async()=>{h&&(await Lp(h),I(null),C&&C())}}),v&&F&&!c&&v.allowCustomSettings&&(()=>{const ae=$||v.statistics,se=(ae==null?void 0:ae.regularGoalData)||v;return o(xr,{isOpen:O,onClose:()=>ee(!1),title:"Изменение регулярности цели",size:"medium",children:o($f,{onSave:lt,onCancel:()=>ee(!1),initialSettings:{frequency:se.frequency,weeklyFrequency:se.weeklyFrequency,customSchedule:se.customSchedule,durationType:se.durationType,durationValue:se.durationValue,endDate:se.endDate,resetOnSkip:se.resetOnSkip,allowSkipDays:se.allowSkipDays,daysForEarnedSkip:se.daysForEarnedSkip,markAsCompletedAfterSeries:!1}})})})(),v&&F&&o(Rr,{isOpen:Q,onClose:()=>{oe(!1),Ae(null)},title:"Завершение серии",text:"Вы действительно хотите прервать текущую серию выполнения цели и начать новую с заданными параметрами?",textBtnCancel:"Отмена",textBtn:"Завершить",themeBtn:"red",handleBtn:Ke}),v&&!F&&!c&&v.allowCustomSettings&&o(xr,{isOpen:ne,onClose:()=>Ce(!1),title:"Задать регулярность цели",children:o($f,{onSave:ut,onCancel:()=>Ce(!1),initialSettings:{frequency:v.frequency,weeklyFrequency:v.weeklyFrequency,customSchedule:v.customSchedule,durationType:v.durationType,durationValue:v.durationValue,endDate:v.endDate,resetOnSkip:v.resetOnSkip,allowSkipDays:v.allowSkipDays,markAsCompletedAfterSeries:!1}})})]})};const kH=async e=>await Ue("goals/".concat(e,"/comments"),{auth:!0}),DH=async(e,t)=>await tt("comments/".concat(e,"/like-or-dislike"),{auth:!0,body:{isLike:t}});function ky(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function Gm(e,t){e===void 0&&(e={}),t===void 0&&(t={});const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:ky(t[r])&&ky(e[r])&&Object.keys(t[r]).length>0&&Gm(e[r],t[r])})}const gw={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Qs(){const e=typeof document<"u"?document:{};return Gm(e,gw),e}const xH={document:gw,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function zn(){const e=typeof window<"u"?window:{};return Gm(e,xH),e}function AH(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function PH(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch(r){}try{delete t[n]}catch(r){}})}function yw(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function Jc(){return Date.now()}function OH(e){const t=zn();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function IH(e,t){t===void 0&&(t="x");const n=zn();let r,a,s;const i=OH(e);return n.WebKitCSSMatrix?(a=i.transform||i.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(a==="none"?"":a)):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?a=s.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),t==="y"&&(n.WebKitCSSMatrix?a=s.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Xl(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function LH(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function ir(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!LH(r)){const a=Object.keys(Object(r)).filter(s=>t.indexOf(s)<0);for(let s=0,i=a.length;s<i;s+=1){const l=a[s],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Xl(e[l])&&Xl(r[l])?r[l].__swiper__?e[l]=r[l]:ir(e[l],r[l]):!Xl(e[l])&&Xl(r[l])?(e[l]={},r[l].__swiper__?e[l]=r[l]:ir(e[l],r[l])):e[l]=r[l])}}}return e}function Jl(e,t,n){e.style.setProperty(t,n)}function vw(e){let{swiper:t,targetPosition:n,side:r}=e;const a=zn(),s=-t.translate;let i=null,l;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(t.cssModeFrameID);const u=n>s?"next":"prev",d=(m,h)=>u==="next"&&m>=h||u==="prev"&&m<=h,f=()=>{l=new Date().getTime(),i===null&&(i=l);const m=Math.max(Math.min((l-i)/c,1),0),h=.5-Math.cos(m*Math.PI)/2;let g=s+h*(n-s);if(d(g,n)&&(g=n),t.wrapperEl.scrollTo({[r]:g}),d(g,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:g})}),a.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=a.requestAnimationFrame(f)};f()}function ua(e,t){t===void 0&&(t="");const n=zn(),r=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&r.push(...e.assignedElements()),t?r.filter(a=>a.matches(t)):r}function RH(e,t){const n=[t];for(;n.length>0;){const r=n.shift();if(e===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function MH(e,t){const n=zn();let r=t.contains(e);return!r&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(r=[...t.assignedElements()].includes(e),r||(r=RH(e,t))),r}function Zc(e){try{console.warn(e);return}catch(t){}}function eu(e,t){t===void 0&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:AH(t)),n}function FH(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function BH(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function Za(e,t){return zn().getComputedStyle(e,null).getPropertyValue(t)}function Dy(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function UH(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function xy(e,t,n){const r=zn();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}function Sa(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function Ay(e,t){t===void 0&&(t=""),typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(t):e.innerHTML=t}function HH(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(a=>{if(!n[a]&&n.auto===!0){let s=ua(e.el,".".concat(r[a]))[0];s||(s=eu("div",r[a]),s.className=r[a],e.el.append(s)),n[a]=s,t[a]=s}}),n}function bw(e){let{swiper:t,extendParams:n,on:r,emit:a}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(g){let v;return g&&typeof g=="string"&&t.isElement&&(v=t.el.querySelector(g)||t.hostEl.querySelector(g),v)?v:(g&&(typeof g=="string"&&(v=[...document.querySelectorAll(g)]),t.params.uniqueNavElements&&typeof g=="string"&&v&&v.length>1&&t.el.querySelectorAll(g).length===1?v=t.el.querySelector(g):v&&v.length===1&&(v=v[0])),g&&!v?g:v)}function i(g,v){const _=t.params.navigation;g=Sa(g),g.forEach(E=>{E&&(E.classList[v?"add":"remove"](..._.disabledClass.split(" ")),E.tagName==="BUTTON"&&(E.disabled=v),t.params.watchOverflow&&t.enabled&&E.classList[t.isLocked?"add":"remove"](_.lockClass))})}function l(){const{nextEl:g,prevEl:v}=t.navigation;if(t.params.loop){i(v,!1),i(g,!1);return}i(v,t.isBeginning&&!t.params.rewind),i(g,t.isEnd&&!t.params.rewind)}function c(g){g.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),a("navigationPrev"))}function u(g){g.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),a("navigationNext"))}function d(){const g=t.params.navigation;if(t.params.navigation=HH(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let v=s(g.nextEl),_=s(g.prevEl);Object.assign(t.navigation,{nextEl:v,prevEl:_}),v=Sa(v),_=Sa(_);const E=(C,w)=>{C&&C.addEventListener("click",w==="next"?u:c),!t.enabled&&C&&C.classList.add(...g.lockClass.split(" "))};v.forEach(C=>E(C,"next")),_.forEach(C=>E(C,"prev"))}function f(){let{nextEl:g,prevEl:v}=t.navigation;g=Sa(g),v=Sa(v);const _=(E,C)=>{E.removeEventListener("click",C==="next"?u:c),E.classList.remove(...t.params.navigation.disabledClass.split(" "))};g.forEach(E=>_(E,"next")),v.forEach(E=>_(E,"prev"))}r("init",()=>{t.params.navigation.enabled===!1?h():(d(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:g,prevEl:v}=t.navigation;if(g=Sa(g),v=Sa(v),t.enabled){l();return}[...g,...v].filter(_=>!!_).forEach(_=>_.classList.add(t.params.navigation.lockClass))}),r("click",(g,v)=>{let{nextEl:_,prevEl:E}=t.navigation;_=Sa(_),E=Sa(E);const C=v.target;let w=E.includes(C)||_.includes(C);if(t.isElement&&!w){const S=v.path||v.composedPath&&v.composedPath();S&&(w=S.find(N=>_.includes(N)||E.includes(N)))}if(t.params.navigation.hideOnClick&&!w){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===C||t.pagination.el.contains(C)))return;let S;_.length?S=_[0].classList.contains(t.params.navigation.hiddenClass):E.length&&(S=E[0].classList.contains(t.params.navigation.hiddenClass)),a(S===!0?"navigationShow":"navigationHide"),[..._,...E].filter(N=>!!N).forEach(N=>N.classList.toggle(t.params.navigation.hiddenClass))}});const m=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),l()},h=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(t.navigation,{enable:m,disable:h,update:l,init:d,destroy:f})}let sf;function GH(){const e=zn(),t=Qs();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function Ew(){return sf||(sf=GH()),sf}let of;function $H(e){let{userAgent:t}=e===void 0?{}:e;const n=Ew(),r=zn(),a=r.navigator.platform,s=t||r.navigator.userAgent,i={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),m=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=a==="Win32";let g=a==="MacIntel";const v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&g&&n.touch&&v.indexOf("".concat(l,"x").concat(c))>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),g=!1),u&&!h&&(i.os="android",i.android=!0),(d||m||f)&&(i.os="ios",i.ios=!0),i}function _w(e){return e===void 0&&(e={}),of||(of=$H(e)),of}let lf;function WH(){const e=zn(),t=_w();let n=!1;function r(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),s=r(),i=s||a&&t.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:i,isWebView:a}}function ww(){return lf||(lf=WH()),lf}function YH(e){let{swiper:t,on:n,emit:r}=e;const a=zn();let s=null,i=null;const l=()=>{!t||t.destroyed||!t.initialized||(r("beforeResize"),r("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(f=>{i=a.requestAnimationFrame(()=>{const{width:m,height:h}=t;let g=m,v=h;f.forEach(_=>{let{contentBoxSize:E,contentRect:C,target:w}=_;w&&w!==t.el||(g=C?C.width:(E[0]||E).inlineSize,v=C?C.height:(E[0]||E).blockSize)}),(g!==m||v!==h)&&l()})}),s.observe(t.el))},u=()=>{i&&a.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},d=()=>{!t||t.destroyed||!t.initialized||r("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof a.ResizeObserver<"u"){c();return}a.addEventListener("resize",l),a.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),a.removeEventListener("resize",l),a.removeEventListener("orientationchange",d)})}function zH(e){let{swiper:t,extendParams:n,on:r,emit:a}=e;const s=[],i=zn(),l=function(d,f){f===void 0&&(f={});const m=i.MutationObserver||i.WebkitMutationObserver,h=new m(g=>{if(t.__preventObserver__)return;if(g.length===1){a("observerUpdate",g[0]);return}const v=function(){a("observerUpdate",g[0])};i.requestAnimationFrame?i.requestAnimationFrame(v):i.setTimeout(v,0)});h.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:t.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(h)},c=()=>{if(t.params.observer){if(t.params.observeParents){const d=UH(t.hostEl);for(let f=0;f<d.length;f+=1)l(d[f])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",u)}var VH={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const a=n?"unshift":"push";return e.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][a](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function a(){r.off(e,a),a.__emitterProxy&&delete a.__emitterProxy;for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];t.apply(r,i)}return a.__emitterProxy=t,r.on(e,a,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((a,s)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,r;for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return typeof s[0]=="string"||Array.isArray(s[0])?(t=s[0],n=s.slice(1,s.length),r=e):(t=s[0].events,n=s[0].data,r=s[0].context||e),n.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(u=>{u.apply(r,[c,...n])}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(u=>{u.apply(r,n)})}),e}};function qH(){const e=this;let t,n;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=r.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(Za(r,"padding-left")||0,10)-parseInt(Za(r,"padding-right")||0,10),n=n-parseInt(Za(r,"padding-top")||0,10)-parseInt(Za(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function jH(){const e=this;function t(x,D){return parseFloat(x.getPropertyValue(e.getDirectionLabel(D))||0)}const n=e.params,{wrapperEl:r,slidesEl:a,size:s,rtlTranslate:i,wrongRTL:l}=e,c=e.virtual&&n.virtual.enabled,u=c?e.virtual.slides.length:e.slides.length,d=ua(a,".".concat(e.params.slideClass,", swiper-slide")),f=c?e.virtual.slides.length:d.length;let m=[];const h=[],g=[];let v=n.slidesOffsetBefore;typeof v=="function"&&(v=n.slidesOffsetBefore.call(e));let _=n.slidesOffsetAfter;typeof _=="function"&&(_=n.slidesOffsetAfter.call(e));const E=e.snapGrid.length,C=e.slidesGrid.length;let w=n.spaceBetween,S=-v,N=0,T=0;if(typeof s>"u")return;typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*s:typeof w=="string"&&(w=parseFloat(w)),e.virtualSize=-w,d.forEach(x=>{i?x.style.marginLeft="":x.style.marginRight="",x.style.marginBottom="",x.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Jl(r,"--swiper-centered-offset-before",""),Jl(r,"--swiper-centered-offset-after",""));const k=n.grid&&n.grid.rows>1&&e.grid;k?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();let I;const A=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(x=>typeof n.breakpoints[x].slidesPerView<"u").length>0;for(let x=0;x<f;x+=1){I=0;let D;if(d[x]&&(D=d[x]),k&&e.grid.updateSlide(x,D,d),!(d[x]&&Za(D,"display")==="none")){if(n.slidesPerView==="auto"){A&&(d[x].style[e.getDirectionLabel("width")]="");const P=getComputedStyle(D),M=D.style.transform,R=D.style.webkitTransform;if(M&&(D.style.transform="none"),R&&(D.style.webkitTransform="none"),n.roundLengths)I=e.isHorizontal()?xy(D,"width",!0):xy(D,"height",!0);else{const F=t(P,"width"),U=t(P,"padding-left"),$=t(P,"padding-right"),H=t(P,"margin-left"),K=t(P,"margin-right"),L=P.getPropertyValue("box-sizing");if(L&&L==="border-box")I=F+H+K;else{const{clientWidth:le,offsetWidth:q}=D;I=F+U+$+H+K+(q-le)}}M&&(D.style.transform=M),R&&(D.style.webkitTransform=R),n.roundLengths&&(I=Math.floor(I))}else I=(s-(n.slidesPerView-1)*w)/n.slidesPerView,n.roundLengths&&(I=Math.floor(I)),d[x]&&(d[x].style[e.getDirectionLabel("width")]="".concat(I,"px"));d[x]&&(d[x].swiperSlideSize=I),g.push(I),n.centeredSlides?(S=S+I/2+N/2+w,N===0&&x!==0&&(S=S-s/2-w),x===0&&(S=S-s/2-w),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),T%n.slidesPerGroup===0&&m.push(S),h.push(S)):(n.roundLengths&&(S=Math.floor(S)),(T-Math.min(e.params.slidesPerGroupSkip,T))%e.params.slidesPerGroup===0&&m.push(S),h.push(S),S=S+I+w),e.virtualSize+=I+w,N=I,T+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+_,i&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width="".concat(e.virtualSize+w,"px")),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]="".concat(e.virtualSize+w,"px")),k&&e.grid.updateWrapperSize(I,m),!n.centeredSlides){const x=[];for(let D=0;D<m.length;D+=1){let P=m[D];n.roundLengths&&(P=Math.floor(P)),m[D]<=e.virtualSize-s&&x.push(P)}m=x,Math.floor(e.virtualSize-s)-Math.floor(m[m.length-1])>1&&m.push(e.virtualSize-s)}if(c&&n.loop){const x=g[0]+w;if(n.slidesPerGroup>1){const D=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),P=x*n.slidesPerGroup;for(let M=0;M<D;M+=1)m.push(m[m.length-1]+P)}for(let D=0;D<e.virtual.slidesBefore+e.virtual.slidesAfter;D+=1)n.slidesPerGroup===1&&m.push(m[m.length-1]+x),h.push(h[h.length-1]+x),e.virtualSize+=x}if(m.length===0&&(m=[0]),w!==0){const x=e.isHorizontal()&&i?"marginLeft":e.getDirectionLabel("marginRight");d.filter((D,P)=>!n.cssMode||n.loop?!0:P!==d.length-1).forEach(D=>{D.style[x]="".concat(w,"px")})}if(n.centeredSlides&&n.centeredSlidesBounds){let x=0;g.forEach(P=>{x+=P+(w||0)}),x-=w;const D=x>s?x-s:0;m=m.map(P=>P<=0?-v:P>D?D+_:P)}if(n.centerInsufficientSlides){let x=0;g.forEach(P=>{x+=P+(w||0)}),x-=w;const D=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(x+D<s){const P=(s-x-D)/2;m.forEach((M,R)=>{m[R]=M-P}),h.forEach((M,R)=>{h[R]=M+P})}}if(Object.assign(e,{slides:d,snapGrid:m,slidesGrid:h,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Jl(r,"--swiper-centered-offset-before","".concat(-m[0],"px")),Jl(r,"--swiper-centered-offset-after","".concat(e.size/2-g[g.length-1]/2,"px"));const x=-e.snapGrid[0],D=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(P=>P+x),e.slidesGrid=e.slidesGrid.map(P=>P+D)}if(f!==u&&e.emit("slidesLengthChange"),m.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==C&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const x="".concat(n.containerModifierClass,"backface-hidden"),D=e.el.classList.contains(x);f<=n.maxBackfaceHiddenSlides?D||e.el.classList.add(x):D&&e.el.classList.remove(x)}}function KH(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let a=0,s;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const i=l=>r?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{n.push(l)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const l=t.activeIndex+s;if(l>t.slides.length&&!r)break;n.push(i(l))}else n.push(i(t.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const l=n[s].offsetHeight;a=l>a?l:a}(a||a===0)&&(t.wrapperEl.style.height="".concat(a,"px"))}function QH(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()}const Py=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function XH(e){e===void 0&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:r,rtlTranslate:a,snapGrid:s}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let i=-e;a&&(i=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const f=(i+(n.centeredSlides?t.minTranslate():0)-d)/(u.swiperSlideSize+l),m=(i-s[0]+(n.centeredSlides?t.minTranslate():0)-d)/(u.swiperSlideSize+l),h=-(i-d),g=h+t.slidesSizesGrid[c],v=h>=0&&h<=t.size-t.slidesSizesGrid[c],_=h>=0&&h<t.size-1||g>1&&g<=t.size||h<=0&&g>=t.size;_&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(c)),Py(u,_,n.slideVisibleClass),Py(u,v,n.slideFullyVisibleClass),u.progress=a?-f:f,u.originalProgress=a?-m:m}}function JH(e){const t=this;if(typeof e>"u"){const d=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*d||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:a,isBeginning:s,isEnd:i,progressLoop:l}=t;const c=s,u=i;if(r===0)a=0,s=!0,i=!0;else{a=(e-t.minTranslate())/r;const d=Math.abs(e-t.minTranslate())<1,f=Math.abs(e-t.maxTranslate())<1;s=d||a<=0,i=f||a>=1,d&&(a=0),f&&(a=1)}if(n.loop){const d=t.getSlideIndexByData(0),f=t.getSlideIndexByData(t.slides.length-1),m=t.slidesGrid[d],h=t.slidesGrid[f],g=t.slidesGrid[t.slidesGrid.length-1],v=Math.abs(e);v>=m?l=(v-m)/g:l=(v+g-h)/g,l>1&&(l-=1)}Object.assign(t,{progress:a,progressLoop:l,isBeginning:s,isEnd:i}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!c&&t.emit("reachBeginning toEdge"),i&&!u&&t.emit("reachEnd toEdge"),(c&&!s||u&&!i)&&t.emit("fromEdge"),t.emit("progress",a)}const cf=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function ZH(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:a}=e,s=e.virtual&&n.virtual.enabled,i=e.grid&&n.grid&&n.grid.rows>1,l=f=>ua(r,".".concat(n.slideClass).concat(f,", swiper-slide").concat(f))[0];let c,u,d;if(s)if(n.loop){let f=a-e.virtual.slidesBefore;f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),c=l('[data-swiper-slide-index="'.concat(f,'"]'))}else c=l('[data-swiper-slide-index="'.concat(a,'"]'));else i?(c=t.find(f=>f.column===a),d=t.find(f=>f.column===a+1),u=t.find(f=>f.column===a-1)):c=t[a];c&&(i||(d=BH(c,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&!d&&(d=t[0]),u=FH(c,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&!u===0&&(u=t[t.length-1]))),t.forEach(f=>{cf(f,f===c,n.slideActiveClass),cf(f,f===d,n.slideNextClass),cf(f,f===u,n.slidePrevClass)}),e.emitSlidesClasses()}const vc=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":".".concat(e.params.slideClass),r=t.closest(n());if(r){let a=r.querySelector(".".concat(e.params.lazyPreloaderClass));!a&&e.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)),a&&a.remove())})),a&&a.remove()}},uf=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},mh=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),a=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const i=a,l=[i-t];l.push(...Array.from({length:t}).map((c,u)=>i+r+u)),e.slides.forEach((c,u)=>{l.includes(c.column)&&uf(e,u)});return}const s=a+r-1;if(e.params.rewind||e.params.loop)for(let i=a-t;i<=s+t;i+=1){const l=(i%n+n)%n;(l<a||l>s)&&uf(e,l)}else for(let i=Math.max(a-t,0);i<=Math.min(s+t,n-1);i+=1)i!==a&&(i>s||i<a)&&uf(e,i)};function e7(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let a;for(let s=0;s<t.length;s+=1)typeof t[s+1]<"u"?r>=t[s]&&r<t[s+1]-(t[s+1]-t[s])/2?a=s:r>=t[s]&&r<t[s+1]&&(a=s+1):r>=t[s]&&(a=s);return n.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function t7(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:a,activeIndex:s,realIndex:i,snapIndex:l}=t;let c=e,u;const d=h=>{let g=h-t.virtual.slidesBefore;return g<0&&(g=t.virtual.slides.length+g),g>=t.virtual.slides.length&&(g-=t.virtual.slides.length),g};if(typeof c>"u"&&(c=e7(t)),r.indexOf(n)>=0)u=r.indexOf(n);else{const h=Math.min(a.slidesPerGroupSkip,c);u=h+Math.floor((c-h)/a.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===s&&!t.params.loop){u!==l&&(t.snapIndex=u,t.emit("snapIndexChange"));return}if(c===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=d(c);return}const f=t.grid&&a.grid&&a.grid.rows>1;let m;if(t.virtual&&a.virtual.enabled&&a.loop)m=d(c);else if(f){const h=t.slides.find(v=>v.column===c);let g=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(t.slides.indexOf(h),0)),m=Math.floor(g/a.grid.rows)}else if(t.slides[c]){const h=t.slides[c].getAttribute("data-swiper-slide-index");h?m=parseInt(h,10):m=c}else m=c;Object.assign(t,{previousSnapIndex:l,snapIndex:u,previousRealIndex:i,realIndex:m,previousIndex:s,activeIndex:c}),t.initialized&&mh(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(i!==m&&t.emit("realIndexChange"),t.emit("slideChange"))}function n7(e,t){const n=this,r=n.params;let a=e.closest(".".concat(r.slideClass,", swiper-slide"));!a&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(l=>{!a&&l.matches&&l.matches(".".concat(r.slideClass,", swiper-slide"))&&(a=l)});let s=!1,i;if(a){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===a){s=!0,i=l;break}}if(a&&s)n.clickedSlide=a,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=i;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var r7={updateSize:qH,updateSlides:jH,updateAutoHeight:KH,updateSlidesOffset:QH,updateSlidesProgress:XH,updateProgress:JH,updateSlidesClasses:ZH,updateActiveIndex:t7,updateClickedSlide:n7};function a7(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:r,translate:a,wrapperEl:s}=t;if(n.virtualTranslate)return r?-a:a;if(n.cssMode)return a;let i=IH(s,e);return i+=t.cssOverflowAdjustment(),r&&(i=-i),i||0}function s7(e,t){const n=this,{rtlTranslate:r,params:a,wrapperEl:s,progress:i}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-e:e:c=e,a.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,a.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:a.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform="translate3d(".concat(l,"px, ").concat(c,"px, ").concat(u,"px)"));let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(e-n.minTranslate())/f,d!==i&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function i7(){return-this.snapGrid[0]}function o7(){return-this.snapGrid[this.snapGrid.length-1]}function l7(e,t,n,r,a){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:i,wrapperEl:l}=s;if(s.animating&&i.preventInteractionOnTransition)return!1;const c=s.minTranslate(),u=s.maxTranslate();let d;if(r&&e>c?d=c:r&&e<u?d=u:d=e,s.updateProgress(d),i.cssMode){const f=s.isHorizontal();if(t===0)l[f?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return vw({swiper:s,targetPosition:-d,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return t===0?(s.setTransition(0),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",t,a),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",t,a),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(m){!s||s.destroyed||m.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var c7={getTranslate:a7,setTranslate:s7,minTranslate:i7,maxTranslate:o7,translateTo:l7};function u7(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration="".concat(e,"ms"),n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function Cw(e){let{swiper:t,runCallbacks:n,direction:r,step:a}=e;const{activeIndex:s,previousIndex:i}=t;let l=r;l||(s>i?l="next":s<i?l="prev":l="reset"),t.emit("transition".concat(a)),n&&l==="reset"?t.emit("slideResetTransition".concat(a)):n&&s!==i&&(t.emit("slideChangeTransition".concat(a)),l==="next"?t.emit("slideNextTransition".concat(a)):t.emit("slidePrevTransition".concat(a)))}function d7(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Cw({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function f7(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Cw({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var h7={setTransition:u7,transitionStart:d7,transitionEnd:f7};function m7(e,t,n,r,a){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const s=this;let i=e;i<0&&(i=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:f,rtlTranslate:m,wrapperEl:h,enabled:g}=s;if(!g&&!r&&!a||s.destroyed||s.animating&&l.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=s.params.speed);const v=Math.min(s.params.slidesPerGroupSkip,i);let _=v+Math.floor((i-v)/s.params.slidesPerGroup);_>=c.length&&(_=c.length-1);const E=-c[_];if(l.normalizeSlideIndex)for(let k=0;k<u.length;k+=1){const I=-Math.floor(E*100),A=Math.floor(u[k]*100),x=Math.floor(u[k+1]*100);typeof u[k+1]<"u"?I>=A&&I<x-(x-A)/2?i=k:I>=A&&I<x&&(i=k+1):I>=A&&(i=k)}if(s.initialized&&i!==f&&(!s.allowSlideNext&&(m?E>s.translate&&E>s.minTranslate():E<s.translate&&E<s.minTranslate())||!s.allowSlidePrev&&E>s.translate&&E>s.maxTranslate()&&(f||0)!==i))return!1;i!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(E);let C;i>f?C="next":i<f?C="prev":C="reset";const w=s.virtual&&s.params.virtual.enabled;if(!(w&&a)&&(m&&-E===s.translate||!m&&E===s.translate))return s.updateActiveIndex(i),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(E),C!=="reset"&&(s.transitionStart(n,C),s.transitionEnd(n,C)),!1;if(l.cssMode){const k=s.isHorizontal(),I=m?E:-E;if(t===0)w&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),w&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[k?"scrollLeft":"scrollTop"]=I})):h[k?"scrollLeft":"scrollTop"]=I,w&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return vw({swiper:s,targetPosition:I,side:k?"left":"top"}),!0;h.scrollTo({[k?"left":"top"]:I,behavior:"smooth"})}return!0}const T=ww().isSafari;return w&&!a&&T&&s.isElement&&s.virtual.update(!1,!1,i),s.setTransition(t),s.setTranslate(E),s.updateActiveIndex(i),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(n,C),t===0?s.transitionEnd(n,C):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(I){!s||s.destroyed||I.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,C))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function p7(e,t,n,r){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const a=this;if(a.destroyed)return;typeof t>"u"&&(t=a.params.speed);const s=a.grid&&a.params.grid&&a.params.grid.rows>1;let i=e;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)i=i+a.virtual.slidesBefore;else{let l;if(s){const m=i*a.params.grid.rows;l=a.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===m).column}else l=a.getSlideIndexByData(i);const c=s?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:u}=a.params;let d=a.params.slidesPerView;d==="auto"?d=a.slidesPerViewDynamic():(d=Math.ceil(parseFloat(a.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let f=c-l<d;if(u&&(f=f||l<Math.ceil(d/2)),r&&u&&a.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const m=u?l<a.activeIndex?"prev":"next":l-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?l+1:l-c+1,slideRealIndex:m==="next"?a.realIndex:void 0})}if(s){const m=i*a.params.grid.rows;i=a.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===m).column}else i=a.getSlideIndexByData(i)}return requestAnimationFrame(()=>{a.slideTo(i,t,n,r)}),a}function g7(e,t,n){t===void 0&&(t=!0);const r=this,{enabled:a,params:s,animating:i}=r;if(!a||r.destroyed)return r;typeof e>"u"&&(e=r.params.speed);let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:l,u=r.virtual&&s.virtual.enabled;if(s.loop){if(i&&!u&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,e,t,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+c,e,t,n)}function y7(e,t,n){t===void 0&&(t=!0);const r=this,{params:a,snapGrid:s,slidesGrid:i,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;typeof e>"u"&&(e=r.params.speed);const d=r.virtual&&a.virtual.enabled;if(a.loop){if(u&&!d&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=l?r.translate:-r.translate;function m(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const h=m(f),g=s.map(C=>m(C)),v=a.freeMode&&a.freeMode.enabled;let _=s[g.indexOf(h)-1];if(typeof _>"u"&&(a.cssMode||v)){let C;s.forEach((w,S)=>{h>=w&&(C=S)}),typeof C<"u"&&(_=v?s[C]:s[C>0?C-1:C])}let E=0;if(typeof _<"u"&&(E=i.indexOf(_),E<0&&(E=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(E=E-r.slidesPerViewDynamic("previous",!0)+1,E=Math.max(E,0))),a.rewind&&r.isBeginning){const C=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(C,e,t,n)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(E,e,t,n)}),!0;return r.slideTo(E,e,t,n)}function v7(e,t,n){t===void 0&&(t=!0);const r=this;if(!r.destroyed)return typeof e>"u"&&(e=r.params.speed),r.slideTo(r.activeIndex,e,t,n)}function b7(e,t,n,r){t===void 0&&(t=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);let s=a.activeIndex;const i=Math.min(a.params.slidesPerGroupSkip,s),l=i+Math.floor((s-i)/a.params.slidesPerGroup),c=a.rtlTranslate?a.translate:-a.translate;if(c>=a.snapGrid[l]){const u=a.snapGrid[l],d=a.snapGrid[l+1];c-u>(d-u)*r&&(s+=a.params.slidesPerGroup)}else{const u=a.snapGrid[l-1],d=a.snapGrid[l];c-u<=(d-u)*r&&(s-=a.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,a.slidesGrid.length-1),a.slideTo(s,e,t,n)}function E7(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let a=e.getSlideIndexWhenGrid(e.clickedIndex),s;const i=e.isElement?"swiper-slide":".".concat(t.slideClass),l=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(s):a>(l?(e.slides.length-r)/2-(e.params.grid.rows-1):e.slides.length-r)?(e.loopFix(),a=e.getSlideIndex(ua(n,"".concat(i,'[data-swiper-slide-index="').concat(s,'"]'))[0]),yw(()=>{e.slideTo(a)})):e.slideTo(a)}else e.slideTo(a)}var _7={slideTo:m7,slideToLoop:p7,slideNext:g7,slidePrev:y7,slideReset:v7,slideToClosest:b7,slideToClickedSlide:E7};function w7(e,t){const n=this,{params:r,slidesEl:a}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{ua(a,".".concat(r.slideClass,", swiper-slide")).forEach((h,g)=>{h.setAttribute("data-swiper-slide-index",g)})},i=()=>{const m=ua(a,".".concat(r.slideBlankClass));m.forEach(h=>{h.remove()}),m.length>0&&(n.recalcSlides(),n.updateSlides())},l=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||l)&&i();const c=r.slidesPerGroup*(l?r.grid.rows:1),u=n.slides.length%c!==0,d=l&&n.slides.length%r.grid.rows!==0,f=m=>{for(let h=0;h<m;h+=1){const g=n.isElement?eu("swiper-slide",[r.slideBlankClass]):eu("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(g)}};if(u){if(r.loopAddBlankSlides){const m=c-n.slides.length%c;f(m),n.recalcSlides(),n.updateSlides()}else Zc("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(d){if(r.loopAddBlankSlides){const m=r.grid.rows-n.slides.length%r.grid.rows;f(m),n.recalcSlides(),n.updateSlides()}else Zc("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:e,direction:r.centeredSlides?void 0:"next",initial:t})}function C7(e){let{slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:a,activeSlideIndex:s,initial:i,byController:l,byMousewheel:c}=e===void 0?{}:e;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:m,slidesEl:h,params:g}=u,{centeredSlides:v,initialSlide:_}=g;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&g.virtual.enabled){n&&(!g.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):g.centeredSlides&&u.snapIndex<g.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=f,u.allowSlideNext=m,u.emit("loopFix");return}let E=g.slidesPerView;E==="auto"?E=u.slidesPerViewDynamic():(E=Math.ceil(parseFloat(g.slidesPerView,10)),v&&E%2===0&&(E=E+1));const C=g.slidesPerGroupAuto?E:g.slidesPerGroup;let w=v?Math.max(C,Math.ceil(E/2)):C;w%C!==0&&(w+=C-w%C),w+=g.loopAdditionalSlides,u.loopedSlides=w;const S=u.grid&&g.grid&&g.grid.rows>1;d.length<E+w||u.params.effect==="cards"&&d.length<E+w*2?Zc("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):S&&g.grid.fill==="row"&&Zc("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const N=[],T=[],k=S?Math.ceil(d.length/g.grid.rows):d.length,I=i&&k-_<E&&!v;let A=I?_:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(d.find(U=>U.classList.contains(g.slideActiveClass))):A=s;const x=r==="next"||!r,D=r==="prev"||!r;let P=0,M=0;const F=(S?d[s].column:s)+(v&&typeof a>"u"?-E/2+.5:0);if(F<w){P=Math.max(w-F,C);for(let U=0;U<w-F;U+=1){const $=U-Math.floor(U/k)*k;if(S){const H=k-$-1;for(let K=d.length-1;K>=0;K-=1)d[K].column===H&&N.push(K)}else N.push(k-$-1)}}else if(F+E>k-w){M=Math.max(F-(k-w*2),C),I&&(M=Math.max(M,E-k+_+1));for(let U=0;U<M;U+=1){const $=U-Math.floor(U/k)*k;S?d.forEach((H,K)=>{H.column===$&&T.push(K)}):T.push($)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<E+w*2&&(T.includes(s)&&T.splice(T.indexOf(s),1),N.includes(s)&&N.splice(N.indexOf(s),1)),D&&N.forEach(U=>{d[U].swiperLoopMoveDOM=!0,h.prepend(d[U]),d[U].swiperLoopMoveDOM=!1}),x&&T.forEach(U=>{d[U].swiperLoopMoveDOM=!0,h.append(d[U]),d[U].swiperLoopMoveDOM=!1}),u.recalcSlides(),g.slidesPerView==="auto"?u.updateSlides():S&&(N.length>0&&D||T.length>0&&x)&&u.slides.forEach((U,$)=>{u.grid.updateSlide($,U,u.slides)}),g.watchSlidesProgress&&u.updateSlidesOffset(),n){if(N.length>0&&D){if(typeof t>"u"){const U=u.slidesGrid[A],H=u.slidesGrid[A+P]-U;c?u.setTranslate(u.translate-H):(u.slideTo(A+Math.ceil(P),0,!1,!0),a&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-H,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-H))}else if(a){const U=S?N.length/g.grid.rows:N.length;u.slideTo(u.activeIndex+U,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(T.length>0&&x)if(typeof t>"u"){const U=u.slidesGrid[A],H=u.slidesGrid[A-M]-U;c?u.setTranslate(u.translate-H):(u.slideTo(A-M,0,!1,!0),a&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-H,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-H))}else{const U=S?T.length/g.grid.rows:T.length;u.slideTo(u.activeIndex-U,0,!1,!0)}}if(u.allowSlidePrev=f,u.allowSlideNext=m,u.controller&&u.controller.control&&!l){const U={slideRealIndex:t,direction:r,setTranslate:a,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach($=>{!$.destroyed&&$.params.loop&&$.loopFix({...U,slideTo:$.params.slidesPerView===g.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...U,slideTo:u.controller.control.params.slidesPerView===g.slidesPerView?n:!1})}u.emit("loopFix")}function T7(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(a=>{const s=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[s]=a}),e.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{n.append(a)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var S7={loopCreate:w7,loopFix:C7,loopDestroy:T7};function N7(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function k7(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var D7={setGrabCursor:N7,unsetGrabCursor:k7};function x7(e,t){t===void 0&&(t=this);function n(r){if(!r||r===Qs()||r===zn())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(e);return!a&&!r.getRootNode?null:a||n(r.getRootNode().host)}return n(t)}function Oy(e,t,n){const r=zn(),{params:a}=e,s=a.edgeSwipeDetection,i=a.edgeSwipeThreshold;return s&&(n<=i||n>=r.innerWidth-i)?s==="prevent"?(t.preventDefault(),!0):!1:!0}function A7(e){const t=this,n=Qs();let r=e;r.originalEvent&&(r=r.originalEvent);const a=t.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Oy(t,r,r.targetTouches[0].pageX);return}const{params:s,touches:i,enabled:l}=t;if(!l||!s.simulateTouch&&r.pointerType==="mouse"||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let c=r.target;if(s.touchEventsTarget==="wrapper"&&!MH(c,t.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const f=s.noSwipingSelector?s.noSwipingSelector:".".concat(s.noSwipingClass),m=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(m?x7(f,c):c.closest(f))){t.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;i.currentX=r.pageX,i.currentY=r.pageY;const h=i.currentX,g=i.currentY;if(!Oy(t,r,h))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=h,i.startY=g,a.touchStartTime=Jc(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(a.allowThresholdMove=!1);let v=!0;c.matches(a.focusableElements)&&(v=!1,c.nodeName==="SELECT"&&(a.isTouched=!1)),n.activeElement&&n.activeElement.matches(a.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(a.focusableElements))&&n.activeElement.blur();const _=v&&t.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||_)&&!c.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function P7(e){const t=Qs(),n=this,r=n.touchEventsData,{params:a,touches:s,rtlTranslate:i,enabled:l}=n;if(!l||!a.simulateTouch&&e.pointerType==="mouse")return;let c=e;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].find(T=>T.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,f=u.pageY;if(c.preventedByNestedSwiper){s.startX=d,s.startY=f;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=Jc());return}if(a.touchReleaseOnEdges&&!a.loop)if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(i&&(d>s.startX&&-n.translate<=n.maxTranslate()||d<s.startX&&-n.translate>=n.minTranslate()))return;if(!i&&(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==c.target&&c.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=f;const m=s.currentX-s.startX,h=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(m**2+h**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let T;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:m*m+h*h>=25&&(T=Math.atan2(Math.abs(h),Math.abs(m))*180/Math.PI,r.isScrolling=n.isHorizontal()?T>a.touchAngle:90-T>a.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!a.cssMode&&c.cancelable&&c.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&c.stopPropagation();let g=n.isHorizontal()?m:h,v=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;a.oneWayMovement&&(g=Math.abs(g)*(i?1:-1),v=Math.abs(v)*(i?1:-1)),s.diff=g,g*=a.touchRatio,i&&(g=-g,v=-v);const _=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const E=n.params.loop&&!a.cssMode,C=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(E&&C&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(T)}r.allowMomentumBounce=!1,a.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let w;if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&_!==n.touchesDirection&&E&&C&&Math.abs(g)>=1){Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let S=!0,N=a.resistanceRatio;if(a.touchReleaseOnEdges&&(N=0),g>0?(E&&C&&!w&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(a.slidesPerView!=="auto"&&n.slides.length-a.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(S=!1,a.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**N))):g<0&&(E&&C&&!w&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(a.slidesPerView!=="auto"&&n.slides.length-a.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(a.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(S=!1,a.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**N))),S&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(g)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&n.freeMode||a.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function O7(e){const t=this,n=t.touchEventsData;let r=e;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(N=>N.identifier===n.touchId),!a||a.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:i,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=t;if(!d||!i.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&i.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}i.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const f=Jc(),m=f-n.touchStartTime;if(t.allowClick){const N=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(N&&N[0]||r.target,N),t.emit("tap click",r),m<300&&f-n.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Jc(),yw(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(i.followFinger?h=c?t.translate:-t.translate:h=-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:h});return}const g=h>=-t.maxTranslate()&&!t.params.loop;let v=0,_=t.slidesSizesGrid[0];for(let N=0;N<u.length;N+=N<i.slidesPerGroupSkip?1:i.slidesPerGroup){const T=N<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof u[N+T]<"u"?(g||h>=u[N]&&h<u[N+T])&&(v=N,_=u[N+T]-u[N]):(g||h>=u[N])&&(v=N,_=u[u.length-1]-u[u.length-2])}let E=null,C=null;i.rewind&&(t.isBeginning?C=i.virtual&&i.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(E=0));const w=(h-u[v])/_,S=v<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(m>i.longSwipesMs){if(!i.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(w>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?E:v+S):t.slideTo(v)),t.swipeDirection==="prev"&&(w>1-i.longSwipesRatio?t.slideTo(v+S):C!==null&&w<0&&Math.abs(w)>i.longSwipesRatio?t.slideTo(C):t.slideTo(v))}else{if(!i.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(v+S):t.slideTo(v):(t.swipeDirection==="next"&&t.slideTo(E!==null?E:v+S),t.swipeDirection==="prev"&&t.slideTo(C!==null?C:v))}}function Iy(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:s}=e,i=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=i&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!l?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!i?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=a,e.allowSlideNext=r,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function I7(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function L7(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let a;const s=e.maxTranslate()-e.minTranslate();s===0?a=0:a=(e.translate-e.minTranslate())/s,a!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function R7(e){const t=this;vc(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function M7(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Tw=(e,t)=>{const n=Qs(),{params:r,el:a,wrapperEl:s,device:i}=e,l=!!r.nested,c=t==="on"?"addEventListener":"removeEventListener",u=t;!a||typeof a=="string"||(n[c]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:l}),a[c]("touchstart",e.onTouchStart,{passive:!1}),a[c]("pointerdown",e.onTouchStart,{passive:!1}),n[c]("touchmove",e.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",e.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",e.onTouchEnd,{passive:!0}),n[c]("pointerup",e.onTouchEnd,{passive:!0}),n[c]("pointercancel",e.onTouchEnd,{passive:!0}),n[c]("touchcancel",e.onTouchEnd,{passive:!0}),n[c]("pointerout",e.onTouchEnd,{passive:!0}),n[c]("pointerleave",e.onTouchEnd,{passive:!0}),n[c]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[c]("click",e.onClick,!0),r.cssMode&&s[c]("scroll",e.onScroll),r.updateOnWindowResize?e[u](i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",Iy,!0):e[u]("observerUpdate",Iy,!0),a[c]("load",e.onLoad,{capture:!0}))};function F7(){const e=this,{params:t}=e;e.onTouchStart=A7.bind(e),e.onTouchMove=P7.bind(e),e.onTouchEnd=O7.bind(e),e.onDocumentTouchStart=M7.bind(e),t.cssMode&&(e.onScroll=L7.bind(e)),e.onClick=I7.bind(e),e.onLoad=R7.bind(e),Tw(e,"on")}function B7(){Tw(this,"off")}var U7={attachEvents:F7,detachEvents:B7};const Ly=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function H7(){const e=this,{realIndex:t,initialized:n,params:r,el:a}=e,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const i=Qs(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?e.el:i.querySelector(r.breakpointsBase),u=e.getBreakpoint(s,l,c);if(!u||e.currentBreakpoint===u)return;const f=(u in s?s[u]:void 0)||e.originalParams,m=Ly(e,r),h=Ly(e,f),g=e.params.grabCursor,v=f.grabCursor,_=r.enabled;m&&!h?(a.classList.remove("".concat(r.containerModifierClass,"grid"),"".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()):!m&&h&&(a.classList.add("".concat(r.containerModifierClass,"grid")),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&a.classList.add("".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()),g&&!v?e.unsetGrabCursor():!g&&v&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(T=>{if(typeof f[T]>"u")return;const k=r[T]&&r[T].enabled,I=f[T]&&f[T].enabled;k&&!I&&e[T].disable(),!k&&I&&e[T].enable()});const E=f.direction&&f.direction!==r.direction,C=r.loop&&(f.slidesPerView!==r.slidesPerView||E),w=r.loop;E&&n&&e.changeDirection(),ir(e.params,f);const S=e.params.enabled,N=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),_&&!S?e.disable():!_&&S&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",f),n&&(C?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!w&&N?(e.loopCreate(t),e.updateSlides()):w&&!N&&e.loopDestroy()),e.emit("breakpoint",f)}function G7(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let r=!1;const a=zn(),s=t==="window"?a.innerHeight:n.clientHeight,i=Object.keys(e).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:s*c,point:l}}return{value:l,point:l}});i.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<i.length;l+=1){const{point:c,value:u}=i[l];t==="window"?a.matchMedia("(min-width: ".concat(u,"px)")).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var $7={setBreakpoint:H7,getBreakpoint:G7};function W7(e,t){const n=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&n.push(t+a)}):typeof r=="string"&&n.push(t+r)}),n}function Y7(){const e=this,{classNames:t,params:n,rtl:r,el:a,device:s}=e,i=W7(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...i),a.classList.add(...t),e.emitContainerClasses()}function z7(){const e=this,{el:t,classNames:n}=e;!t||typeof t=="string"||(t.classList.remove(...n),e.emitContainerClasses())}var V7={addClasses:Y7,removeClasses:z7};function q7(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const a=e.slides.length-1,s=e.slidesGrid[a]+e.slidesSizesGrid[a]+r*2;e.isLocked=e.size>s}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var j7={checkOverflow:q7},ph={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function K7(e,t){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],s=r[a];if(typeof s!="object"||s===null){ir(t,r);return}if(e[a]===!0&&(e[a]={enabled:!0}),a==="navigation"&&e[a]&&e[a].enabled&&!e[a].prevEl&&!e[a].nextEl&&(e[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&e[a]&&e[a].enabled&&!e[a].el&&(e[a].auto=!0),!(a in e&&"enabled"in s)){ir(t,r);return}typeof e[a]=="object"&&!("enabled"in e[a])&&(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),ir(t,r)}}const df={eventsEmitter:VH,update:r7,translate:c7,transition:h7,slide:_7,loop:S7,grabCursor:D7,events:U7,breakpoints:$7,checkOverflow:j7,classes:V7},ff={};let $m=class Na{constructor(){let t,n;for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?n=a[0]:[t,n]=a,n||(n={}),n=ir({},n),t&&!n.el&&(n.el=t);const i=Qs();if(n.el&&typeof n.el=="string"&&i.querySelectorAll(n.el).length>1){const d=[];return i.querySelectorAll(n.el).forEach(f=>{const m=ir({},n,{el:f});d.push(new Na(m))}),d}const l=this;l.__swiper__=!0,l.support=Ew(),l.device=_w({userAgent:n.userAgent}),l.browser=ww(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(d=>{d({params:n,swiper:l,extendParams:K7(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=ir({},ph,c);return l.params=ir({},u,ff,n),l.originalParams=ir({},l.params),l.passedParams=ir({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:r}=this,a=ua(n,".".concat(r.slideClass,", swiper-slide")),s=Dy(a[0]);return Dy(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:n,params:r}=t;t.slides=ua(n,".".concat(r.slideClass,", swiper-slide"))}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const r=this;t=Math.min(Math.max(t,0),1);const a=r.minTranslate(),i=(r.maxTranslate()-a)*t+a;r.translateTo(i,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(r=>{const a=t.getSlideClasses(r);n.push({slideEl:r,classNames:a}),t.emit("_slideClass",r,a)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const r=this,{params:a,slides:s,slidesGrid:i,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let f=s[u]?Math.ceil(s[u].swiperSlideSize):0,m;for(let h=u+1;h<s.length;h+=1)s[h]&&!m&&(f+=Math.ceil(s[h].swiperSlideSize),d+=1,f>c&&(m=!0));for(let h=u-1;h>=0;h-=1)s[h]&&!m&&(f+=s[h].swiperSlideSize,d+=1,f>c&&(m=!0))}else if(t==="current")for(let f=u+1;f<s.length;f+=1)(n?i[f]+l[f]-i[u]<c:i[f]-i[u]<c)&&(d+=1);else for(let f=u-1;f>=0;f-=1)i[u]-i[f]<c&&(d+=1);return d}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(i=>{i.complete&&vc(t,i)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function a(){const i=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(i,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&t.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!r.centeredSlides){const i=t.virtual&&r.virtual.enabled?t.virtual.slides:t.slides;s=t.slideTo(i.length-1,0,!1,!0)}else s=t.slideTo(t.activeIndex,0,!1,!0);s||a()}r.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const r=this,a=r.params.direction;return t||(t=a==="horizontal"?"vertical":"horizontal"),t===a||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove("".concat(r.params.containerModifierClass).concat(a)),r.el.classList.add("".concat(r.params.containerModifierClass).concat(t)),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(s=>{t==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add("".concat(n.params.containerModifierClass,"rtl")),n.el.dir="rtl"):(n.el.classList.remove("".concat(n.params.containerModifierClass,"rtl")),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let r=t||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const a=()=>".".concat((n.params.wrapperClass||"").trim().split(" ").join("."));let i=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):ua(r,a())[0])();return!i&&n.params.createElements&&(i=eu("div",n.params.wrapperClass),r.append(i),ua(r,".".concat(n.params.slideClass)).forEach(l=>{i.append(l)})),Object.assign(n,{el:r,wrapperEl:i,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:i,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Za(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Za(r,"direction")==="rtl"),wrongRTL:Za(i,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const a=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&a.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(s=>{s.complete?vc(n,s):s.addEventListener("load",i=>{vc(n,i.target)})}),mh(n),n.initialized=!0,mh(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const r=this,{params:a,el:s,wrapperEl:i,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),i&&i.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),t!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),PH(r)),r.destroyed=!0),null}static extendDefaults(t){ir(ff,t)}static get extendedDefaults(){return ff}static get defaults(){return ph}static installModule(t){Na.prototype.__modules__||(Na.prototype.__modules__=[]);const n=Na.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>Na.installModule(n)),Na):(Na.installModule(t),Na)}};Object.keys(df).forEach(e=>{Object.keys(df[e]).forEach(t=>{$m.prototype[t]=df[e][t]})});$m.use([YH,zH]);const Sw=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Bs(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Ei(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:Bs(t[r])&&Bs(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:Ei(e[r],t[r]):e[r]=t[r]})}function Nw(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function kw(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function Dw(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function xw(e){e===void 0&&(e="");const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Q7(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:"swiper-wrapper ".concat(e):"swiper-wrapper"}function X7(e){let{swiper:t,slides:n,passedParams:r,changedParams:a,nextEl:s,prevEl:i,scrollbarEl:l,paginationEl:c}=e;const u=a.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:d,pagination:f,navigation:m,scrollbar:h,virtual:g,thumbs:v}=t;let _,E,C,w,S,N,T,k;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(_=!0),a.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(E=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(C=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(d.scrollbar||d.scrollbar===!1)&&h&&!h.el&&(w=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||i)&&(r.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(S=!0);const I=A=>{t[A]&&(t[A].destroy(),A==="navigation"?(t.isElement&&(t[A].prevEl.remove(),t[A].nextEl.remove()),d[A].prevEl=void 0,d[A].nextEl=void 0,t[A].prevEl=void 0,t[A].nextEl=void 0):(t.isElement&&t[A].el.remove(),d[A].el=void 0,t[A].el=void 0))};a.includes("loop")&&t.isElement&&(d.loop&&!r.loop?N=!0:!d.loop&&r.loop?T=!0:k=!0),u.forEach(A=>{if(Bs(d[A])&&Bs(r[A]))Object.assign(d[A],r[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in r[A]&&!r[A].enabled&&I(A);else{const x=r[A];(x===!0||x===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?x===!1&&I(A):d[A]=r[A]}}),u.includes("controller")&&!E&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),a.includes("children")&&n&&g&&d.virtual.enabled?(g.slides=n,g.update(!0)):a.includes("virtual")&&g&&d.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),a.includes("children")&&n&&d.loop&&(k=!0),_&&v.init()&&v.update(!0),E&&(t.controller.control=d.controller.control),C&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),t.el.appendChild(c)),c&&(d.pagination.el=c),f.init(),f.render(),f.update()),w&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(d.scrollbar.el=l),h.init(),h.updateSize(),h.setTranslate()),S&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Ay(s,t.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),t.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),Ay(i,t.hostEl.constructor.prevButtonSvg),i.part.add("button-prev"),t.el.appendChild(i))),s&&(d.navigation.nextEl=s),i&&(d.navigation.prevEl=i),m.init(),m.update()),a.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&t.changeDirection(r.direction,!1),(N||k)&&t.loopDestroy(),(T||k)&&t.loopCreate(),t.update()}function J7(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const n={on:{}},r={},a={};Ei(n,ph),n._emitClasses=!0,n.init=!1;const s={},i=Sw.map(c=>c.replace(/_/,"")),l=Object.assign({},e);return Object.keys(l).forEach(c=>{typeof e[c]>"u"||(i.indexOf(c)>=0?Bs(e[c])?(n[c]={},a[c]={},Ei(n[c],e[c]),Ei(a[c],e[c])):(n[c]=e[c],a[c]=e[c]):c.search(/on[A-Z]/)===0&&typeof e[c]=="function"?t?r["".concat(c[2].toLowerCase()).concat(c.substr(3))]=e[c]:n.on["".concat(c[2].toLowerCase()).concat(c.substr(3))]=e[c]:s[c]=e[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:a,rest:s,events:r}}function Z7(e,t){let{el:n,nextEl:r,prevEl:a,paginationEl:s,scrollbarEl:i,swiper:l}=e;Nw(t)&&r&&a&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=a,l.originalParams.navigation.prevEl=a),kw(t)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),Dw(t)&&i&&(l.params.scrollbar.el=i,l.originalParams.scrollbar.el=i),l.init(n)}function eG(e,t,n,r,a){const s=[];if(!t)return s;const i=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&r){const c=r.map(a),u=n.map(a);c.join("")!==u.join("")&&i("children"),r.length!==n.length&&i("children")}return Sw.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in e&&c in t)if(Bs(e[c])&&Bs(t[c])){const u=Object.keys(e[c]),d=Object.keys(t[c]);u.length!==d.length?i(c):(u.forEach(f=>{e[c][f]!==t[c][f]&&i(c)}),d.forEach(f=>{e[c][f]!==t[c][f]&&i(c)}))}else e[c]!==t[c]&&i(c)}),s}const tG=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(this,arguments)}function Aw(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Pw(e){const t=[];return Z.Children.toArray(e).forEach(n=>{Aw(n)?t.push(n):n.props&&n.props.children&&Pw(n.props.children).forEach(r=>t.push(r))}),t}function nG(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Z.Children.toArray(e).forEach(r=>{if(Aw(r))t.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const a=Pw(r.props.children);a.length>0?a.forEach(s=>t.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:t,slots:n}}function rG(e,t,n){if(!n)return null;const r=d=>{let f=d;return d<0?f=t.length+d:f>=t.length&&(f=f-t.length),f},a=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:"".concat(n.offset,"px")}:{top:"".concat(n.offset,"px")},{from:s,to:i}=n,l=e.params.loop?-t.length:0,c=e.params.loop?t.length*2:t.length,u=[];for(let d=l;d<c;d+=1)d>=s&&d<=i&&u.push(t[r(d)]);return u.map((d,f)=>Z.cloneElement(d,{swiper:e,style:a,key:d.props.virtualIndex||d.key||"slide-".concat(f)}))}function So(e,t){return typeof window>"u"?y.useEffect(e,t):y.useLayoutEffect(e,t)}const Ry=y.createContext(null),aG=y.createContext(null),Wm=y.forwardRef(function(e,t){let{className:n,tag:r="div",wrapperTag:a="div",children:s,onSwiper:i,...l}=e===void 0?{}:e,c=!1;const[u,d]=y.useState("swiper"),[f,m]=y.useState(null),[h,g]=y.useState(!1),v=y.useRef(!1),_=y.useRef(null),E=y.useRef(null),C=y.useRef(null),w=y.useRef(null),S=y.useRef(null),N=y.useRef(null),T=y.useRef(null),k=y.useRef(null),{params:I,passedParams:A,rest:x,events:D}=J7(l),{slides:P,slots:M}=nG(s),R=()=>{g(!h)};Object.assign(I.on,{_containerClasses(K,L){d(L)}});const F=()=>{Object.assign(I.on,D),c=!0;const K={...I};if(delete K.wrapperClass,E.current=new $m(K),E.current.virtual&&E.current.params.virtual.enabled){E.current.virtual.slides=P;const L={cache:!1,slides:P,renderExternal:m,renderExternalUpdate:!1};Ei(E.current.params.virtual,L),Ei(E.current.originalParams.virtual,L)}};_.current||F(),E.current&&E.current.on("_beforeBreakpoint",R);const U=()=>{c||!D||!E.current||Object.keys(D).forEach(K=>{E.current.on(K,D[K])})},$=()=>{!D||!E.current||Object.keys(D).forEach(K=>{E.current.off(K,D[K])})};y.useEffect(()=>()=>{E.current&&E.current.off("_beforeBreakpoint",R)}),y.useEffect(()=>{!v.current&&E.current&&(E.current.emitSlidesClasses(),v.current=!0)}),So(()=>{if(t&&(t.current=_.current),!!_.current)return E.current.destroyed&&F(),Z7({el:_.current,nextEl:S.current,prevEl:N.current,paginationEl:T.current,scrollbarEl:k.current,swiper:E.current},I),i&&!E.current.destroyed&&i(E.current),()=>{E.current&&!E.current.destroyed&&E.current.destroy(!0,!1)}},[]),So(()=>{U();const K=eG(A,C.current,P,w.current,L=>L.key);return C.current=A,w.current=P,K.length&&E.current&&!E.current.destroyed&&X7({swiper:E.current,slides:P,passedParams:A,changedParams:K,nextEl:S.current,prevEl:N.current,scrollbarEl:k.current,paginationEl:T.current}),()=>{$()}}),So(()=>{tG(E.current)},[f]);function H(){return I.virtual?rG(E.current,P,f):P.map((K,L)=>Z.cloneElement(K,{swiper:E.current,swiperSlideIndex:L}))}return Z.createElement(r,tu({ref:_,className:xw("".concat(u).concat(n?" ".concat(n):""))},x),Z.createElement(aG.Provider,{value:E.current},M["container-start"],Z.createElement(a,{className:Q7(I.wrapperClass)},M["wrapper-start"],H(),M["wrapper-end"]),Nw(I)&&Z.createElement(Z.Fragment,null,Z.createElement("div",{ref:N,className:"swiper-button-prev"}),Z.createElement("div",{ref:S,className:"swiper-button-next"})),Dw(I)&&Z.createElement("div",{ref:k,className:"swiper-scrollbar"}),kw(I)&&Z.createElement("div",{ref:T,className:"swiper-pagination"}),M["container-end"]))});Wm.displayName="Swiper";const Ym=y.forwardRef(function(e,t){let{tag:n="div",children:r,className:a="",swiper:s,zoom:i,lazy:l,virtualIndex:c,swiperSlideIndex:u,...d}=e===void 0?{}:e;const f=y.useRef(null),[m,h]=y.useState("swiper-slide"),[g,v]=y.useState(!1);function _(S,N,T){N===f.current&&h(T)}So(()=>{if(typeof u<"u"&&(f.current.swiperSlideIndex=u),t&&(t.current=f.current),!(!f.current||!s)){if(s.destroyed){m!=="swiper-slide"&&h("swiper-slide");return}return s.on("_slideClass",_),()=>{s&&s.off("_slideClass",_)}}}),So(()=>{s&&f.current&&!s.destroyed&&h(s.getSlideClasses(f.current))},[s]);const E={isActive:m.indexOf("swiper-slide-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0},C=()=>typeof r=="function"?r(E):r,w=()=>{v(!0)};return Z.createElement(n,tu({ref:f,className:xw("".concat(m).concat(a?" ".concat(a):"")),"data-swiper-slide-index":c,onLoad:w},d),i&&Z.createElement(Ry.Provider,{value:E},Z.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof i=="number"?i:void 0},C(),l&&!g&&Z.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&Z.createElement(Ry.Provider,{value:E},C(),l&&!g&&Z.createElement("div",{className:"swiper-lazy-preloader"})))});Ym.displayName="SwiperSlide";const sG=e=>{const t=new Date(e),n=r=>["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][r];return"".concat(t.getDate()," ").concat(n(t.getMonth())," ").concat(t.getFullYear())},iG=e=>{const t=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],n=new Date(e).getMonth();return t[n]};const Ow=e=>{const{className:t,comment:n,isUser:r,onClickScore:a,isMain:s}=e,[i,l]=J("comment-goal",t),[c,u]=y.useState(!1),[d,f]=y.useState(0),[m,h]=y.useState(!1),[g,v]=y.useState(!0),[_,E]=y.useState(!1),[C,w]=y.useState(!1),[S,N]=y.useState(!1),T=n.photos?n.photos.map(x=>({src:x.image})):[],k=x=>{const D=!x.isLocked&&x.slides.length>1;h(D),v(x.isBeginning),E(x.isEnd)},I=!m||g,A=!m||_;return y.useEffect(()=>{if(!I){w(!1);return}const x=setTimeout(()=>w(!0),500);return()=>clearTimeout(x)},[I]),y.useEffect(()=>{if(!A){N(!1);return}const x=setTimeout(()=>N(!0),500);return()=>clearTimeout(x)},[A]),p("article",{className:i(),children:[p("div",{className:l("info"),children:[p(Fe,{to:r?"/goals/".concat(n.goalInfo.code):"/user/".concat(n.user,"/showcase"),className:l("user-info"),children:[r?o("img",{src:n.goalInfo.image||"",alt:n.goalInfo.title,className:l("goal-img")}):o(Jn,{avatar:n.userAvatar,size:"medium"}),r?p("div",{className:l("user-wrapper",{goal:!0}),children:[p("div",{className:l("goal-info"),children:[o(ke,{tag:"h3",children:n.goalInfo.title}),o(Nn,{category:n.goalCategory.nameEn,text:n.goalCategory.name})]}),o(Iu,{complexity:n.goalInfo.complexity,added:n.goalInfo.totalAdded,estimatedTime:n.goalInfo.estimatedTime,theme:"integrate",className:l("tags"),showSeparator:!0})]}):p("div",{className:l("user-wrapper"),children:[o(ke,{tag:"h4",children:n.userName}),o("p",{className:l("user-level"),children:ct(n.userTotalCompletedGoals,["цель выполнена","цели выполнено","целей выполнено"])})]})]}),!s&&p("div",{className:l("comment-info"),children:[o("span",{className:l("date"),children:sG(n.dateCreated)}),o("div",{className:l("vertical-line")}),o(Nn,{complexity:n.complexity,theme:"integrate",icon:n.complexity})]})]}),o(at,{className:l("horizontal-line")}),o("p",{className:l("text"),children:n.text}),n.photos&&!!n.photos.length&&p("div",{className:l("comment-images-container"),children:[n.photos.length>1&&p(nt,{children:[o(z,{theme:"blue-light",icon:"arrow--bottom",className:"".concat(l("prev",{disabled:I,"hard-disabled":C})," comment-goal__prev-").concat(n.id)}),o(z,{theme:"blue-light",icon:"arrow",className:"".concat(l("next",{disabled:A,"hard-disabled":S})," comment-goal__next-").concat(n.id)})]}),o(Wm,{modules:[bw],spaceBetween:8,slidesPerView:"auto",watchSlidesProgress:!0,navigation:{nextEl:".comment-goal__next-".concat(n.id),prevEl:".comment-goal__prev-".concat(n.id)},onSwiper:k,onSlideChange:k,onResize:k,onReachEnd:k,onReachBeginning:k,onFromEdge:k,className:l("comment-images"),children:n.photos.map((x,D)=>o(Ym,{className:l("comment-slide"),children:o("img",{src:x.image,alt:"Изображение комментария",className:l("comment-img"),role:"button",tabIndex:0,onClick:()=>{f(D),u(!0)},onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&(f(D),u(!0))}})},x.id))})]}),!s&&a&&p("div",{className:l("score"),children:[o(z,{icon:"like",small:!0,theme:n.hasLiked?"green":"blue-light",onClick:()=>a(n.id,!0),className:l("like"),children:n.likesCount}),o(z,{icon:"like--bottom",small:!0,theme:n.hasDisliked?"red":"blue-light",onClick:()=>a(n.id,!1),children:n.dislikesCount})]}),o(rw,{open:c,close:()=>u(!1),slides:T,index:d,carousel:{finite:!0,padding:"16px"},controller:{closeOnBackdropClick:!0},animation:{fade:300},styles:{container:{backgroundColor:"rgba(0, 0, 0, .8)"}}})]})};const Iw=ze(e=>{const{className:t,comments:n,isUser:r,setComments:a}=e,[s,i]=J("comments-goal",t),l=c=>async(u,d)=>{const f=await DH(u,d);if(f.success){const m=n.slice(0,c),h=n.slice(c+1);a([...m,{...n[c],...f.data},...h])}};return o("div",{className:s(),children:o("section",{className:i("items"),children:n&&n.length?n.map((c,u)=>o(Ow,{className:i("comment"),isUser:r,comment:c,onClickScore:l(u)},c.id)):o(jt,{title:"Пока нет комментариев",description:"Оставьте отметку о выполнении цели"})})})});const rd=e=>{const{className:t,items:n,progressData:r,progress:a,horizontal:s,backgroundOff:i}=e,[l,c]=J("info-goal",t);return p("section",{className:l({horizontal:s,backgroundOff:i}),children:[p("div",{className:c("wrapper"),children:[n.map((u,d)=>p(y.Fragment,{children:[p("div",{className:c("item"),children:[o("span",{className:c("title"),children:u.title}),o("span",{className:c("text"),children:u.value})]}),d!==n.length-1&&o("div",{className:c("vertical-line")})]},d)),!!n.length&&s&&r&&o("div",{className:c("vertical-line")}),s&&r&&p("div",{className:c("wrapper-horizontal"),children:[o("span",{className:c("title"),children:"Мой прогресс выполнения"}),o("span",{className:c("text"),children:"".concat(r.completed,"/").concat(r.total)})]})]}),a&&r&&r.total>0&&p(nt,{children:[o(at,{vertical:s,margin:"5px 24px",height:-10}),o(pa,{done:r.completed,all:r.total,goal:!0})]})]})},Lw=e=>{const{className:t,goal:n,page:r,isList:a}=e,[s,i]=J("description-with-links",t),[l,c]=y.useState(!0),[u,d]=y.useState(!1),f=y.useRef(null),m=y.useRef(!1);y.useEffect(()=>{m.current=!1,d(!1)},[n.description]),y.useEffect(()=>{const _=f.current;if(!_||!l)return;const E=()=>{const w=_.scrollHeight>_.clientHeight;d(w),w&&(m.current=!0)},C=setTimeout(()=>{requestAnimationFrame(E)},0);return()=>clearTimeout(C)},[l,n.description]);const h=n.shortDescription!==n.description&&(u||!l&&m.current),g=()=>{c(!l)},v=y.useMemo(()=>{if(a)return[];const _=[{url:"/",name:"Отметки",page:"isGoal",count:n.totalComments},{url:"/lists",name:"Списки с целью",page:"isGoalLists",count:n.totalLists}];return n.addedByUser&&!n.regularConfig&&_.push({url:"/progress-history",name:"История прогресса выполнения",page:"isGoalProgressHistory"}),n.regularConfig&&n.addedByUser&&n.regularConfig.statistics&&n.regularConfig.id&&_.push({url:"/history",name:"История выполнения",page:"isGoalHistory"}),n.regularConfig&&n.addedByUser&&n.regularConfig.id&&n.regularConfig.durationType==="indefinite"&&_.push({url:"/rating",name:"Рейтинг",page:"isGoalRating"}),_},[n,a]);return p("div",{className:s({list:a}),children:[p("div",{className:i("wrapper"),children:[p("div",{className:i("text"),children:[o("p",{ref:f,className:i("short-text",{collapsed:l}),children:n.description}),h&&o("button",{type:"button",className:i("toggle-button"),onClick:g,children:l?"Показать полностью":"Скрыть"})]}),o(rd,{className:i("info"),items:[{title:"Добавили к себе",value:n.totalAdded},{title:"Выполнили",value:n.totalCompleted}]})]}),!a&&p(nt,{children:[o(at,{margin:"16px 0 0"}),o(Fo,{base:"/goals/".concat(n.code),tabs:v,active:r})]})]})},gh=e=>{const t=new Date(e),n=t.getDate().toString().padStart(2,"0"),r=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getFullYear();return"".concat(n,".").concat(r,".").concat(a)};const oG=ze(({className:e,goalId:t,refreshTrigger:n})=>{const[r,a]=J("goal-progress-history",e),[s,i]=y.useState([]),[l,c]=y.useState(!0);return y.useEffect(()=>{t&&(async()=>{var d;c(!0);try{const f=await LN(t);f.success&&((d=f.data)!=null&&d.results)?i(f.data.results):i([])}catch(f){i([])}finally{c(!1)}})()},[t,n]),l?o("div",{className:r(),children:o(Tt,{isLoading:l})}):s.length===0?o("div",{className:r(),children:o(jt,{title:"История прогресса пуста",description:"Заметки изменения прогресса появятся здесь после того, как вы начнёте выполнять цель и будете отмечать прогресс."})}):o("div",{className:r(),children:o("ul",{className:a("list"),children:s.map(u=>{var h,g,v;const d=(g=(h=u.percentageChange)!=null?h:u.percentage_change)!=null?g:0,f=(v=u.notes)!=null?v:"",m=u.date?gh(u.date):"";return p("li",{className:a("item"),children:[o("span",{className:a("date"),children:m}),o("div",{className:a("note"),children:f||"Заметка отсутствует"}),p("span",{className:a("badge",{positive:d>0,negative:d<0,zero:d===0}),children:[d>0?"+":"",d,"%"]})]},u.id)})})})}),lG=async e=>await Ue("goals/".concat(e,"/lists"),{auth:!0});const cG=ze(e=>{const{className:t,code:n}=e,[r]=J("lists-with-goal",t),{lists:a,setLists:s,setInfoPaginationLists:i}=pu;y.useEffect(()=>{(async()=>{const c=await lG(n);c.success&&(s(c.data.data),i(c.data.pagination))})()},[n]);const l=async(c,u,d)=>{const f=await(d==="add"?Xu(c):Zu(c));if(f.success&&a){const m=a.slice(0,u),h=a.slice(u+1);s([...m,f.data,...h])}};return o("section",{className:r(),children:a&&a.length>0?a.map((c,u)=>o(Bi,{goal:c,isList:!0,horizontal:!0,onClickAdd:()=>l(c.code,u,"add"),onClickDelete:()=>l(c.code,u,"delete")},c.code)):o(jt,{title:"Пока нет списков с этой целью",description:"Создайте список, чтобы включить в него эту цель"})})});const uG=e=>{const{className:t,history:n,allowCustomSettings:r=!1}=e,[a,s]=J("regular-history-item",t),i=n.status==="completed"?"regular-checked":"regular-cancel",l=n.status==="completed"?"Серия выполнена":"Серия прервана",c=n.regularGoalData.frequency==="weekly"||n.regularGoalData.frequency==="custom",u=n.streak,d=c?ct(u,["неделя","недели","недель"]):ct(u,["день","дня","дней"]),f=()=>{const{frequency:h,weeklyFrequency:g,customSchedule:v}=n.regularGoalData;if(h==="daily")return"Ежедневно";if(h==="weekly")return"".concat(g||0," раз в неделю");if(h==="custom"){const _=Object.entries(v||{}).filter(([E,C])=>C).map(([E])=>({monday:"Пн",tuesday:"Вт",wednesday:"Ср",thursday:"Чт",friday:"Пт",saturday:"Сб",sunday:"Вс"})[E]||E);return _.length>0?_.join(", "):"Пользовательский график"}return""},m=()=>{const{durationType:h,durationValue:g,endDate:v}=n.regularGoalData;return h==="days"?ct(g||0,["день","дня","дней"]):h==="weeks"?ct(g||0,["неделя","недели","недель"]):h==="until_date"?v?"До ".concat(gh(v)):"До даты":h==="indefinite"?"Бессрочно":""};return p("div",{className:a(),children:[p("div",{className:s("header"),children:[o("div",{className:s("icon-wrapper"),children:o(ie,{icon:i})}),p("div",{className:s("content"),children:[o("p",{className:s("status"),children:l}),o("p",{className:s("date"),children:gh(n.endDate)})]}),o("div",{className:s("stats"),children:o("span",{className:s("streak"),children:d})})]}),r&&p(nt,{children:[o(at,{className:s("line")}),p("div",{className:s("settings"),children:[p("div",{className:s("setting-item"),children:[o("span",{className:s("setting-label"),children:"Периодичность:"}),o("span",{className:s("setting-value"),children:f()})]}),p("div",{className:s("setting-item"),children:[o("span",{className:s("setting-label"),children:"Длительность:"}),o("span",{className:s("setting-value"),children:m()})]}),p("div",{className:s("setting-item"),children:[o("span",{className:s("setting-label"),children:"Сброс прогресса:"}),o("span",{className:s("setting-value"),children:n.regularGoalData.resetOnSkip?"Да":"Нет"})]}),n.regularGoalData.resetOnSkip&&p("div",{className:s("setting-item"),children:[o("span",{className:s("setting-label"),children:"Разрешенные пропуски:"}),p("span",{className:s("setting-value"),children:[n.regularGoalData.allowSkipDays||0,n.regularGoalData.daysForEarnedSkip&&n.regularGoalData.daysForEarnedSkip>0?" (начисление через ".concat(n.regularGoalData.daysForEarnedSkip," ").concat(c?"недель":"дней",")"):""]})]})]})]})]})};const dG=ze(({className:e,regularGoalId:t,refreshTrigger:n,allowCustomSettings:r})=>{const[a,s]=J("regular-goal-history",e),[i,l]=y.useState([]),[c,u]=y.useState(!0);return y.useEffect(()=>{t&&(async()=>{u(!0);try{const f=await zN(t);if(f.success&&f.data){let m=[];f.data.data&&f.data.data.history&&Array.isArray(f.data.data.history)?m=f.data.data.history:Array.isArray(f.data.history)?m=f.data.history:Array.isArray(f.data)&&(m=f.data),l(m)}}catch(f){console.error("Ошибка загрузки истории:",f)}finally{u(!1)}})()},[t,n]),c?o("div",{className:a(),children:o(Tt,{isLoading:c})}):i.length===0?o("div",{className:a(),children:o(jt,{title:"История выполнения пуста",description:"История завершенных и прерванных серий выполнения появится здесь после первой прерванной или завершенной серии."})}):o("div",{className:a(),children:o("div",{className:s("grid"),children:i.map(d=>o(uG,{history:d,allowCustomSettings:r},d.id))})})});const fG=({regularGoalId:e,className:t})=>{const[n,r]=J("regular-goal-rating",t),[a,s]=y.useState([]),[i,l]=y.useState(!0);return y.useEffect(()=>{(async()=>{l(!0);try{const u=await YN(e);if(u.success&&u.data){let d=[];u.data.data&&u.data.data.users&&Array.isArray(u.data.data.users)?d=u.data.data.users:Array.isArray(u.data.users)&&(d=u.data.users),s(d)}else console.warn("📊 Рейтинг: ответ не успешен или нет данных",u)}catch(u){console.error("Ошибка при загрузке рейтинга:",u)}finally{l(!1)}})()},[e]),i?o("section",{className:n(),children:o("div",{className:r("loading"),children:"Загрузка рейтинга..."})}):a.length===0?o("section",{className:n(),children:o(jt,{title:"Рейтинг пока пуст",description:"Рейтинг появится, когда хотя бы один пользователь начнет выполнять эту цель"})}):o("section",{className:n(),children:o("div",{className:r("board"),children:p("table",{className:r("table"),children:[o("thead",{className:r("header"),children:p("tr",{children:[o("th",{className:r("head-item"),children:"#"}),o("th",{className:r("head-item"),children:"Пользователь"}),o("th",{className:r("head-item"),children:"Максимальная серия"}),o("th",{className:r("head-item"),children:"Выполнено раз"})]})}),o("tbody",{children:a.map(c=>p("tr",{className:r("row"),children:[o("td",{className:r("item"),children:c.place}),o("td",{className:r("item"),children:p(Fe,{to:"/user/".concat(c.id,"/showcase"),className:r("row-link"),children:[o(Jn,{noBorder:!0,className:r("avatar"),size:"medium",avatar:c.avatar}),o("p",{children:c.name})]})}),o("td",{className:r("item"),children:c.maxStreak}),o("td",{className:r("item"),children:c.completedSeriesCount})]},c.id))})]})})})},hG=ze(e=>{const{className:t,goal:n,page:r,historyRefreshTrigger:a}=e,[s,i]=J("content-goal",t),l=Zn(),{comments:c,setComments:u,setInfoPaginationComments:d}=pu;y.useEffect(()=>{r==="isGoal"&&(async()=>{const h=await kH(n.code);h.success&&(u(h.data.data),d(h.data.pagination))})()},[n.code,r]);const f=()=>{switch(r){case"isGoal":return o(Iw,{comments:c,setComments:u});case"isGoalLists":return o(cG,{code:n.code});case"isGoalProgressHistory":return n.addedByUser&&!n.regularConfig?o(oG,{goalId:n.id,refreshTrigger:a}):null;case"isGoalHistory":return n.regularConfig&&n.addedByUser&&n.regularConfig.id?o(dG,{regularGoalId:n.regularConfig.id,refreshTrigger:a,allowCustomSettings:n.regularConfig.allowCustomSettings}):null;case"isGoalRating":return n.regularConfig&&n.addedByUser&&n.regularConfig.id&&n.regularConfig.durationType==="indefinite"?o(fG,{regularGoalId:n.regularConfig.id}):null;default:return null}},m=()=>{l("/goals/".concat(n.code,"/lists")),zs.scrollTo("comments-section",{duration:800,delay:0,smooth:"easeInOutQuart",offset:-50})};return p("article",{className:s(),children:[n.addedFromList&&n.addedFromList.length>0&&o("div",{className:i("goal-in-list"),children:o(os,{type:"info",message:"Цель включена в список и отображается вместе с ним",actionText:"Смотреть списки",onAction:m})}),o(Lw,{goal:n,page:r}),o("section",{className:i("comments"),id:"comments-section",children:f()})]})}),mG=async e=>{try{return await Xn("goals/".concat(e,"/delete"),{auth:!0,success:{type:"success",title:"Успех",message:"Цель успешно удалена"}})}catch(t){return console.error("API Error:",t),{success:!1,error:"Не удалось удалить цель"}}},pG=async(e,t)=>{try{return await cr("goals/".concat(e,"/update"),{auth:!0,file:!0,body:t,success:{type:"success",title:"Успех",message:"Цель успешно обновлена"}})}catch(n){return console.error("API Error:",n),{success:!1,error:"Не удалось обновить цель"}}},gG=e=>{const{goal:t,className:n,onGoalUpdated:r,cancelEdit:a}=e,s=Zn(),[i,l]=J("add-goal",n),[c,u]=y.useState(t.title?t.title.slice(0,Tr):""),[d,f]=y.useState(t.description||""),[m,h]=y.useState(t.estimatedTime||""),[g,v]=y.useState(null),[_,E]=y.useState(null),[C,w]=y.useState(null),[S,N]=y.useState(null),[T,k]=y.useState(t.image||null),[I,A]=y.useState([]),[x,D]=y.useState([]),[P,M]=y.useState(!0),[R,F]=y.useState(!1),[U,$]=y.useState(null),[H,K]=y.useState(!1),{setHeader:L}=yt,le=y.useRef(null),[q,O]=y.useState({monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}),[ee,Q]=y.useState(!1),[oe,V]=y.useState(!0),[Ae,ne]=y.useState("daily"),[Ce,rt]=y.useState(3),[ot,Et]=y.useState("days"),[j,pt]=y.useState(30),[be,ue]=y.useState(""),[Ne,De]=y.useState(0),[Te,de]=y.useState(!1),We=y.useMemo(()=>I.filter(pe=>!pe.parentCategory),[I]);y.useEffect(()=>{L("white"),(async()=>{var lt,Ke,ut,$e,Ht,Ot,yn,kt,Bn,hr;try{M(!0),t.isCanEdit?F(!0):($("Отредактировать цель невозможно. Возможно, прошло более 24 часов с момента создания."),F(!1));const Vn=await zo();if(Vn.success){if(A(Vn.data),t.category){const ht=Vn.data.find(Ft=>Ft.id===t.category.id);if(ht)if(ht.parentCategory){const Ft=Vn.data.filter(he=>!he.parentCategory).findIndex(he=>{var ge;return he.id===((ge=ht.parentCategory)==null?void 0:ge.id)});Ft!==-1&&E(Ft)}else{const Ft=Vn.data.filter(he=>!he.parentCategory).findIndex(he=>he.id===t.category.id);Ft!==-1&&E(Ft)}}if(t.complexity){const ht=on.findIndex(Ft=>Ft.value===t.complexity);ht!==-1&&v(ht)}if(t.regularConfig){Q(!0);const ht=(lt=t.regularConfig.statistics)==null?void 0:lt.regularGoalData,Ft=t.regularConfig,he=(ht==null?void 0:ht.frequency)||Ft.frequency,ge=(ut=(Ke=ht==null?void 0:ht.weeklyFrequency)!=null?Ke:Ft.weeklyFrequency)!=null?ut:3;let Be;ht!=null&&ht.customSchedule&&typeof ht.customSchedule=="object"&&Object.keys(ht.customSchedule).length>0?Be=ht.customSchedule:Ft.customSchedule&&typeof Ft.customSchedule=="object"&&Object.keys(Ft.customSchedule).length>0?Be=Ft.customSchedule:Be={monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1};const Lt=(ht==null?void 0:ht.durationType)||Ft.durationType,Yt=(Ht=($e=ht==null?void 0:ht.durationValue)!=null?$e:Ft.durationValue)!=null?Ht:30,St=(ht==null?void 0:ht.endDate)||Ft.endDate||"",Dt=(yn=(Ot=ht==null?void 0:ht.allowSkipDays)!=null?Ot:Ft.allowSkipDays)!=null?yn:0,zt=(Bn=(kt=ht==null?void 0:ht.resetOnSkip)!=null?kt:Ft.resetOnSkip)!=null?Bn:!1;ne(he),rt(ge),O(Be),Et(Lt),pt(Yt),ue(St),De(Dt),de(zt),V((hr=Ft.allowCustomSettings)!=null?hr:!0)}}}catch(Vn){me.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить данные для редактирования"}),F(!1)}finally{M(!1)}})()},[t]),y.useEffect(()=>{if(_!==null&&We.length>0&&We[_]){const pe=We[_],lt=I.filter(ut=>ut.parentCategory&&ut.parentCategory.id===pe.id);D(lt),w(null);const Ke=I.find(ut=>ut.id===t.category.id);if(Ke&&Ke.parentCategory&&Ke.parentCategory.id===pe.id){const ut=lt.findIndex($e=>$e.id===Ke.id);ut!==-1&&w(ut)}else if(t.subcategory&&lt.length>0){const ut=lt.findIndex($e=>{var Ht;return $e.id===((Ht=t.subcategory)==null?void 0:Ht.id)});ut!==-1&&w(ut)}}else D([]),w(null)},[_,We.length,t.category.id]);const fe=y.useCallback(pe=>{pe&&pe.length>0&&(N(pe[0]),k(null))},[]),Ve=()=>{le.current&&le.current.click()},Qe=pe=>{pe.target.files&&fe(pe.target.files)},re=pe=>{if(!pe)return"";const lt=/^(\d{1,2}):(\d{1,2})$/;if(lt.test(pe)){const kt=pe.match(lt);if(kt){const Bn=kt[1].padStart(2,"0"),hr=kt[2].padStart(2,"0");return"".concat(Bn,":").concat(hr)}}const Ke=/^(\d+)\s*(д|дн|дня|дней)$/i,ut=pe.match(Ke);if(ut){const Bn=parseInt(ut[1],10)*24;return"".concat(Bn.toString().padStart(2,"0"),":00")}const $e=/^(\d+)\s*(ч|час|часа|часов)$/i,Ht=pe.match($e);if(Ht){const kt=parseInt(Ht[1],10);return"".concat(kt.toString().padStart(2,"0"),":00")}const Ot=/^(\d+)\s*(м|мин|минут|минуты)$/i,yn=pe.match(Ot);if(yn){const kt=parseInt(yn[1],10),Bn=Math.floor(kt/60),hr=kt%60;return"".concat(Bn.toString().padStart(2,"0"),":").concat(hr.toString().padStart(2,"0"))}return pe},Y=async pe=>{var lt;if(pe.preventDefault(),!c||!d||g===null||_===null||!S&&!T){me.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}if(ee&&Ae==="custom"&&!Object.values(q).some(Boolean)){me.addNotification({type:"error",title:"Ошибка",message:"Выберите хотя бы один день недели для пользовательского графика"});return}M(!0);try{const Ke=new FormData;if(Ke.append("title",c),Ke.append("description",d),g!==null&&Ke.append("complexity",on[g].value),C!==null&&x[C]?Ke.append("category",x[C].id.toString()):_!==null&&Ke.append("category",We[_].id.toString()),S?Ke.append("image",S):T&&Ke.append("image_url",T),m){const $e=re(m);Ke.append("estimated_time",$e)}ee?(Ke.append("is_regular","true"),Ke.append("regular_frequency",Ae),Ae==="weekly"&&Ke.append("weekly_frequency",Ce.toString()),Ae==="custom"&&q&&Ke.append("custom_schedule",JSON.stringify(q)),Ke.append("duration_type",ot),(ot==="days"||ot==="weeks")&&Ke.append("duration_value",j.toString()),ot==="until_date"&&be&&Ke.append("end_date",be),Ke.append("allow_skip_days",Ne.toString()),Ke.append("reset_on_skip",Te.toString()),Ke.append("allow_custom_settings",oe.toString())):t.regularConfig&&Ke.append("is_regular","false");const ut=await pG(t.code,Ke);if(ut.success)me.addNotification({type:"success",title:"Успех",message:"Цель успешно обновлена"}),r&&ut.data?r(ut.data):s("/goals/".concat((lt=ut.data)==null?void 0:lt.code));else throw new Error(ut.error||"Неизвестная ошибка")}catch(Ke){me.addNotification({type:"error",title:"Ошибка",message:Ke instanceof Error?Ke.message:"Не удалось обновить цель"})}finally{M(!1)}},Se=async()=>{M(!0);try{const pe=await mG(t.code);if(pe.success)me.addNotification({type:"success",title:"Успех",message:"Цель успешно удалена"}),s("/");else throw new Error(pe.error||"Неизвестная ошибка")}catch(pe){me.addNotification({type:"error",title:"Ошибка",message:pe instanceof Error?pe.message:"Не удалось удалить цель"})}finally{M(!1)}},je=pe=>{rm(pe)&&h(pe)};return p("form",{className:i(),onSubmit:Y,children:[o("div",{className:l("wrapper-title"),children:o(ke,{tag:"h1",className:l("title"),children:"Редактирование цели"})}),o(Tt,{isLoading:P,children:R?p("div",{className:l("content"),children:[p("div",{className:l("image-section"),children:[o("p",{className:l("field-title"),children:"Изображение цели *"}),!S&&!T?o("div",{className:l("dropzone"),onClick:Ve,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyDown:pe=>{(pe.key==="Enter"||pe.key===" ")&&(pe.preventDefault(),Ve())},children:o(as,{onDrop:pe=>pe&&fe(pe),children:p("div",{className:l("upload-placeholder"),children:[o("input",{type:"file",ref:le,style:{display:"none"},onChange:Qe,accept:"image/*"}),o(ie,{icon:"mount",className:l("upload-icon")}),o("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})}):p("div",{className:l("image-preview"),children:[S&&o("img",{src:URL.createObjectURL(S),alt:"Предпросмотр",className:l("preview")}),T&&!S&&o("img",{src:T,alt:"Предпросмотр из источника",className:l("preview")}),o(z,{className:l("remove-image"),type:"button-close",withBorder:!0,onClick:()=>{N(null),k(null)}})]})]}),p("div",{className:l("form"),children:[o(He,{placeholder:"Введите название цели",id:"goal-title",text:"Название цели *",value:c,setValue:pe=>{pe.length<=Tr&&u(pe)},className:l("field"),required:!0,maxLength:Tr,showCharCount:!0}),o(qt,{className:l("field"),placeholder:"Выберите категорию",options:We.map(pe=>({name:pe.name,value:pe.nameEn})),activeOption:_,onSelect:E,text:"Категория *"}),_!==null&&x.length>0&&o(qt,{className:l("field"),placeholder:"Выберите подкатегорию (необязательно)",options:x.map(pe=>({name:pe.name,value:pe.nameEn})),activeOption:C,onSelect:w,text:"Подкатегория"}),o(qt,{className:l("field"),placeholder:"Выберите сложность",options:on,activeOption:g,onSelect:v,text:"Сложность *"}),o(He,{placeholder:"Опишите цель подробно",id:"goal-description",text:"Описание *",value:d,setValue:f,className:l("field"),type:"textarea",required:!0,rows:4}),p("div",{className:l("time-field-container"),children:[o(He,{placeholder:"Например: 5, 2:30, 3д5ч, 3д 5 ч, 3 дня, 5 часов",id:"goal-estimated-time",text:"Предполагаемое время выполнения",value:m,setValue:je,className:l("field"),type:"text"}),o("small",{className:l("format-hint"),children:"Укажите время: просто число (часы), ЧЧ:ММ (02:30), комбинации (3д5ч, 3д 5ч), или словами (3 дня, 5 часов, 30 минут)"})]}),(t.createdByUser||t.regularConfig&&t.regularConfig.allowCustomSettings)&&p("div",{className:l("regular-section"),children:[o(wn,{id:"is-regular",text:"Это регулярная цель?",checked:ee,setChecked:Q,className:l("field")}),ee&&p("div",{className:l("regular-config"),children:[p("div",{className:l("regular-field-group"),children:[o(qt,{className:l("field"),placeholder:"Выберите периодичность",options:[{name:"Ежедневно",value:"daily"},{name:"N раз в неделю",value:"weekly"},{name:"Пользовательский график",value:"custom"}],activeOption:Ae==="daily"?0:Ae==="weekly"?1:2,onSelect:pe=>{ne(["daily","weekly","custom"][pe])},text:"Периодичность"}),Ae==="weekly"&&o(He,{placeholder:"Например: 3",id:"weekly-frequency",text:"Сколько раз в неделю",value:Ce.toString(),setValue:pe=>{const lt=parseInt(pe,10)||1;rt(Math.min(7,Math.max(1,lt)))},className:l("field"),type:"number"}),Ae==="custom"&&p("div",{className:l("custom-schedule-selector"),children:[o("p",{className:l("field-title"),children:"Выберите дни недели (обязательно хотя бы один)"}),o(Nu,{schedule:q,onChange:O})]})]}),p("div",{className:l("regular-field-group"),children:[o(qt,{className:l("field"),placeholder:"Выберите тип длительности",options:[{name:"Дни",value:"days"},{name:"Недели",value:"weeks"},{name:"До даты",value:"until_date"},{name:"Бессрочно",value:"indefinite"}],activeOption:ot==="days"?0:ot==="weeks"?1:ot==="until_date"?2:3,onSelect:pe=>{Et(["days","weeks","until_date","indefinite"][pe])},text:"Длительность"}),(ot==="days"||ot==="weeks")&&o(He,{placeholder:ot==="days"?"Количество дней":"Количество недель",id:"duration-value",text:ot==="days"?"Количество дней":"Количество недель",value:j.toString(),setValue:pe=>{const lt=parseInt(pe,10)||1;pt(Math.max(1,lt))},className:l("field"),type:"number"}),ot==="until_date"&&p("div",{className:l("date-field-container"),children:[o("p",{className:l("field-title"),children:"Дата окончания"}),o(Yi,{selected:be?new Date(be):null,onChange:pe=>{ue(pe?ga(pe,"yyyy-MM-dd"):"")},className:l("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))})]})]}),p("div",{className:l("regular-field-group"),children:[o(He,{placeholder:"0",id:"allow-skip-days",text:"Разрешенные пропуски",value:Ne.toString(),setValue:pe=>{const lt=parseInt(pe,10)||0;De(Math.max(0,lt))},className:l("field"),type:"number"}),o(wn,{id:"reset-on-skip",text:"Сбрасывать прогресс при превышении лимита пропусков",checked:Te,setChecked:de,className:l("field")})]}),t.createdByUser&&o(dw,{checked:oe,setChecked:V,className:l("field")})]})]}),p("div",{className:l("btns-wrapper"),children:[o(z,{theme:"red",className:l("btn"),onClick:()=>K(!0),type:"button",children:"Удалить цель"}),o(z,{theme:"blue-light",className:l("btn"),onClick:a,type:"button",children:"Отмена"}),o(z,{theme:"blue",className:l("btn"),typeBtn:"submit",children:"Сохранить изменения"})]})]})]}):p("div",{className:l("error-message"),children:[o(ie,{icon:"error",className:l("error-icon")}),o("p",{children:U||"Редактирование недоступно"}),o(z,{theme:"blue",onClick:()=>s(-1),type:"button",children:"Вернуться назад"})]})}),o(Rr,{title:"Удалить цель?",isOpen:H,onClose:()=>K(!1),themeBtn:"red",handleBtn:Se,textBtn:"Удалить цель",text:"Вы уверены, что хотите удалить эту цель?"})]})};const Rw=e=>{const{className:t,title:n,theme:r,category:a,complexity:s,totalCompleted:i,isList:l,short:c,categoryRank:u,userFolders:d,estimatedTime:f}=e,[m,h]=J("title-with-tags",t),g=y.useRef(null),v=y.useCallback(async()=>{try{await navigator.clipboard.writeText(n),me.addNotification({type:"success",title:"Скопировано",message:"Название скопировано в буфер обмена"})}catch(_){me.addNotification({type:"error",title:"Ошибка",message:"Не удалось скопировать название"})}},[n]);return p("div",{ref:g,className:m({theme:r}),children:[o("button",{type:"button",className:h("title-copyable"),title:"Нажмите на название, чтобы скопировать его",onClick:v,"aria-label":"Нажмите, чтобы скопировать название",children:o(ke,{className:h("title",{short:c}),tag:"h1",theme:l?"black":"white",children:n})}),!c&&o(Iu,{category:a,medal:u?"Топ ".concat(u," в категории"):void 0,complexity:s,done:i,theme:r,userFolders:d,estimatedTime:f})]})},Mw=y.forwardRef((e,t)=>{const{className:n,title:r,category:a,image:s,goal:i,background:l,shrink:c,onImageLoad:u}=e,[d,f]=J("header-goal",n),{isScreenMobile:m,isScreenSmallTablet:h}=Vr(),g=m||h;return p("header",{ref:t,className:d({category:a.nameEn,shrink:c,mobile:g}),style:{backgroundImage:"url(".concat(l,")")},children:[g&&o("img",{src:s,alt:r,className:f("image"),onLoad:u}),o(Rw,{category:a,complexity:i.complexity,totalCompleted:i.totalCompleted,title:r,className:f("wrapper"),short:c,categoryRank:i.categoryRank,userFolders:i.userFolders,estimatedTime:i==null?void 0:i.estimatedTime})]})});Mw.displayName="HeaderGoal";const My=e=>({travel:"100 177 22",education:"118 22 177","health-and-sport":"22 168 177",relations:"177 22 22",entertainment:"177 161 22","100-goals":"255 208 44","career-success":"126 38 179","intellectual-development":"133 53 186",sport:"35 173 178","wellness-and-health":"49 179 183",hobby:"180 165 39","musical-experiences":"184 170 48","creative-arts":"187 174 56",gaming:"191 178 65","cinema-art":"195 182 73",books:"198 186 82","community-contribution":"185 45 45","romantic-moments":"192 68 68","cultural-immersion":"110 183 36","culinary-explorations":"120 189 50","unique-places":"129 195 64"})[e.toLowerCase()]||"58 137 216",Fw=({goal:e,list:t,width:n=1200,height:r=630})=>{const[a,s]=y.useState(""),[i,l]=y.useState(!1);return y.useEffect(()=>{const c=e||t;if(!c)return;(async()=>{l(!0);try{const d=document.createElement("canvas");d.width=n,d.height=r;const f=d.getContext("2d");if(!f){l(!1);return}let m;if(c.category&&c.category.nameEn){const D=My(c.category.nameEn);m=f.createLinearGradient(0,0,0,r),m.addColorStop(0,"rgba(".concat(D," / 50%)")),m.addColorStop(.1,"rgba(".concat(D," / 60%)")),m.addColorStop(.2,"rgba(".concat(D," / 70%)")),m.addColorStop(.3,"rgba(".concat(D," / 80%)")),m.addColorStop(1,"#000000")}else m=f.createLinearGradient(0,0,0,r),m.addColorStop(0,"rgba(102, 126, 234, 0.5)"),m.addColorStop(1,"#000000");const h=()=>{const D=new Image;D.onload=()=>{f==null||f.drawImage(D,0,0,n,r)},D.src="data:image/svg+xml;base64,".concat(btoa('\n						<svg width="1200" height="630" viewBox="0 0 1200 630" fill="none" xmlns="http://www.w3.org/2000/svg">\n							<g clip-path="url(#clip0_2617_36803)">\n								<rect width="1200" height="630" fill="#3A89D8"/>\n								<path d="M600 533.182C720.49 533.182 818.182 435.503 818.182 315C818.182 194.497 720.49 96.8182 600 96.8182C479.51 96.8182 381.818 194.497 381.818 315C381.818 435.503 479.51 533.182 600 533.182Z" fill="white" fill-opacity="0.04"/>\n								<path fill-rule="evenodd" clip-rule="evenodd" d="M1200 315C1200 646.374 931.321 915 600 915C268.679 915 0 646.374 0 315C0 -16.3743 268.679 -285 600 -285C931.321 -285 1200 -16.3743 1200 315ZM1036.36 315C1036.36 555.993 840.98 751.364 600 751.364C359.02 751.364 163.636 555.993 163.636 315C163.636 74.0066 359.02 -121.364 600 -121.364C840.98 -121.364 1036.36 74.0066 1036.36 315Z" fill="white" fill-opacity="0.04"/>\n							</g>\n							<defs>\n								<clipPath id="clip0_2617_36803">\n									<rect width="1200" height="630" fill="white"/>\n								</clipPath>\n							</defs>\n						</svg>\n					'))};if(c.image){const D=M=>{const R=M.width/M.height,F=n/r;let U,$,H,K;R>F?($=r,U=r*R,H=(n-U)/2,K=0):(U=n,$=n/R,H=0,K=(r-$)/2),f.drawImage(M,H,K,U,$)},P=c.image.startsWith("http")?c.image:"".concat(window.location.origin).concat(c.image);try{const M=await fetch(P,{mode:"cors",credentials:"omit"});if(M.ok){const R=await M.blob(),F=new Image;await new Promise(U=>{F.onload=()=>{D(F),U(!0)},F.onerror=()=>{U(!1)},F.src=URL.createObjectURL(R)})}else throw new Error("Ошибка загрузки изображения")}catch(M){try{const R=new Image;await new Promise(F=>{R.onload=()=>{D(R),F(!0)},R.onerror=()=>{h(),F(!1)},R.src=P})}catch(R){h()}}}else h();f.textAlign="left",f.textBaseline="top",f.fillStyle="#ffffff",f.font="bold 40px Inter, sans-serif";const g=c.title.split(" ").filter(D=>D.trim()!==""),v=[];let _="";const E=912;for(let D=0;D<g.length;D++){const P=_+(_?" ":"")+g[D];f.measureText(P).width>E&&_?(v.push(_),_=g[D]):_=P}_&&v.push(_);const C=e?6:4;v.length>C&&(v.splice(C-1),v[C-1]&&v[C-1].length>3&&(v[C-1]="".concat(v[C-1].substring(0,v[C-1].length-3),"...")));const w=52,S=72,N=72;if(v.forEach((D,P)=>{f.fillText(D,S,N+P*w),f.shadowColor="transparent",f.shadowBlur=0,f.shadowOffsetX=0,f.shadowOffsetY=0}),c.category){const D=My(c.category.nameEn),P=72,M=r-78-40,R=40;f.font="500 24px Inter, sans-serif";const U=f.measureText(c.category.name).width+24;f.fillStyle="rgb(".concat(D,")"),f.beginPath(),f.roundRect(P,M,U,R,8),f.fill(),f.fillStyle="#ffffff",f.textAlign="left",f.textBaseline="middle",f.fillText(c.category.name,P+12,M+2+R/2)}if(t){const D=t.goalsCount||0,P=ct(D,["цель","цели","целей"],!0),M=c.category?72+f.measureText(c.category.name).width+24+16:72,R=r-78-40,F=40;f.font="500 24px Inter, sans-serif";const U=f.measureText(P).width,$=24,H=8,K=U+$+H+24;f.fillStyle="rgba(255, 255, 255, 0.08)",f.beginPath(),f.roundRect(M,R,K,F,8),f.fill(),f.strokeStyle="rgba(255, 255, 255, 0.16)",f.lineWidth=1,f.stroke();const L=M+12,le=R+(F-$)/2,q=new Image;q.onload=()=>{f.drawImage(q,L,le,$,$)},q.src="data:image/svg+xml;base64,".concat(btoa('\n						<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n							<path d="M13.3337 17.3337H4.00033C3.6467 17.3337 3.30756 17.4741 3.05752 17.7242C2.80747 17.9742 2.66699 18.3134 2.66699 18.667V28.0003C2.66699 28.3539 2.80747 28.6931 3.05752 28.9431C3.30756 29.1932 3.6467 29.3337 4.00033 29.3337H13.3337C13.6873 29.3337 14.0264 29.1932 14.2765 28.9431C14.5265 28.6931 14.667 28.3539 14.667 28.0003V18.667C14.667 18.3134 14.5265 17.9742 14.2765 17.7242C14.0264 17.4741 13.6873 17.3337 13.3337 17.3337ZM12.0003 26.667H5.33366V20.0003H12.0003V26.667ZM28.0003 2.66699H18.667C18.3134 2.66699 17.9742 2.80747 17.7242 3.05752C17.4741 3.30756 17.3337 3.6467 17.3337 4.00033V13.3337C17.3337 13.6873 17.4741 14.0264 17.7242 14.2765C17.9742 14.5265 18.3134 14.667 18.667 14.667H28.0003C28.3539 14.667 28.6931 14.5265 28.9431 14.2765C29.1932 14.0264 29.3337 13.6873 29.3337 13.3337V4.00033C29.3337 3.6467 29.1932 3.30756 28.9431 3.05752C28.6931 2.80747 28.3539 2.66699 28.0003 2.66699ZM26.667 12.0003H20.0003V5.33366H26.667V12.0003ZM28.0003 17.3337H18.667C18.3134 17.3337 17.9742 17.4741 17.7242 17.7242C17.4741 17.9742 17.3337 18.3134 17.3337 18.667V28.0003C17.3337 28.3539 17.4741 28.6931 17.7242 28.9431C17.9742 29.1932 18.3134 29.3337 18.667 29.3337H28.0003C28.3539 29.3337 28.6931 29.1932 28.9431 28.9431C29.1932 28.6931 29.3337 28.3539 29.3337 28.0003V18.667C29.3337 18.3134 29.1932 17.9742 28.9431 17.7242C28.6931 17.4741 28.3539 17.3337 28.0003 17.3337ZM26.667 26.667H20.0003V20.0003H26.667V26.667ZM13.3337 2.66699H4.00033C3.6467 2.66699 3.30756 2.80747 3.05752 3.05752C2.80747 3.30756 2.66699 3.6467 2.66699 4.00033V13.3337C2.66699 13.6873 2.80747 14.0264 3.05752 14.2765C3.30756 14.5265 3.6467 14.667 4.00033 14.667H13.3337C13.6873 14.667 14.0264 14.5265 14.2765 14.2765C14.5265 14.0264 14.667 13.6873 14.667 13.3337V4.00033C14.667 3.6467 14.5265 3.30756 14.2765 3.05752C14.0264 2.80747 13.6873 2.66699 13.3337 2.66699ZM12.0003 12.0003H5.33366V5.33366H12.0003V12.0003Z" fill="#F79009"/>\n						</svg>\n					')),f.fillStyle="#ffffff",f.textAlign="left",f.textBaseline="middle",f.fillText(P,L+$+H,R+2+F/2)}const T=72,k=n-72-T,I=r-72-60;f.fillStyle="transparent",f.fillRect(k,I,T,60);const A=new Image;A.onload=function(){f.drawImage(A,k,I,T,60);const D=d.toDataURL("image/png");s(D),l(!1)},A.onerror=function(){const D=d.toDataURL("image/png");s(D),l(!1)},A.src="data:image/svg+xml;base64,".concat(btoa('\n					<svg width="72" height="60" viewBox="0 0 72 60" fill="none" xmlns="http://www.w3.org/2000/svg">\n						<path d="M26.4004 7.2002C34.9651 7.20032 42.5768 11.2811 47.4004 17.6035L41.0947 21.2432C37.5727 17.0592 32.297 14.4005 26.4004 14.4004C15.7974 14.4004 7.20041 22.9961 7.2002 33.5996C7.2002 44.2033 15.7973 52.7998 26.4004 52.7998C37.0033 52.7996 45.5996 44.2032 45.5996 33.5996C45.5996 30.6181 44.9189 27.7959 43.7061 25.2783L49.9551 21.6699C51.7737 25.2531 52.7997 29.3064 52.7998 33.5996C52.7998 48.1799 40.9783 59.9998 26.4004 60C11.8223 60 0 48.1801 0 33.5996C0.000210204 19.0193 11.8224 7.2002 26.4004 7.2002ZM26.4004 24C28.7228 24.0001 30.8523 24.8255 32.5127 26.1982L26.0781 29.9141C24.9305 30.5769 24.5375 32.0446 25.2002 33.1924C25.863 34.3402 27.3307 34.733 28.4785 34.0703L35.3408 30.1074C35.7641 31.1901 36 32.367 36 33.5996C36 38.9016 31.7018 43.2 26.4004 43.2002C21.0988 43.2002 16.7998 38.9018 16.7998 33.5996C16.8 28.2976 21.099 24 26.4004 24Z" fill="white"/>\n						<path d="M49.2605 22.0704L59.3763 26.3914C59.9552 26.6387 60.6168 26.599 61.162 26.2842L70.6882 20.7842L59.6529 16.0704L49.2605 22.0704Z" fill="white"/>\n						<path d="M46.8605 17.9135L48.1763 6.99243C48.2516 6.36743 48.6168 5.81437 49.162 5.49961L58.6882 -0.000391197L57.2529 11.9135L46.8605 17.9135Z" fill="white"/>\n					</svg>\n				'));const x=d.toDataURL("image/png");s(x)}catch(d){console.error("Ошибка при генерации OG изображения:",d)}finally{l(!1)}})()},[e,t,n,r]),{imageUrl:a,isGenerating:i}},yG=async e=>{try{return await Ue("goals/".concat(e,"/can-edit"),{auth:!0,showSuccessNotification:!1})}catch(t){return console.error("API Error:",t),{success:!1,error:"Не удалось проверить возможность редактирования"}}},Zl=async e=>await Ue("goals/".concat(e),{auth:!0});const vG=ze(({page:e})=>{var L,le,q,O,ee;const[t,n]=J("goal"),{isScreenMobile:r,isScreenSmallTablet:a}=Vr(),s=y.useRef(null),{isAuth:i}=Rt,{setId:l}=pu,c=Us(),u=c==null?void 0:c.id,[d,f]=y.useState(null),[m,h]=y.useState(!1),[g,v]=y.useState(!0),[_,E]=y.useState(0),[C,w]=y.useState({can_edit:!1,checked:!1}),{setIsOpen:S,setWindow:N}=cn,{setHeader:T}=yt;y.useEffect(()=>{(async()=>{if(u){v(!0);const Q=await Zl(u);Q.success&&(f(Q.data.goal),l(Q.data.goal.id)),v(!1)}})()},[u]),y.useEffect(()=>{(async()=>{if(d&&d.createdBy&&!C.checked)try{const oe=await yG(u||"");oe.success&&oe.data&&w({can_edit:oe.data.can_edit,checked:!0})}catch(oe){console.error("Ошибка при проверке возможности редактирования:",oe)}})()},[d,u,C.checked]);const k=()=>{N("add-review"),S(!0)},I=async(Q,oe,V)=>{if(!d||oe==="start"||oe==="partial")return;if(!i){N("login"),S(!0);return}const Ae=await(oe==="add"?Ui(Q):oe==="delete"?Ju(Q):pl(Q,!V,V?void 0:{title:"Цель успешно выполнена!",type:"success",id:Math.random().toString(36).substring(2,15),message:"Добавьте отзыв чтобы заработать больше очков",actionText:"Добавить отзыв",action:k}));if(Ae.success){const ne={addedByUser:oe!=="delete",completedByUser:oe==="mark"?!V:!1,totalAdded:Ae.data.totalAdded,totalCompleted:Ae.data.totalCompleted};if(f({...d,...ne}),(oe==="delete"||oe==="add")&&d.regularConfig&&u){const Ce=await Zl(u);Ce.success&&Ce.data.goal&&f(Ce.data.goal)}}},A=Q=>{f({...d,...Q}),T("transparent"),h(!1)},x=async Q=>{if(Q)f(Q);else if(d&&u){v(!0);const oe=await Zl(u);oe.success&&oe.data.goal&&f(oe.data.goal),v(!1)}},D=()=>{T("transparent"),h(!1)},P=async()=>{var Q;if(d!=null&&d.regularConfig)try{const oe=await Zl(u||"");oe.success&&((Q=oe.data)!=null&&Q.goal)&&(f(oe.data.goal),l(oe.data.goal.id))}catch(oe){console.error("Ошибка при перезагрузке цели:",oe)}else d&&f({...d,completedByUser:!0})},M=()=>{E(Q=>Q+1)},[R,F]=y.useState(!1),[U,$]=y.useState(340),{imageUrl:H}=Fw({goal:d,width:1200,height:630}),K=()=>{s.current?$(s.current.offsetHeight):$(340)};return y.useEffect(()=>{var Q;(((Q=s==null?void 0:s.current)==null?void 0:Q.offsetHeight)||0)>U&&K()},[R,r,a]),y.useEffect(()=>{const Q=()=>{var ne,Ce;const oe=r,V=((ne=s.current)==null?void 0:ne.offsetHeight)||(oe?480:340),Ae=oe?V*.8:160;oe?R?window.scrollY<U-(((Ce=s.current)==null?void 0:Ce.offsetHeight)||0)&&F(!1):window.scrollY>U-168&&F(!0):window.scrollY>Ae?F(!0):F(!1)};return setTimeout(()=>{Q()},100),window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[r,R]),m&&d?o("main",{className:t({editing:!0}),children:o(gG,{goal:d,onGoalUpdated:A,cancelEdit:D})}):d?p(nt,{children:[o(am,{title:d.title,description:d.description||'Достигните цель "'.concat(d.title,'" на платформе Delting'),dynamicImage:H,type:"article"}),p("main",{className:t(),children:[o(Mw,{ref:s,title:d.title,category:d.category,image:d.image,background:d.image,goal:d,shrink:R,onImageLoad:K}),p("section",{className:n("wrapper"),style:{paddingTop:r?U:0},children:[o(pw,{className:n("aside",{shrink:R}),title:d.title,image:d.image||"",added:d.addedByUser,updateGoal:I,code:d.code,goalId:d.id,done:d.completedByUser,openAddReview:k,editGoal:d.createdByUser&&d.isCanEdit?()=>h(!0):void 0,canEdit:d==null?void 0:d.isCanEdit,location:d==null?void 0:d.location,onGoalCompleted:P,onHistoryRefresh:M,onGoalUpdate:x,page:e,userFolders:d.userFolders,regularConfig:d.regularConfig},"aside-".concat(d.id,"-").concat(((le=(L=d.regularConfig)==null?void 0:L.statistics)==null?void 0:le.updatedAt)||"","-").concat(((q=d.regularConfig)==null?void 0:q.frequency)||"","-").concat(((O=d.regularConfig)==null?void 0:O.durationValue)||0,"-").concat(((ee=d.regularConfig)==null?void 0:ee.allowSkipDays)||0)),o("div",{className:n("content-wrapper"),children:o(hG,{page:e,goal:d,className:n("content"),historyRefreshTrigger:_})})]}),o(nd,{})]})]}):o(Tt,{isLoading:g,isPageLoader:!0})}),lo=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("transparent"),n(e),r(!0)},[]),o(vG,{page:e})};const bG=e=>{const{className:t,list:n,horizontal:r,columns:a="three",updateGoal:s}=e,[i,l]=y.useState(!1),[c,u]=y.useState([]),[d,f]=J("list",t);y.useEffect(()=>{u(i?n.filter(h=>!h.completedByUser):n)},[i,n]);const m=async(h,g,v,_)=>{const E=n.findIndex(C=>C.code===h);E!==-1&&await s(h,E,v,_)};return p("section",{className:d(),children:[o("div",{className:f("filter"),children:o(wn,{id:"hide-completed",text:"Скрыть выполненные",checked:i,setChecked:l})}),o("div",{className:f("grid",{columns:a}),children:c.map((h,g)=>o(Bi,{goal:h,className:f("goal"),horizontal:r,onClickAdd:()=>m(h.code,g,"add"),onClickDelete:()=>m(h.code,g,"delete"),onClickMark:()=>m(h.code,g,"mark",h.completedByUser)},h.code))})]})},EG=e=>{const{className:t,list:n,updateGoal:r}=e,[a,s]=J("content-list-goals",t);return p("article",{className:a(),children:[o(Rw,{title:n.title,category:n.category,complexity:n.complexity,className:s("title"),totalCompleted:n.totalCompleted,isList:!0,theme:"light"}),o(Lw,{isList:!0,goal:n,className:s("description")}),n.addedByUser&&o(rd,{className:s("info"),items:[{title:"Всего целей",value:n.goalsCount},{title:"Выполнено",value:n.userCompletedGoals}],progress:!0,horizontal:!0,progressData:{completed:n.userCompletedGoals,total:n.goalsCount}}),o(bG,{list:n.goals,updateGoal:r,columns:"three"})]})},Bw=async e=>await Ue(e,{auth:!0}),_G=async e=>await tt("goal-lists/".concat(e,"/mark-all"),{auth:!0});const wG=()=>{const[e,t]=J("list-goals-container"),[n,r]=y.useState(null),[a,s]=y.useState(!0),{isAuth:i}=Rt,{setIsOpen:l,setWindow:c}=cn,{imageUrl:u}=Fw({list:n,width:1200,height:630}),d=Us(),f=d==null?void 0:d.id;y.useEffect(()=>{(async()=>{s(!0);const v=await Bw("goal-lists/".concat(f));v.success&&r(v.data.list),s(!1)})()},[f]);const m=async(v,_)=>{if(!i){c("login"),l(!0);return}const E=await(_==="add"?Xu(v):_==="delete"?Zu(v):_G(v));return E.success?(r({...n,...E.data}),!0):E.success},h=async(v,_,E,C)=>{const w=await(E==="add"?Ui(v):E==="delete"?Ju(v):pl(v,!C));if(w.success&&n){const S={...n.goals[_],addedByUser:E!=="delete",completedByUser:E==="mark"?!C:n.goals[_].completedByUser,totalAdded:w.data.users_added_count},N=[...n.goals];N[_]=S;let{userCompletedGoals:T}=n;E==="mark"&&!C&&!n.goals[_].completedByUser?T+=1:E==="mark"&&C&&n.goals[_].completedByUser&&(T-=1);const k=T===n.goalsCount;r({...n,goals:N,userCompletedGoals:T,completedByUser:k,totalCompleted:k?n.totalCompleted+1:n.totalCompleted})}};if(!n)return o(Tt,{isLoading:a,isPageLoader:!0});const g=n.goals.filter(v=>v.location&&typeof v.location.latitude=="number"&&typeof v.location.longitude=="number").map(v=>{var _;return{location:v.location,userVisitedLocation:v.completedByUser,name:v.title,address:(_=v.location)==null?void 0:_.address,description:v.description}});return p(nt,{children:[o(am,{title:n.title,description:n.description||'Список целей "'.concat(n.title,'" на платформе Delting'),dynamicImage:u,type:"article"}),p("main",{className:e(),children:[p("article",{className:t("wrapper"),children:[o(pw,{className:t("aside"),title:n.title,image:n.image,updateGoal:m,added:n.addedByUser,code:n.code,isList:!0,done:n.completedByUser,canEdit:n.isCanEdit||n.isCanAddGoals,location:g,list:n.goals}),o("div",{className:t("content-wrapper"),children:o(EG,{className:t("content"),list:n,updateGoal:h})})]}),o(nd,{})]})]})},CG=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!0)},[]),o(wG,{})},TG=async(e,t)=>cr("goal-lists/".concat(e,"/update"),{auth:!0,file:!0,body:t,showSuccessNotification:!1,error:{type:"error",title:"Ошибка",message:"Не удалось обновить список целей"}});const SG=e=>{var pt;const{className:t,listData:n,canEditAll:r}=e,a=Zn(),[s,i]=J("edit-goal-list",t),[l,c]=y.useState(n.title||""),[u,d]=y.useState(n.description||""),[f,m]=y.useState(null),[h,g]=y.useState(null),[v,_]=y.useState(null),[E,C]=y.useState(null),[w,S]=y.useState(n.image||""),[N,T]=y.useState([]),[k,I]=y.useState([]),[A,x]=y.useState(!1),[D,P]=y.useState(!1),M=y.useRef(null),[R,F]=y.useState((n==null?void 0:n.goals)||[]),[U,$]=y.useState(""),[H,K]=y.useState([]),[,L]=y.useState(!1),[le,q]=y.useState(!1),O=y.useMemo(()=>N.filter(be=>!be.parentCategory),[N]);y.useEffect(()=>{const be=on.findIndex(ue=>ue.value===n.complexity);be!==-1&&m(be)},[n]);const ee=be=>{c(be)};y.useEffect(()=>{(async()=>{try{const ue=await zo();if(ue.success){T(ue.data);const Ne=ue.data.find(De=>De.id===n.category.id);if(Ne)if(Ne.parentCategory){const De=ue.data.filter(Te=>!Te.parentCategory).findIndex(Te=>{var de;return Te.id===((de=Ne.parentCategory)==null?void 0:de.id)});De!==-1&&g(De)}else{const De=ue.data.filter(Te=>!Te.parentCategory).findIndex(Te=>Te.id===n.category.id);De!==-1&&g(De)}}}catch(ue){me.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[n.category.id]),y.useEffect(()=>{if(h!==null&&O[h]){const be=O[h],ue=N.filter(De=>De.parentCategory&&De.parentCategory.id===be.id);I(ue);const Ne=N.find(De=>De.id===n.category.id);if(Ne&&Ne.parentCategory&&Ne.parentCategory.id===be.id){const De=ue.findIndex(Te=>Te.id===Ne.id);De!==-1&&_(De)}else if(n.category.parentCategory){const De=ue.findIndex(Te=>Te.id===n.category.id);De!==-1&&_(De)}}},[h,O,N,n.category.id,(pt=n.category)==null?void 0:pt.parentCategory]),y.useEffect(()=>{q(h!==null)},[h]);const Q=y.useCallback(yl(async be=>{var ue;if(be.length<3){K([]),L(!1);return}try{const Ne=await td(be);if(Ne.success&&((ue=Ne.data)!=null&&ue.results)){const De=Ne.data.results.filter(Te=>!R.some(de=>de.id===Te.id));K(De)}}catch(Ne){console.error("Ошибка при поиске целей:",Ne)}finally{L(!1)}},500),[R]);y.useEffect(()=>{U?(L(!0),Q(U)):K([])},[U,Q]);const oe=y.useCallback(be=>{be&&be.length>0&&(C(be[0]),S(URL.createObjectURL(be[0])))},[]),V=()=>{M.current&&r&&M.current.click()},Ae=be=>{be.target.files&&oe(be.target.files)},ne=()=>{r&&(C(null),S(n.image))},Ce=be=>{F(ue=>[...ue,be]),K(ue=>ue.filter(Ne=>Ne.id!==be.id)),$("")},rt=be=>{F(ue=>ue.filter(Ne=>Ne.id!==be))},ot=be=>{F(ue=>[...ue,be]),P(!1),me.addNotification({type:"success",title:"Успех",message:"Цель успешно добавлена в список"})},Et=be=>{be.preventDefault(),be.stopPropagation()},j=async be=>{var ue;if(be.preventDefault(),r&&(!l||!u||f===null||h===null)){me.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}if(R.length===0){me.addNotification({type:"error",title:"Ошибка",message:"Список целей не может быть пустым"});return}x(!0);try{const Ne=new FormData;r&&(Ne.append("title",l),Ne.append("description",u),f!==null&&Ne.append("complexity",on[f].value),v!==null&&k[v]?Ne.append("category",k[v].id.toString()):h!==null&&Ne.append("category",O[h].id.toString()),E&&Ne.append("image",E)),R.forEach(Te=>{Ne.append("goals[]",Te.id.toString())});const De=await TG(n.code,Ne);if(De.success)me.addNotification({type:"success",title:"Успех",message:"Список целей успешно обновлен"}),a("/list/".concat((ue=De==null?void 0:De.data)==null?void 0:ue.code));else throw new Error(De.error||"Неизвестная ошибка")}catch(Ne){me.addNotification({type:"error",title:"Ошибка",message:Ne instanceof Error?Ne.message:"Не удалось обновить список целей"})}finally{x(!1)}};return p("form",{className:s(),onSubmit:j,children:[o(ke,{tag:"h1",className:i("title"),children:r?"Редактирование списка целей":"Добавление целей в список"}),p("div",{className:i("content"),children:[p("div",{className:i("image-section"),children:[o("p",{className:i("field-title"),children:"Изображение списка"}),w?p("div",{className:i("image-preview"),children:[o("img",{src:w,alt:"Предпросмотр",className:i("preview")}),r&&o(z,{withBorder:!0,className:i("remove-image"),type:"button-close",onClick:ne})]}):o("div",{className:i("dropzone",{disabled:!r}),children:o(as,{onDrop:be=>be&&r&&oe(be),children:p("div",{className:i("upload-placeholder"),onClick:V,role:"button",tabIndex:r?0:-1,"aria-label":"Добавить изображение","aria-disabled":!r,onKeyPress:be=>{r&&(be.key==="Enter"||be.key===" ")&&V()},children:[o("input",{type:"file",ref:M,style:{display:"none"},onChange:Ae,accept:"image/*",disabled:!r}),o(ie,{icon:"mount",className:i("upload-icon")}),o("p",{children:r?"Перетащите изображение сюда или кликните для выбора":"Изображение нельзя изменить (прошло более 24 часов после создания)"})]})})})]}),p("div",{className:i("form"),children:[r&&p(nt,{children:[o("div",{className:i("field-wrapper"),children:o(He,{placeholder:"Введите название списка целей",id:"goal-list-title",text:"Название списка *",value:l,setValue:ee,className:i("field"),required:!0})}),o(qt,{className:i("field"),placeholder:"Выберите категорию",options:O.map(be=>({name:be.name,value:be.nameEn})),activeOption:h,onSelect:g,text:"Категория *"}),h!==null&&k.length>0&&o(qt,{className:i("field"),placeholder:"Выберите подкатегорию (необязательно)",options:k.map(be=>({name:be.name,value:be.nameEn})),activeOption:v,onSelect:_,text:"Подкатегория"}),o(qt,{className:i("field"),placeholder:"Выберите сложность",options:on,activeOption:f,onSelect:m,text:"Сложность *"}),o(He,{placeholder:"Опишите список целей подробно",id:"goal-list-description",text:"Описание *",value:u,setValue:d,className:i("field"),type:"textarea",required:!0,rows:4})]}),p("div",{className:i("goals-section"),children:[o(ke,{tag:"h2",className:i("subtitle"),children:r?"Редактирование целей списка":"Добавление целей в список"}),p("div",{className:i("search-container"),children:[o(He,{placeholder:"Поиск существующих целей",id:"goal-search",text:"Поиск целей",value:U,setValue:$,className:i("search-field"),iconBegin:"search"}),H.length>0&&o("div",{className:i("search-results"),children:H.map(be=>o(hw,{goal:be,onAdd:Ce},be.id))})]}),p("div",{className:i("selected-goals"),children:[p("h3",{className:i("section-title"),children:["Выбранные цели ",R.length]}),R.length>0?o("div",{className:i("goals-list"),children:R.map(be=>p("div",{className:i("goal-item"),children:[p("div",{className:i("goal-content"),children:[o("div",{className:i("goal-image-container"),children:be.image?o("img",{src:be.image,alt:be.title,className:i("goal-image")}):o("div",{className:i("goal-no-image"),children:o(ie,{icon:"mount"})})}),p("div",{className:i("goal-info"),children:[o("h4",{className:i("goal-title"),children:be.title}),o("p",{className:i("goal-complexity"),children:hu[be.complexity]}),o("p",{className:i("goal-description"),children:be.shortDescription})]})]}),o("button",{type:"button",className:i("goal-remove-btn"),onClick:()=>rt(be.id),"aria-label":"Удалить цель",onKeyDown:ue=>{(ue.key==="Enter"||ue.key===" ")&&rt(be.id)},children:o(ie,{icon:"cross"})})]},be.id))}):o("div",{className:i("empty-message"),children:"Вы еще не добавили ни одной цели. Воспользуйтесь поиском или создайте новую цель."})]}),o("div",{className:i("add-new-goal"),children:D?p("div",{className:i("new-goal-form"),children:[o(ke,{tag:"h3",className:i("form-title"),children:"Создание новой цели"}),o("div",{className:i("embedded-add-goal-wrapper"),children:o(Hm,{className:i("embedded-add-goal"),onGoalCreated:ot,hideNavigation:!0,noForm:!0,onSubmitForm:Et,initialCategory:v!==null?k[v]:O[h],lockCategory:!0,preloadedCategories:N})}),o("div",{className:i("form-buttons"),children:o(z,{theme:"blue-light",className:i("cancel-btn"),onClick:()=>P(!1),type:"button",children:"Отмена"})})]}):o(z,{theme:"blue-light",className:i("add-goal-btn"),onClick:()=>{le?P(!0):me.addNotification({type:"warning",title:"Внимание",message:"Для создания цели необходимо сначала выбрать категорию списка"})},type:"button",icon:"plus",children:"Создать новую цель"})})]}),p("div",{className:i("btns-wrapper"),children:[o(z,{theme:"blue-light",className:i("btn"),onClick:()=>a(-1),type:"button",children:"Отмена"}),o(z,{theme:"blue",className:i("btn"),typeBtn:"submit",children:A?"Сохранение...":"Сохранить изменения"})]})]})]}),o(nd,{})]})},NG=({page:e})=>{const[t,n]=y.useState(!0),[r,a]=y.useState({}),{setFull:s,setHeader:i,setPage:l}=yt;y.useEffect(()=>{i("white"),l(e),s(!1)},[]);const c=Zn(),{id:u}=Us();return y.useEffect(()=>{(async()=>{if(!u){c("/");return}try{n(!0);const f=await Bw("goal-lists/".concat(u));if(!f.success)throw new Error(f.error||"Невозможно загрузить список");if(!f.data.list.isCanEdit&&!f.data.list.isCanAddGoals){me.addNotification({type:"error",title:"Ошибка",message:"Вы не можете редактировать этот список"}),c("/list/".concat(u));return}a(f.data.list)}catch(f){me.addNotification({type:"error",title:"Ошибка",message:f instanceof Error?f.message:"Произошла ошибка при загрузке данных"}),c("/")}finally{n(!1)}})()},[u]),t?o(Tt,{isLoading:t,isPageLoader:!0}):o(SG,{listData:r,canEditAll:r==null?void 0:r.isCanEdit})};const kG=ze(({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt,[a]=vh(),s=a.get("ok")==="1",i=a.get("error")||"",[l,c]=J("page-email-confirmed");if(y.useEffect(()=>{t("white"),n(e),r(!0),s&&Rt.isAuth&&Rt.setEmailConfirmed(!0)},[s]),s)return Rt.isAuth?o(es,{to:"/user/self/settings",replace:!0}):o(es,{to:"/sign-in",replace:!0});const u=i==="missing",d=u?"Нет ссылки":"Ссылка недействительна",f=u?"В ссылке отсутствует код подтверждения. Запросите новое письмо в настройках или на странице входа.":"Ссылка недействительна, устарела или уже использована. Запросите новое письмо в настройках.";return p("div",{className:l(),children:[o(ie,{icon:"icon-logo",className:c("logo")}),o(ke,{tag:"h3",className:c("title"),children:d}),o("p",{className:c("message"),children:f}),o("div",{className:c("actions"),children:o(z,{theme:"blue",className:c("btn"),type:"Link",href:"/sign-in",children:"Перейти к входу"})})]})});const DG=()=>{const[e,t]=J("help-container"),[n,r]=y.useState(0),a=[{question:"Как создать цель?",answer:'Вы можете создать цель несколькими способами:\n			1. Перейдите в раздел "Каталог целей" и выберите готовую цель из тысяч вариантов\n			2. Нажмите кнопку "Добавить цель" и создайте свою уникальную цель\n			3. Добавьте цель в список "100 целей", который поможет структурировать ваши мечты'},{question:"Как отслеживать прогресс цели?",answer:"Для отслеживания прогресса:\n			1. Откройте цель в своем профиле\n			2. Используйте кнопку изменения прогресса, отмечая ключевые моменты\n			Ваш прогресс автоматически сохраняется"},{question:"Что такое папки целей?",answer:"Папки целей — это удобный способ организовать ваши цели по темам или проектам. Вы можете:\n			• Создавать собственные папки с названиями и цветами\n			• Группировать связанные цели вместе\n			• Делать папки приватными — не будут видны другим пользователям\n			• Быстро находить нужные цели через удобную навигацию"},{question:"Как работают достижения?",answer:"Достижения автоматически начисляются за различные действия на платформе:\n			• Выполнение целей\n			• Добавление новых целей\n			• Регулярная активность\n			Проверяйте свой профиль, чтобы увидеть все полученные достижения!"},{question:"Можно ли делиться целями с друзьями?",answer:'Да! Вы можете:\n			• Добавлять друзей через раздел "Друзья"\n			• Просматривать профили друзей и их достижения\n			• Сравнивать прогресс по общим целям\n			• Вдохновляться успехами других пользователей\n			Система друзей помогает поддерживать мотивацию и делиться опытом.'},{question:"Что такое регулярные цели?",answer:"Регулярные цели — это цели, которые вы выполняете периодически (например, тренировки, чтение книг, практика навыков). \n			При добавлении такой цели вы можете настроить:\n			• Периодичность выполнения\n			• Напоминания\n			• Трекинг прогресса\n			Это поможет вам поддерживать полезные привычки!"},{question:"Как использовать карты?",answer:"Функция карт позволяет:\n			• Отмечать места, где вы были\n			• Создавать визуальную карту своих путешествий\n			• Отслеживать географические цели\n			• Делиться своими маршрутами с друзьями\n			Просто добавьте локацию к цели, и она появится на вашей карте!"},{question:"Можно ли изменить настройки профиля?",answer:'Конечно! В разделе "Настройки" вы можете:\n			• Изменить аватар и обложку профиля\n			• Обновить информацию о себе\n			• Настроить уведомления\n			• Изменить пароль\n			• Управлять приватностью аккаунта\n			Все изменения сохраняются автоматически.'}],s=[{icon:"rocket",title:"Начать работу",description:"Узнайте, как сделать первые шаги на платформе",href:"/categories/all"},{icon:"level",title:"Отслеживание прогресса",description:"Инструкции по работе с прогрессом целей",href:"/user/self/progress"},{icon:"apps",title:"Организация целей",description:"Как создавать папки и структурировать цели",href:"/user/self/folders"}];return p("main",{className:e(),children:[o("div",{className:t("hero"),children:p(fn.div,{className:t("hero-content"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p("h1",{className:t("hero-title"),children:["Нужна ",o("span",{className:t("hero-title-accent"),children:"помощь"}),"?"]}),o("p",{className:t("hero-description"),children:"Мы собрали ответы на самые частые вопросы и полезные инструкции, которые помогут вам максимально эффективно использовать все возможности платформы."})]})}),p("div",{className:t("content"),children:[p("section",{className:t("section"),children:[o(ke,{tag:"h2",className:t("section-title"),children:"Быстрые ссылки"}),o("div",{className:t("quick-links"),children:s.map((i,l)=>o(fn.div,{className:t("quick-link-card"),initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:l*.1},viewport:{once:!0},children:p(Fe,{to:i.href,className:t("quick-link-link"),children:[o("div",{className:t("quick-link-icon"),children:o(ie,{icon:i.icon,width:"24px",height:"24px"})}),o("h3",{className:t("quick-link-title"),children:i.title}),o("p",{className:t("quick-link-description"),children:i.description})]})},i.title))})]}),p("section",{className:t("section"),children:[o(ke,{tag:"h2",className:t("section-title"),children:"Часто задаваемые вопросы"}),o("div",{className:t("faq"),children:a.map((i,l)=>p(fn.div,{className:t("faq-item",{open:n===l}),initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{duration:.3,delay:l*.05},viewport:{once:!0},children:[p("button",{className:t("faq-question"),onClick:()=>r(n===l?null:l),type:"button","aria-expanded":n===l,children:[o("span",{children:i.question}),o(ie,{icon:"arrow--down",className:t("faq-icon",{open:n===l})})]}),n===l&&o("div",{className:t("faq-answer"),children:i.answer.split("\n\n").map((c,u)=>o("p",{children:c},u))})]},l))})]}),p(fn.section,{className:t("section",{cta:!0}),initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0},children:[o("h2",{className:t("cta-title"),children:"Не нашли ответ?"}),p("p",{className:t("cta-description"),children:["Если у вас остались вопросы, свяжитесь с нами через раздел"," ",o(Fe,{to:"/contacts",className:t("link"),children:"Контакты"}),". Мы всегда рады помочь!"]})]})]})]})},xG=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(DG,{})};const AG=e=>{const{users:t,className:n}=e,[r,a]=J("leader-board",n);return o("section",{className:r(),children:p("table",{className:a("table"),children:[o("thead",{className:a("header"),children:p("tr",{children:[o("th",{className:a("head-item"),children:"#"}),o("th",{className:a("head-item"),children:"Пользователь"}),o("th",{className:a("head-item"),children:"Целей выполнено"}),o("th",{className:a("head-item"),children:"Добавлено отзывов"}),o("th",{className:a("head-item"),children:"Опыта заработано"})]})}),o("tbody",{children:t.map(s=>p("tr",{className:a("row"),children:[o("td",{className:a("item"),children:s.place}),o("td",{className:a("item"),children:p(Fe,{to:"/user/".concat(s.id,"/showcase"),className:a("row-link"),children:[o(Jn,{noBorder:!0,className:a("avatar"),size:"medium",avatar:s.avatar}),o("p",{children:s.name}),p("p",{className:a("info"),children:[ct(s.level,["уровень"])," ",ct(s.totalCompletedGoals,["цель выполнена","цели выполнено","целей выполнено"])]})]})}),o("td",{className:a("item"),children:s.weekCompletedGoals}),o("td",{className:a("item"),children:s.reviewsAddedWeek}),o("td",{className:a("item"),children:s.experienceEarnedWeek})]},s.id))})]})})};const PG=e=>{const{users:t,className:n}=e,[r,a]=J("leader-pedestal",n);return o("section",{className:r(),children:t.map((s,i)=>p("div",{className:a("user"),children:[o(Jn,{noBorder:!0,className:a("avatar"),size:i===0?"large-96":i===1?"medium-56":"medium",avatar:s.avatar}),o("p",{className:a("name"),children:s.name}),o("p",{className:a("experience"),children:ct(s.experienceEarnedWeek,["опыт","опыта","опыта"])}),p("p",{className:a("place"),children:[o(ie,{icon:"award"}),s.place," место"]})]},s.id))})},OG=async()=>await Ue("leaders/weekly");const IG=()=>{const[e,t]=J("leaders"),[n,r]=y.useState([]),[a,s]=y.useState(yk),[i,l]=y.useState(!0);return y.useEffect(()=>{(async()=>{l(!0);const c=await OG();c.success&&(r(c.data.leaders),s(c.data.totalStats)),l(!1)})()},[]),p(Tt,{isLoading:i,className:e(),children:[p("div",{className:t("wrapper"),children:[o(ke,{className:t("title"),tag:"h1",children:"Лидеры прошлой недели"}),o("p",{className:t("description"),children:"Выполняйте цели, пишите отзывы, зарабатывайте очки и попадайте в число лучших пользователей за неделю. Соревнуйтесь с другими и зарабатывайте награды в свой профиль. Покажите всем, что вы живёте полной жизнью!"})]}),o(rd,{className:t("info"),items:[{title:"Целей выполнено",value:a.goalsCompleted},{title:"Добавлено отзывов",value:a.reviewsAdded},{title:"Опыта заработано",value:a.experienceEarned}],backgroundOff:!0}),n.length>0?p(nt,{children:[o(PG,{users:n.slice(0,3),className:t("pedestal")}),o(AG,{className:t("board"),users:n})]}):o(jt,{title:"Никто еще не стал лидером недели. Но вы можете стать им!"})]})},LG=({page:e})=>{const{setPage:t,setHeader:n,setFull:r}=yt;return y.useEffect(()=>{t(e),n("white"),r(!1)},[e,t,n,r]),o(IG,{})},RG=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt,{setWindow:a,setIsOpen:s,setModalProps:i}=cn,{setName:l,setIsAuth:c,setAvatar:u}=Rt,d=Zn(),f=h=>{i({initialEmail:h!=null?h:""}),a("forgot-password"),s(!0)},m=h=>{dt.set("name",h.name||""),l(h.name||""),c(!0),u(dt.get("avatar")||""),d("/list/100-goals")};return y.useEffect(()=>{t("white"),n(e),r(!0)},[]),o(fb,{isPage:!0,openRegistration:()=>d("/sign-up"),openForgotPassword:f,successLogin:m})};const MG=e=>{const{className:t,comments:n}=e,[r,a]=J("main-comments",t),{isScreenMobile:s}=Vr();return n.length?p("section",{className:r(),children:[o(ke,{tag:"h2",className:a("title"),children:"Реальные истории. Реальные победы"}),p("div",{className:a("slider-container"),children:[o(Wm,{modules:[bw],spaceBetween:s?12:24,slidesPerView:"auto",navigation:{nextEl:".main-comments__next",prevEl:".main-comments__prev"},centeredSlides:!0,loop:!0,className:a("slider"),children:n.map((i,l)=>o(Ym,{className:a("slide"),children:o(Ow,{comment:i,className:a("comment"),isMain:!0})},"".concat(i.id,"-").concat(l)))}),p("div",{className:a("navigation"),children:[o(z,{theme:"blue-light",icon:"arrow--bottom",className:a("prev")}),o(z,{theme:"blue-light",icon:"arrow",className:a("next")})]})]})]}):null};const Fy=e=>{var N,T;const{className:t,slides:n,direction:r="up",speed:a=3}=e,s=Xw(),i=y.useRef(null),l=y.useRef(null),c=y.useRef(null),[u,d]=y.useState(0),[f,m]=y.useState(0),[h,g]=y.useState(n),[v,_]=y.useState(!1),[E,C]=J("vertical-slider",t),w=[...h,...h],S=()=>{i.current&&d(i.current.clientHeight),l.current&&m(l.current.clientHeight)};return y.useEffect(()=>(typeof ResizeObserver<"u"&&(c.current=new ResizeObserver(S),i.current&&c.current.observe(i.current),l.current&&c.current.observe(l.current)),()=>{c.current&&c.current.disconnect()}),[]),y.useEffect(()=>{S()},[(N=i.current)==null?void 0:N.clientHeight,(T=l.current)==null?void 0:T.clientHeight]),y.useEffect(()=>{if(l.current){const k=l.current.querySelectorAll("img");if(k.length===0){_(!0);return}let I=0;const A=k.length,x=()=>{I++,I===A&&(_(!0),S())};return k.forEach(D=>{D.complete?x():(D.addEventListener("load",x),D.addEventListener("error",x))}),()=>{k.forEach(D=>{D.removeEventListener("load",x),D.removeEventListener("error",x)})}}},[h]),y.useEffect(()=>{g(n)},[n]),y.useEffect(()=>{if(u>0&&f>0&&v){const k=f/2;let I=!1;const A=async()=>{I||(r==="down"?(await s.set({y:-k}),await s.start({y:0,transition:{duration:a,ease:"linear"}})):(await s.set({y:0}),await s.start({y:-k,transition:{duration:a,ease:"linear"}})),A())};return A(),()=>{I=!0,s.stop()}}},[s,u,f,a,n,v,r]),o("div",{className:E(),ref:i,children:o("div",{className:C("slider-container"),children:o(fn.div,{className:C("items-container"),animate:s,ref:l,children:w.map((k,I)=>{const A="slide-".concat(I,"-").concat(Math.random().toString(36).substr(2,9));return o("div",{className:C("slide"),children:k},A)})})})})};const FG=e=>{const{className:t,leftPhotos:n,rightPhotos:r,totalCompleted:a}=e,[s,i]=J("main-header",t),{setWindow:l,setIsOpen:c}=cn,{isAuth:u}=Rt,d=()=>{u||(c(!0),l("login"))};return p("section",{className:s(),children:[o("div",{className:i("slider slider-left"),children:n.length>0&&o(Fy,{slides:n.map(f=>o("img",{className:i("slider-image"),src:f.imageUrl,alt:"Фотография из комментария"})),direction:"up",speed:60})}),p("div",{className:i("info"),children:[o(ke,{tag:"h1",className:i("title"),children:p(nt,{children:["Превратите свои мечты в цели и начните своё путешествие в ",o("p",{className:i("gradient"),children:"лучшую жизнь"})]})}),o("p",{className:i("description"),children:"Мы уже сделали это за вас - 100 вдохновляющих целей для яркой и успешной жизни уже в вашем профиле"}),o(z,{className:i("button"),type:u?"Link":"button",theme:"gradient",size:"medium",icon:"rocket",width:"auto",onClick:u?void 0:d,href:"/categories/all",children:"Начать путь"}),p("p",{className:i("completed"),children:["🔥 Уже выполнено:"," ",o("span",{className:i("completed-number"),children:ct(a,["цель","цели","целей"])})]})]}),o("div",{className:i("slider slider-right"),children:r.length>0&&o(Fy,{slides:r.map(f=>o("img",{className:i("slider-image"),src:f.imageUrl,alt:"Фотография из комментария"})),direction:"down",speed:60})})]})};const BG="/assets/achievements/target-default.svg",ad=e=>{const{className:t,achievement:n}=e,[r,a]=J("achievement",t),[s,i]=y.useState(!1),l=()=>{i(!0)},c=s||!n.image||!n.isAchieved?BG:n.image;return p("div",{className:r({unlocked:n.isAchieved}),children:[o("span",{className:a("image-wrapper"),children:o("img",{className:a("image"),src:c,alt:n.title,onError:l})}),p("div",{children:[o(ke,{tag:"h4",children:n.title}),o("p",{children:n.description})]})]})};const hf=e=>{const{className:t,done:n,all:r,complexity:a}=e,[s,i]=J("progress-category",t),l=y.useRef(null);return y.useEffect(()=>{if(l.current){const c=2*Math.PI*parseFloat(l.current.getAttribute("r")||"0"),u=c-c*(n/r)*100/100;l.current.style.strokeDashoffset=u.toString()}},[n,r]),p("div",{className:s(),children:[p("div",{className:i("bar"),style:{width:"40px",height:"40px"},children:[o(ie,{icon:a}),p("svg",{viewBox:"0 0 40 40",className:i("svg-container"),children:[o("circle",{className:i("outer-circle"),cx:"20",cy:"20",r:"18",fill:"none",strokeWidth:4}),n&&o("circle",{className:i("progress-indicator",{complexity:a}),cx:"20",cy:"20",r:"18",fill:"none",strokeWidth:4,ref:l,strokeDasharray:"".concat(2*Math.PI*17.5),strokeDashoffset:"0",strokeLinecap:"round",transform:"rotate(-90 20 20)"})]})]}),p("div",{className:i("wrapper"),children:[o("span",{children:lb[a]}),o("span",{className:i("account"),children:"".concat(n,"/").concat(r)})]})]})};const vl=e=>{const{className:t,totalCompletedEasy:n,totalAddedEasy:r,totalAddedHard:a,totalAddedMedium:s,totalCompletedHard:i,totalCompletedMedium:l,column:c}=e,[u,d]=J("info-100-goals",t);return p("section",{className:u(),children:[p("div",{className:d("wrapper",{column:c}),children:[o(hf,{complexity:"easy",done:n,all:r}),o(at,{vertical:!c,height:-16,margin:c?"0":"16px 0"}),o(hf,{complexity:"medium",done:l,all:s}),o(at,{vertical:!c,height:-16,margin:c?"0":"16px 0"}),o(hf,{complexity:"hard",done:i,all:a})]}),r+a+s>0&&p(nt,{children:[o(at,{}),p("div",{className:d("score"),children:[o("p",{className:d("text"),children:"Общий прогресс:"}),o(pa,{done:n+i+l,all:r+a+s,goal:!0})]})]})]})};const UG=e=>{const{className:t}=e,[n,r]=J("main-info",t);return p("section",{className:n(),children:[p("div",{className:r("item"),children:[p("div",{className:r("head"),children:[p("div",{className:r("head-row"),children:[o(ie,{className:r("icon"),icon:"question-circle",width:"24px",height:"24px"}),o(z,{className:r("tariffs-btn"),type:"Link",theme:"blue",size:"small",icon:"award",href:"/tariffs",children:"Тарифы"})]}),o(ke,{tag:"h2",className:r("title"),children:"Почему это меняет жизнь?"})]}),o("p",{children:"Ты уже знаешь, куда двигаться — благодаря чёткой структуре. С помощью отслеживания прогресса и визуализации формируешь новые привычки, которые меняют мышление и поведение. А самое главное — ты не один: наше сообщество всегда поддержит тебя."}),p("div",{className:r("example"),children:[o("h3",{className:r("info-title"),children:"Невыполненных целей в “100 целей”"}),p("span",{className:r("info-count"),children:[o(ie,{icon:"star"}),"76"]})]}),o(ad,{className:r("achievement"),achievement:{id:1,title:"Путешественник 1го уровня",description:"Выполнить хотя бы 1 цель из категории «Путешествия»",image:"/svg/map.svg",isAchieved:!1,category:"progress"}}),o(vl,{totalAddedEasy:34,totalAddedHard:33,totalAddedMedium:33,totalCompletedEasy:16,totalCompletedHard:2,totalCompletedMedium:10,column:!0,className:r("info-100-goals")})]}),p("div",{className:r("item"),children:[o(ie,{className:r("icon"),icon:"rocket",width:"24px",height:"24px"}),o(ke,{tag:"h3",className:r("title"),children:"100 целей на жизнь"}),o("p",{children:"Список 100 целей на жизнь стимулирует всестороннее развитие и помогает охватить все аспекты жизни, от карьерных и личных до духовных и развлекательных."})]}),p("div",{className:r("item"),children:[o(ie,{className:r("icon",{apps:!0}),icon:"apps",width:"24px",height:"24px"}),o(ke,{tag:"h3",className:r("title"),children:"Каталог целей"}),o("p",{children:"Хотите отслеживать прогресс и ставить перед собой другие цели? Вы обязательно сможете найти что-нибудь подходящее для вас в нашем каталоге."})]}),p("div",{className:r("item"),children:[o(ie,{className:r("icon"),icon:"trophy",width:"24px",height:"24px"}),o(ke,{tag:"h3",className:r("title"),children:"Список лидеров"}),o("p",{children:"Зарабатывайте достижения и соревнуйтесь с друзьями. Обойдите всех в недельном рейтинге и похвастайтесь своей новой яркой жизнью."})]})]})};const yh=e=>{const{className:t,goal:n,big:r,withBtn:a,updateGoal:s,colored:i}=e,[l,c]=J("card-main",t),u=d=>{d.preventDefault(),s&&s()};return o("section",{className:l({big:r,withBtn:a}),children:o(Fe,{to:"/goals/".concat(n.code),className:c("gradient"),children:o(Mm,{img:{src:n.image,alt:n.title},category:n.category.nameEn,blacked:!i&&!n.completedByUser,withBlack:n.completedByUser,children:p("div",{className:c("info"),children:[p("div",{className:c("img-tags"),children:[n.completedByUser&&o(Nn,{icon:"done",theme:"light",classNameIcon:c("img-tag-icon-done")}),o(Nn,{text:n.category.name,category:n.category.nameEn,className:c("img-tag-category")})]}),p("div",{children:[o(ke,{tag:"h3",className:c("title"),theme:"white",children:n.title}),o("p",{className:c("text"),children:n.shortDescription}),a&&p(nt,{children:[o(at,{className:c("line")}),o(z,{className:c("btn"),icon:"done",theme:n.completedByUser?"green":"blue",onClick:u,children:"Выполнено"})]})]})]})})})})};const HG=e=>{const{className:t,buttons:n,active:r,onChange:a}=e,[s,i]=J("switch-button",t),l=c=>{r!==c&&a(c)};return o("section",{className:s(),children:n.map(c=>p("button",{className:i("button",{active:r===c.id}),onClick:()=>l(c.id),type:"button",children:[c.name,!!c.count&&o("span",{className:i("count"),children:c.count})]},c.id))})};const GG=e=>{const{className:t,goalsForDay:n,goalsForAllTime:r}=e,[a,s]=J("main-popular",t),[i,l]=y.useState("top"),{isScreenMobile:c,isScreenSmallTablet:u}=Vr(),d=y.useMemo(()=>c?1:u?2:3,[c,u]);return p("section",{className:a(),children:[p("div",{className:s("header"),children:[o(HG,{buttons:[{id:"top",name:"Топ целей"},{id:"today",name:"Популярные сегодня"}],active:i,onChange:l}),o(z,{icon:"rocket",theme:"no-border",type:"Link",href:"/categories/all",children:"Выбрать свою цель"})]}),p("div",{className:s("content"),children:[i==="top"&&(r==null?void 0:r.map((f,m)=>o(yh,{goal:f,className:s("card",{big:m<d}),big:m<d,colored:!0},f.code))),i==="today"&&(n==null?void 0:n.map((f,m)=>o(yh,{goal:f,className:s("card",{big:m<d}),big:m<d,colored:!0},f.code)))]})]})},$G=async()=>await Ue("comments/popular-photos"),WG=async()=>await Ue("goals/popular/all-time",{auth:!0}),YG=async()=>await Ue("goals/popular/day",{auth:!0}),zG=async()=>await Ue("comments/top-liked",{auth:!0});const VG=()=>{const[e]=J("main-container"),[t,n]=y.useState(0),[r,a]=y.useState([]),[s,i]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,m]=y.useState(0),h=async()=>{n(w=>w+1);const C=await $G();C.success&&a(C.data.photos),n(w=>w-1)},g=async()=>{n(w=>w+1);const C=await YG();C.success&&i(C.data),n(w=>w-1)},v=async()=>{n(w=>w+1);const C=await WG();C.success&&c(C.data),n(w=>w-1)},_=async()=>{n(w=>w+1);const C=await iw();C.success&&m(C.data.totalCompletedGoals),n(w=>w-1)},E=async()=>{n(w=>w+1);const C=await zG();C.success&&d(C.data),n(w=>w-1)};return y.useEffect(()=>{h(),g(),v(),E(),_()},[]),p(Tt,{isLoading:!!t,className:e(),children:[o(FG,{leftPhotos:r.slice(0,10),rightPhotos:r.slice(10,20),totalCompleted:f}),o(GG,{goalsForDay:s,goalsForAllTime:l}),o(UG,{}),o(MG,{comments:[...u,...u]}),o(lw,{tag:"h2",title:"Что тебе интересно?"})]})},qG=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(VG,{page:e})};const _i=e=>{const{className:t,goals:n,complexity:r,withBtn:a,updateGoal:s,allGoalsCompleted:i}=e,[l,c]=J("main-cards",t);return p("section",{className:l(),children:[p(ke,{className:c("title"),tag:"h2",children:[o(ie,{icon:r,width:"22px",height:"22px"}),lb[r]]}),p("section",{className:c("cards"),children:[n.length>0&&(n==null?void 0:n.map((u,d)=>o(yh,{goal:u,className:c("card"),withBtn:a,updateGoal:()=>s&&s(d,r,u.code,u.completedByUser)},u.code))),i&&o("p",{className:c("empty"),children:uk[r]})]})]})},zm=async e=>await Ue("100-goals",{auth:!0,get:{user_id:e}});const jG=()=>{const[e,t]=J("main-goals"),[n,r]=y.useState(!0),[a,s]=y.useState(!1),[i,l]=y.useState(!1),[c,u]=y.useState({easyGoals:{data:[],countCompleted:0},mediumGoals:{data:[],countCompleted:0},hardGoals:{data:[],countCompleted:0}});if(y.useEffect(()=>{(async()=>{r(!0);const f=await zm();f.success&&u(f.data),r(!1)})()},[]),y.useEffect(()=>{c.easyGoals.data.length!==0&&l(c.easyGoals.countCompleted===c.easyGoals.data.length&&c.mediumGoals.countCompleted===c.mediumGoals.data.length&&c.hardGoals.countCompleted===c.hardGoals.data.length)},[c]),!c)return null;const d=async(f,m,h,g)=>{const v=await pl(h,!g);if(v.success){const _={completedByUser:!g,totalAdded:v.data.totalAdded,totalCompleted:v.data.totalCompleted},E="".concat(m,"Goals"),C=c[E],w=C.data.findIndex(N=>N.code===h);if(w===-1)return;const S={data:[...C.data.slice(0,w),{...C.data[w],..._},...C.data.slice(w+1)],countCompleted:C.countCompleted+(g?-1:1)};u({...c,[E]:S})}};return o("main",{className:e(),children:o(Tt,{isLoading:n,children:p(nt,{children:[p("div",{className:t("info"),children:[p("div",{className:t("description"),children:[o(ke,{className:t("title"),tag:"h1",children:"Твои 100 целей на жизнь!"}),o("p",{className:t("description-text"),children:"Сколько всего вы бы хотели сделать, увидеть, испытать за свою жизнь, но мечты постоянно откладываются?"}),o("p",{className:t("description-text"),children:"Превратите свои мечты в цели, и скоро вы заметите, как ваша жизнь изменилась. Мы уже сделали это за вас - дерзайте!"})]}),o(vl,{className:t("stats"),totalAddedEasy:c.easyGoals.data.length,totalAddedMedium:c.mediumGoals.data.length,totalAddedHard:c.hardGoals.data.length,totalCompletedEasy:c.easyGoals.countCompleted,totalCompletedMedium:c.mediumGoals.countCompleted,totalCompletedHard:c.hardGoals.countCompleted})]}),p("div",{className:t("filter"),children:[i&&p("div",{className:t("all-completed-container"),children:[o("p",{className:t("all-completed"),children:"Поздравляем! Ты достиг всего, что задумал. Но не спеши грустить — впереди ещё целый мир открытий, идей и впечатлений, которые ждут именно тебя, а мы уже готовы помочь тебе сделать следующий шаг."}),o("img",{className:t("all-completed-image"),src:"https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHYxaXJnZWF2NXB2ODVpeXF2MGFnMHBvaXU4czBoYTJtZHpwOXQzeCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/g9582DNuQppxC/giphy.gif",alt:"Наши поздравления"})]}),o(wn,{id:"hide-completed-main",text:"Скрыть выполненные",checked:a,setChecked:s})]}),o(_i,{className:t("goals"),goals:a?c.easyGoals.data.filter(f=>!f.completedByUser):c.easyGoals.data,complexity:"easy",withBtn:!0,updateGoal:d,allGoalsCompleted:i}),o(_i,{className:t("goals"),goals:a?c.mediumGoals.data.filter(f=>!f.completedByUser):c.mediumGoals.data,complexity:"medium",withBtn:!0,updateGoal:d,allGoalsCompleted:i}),o(_i,{className:t("goals"),goals:a?c.hardGoals.data.filter(f=>!f.completedByUser):c.hardGoals.data,complexity:"hard",withBtn:!0,updateGoal:d,allGoalsCompleted:i})]})})})},By=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(jG,{page:e})};const KG=ze(()=>{const[e,t]=J("not-found");return p("main",{className:e(),children:[o(ke,{tag:"h1",children:"404"}),o(ke,{tag:"h2",children:"Такой страницы не существует"}),o("p",{children:"Возможно страница была удалена или перемещена. Попробуйте обновить запрос"}),o(z,{className:t("link"),href:"/",type:"Link",theme:"blue",size:"medium",width:"auto",children:"Вернуться на главную"})]})}),QG=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(KG,{})},XG=()=>{const{isAuth:e}=Rt;return o(es,{to:e?"/user/self/subs":"/tariffs",replace:!0})};const JG=()=>{const[e,t]=J("privacy-container"),n=new Date().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return o("main",{className:e(),children:p("div",{className:t("content"),children:[p("div",{className:t("header"),children:[o(ke,{tag:"h1",className:t("title"),children:"Политика конфиденциальности"}),p("p",{className:t("date"),children:["Дата последнего обновления: ",n]})]}),p("div",{className:t("document"),children:[p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"1. Общие положения"}),o("p",{children:"Настоящая Политика обработки персональных данных (далее - Политика конфиденциальности) определяет порядок обработки и защиты персональной информации о физических лицах (далее - Пользователи), которая может быть получена владельцем платформы Delting (далее - Оператор) при получении Пользователем услуг, предоставляемых Оператором, включая предоставление права доступа к платформе Delting (далее Платформа)."}),o("p",{children:"Текст Политики доступен Пользователям в сети Интернет по адресу платформы Delting."}),o("p",{children:"В рамках настоящей Политики под персональной информацией Пользователя понимаются:"}),p("p",{children:[o("strong",{children:"1.1."})," Персональная информация, которую Пользователь предоставляет о себе самостоятельно при регистрации и использовании Платформы. Обязательная для оформления заказа информация помечена специальным образом. В отношении такой информации Оператор выполняет обязанности оператора персональных данных."]}),p("p",{children:[o("strong",{children:"1.2."})," Персональные данные, размещаемые Пользователем в Платформе, права на которую принадлежат Оператору, в соответствии с ее функциональностью. В отношении таких данных Пользователь является владельцем и/или оператором указанных персональных данных, а Оператор является обработчиком персональных данных по поручению Пользователя. При этом Оператор:"]}),p("ul",{children:[o("li",{children:"не осуществляет сбор, не определяет цели обработки, количество, объем персональных данных, не использует персональные данные, не получает к ним доступ, не идентифицирует Персональные данные в данных, загружаемых самим Пользователем;"}),o("li",{children:"осуществляет обработку в виде хранения данных всех пользователей и обеспечивает режим безопасности и конфиденциальности в соответствии с Поручением на обработку персональных данных;"}),o("li",{children:"загружая в Платформу персональные данные третьих лиц, Пользователь гарантирует, что получил все необходимые разрешения и согласия на указанные действия;"}),o("li",{children:"хранение данных в личном кабинете Пользователя осуществляется в соответствии с функционалом Платформы и пользовательским соглашением на ее использование."})]}),p("p",{children:[o("strong",{children:"1.3."})," Данные, которые автоматически передаются Оператору в процессе использования Платформы Пользователем, в том числе IP-адрес, данные файлов cookies, информация о браузере Пользователя (или иной программе, с помощью которой осуществляется доступ к сервисам), технические характеристики оборудования и программного обеспечения, используемых Пользователем, дата и время доступа к сервисам, адреса запрашиваемых страниц и иная подобная информация."]})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"2. Оператор персональных данных"}),o("p",{children:"Оператором и администратором сайта является владелец платформы Delting."}),p("p",{children:["Обращения пользователей по вопросам обработки персональных данных:",o("br",{}),"Пользователь вправе направить письменное обращение по адресу электронной почты. При обращении Пользователь указывает информацию, необходимую для его идентификации: ФИО, номер телефона или электронной почты."]}),p("p",{children:["Контактная информация для связи по вопросам обработки персональных данных:",o("br",{}),"Email: ",o(Fe,{to:"mailto:delting-help@yandex.com",children:"delting-help@yandex.com"})]}),o("p",{children:o("strong",{children:"Каким образом дается согласие Пользователя:"})}),o("p",{children:'Пользователь выражает свое согласие с условиями Политики и дает Оператору конкретное и сознательное согласие на обработку Оператором своих персональных данных на условиях, предусмотренных Политикой и Федеральным законом от 27.07.2006 N 152-ФЗ "О персональных данных":'}),p("ul",{children:[o("li",{children:'в момент проставления галочки в поле "Даю согласие на обработку моих персональных данных" и нажатия кнопки "Зарегистрироваться" или "Войти" при регистрации в Платформе. Такие действия будут считаться подписанием согласия простой электронной подписью, а согласие в форме электронного документа - равнозначным содержащему собственноручную подпись Субъекта согласию в письменной форме на бумажном носителе;'}),p("li",{children:[o("strong",{children:"Согласие на рассылку"})," — на получение информационных, рекламных и маркетинговых сообщений (новости Платформы, акции, уведомления о новых возможностях) даётся при подписке на рассылку через форму на Сайте, в настройках личного кабинета или иным способом, предусмотренным на Платформе. Согласие является добровольным и необязательным. Пользователь вправе в любой момент отозвать согласие, воспользовавшись ссылкой в письме рассылки или обратившись по контактной почте Оператора;"]}),o("li",{children:"при оставлении отзыва об услугах и/или товарах Оператора на Сайте, на страницах в социальных сетях Оператора."})]})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"3. Сбор персональных данных"}),o("p",{children:"Персональные данные, разрешённые к обработке в рамках настоящей Политики, предоставляются Пользователем путём заполнения формы регистрации или обратной связи на Сайте или в результате размещения своего отзыва об услугах Оператора."}),o("p",{children:'Оператор защищает данные, которые автоматически передаются в процессе просмотра рекламных блоков и при посещении страниц, на которых установлен статистический скрипт системы ("пиксель"):'}),p("ul",{children:[o("li",{children:"IP адрес;"}),o("li",{children:"информация из cookies;"}),o("li",{children:"информация о браузере (или иной программе, которая осуществляет доступ к показу рекламы);"}),o("li",{children:"время доступа;"}),o("li",{children:"информация об устройстве, используемом Пользователем для доступа к сайту;"}),o("li",{children:"адрес страницы, на которой расположен рекламный блок;"}),o("li",{children:"реферер (адрес предыдущей страницы);"}),o("li",{children:"регион пользователя;"}),o("li",{children:"часовой пояс, установленный на устройстве пользователя;"}),o("li",{children:"провайдер пользователя."})]}),o("p",{children:"Оператор осуществляет сбор статистики об IP-адресах своих посетителей. Данная информация используется с целью выявления и решения технических проблем."}),o("p",{children:"Любая иная персональная информация, неоговоренная выше подлежит надежному хранению и нераспространению, за исключением случаев, предусмотренных в разделе 5 настоящей Политики."}),o("p",{children:o("strong",{children:"3.1. Персональные данные, которые мы собираем:"})}),p("ul",{children:[o("li",{children:"Фамилия, имя;"}),o("li",{children:"Электронная почта;"}),o("li",{children:"Страна;"}),o("li",{children:"Фотографии и изображения (аватар, обложка профиля);"}),o("li",{children:"Текст раздела «Обо мне» (информация, добровольно указываемая пользователем в профиле);"}),o("li",{children:"Информация о целях и списках, создаваемых пользователем;"}),o("li",{children:"Информация о странах и местоположениях, отмеченных пользователем;"}),o("li",{children:"Данные об использовании Платформы (техническая информация, логи);"}),o("li",{children:"IP-адрес, информация о браузере и устройстве;"}),o("li",{children:"Аутентификационные данные (логин, пароль в зашифрованном виде);"}),o("li",{children:"Идентификатор в мессенджере Telegram (при подключении уведомлений) — для отправки уведомлений пользователю."})]})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"4. Цели обработки персональной информации Пользователей"}),o("p",{children:"Оператор собирает и хранит только ту персональную информацию, которая необходима для предоставления использования Платформы или исполнения соглашений и договоров с Пользователем, за исключением случаев, когда законодательством предусмотрено обязательное хранение персональной информации в течение определенного законом срока."}),o("p",{children:"Персональную информацию Пользователя Оператор обрабатывает в следующих целях:"}),p("ul",{children:[p("li",{children:[o("strong",{children:"Оформление заказа на услуги Оператора (в том числе платную подписку)"})," — обработка данных для регистрации, создания учетной записи и оформления подписки;"]}),p("li",{children:[o("strong",{children:"Идентификация Пользователя"})," — подтверждение личности при входе в систему;"]}),p("li",{children:[o("strong",{children:"Предоставление услуг Пользователю, исполнение договоров, обработка заказов"})," — предоставление доступа к функционалу Платформы, создание и управление целями, списками, отслеживание прогресса;"]}),p("li",{children:[o("strong",{children:"Заключение, исполнение, изменение, расторжение договоров"})," — для обеспечения деятельности Оператора;"]}),p("li",{children:[o("strong",{children:"Улучшение работы сайта, добавление функционала, устранение проблем, сохранение настроек Пользователя"}),"— техническая оптимизация и улучшение пользовательского опыта;"]}),p("li",{children:[o("strong",{children:"Улучшение качества обслуживания"})," — контроль обслуживания Пользователей;"]}),p("li",{children:[o("strong",{children:"Предотвращение мошенничества, нарушения исключительных прав Оператора; безопасность сайта, обнаружение подозрительной активности"})," ","— защита прав Оператора и пользователей;"]}),p("li",{children:[o("strong",{children:"Осуществление связи с пользователями, предоставление клиентской поддержки, рассмотрение обращений пользователей, разрешение споров"})," ","— поддержка пользователей;"]}),p("li",{children:[o("strong",{children:"Направление сообщений рекламного или маркетингового характера"})," — только при наличии согласия Пользователя;"]}),p("li",{children:[o("strong",{children:"Направление информационных и сервисных сообщений, сообщений относительно оказываемых услуг, статус выполнения заказа"})," ","— уведомления о работе Платформы;"]}),p("li",{children:[o("strong",{children:"Обеспечение соблюдения законодательства Российской Федерации"})," — выполнение требований законодательства, в том числе налогового, о бухгалтерском учете."]})]}),o("p",{children:"Обрабатываемые в рамках указанных целей персональные данные не относятся к специальным категориям или биометрическим в соответствии со ст. 10-11 152-ФЗ и обрабатываются автоматизированным и неавтоматизированным способом."})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"5. Условия обработки персональной информации Пользователей и ее передачи третьим лицам"}),o("p",{children:"Обработка персональных данных осуществляется Оператором на основаниях, определенных законодательством Российской Федерации:"}),p("ol",{children:[o("li",{children:"конкретное, предметное, информированное, сознательное, однозначное согласие Пользователя;"}),o("li",{children:"заключение договора с Оператором путем акцепта публичной оферты;"}),o("li",{children:"иные правовые основания, предусмотренные законодательством."})]}),o("p",{children:"Согласие на обработку персональных данных, разрешенных субъектом персональных данных для распространения, оформляется отдельно от иных согласий субъекта персональных данных на обработку его персональных данных."}),o("p",{children:"Обработка персональных данных Пользователя производится Оператором с использованием баз данных на территории Российской Федерации."}),o("p",{children:"Обработка персональных данных Оператором осуществляется на законной и справедливой основе и ограничивается достижением конкретных, заранее определенных и законных целей, в том числе перечисленных в настоящей Политике."}),o("p",{children:"Обработке подлежат только персональные данные, которые отвечают целям их обработки. Содержание и объем обрабатываемых Оператором персональных данных соответствуют заявленным целям обработки, избыточность обрабатываемых персональных данных не допускается."}),o("p",{children:"При обработке персональных данных обеспечивается точность персональных данных, их достаточность и, в необходимых случаях, актуальность по отношению к целям обработки персональных данных."}),o("p",{children:"В отношении персональной информации Пользователя сохраняется ее конфиденциальность, кроме случаев добровольного предоставления Пользователем информации о себе для общего доступа неограниченному кругу лиц, в том числе в случае предоставления персональной информации в рейтинг Оператора."}),o("p",{children:o("strong",{children:"Оператор вправе передать персональную информацию Пользователя третьим лицам в следующих случаях:"})}),p("ul",{children:[o("li",{children:"Пользователь выразил согласие на такие действия;"}),o("li",{children:"Передача необходима для использования Пользователем определенного сервиса либо для исполнения определенного соглашения или договора с Пользователем;"}),o("li",{children:"Передача предусмотрена российским или иным применимым законодательством в рамках установленной законодательством процедуры;"}),o("li",{children:"В случае продажи Сайта к приобретателю переходят все обязательства по соблюдению условий настоящей Политики применительно к полученной им персональной информации."})]}),o("p",{children:"При утрате или разглашении персональных данных Оператор информирует Пользователя об утрате или разглашении персональных данных."}),o("p",{children:"Оператор принимает необходимые организационные и технические меры для защиты персональной информации Пользователя от неправомерного или случайного доступа, уничтожения, изменения, блокирования, копирования, распространения, а также от иных неправомерных действий третьих лиц."}),o("p",{children:"Оператор совместно с Пользователем принимает все необходимые меры по предотвращению убытков или иных отрицательных последствий, вызванных утратой или разглашением персональных данных Пользователя."}),o("p",{children:"В большинстве случаев личные (персональные) и конфиденциальные данные обрабатываются автоматически без доступа к ним третьих лиц. В случае, когда такой доступ понадобится, то он может быть предоставлен только тем сотрудникам Оператора или третьим лицам, которым такой доступ необходим для достижения цели обработки данных."})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"6. Сроки обработки персональных данных"}),o("p",{children:"Обработка персональных данных Пользователя осуществляется в течение срока оказания услуг Оператором, в течение срока использования Платформы Оператора и в течение иного срока, необходимого для достижения целей обработки персональных данных (в частности, в течение 5 лет для соблюдения требований бухгалтерского и налогового учета), любым законным способом, в том числе в информационных системах персональных данных с использованием средств автоматизации или без использования таких средств."}),o("p",{children:"Передача (распространение, предоставление, доступ) персональных данных, разрешенных Пользователем для распространения, должна быть прекращена в любое время по требованию Пользователя. Данное требование должно включать в себя фамилию, имя, отчество (при наличии), контактную информацию (номер телефона, адрес электронной почты или почтовый адрес) Пользователя, предоставленные Оператору при первоначальном обращении, а также перечень персональных данных, обработка которых подлежит прекращению."}),o("p",{children:"Действие согласия Пользователя на обработку персональных данных, разрешенных Пользователем для распространения, прекращается с момента поступления Оператору требования, указанного выше."}),o("p",{children:"Обрабатываемые персональные данные подлежат уничтожению по достижении целей обработки или в случае утраты необходимости в достижении этих целей. Персональные данные уничтожаются путем удаления из информационных систем с помощью встроенных средств информационной системы. В случае отсутствия возможности уничтожения персональных данных в течение срока, указанного в разделе 4 Политики, Оператор осуществляет блокирование таких персональных данных или обеспечивает их блокирование и обеспечивает уничтожение персональных данных в срок не более чем шесть месяцев."}),o("p",{children:"После удаления учетной записи персональные данные удаляются или обезличиваются в срок, не превышающий 30 дней, если иное не предусмотрено законодательством."})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"7. Меры защиты персональных данных"}),o("p",{children:"Оператор принимает необходимые организационные, административные и технические меры для защиты персональной информации Пользователя от неправомерного или случайного доступа, уничтожения, изменения, блокирования, копирования, распространения, а также от иных неправомерных действий третьих лиц, в том числе:"}),p("ul",{children:[o("li",{children:"Назначение лица, ответственного за обработку персональных данных;"}),o("li",{children:"Применение организационных и технических мер по обеспечению безопасности персональных данных при их обработке в информационных системах;"}),o("li",{children:"Контроль фактов несанкционированного доступа к персональным данным и принятие мер по недопущению подобных инцидентов в дальнейшем;"}),o("li",{children:"Контроль за принимаемыми мерами по обеспечению безопасности персональных данных и уровнем защищенности информационных систем персональных данных;"}),o("li",{children:"Ограничение и разграничение доступа работников и иных лиц к персональным данным и средствам обработки, мониторинг действий с персональными данными;"}),o("li",{children:"Применение средств обеспечения безопасности (антивирусных средств, межсетевых экранов, средств защиты от несанкционированного доступа, иных технических средств);"}),o("li",{children:"Резервное копирование информации для возможности восстановления;"}),o("li",{children:"Периодическое проведение мониторинга действий пользователей, расследование инцидентов в случае нарушения правил обработки и защиты персональных данных;"}),o("li",{children:"Контроль за выполнением соответствующих требований не реже 1 раза в 3 года."})]}),o("p",{children:"При утрате или разглашении персональных данных Оператор информирует Пользователя об утрате или разглашении персональных данных."}),o("p",{children:"Оператор совместно с Пользователем принимает все необходимые меры по предотвращению убытков или иных отрицательных последствий, вызванных утратой или разглашением персональных данных Пользователя."}),o("p",{children:"Однако следует помнить, что абсолютной защиты не существует, и пользователь несет ответственность за безопасность своих учетных данных."})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"8. Использование и раскрытие информации"}),o("p",{children:"Оператор вправе предоставлять персональные данные Пользователей, не являющихся персональными данными специальных категорий, третьим лицам в следующих случаях:"}),p("ul",{children:[o("li",{children:"сторонним поставщикам таких услуг Оператору, как например, хостинг и администрирование веб-сайта, анализ данных, обработка платежей, обеспечение инфраструктуры, ИТ-услуги, специализированных профессиональных услуг (консалтинг, аудит, услуги по информационной безопасности, юридические услуги) и другие услуги, чтобы позволить им предоставлять свои услуги;"}),o("li",{children:"третьей стороне в случае реорганизации, слияния, продажи, создания совместного предприятия, передачи или ликвидации организации, активов или долей полностью или частично (включая все вышеперечисленное в связи с банкротством или подобным судебным процессом)."})]}),o("p",{children:"Вместе с тем Оператор в обязательном порядке включает в договоры с поставщиками таких услуг положения о конфиденциальности и защите персональных данных или подписывает отдельное соглашение о конфиденциальности и защите персональных данных."}),o("p",{children:"Кроме того, Оператор использует и раскрывает информацию, собранную через Сайт, которая, необходима или уместна:"}),p("ul",{children:[o("li",{children:"в соответствии с применимым законодательством, включая законы, действующие за пределами РФ;"}),o("li",{children:"в целях содействия судебному процессу;"}),o("li",{children:"в качестве ответа на запросы государственных органов власти;"}),o("li",{children:"в целях принудительного применения условий и положений Политики, иных соглашений с Оператором;"}),o("li",{children:"в целях защиты деятельности Оператора и деятельности аффилированных лиц."})]}),o("p",{children:"Оператор также может раскрывать информацию, собранную пассивно, если такая информация обезличена (например, публикация статистики посещений на Сайте)."}),p("p",{children:[o("strong",{children:"Трансграничная передача:"})," Трансграничная передача данных не осуществляется Оператором. В случае необходимости такой передачи Оператор обязан убедиться в том, что иностранным государством, на территорию которого предполагается осуществлять передачу персональных данных, обеспечивается адекватная защита прав субъектов персональных данных, до начала осуществления такой передачи."]})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"9. Обязательства сторон"}),o("p",{children:o("strong",{children:"9.1. Пользователь обязан:"})}),p("ul",{children:[o("li",{children:"Предоставить информацию о персональных данных, необходимую для пользования Сайтом;"}),o("li",{children:"Обновлять, дополнять предоставленную информацию о персональных данных в случае изменения данной информации."})]}),o("p",{children:o("strong",{children:"9.2. Оператор обязан:"})}),p("ul",{children:[o("li",{children:"Использовать полученную информацию исключительно для целей, указанных в настоящей Политике конфиденциальности;"}),o("li",{children:"Обеспечить хранение конфиденциальной информации в тайне, не разглашать без предварительного письменного разрешения Пользователя, а также не осуществлять продажу, обмен, опубликование либо разглашение иными возможными способами переданных персональных данных Пользователя, за исключением предусмотренных настоящей Политикой конфиденциальности;"}),o("li",{children:"Принимать меры предосторожности для защиты конфиденциальности персональных данных Пользователя согласно порядку, обычно используемому для защиты такого рода информации в существующем деловом обороте;"}),o("li",{children:"Осуществить блокирование персональных данных, относящихся к соответствующему Пользователю, с момента обращения или запроса Пользователя или его законного представителя либо уполномоченного органа по защите прав субъектов персональных данных на период проверки в случае выявления недостоверных персональных данных или неправомерных действий;"}),o("li",{children:"В срок не позднее трех рабочих дней с момента получения соответствующего согласия Пользователя опубликовать информацию об условиях обработки и о наличии запретов и условий на обработку неограниченным кругом лиц персональных данных, разрешенных Пользователем для распространения."})]}),o("p",{children:o("strong",{children:"9.3. Пользователь вправе:"})}),p("ul",{children:[o("li",{children:"По своему усмотрению предоставлять Оператору персональные данные для их обработки на условиях, указанных в Политике, устанавливать запреты на передачу (кроме предоставления доступа) этих персональных данных Оператором неограниченному кругу лиц, а также устанавливать запреты на обработку или условия обработки (кроме получения доступа) персональных данных, разрешенных Пользователем для распространения путем отправки обращения на электронную почту Оператора;"}),o("li",{children:"Требовать от Оператора уточнения своих персональных данных, их блокирования или уничтожения в случае, если такие данные являются неполными, устаревшими, недостоверными, незаконно полученными или не являются необходимыми для заявленной цели обработки. Требование направляется на электронную почту Оператора;"}),o("li",{children:"Направить Оператору заявление об отзыве своего согласия на обработку персональных данных в порядке, предусмотренном выше;"}),o("li",{children:"На основании запроса получать от Оператора информацию, касающуюся обработки его персональных данных;"}),o("li",{children:"Отказаться от получения рекламной почтовой рассылки Оператора, других сообщений от Оператора, следуя инструкциям в этих сообщениях. В случае отказа Оператор вправе отправлять Пользователю сообщения нерекламного характера, например уведомления об изменениях в порядке оказания услуг или информацию об аккаунте Пользователя."})]}),p("p",{children:["Для реализации своих прав пользователь может обратиться по адресу:"," ",o(Fe,{to:"mailto:delting-help@yandex.com",children:"delting-help@yandex.com"})]})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"10. Ответственность сторон"}),o("p",{children:"Оператор, не исполнивший свои обязательства, несет ответственность за убытки, понесенные Пользователем в связи с неправомерным использованием персональных данных, в соответствии с законодательством Российской Федерации."}),o("p",{children:"В случае утраты или разглашения конфиденциальной информации Оператор не несет ответственности, если данная конфиденциальная информация:"}),p("ul",{children:[o("li",{children:"Стала публичным достоянием до ее утраты или разглашения;"}),o("li",{children:"Была получена от третьей стороны до момента ее получения Оператором;"}),o("li",{children:"Была разглашена с согласия Пользователя."})]})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"11. Разрешение споров"}),o("p",{children:"До обращения в суд с иском по спорам, возникающим из отношений между Пользователем Сайта и Оператором, обязательным является предъявление претензии (письменного предложения о добровольном урегулировании спора)."}),o("p",{children:"Получатель претензии в течение 10 (десяти) календарных дней со дня получения претензии письменно уведомляет заявителя претензии о результатах рассмотрения претензии."}),o("p",{children:"При недостижении соглашения спор будет передан на рассмотрение в суд в соответствии с действующим законодательством Российской Федерации."}),o("p",{children:"К настоящей Политике конфиденциальности и отношениям между Пользователем и Оператором применяется действующее законодательство Российской Федерации."})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"11. Cookies и аналогичные технологии"}),o("p",{children:"IP-адрес - это номер, который автоматически присваивается компьютеру Пользователя провайдером интернет-услуг. IP-адрес идентифицируется и автоматически регистрируется в файлах сервера Оператора каждый раз, когда пользователь посещает Сайт; а также регистрируется время визита и просмотренные страницы. Сбор IP-адресов является стандартной практикой в Интернете и производится автоматически многими веб-сайтами. Оператор использует IP-адреса в целях расчета уровня посещаемости Сайта, диагностики проблем на сервере и администрирования Сайта."}),o("p",{children:"Файлы cookie - это небольшие фрагменты информации о посещении сайта, которые сервер отправляет на устройство Пользователя и хранятся на устройстве Пользователя. Файлы cookie запоминают информацию о предпочтениях Пользователя, позволяют в более удобном режиме просматривать посещенные сайты в течение определенного времени. Например, тип браузера, время, проведенное на Сайте, просмотренные страницы и предпочтения языка, статистическая информация об использовании Сайта в целях постоянного усовершенствования его дизайна и функциональности."}),o("p",{children:"Оператор использует файлы cookies для того, чтобы:"}),p("ul",{children:[o("li",{children:"помогать пользователю оставаться авторизованным в Платформе;"}),o("li",{children:"улучшать качество работы с Платформой;"}),o("li",{children:"сохранять настройки Пользователя;"}),o("li",{children:"анализировать статистику использования Платформы."})]}),o("p",{children:"Пользователь может отказаться принимать файлы cookies, выполнив инструкции своего браузера; однако, в этом случае могут возникнуть некоторые неудобства при использовании Платформы."}),o("p",{children:"На основании данных, полученных с помощью файлов cookies, Оператор также проводит статистические и маркетинговые исследования, исправляет ошибки в сервисах Сайта, Платформы."}),p("p",{children:["Подробная информация об использовании cookie доступна в"," ",o(Fe,{to:"/cookies",className:t("link"),children:"Политике использования cookie"}),"."]})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"12. Дополнительные условия"}),o("p",{children:"Оператор вправе вносить изменения в настоящую Политику конфиденциальности без согласия Пользователя."}),o("p",{children:"Новая Политика конфиденциальности вступает в силу с момента ее размещения на Сайте, если иное не предусмотрено новой редакцией Политики конфиденциальности."}),o("p",{children:"При внесении существенных изменений пользователи будут уведомлены через Платформу или по электронной почте."}),o("p",{children:"Рекомендуем периодически знакомиться с актуальной версией Политики."})]}),p("section",{className:t("section"),children:[o("h2",{className:t("section-title"),children:"13. Контактная информация"}),p("p",{children:["По всем вопросам, связанным с обработкой персональных данных, вы можете обращаться:",o("br",{}),"Email: ",o(Fe,{to:"mailto:delting-help@yandex.com",children:"delting-help@yandex.com"})]})]})]})]})})},ZG=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(JG,{})},e$=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt,{setName:a,setIsAuth:s,setAvatar:i,setUserInfo:l,userInfo:c}=Rt,u=Zn(),d=f=>{dt.set("name",f.name||""),a(f.name||""),s(!0),i(dt.get("avatar")||""),f.email_confirmed!==void 0&&Rt.setEmailConfirmed(f.email_confirmed),f.email&&Rt.setEmail(f.email),l({...c,email:f.email||c.email,firstName:f.name||c.firstName,name:f.name||c.name,...f.email_confirmed!==void 0&&{isEmailConfirmed:f.email_confirmed}}),u("/list/100-goals")};return y.useEffect(()=>{t("white"),n(e),r(!0)},[]),o(hb,{isPage:!0,openLogin:()=>u("/sign-in"),successRegistration:d})},t$=async e=>await tt("reset-password-confirm",{body:e,showErrorNotification:!0,showSuccessNotification:!0});const n$=({page:e})=>{var T,k;const{setHeader:t,setPage:n,setFull:r}=yt,[a]=vh(),s=Zn(),i=(T=a.get("uid"))!=null?T:"",l=(k=a.get("token"))!=null?k:"",c=!!(i&&l),[u,d]=J("page-reset-password"),[f,m]=y.useState(""),[h,g]=y.useState(""),[v,_]=y.useState(""),[E,C]=y.useState(!1),[w,S]=y.useState(!1);y.useEffect(()=>{t("white"),n(e),r(!0)},[]);const N=async I=>{if(I.preventDefault(),_(""),f!==h){_("Пароли не совпадают");return}if(f.length<8){_("Пароль должен быть не менее 8 символов");return}C(!0);const A=await t$({uid:i,token:l,new_password:f});C(!1),A.success&&(S(!0),s("/sign-in",{replace:!0}))};return c?w?p("div",{className:u(),children:[o(ke,{tag:"h3",className:d("title"),children:"Пароль изменён"}),o("p",{className:d("message"),children:"Перенаправление на страницу входа…"})]}):p("form",{className:u(),onSubmit:N,children:[o(ie,{icon:"icon-logo",className:d("logo")}),o(ke,{tag:"h3",className:d("title"),children:"Установить новый пароль"}),o("p",{className:d("description"),children:"Введите новый пароль и повторите его для подтверждения."}),p("div",{className:d("form"),children:[o(He,{placeholder:"Новый пароль",id:"new-password",text:"Новый пароль",value:f,setValue:m,className:d("field"),type:"password",iconBegin:"lock",autoComplete:"new-password",required:!0,disabled:E}),o(He,{placeholder:"Повторите новый пароль",id:"repeat-password",text:"Повторите пароль",value:h,setValue:g,className:d("field"),type:"password",iconBegin:"lock",autoComplete:"new-password",required:!0,disabled:E}),v&&o("p",{className:d("error"),children:v}),o(z,{typeBtn:"submit",theme:"blue",className:d("btn"),disabled:E,children:E?"Сохранение…":"Установить пароль"}),o(z,{theme:"no-border",className:d("btn-back"),type:"Link",href:"/sign-in",children:"Вернуться к входу"})]})]}):p("div",{className:u(),children:[o(ie,{icon:"icon-logo",className:d("logo")}),o(ke,{tag:"h3",className:d("title"),children:"Ссылка недействительна"}),o("p",{className:d("message"),children:"Ссылка для сброса пароля недействительна или устарела. Запросите новое письмо на странице входа."}),o("div",{className:d("actions"),children:o(z,{theme:"blue",className:d("btn"),type:"Link",href:"/sign-in",children:"Перейти к входу"})})]})},Uw=[{value:1,label:"1 месяц",price:199,pricePerMonth:199},{value:6,label:"6 месяцев",price:1074,pricePerMonth:179,discount:10},{value:12,label:"1 год",price:1990,pricePerMonth:166,discount:17}],Hw=["Количество целей не ограничен","100 целей уже готовы к старту","Добавление готовых списков","До 3 регулярных целей","До 10 мест на карте","Базовые достижения","1 задание для получения опыта","Базовая статистика"],Gw=["Всё из Базового тарифа","До 20 регулярных целей","Кастомные расписания выполнения","Эксклюзивные Premium достижения","3 задания для получения опыта (×3 опыт)","Расширенная аналитика за год","Совместные папки и сравнение прогресса с друзьями","Уведомления в мессенджерах","Отсутствие рекламы"];const r$=[{category:"Цели и списки целей",items:[{feature:"Собственные цели",free:!0,premium:!0},{feature:"100 Целей",free:!0,premium:!0},{feature:"Создание списков целей",free:!0,premium:!0},{feature:"Добавление готовых списков",free:!0,premium:!0},{feature:"Посещенные места и страны",free:!0,premium:!0}]},{category:"Папки целей",items:[{feature:"Цвета и иконки папок",free:!0,premium:!0},{feature:"Количество папок",free:"До 3",premium:"Без ограничений"},{feature:"Приватные папки",free:!0,premium:!0},{feature:"Публичные папки",free:!1,premium:!0},{feature:"Шаблоны папок",free:!1,premium:!0},{feature:"Автоматические правила для папок",free:!1,premium:!0},{feature:"Совместные папки",free:!1,premium:!0}]},{category:"Регулярные цели",items:[{feature:"Базовые настройки",free:!0,premium:!0},{feature:"Количество активных",free:"До 3",premium:"До 20"},{feature:"Кастомные расписания",free:!1,premium:!0}]},{category:"Социальные функции",items:[{feature:"Лайки, дизлайки, комментарии",free:!0,premium:!0},{feature:"Фото в комментариях",free:"До 3 на 1 комментарий",premium:"Без ограничений"},{feature:"Друзья",free:"До 20",premium:"Без ограничений"},{feature:"Сравнение с друзьями",free:!1,premium:!0}]},{category:"Достижения и геймификация",items:[{feature:"Уровни, опыт, достижения",free:!0,premium:!0},{feature:"Premium достижения",free:!1,premium:!0},{feature:"Задания для получения опыта",free:"1 задание",premium:"3 задания"}]},{category:"Аналитика и уведомления",items:[{feature:"Базовая статистика",free:!0,premium:!0},{feature:"Активность выполнения целей и списков",free:"1 год",premium:"Без ограничений"},{feature:"Уведомления в мессенджерах",free:!1,premium:!0},{feature:"Отсутствие рекламы",free:!1,premium:!0}]}],$w=({isOpen:e,onClose:t})=>{const[n,r]=J("subscription-comparison-modal"),a=s=>typeof s=="boolean"?s?o(ie,{icon:"done",className:r("check-icon",{enabled:!0})}):o(ie,{icon:"cross",className:r("check-icon",{enabled:!1})}):o("span",{className:r("text-value"),children:s});return o(xr,{isOpen:e,onClose:t,title:"Сравнение тарифов",size:"large",children:o("div",{className:n(),children:o("div",{className:r("table-wrapper"),children:p("table",{className:r("table"),children:[o("thead",{children:p("tr",{children:[o("th",{className:r("th-feature"),children:"Функция"}),o("th",{className:r("th-plan"),children:"Free"}),o("th",{className:r("th-plan",{premium:!0}),children:"Premium"})]})}),o("tbody",{children:r$.map((s,i)=>p(Z.Fragment,{children:[o("tr",{className:r("category-row"),children:o("td",{colSpan:3,className:r("category-cell"),children:s.category})}),s.items.map((l,c)=>p("tr",{className:r("feature-row"),children:[o("td",{className:r("td-feature"),children:l.feature}),o("td",{className:r("td-plan"),children:a(l.free)}),o("td",{className:r("td-plan",{premium:!0}),children:a(l.premium)})]},c))]},i))})]})})})})};const Ww=ze(({periods:e,onPayment:t,variant:n="full"})=>{const[r,a]=J("subscription-payment"),[s,i]=y.useState(12),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,m]=y.useState(""),h=e.find(_=>_.value===s)||e[0],g=n==="preview",v=_=>{if(_.preventDefault(),!u){m("Необходимо согласиться с условиями использования");return}m(""),t&&t(s,l)};return p("div",{className:r(),children:[o(ke,{tag:"h3",className:a("title"),children:g?"Стоимость Premium":"Оформить Premium"}),o("div",{className:a("periods"),children:e.map(_=>g?p("div",{className:a("period"),children:[_.value===12&&o("div",{className:a("period-badge"),children:o(ie,{icon:"star"})}),o("div",{className:a("period-name"),children:_.label}),p("div",{className:a("period-price"),children:[_.price,"₽",_.discount&&p("span",{className:a("period-discount"),children:["-",_.discount,"%"]})]}),p("div",{className:a("period-per-month"),children:[_.pricePerMonth,"₽/мес"]})]},_.value):p("button",{type:"button",className:a("period",{active:s===_.value}),onClick:()=>i(_.value),children:[_.value===12&&o("div",{className:a("period-badge"),children:o(ie,{icon:"star"})}),o("div",{className:a("period-name"),children:_.label}),p("div",{className:a("period-price"),children:[_.price,"₽",_.discount&&p("span",{className:a("period-discount"),children:["-",_.discount,"%"]})]}),p("div",{className:a("period-per-month"),children:[_.pricePerMonth,"₽/мес"]})]},_.value))}),!g&&p(nt,{children:[p("div",{className:a("total"),children:[o("span",{className:a("total-label"),children:"К оплате:"}),p("span",{className:a("total-price"),children:[h.price,"₽"]})]}),p("div",{className:a("checkboxes"),children:[o(wn,{id:"auto-renew",text:"Автоматически продлевать подписку",checked:l,setChecked:c}),p("div",{className:a("terms"),children:[o(wn,{id:"terms",text:"",checked:u,setChecked:_=>{d(_),_&&m("")}}),p("label",{htmlFor:"terms",className:a("terms-label"),children:["Я согласен с"," ",o(Fe,{to:"/terms",target:"_blank",className:a("link"),children:"условиями использования"})," ","и"," ",o(Fe,{to:"/privacy",target:"_blank",className:a("link"),children:"политикой конфиденциальности"})]})]})]}),f&&p("div",{className:a("error-message"),children:[o(ie,{icon:"cross",className:a("error-icon")}),o("span",{children:f})]}),o(z,{theme:"blue",className:a("button"),onClick:v,disabled:!u,children:"Оплатить ".concat(String(h.price),"₽")})]})]})});const nu=({type:e,title:t,subtitle:n,features:r,isCurrent:a,isRecommended:s})=>{const[i,l]=J("subscription-plan-card"),{isScreenSmallMobile:c}=Vr();return p("div",{className:i({type:e,current:a}),children:[a&&p("div",{className:l("badge",{current:!0}),children:[o(ie,{icon:"done",className:l("badge-icon")}),c?"":"Текущий тариф"]}),!a&&s&&p("div",{className:l("badge",{recommended:!0}),children:[o(ie,{icon:"star",className:l("badge-icon")}),c?"":"Рекомендуем"]}),p("div",{className:l("header"),children:[o("div",{className:l("icon-wrapper",{premium:e==="premium"}),children:o(ie,{icon:e==="premium"?"award":"rocket",className:l("icon")})}),o(ke,{tag:"h3",className:l("title"),children:t}),o("p",{className:l("subtitle"),children:n})]}),o("div",{className:l("features"),children:r.map((u,d)=>p("div",{className:l("feature"),children:[o(ie,{icon:"done",className:l("feature-icon")}),o("span",{children:u})]},d))})]})};const a$=ze(()=>{const[e,t]=J("tariffs-container"),[n,r]=y.useState(!1),{isAuth:a}=Rt;return p("section",{className:e(),children:[p("div",{className:t("header"),children:[o(ke,{tag:"h2",className:t("title"),children:"Тарифы"}),o(z,{theme:"blue",size:"small",icon:"bullseye",onClick:()=>r(!0),children:"Сравнить тарифы"})]}),p("div",{className:t("plans"),children:[o(nu,{type:"free",title:"Базовый",subtitle:"Для тех, кто делает первые шаги в лучшую жизнь",features:Hw}),o(nu,{type:"premium",title:"Премиум",subtitle:"Максимум возможностей для ваших достижений",features:Gw,isRecommended:!0})]}),o(Ww,{periods:Uw,variant:"preview"}),p("div",{className:t("support"),children:[o("p",{className:t("support-text"),children:"Поддержите нас! Мы горим идеей помочь людям превращать мечты в цели и достигать их. Каждая подписка — это не только ваши новые возможности, но и вклад в развитие платформы. Вместе мы делаем Delting лучше. 💙"}),!a&&p("p",{className:t("support-cta"),children:[o(Fe,{to:"/sign-up",className:t("support-link"),children:"Зарегистрируйтесь"}),", чтобы оформить Premium и поддержать проект."]})]}),o($w,{isOpen:n,onClose:()=>r(!1)})]})}),s$=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(a$,{})},i$=()=>p(Rm,{title:"Условия использования",children:[p("section",{children:[o("h2",{children:"1. Принятие условий"}),o("p",{children:"Используя платформу Delting, вы принимаете следующие условия использования. Если вы не согласны с какими-либо условиями, пожалуйста, прекратите использование Платформы."}),p("p",{children:["Настоящие Условия использования (далее — «Условия») являются частью"," ",o(Fe,{to:"/agreement",children:"Пользовательского соглашения"})," и регулируют правила использования платформы Delting (далее — «Платформа»)."]}),p("p",{children:["Подробная информация о правах и обязанностях сторон, порядке использования Платформы, ответственности и разрешении споров изложена в ",o(Fe,{to:"/agreement",children:"Пользовательском соглашении"}),"."]})]}),p("section",{children:[o("h2",{children:"2. Использование сервиса"}),o("p",{children:"Платформа Delting предоставляет следующие возможности:"}),p("ul",{children:[o("li",{children:"Создание и управление списками целей;"}),o("li",{children:"Отслеживание прогресса достижения целей;"}),o("li",{children:"Создание и организация целей в папки и категории;"}),o("li",{children:"Добавление описаний, изображений и заметок к целям;"}),o("li",{children:"Отслеживание прогресса выполнения целей с возможностью добавления истории изменений;"}),o("li",{children:"Социальные функции (друзья, достижения, рейтинги);"}),o("li",{children:"Отображение карты с отмеченными посещенными местоположениями;"}),o("li",{children:"Публикация и обмен достижениями с другими пользователями;"}),o("li",{children:"Другие функции, доступные на Платформе."})]}),p("p",{children:['Платформа предоставляется Пользователю "AS IS" - "как есть". Подробная информация об ответственности сторон изложена в ',o(Fe,{to:"/agreement",children:"Пользовательском соглашении"}),"."]})]}),p("section",{children:[o("h2",{children:"3. Регистрация и учетная запись"}),o("p",{children:"Для использования полного функционала Платформы необходимо создать учетную запись. Пользователь может создать только одну учетную запись, к которой привязана одна электронная почта."}),p("p",{children:["Подробная информация о порядке регистрации, правах и обязанностях Пользователя при использовании учетной записи изложена в ",o(Fe,{to:"/agreement",children:"Пользовательском соглашении"}),"."]})]}),p("section",{children:[o("h2",{children:"4. Ограничения использования"}),o("p",{children:"При использовании Платформы запрещается:"}),p("ul",{children:[o("li",{children:"Нарушать права других пользователей или третьих лиц (включая интеллектуальные права);"}),o("li",{children:"Размещать контент, нарушающий законодательство Российской Федерации или международное законодательство;"}),o("li",{children:"Размещать контент, содержащий оскорбления, угрозы, призывы к насилию или дискриминации;"}),o("li",{children:"Размещать контент порнографического характера или иной контент, нарушающий общепринятые нормы морали;"}),o("li",{children:"Пытаться получить несанкционированный доступ к системам Платформы, другим учетным записям или данным;"}),o("li",{children:"Использовать автоматизированные системы (боты, скрипты) для сбора данных или взаимодействия с Платформой без разрешения Правообладателя;"}),o("li",{children:"Распространять вредоносное программное обеспечение, вирусы или иные вредоносные коды;"}),o("li",{children:"Использовать Платформу для мошенничества, обмана или иных противоправных действий;"}),o("li",{children:"Воспроизводить, копировать, продавать, перепродавать или использовать Платформу или ее части в коммерческих целях без разрешения Правообладателя;"}),o("li",{children:"Модифицировать, адаптировать, переводить, декомпилировать, дизассемблировать или иным образом пытаться извлечь исходный код Платформы;"}),o("li",{children:"Удалять, скрывать или изменять любые уведомления об авторских правах, товарных знаках или иных правах собственности, содержащиеся в Платформе."})]})]}),p("section",{children:[o("h2",{children:"5. Контент пользователей"}),o("p",{children:"Пользователи несут полную ответственность за контент, который они создают и размещают на Платформе (цели, описания, изображения, заметки и т.д.). Пользователь гарантирует, что размещаемый им контент не нарушает права третьих лиц."}),o("p",{children:"Правообладатель оставляет за собой право удалять или блокировать любой контент, который нарушает настоящие Условия, законодательство или права третьих лиц, без предварительного уведомления Пользователя."}),p("p",{children:["Подробная информация о правах на контент и интеллектуальной собственности изложена в"," ",o(Fe,{to:"/agreement",children:"Пользовательском соглашении"}),"."]})]}),p("section",{children:[o("h2",{children:"6. Прекращение доступа"}),o("p",{children:"Правообладатель оставляет за собой право приостановить или прекратить доступ пользователя к Платформе в случае нарушения настоящих Условий использования."}),o("p",{children:"Пользователь может прекратить использование Платформы в любое время, удалив свою учетную запись. При удалении учетной записи все данные Пользователя могут быть удалены без возможности восстановления."}),p("p",{children:["Подробная информация о порядке расторжения договора и прекращения доступа изложена в"," ",o(Fe,{to:"/agreement",children:"Пользовательском соглашении"}),"."]})]}),p("section",{children:[o("h2",{children:"7. Ответственность"}),o("p",{children:'Платформа предоставляется "как есть". Пользователь несет полную ответственность за контент, который он размещает на Платформе, и за последствия такого размещения.'}),p("p",{children:["Подробная информация об ответственности сторон, ограничениях ответственности и условиях предоставления Платформы изложена в ",o(Fe,{to:"/agreement",children:"Пользовательском соглашении"}),"."]})]}),p("section",{children:[o("h2",{children:"8. Изменение условий и разрешение споров"}),o("p",{children:"Правообладатель оставляет за собой право изменять настоящие Условия использования в любое время. Все изменения вступают в силу с момента публикации новой версии Условий на Платформе."}),p("p",{children:["Подробная информация о порядке изменения условий, разрешении споров и обстоятельствах непреодолимой силы изложена в"," ",o(Fe,{to:"/agreement",children:"Пользовательском соглашении"}),"."]})]}),p("section",{children:[o("h2",{children:"9. Контактная информация"}),p("p",{children:["По вопросам условий использования обращайтесь:",o("br",{}),"Email: ",o(Fe,{to:"mailto:delting-help@yandex.com",children:"delting-help@yandex.com"})]}),p("p",{children:["Для получения полной информации о правах и обязанностях сторон, порядке использования Платформы и других условиях рекомендуем ознакомиться с ",o(Fe,{to:"/agreement",children:"Пользовательским соглашением"}),"."]})]})]}),o$=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return y.useEffect(()=>{t("white"),n(e),r(!1)},[]),o(i$,{})};class l${constructor(){this.friends=[],this.friendRequests=[],this.searchResults=[],this.isLoading=!1,this.isSearching=!1,this.selectedFriend=null,this.comparison=null,this.setFriends=t=>{this.friends=t},this.setFriendRequests=t=>{this.friendRequests=t},this.setSearchResults=t=>{this.searchResults=t},this.setIsLoading=t=>{this.isLoading=t},this.setIsSearching=t=>{this.isSearching=t},this.setSelectedFriend=t=>{this.selectedFriend=t},this.setComparison=t=>{this.comparison=t},this.addFriend=t=>{this.friends.push(t)},this.removeFriend=t=>{this.friends=this.friends.filter(n=>n.id!==t)},this.addFriendRequest=t=>{this.friendRequests.push(t)},this.removeFriendRequest=t=>{this.friendRequests=this.friendRequests.filter(n=>n.requestId!==t)},this.updateSearchResultStatus=(t,n)=>{this.searchResults=this.searchResults.map(r=>r.id===t?{...r,...n}:r)},this.clearSearchResults=()=>{this.searchResults=[]},this.clearComparison=()=>{this.comparison=null},Yr(this)}get friendsCount(){return this.friends.length}get pendingRequestsCount(){return this.friendRequests.length}get isEmptyFriends(){return this.friends.length===0}get isEmptyRequests(){return this.friendRequests.length===0}get hasSearchResults(){return this.searchResults.length>0}}const At=new l$,Yw=async()=>{try{const e=await TN();vr.setNotifications(e.results),vr.setUnreadCount(e.unreadCount)}catch(e){console.error("Ошибка обновления уведомлений:",e)}},c$=async()=>{const e=await Ue("friends",{showSuccessNotification:!1,auth:!0});if(!e.success)throw new Error(e.errors||"Не удалось получить список друзей");return e.data},u$=async()=>{const e=await Ue("friends/requests",{showSuccessNotification:!1,auth:!0});if(!e.success)throw new Error(e.errors||"Не удалось получить запросы на дружбу");return e.data},zw=async e=>{var n;const t=await tt("friends/send-request",{auth:!0,body:{user_id:e},success:{type:"success",title:"Успешно",message:"Запрос в друзья отправлен"},error:{type:"error",title:"Ошибка",message:""},showErrorNotification:!1});if(!t.success){const r=((n=t.data)==null?void 0:n.error)||t.errors||"Не удалось отправить запрос в друзья";throw new Error(r)}return await Yw(),t.data},Uy=async(e,t)=>{var r;const n=await tt("friends/respond",{auth:!0,body:{request_id:e,action:t},success:{type:"success",title:"Успешно",message:t==="accept"?"Запрос в друзья принят":"Запрос в друзья отклонен"},error:{type:"error",title:"Ошибка",message:""},showErrorNotification:!1});if(!n.success){const a=((r=n.data)==null?void 0:r.error)||n.errors||"Не удалось обработать запрос на дружбу";throw new Error(a)}return await Yw(),n.data},d$=async e=>{var n;const t=await Xn("friends/remove/".concat(e),{auth:!0,success:{type:"warning",title:"Выполнено",message:"Пользователь удален из друзей"},error:{type:"error",title:"Ошибка",message:""},showErrorNotification:!1});if(!t.success){const r=((n=t.data)==null?void 0:n.error)||t.errors||"Не удалось удалить друга";throw new Error(r)}return t.data},f$=async e=>{const t=await Ue("friends/search?query=".concat(encodeURIComponent(e)),{showSuccessNotification:!1,showErrorNotification:!1,auth:!0});if(!t.success)throw new Error(t.errors||"Не удалось выполнить поиск пользователей");return t.data},h$=async e=>{const t=await Ue("friends/compare/".concat(e),{showSuccessNotification:!1,auth:!0});if(!t.success)throw new Error(t.errors||"Не удалось получить сравнение с другом");return t.data};const m$=ze(e=>{const{background:t,avatar:n,name:r,firstName:a,lastName:s,totalAdded:i,totalCompleted:l,page:c,id:u,totalAddedLists:d,totalCompletedLists:f,totalAchievements:m,subscriptionType:h}=e,[g,v]=J("user-info"),[_,E]=y.useState(!1),C=Rt.userSelf.id.toString()===u,w=At.friends.some(k=>k.id.toString()===u),S=At.friendRequests.some(k=>(k==null?void 0:k.id.toString())===u),N=async()=>{if(!_)try{E(!0),await zw(parseInt(u,10)),me.addNotification({type:"success",title:"Заявка отправлена",message:"Заявка в друзья отправлена пользователю ".concat(r)})}catch(k){me.addNotification({type:"error",title:"Ошибка",message:k instanceof Error?k.message:"Не удалось отправить заявку в друзья"})}finally{E(!1)}},T=y.useMemo(()=>[{url:"/user/".concat(u,"/showcase"),name:"Витрина",page:"isUserShowcase"},{url:"/user/".concat(u,"/100-goal"),name:"100 целей",page:"isUser100Goals"},{url:"/user/".concat(u,"/active-goals"),name:"Активные цели и списки",page:"isUserActiveGoals",count:d+i-(f+l)},{url:"/user/".concat(u,"/done-goals"),name:"Выполненные",page:"isUserDoneGoals",count:f+l},{url:"/user/".concat(u,"/achievements"),name:"Достижения",page:"isUserAchievements",count:m}],[u,m,i,d,l,f]);return p("article",{className:g({noBackground:!t}),children:[o("div",{style:t?{backgroundImage:"url('".concat(t,"')")}:void 0,className:v("bg",{placeholder:!t})}),p("section",{className:v("about"),children:[o(Jn,{avatar:n,className:v("avatar"),size:"large",isPremium:h==="premium"}),p("div",{className:v("wrapper"),children:[p("div",{className:v("name-block"),children:[o(ke,{tag:"h2",className:v("name"),children:r}),(a||s)&&o("p",{className:v("full-name"),children:"".concat(a||""," ").concat(s||"").trim()})]}),p("div",{className:v("right"),children:[C?o(z,{type:"Link",theme:"blue",icon:"plus",href:"/goals/create",children:"Добавить цель"}):p("div",{className:v("friend-actions"),children:[!w&&!S&&o(z,{theme:"blue",icon:"plus",onClick:_?void 0:N,disabled:_,children:_?"Отправка...":"Добавить в друзья"}),w&&o(z,{theme:"green",icon:"check",children:"В друзьях"}),S&&!w&&o(z,{theme:"blue-light",disabled:!0,children:"Заявка отправлена"})]}),o(rd,{items:[{title:"Всего целей",value:i},{title:"Выполнено",value:l}],className:v("goals")})]})]})]}),o(Fo,{tabs:T,active:c})]})});const p$=ze(e=>{const{id:t}=e,[n,r]=J("user-100-goals"),{mainGoals:a,setMainGoals:s}=Rt,[i,l]=y.useState(!0),c=async()=>{l(!0);const u=await zm(t);u.success&&s(u.data),l(!1)};return y.useEffect(()=>{c()},[]),p(Tt,{isLoading:i,className:n(),children:[o(vl,{className:r("stats"),totalAddedEasy:a.easyGoals.data.length,totalAddedMedium:a.mediumGoals.data.length,totalAddedHard:a.hardGoals.data.length,totalCompletedEasy:a.easyGoals.countCompleted,totalCompletedMedium:a.mediumGoals.countCompleted,totalCompletedHard:a.hardGoals.countCompleted}),o(_i,{className:r("goals"),goals:a.easyGoals.data,complexity:"easy"}),o(_i,{className:r("goals"),goals:a.mediumGoals.data,complexity:"medium"}),o(_i,{className:r("goals"),goals:a.hardGoals.data,complexity:"hard"})]})});const g$=ze(e=>{const{id:t}=e,[n,r]=J("user-achievements"),[a,s]=y.useState([]),[i,l]=y.useState(!0);return y.useEffect(()=>{(async()=>{l(!0);const c=await Ue("achievements",{get:{user_id:t}});if(c.success){const u=c.data.data.filter(d=>d.isAchieved);s(u)}l(!1)})()},[]),o(Tt,{isLoading:i,className:n({empty:a.length===0}),children:a.length===0?o(jt,{title:"У этого пользователя пока нет достижений",description:"Выполняйте цели, чтобы получать достижения"}):a.map(c=>o(ad,{className:r("achievement"),achievement:c},c.id))})});const Hy=ze(e=>{const{id:t,subPage:n,completed:r=!1}=e,[a]=J("user-goals"),[s,i]=y.useState([]),[l,c]=y.useState(!0);return y.useEffect(()=>{(async()=>{c(!0);const u=await mu();u.success&&i(u.data),c(!1)})()},[]),o(Tt,{isLoading:l,className:a(),children:o(Bm,{userId:t,beginUrl:"/user/".concat(t,"/").concat(r?"done":"active","-goals"),completed:r,subPage:n,categories:s})})});const y$=ze(e=>{const{id:t}=e,[n,r]=J("user-showcase"),[a,s]=y.useState([]),[i,l]=y.useState(!0),{mainGoals:c,setMainGoals:u}=Rt,[d,f]=y.useState([]);return y.useEffect(()=>{(async()=>{l(!0);try{const[m,h,g]=await Promise.all([zm(t),Ue("achievements",{get:{user_id:t}}),Ue("comments/".concat(t),{auth:!0})]);if(m.success&&u(m.data),h.success){const v=h.data.data.filter(_=>_.isAchieved).slice(0,3);f(v)}g.success&&s(g.data.data)}finally{l(!1)}})()},[t]),p(Tt,{isLoading:i,className:n(),children:[o(Iw,{comments:a,setComments:s,isUser:!0}),p("aside",{className:r("sidebar"),children:[p("div",{className:r("title"),children:[o(ke,{tag:"h2",children:"100 целей"}),o(z,{theme:"blue-light",size:"small",type:"Link",href:"/user/".concat(t,"/100-goal"),children:"Смотреть все"})]}),o(vl,{className:r("stats"),totalAddedEasy:c.easyGoals.data.length,totalAddedMedium:c.mediumGoals.data.length,totalAddedHard:c.hardGoals.data.length,totalCompletedEasy:c.easyGoals.countCompleted,totalCompletedMedium:c.mediumGoals.countCompleted,totalCompletedHard:c.hardGoals.countCompleted,column:!0}),p("div",{className:r("title"),children:[o(ke,{tag:"h2",children:"Достижения"}),o(z,{theme:"blue-light",size:"small",type:"Link",href:"/user/".concat(t,"/achievements"),children:"Смотреть все"})]}),d.length===0?o(jt,{title:"Пока нет достижений",description:"Выполняйте цели, чтобы получать достижения",size:"small",className:r("empty-achievements")}):d.map(m=>o(ad,{className:r("achievement"),achievement:m},m.id))]})]})}),v$=ze(({page:e,subPage:t})=>{const[n]=J("user"),{userInfo:r}=Rt,{id:a}=Us(),[s,i]=y.useState(!0),[l,c]=y.useState(!1);if(!a)return null;y.useEffect(()=>{(async()=>(i(!0),await db(a),l||c(!0),i(!1)))()},[a,l]);const u=()=>{switch(e){case"isUserShowcase":return o(y$,{id:a});case"isUser100Goals":return o(p$,{id:a});case"isUserActiveGoals":return o(Hy,{id:a,subPage:t||""});case"isUserDoneGoals":return o(Hy,{id:a,subPage:t||"",completed:!0});case"isUserAchievements":return o(g$,{id:a});default:return null}};return p("main",{className:n(),children:[o(Tt,{isLoading:s,children:o(m$,{avatar:r.avatar||null,name:r.name||r.username,firstName:r.firstName,lastName:r.lastName,totalAdded:r.totalAddedGoals,totalCompleted:r.totalCompletedGoals,page:e,id:a,totalAddedLists:r.totalAddedLists,totalCompletedLists:r.totalCompletedLists,totalAchievements:r.totalAchievements,background:r.coverImage,subscriptionType:r.subscriptionType})}),u()]})}),gs=({page:e,subPage:t})=>{const{setHeader:n,setPage:r,setFull:a}=yt;return y.useEffect(()=>{n("white"),r(e),a(!1)},[]),o(v$,{page:e,subPage:t})};const b$=ze(()=>{var d,f,m;const[e,t]=y.useState(null),[n,r]=y.useState(!0),[a]=y.useState("locations"),[s,i]=J("user-map-page"),{setHeader:l,setFull:c}=yt;y.useEffect(()=>{l("white"),c(!1)},[]);const u=async()=>{try{r(!0);const h=await hh.getUserMapData();t(h)}catch(h){console.error("Error loading user map data:",h)}finally{r(!1)}};return y.useEffect(()=>{u()},[]),o(Tt,{isLoading:n,className:s(),children:p("div",{className:i("content"),children:[o(ke,{tag:"h2",className:i("title"),children:"Мои карты"}),o("div",{className:i("map-content"),children:a==="locations"&&p("div",{className:i("locations-tab"),children:[o("div",{className:i("map-section"),children:e&&((d=e.goals)==null?void 0:d.length)>0?o(gb,{goals:e.goals.filter(h=>h.location&&typeof h.location.latitude=="number"&&typeof h.location.longitude=="number").map(h=>({location:h.location,userVisitedLocation:h.completedByUser,name:h.title,address:h.location.address,description:h.description}))}):o(jt,{title:"У вас пока нет целей с местами",description:"Добавьте цели с географическими местами, чтобы увидеть их на карте"})}),e&&((f=e.visited_locations)==null?void 0:f.length)>0&&p("div",{className:i("visited-locations-list"),children:[p("h3",{children:["Посещенные места (",(m=e.visited_locations)==null?void 0:m.length,")"]}),o("div",{className:i("locations-grid"),children:e.visited_locations.map(h=>p("div",{className:i("location-card"),children:[o("h4",{children:h.location.name}),o("p",{className:"location-country",children:h.location.country}),h.location.city&&o("p",{className:"location-city",children:h.location.city}),h.goal_title&&p("p",{className:"related-goal",children:["Цель: ",h.goal_title]}),p("p",{className:"visit-date",children:["Посещено: ",new Date(h.visited_at).toLocaleDateString("ru-RU")]})]},h.id))})]})]})})]})})});const E$={first_steps:"Первые шаги",progress:"Прогресс",activity:"Активность",achievements:"Достигатор",premium:"Premium",other:"Прочее"},_$=["first_steps","progress","activity","achievements","premium","other"],w$=ze(()=>{const[e,t]=J("user-self-achievements"),[n,r]=y.useState([]),[a,s]=y.useState(!0);y.useEffect(()=>{(async()=>{s(!0);const l=await Ue("achievements",{auth:!0});l.success&&r(l.data.data),s(!1)})()},[]);const i=y.useMemo(()=>{const l={first_steps:[],progress:[],activity:[],achievements:[],premium:[],other:[]};return n.forEach(c=>{const u=c.category||"other";l[u]?l[u].push(c):l.other.push(c)}),Object.keys(l).forEach(c=>{l[c].sort((d,f)=>d.isSecret&&!f.isSecret?1:!d.isSecret&&f.isSecret?-1:d.id-f.id)}),l},[n]);return o(Tt,{isLoading:a,className:e({empty:n.length===0}),children:n.length===0?o(jt,{title:"У вас пока нет достижений",description:"Выполняйте цели и получайте достижения за свой прогресс"}):o("div",{className:t("groups"),children:_$.map(l=>{const c=i[l];return c.length===0?null:p("div",{className:t("group"),children:[o(ke,{tag:"h2",className:t("group-title"),children:E$[l]}),o("div",{className:t("group-content"),children:c.map(u=>o(ad,{className:t("achievement"),achievement:u},u.id))})]},l)})})})}),C$=async(e="year")=>{try{return await Ue("users/activity",{auth:!0,get:{period:e},showErrorNotification:!0,showSuccessNotification:!1})}catch(t){return{success:!1,errors:"Не удалось загрузить данные активности"}}};const T$=({className:e,period:t="year"})=>{const[n,r]=J("activity-heatmap",e),[a,s]=y.useState(null),[i,l]=y.useState("loading"),[c,u]=y.useState(null);y.useEffect(()=>{(async()=>{l("loading");try{const T=await C$(t);T.success&&T.data?(T.data.stats&&T.data.stats.is_active_today!==void 0&&(T.data.stats.isActiveToday=T.data.stats.is_active_today),s(T.data),l("success")):l("error")}catch(T){l("error")}})()},[t]);const d=()=>{if(!a||!a.dates.length)return[];const N=new Date(a.dates[0].date),T=N.getDay()===0?6:N.getDay()-1,k={};let I=0,A=T;const x=[...a.dates].sort((M,R)=>new Date(M.date).getTime()-new Date(R.date).getTime()),D=Array(7).fill(null);return x.forEach(M=>{A===7&&(A=0,I+=1);const R="week-".concat(I);k[R]||(k[R]=Array(7).fill(null)),I===0?D[A]=M:k[R][A]=M,A+=1}),(I===0||Object.keys(k).length>0)&&(k["week-0"]=D),Object.entries(k).sort(([M],[R])=>parseInt(M.split("-")[1],10)-parseInt(R.split("-")[1],10)).map(([M,R])=>({id:M,days:R}))},f=y.useMemo(()=>d(),[a]),m=N=>{const T=[];return N.goalCount>0&&T.push(ct(N.goalCount,["цель выполнена","цели выполнено","целей выполнено"])),N.listCount>0&&T.push(ct(N.listCount,["список выполнен","списка выполнено","списков выполнено"])),N.progressCount>0&&T.push(ct(N.progressCount,["прогресс обновлен","прогресса обновлено","прогрессов обновлено"])),N.dailyCount>0&&T.push(ct(N.dailyCount,["ежедневная цель","ежедневные цели","ежедневных целей"])),N.regularCount>0&&T.push(ct(N.regularCount,["регулярная цель","регулярные цели","регулярных целей"])),T.join(", ")},h=N=>{u(N)},g=N=>new Date(N).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}),v=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],_=()=>{if(!a||!a.dates.length)return{monthPositions:[],totalWeeks:0};const{dates:N}=a,T=[...N].sort((P,M)=>new Date(P.date).getTime()-new Date(M.date).getTime()),k=d(),I=k.length,A={};return T.forEach(P=>{var H;const M=new Date(P.date),R=M.getFullYear(),F=M.getMonth(),U="".concat(R,"-").concat(F);if(!A[U]){const K=a.months.find(L=>L.month===F+1&&L.year===R);K&&(A[U]={year:R,month:F+1,monthInfo:K,weeks:new Set})}const $=(H=k.find(K=>K.days.some(L=>L&&L.date===P.date)))==null?void 0:H.id;A[U]&&$&&A[U].weeks.add($)}),{monthPositions:Object.values(A).sort((P,M)=>P.year!==M.year?P.year-M.year:P.month-M.month).map(P=>{const M=P.weeks.size,R=M/I*100,F=[...P.weeks][0],U=k.findIndex($=>$.id===F);return{month:P.monthInfo,startWeek:U!==-1?U:0,weekSpan:M,width:Math.max(R,5)}}),totalWeeks:I}},{monthPositions:E}=y.useMemo(()=>a?_():{monthPositions:[],totalWeeks:0},[a]),C=19,w=(N,T,k)=>{if(!N)return o("div",{className:r("day",{empty:!0}),"data-testid":"empty-day-".concat(k,"-").concat(T)},"empty-cell-".concat(k,"-").concat(T));const I="".concat(g(N.date),": ").concat(m(N));return o("button",{className:r("day",{level:"".concat(N.level),type:N.activityType}),onClick:()=>h(N),title:I,"aria-label":I,type:"button","data-testid":"day-".concat(N.date)},"day-".concat(N.date))},S=N=>{if(!N.activities||N.activities.length===0)return o("p",{children:"Нет активности в этот день"});const T=N.activities.reduce((k,I)=>(k[I.type]||(k[I.type]=[]),k[I.type].push(I),k),{});return p("div",{className:r("activities-content"),children:[T.goal_completion&&p("div",{className:r("activity-section"),children:[p("div",{className:r("activity-header"),children:[o(ie,{icon:"star",width:"16px",height:"16px",className:r("activity-icon")}),o("span",{children:ct(T.goal_completion.length,["цель выполнена","цели выполнено","целей выполнено"])})]}),o("ul",{className:r("activity-list"),children:T.goal_completion.map(k=>o("li",{className:r("activity-item"),children:k.title},"goal-".concat(k.id)))})]}),T.list_completion&&p("div",{className:r("activity-section"),children:[p("div",{className:r("activity-header"),children:[o(ie,{icon:"apps",width:"16px",height:"16px",className:r("activity-icon")}),o("span",{children:ct(T.list_completion.length,["список выполнен","списка выполнено","списков выполнено"])})]}),o("ul",{className:r("activity-list"),children:T.list_completion.map(k=>o("li",{className:r("activity-item"),children:k.title},"list-".concat(k.id)))})]}),T.goal_progress&&p("div",{className:r("activity-section"),children:[p("div",{className:r("activity-header"),children:[o(ie,{icon:"level",width:"16px",height:"16px",className:r("activity-icon")}),o("span",{children:ct(T.goal_progress.length,["прогресс обновлен","прогресса обновлено","прогрессов обновлено"])})]}),o("ul",{className:r("activity-list"),children:T.goal_progress.map(k=>p("li",{className:r("activity-item"),children:[p("div",{className:r("progress-info"),children:[o("span",{className:r("progress-title"),children:k.title}),k.percentageChange&&p("span",{className:r("progress-change",{positive:k.percentageChange>0}),children:[k.percentageChange>0?"+":"",k.percentageChange,"%"]})]}),k.notes&&o("div",{className:r("progress-notes"),children:k.notes})]},"progress-".concat(k.id)))})]}),T.daily_goal&&p("div",{className:r("activity-section"),children:[p("div",{className:r("activity-header"),children:[o(ie,{icon:"calendar",width:"16px",height:"16px",className:r("activity-icon")}),o("span",{children:ct(T.daily_goal.length,["ежедневная цель","ежедневные цели","ежедневных целей"])})]}),o("ul",{className:r("activity-list"),children:T.daily_goal.map(k=>p("li",{className:r("activity-item"),children:[o("div",{className:r("daily-info"),children:o("span",{className:r("daily-title"),children:k.title})}),k.notes&&o("div",{className:r("daily-notes"),children:k.notes})]},"daily-".concat(k.id)))})]}),T.regular_goal&&p("div",{className:r("activity-section"),children:[p("div",{className:r("activity-header"),children:[o(ie,{icon:"watch",width:"16px",height:"16px",className:r("activity-icon")}),o("span",{children:ct(T.regular_goal.length,["регулярная цель","регулярные цели","регулярных целей"])})]}),o("ul",{className:r("activity-list"),children:T.regular_goal.map(k=>p("li",{className:r("activity-item"),children:[p("div",{className:r("regular-info"),children:[o("span",{className:r("regular-title"),children:k.title}),k.currentStreak&&p("span",{className:r("regular-streak"),children:["Серия: ",k.currentStreak]})]}),k.notes&&o("div",{className:r("regular-notes"),children:k.notes})]},"regular-".concat(k.id)))})]})]})};return p("div",{className:n(),children:[o(ke,{className:r("title"),tag:"h2",children:"Активность выполнения целей и списков"}),o(Tt,{isLoading:i==="loading",children:i==="error"?o("div",{className:r("error"),children:o("p",{children:"Не удалось загрузить данные активности"})}):a?p(nt,{children:[p("div",{className:r("stats"),children:[p("div",{className:r("stat-item"),children:[o("span",{className:r("stat-value"),children:a.stats.totalGoalsCompleted}),o("span",{className:r("stat-label"),children:ct(a.stats.totalGoalsCompleted,["цель выполнена","цели выполнено","целей выполнено"],!1)})]}),p("div",{className:r("stat-item"),children:[o("span",{className:r("stat-value"),children:a.stats.totalListsCompleted}),o("span",{className:r("stat-label"),children:ct(a.stats.totalListsCompleted,["список выполнен","списка выполнено","списков выполнено"],!1)})]}),p("div",{className:r("stat-item"),children:[o("span",{className:r("stat-value"),children:a.stats.totalProgressUpdates}),o("span",{className:r("stat-label"),children:ct(a.stats.totalProgressUpdates,["прогресс обновлен","прогресса обновлено","прогрессов обновлено"],!1)})]}),p("div",{className:r("stat-item"),children:[o("span",{className:r("stat-value"),children:a.stats.totalDailyCompleted}),o("span",{className:r("stat-label"),children:ct(a.stats.totalDailyCompleted,["ежедневная цель","ежедневных цели","ежедневных целей"],!1)})]}),p("div",{className:r("stat-item"),children:[o("span",{className:r("stat-value"),children:a.stats.totalRegularCompleted}),o("span",{className:r("stat-label"),children:ct(a.stats.totalRegularCompleted,["регулярная цель","регулярных цели","регулярных целей"],!1)})]}),p("div",{className:r("stat-item"),children:[o("span",{className:r("stat-value"),children:a.stats.currentStreak}),o("span",{className:r("stat-label"),children:"текущая серия"})]}),p("div",{className:r("stat-item"),children:[o("span",{className:r("stat-value"),children:a.stats.maxStreak}),o("span",{className:r("stat-label"),children:"макс. серия"})]}),p("div",{className:r("stat-item"),children:[p("span",{className:r("stat-value"),children:[a.stats.activityPercentage,"%"]}),o("span",{className:r("stat-label"),children:"активность"})]}),p("div",{className:r("stat-item"),children:[o("span",{className:r("stat-value",{active:a.stats.isActiveToday,inactive:!a.stats.isActiveToday}),children:a.stats.isActiveToday?"Да":"Нет"}),o("span",{className:r("stat-label"),children:"сегодня"})]})]}),p("div",{className:r("container"),children:[p("div",{className:r("scrollable-wrapper"),children:[o("div",{className:r("months"),children:E.map(N=>N.month&&o("div",{className:r("month-label"),style:{left:"".concat(N.startWeek*C,"px"),width:"".concat(N.weekSpan*C,"px")},children:N.month.name},"month-".concat(N.month.year,"-").concat(N.month.month)))}),p("div",{className:r("grid"),children:[o("div",{className:r("weekdays"),children:v.map(N=>o("div",{className:r("weekday-label"),children:N},"weekday-".concat(N)))}),o("div",{className:r("cells"),children:f.map(N=>o("div",{className:r("week"),"data-testid":"week-".concat(N.id),children:N.days.map((T,k)=>w(T,k,N.id))},N.id))})]})]}),p("div",{className:r("legend"),children:[p("div",{className:r("legend-section"),children:[o("div",{className:r("legend-label"),children:"Интенсивность:"}),p("div",{className:r("legend-scale"),children:[o("div",{className:r("legend-cell",{level:"0"})}),o("div",{className:r("legend-cell",{level:"1"})}),o("div",{className:r("legend-cell",{level:"2"})}),o("div",{className:r("legend-cell",{level:"3"})}),o("div",{className:r("legend-cell",{level:"4"})})]}),o("div",{className:r("legend-label"),children:"больше"})]}),p("div",{className:r("legend-section"),children:[o("div",{className:r("legend-label"),children:"Тип активности:"}),p("div",{className:r("legend-types"),children:[p("div",{className:r("legend-type"),children:[o("div",{className:r("legend-cell",{type:"goal"})}),o("span",{className:r("legend-type-label"),children:"Цели"})]}),p("div",{className:r("legend-type"),children:[o("div",{className:r("legend-cell",{type:"progress"})}),o("span",{className:r("legend-type-label"),children:"Прогресс"})]}),p("div",{className:r("legend-type"),children:[o("div",{className:r("legend-cell",{type:"daily"})}),o("span",{className:r("legend-type-label"),children:"Ежедневные"})]}),p("div",{className:r("legend-type"),children:[o("div",{className:r("legend-cell",{type:"regular"})}),o("span",{className:r("legend-type-label"),children:"Регулярные"})]}),p("div",{className:r("legend-type"),children:[o("div",{className:r("legend-cell",{type:"mixed"})}),o("span",{className:r("legend-type-label"),children:"Смешанная"})]})]})]})]})]}),c&&p("div",{className:r("day-details"),children:[o("h3",{children:g(c.date)}),c.totalCount===0?o("p",{children:"Нет активности в этот день"}):S(c)]})]}):null})]})},S$=Z.memo(T$);const N$=({timer:e})=>{var l;const[t,n]=J("goal-timer-item"),r=Zn(),a=new Date(e.deadline),s=ga(a,"d MMMM yyyy",{locale:Uh}),i=()=>{r("/goals/".concat(e.goal.code))};return p("div",{className:t({expired:e.isExpired}),children:[((l=e.goal)==null?void 0:l.image)&&o("div",{className:n("image-container"),children:o("img",{src:e.goal.image,alt:e.goal.title,className:n("image")})}),p("div",{className:n("content"),children:[o("h3",{className:n("title"),children:e.goal.title}),p("div",{className:n("timer-info"),children:[p("div",{className:n("deadline"),children:[o("span",{className:n("label"),children:"Дедлайн: "}),s]}),e.isExpired?o("div",{className:n("expired"),children:"Время истекло"}):p("div",{children:[o("span",{className:n("label"),children:"Осталось: "}),e.daysLeft," ",e.daysLeft===1?"день":e.daysLeft<5?"дня":"дней"]})]}),o(z,{theme:"blue-light",onClick:i,className:n("button"),children:"Перейти к цели"})]})]})},k$=()=>{const[e,t]=J("goal-timers"),[n,r]=y.useState([]),[a,s]=y.useState(!0),[i,l]=y.useState(!1);y.useEffect(()=>{(async()=>{try{s(!0);const d=await wH(i);d.success&&d.data?r(d.data):me.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить таймеры"})}catch(d){console.error("Ошибка при загрузке таймеров:",d),me.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при загрузке таймеров"})}finally{s(!1)}})()},[i]);const c=()=>{l(u=>!u)};return p("div",{className:e(),children:[p("div",{className:t("header"),children:[o(ke,{tag:"h2",className:t("title"),children:"Мои таймеры"}),o(z,{theme:"blue-light",onClick:c,className:t("toggle-button"),size:"medium",width:"auto",children:i?"Скрыть истекшие":"Показать истекшие"})]}),a?o("div",{className:t("loading"),children:o(Tt,{isLoading:a})}):n.length>0?o("div",{className:t("list"),children:n.map((u,d)=>o(N$,{timer:u},u.id?"timer-".concat(u.id):"timer-".concat(u.goal.code,"-").concat(d)))}):o(jt,{title:"У вас пока нет активных таймеров",description:"Установите таймер для своих целей, чтобы не пропустить дедлайн"})]})};const D$=e=>{const{className:t,statistics:n}=e,[r,a]=J("user-statistics",t);return p("section",{className:r(),children:[p("div",{className:a("level"),children:[o("p",{className:a("level-text"),children:"Текущий уровень"}),p("p",{className:a("level-number"),children:[o(ie,{icon:"level"}),n.currentStats.level]}),o(pa,{done:n.currentStats.currentExperience,all:n.currentStats.nextLevelExperience,text:"".concat(n.currentStats.currentExperience,"/").concat(n.currentStats.nextLevelExperience)})]}),o(at,{height:-16,margin:"16px 0"}),p("p",{className:a("text"),children:[o("span",{children:"Заработано очков"}),o("span",{children:n.currentStats.currentExperience})]}),p("p",{className:a("text"),children:[o("span",{children:"Следующий уровень через"}),o("span",{children:n.currentStats.nextLevelExperience-n.currentStats.currentExperience})]}),p("p",{className:a("text"),children:[o("span",{children:"Заработано за отзывы"}),o("span",{children:n.totalStats.reviewsCount})]}),p("p",{className:a("text"),children:[o("span",{children:"Выполнение целей"}),o("span",{children:n.totalStats.completedGoals})]}),p("p",{className:a("text"),children:[o("span",{children:"Достижения"}),o("span",{children:n.totalStats.achievementsCount})]}),n.totalStats.weeklyCompletedChallenges!==void 0&&p("p",{className:a("text"),children:[o("span",{children:"Еженедельные задания"}),p("span",{children:[n.totalStats.weeklyCompletedChallenges,"/",n.totalStats.totalWeeklyChallenges]})]})]})};const x$=e=>{const{className:t,weeks:n}=e,[r,a]=J("weekly-schedule",t),[s,i]=y.useState(0);return y.useEffect(()=>{let l=0;n.forEach(({completedGoals:c})=>{c>l&&(l=c)}),i(l)},[n]),p("section",{className:r(),children:[o("h3",{className:a("info-title"),children:"Выполнено целей за неделю"}),p("span",{className:a("info-count"),children:[o(ie,{icon:"rocket"}),n[n.length-1].completedGoals]}),o("div",{className:a("weeks"),children:n.map(l=>p("div",{className:a("week"),children:[o("div",{className:a("column"),children:o("div",{className:a("column-active"),style:{height:"".concat(l.completedGoals/s*100,"%")}})}),o("p",{className:a("count-week"),children:l.weekNumber}),o("p",{className:a("month"),children:iG(l.startDate)})]},l.weekNumber))})]})},A$=async()=>await Ue("statistics",{auth:!0});const P$=ze(()=>{const[e,t]=J("user-self-dashboard"),[n,r]=y.useState(null);return y.useEffect(()=>{(async()=>{const a=await A$();a.success&&r(a.data)})()},[]),p("section",{className:e(),children:[p("div",{className:t("info-wrapper"),children:[p("div",{className:t("info-group"),children:[p(Fe,{to:"/list/100-goals",className:t("info"),children:[o("h3",{className:t("info-title"),children:'Невыполненных целей в "100 целей"'}),p("span",{className:t("info-count"),children:[o(ie,{icon:"star"}),n&&n.hundredGoals.easy.total+n.hundredGoals.medium.total+n.hundredGoals.hard.total-n.hundredGoals.easy.completed-n.hundredGoals.medium.completed-n.hundredGoals.hard.completed]})]}),p(Fe,{to:"/leaders",className:t("info"),children:[o("h3",{className:t("info-title"),children:"Место в рейтинге недели"}),p("span",{className:t("info-count"),children:[o(ie,{icon:"award"}),n==null?void 0:n.currentStats.weeklyRank]})]}),p(Fe,{to:"/user/self/active-goals",className:t("info"),children:[o("h3",{className:t("info-title"),children:"Активные цели и списки"}),p("p",{className:t("info-count-wrapper"),children:[p("span",{className:t("info-count"),children:[o(ie,{icon:"rocket"}),n==null?void 0:n.currentStats.activeGoals]}),p("span",{className:t("info-count"),children:[o(ie,{icon:"apps"}),n==null?void 0:n.currentStats.activeLists]})]})]})]}),n&&o(vl,{totalAddedEasy:n.hundredGoals.easy.total,totalAddedHard:n.hundredGoals.hard.total,totalAddedMedium:n.hundredGoals.medium.total,totalCompletedEasy:n.hundredGoals.easy.completed,totalCompletedHard:n.hundredGoals.hard.completed,totalCompletedMedium:n.hundredGoals.medium.completed,column:!0,className:t("info-100-goals")}),(n==null?void 0:n.weeklyProgress)&&o(x$,{weeks:n==null?void 0:n.weeklyProgress,className:t("weekly")}),n&&o(D$,{statistics:n})]}),o(S$,{}),o(k$,{})]})});const mf=ze(({className:e,id:t,text:n,value:r,setValue:a,options:s,placeholder:i="Выберите опцию",required:l=!1,disabled:c=!1})=>{const[u,d]=J("field-select",e);return p("div",{className:u(),children:[p("label",{htmlFor:t,className:d("label"),children:[n,l&&o("span",{className:d("required"),children:"*"})]}),p("select",{id:t,className:d("select"),value:r,onChange:f=>a(f.target.value),disabled:c,required:l,children:[o("option",{value:"",disabled:!0,children:i}),s.map(f=>o("option",{value:f.value,children:f.text},f.value))]})]})});const O$={AUTO_ADD_CATEGORY:["category"],AUTO_ADD_COMPLEXITY:["complexity"],AUTO_ADD_KEYWORD:["keywords"],AUTO_ADD_COMPLETED_CATEGORY:["category"],AUTO_ADD_COMPLETED_COMPLEXITY:["complexity"],AUTO_ADD_COMPLETED_KEYWORD:["keywords"],ON_COMPLETE_ADD:[],ON_COMPLETE_REMOVE:[],ON_PROGRESS_START_ADD:[],ON_PROGRESS_START_REMOVE:[],ON_DEADLINE_APPROACHING_ADD:["daysBeforeDeadline"],ON_HIGH_PROGRESS_ADD:["progressThreshold"],ON_STALLED_PROGRESS_ADD:["daysWithoutProgress"]},I$=e=>{const t=[];return e.categoryName&&t.push("Категория: ".concat(e.categoryName)),e.complexity&&t.push("Сложность: ".concat(e.complexity)),e.keywords&&t.push("Ключевые слова: ".concat(e.keywords)),e.ruleType==="ON_DEADLINE_APPROACHING_ADD"&&e.daysBeforeDeadline&&t.push("Дней до дедлайна: ".concat(e.daysBeforeDeadline)),e.ruleType==="ON_HIGH_PROGRESS_ADD"&&e.progressThreshold&&t.push("Порог прогресса: ".concat(e.progressThreshold,"%")),e.ruleType==="ON_STALLED_PROGRESS_ADD"&&e.daysWithoutProgress&&t.push("Дней без прогресса: ".concat(e.daysWithoutProgress)),t},L$=ze(({className:e,folder:t,rules:n,onRulesUpdate:r})=>{const[a,s]=J("folder-rules-manager",e),[i,l]=y.useState(null),[c,u]=y.useState(!0),[d,f]=y.useState(!1),[m,h]=y.useState(!1),[g,v]=y.useState(null),[_,E]=y.useState(null),[C,w]=y.useState({folder:t.id,ruleType:"",isActive:!0,daysBeforeDeadline:7,progressThreshold:80,daysWithoutProgress:7}),S=y.useCallback(async()=>{u(!0);try{const P=await jN();P.success&&P.data&&l(P.data)}catch(P){console.error("Ошибка загрузки параметров правил:",P)}u(!1)},[]);y.useEffect(()=>{S()},[]);const N=()=>{w({folder:t.id,ruleType:"",isActive:!0,daysBeforeDeadline:7,progressThreshold:80,daysWithoutProgress:7})},T=async()=>{if(C.ruleType)try{(await KN(t.id,C)).success&&(f(!1),N(),r())}catch(P){console.error("Ошибка создания правила:",P)}},k=async()=>{if(!(!(g!=null&&g.id)||!C.ruleType))try{(await QN(t.id,g.id,C)).success&&(h(!1),v(null),N(),r())}catch(P){console.error("Ошибка обновления правила:",P)}},I=async P=>{try{(await XN(t.id,P)).success&&(E(null),r())}catch(M){console.error("Ошибка удаления правила:",M)}},A=P=>{v(P),w({folder:P.folder,ruleType:P.ruleType,category:P.category,complexity:P.complexity,keywords:P.keywords,removeFromFolder:P.removeFromFolder,daysBeforeDeadline:P.daysBeforeDeadline||7,progressThreshold:P.progressThreshold||80,daysWithoutProgress:P.daysWithoutProgress||7,isActive:P.isActive}),h(!0)},x=()=>C.ruleType?O$[C.ruleType]||[]:[],D=()=>{var M,R,F,U,$;const P=x();return p("div",{className:s("form"),children:[o(mf,{id:"rule-type",text:"Тип правила",value:C.ruleType||"",setValue:H=>w({...C,ruleType:H}),options:(i==null?void 0:i.ruleTypes.map(H=>({value:H.value,text:H.label})))||[],placeholder:"Выберите тип правила",required:!0}),C.ruleType&&o("div",{className:s("rule-description"),children:(M=i==null?void 0:i.ruleTypes.find(H=>H.value===C.ruleType))==null?void 0:M.description}),P.includes("category")&&o(mf,{id:"rule-category",text:"Категория",value:((R=C.category)==null?void 0:R.toString())||"",setValue:H=>w({...C,category:Number(H)}),options:(i==null?void 0:i.categories.map(H=>({value:H.id.toString(),text:H.name})))||[],placeholder:"Выберите категорию",required:!0}),P.includes("complexity")&&o(mf,{id:"rule-complexity",text:"Сложность",value:C.complexity||"",setValue:H=>w({...C,complexity:H}),options:(i==null?void 0:i.complexities.map(H=>({value:H.value,text:H.label})))||[],placeholder:"Выберите сложность",required:!0}),P.includes("keywords")&&o(He,{id:"rule-keywords",text:"Ключевые слова",value:C.keywords||"",setValue:H=>w({...C,keywords:H}),placeholder:"Введите слова через запятую",required:!0}),P.includes("daysBeforeDeadline")&&o(He,{id:"rule-days-deadline",text:"Дней до дедлайна",value:((F=C.daysBeforeDeadline)==null?void 0:F.toString())||"7",setValue:H=>w({...C,daysBeforeDeadline:Number(H)}),type:"number",required:!0,placeholder:"Введите количество дней"}),P.includes("progressThreshold")&&o(He,{id:"rule-progress-threshold",text:"Порог прогресса (%)",value:((U=C.progressThreshold)==null?void 0:U.toString())||"80",setValue:H=>w({...C,progressThreshold:Number(H)}),type:"number",required:!0,placeholder:"Введите порог прогресса"}),P.includes("daysWithoutProgress")&&o(He,{id:"rule-days-stalled",text:"Дней без прогресса",value:(($=C.daysWithoutProgress)==null?void 0:$.toString())||"7",setValue:H=>w({...C,daysWithoutProgress:Number(H)}),type:"number",required:!0,placeholder:"Введите количество дней"}),o(wn,{id:"rule-active",text:"Активное правило",checked:C.isActive||!1,setChecked:H=>w({...C,isActive:H})}),o("div",{className:s("form-actions"),children:m?p(nt,{children:[o(z,{theme:"blue",onClick:k,disabled:!C.ruleType,children:"Сохранить изменения"}),o(z,{theme:"blue-light",onClick:()=>{h(!1),v(null),N()},children:"Отмена"})]}):p(nt,{children:[o(z,{theme:"blue",onClick:T,disabled:!C.ruleType,children:"Создать правило"}),o(z,{theme:"blue-light",onClick:()=>{f(!1),N()},children:"Отмена"})]})})]})};return c?o(Tt,{isLoading:!0}):p("div",{className:a(),children:[p("div",{className:s("header"),children:[p("h3",{children:['Правила папки "',t.name,'"']}),o(z,{theme:"blue",icon:"plus",width:"auto",onClick:()=>f(!0),size:"medium",children:"Добавить правило"})]}),o("div",{className:s("rules-list"),children:n.length===0?o(jt,{title:"У этой папки пока нет автоматических правил",description:"Создайте правило, чтобы автоматизировать управление целями"}):o("div",{className:s("rules"),children:n.map(P=>p("div",{className:s("rule",{inactive:!P.isActive}),children:[p("div",{className:s("rule-info"),children:[o("h4",{className:s("rule-title"),children:P.ruleTypeDisplay}),o("div",{className:s("rule-details"),children:I$(P).map((M,R)=>o("span",{children:M},R))}),!P.isActive&&o("span",{className:s("inactive-badge"),children:"Неактивно"})]}),p("div",{className:s("rule-actions"),children:[o(z,{theme:"blue-light",icon:"edit",size:"small",onClick:()=>A(P),children:"Редактировать"}),o(z,{theme:"red",icon:"trash",size:"small",onClick:()=>E(P.id),children:"Удалить"})]})]},P.id))})}),o(xr,{isOpen:d,onClose:()=>{f(!1),N()},title:"Создать новое правило",children:D()}),o(xr,{isOpen:m,onClose:()=>{h(!1),v(null),N()},title:"Редактировать правило",children:D()}),o(Rr,{title:"Удалить правило?",isOpen:_!==null,onClose:()=>E(null),handleBtn:()=>I(_),textBtn:"Удалить",text:"Вы уверены, что хотите удалить это правило? Действие нельзя отменить.",themeBtn:"red"})]})});const R$=e=>{const{className:t,img:n,title:r,vertical:a}=e,[s,i]=J("item-goal",t);return p("section",{className:s({vertical:a}),children:[o("img",{src:n,alt:r,className:i("img")}),o("div",{className:i("info"),children:o(ke,{tag:"h3",className:i("title"),children:r})})]})};const M$=[{name:"Публичные",code:"public"},{name:"Приватные",code:"private"}],F$=ze(({className:e})=>{var Ae;const[t,n]=J("goal-folder-manager",e),r=Zn(),{folderId:a}=Us(),[s,i]=y.useState([]),[l,c]=y.useState(null),[u,d]=y.useState([]),[f,m]=y.useState(!0),[h,g]=y.useState(!1),[v,_]=y.useState(!1),[E,C]=y.useState("goals"),[w,S]=y.useState({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1}),[N,T]=y.useState(null),[k,I]=y.useState(""),[A,x]=y.useState([]),[D,P]=y.useState(0),M=[{name:"Новые",value:"created_at_desc"},{name:"Старые",value:"created_at_asc"},{name:"Больше целей",value:"goals_count_desc"}],R=y.useCallback(async()=>{m(!0);try{const ne=await RN();ne.success&&ne.data&&i(ne.data||[])}catch(ne){console.error("Ошибка загрузки папок:",ne)}m(!1)},[]),F=s.filter(ne=>{const Ce=k.trim().toLowerCase();return Ce?ne.name.toLowerCase().includes(Ce)||(ne.description||"").toLowerCase().includes(Ce):!0}).filter(ne=>{if(A.length===0)return!0;const Ce=A.includes("private"),rt=A.includes("public");return Ce&&!rt?ne.isPrivate:rt&&!Ce?!ne.isPrivate:!0}).sort((ne,Ce)=>{var ot;const rt=(ot=M[D])==null?void 0:ot.value;return rt==="created_at_desc"?(Ce.createdAt||"").localeCompare(ne.createdAt||""):rt==="created_at_asc"?(ne.createdAt||"").localeCompare(Ce.createdAt||""):rt==="goals_count_desc"?(Ce.goalsCount||0)-(ne.goalsCount||0):0}),U=ne=>{I(ne)},$=async ne=>{x(ne)},H=async ne=>{P(ne)},K=[{url:"#all",name:"Все папки",page:"all",count:s.length}],L=y.useCallback(async ne=>{try{const Ce=await HN(ne);Ce.success&&Ce.data&&d(Ce.data.items||[])}catch(Ce){console.error("Ошибка загрузки целей папки:",Ce)}},[]);y.useEffect(()=>{R()},[]),y.useEffect(()=>{if(s.length&&a){const ne=Number(a),Ce=s.find(rt=>rt.id===ne);Ce&&(c(Ce),L(Ce.id))}},[s,a]);const le=async()=>{if(w.name.trim())try{(await FN(w)).success&&(await R(),g(!1),S({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1}))}catch(ne){console.error("Ошибка создания папки:",ne)}},q=async()=>{if(!(!l||!w.name.trim()))try{(await BN(l.id,w)).success&&(await R(),_(!1),c(null),S({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1}))}catch(ne){console.error("Ошибка обновления папки:",ne)}},O=async ne=>{try{(await UN(ne)).success&&(await R(),(l==null?void 0:l.id)===ne&&(c(null),d([]),r("/user/self/folders",{replace:!0})))}catch(Ce){console.error("Ошибка удаления папки:",Ce)}},ee=async ne=>{c(ne),r("/user/self/folders/".concat(ne.id)),await L(ne.id)},Q=ne=>{c(ne),S({name:ne.name,description:ne.description||"",color:ne.color||"#3A89D8",icon:ne.icon||"folder",is_private:ne.isPrivate}),_(!0)},oe=async ne=>{if(l)try{(await $N(l.id,ne)).success&&(await L(l.id),await R())}catch(Ce){console.error("Ошибка удаления цели из папки:",Ce)}},V=(ne,Ce)=>{(ne.key==="Enter"||ne.key===" ")&&(ne.preventDefault(),ee(Ce))};return f?o(Tt,{isLoading:!0}):p("div",{className:t(),children:[p("div",{className:n("header"),children:[o(ke,{tag:"h2",className:n("title"),children:"Папки целей"}),o(z,{theme:"blue",icon:"plus",onClick:()=>g(!0),size:"medium",width:"auto",children:"Создать папку"})]}),p("div",{className:n("content"),children:[p("div",{className:n("folders-list"),children:[p("div",{className:"catalog-items__filters",children:[o(gl,{className:"catalog-items__switch",buttons:K,active:"all"}),o(at,{className:"catalog-items__line"}),p("div",{className:"catalog-items__search-wrapper catalog-items__search-wrapper--wrap-on-lg",children:[o(He,{className:"catalog-items__search",placeholder:"Поиск по названию или описанию папки",id:"goal-folders-search",value:k,setValue:U,iconBegin:"search"}),p("div",{className:"catalog-items__categories-wrapper",children:[o(ed,{head:{name:"Все папки",code:"all"},items:M$,onFinish:$,multipleSelectedText:["тип","типа","типов"],multipleThreshold:1}),o(qt,{options:M,activeOption:D,onSelect:H,filter:!0})]})]})]}),F.length===0?o(jt,{title:"У вас пока нет папок для целей",description:"Создайте первую папку, чтобы организовать свои цели"}):o("div",{className:n("folders"),children:F.map(ne=>p("div",{className:n("folder",{active:(l==null?void 0:l.id)===ne.id}),onClick:()=>ee(ne),onKeyDown:Ce=>V(Ce,ne),role:"button",tabIndex:0,"aria-label":"Выбрать папку ".concat(ne.name),children:[o("div",{className:n("folder-badge"),style:{backgroundColor:ne.color},children:ne.isPrivate&&o("img",{src:"/svg/eye-closed.svg",alt:"Приватная папка",className:n("folder-badge-private-icon"),title:"Приватная"})}),p("div",{className:n("folder-info"),children:[p("h4",{className:n("folder-name"),children:[ne.name,ne.isPrivate&&o("span",{className:n("private-badge"),children:"Приватная"})]}),ne.description&&o("p",{className:n("folder-description"),children:ne.description}),p("p",{className:n("folder-meta"),children:["Целей: ",ne.goalsCount]})]}),p("div",{className:n("folder-actions"),children:[o("div",{className:n("folder-action"),children:o(z,{theme:"blue-light",icon:"edit",size:"small",onClick:Ce=>{Ce.stopPropagation(),Q(ne)}})}),o("div",{className:n("folder-action"),children:o(z,{theme:"red",icon:"trash",size:"small",onClick:Ce=>{Ce.stopPropagation(),T(ne)}})})]})]},ne.id))})]}),l&&p("div",{className:n("folder-content"),children:[p("div",{className:n("folder-header"),children:[p(ke,{tag:"h3",className:n("folder-header-title"),children:[o("span",{className:n("folder-badge",{inline:!0}),style:{backgroundColor:l.color},"aria-hidden":"true",children:l.isPrivate&&o("img",{src:"/svg/eye-closed.svg",alt:"Приватная папка",className:n("folder-badge-private-icon"),"aria-hidden":"true"})}),p("span",{children:['Папка "',l.name,'"',l.isPrivate&&o("span",{className:n("folder-private-label"),children:" (Приватная)"})]})]}),p("div",{className:n("folder-tabs"),children:[p("button",{type:"button",className:n("tab",{active:E==="goals"}),onClick:()=>C("goals"),children:["Цели (",u.length,")"]}),p("button",{type:"button",className:n("tab",{active:E==="rules"}),onClick:()=>C("rules"),children:["Правила (",((Ae=l.rules)==null?void 0:Ae.length)||0,")"]})]})]}),E==="goals"&&o("div",{className:n("tab-content"),children:u.length===0?o(jt,{title:"В этой папке пока нет целей",description:"Добавьте цели в папку из страницы цели"}):o("div",{className:n("goals"),children:u.map(ne=>p("div",{className:n("goal-item"),children:[o(Fe,{to:"/goals/".concat(ne.code),className:n("goal-link"),children:o(R$,{img:ne.image||"/public/svg/goal-default.svg",title:ne.title,className:n("goal-card")})}),o(z,{theme:"red",icon:"trash",size:"small",onClick:()=>oe(ne.goal),children:"Удалить из папки"})]},ne.id))})}),E==="rules"&&o("div",{className:n("tab-content"),children:o(L$,{folder:l,rules:l.rules||[],onRulesUpdate:R,className:n("rules-manager")})})]})]}),o(xr,{isOpen:h,onClose:()=>{g(!1),S({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1})},title:"Создать новую папку",children:p("div",{className:n("form"),children:[p("div",{children:[o(He,{id:"folder-name",text:"Название папки",value:w.name,setValue:ne=>S({...w,name:ne.slice(0,50)}),placeholder:"Введите название папки",required:!0}),o(co,{current:w.name.length,max:50})]}),p("div",{children:[o(He,{id:"folder-description",text:"Описание (необязательно)",value:w.description||"",setValue:ne=>S({...w,description:ne.slice(0,100)}),placeholder:"Краткое описание папки",type:"textarea"}),o(co,{current:(w.description||"").length,max:100})]}),o("div",{className:n("color-picker"),children:["#3A89D8","#7C3AED","#10B981","#F59E0B","#EF4444","#0EA5E9","#8B5CF6","#14B8A6","#F97316"].map(ne=>o("button",{type:"button",style:{backgroundColor:ne},className:n("color-option",{active:w.color===ne}),onClick:()=>S({...w,color:ne}),"aria-label":"Выбрать цвет ".concat(ne)},ne))}),o(wn,{id:"folder-private",text:"Приватная папка (видна только вам)",checked:w.is_private||!1,setChecked:ne=>S({...w,is_private:ne})}),p("div",{className:n("form-actions"),children:[o(z,{theme:"blue",onClick:le,disabled:!w.name.trim(),width:"auto",children:"Создать папку"}),o(z,{theme:"blue-light",onClick:()=>{g(!1),S({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1})},width:"auto",children:"Отмена"})]})]})}),o(xr,{isOpen:v,onClose:()=>{_(!1),c(null),S({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1})},title:"Редактировать папку",children:p("div",{className:n("form"),children:[p("div",{children:[o(He,{id:"edit-folder-name",text:"Название папки",value:w.name,setValue:ne=>S({...w,name:ne.slice(0,50)}),placeholder:"Введите название папки",required:!0}),o(co,{current:w.name.length,max:50})]}),p("div",{children:[o(He,{id:"edit-folder-description",text:"Описание (необязательно)",value:w.description||"",setValue:ne=>S({...w,description:ne.slice(0,100)}),placeholder:"Краткое описание папки",type:"textarea"}),o(co,{current:(w.description||"").length,max:100})]}),o("div",{className:n("color-picker"),children:["#3A89D8","#7C3AED","#10B981","#F59E0B","#EF4444","#0EA5E9","#8B5CF6","#14B8A6","#F97316"].map(ne=>o("button",{type:"button",style:{backgroundColor:ne},className:n("color-option",{active:w.color===ne}),onClick:()=>S({...w,color:ne}),"aria-label":"Выбрать цвет ".concat(ne)},ne))}),o(wn,{id:"edit-folder-private",text:"Приватная папка (видна только вам)",checked:w.is_private||!1,setChecked:ne=>S({...w,is_private:ne})}),p("div",{className:n("form-actions"),children:[o(z,{theme:"blue",onClick:q,disabled:!w.name.trim(),width:"auto",children:"Сохранить изменения"}),o(z,{theme:"blue-light",onClick:()=>{_(!1),c(null),S({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1})},width:"auto",children:"Отмена"})]})]})}),o(Rr,{title:"Удалить папку?",isOpen:N!==null,onClose:()=>T(null),handleBtn:()=>{N&&(O(N.id),T(null))},textBtn:"Удалить папку",text:'Вы уверены, что хотите удалить папку "'.concat(N==null?void 0:N.name,'"? Цели не будут удалены.'),themeBtn:"red"})]})});const B$=ze(()=>{const[e,t]=J("user-self-folders");return o("section",{className:e(),children:o("div",{className:t("content"),children:o(F$,{})})})});const U$=ze(({friend:e,onRemove:t,onCompare:n,showActions:r=!0})=>{const[a,s]=J("friend-card"),[i,l]=y.useState(!1),c=async()=>{try{l(!0),await d$(e.id),At.removeFriend(e.id),t==null||t(e.id)}catch(h){me.addNotification({type:"error",title:"Ошибка",message:h instanceof Error?h.message:"Не удалось удалить друга"})}finally{l(!1)}},u=()=>{n==null||n(e.id)},d=e.firstName||e.lastName,f=d?"".concat(e.firstName||""," ").concat(e.lastName||"").trim():e.username,m=h=>{try{const g=new Date(h);return Number.isNaN(g.getTime())?"Недавно":g.toLocaleDateString("ru-RU")}catch(g){return"Недавно"}};return p(Tt,{isLoading:i,className:a(),children:[o("div",{className:s("avatar"),children:e.avatar?o(Jn,{size:"medium-56",avatar:e.avatar}):o("div",{className:s("avatar-placeholder"),children:f.charAt(0).toUpperCase()})}),p("div",{className:s("info"),children:[o("h3",{className:s("name"),children:f}),d&&o("p",{className:s("username"),children:e.username}),p("p",{className:s("since"),children:["Друзья с ",m(e.createdAt)]})]}),r&&p("div",{className:s("actions"),children:[o(z,{type:"Link",theme:"blue-light",size:"small",href:"/user/".concat(e.id,"/showcase"),children:"Профиль"}),o(z,{theme:"blue-light",size:"small",onClick:u,children:"Сравнить"}),o(z,{theme:"red",size:"small",onClick:c,children:"Удалить"})]})]})});const H$=ze(()=>{const[e,t]=J("friends-content");y.useEffect(()=>{(async()=>{try{At.setIsLoading(!0);const s=(await c$()).results.map(i=>({id:i.id,username:i.username,firstName:i.firstName,lastName:i.lastName,status:i.status,createdAt:i.createdAt,avatar:i.avatar}));At.setFriends(s)}catch(a){console.error("Ошибка при загрузке списка друзей:",a),me.addNotification({type:"error",title:"Ошибка",message:a instanceof Error?a.message:"Не удалось загрузить список друзей"})}finally{At.setIsLoading(!1)}})()},[]);const n=async r=>{try{At.setIsLoading(!0);const a=await h$(r),s=Ck(a);cn.setModalProps({comparisonData:s}),cn.setWindow("compare-friend"),cn.setIsOpen(!0)}catch(a){me.addNotification({type:"error",title:"Ошибка",message:a instanceof Error?a.message:"Не удалось получить данные для сравнения"})}finally{At.setIsLoading(!1)}};return At.isLoading?o("section",{className:e(),children:o("div",{className:t("loading"),children:o("p",{children:"Загрузка..."})})}):o("section",{className:e(),children:At.isEmptyFriends?o(jt,{title:"У вас пока нет друзей",description:"Найдите единомышленников среди пользователей Bucket List и добавьте их в друзья",children:o(z,{width:"auto",theme:"blue",type:"Link",href:"/user/self/friends/search",children:"Найти друзей"})}):o("div",{className:t("friends-list"),children:At.friends.map(r=>o(U$,{friend:r,onCompare:n},r.id))})})});const G$=ze(({request:e})=>{const[t,n]=J("friend-request-card"),[r,a]=y.useState(!1),s=async()=>{if(!r)try{a(!0),await Uy(e.requestId,"accept"),At.removeFriendRequest(e.requestId),At.addFriend({id:e.id,username:e.username,firstName:e.firstName,lastName:e.lastName,avatar:e.avatar,status:"accepted",createdAt:new Date().toISOString()})}catch(u){me.addNotification({type:"error",title:"Ошибка",message:u instanceof Error?u.message:"Не удалось принять запрос"})}finally{a(!1)}},i=async()=>{if(!r)try{a(!0),await Uy(e.requestId,"reject"),At.removeFriendRequest(e.requestId)}catch(u){me.addNotification({type:"error",title:"Ошибка",message:u instanceof Error?u.message:"Не удалось отклонить запрос"})}finally{a(!1)}},l=e.firstName&&e.lastName?"".concat(e.firstName," ").concat(e.lastName):e.username,c=e.type==="incoming";return p("div",{className:t({outgoing:!c}),children:[o("div",{className:n("avatar"),children:o(Jn,{size:"medium-56",avatar:e.avatar})}),p("div",{className:n("info"),children:[o("h3",{className:n("name"),children:l}),p("p",{className:n("username"),children:["@",e.username]}),o("p",{className:n("date"),children:new Date(e.createdAt).toLocaleDateString("ru-RU")}),!c&&o("p",{className:n("status"),children:"Заявка отправлена"})]}),p("div",{className:n("actions"),children:[o(z,{theme:"blue-light",type:"Link",href:"/user/".concat(e.id,"/showcase"),size:"small",children:"Профиль"}),c?p(nt,{children:[o(z,{theme:"green",size:"small",onClick:s,disabled:r,children:"Принять"}),o(z,{theme:"red",size:"small",onClick:i,disabled:r,children:"Отклонить"})]}):o(z,{theme:"blue-light",size:"small",disabled:!0,children:"Ожидает ответа"})]})]})});const $$=ze(()=>{const[e,t]=J("friends-requests");return y.useEffect(()=>{(async()=>{try{At.setIsLoading(!0);const r=await u$();At.setFriendRequests(r.results)}catch(r){console.error("Ошибка при загрузке заявок в друзья:",r),me.addNotification({type:"error",title:"Ошибка",message:r instanceof Error?r.message:"Не удалось загрузить заявки в друзья"})}finally{At.setIsLoading(!1)}})()},[]),At.isLoading?o("section",{className:e(),children:o("div",{className:t("loading"),children:o("p",{children:"Загрузка..."})})}):o("section",{className:e(),children:At.isEmptyRequests?o(jt,{title:"Нет новых заявок",description:"Когда другие пользователи отправят вам заявки в друзья, они появятся здесь"}):o("div",{className:t("requests-list"),children:At.friendRequests.map(n=>o(G$,{request:n},n.requestId))})})});const W$=ze(({placeholder:e="Поиск пользователей..."})=>{const[t,n]=J("user-search"),[r,a]=y.useState(""),[s,i]=y.useState({}),l=y.useCallback(yl(async f=>{if(f.trim().length<3){At.clearSearchResults();return}try{At.setIsSearching(!0);const m=await f$(f);At.setSearchResults(m.results)}catch(m){me.addNotification({type:"error",title:"Ошибка поиска",message:m instanceof Error?m.message:"Не удалось выполнить поиск"})}finally{At.setIsSearching(!1)}},300),[]),c=f=>{a(f),l(f)},u=async f=>{try{i(m=>({...m,[f]:!0})),await zw(f),At.updateSearchResultStatus(f,{hasPendingRequest:!0,isRequestFromMe:!0})}catch(m){me.addNotification({type:"error",title:"Ошибка",message:m instanceof Error?m.message:"Не удалось отправить запрос"})}finally{i(m=>({...m,[f]:!1}))}},d=f=>{const m=f.firstName&&f.lastName?"".concat(f.firstName," ").concat(f.lastName):f.username,h=s[f.id]||f.isFriend||f.hasPendingRequest;let g="Добавить в друзья",v="blue-light";return f.isFriend?(g="Уже друзья",v="secondary"):f.hasPendingRequest&&(g=f.isRequestFromMe?"Запрос отправлен":"Ответить на запрос",v="secondary"),p("div",{className:n("result-card"),children:[o("div",{className:n("result-avatar"),children:f.avatar?o("img",{src:f.avatar,alt:m}):o("div",{className:n("result-avatar-placeholder"),children:m.charAt(0).toUpperCase()})}),p("div",{className:n("result-info"),children:[o("h4",{className:n("result-name"),children:m}),p("p",{className:n("result-username"),children:["@",f.username]}),o("p",{className:n("result-email"),children:f.email})]}),p("div",{className:n("result-actions"),children:[o(z,{theme:"blue-light",size:"small",type:"Link",href:"/user/".concat(f.id,"/showcase"),children:"Профиль"}),o(z,{theme:v,size:"small",onClick:()=>u(f.id),disabled:h,children:g})]})]},f.id)};return p("div",{className:t(),children:[o("div",{className:n("input-container"),children:o(He,{value:r,setValue:c,placeholder:e,id:"user-search-input"})}),o(Tt,{isLoading:At.isSearching}),At.hasSearchResults&&p("div",{className:n("results"),children:[p("h3",{className:n("results-title"),children:["Найдено пользователей: ",At.searchResults.length]}),o("div",{className:n("results-list"),children:At.searchResults.map(d)})]}),r.trim().length>=2&&!At.isSearching&&!At.hasSearchResults&&o("div",{className:n("no-results"),children:o("p",{children:"Пользователи не найдены"})})]})});const Y$=ze(()=>{const[e,t]=J("friends-search");return p("section",{className:e(),children:[o("div",{className:t("search-container"),children:o(W$,{placeholder:"Найдите единомышленников и отправьте им заявки в друзья"})}),At.searchResults.length>0&&p("div",{className:t("tips"),children:[o("h3",{className:t("tips-title"),children:"Полезные советы:"}),p("ul",{className:t("tips-list"),children:[o("li",{children:"Просмотрите профиль пользователя перед отправкой заявки"}),o("li",{children:"Добавляйте пользователей с похожими целями и интересами"}),o("li",{children:"Сравнивайте свои достижения с друзьями для мотивации"})]})]})]})});const z$=ze(({subPage:e="friends"})=>{const[t,n]=J("user-self-friends"),r=()=>{switch(e){case"requests":return o($$,{});case"search":return o(Y$,{});default:return o(H$,{})}},a=y.useMemo(()=>[{url:"/user/self/friends",name:"Мои друзья",page:"friends"},{url:"/user/self/friends/requests",name:"Заявки",page:"requests"},{url:"/user/self/friends/search",name:"Поиск",page:"search"}],[]);return p("section",{className:t(),children:[p("div",{className:n("header"),children:[o(ke,{tag:"h2",className:n("title"),children:"Друзья"}),o(gl,{className:n("switch"),buttons:a,active:e})]}),o("div",{className:n("content"),children:r()})]})});const Gy=ze(e=>{const{subPage:t,completed:n}=e,[r,a]=J("user-self-goals"),[s,i]=y.useState(!0),[l,c]=y.useState([]);return y.useEffect(()=>{(async()=>{i(!0);const u=await mu();u.success&&c(u.data),i(!1)})()},[]),p(Tt,{isLoading:s,className:r(),children:[o(ke,{tag:"h2",className:a("title"),children:n?"Выполненные цели и списки":"Все активные цели и списки"}),o(Bm,{userId:dt.get("user-id"),beginUrl:"/user/self/".concat(n?"done":"active","-goals"),completed:n,subPage:t,columns:"3",categories:l,searchWrapperWrap:!0})]})}),$y=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],ru=()=>{const t=new Date().getDay();return t===0?6:t-1},V$=e=>{var r;const t=e.currentStreak||0;return((r=e.currentPeriodProgress)==null?void 0:r.type)==="weekly"?ct(t,["неделя","недели","недель"]):ct(t,["день","дня","дней"])},q$=e=>e.isSeriesCompleted?"Серия выполнена":e.isInterrupted?"Серия прервана":"Текущая серия",j$=e=>{const t=(e.currentStreak||0)>0;return e.isSeriesCompleted?"regular-checked":e.isInterrupted?"regular-cancel":t?"regular":"regular-empty"},K$=(e,t)=>{const n=e.currentPeriodProgress;if(!n)return"inactive";const r=ru(),a=Array.isArray(n.weekDays)?n.weekDays:null;if(a&&a.length>0){const s=a.find(f=>f.dayIndex===t);if(!s)return"inactive";const i=s.isBlockedByStartDate||!1,l=s.isBlocked||!1,c=!i&&(s.isCompleted||!1),u=!i&&(s.isSkipped||!1),d=t===r;return c||u?"completed":l&&!i?"blocked":d&&!i?"active":"inactive"}if(n.type==="daily")return t!==r?"inactive":n.completedToday?"completed":"active";if(n.type==="weekly"){const s=n.requiredPerWeek||1,i=n.currentWeekCompletions||0;return t<i?"completed":t<s?"active":"inactive"}return"inactive"},Q$=e=>{if(!e.currentPeriodProgress)return null;const t=e.currentPeriodProgress;return t.type==="daily"?{completed:t.completedToday||!1,text:t.completedToday?"Выполнено сегодня":"Не выполнено сегодня",streak:t.streak||0}:t.type==="weekly"?{completed:(t.currentWeekCompletions||0)>=(t.requiredPerWeek||1),text:"".concat(t.currentWeekCompletions||0," из ").concat(t.requiredPerWeek||1," на этой неделе"),progress:t.weekProgress||0}:null},X$=e=>{const t=e.recentEntries||e.entries||[],n=new Set(t.map(r=>r.date.split("T")[0])).size;return n===0?"—":ct(n,["день","дня","дней"])},J$=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},Z$=(e,t)=>{const n=ru(),r=e.recentEntries||e.entries||[],a=new Set(r.map(f=>f.date.split("T")[0])),s=new Date,i=new Date(s);i.setDate(s.getDate()-((s.getDay()||7)-1));const l=new Date(i);l.setDate(i.getDate()+t);const c=J$(l),u=a.has(c),d=t===n;return u?"completed":d&&e.isWorkingToday||d?"active":"inactive"},Vw=e=>{const{className:t,horizontal:n,variant:r}=e,[a,s]=J("card",t);if(r==="progress"){const{progressGoal:E,onOpenProgressModal:C,onMarkToday:w}=e,S=ru(),N=Math.round(E.progressPercentage);return p("section",{className:a({horizontal:n,regular:!0}),children:[p(Fe,{to:"/goals/".concat(E.goalCode),className:s("image-wrapper"),children:[o("img",{src:E.goalImage,alt:E.goalTitle,className:s("image")}),o(Nn,{text:E.goalCategory,category:E.goalCategoryNameEn,className:s("category-badge")})]}),p("div",{className:s("body"),children:[o(Fe,{to:"/goals/".concat(E.goalCode),className:s("info-link"),children:o(ke,{tag:"h3",className:s("title-regular"),children:E.goalTitle})}),o(at,{}),p("div",{className:s("series"),children:[p("div",{className:s("series-header"),children:[p("div",{className:s("series-title"),children:[o(ie,{icon:"signal",className:s("series-icon",{progress:!0})}),o("span",{children:"Прогресс"})]}),o("span",{className:s("series-value"),children:X$(E)})]}),o("div",{className:s("series-days"),children:$y.map((T,k)=>{const I=Z$(E,k),A=k===S,x=I==="completed",D=I==="active"||A;return p("div",{className:s("series-day-wrapper"),children:[o("div",{className:s("series-day",{selected:D&&!x,completed:x}),children:x&&o(ie,{icon:"done",className:s("series-day-icon-selected")})}),o("span",{className:s("series-day-name",{selected:D}),children:T})]},T)})})]}),o(at,{}),o("div",{className:s("progress-block"),children:p("div",{className:s("progress-header"),children:[o("span",{className:s("progress-label"),children:"Прогресс:"}),o(pa,{done:N,all:100,goal:!0})]})}),o(at,{}),p("div",{className:s("actions"),children:[o(z,{theme:E.isWorkingToday?"green":"blue",onClick:w,icon:E.isWorkingToday?"regular":"regular-empty",className:s("primary-button"),hoverContent:E.isWorkingToday?"Снять отметку":void 0,hoverIcon:E.isWorkingToday?"cross":void 0,children:E.isWorkingToday?"Отмечено сегодня":"Отметить сегодня"}),o(z,{theme:"blue-light",onClick:C,icon:"signal",children:"Изменить прогресс"})]})]})]})}const{regularGoal:l,statistics:c,onMarkRegular:u,onRestart:d}=e,f=!!c.isInterrupted,m=Q$(c),h=!!(m!=null&&m.completed),g=Math.round(c.completionPercentage||0),v=ru(),_=!c.canCompleteToday&&!h;return p("section",{className:a({horizontal:n,regular:!0}),children:[p(Fe,{to:"/goals/".concat(l.code),className:s("image-wrapper"),children:[o("img",{src:l.image,alt:l.title,className:s("image")}),o(Nn,{text:l.category.name,category:l.category.nameEn,className:s("category-badge")})]}),p("div",{className:s("body"),children:[o(Fe,{to:"/goals/".concat(l.code),className:s("info-link"),children:o(ke,{tag:"h3",className:s("title-regular"),children:l.title})}),o(at,{}),p("div",{className:s("series"),children:[p("div",{className:s("series-header"),children:[p("div",{className:s("series-title"),children:[o(ie,{icon:j$(c),className:s("series-icon")}),o("span",{children:q$(c)})]}),o("span",{className:s("series-value"),children:V$(c)})]}),o("div",{className:s("series-days"),children:$y.map((E,C)=>{const w=K$(c,C),S=C===v,N=w==="completed",T=w==="blocked",k=w==="active"||T&&S;return p("div",{className:s("series-day-wrapper"),children:[p("div",{className:s("series-day",{selected:k&&!N,blocked:T,completed:N}),children:[N&&o(ie,{icon:"done",className:s("series-day-icon-selected")}),!N&&T&&o(ie,{icon:"cross",className:s("series-day-icon")})]}),o("span",{className:s("series-day-name",{selected:k}),children:E})]},E)})})]}),o(at,{}),o("div",{className:s("progress-block"),children:p("div",{className:s("progress-header"),children:[o("span",{className:s("progress-label"),children:"Прогресс:"}),o(pa,{done:g,all:100,goal:!0})]})}),o(at,{}),o("div",{className:s("actions"),children:o(z,{theme:f?"blue":h?"green":_?"blue-light":"blue",onClick:f&&d?d:_?void 0:u,icon:f&&d?"regular-empty":_?void 0:"regular",className:s("primary-button"),disabled:!f&&_,hoverContent:h&&!f?"Отменить выполнение":void 0,hoverIcon:h&&!f?"cross":void 0,children:f&&d?"Начать заново":h?"Выполнено сегодня":_?"Сегодня выполнить цель нельзя":"Выполнить сегодня"})})]})]})};const Wy=[{name:"По прогрессу (убыв.)",value:"progress_desc"},{name:"По прогрессу (возр.)",value:"progress_asc"},{name:"По названию",value:"title_asc"},{name:"По дате обновления",value:"last_updated_desc"}],eW=ze(()=>{var L;const[e,t]=J("user-self-progress"),r=Hi().hash==="#all"?"all":"today",[a,s]=y.useState([]),[i,l]=y.useState(!0),[c,u]=y.useState(""),[d,f]=y.useState(0),[m,h]=y.useState([]),[g,v]=y.useState(null),[_,E]=y.useState(1),[C,w]=y.useState(!1),[S,N]=y.useState(0),T=y.useMemo(()=>{const le=new Map;return a.forEach(q=>{q.goalCategory&&!le.has(q.goalCategory)&&le.set(q.goalCategory,q.goalCategory)}),Array.from(le.values()).map(q=>({name:q,code:q}))},[a]),k=y.useMemo(()=>{var O;let le=[...a];if(r==="today"&&(le=le.filter(ee=>ee.isWorkingToday)),c.trim()){const ee=c.trim().toLowerCase();le=le.filter(Q=>Q.goalTitle.toLowerCase().includes(ee))}m.length>0&&(le=le.filter(ee=>m.includes(ee.goalCategory)));const q=(O=Wy[d])==null?void 0:O.value;return q==="progress_desc"?le.sort((ee,Q)=>Q.progressPercentage-ee.progressPercentage):q==="progress_asc"?le.sort((ee,Q)=>ee.progressPercentage-Q.progressPercentage):q==="title_asc"?le.sort((ee,Q)=>ee.goalTitle.localeCompare(Q.goalTitle)):q==="last_updated_desc"&&le.sort((ee,Q)=>(Q.lastUpdated||"").localeCompare(ee.lastUpdated||"")),le},[a,r,c,m,d]),I=le=>u(le),A=le=>h(le),x=le=>f(le),{setIsOpen:D,setWindow:P,setModalProps:M}=cn,R=async(le=1)=>{l(le===1),w(le>1);try{const q=await Ah({page:le});if(q.success&&q.data){const O=q.data;Array.isArray(O)?(s(O),v({itemsPerPage:O.length,page:1,totalPages:1,totalItems:O.length}),N(O.filter(ee=>ee.isWorkingToday).length)):(s(O.data),v(O.pagination),E(O.pagination.page),O.todayCount!==void 0?N(O.todayCount):N(O.data.filter(ee=>ee.isWorkingToday).length))}}catch(q){console.error("Ошибка загрузки целей в процессе:",q)}finally{l(!1),w(!1)}};y.useEffect(()=>{R()},[]);const F=le=>{P("progress-update"),D(!0),M({goalId:le.goal,goalTitle:le.goalTitle,currentProgress:le,onProgressUpdate:q=>{q.progressPercentage>=100?s(a.filter(O=>O.id!==q.id)):s(a.map(O=>O.id===q.id?q:O))},onGoalCompleted:()=>{s(a.filter(q=>q.id!==le.id))}})},U=async le=>{try{const q=await Ao(le.goal,{progress_percentage:le.progressPercentage,daily_notes:le.dailyNotes||"",is_working_today:!le.isWorkingToday});q.success&&q.data&&s(a.map(O=>O.id===le.id?q.data:O))}catch(q){console.error("Ошибка отметки «работаю сегодня»:",q)}},$=async le=>{try{(await Ao(le.goal,{progress_percentage:100,daily_notes:le.dailyNotes||"",is_working_today:!0})).success&&await R(_)}catch(q){console.error("Ошибка отметки цели как выполненной:",q)}},H=async le=>(await R(le),zs.scrollTo("user-self-progress-goals",{duration:800,delay:0,smooth:"easeInOutQuart",offset:-150}),!0);if(i&&a.length===0)return o(Tt,{isLoading:!0,isPageLoader:!0});const K=[{url:"#today",name:"Работаю сегодня",page:"today",count:S},{url:"#all",name:"Все цели",page:"all",count:(L=g==null?void 0:g.totalItems)!=null?L:a.length}];return p("section",{className:e(),children:[o("div",{className:t("header"),children:o(ke,{tag:"h2",className:t("title"),children:"Прогресс целей"})}),p("div",{className:t("content"),children:[p("div",{className:"catalog-items__filters",children:[o(gl,{className:"catalog-items__switch",buttons:K,active:r}),o(at,{className:"catalog-items__line"}),p("div",{className:"catalog-items__search-wrapper catalog-items__search-wrapper--wrap-on-lg",children:[o(He,{className:"catalog-items__search",placeholder:"Поиск по названию цели",id:"user-self-progress-search",value:c,setValue:I,iconBegin:"search"}),p("div",{className:"catalog-items__categories-wrapper",children:[T.length>0&&o(ed,{head:{name:"Все категории",code:"all"},items:T,onFinish:A,multipleSelectedText:["категория","категории","категорий"],multipleThreshold:1}),o(qt,{options:Wy,activeOption:d,onSelect:x,filter:!0})]})]})]}),o(Oh,{active:C,children:a.length===0?o(jt,{title:"Нет целей в процессе",description:"Начните выполнение целей, чтобы отслеживать прогресс здесь",children:o(z,{theme:"blue",type:"Link",href:"/user/self/active-goals",children:"Перейти к активным целям"})}):k.length===0?o(jt,{title:r==="today"?"Нет целей «работаю сегодня»":"Нет целей по фильтрам",description:"Измените фильтры или поиск"}):o("div",{className:t("goals-grid"),id:"user-self-progress-goals",children:k.map(le=>o(Vw,{variant:"progress",progressGoal:le,onOpenProgressModal:()=>F(le),onMarkToday:()=>U(le),onMarkCompleted:()=>$(le),className:"catalog-items__goal catalog-items__goal--full"},le.id))})}),g&&g.totalPages>1&&o(Xc,{currentPage:_,totalPages:g.totalPages,goToPage:H})]})]})});const tW=ze(({className:e})=>{var le;const[t,n]=J("user-self-regular",e),a=Hi().hash==="#all"?"all":"today",[s,i]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(""),[f,m]=y.useState(0),[h,g]=y.useState([]),[v,_]=y.useState(null),[E,C]=y.useState(1),w=[{name:"Новые",value:"created_at_desc"},{name:"Старые",value:"created_at_asc"},{name:"Лучший прогресс",value:"progress_desc"}],S=async(q=1)=>{c(!0);try{const O=await Dc({page:q});if(O.success&&O.data){const ee=O.data;Array.isArray(ee)?(i(ee),_({itemsPerPage:ee.length,page:1,totalPages:1,totalItems:ee.length})):(i(ee.data),_(ee.pagination),C(ee.pagination.page))}}catch(O){me.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить регулярные цели"})}finally{c(!1)}};y.useEffect(()=>{S()},[]);const N=y.useMemo(()=>{const q=new Map;return s.forEach(O=>{if(O!=null&&O.regularGoalData.goalCategory){const ee=O.regularGoalData.goalCategory;q.has(ee)||q.set(ee,ee)}}),Array.from(q.values()).map(O=>({name:O,code:O}))},[s]),T=()=>{var ee;let q=[...s];if(u.trim()){const Q=u.trim().toLowerCase();q=q.filter(oe=>oe==null?void 0:oe.regularGoalData.goalTitle.toLowerCase().includes(Q))}h.length>0&&(q=q.filter(Q=>h.includes(Q.regularGoalData.goalCategory)));const O=(ee=w[f])==null?void 0:ee.value;return O==="created_at_desc"?q.sort((Q,oe)=>(oe.regularGoalData.createdAt||"").localeCompare(Q.regularGoalData.createdAt||"")):O==="created_at_asc"?q.sort((Q,oe)=>(Q.regularGoalData.createdAt||"").localeCompare(oe.regularGoalData.createdAt||"")):O==="progress_desc"&&q.sort((Q,oe)=>(oe.completionPercentage||0)-(Q.completionPercentage||0)),q},k=async q=>{m(q)},I=q=>{d(q)},A=async q=>{g(q)},x=async q=>{try{const O=q.currentPeriodProgress;let ee=!1;(O==null?void 0:O.type)==="daily"?ee=O.completedToday||!1:ee=!q.canCompleteToday||!1;const Q=!ee,oe=await Ph({regular_goal_id:q.regularGoal,completed:Q,notes:""});oe.success&&oe.data&&(await S(E),me.addNotification({type:"success",title:"Успешно!",message:"Прогресс отмечен"}))}catch(O){me.addNotification({type:"error",title:"Ошибка",message:"Не удалось отметить прогресс"})}},D=async q=>{try{(await sb(q.regularGoal)).success&&(await S(),me.addNotification({type:"success",title:"Успешно!",message:"Серия начата заново"}))}catch(O){me.addNotification({type:"error",title:"Ошибка",message:"Не удалось начать серию заново"})}},P=()=>T().filter(q=>{var ee;if(!q)return!1;const O=((ee=q.currentPeriodProgress)==null?void 0:ee.completedToday)||!1;return q.canCompleteToday||O}).sort((q,O)=>{var oe,V;const ee=((oe=q.currentPeriodProgress)==null?void 0:oe.completedToday)||!1,Q=((V=O.currentPeriodProgress)==null?void 0:V.completedToday)||!1;return ee===Q?0:ee?1:-1}),M=()=>T(),R=P(),F=M(),U=[{url:"#today",name:"На сегодня",page:"today",count:R.length},{url:"#all",name:"Все цели",page:"all",count:(le=v==null?void 0:v.totalItems)!=null?le:F.length}],$=(q,O)=>{const ee=O.find(oe=>oe.name===q);return ee||O.filter(oe=>oe.children&&oe.children.length>0).map(oe=>$(q,oe.children)).find(oe=>oe!==null)||null},H=q=>{const O=q.regularGoalData.goalCategory,ee=$(O,ub.categoriesTree),Q=(ee==null?void 0:ee.nameEn)||O;return{id:q.regularGoalData.goal,title:q.regularGoalData.goalTitle,description:"",shortDescription:"",category:{id:(ee==null?void 0:ee.id)||0,name:O,nameEn:Q,parentCategory:(ee==null?void 0:ee.parentCategory)||null},complexity:"medium",image:q.regularGoalData.goalImage,code:q.regularGoalData.goalCode,estimatedTime:void 0,createdBy:{id:q.user,username:q.userUsername,avatar:void 0},location:void 0,totalAdded:0,totalCompleted:0,addedByUser:!0,completedByUser:!1,createdAt:q.regularGoalData.createdAt,addedFromList:[],timer:null,userVisitedLocation:!1,progressPercentage:0,isCompletedByUser:!1,isDailyGoal:!1,userFolders:[],regularConfig:{id:q.regularGoal,frequency:q.regularGoalData.frequency,weeklyFrequency:q.regularGoalData.weeklyFrequency,customSchedule:q.regularGoalData.customSchedule,durationType:q.regularGoalData.durationType,durationValue:q.regularGoalData.durationValue,endDate:q.regularGoalData.endDate,allowSkipDays:q.regularGoalData.allowSkipDays,resetOnSkip:q.regularGoalData.resetOnSkip,isActive:q.regularGoalData.isActive,createdAt:q.regularGoalData.createdAt,statistics:q},createdByUser:!0,isCanEdit:!1,totalComments:0,totalLists:0,categoryRank:1,totalAdditions:0}},K=(q,O)=>q.length===0?o(jt,{title:O,className:n("empty-section")}):o("div",{className:n("goals-grid"),children:q.map(ee=>{const Q=H(ee);return o(Vw,{regularGoal:Q,statistics:ee,onMarkRegular:()=>x(ee),onRestart:()=>D(ee),className:"catalog-items__goal catalog-items__goal--full"},ee.regularGoal)})}),L=async q=>(await S(q),zs.scrollTo("user-self-regular-goals",{duration:800,delay:0,smooth:"easeInOutQuart",offset:-150}),!0);return l&&s.length===0?o(Tt,{isLoading:!0,isPageLoader:!0}):!l&&s.length===0?p("div",{className:t(),children:[o(ke,{tag:"h2",className:n("title"),children:"Регулярные цели"}),o(jt,{title:"У вас пока нет регулярных целей",description:"Создайте цель и настройте для неё регулярность выполнения!"})]}):p("div",{className:t(),children:[o("div",{className:n("header"),children:o(ke,{tag:"h2",className:n("title"),children:"Регулярные цели"})}),p("div",{className:n("content"),children:[p("div",{className:"catalog-items__filters",children:[o(gl,{className:"catalog-items__switch",buttons:U,active:a}),o(at,{className:"catalog-items__line"}),p("div",{className:"catalog-items__search-wrapper catalog-items__search-wrapper--wrap-on-lg",children:[o(He,{className:"catalog-items__search",placeholder:"Поиск по названию цели",id:"user-self-regular-search",value:u,setValue:I,iconBegin:"search"}),p("div",{className:"catalog-items__categories-wrapper",children:[N.length>0&&o(ed,{head:{name:"Все категории",code:"all"},items:N,onFinish:A,multipleSelectedText:["категория","категории","категорий"],multipleThreshold:1}),o(qt,{options:w,activeOption:f,onSelect:k,filter:!0})]})]})]}),o(Oh,{active:l,children:o("div",{id:"user-self-regular-goals",children:a==="today"?K(R,"На сегодня нет регулярных целей"):K(F,"Нет регулярных целей")})}),v&&v.totalPages>1&&o(Xc,{currentPage:E,totalPages:v.totalPages,goToPage:L})]})]})}),nW=async()=>await Xn("users/avatar/delete",{auth:!0}),rW=async e=>await tt("users/avatar/upload",{body:e,auth:!0,file:!0}),aW=async e=>await tt("users/cover/upload",{body:e,auth:!0,file:!0}),sW=async e=>await cr("users/update-profile",{body:e,auth:!0}),ec=[{name:"Афганистан",value:"AF"},{name:"Аландские острова",value:"AX"},{name:"Албания",value:"AL"},{name:"Алжир",value:"DZ"},{name:"Американское Самоа",value:"AS"},{name:"Андорра",value:"AD"},{name:"Ангола",value:"AO"},{name:"Ангилья",value:"AI"},{name:"Антарктика",value:"AQ"},{name:"Антигуа и Барбуда",value:"AG"},{name:"Аргентина",value:"AR"},{name:"Армения",value:"AM"},{name:"Аруба",value:"AW"},{name:"Австралия",value:"AU"},{name:"Австрия",value:"AT"},{name:"Азербайджан",value:"AZ"},{name:"Багамы",value:"BS"},{name:"Бахрейн",value:"BH"},{name:"Бангладеш",value:"BD"},{name:"Барбадос",value:"BB"},{name:"Беларусь",value:"BY"},{name:"Бельгия",value:"BE"},{name:"Белиз",value:"BZ"},{name:"Бенин",value:"BJ"},{name:"Бермудские острова",value:"BM"},{name:"Бутан",value:"BT"},{name:"Боливия",value:"BO"},{name:"Бонэйр, Синт-Эстатиус и Саба",value:"BQ"},{name:"Босния и Герцеговина",value:"BA"},{name:"Ботсвана",value:"BW"},{name:"Буве",value:"BV"},{name:"Бразилия",value:"BR"},{name:"Британская территория в Индийском океане",value:"IO"},{name:"Бруней",value:"BN"},{name:"Болгария",value:"BG"},{name:"Буркина-Фасо",value:"BF"},{name:"Бурунди",value:"BI"},{name:"Камбоджа",value:"KH"},{name:"Камерун",value:"CM"},{name:"Канада",value:"CA"},{name:"Кабо-Верде",value:"CV"},{name:"Каймановы острова",value:"KY"},{name:"Центральноафриканская Республика",value:"CF"},{name:"Чад",value:"TD"},{name:"Чили",value:"CL"},{name:"Китай",value:"CN"},{name:"Остров Рождества",value:"CX"},{name:"Кокосовые (Килинг) острова",value:"CC"},{name:"Колумбия",value:"CO"},{name:"Коморы",value:"KM"},{name:"Конго",value:"CG"},{name:"Конго (Демократическая Республика)",value:"CD"},{name:"Острова Кука",value:"CK"},{name:"Коста-Рика",value:"CR"},{name:"Кот-д'Ивуар",value:"CI"},{name:"Хорватия",value:"HR"},{name:"Куба",value:"CU"},{name:"Кюрасао",value:"CW"},{name:"Кипр",value:"CY"},{name:"Чехия",value:"CZ"},{name:"Дания",value:"DK"},{name:"Джибути",value:"DJ"},{name:"Доминика",value:"DM"},{name:"Доминиканская Республика",value:"DO"},{name:"Эквадор",value:"EC"},{name:"Египет",value:"EG"},{name:"Сальвадор",value:"SV"},{name:"Экваториальная Гвинея",value:"GQ"},{name:"Эритрея",value:"ER"},{name:"Эстония",value:"EE"},{name:"Эфиопия",value:"ET"},{name:"Фолклендские (Мальвинские) острова",value:"FK"},{name:"Фарерские острова",value:"FO"},{name:"Фиджи",value:"FJ"},{name:"Финляндия",value:"FI"},{name:"Франция",value:"FR"},{name:"Французская Гвиана",value:"GF"},{name:"Французская Полинезия",value:"PF"},{name:"Французские Южные территории",value:"TF"},{name:"Габон",value:"GA"},{name:"Гамбия",value:"GM"},{name:"Грузия",value:"GE"},{name:"Германия",value:"DE"},{name:"Гана",value:"GH"},{name:"Гибралтар",value:"GI"},{name:"Греция",value:"GR"},{name:"Гренландия",value:"GL"},{name:"Гренада",value:"GD"},{name:"Гваделупа",value:"GP"},{name:"Гуам",value:"GU"},{name:"Гватемала",value:"GT"},{name:"Гернси",value:"GG"},{name:"Гвинея",value:"GN"},{name:"Гвинея-Бисау",value:"GW"},{name:"Гайана",value:"GY"},{name:"Гаити",value:"HT"},{name:"Остров Херд и острова Макдональд",value:"HM"},{name:"Ватикан",value:"VA"},{name:"Гондурас",value:"HN"},{name:"Гонконг",value:"HK"},{name:"Венгрия",value:"HU"},{name:"Исландия",value:"IS"},{name:"Индия",value:"IN"},{name:"Индонезия",value:"ID"},{name:"Иран",value:"IR"},{name:"Ирак",value:"IQ"},{name:"Ирландия",value:"IE"},{name:"Остров Мэн",value:"IM"},{name:"Израиль",value:"IL"},{name:"Италия",value:"IT"},{name:"Ямайка",value:"JM"},{name:"Япония",value:"JP"},{name:"Джерси",value:"JE"},{name:"Иордания",value:"JO"},{name:"Казахстан",value:"KZ"},{name:"Кения",value:"KE"},{name:"Кирибати",value:"KI"},{name:"Северная Корея",value:"KP"},{name:"Южная Корея",value:"KR"},{name:"Кувейт",value:"KW"},{name:"Киргизия",value:"KG"},{name:"Лаос",value:"LA"},{name:"Латвия",value:"LV"},{name:"Ливан",value:"LB"},{name:"Лесото",value:"LS"},{name:"Либерия",value:"LR"},{name:"Ливия",value:"LY"},{name:"Лихтенштейн",value:"LI"},{name:"Литва",value:"LT"},{name:"Люксембург",value:"LU"},{name:"Макао",value:"MO"},{name:"Македония",value:"MK"},{name:"Мадагаскар",value:"MG"},{name:"Малави",value:"MW"},{name:"Малайзия",value:"MY"},{name:"Мальдивы",value:"MV"},{name:"Мали",value:"ML"},{name:"Мальта",value:"MT"},{name:"Маршалловы острова",value:"MH"},{name:"Мартиника",value:"MQ"},{name:"Мавритания",value:"MR"},{name:"Маврикий",value:"MU"},{name:"Майотта",value:"YT"},{name:"Мексика",value:"MX"},{name:"Микронезия",value:"FM"},{name:"Молдавия",value:"MD"},{name:"Монако",value:"MC"},{name:"Монголия",value:"MN"},{name:"Черногория",value:"ME"},{name:"Монтсеррат",value:"MS"},{name:"Марокко",value:"MA"},{name:"Мозамбик",value:"MZ"},{name:"Мьянма",value:"MM"},{name:"Намибия",value:"NA"},{name:"Науру",value:"NR"},{name:"Непал",value:"NP"},{name:"Нидерланды",value:"NL"},{name:"Новая Каледония",value:"NC"},{name:"Новая Зеландия",value:"NZ"},{name:"Никарагуа",value:"NI"},{name:"Нигер",value:"NE"},{name:"Нигерия",value:"NG"},{name:"Ниуэ",value:"NU"},{name:"Норфолк",value:"NF"},{name:"Северные Марианские острова",value:"MP"},{name:"Норвегия",value:"NO"},{name:"Оман",value:"OM"},{name:"Пакистан",value:"PK"},{name:"Палау",value:"PW"},{name:"Палестина",value:"PS"},{name:"Панама",value:"PA"},{name:"Папуа — Новая Гвинея",value:"PG"},{name:"Парагвай",value:"PY"},{name:"Перу",value:"PE"},{name:"Филиппины",value:"PH"},{name:"Острова Питкэрн",value:"PN"},{name:"Польша",value:"PL"},{name:"Португалия",value:"PT"},{name:"Пуэрто-Рико",value:"PR"},{name:"Катар",value:"QA"},{name:"Реюньон",value:"RE"},{name:"Румыния",value:"RO"},{name:"Россия",value:"RU"},{name:"Руанда",value:"RW"},{name:"Сен-Бартелеми",value:"BL"},{name:"Остров Святой Елены",value:"SH"},{name:"Сент-Китс и Невис",value:"KN"},{name:"Сент-Люсия",value:"LC"},{name:"Сен-Мартен",value:"MF"},{name:"Сен-Пьер и Микелон",value:"PM"},{name:"Сент-Винсент и Гренадины",value:"VC"},{name:"Самоа",value:"WS"},{name:"Сан-Марино",value:"SM"},{name:"Сан-Томе и Принсипи",value:"ST"},{name:"Саудовская Аравия",value:"SA"},{name:"Сенегал",value:"SN"},{name:"Сербия",value:"RS"},{name:"Сейшельские острова",value:"SC"},{name:"Сьерра-Леоне",value:"SL"},{name:"Сингапур",value:"SG"},{name:"Синт-Мартен",value:"SX"},{name:"Словакия",value:"SK"},{name:"Словения",value:"SI"},{name:"Соломоновы острова",value:"SB"},{name:"Сомали",value:"SO"},{name:"Южно-Африканская Республика",value:"ZA"},{name:"Южная Георгия и Южные Сандвичевы острова",value:"GS"},{name:"Южный Судан",value:"SS"},{name:"Испания",value:"ES"},{name:"Шри-Ланка",value:"LK"},{name:"Судан",value:"SD"},{name:"Суринам",value:"SR"},{name:"Шпицберген и Ян-Майен",value:"SJ"},{name:"Свазиленд",value:"SZ"},{name:"Швеция",value:"SE"},{name:"Швейцария",value:"CH"},{name:"Сирия",value:"SY"},{name:"Тайвань",value:"TW"},{name:"Таджикистан",value:"TJ"},{name:"Танзания",value:"TZ"},{name:"Таиланд",value:"TH"},{name:"Восточный Тимор",value:"TL"},{name:"Того",value:"TG"},{name:"Токелау",value:"TK"},{name:"Тонга",value:"TO"},{name:"Тринидад и Тобаго",value:"TT"},{name:"Тунис",value:"TN"},{name:"Турция",value:"TR"},{name:"Туркмения",value:"TM"},{name:"Теркс и Кайкос",value:"TC"},{name:"Тувалу",value:"TV"},{name:"Уганда",value:"UG"},{name:"Украина",value:"UA"},{name:"Объединенные Арабские Эмираты",value:"AE"},{name:"Великобритания",value:"GB"},{name:"Соединенные Штаты Америки",value:"US"},{name:"Малые Тихоокеанские отдаленные острова США",value:"UM"},{name:"Уругвай",value:"UY"},{name:"Узбекистан",value:"UZ"},{name:"Вануату",value:"VU"},{name:"Венесуэла",value:"VE"},{name:"Вьетнам",value:"VN"},{name:"Виргинские острова (Великобритания)",value:"VG"},{name:"Виргинские острова (США)",value:"VI"},{name:"Уоллис и Футуна",value:"WF"},{name:"Западная Сахара",value:"EH"},{name:"Йемен",value:"YE"},{name:"Замбия",value:"ZM"},{name:"Зимбабве",value:"ZW"}];const iW=ze(()=>{var q;const{userSelf:e,setUserSelf:t,setAvatar:n,setName:r,email:a}=Rt,{setWindow:s,setIsOpen:i}=cn,[l,c]=y.useState(e.firstName),[u,d]=y.useState(e.lastName),[f,m]=y.useState((q=e.username)!=null?q:""),[h,g]=y.useState(e.aboutMe),[v,_]=y.useState(null),E=y.useRef(null),C=y.useRef(null),[w,S]=J("user-self-settings");y.useEffect(()=>{var O;c(e.firstName),d(e.lastName),m((O=e.username)!=null?O:""),g(e.aboutMe),e.country&&_(ec.findIndex(ee=>ee.value===e.country))},[e]);const N=O=>{const{id:ee,value:Q}=O.target;switch(ee){case"name":c(Q);break;case"surname":d(Q);break;case"username":m(Q);break;case"about":g(Q);break}},T=O=>{if(O&&O.length>0){const ee=new FormData;ee.append("avatar",O[0],O[0].name),(async()=>(await rW(ee)).success&&(t({...e,avatar:dt.get("avatar")||""}),n(dt.get("avatar")||"")))()}},k=O=>{if(O&&O.length>0){const ee=new FormData;ee.append("cover",O[0],O[0].name),(async()=>(await aW(ee)).success&&t({...e,coverImage:dt.get("cover")||null}))()}},I=()=>{E.current&&E.current.click()},A=()=>{C.current&&C.current.click()},x=O=>{O.target.files&&T(O.target.files)},D=O=>{O.target.files&&k(O.target.files)},P=async()=>{(await nW()).success&&t({...e,avatar:dt.get("avatar")||""})},M=async()=>{var ee,Q;const O={};if(l!==e.firstName&&(O.firstName=l),u!==e.lastName&&(O.lastName=u),f!==((ee=e.username)!=null?ee:"")&&(O.username=f.trim()||void 0),v!==null&&ec[v].value!==e.country&&(O.country=ec[v].value),h!==e.aboutMe&&(O.aboutMe=h),Object.keys(O).length>0){const oe=await sW(O);if(oe.success&&oe.data){t(oe.data);const V=(Q=oe.data.name)!=null?Q:oe.data.username;V&&(r(V),dt.set("name",V))}}},R=()=>{s("change-password"),i(!0)},[F,U]=y.useState(!1),[$,H]=y.useState(!1),[K,L]=y.useState(0);y.useEffect(()=>{if(K<=0)return;const O=setInterval(()=>L(ee=>Math.max(0,ee-1)),1e3);return()=>clearInterval(O)},[K]);const le=async()=>{var ee;U(!0);const O=await rb();if(U(!1),O.success&&O.data){if(O.data.is_email_confirmed===!0){t({...e,isEmailConfirmed:!0});return}H(!0),setTimeout(()=>H(!1),3e3),L((ee=O.data.retry_after_seconds)!=null?ee:120)}};return p("section",{className:w(),children:[o(ke,{tag:"h2",className:S("title"),children:"Настройки"}),p("section",{className:S("edit-fields"),children:[o("div",{style:{backgroundImage:"url('".concat(e.coverImage,"')")},className:S("bg"),children:o("div",{className:S("btn-cover"),onClick:A,role:"button",tabIndex:0,"aria-label":"Изменить обложку",onKeyPress:O=>{(O.key==="Enter"||O.key===" ")&&A()},children:p(as,{onDrop:O=>O&&k(O),children:[o("input",{type:"file",style:{display:"none"},ref:C,onChange:D,accept:"image/*"}),o(z,{theme:"blue-light",icon:"image-edit",size:"small",children:"Изменить обложку"})]})})}),p("section",{className:S("avatar-wrapper"),children:[o(Jn,{avatar:e.avatar,className:S("avatar"),size:"large",isPremium:e.subscriptionType==="premium"}),p("div",{className:S("avatar-buttons"),children:[o("div",{onClick:I,role:"button",tabIndex:0,"aria-label":"Изменить фотографию",onKeyPress:O=>{(O.key==="Enter"||O.key===" ")&&I()},children:p(as,{onDrop:O=>O&&T(O),children:[o("input",{type:"file",style:{display:"none"},ref:E,onChange:x,accept:"image/*"}),o(z,{icon:"image-edit",theme:"blue",size:"small",children:"Изменить фото"})]})}),o(z,{className:S("delete-avatar"),icon:"trash",theme:"blue-light",onClick:P,size:"small",children:"Удалить фото"})]})]}),o(at,{margin:"24px 0"}),p("section",{className:S("info"),children:[o(ke,{tag:"h3",className:S("title"),children:"Информация пользователя"}),p("div",{className:S("input-group"),children:[o(He,{text:"Имя в системе",placeholder:"Имя в системе, которое увидят другие",id:"username",value:f||e.username||"",setValueTarget:N}),o(He,{text:"Имя",placeholder:"Имя",id:"name",value:l,setValueTarget:N}),o(He,{text:"Фамилия",placeholder:"Фамилия",id:"surname",value:u,setValueTarget:N}),o("div",{children:o(qt,{text:"Страна",options:ec,activeOption:v,onSelect:_,className:S("country")})}),p("div",{className:S("email-field"),children:[o(He,{text:"Email",placeholder:"Email",id:"email",type:"email",value:e.email||a,setValue:()=>{},disabled:!0,className:S("email-input")}),o("div",{className:S("email-status"),children:e.isEmailConfirmed?o("span",{className:S("email-confirmed"),children:"✓ Email подтвержден"}):o("div",{className:S("email-not-confirmed"),children:p("div",{className:S("email-not-confirmed-row"),children:[o("span",{className:S("email-warning"),children:"⚠ Email не подтвержден - отправьте письмо для подтверждения"}),o(z,{theme:"blue-light",size:"small",onClick:le,disabled:F||K>0,className:S("resend-btn"),children:F?"Отправка...":$?"Отправлено!":K>0?"Повтор через ".concat(K," с"):"Отправить письмо"})]})})})]}),o(He,{text:"Обо мне",type:"textarea",placeholder:"Напишите пару слов о себе...",id:"about",value:h,setValueTarget:N,className:S("about")})]}),o(z,{className:S("btn-save"),theme:"blue",onClick:M,children:"Сохранить изменения"}),o(at,{margin:"24px 0"}),o(ke,{tag:"h3",className:S("title"),children:"Безопасность и вход"}),o(z,{theme:"no-border",icon:"lock",onClick:R,children:"Изменить пароль"})]})]})]})}),Yy=async()=>{try{const e=await Ue("user",{auth:!0});return e.success&&e.data?{success:!0,data:{subscriptionType:e.data.subscriptionType||"free",subscriptionExpiresAt:e.data.subscriptionExpiresAt||null,subscriptionAutoRenew:e.data.subscriptionAutoRenew||!1}}:{success:!1,error:"Не удалось получить информацию о подписке"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Неизвестная ошибка"}}},oW=async e=>{try{return await cr("subscription/update",{body:e,auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},lW=async(e,t)=>{try{const n=await tt("payment/create",{body:{period_months:e,auto_renew:t},auth:!0,showSuccessNotification:!1});return n.success&&n.data?{success:!0,data:{paymentId:n.data.paymentId,amount:n.data.amount,periodMonths:n.data.periodMonths,autoRenew:n.data.autoRenew,expiresAt:n.data.expiresAt}}:{success:!1,error:n.error||"Не удалось создать платеж"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}},cW=async e=>{try{const t=await Ue("payment/status",{auth:!0,get:{payment_id:e},showSuccessNotification:!1});return t.success&&t.data?{success:!0,data:{paymentId:t.data.paymentId,status:t.data.status,amount:t.data.amount,periodMonths:t.data.periodMonths,createdAt:t.data.createdAt,paidAt:t.data.paidAt,expiresAt:t.data.expiresAt}}:{success:!1,error:t.error||"Не удалось проверить статус платежа"}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},uW=async e=>{try{return await tt("payment/confirm",{body:{payment_id:e},auth:!0,showSuccessNotification:!1})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}};const dW=ze(({type:e,expiresAt:t,isAutoRenew:n,onToggleAutoRenew:r})=>{const[a,s]=J("current-subscription"),[i,l]=y.useState(!1),c=d=>new Date(d).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}),u=()=>{r&&r(!1)};return p(nt,{children:[p("div",{className:a(),children:[o(ie,{icon:e==="premium"?"award":"rocket",className:s("icon",{premium:e==="premium"})}),p("div",{className:s("content"),children:[p("div",{className:s("text"),children:[o("strong",{children:"Текущая подписка:"})," ",e==="premium"?"Премиум":"Базовый",e==="premium"&&t&&" • Действует до ".concat(c(t)),n&&e==="premium"&&" • Автопродление включено"]}),e==="premium"&&n&&o("div",{className:s("auto-renew-control"),children:o(z,{theme:"blue",size:"small",className:s("disable-button"),onClick:()=>l(!0),children:"Отключить автопродление"})})]})]}),o(Rr,{isOpen:i,onClose:()=>l(!1),title:"Отключить автопродление?",text:"Вы уверены, что хотите отключить автоматическое продление подписки? \n          После окончания текущего периода подписка не будет продлена автоматически.",textBtn:"Отключить",themeBtn:"red",handleBtn:u})]})});const fW=ze(({isOpen:e,onClose:t,payment:n,onPaymentSuccess:r})=>{const[a,s]=J("qr-payment-modal"),[i,l]=y.useState(!1),[c,u]=y.useState("pending"),[d,f]=y.useState(!1),m=y.useRef(null);y.useEffect(()=>{n&&(m.current=n.paymentId,u("pending"),f(!1))},[n==null?void 0:n.paymentId]);const h=y.useCallback(()=>{r&&r()},[r]),g=y.useCallback(()=>{t()},[t]);return y.useEffect(()=>{if(!e||!n||c==="paid")return;(async()=>{if(!(i||!m.current)){l(!0);try{const _=await cW(m.current);_.success&&_.data&&(f(!0),_.data.status!==c&&(u(_.data.status),_.data.status==="paid"&&(await uW(m.current)).success&&(h(),setTimeout(()=>{g()},2e3))))}catch(_){console.error("Ошибка при проверке статуса платежа:",_)}finally{l(!1)}}})()},[e,n==null?void 0:n.paymentId,h,g]),!e||!n?null:p(xr,{isOpen:e,onClose:t,className:a(),size:"small",children:[o("div",{className:s("header"),children:o(ke,{tag:"h2",className:s("title"),children:"Оплата по QR-коду"})}),o("div",{className:s("content"),children:c==="paid"?p("div",{className:s("success"),children:[o(ie,{icon:"check",className:s("success-icon")}),o("p",{className:s("success-text"),children:"Оплата успешно подтверждена!"}),o("p",{className:s("success-subtext"),children:"Ваша подписка активирована"})]}):p(nt,{children:[p("div",{className:s("placeholder"),children:[o(ie,{icon:"crying",className:s("placeholder-icon")}),o("p",{className:s("placeholder-title"),children:"Подключение Premium временно недоступно"}),o("p",{className:s("placeholder-text"),children:"Используйте бесплатный режим. Приносим извинения и уже работаем над решением."})]}),p("div",{className:s("info"),children:[p("div",{className:s("info-item"),children:[o("span",{className:s("info-label"),children:"Сумма:"}),p("span",{className:s("info-value"),children:[n.amount,"₽"]})]}),p("div",{className:s("info-item"),children:[o("span",{className:s("info-label"),children:"Период:"}),p("span",{className:s("info-value"),children:[n.periodMonths," ",n.periodMonths===1?"месяц":n.periodMonths<5?"месяца":"месяцев"]})]}),p("div",{className:s("info-item"),children:[o("span",{className:s("info-label"),children:"Автоподписка:"}),o("span",{className:s("info-value"),children:n.autoRenew?"Включено":"Отключено"})]})]}),p("div",{className:s("instructions"),children:[o(ie,{icon:"info",className:s("instructions-icon")}),p("div",{children:[o("p",{className:s("instructions-title"),children:"Инструкция по оплате:"}),p("ol",{className:s("instructions-list"),children:[o("li",{children:"Откройте приложение вашего банка"}),o("li",{children:'Найдите функцию "Оплата по QR-коду" или "Сканировать QR"'}),o("li",{children:"Отсканируйте QR-код выше"}),o("li",{children:"Проверьте данные и подтвердите оплату"}),o("li",{children:"Статус оплаты обновится автоматически"})]})]})]}),o("div",{className:s("status"),children:c==="pending"&&p("div",{className:s("status-wrapper"),children:[o("div",{className:s("status-loader")}),o("p",{className:s("status-text"),children:d?"Ожидание оплаты...":"Проверка статуса оплаты..."})]})})]})}),c!=="paid"&&o("div",{className:s("footer"),children:o(z,{theme:"blue-light",className:s("btn"),onClick:t,type:"button",children:"Отмена"})})]})});const hW=ze(()=>{const[e,t]=J("user-self-subscription"),[n,r]=y.useState(!1),[a,s]=y.useState(!1),[i,l]=y.useState(null),[c,u]=y.useState({type:"free",expiresAt:null,isAutoRenew:!1}),[d,f]=y.useState(!0);y.useEffect(()=>{(async()=>{f(!0);const _=await Yy();_.success&&_.data&&u({type:_.data.subscriptionType,expiresAt:_.data.subscriptionExpiresAt,isAutoRenew:_.data.subscriptionAutoRenew}),f(!1)})()},[]);const m=async(v,_)=>{const E=await lW(v,_);E.success&&E.data?(l(E.data),s(!0)):alert(E.error||"Не удалось создать платеж")},h=async()=>{const v=await Yy();v.success&&v.data&&u({type:v.data.subscriptionType,expiresAt:v.data.subscriptionExpiresAt,isAutoRenew:v.data.subscriptionAutoRenew})},g=async v=>{(await oW({subscription_auto_renew:v})).success?u(E=>({...E,isAutoRenew:v})):alert("Не удалось изменить настройки автопродления")};return p("section",{className:e(),children:[p("div",{className:t("header"),children:[o(ke,{tag:"h2",className:t("title"),children:"Подписка"}),o(z,{theme:"blue",size:"small",icon:"bullseye",onClick:()=>r(!0),children:"Сравнить тарифы"})]}),!d&&p(nt,{children:[o(dW,{type:c.type,expiresAt:c.expiresAt,isAutoRenew:c.isAutoRenew,onToggleAutoRenew:g}),p("div",{className:t("plans"),children:[o(nu,{type:"free",title:"Базовый",subtitle:"Для тех, кто делает первые шаги в лучшую жизнь",features:Hw,isCurrent:c.type==="free"}),o(nu,{type:"premium",title:"Премиум",subtitle:"Максимум возможностей для ваших достижений",features:Gw,isCurrent:c.type==="premium",isRecommended:c.type!=="premium"})]}),c.type==="free"&&o(Ww,{periods:Uw,onPayment:m})]}),o($w,{isOpen:n,onClose:()=>r(!1)}),o(fW,{isOpen:a,onClose:()=>{s(!1),l(null)},payment:i,onPaymentSuccess:h})]})});const mW=ze(({page:e,subPage:t})=>{var C,w,S,N,T;const[n,r]=J("user-self"),a=()=>{switch(e){case"isUserSelfActive":return o(Gy,{subPage:t,completed:!1});case"isUserSelfDone":return o(Gy,{subPage:t,completed:!0});case"isUserSelfSettings":return o(iW,{});case"isUserSelfAchievements":return o(w$,{});case"isUserSelfFriends":return o(z$,{subPage:t});case"isUserSelfFolders":return o(B$,{});case"isUserSelfProgress":return o(eW,{});case"isUserSelfMaps":return o(b$,{});case"isUserSelfRegular":return o(tW,{});case"isUserSelfSubs":return o(hW,{});default:return o(P$,{})}},{userSelf:s}=Rt,i=s.totalAddedGoals+s.totalAddedLists-s.totalCompletedGoals-s.totalCompletedLists,l=s.totalCompletedGoals+s.totalCompletedLists,c=s.totalAchievements,{counts:u}=s,d=(C=u==null?void 0:u.progressGoals)!=null?C:0,f=(w=u==null?void 0:u.regularGoals)!=null?w:0,m=(S=u==null?void 0:u.folders)!=null?S:0,h=(N=u==null?void 0:u.friends)!=null?N:At.friendsCount,g=(T=u==null?void 0:u.goalsWithMap)!=null?T:0,v=[{url:"/user/self",name:"Дашборд",page:"isUserSelf"},{url:"/user/self/active-goals",name:"Активные цели и списки",page:"isUserSelfActive",count:i},{url:"/user/self/progress",name:"Прогресс целей",page:"isUserSelfProgress",count:d},{url:"/user/self/regular",name:"Регулярные цели",page:"isUserSelfRegular",count:f},{url:"/user/self/folders",name:"Папки целей",page:"isUserSelfFolders",count:m},{url:"/user/self/done-goals",name:"Выполненные",page:"isUserSelfDone",count:l},{url:"/user/self/maps",name:"Мои карты",page:"isUserSelfMaps",count:g},{url:"/user/self/achievements",name:"Достижения",page:"isUserSelfAchievements",count:c},{url:"/user/self/friends",name:"Друзья",page:"isUserSelfFriends",count:h},{url:"/user/self/settings",name:"Настройки",page:"isUserSelfSettings"}],_=v.slice(0,9),E=v.slice(9);return p("main",{className:n(),children:[p("aside",{className:r("sidebar"),children:[o(cb,{}),p("div",{className:r("sidebar-inner"),children:[o(Fo,{tabs:_,active:e,vertical:!0}),o(at,{className:r("sidebar-line")}),o(Fo,{tabs:E,active:e,vertical:!0}),o(at,{className:r("sidebar-line")}),o(z,{type:"Link",href:"/goals/create",theme:"blue-light",size:"medium",icon:"plus",className:r("add-goal-btn"),children:"Добавить цель"})]})]}),a()]})}),On=({page:e,subPage:t})=>{const{setHeader:n,setPage:r,setFull:a}=yt;return y.useEffect(()=>{n("white"),r(e),a(!1)},[]),o(mW,{page:e,subPage:t})};const Cn=({element:e})=>{const{isAuth:t}=Rt;return t?e:o(es,{to:"/sign-in",replace:!0})},pW=(e,t)=>{const n=r=>r.replace(/\/lists$/,"");return!(n(e)===n(t)&&e!==t)},gW=ze(()=>p("main",{className:"main",children:[o(rL,{shouldScroll:pW}),p(Jw,{children:[o(Ge,{path:"/",element:o(qG,{page:"isMain"})}),o(Ge,{path:"/100-goals",element:o(By,{page:"isMainGoals"})}),p(Ge,{path:"/news",element:o(V9,{}),children:[o(Ge,{index:!0,element:o(q9,{})}),o(Ge,{path:"friends",element:o(X9,{})}),o(Ge,{path:"project",element:o(J9,{})})]}),o(Ge,{path:"/news/:id",element:o(Y9,{})}),o(Ge,{path:"/about",element:o(eH,{page:"isAbout"})}),o(Ge,{path:"/help",element:o(xG,{page:"isHelp"})}),o(Ge,{path:"/contacts",element:o(fH,{page:"isContacts"})}),o(Ge,{path:"/tariffs",element:o(s$,{page:"isTariffs"})}),o(Ge,{path:"/privacy",element:o(ZG,{page:"isPrivacy"})}),o(Ge,{path:"/terms",element:o(o$,{page:"isTerms"})}),o(Ge,{path:"/premium",element:o(XG,{})}),o(Ge,{path:"/agreement",element:o(nH,{page:"isAgreement"})}),o(Ge,{path:"/cookies",element:o(mH,{page:"isCookies"})}),o(Ge,{path:"/list/:id",element:o(CG,{page:"isList"})}),o(Ge,{path:"/edit-list/:id",element:o(NG,{page:"isEditList"})}),o(Ge,{path:"/list/100-goals",element:o(By,{page:"isMainGoals"})}),o(Ge,{path:"/categories",element:o(aH,{page:"isCategories"})}),o(Ge,{path:"/categories/all",element:o(ai,{page:"isCategoriesAll",subPage:"goals"})}),o(Ge,{path:"/categories/all/lists",element:o(ai,{page:"isCategoriesAll",subPage:"lists"})}),o(Ge,{path:"/categories/:id",element:o(ai,{page:"isCategories",subPage:"goals"})}),o(Ge,{path:"/categories/:categories/:id/",element:o(ai,{page:"isSubCategories",subPage:"goals"})}),o(Ge,{path:"/categories/:id/lists",element:o(ai,{page:"isCategories",subPage:"lists"})}),o(Ge,{path:"/categories/:categories/:id/lists",element:o(ai,{page:"isSubCategories",subPage:"lists"})}),o(Ge,{path:"/goals/:id/history",element:o(lo,{page:"isGoalHistory"})}),o(Ge,{path:"/goals/:id/progress-history",element:o(lo,{page:"isGoalProgressHistory"})}),o(Ge,{path:"/goals/:id/rating",element:o(lo,{page:"isGoalRating"})}),o(Ge,{path:"/goals/:id/lists",element:o(lo,{page:"isGoalLists"})}),o(Ge,{path:"/goals/:id",element:o(lo,{page:"isGoal"})}),o(Ge,{path:"/sign-in",element:o(RG,{page:"isLogin"})}),o(Ge,{path:"/sign-up",element:o(e$,{page:"isRegistration"})}),o(Ge,{path:"/reset-password",element:o(n$,{page:"isResetPassword"})}),o(Ge,{path:"/email-confirmed",element:o(kG,{page:"isEmailConfirmed"})}),o(Ge,{path:"/leaders",element:o(LG,{page:"isLeaders"})}),o(Ge,{path:"/user/:id/showcase",element:o(gs,{page:"isUserShowcase"})}),o(Ge,{path:"/user/:id/100-goal",element:o(gs,{page:"isUser100Goals"})}),o(Ge,{path:"/user/:id/active-goals",element:o(gs,{page:"isUserActiveGoals",subPage:"goals"})}),o(Ge,{path:"/user/:id/active-goals/lists",element:o(gs,{page:"isUserActiveGoals",subPage:"lists"})}),o(Ge,{path:"/user/:id/done-goals",element:o(gs,{page:"isUserDoneGoals",subPage:"goals"})}),o(Ge,{path:"/user/:id/done-goals/lists",element:o(gs,{page:"isUserDoneGoals",subPage:"lists"})}),o(Ge,{path:"/user/:id/achievements",element:o(gs,{page:"isUserAchievements"})}),o(Ge,{path:"/goals/create",element:o(Cn,{element:o(gH,{page:"isCreateGoal"})})}),o(Ge,{path:"/list/create",element:o(Cn,{element:o(_H,{page:"isCreateGoalList"})})}),o(Ge,{path:"/user/self",element:o(Cn,{element:o(On,{page:"isUserSelf"})})}),o(Ge,{path:"/user/self/maps",element:o(Cn,{element:o(On,{page:"isUserSelfMaps"})})}),o(Ge,{path:"/user/self/achievements",element:o(Cn,{element:o(On,{page:"isUserSelfAchievements"})})}),o(Ge,{path:"/user/self/settings",element:o(Cn,{element:o(On,{page:"isUserSelfSettings"})})}),o(Ge,{path:"/user/self/subs",element:o(Cn,{element:o(On,{page:"isUserSelfSubs"})})}),o(Ge,{path:"/user/self/active-goals",element:o(Cn,{element:o(On,{page:"isUserSelfActive",subPage:"goals"})})}),o(Ge,{path:"/user/self/folders",element:o(Cn,{element:o(On,{page:"isUserSelfFolders"})})}),o(Ge,{path:"/user/self/folders/:folderId",element:o(Cn,{element:o(On,{page:"isUserSelfFolders"})})}),o(Ge,{path:"/user/self/progress",element:o(Cn,{element:o(On,{page:"isUserSelfProgress"})})}),o(Ge,{path:"/user/self/regular",element:o(Cn,{element:o(On,{page:"isUserSelfRegular"})})}),o(Ge,{path:"/user/self/done-goals",element:o(Cn,{element:o(On,{page:"isUserSelfDone",subPage:"goals"})})}),o(Ge,{path:"/user/self/active-goals/lists",element:o(Cn,{element:o(On,{page:"isUserSelfActive",subPage:"lists"})})}),o(Ge,{path:"/user/self/done-goals/lists",element:o(Cn,{element:o(On,{page:"isUserSelfDone",subPage:"lists"})})}),o(Ge,{path:"/user/self/friends",element:o(Cn,{element:o(On,{page:"isUserSelfFriends",subPage:"friends"})})}),o(Ge,{path:"/user/self/friends/requests",element:o(Cn,{element:o(On,{page:"isUserSelfFriends",subPage:"requests"})})}),o(Ge,{path:"/user/self/friends/search",element:o(Cn,{element:o(On,{page:"isUserSelfFriends",subPage:"search"})})}),o(Ge,{path:"/friends",element:o(es,{to:"/user/self/friends",replace:!0})}),o(Ge,{path:"/friends/requests",element:o(es,{to:"/user/self/friends/requests",replace:!0})}),o(Ge,{path:"/friends/search",element:o(es,{to:"/user/self/friends/search",replace:!0})}),o(Ge,{path:"*",element:o(QG,{page:"NotFound"})})]})]}));const yW=ze(()=>{const[e]=J("layout"),{full:t}=yt;return p(Zw,{future:{v7_startTransition:!0},children:[o(ZI,{}),p("div",{className:e({full:t}),children:[o(gW,{}),o(xr,{}),o(nL,{}),o(am,{title:"delting.ru - достигайте своих целей"})]}),o(CN,{}),o(fN,{}),o(EN,{})]})}),vW=()=>o(y.StrictMode,{children:o(AC,{children:o(ZC,{children:o(Zy,{children:o(yW,{})})})})});(async()=>{const e=document.getElementById("root");Vy(e).render(o(vW,{}))})();export{EW as __vite_legacy_guard};
