var b_=Object.defineProperty;var v_=(e,t,n)=>t in e?b_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>(v_(e,typeof t!="symbol"?t+"":t,n),n);import{j as c,F as ft,a as y,L as Ze,u as Rn,A as il,m as _i,b as ja,c as y_,d as _0,e as E_,R as __,f as ze,N as ol,B as T_}from"./ui-c7e0902f.js";import{a as Yi,g as zi,b as j,r as g,c as Kn,R as S_,d as w_}from"./vendor-b67c97a1.js";function t7(){import.meta.url,import("_").catch(()=>1);async function*e(){}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var T0,Wh=Yi;T0=Wh.createRoot,Wh.hydrateRoot;var C_=typeof Element<"u",N_=typeof Map=="function",x_=typeof Set=="function",k_=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ll(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ll(e[r],t[r]))return!1;return!0}var s;if(N_&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!ll(r.value[1],t.get(r.value[0])))return!1;return!0}if(x_&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(k_&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(C_&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!ll(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var A_=function(t,n){try{return ll(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const D_=zi(A_);var I_=function(e,t,n,r,a,s,i,o){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,s,i,o],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},O_=I_;const Yh=zi(O_);var P_=function(t,n,r,a){var s=r?r.call(a,t,n):void 0;if(s!==void 0)return!!s;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var i=Object.keys(t),o=Object.keys(n);if(i.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<i.length;u++){var d=i[u];if(!l(d))return!1;var f=t[d],p=n[d];if(s=r?r.call(a,f,p,d):void 0,s===!1||s===void 0&&f!==p)return!1}return!0};const L_=zi(P_);var S0=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(S0||{}),lu={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},zh=Object.values(S0),yf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},R_=Object.entries(yf).reduce((e,[t,n])=>(e[n]=t,e),{}),nr="data-rh",ys={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Es=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},M_=e=>{let t=Es(e,"title");const n=Es(e,ys.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=Es(e,ys.DEFAULT_TITLE);return t||r||void 0},F_=e=>Es(e,ys.ON_CHANGE_CLIENT_STATE)||(()=>{}),cu=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,r)=>({...n,...r}),{}),B_=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const a=Object.keys(r);for(let s=0;s<a.length;s+=1){const o=a[s].toLowerCase();if(e.indexOf(o)!==-1&&r[o])return n.concat(r)}}return n},[]),U_=e=>console&&typeof console.warn=="function"&&console.warn(e),oi=(e,t,n)=>{const r={};return n.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&U_("Helmet: ".concat(e,' should be of type "Array". Instead found type "').concat(typeof a[e],'"')),!1)).map(a=>a[e]).reverse().reduce((a,s)=>{const i={};s.filter(l=>{let u;const d=Object.keys(l);for(let p=0;p<d.length;p+=1){const h=d[p],m=h.toLowerCase();t.indexOf(m)!==-1&&!(u==="rel"&&l[u].toLowerCase()==="canonical")&&!(m==="rel"&&l[m].toLowerCase()==="stylesheet")&&(u=m),t.indexOf(h)!==-1&&(h==="innerHTML"||h==="cssText"||h==="itemprop")&&(u=h)}if(!u||!l[u])return!1;const f=l[u].toLowerCase();return r[u]||(r[u]={}),i[u]||(i[u]={}),r[u][f]?!1:(i[u][f]=!0,!0)}).reverse().forEach(l=>a.push(l));const o=Object.keys(i);for(let l=0;l<o.length;l+=1){const u=o[l],d={...r[u],...i[u]};r[u]=d}return a},[]).reverse()},H_=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},G_=e=>({baseTag:B_(["href"],e),bodyAttributes:cu("bodyAttributes",e),defer:Es(e,ys.DEFER),encode:Es(e,ys.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:cu("htmlAttributes",e),linkTags:oi("link",["rel","href"],e),metaTags:oi("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:oi("noscript",["innerHTML"],e),onChangeClientState:F_(e),scriptTags:oi("script",["src","innerHTML"],e),styleTags:oi("style",["cssText"],e),title:M_(e),titleAttributes:cu("titleAttributes",e),prioritizeSeoTags:H_(e,ys.PRIORITIZE_SEO_TAGS)}),w0=e=>Array.isArray(e)?e.join(""):e,$_=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1},uu=(e,t)=>Array.isArray(e)?e.reduce((n,r)=>($_(r,t)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:e,priority:[]},Vh=(e,t)=>({...e,[t]:void 0}),W_=["noscript","script","style"],bd=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),C0=e=>Object.keys(e).reduce((t,n)=>{const r=typeof e[n]<"u"?"".concat(n,'="').concat(e[n],'"'):"".concat(n);return t?"".concat(t," ").concat(r):r},""),Y_=(e,t,n,r)=>{const a=C0(n),s=w0(t);return a?"<".concat(e," ").concat(nr,'="true" ').concat(a,">").concat(bd(s,r),"</").concat(e,">"):"<".concat(e," ").concat(nr,'="true">').concat(bd(s,r),"</").concat(e,">")},z_=(e,t,n=!0)=>t.reduce((r,a)=>{const s=a,i=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof s[d]>"u"?d:"".concat(d,'="').concat(bd(s[d],n),'"');return u?"".concat(u," ").concat(f):f},""),o=s.innerHTML||s.cssText||"",l=W_.indexOf(e)===-1;return"".concat(r,"<").concat(e," ").concat(nr,'="true" ').concat(i).concat(l?"/>":">".concat(o,"</").concat(e,">"))},""),N0=(e,t={})=>Object.keys(e).reduce((n,r)=>{const a=yf[r];return n[a||r]=e[r],n},t),V_=(e,t,n)=>{const r={key:t,[nr]:!0},a=N0(n,r);return[j.createElement("title",a,t)]},cl=(e,t)=>t.map((n,r)=>{const a={key:r,[nr]:!0};return Object.keys(n).forEach(s=>{const o=yf[s]||s;if(o==="innerHTML"||o==="cssText"){const l=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:l}}else a[o]=n[s]}),j.createElement(e,a)}),Hn=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>V_(e,t.title,t.titleAttributes),toString:()=>Y_(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>N0(t),toString:()=>C0(t)};default:return{toComponent:()=>cl(e,t),toString:()=>z_(e,t,n)}}},j_=({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const a=uu(e,lu.meta),s=uu(t,lu.link),i=uu(n,lu.script);return{priorityMethods:{toComponent:()=>[...cl("meta",a.priority),...cl("link",s.priority),...cl("script",i.priority)],toString:()=>"".concat(Hn("meta",a.priority,r)," ").concat(Hn("link",s.priority,r)," ").concat(Hn("script",i.priority,r))},metaTags:a.default,linkTags:s.default,scriptTags:i.default}},q_=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:a,noscriptTags:s,styleTags:i,title:o="",titleAttributes:l,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:p}=e,h={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:h,linkTags:d,metaTags:f,scriptTags:p}=j_(e)),{priority:h,base:Hn("base",t,r),bodyAttributes:Hn("bodyAttributes",n,r),htmlAttributes:Hn("htmlAttributes",a,r),link:Hn("link",d,r),meta:Hn("meta",f,r),noscript:Hn("noscript",s,r),script:Hn("script",p,r),style:Hn("style",i,r),title:Hn("title",{title:o,titleAttributes:l},r)}},vd=q_,Po=[],x0=!!(typeof window<"u"&&window.document&&window.document.createElement),yd=class{constructor(e,t){ve(this,"instances",[]);ve(this,"canUseDOM",x0);ve(this,"context");ve(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Po:this.instances,add:e=>{(this.canUseDOM?Po:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Po:this.instances).indexOf(e);(this.canUseDOM?Po:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=vd({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},K_={},k0=j.createContext(K_),ks,A0=(ks=class extends g.Component{constructor(n){super(n);ve(this,"helmetData");this.helmetData=new yd(this.props.context||{},ks.canUseDOM)}render(){return j.createElement(k0.Provider,{value:this.helmetData.value},this.props.children)}},ve(ks,"canUseDOM",x0),ks),is=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll("".concat(e,"[").concat(nr,"]")),a=[].slice.call(r),s=[];let i;return t&&t.length&&t.forEach(o=>{const l=document.createElement(e);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u))if(u==="innerHTML")l.innerHTML=o.innerHTML;else if(u==="cssText")l.styleSheet?l.styleSheet.cssText=o.cssText:l.appendChild(document.createTextNode(o.cssText));else{const d=u,f=typeof o[d]>"u"?"":o[d];l.setAttribute(u,f)}l.setAttribute(nr,"true"),a.some((u,d)=>(i=d,l.isEqualNode(u)))?a.splice(i,1):s.push(l)}),a.forEach(o=>{var l;return(l=o.parentNode)==null?void 0:l.removeChild(o)}),s.forEach(o=>n.appendChild(o)),{oldTags:a,newTags:s}},Ed=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(nr),a=r?r.split(","):[],s=[...a],i=Object.keys(t);for(const o of i){const l=t[o]||"";n.getAttribute(o)!==l&&n.setAttribute(o,l),a.indexOf(o)===-1&&a.push(o);const u=s.indexOf(o);u!==-1&&s.splice(u,1)}for(let o=s.length-1;o>=0;o-=1)n.removeAttribute(s[o]);a.length===s.length?n.removeAttribute(nr):n.getAttribute(nr)!==i.join(",")&&n.setAttribute(nr,i.join(","))},Q_=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=w0(e)),Ed("title",t)},jh=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:a,linkTags:s,metaTags:i,noscriptTags:o,onChangeClientState:l,scriptTags:u,styleTags:d,title:f,titleAttributes:p}=e;Ed("body",r),Ed("html",a),Q_(f,p);const h={baseTag:is("base",n),linkTags:is("link",s),metaTags:is("meta",i),noscriptTags:is("noscript",o),scriptTags:is("script",u),styleTags:is("style",d)},m={},v={};Object.keys(h).forEach(T=>{const{newTags:E,oldTags:C}=h[T];E.length&&(m[T]=E),C.length&&(v[T]=h[T].oldTags)}),t&&t(),l(e,m,v)},li=null,X_=e=>{li&&cancelAnimationFrame(li),e.defer?li=requestAnimationFrame(()=>{jh(e,()=>{li=null})}):(jh(e),li=null)},J_=X_,qh=class extends g.Component{constructor(){super(...arguments);ve(this,"rendered",!1)}shouldComponentUpdate(t){return!L_(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:n}=this.props.context;let r=null;const a=G_(t.get().map(s=>{const i={...s.props};return delete i.context,i}));A0.canUseDOM?J_(a):vd&&(r=vd(a)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},gd,Z_=(gd=class extends g.Component{shouldComponentUpdate(e){return!D_(Vh(this.props,"helmetData"),Vh(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error("<".concat(e.type," /> elements are self-closing and can not contain children. Refer to our API for more information."))}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(r=>{n={...n,[r]:e[r]}}),n}warnOnInvalidChildren(e,t){return Yh(zh.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types ".concat(zh.join(", ")," are allowed. Helmet does not support rendering <").concat(e.type,"> elements. Refer to our API for more information.")),Yh(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),"Helmet expects a string as a child of <".concat(e.type,">. Did you forget to wrap your children in braces? ( <").concat(e.type,">{``}</").concat(e.type,"> ) Refer to our API for more information.")),!0}mapChildrenToProps(e,t){let n={};return j.Children.forEach(e,r=>{if(!r||!r.props)return;const{children:a,...s}=r.props,i=Object.keys(s).reduce((l,u)=>(l[R_[u]||u]=s[u],l),{});let{type:o}=r;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(r,a),o){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,i,a);break;default:t=this.mapObjectTypeChildren(r,t,i,a);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof yd)){const a=r;r=new yd(a.context,!0),delete n.helmetData}return r?j.createElement(qh,{...n,context:r.value}):j.createElement(k0.Consumer,null,a=>j.createElement(qh,{...n,context:a}))}},ve(gd,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),gd);const eT=({children:e})=>c(ft,{children:e});class tT extends j.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n)}render(){const{children:t}=this.props,{hasError:n}=this.state;return n?"ОШИБКА":t}}function ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var nT={};function Ef(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:nT}var D0=Object.assign,Nl=Object.getOwnPropertyDescriptor,Nr=Object.defineProperty,cc=Object.prototype,_d=[];Object.freeze(_d);var I0={};Object.freeze(I0);var rT=typeof Proxy<"u",aT=Object.toString();function O0(){rT||ut("Proxy not available")}function P0(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var gs=function(){};function lr(e){return typeof e=="function"}function Fa(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function uc(e){return e!==null&&typeof e=="object"}function Kr(e){if(!uc(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===aT}function L0(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Vi(e,t,n){Nr(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function R0(e,t,n){Nr(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function qa(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return uc(r)&&r[n]===!0}}function js(e){return e instanceof Map}function ji(e){return e instanceof Set}var M0=typeof Object.getOwnPropertySymbols<"u";function sT(e){var t=Object.keys(e);if(!M0)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return cc.propertyIsEnumerable.call(e,r)})):t}var As=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:M0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function F0(e){return e===null?null:typeof e=="object"?""+e:e}function Gr(e,t){return cc.hasOwnProperty.call(e,t)}var iT=Object.getOwnPropertyDescriptors||function(t){var n={};return As(t).forEach(function(r){n[r]=Nl(t,r)}),n};function Kh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cT(r.key),r)}}function _f(e,t,n){return t&&Kh(e.prototype,t),n&&Kh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(this,arguments)}function B0(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Td(e,t)}function Td(e,t){return Td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Td(e,t)}function du(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oT(e,t){if(e){if(typeof e=="string")return Qh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qh(e,t)}}function Qh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bs(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=oT(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lT(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cT(e){var t=lT(e,"string");return typeof t=="symbol"?t:String(t)}var Sr=Symbol("mobx-stored-annotations");function xr(e){function t(n,r){if(qi(r))return e.decorate_20223_(n,r);qs(n,r,e)}return Object.assign(t,e)}function qs(e,t,n){Gr(e,Sr)||Vi(e,Sr,Ba({},e[Sr])),vT(n)||(e[Sr][t]=n)}function uT(e){return Gr(e,Sr)||Vi(e,Sr,Ba({},e[Sr])),e[Sr]}function qi(e){return typeof e=="object"&&typeof e.kind=="string"}var Ge=Symbol("mobx administration"),Ki=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=dt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return rb(this)},t.reportChanged=function(){Qn(),ab(this),Xn()},t.toString=function(){return this.name_},e}(),Tf=qa("Atom",Ki);function U0(e,t,n){t===void 0&&(t=gs),n===void 0&&(n=gs);var r=new Ki(e);return t!==gs&&ES(r,t),n!==gs&&ub(r,n),r}function dT(e,t){return e===t}function fT(e,t){return Af(e,t)}function hT(e,t){return Af(e,t,1)}function pT(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var xl={identity:dT,structural:fT,default:pT,shallow:hT};function Ua(e,t,n){return mb(e)?e:Array.isArray(e)?ot.array(e,{name:n}):Kr(e)?ot.object(e,void 0,{name:n}):js(e)?ot.map(e,{name:n}):ji(e)?ot.set(e,{name:n}):typeof e=="function"&&!mc(e)&&!Pi(e)?L0(e)?Is(e):Oi(n,e):e}function mT(e,t,n){if(e==null||Li(e)||gc(e)||Qa(e)||Ks(e))return e;if(Array.isArray(e))return ot.array(e,{name:n,deep:!1});if(Kr(e))return ot.object(e,void 0,{name:n,deep:!1});if(js(e))return ot.map(e,{name:n,deep:!1});if(ji(e))return ot.set(e,{name:n,deep:!1})}function dc(e){return e}function gT(e,t){return Af(e,t)?t:e}var bT="override";function vT(e){return e.annotationType_===bT}function Qi(e,t){return{annotationType_:e,options_:t,make_:yT,extend_:ET,decorate_20223_:_T}}function yT(e,t,n,r){var a;if((a=this.options_)!=null&&a.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(mc(n.value))return 1;var s=H0(e,this,t,n,!1);return Nr(r,t,s),2}function ET(e,t,n,r){var a=H0(e,this,t,n);return e.defineProperty_(t,a,r)}function _T(e,t){var n=t.kind,r=t.name,a=t.addInitializer,s=this,i=function(u){var d,f,p,h;return Ha((d=(f=s.options_)==null?void 0:f.name)!=null?d:r.toString(),u,(p=(h=s.options_)==null?void 0:h.autoAction)!=null?p:!1)};if(n=="field"){a(function(){qs(this,r,s)});return}if(n=="method"){var o;return mc(e)||(e=i(e)),(o=this.options_)!=null&&o.bound&&a(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),e}ut("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+("\n'"+s.annotationType_+"' can only be used on properties with a function value."))}function TT(e,t,n,r){t.annotationType_,r.value}function H0(e,t,n,r,a){var s,i,o,l,u,d,f;a===void 0&&(a=be.safeDescriptors),TT(e,t,n,r);var p=r.value;if((s=t.options_)!=null&&s.bound){var h;p=p.bind((h=e.proxy_)!=null?h:e.target_)}return{value:Ha((i=(o=t.options_)==null?void 0:o.name)!=null?i:n.toString(),p,(l=(u=t.options_)==null?void 0:u.autoAction)!=null?l:!1,(d=t.options_)!=null&&d.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:a?e.isPlainObject_:!0,enumerable:!1,writable:!a}}function G0(e,t){return{annotationType_:e,options_:t,make_:ST,extend_:wT,decorate_20223_:CT}}function ST(e,t,n,r){var a;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((a=this.options_)!=null&&a.bound&&(!Gr(e.target_,t)||!Pi(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Pi(n.value))return 1;var s=$0(e,this,t,n,!1,!1);return Nr(r,t,s),2}function wT(e,t,n,r){var a,s=$0(e,this,t,n,(a=this.options_)==null?void 0:a.bound);return e.defineProperty_(t,s,r)}function CT(e,t){var n,r=t.name,a=t.addInitializer;return Pi(e)||(e=Is(e)),(n=this.options_)!=null&&n.bound&&a(function(){var s=this,i=s[r].bind(s);i.isMobXFlow=!0,s[r]=i}),e}function NT(e,t,n,r){t.annotationType_,r.value}function $0(e,t,n,r,a,s){s===void 0&&(s=be.safeDescriptors),NT(e,t,n,r);var i=r.value;if(Pi(i)||(i=Is(i)),a){var o;i=i.bind((o=e.proxy_)!=null?o:e.target_),i.isMobXFlow=!0}return{value:i,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function Sf(e,t){return{annotationType_:e,options_:t,make_:xT,extend_:kT,decorate_20223_:AT}}function xT(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function kT(e,t,n,r){return DT(e,this,t,n),e.defineComputedProperty_(t,Ba({},this.options_,{get:n.get,set:n.set}),r)}function AT(e,t){var n=this,r=t.name,a=t.addInitializer;return a(function(){var s=Xa(this)[Ge],i=Ba({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),s.values_.set(r,new Ds(i))}),function(){return this[Ge].getObservablePropValue_(r)}}function DT(e,t,n,r){t.annotationType_,r.get}function fc(e,t){return{annotationType_:e,options_:t,make_:IT,extend_:OT,decorate_20223_:PT}}function IT(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function OT(e,t,n,r){var a,s;return LT(e,this),e.defineObservableProperty_(t,n.value,(a=(s=this.options_)==null?void 0:s.enhancer)!=null?a:Ua,r)}function PT(e,t){var n=this,r=t.kind,a=t.name,s=new WeakSet;function i(o,l){var u,d,f=Xa(o)[Ge],p=new Oa(l,(u=(d=n.options_)==null?void 0:d.enhancer)!=null?u:Ua,"ObservableObject."+a.toString(),!1);f.values_.set(a,p),s.add(o)}if(r=="accessor")return{get:function(){return s.has(this)||i(this,e.get.call(this)),this[Ge].getObservablePropValue_(a)},set:function(l){return s.has(this)||i(this,l),this[Ge].setObservablePropValue_(a,l)},init:function(l){return s.has(this)||i(this,l),l}}}function LT(e,t,n,r){t.annotationType_}var RT="true",MT=W0();function W0(e){return{annotationType_:RT,options_:e,make_:FT,extend_:BT,decorate_20223_:UT}}function FT(e,t,n,r){var a,s;if(n.get)return hc.make_(e,t,n,r);if(n.set){var i=Ha(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:be.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(Nr(r,t,{configurable:!0,set:i}),2)}if(r!==e.target_&&typeof n.value=="function"){var o;if(L0(n.value)){var l,u=(l=this.options_)!=null&&l.autoBind?Is.bound:Is;return u.make_(e,t,n,r)}var d=(o=this.options_)!=null&&o.autoBind?Oi.bound:Oi;return d.make_(e,t,n,r)}var f=((a=this.options_)==null?void 0:a.deep)===!1?ot.ref:ot;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var p;n.value=n.value.bind((p=e.proxy_)!=null?p:e.target_)}return f.make_(e,t,n,r)}function BT(e,t,n,r){var a,s;if(n.get)return hc.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:be.safeDescriptors?e.isPlainObject_:!0,set:Ha(t.toString(),n.set)},r);if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var o=((s=this.options_)==null?void 0:s.deep)===!1?ot.ref:ot;return o.extend_(e,t,n,r)}function UT(e,t){ut("'"+this.annotationType_+"' cannot be used as a decorator")}var HT="observable",GT="observable.ref",$T="observable.shallow",WT="observable.struct",Y0={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Y0);function Lo(e){return e||Y0}var Sd=fc(HT),YT=fc(GT,{enhancer:dc}),zT=fc($T,{enhancer:mT}),VT=fc(WT,{enhancer:gT}),z0=xr(Sd);function Ro(e){return e.deep===!0?Ua:e.deep===!1?dc:qT(e.defaultDecorator)}function jT(e){var t;return e?(t=e.defaultDecorator)!=null?t:W0(e):void 0}function qT(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Ua}function V0(e,t,n){if(qi(t))return Sd.decorate_20223_(e,t);if(Fa(t)){qs(e,t,Sd);return}return mb(e)?e:Kr(e)?ot.object(e,t,n):Array.isArray(e)?ot.array(e,t):js(e)?ot.map(e,t):ji(e)?ot.set(e,t):typeof e=="object"&&e!==null?e:ot.box(e,t)}D0(V0,z0);var KT={box:function(t,n){var r=Lo(n);return new Oa(t,Ro(r),r.name,!0,r.equals)},array:function(t,n){var r=Lo(n);return(be.useProxies===!1||r.proxy===!1?WS:PS)(t,Ro(r),r.name)},map:function(t,n){var r=Lo(n);return new Eb(t,Ro(r),r.name)},set:function(t,n){var r=Lo(n);return new Sb(t,Ro(r),r.name)},object:function(t,n,r){return va(function(){return fb(be.useProxies===!1||(r==null?void 0:r.proxy)===!1?Xa({},r):DS({},r),t,n)})},ref:xr(YT),shallow:xr(zT),deep:z0,struct:xr(VT)},ot=D0(V0,KT),j0="computed",QT="computed.struct",wd=Sf(j0),XT=Sf(QT,{equals:xl.structural}),hc=function(t,n){if(qi(n))return wd.decorate_20223_(t,n);if(Fa(n))return qs(t,n,wd);if(Kr(t))return xr(Sf(j0,t));var r=Kr(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Ds(r)};Object.assign(hc,wd);hc.struct=xr(XT);var Xh,Jh,kl=0,JT=1,ZT=(Xh=(Jh=Nl(function(){},"name"))==null?void 0:Jh.configurable)!=null?Xh:!1,Zh={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ha(e,t,n,r){n===void 0&&(n=!1);function a(){return q0(e,n,t,r||this,arguments)}return a.isMobxAction=!0,a.toString=function(){return t.toString()},ZT&&(Zh.value=e,Nr(a,"name",Zh)),a}function q0(e,t,n,r,a){var s=eS(e,t);try{return n.apply(r,a)}catch(i){throw s.error_=i,i}finally{tS(s)}}function eS(e,t,n,r){var a=!1,s=0,i=be.trackingDerivation,o=!t||!i;Qn();var l=be.allowStateChanges;o&&(Ka(),l=wf(!0));var u=Nf(!0),d={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:a,startTime_:s,actionId_:JT++,parentActionId_:kl};return kl=d.actionId_,d}function tS(e){kl!==e.actionId_&&ut(30),kl=e.parentActionId_,e.error_!==void 0&&(be.suppressReactionErrors=!0),Cf(e.prevAllowStateChanges_),Ti(e.prevAllowStateReads_),Xn(),e.runAsAction_&&$r(e.prevDerivation_),be.suppressReactionErrors=!1}function wf(e){var t=be.allowStateChanges;return be.allowStateChanges=e,t}function Cf(e){be.allowStateChanges=e}var K0;K0=Symbol.toPrimitive;var Oa=function(e){B0(t,e);function t(r,a,s,i,o){var l;return s===void 0&&(s="ObservableValue"),o===void 0&&(o=xl.default),l=e.call(this,s)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=a,l.name_=s,l.equals=o,l.value_=a(r,void 0,s),l}var n=t.prototype;return n.dehanceValue=function(a){return this.dehancer!==void 0?this.dehancer(a):a},n.set=function(a){this.value_,a=this.prepareNewValue_(a),a!==be.UNCHANGED&&this.setNewValue_(a)},n.prepareNewValue_=function(a){if(jn(this)){var s=qn(this,{object:this,type:kr,newValue:a});if(!s)return be.UNCHANGED;a=s.newValue}return a=this.enhancer(a,this.value_,this.name_),this.equals(this.value_,a)?be.UNCHANGED:a},n.setNewValue_=function(a){var s=this.value_;this.value_=a,this.reportChanged(),rr(this)&&ar(this,{type:kr,object:this,newValue:a,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(a){return Xi(this,a)},n.observe_=function(a,s){return s&&a({observableKind:"value",debugObjectName:this.name_,object:this,type:kr,newValue:this.value_,oldValue:void 0}),Ji(this,a)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return F0(this.get())},n[K0]=function(){return this.valueOf()},t}(Ki),Q0;Q0=Symbol.toPrimitive;var Ds=function(){function e(n){this.dependenciesState_=dt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=dt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Dl(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Al.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||ut(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Ha("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?xl.structural:xl.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){iS(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing_&&ut(32,this.name_,this.derivation),be.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Cd(this)&&(this.warnAboutUntrackedRead_(),Qn(),this.value_=this.computeValue_(!1),Xn());else if(rb(this),Cd(this)){var r=be.trackingContext;this.keepAlive_&&!r&&(be.trackingContext=this),this.trackAndCompute()&&sS(this),be.trackingContext=r}var a=this.value_;if(ul(a))throw a.cause;return a},t.set=function(r){if(this.setter_){this.isRunningSetter_&&ut(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else ut(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,a=this.dependenciesState_===dt.NOT_TRACKING_,s=this.computeValue_(!0),i=a||ul(r)||ul(s)||!this.equals_(r,s);return i&&(this.value_=s),i},t.computeValue_=function(r){this.isComputing_=!0;var a=wf(!1),s;if(r)s=X0(this,this.derivation,this.scope_);else if(be.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(i){s=new Dl(i)}return Cf(a),this.isComputing_=!1,s},t.suspend_=function(){this.keepAlive_||(Nd(this),this.value_=void 0)},t.observe_=function(r,a){var s=this,i=!0,o=void 0;return mS(function(){var l=s.get();if(!i||a){var u=Ka();r({observableKind:"computed",debugObjectName:s.name_,type:kr,object:s,newValue:l,oldValue:o}),$r(u)}i=!1,o=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return F0(this.get())},t[Q0]=function(){return this.valueOf()},e}(),pc=qa("ComputedValue",Ds),dt;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(dt||(dt={}));var Al;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Al||(Al={}));var Dl=function(t){this.cause=void 0,this.cause=t};function ul(e){return e instanceof Dl}function Cd(e){switch(e.dependenciesState_){case dt.UP_TO_DATE_:return!1;case dt.NOT_TRACKING_:case dt.STALE_:return!0;case dt.POSSIBLY_STALE_:{for(var t=Nf(!0),n=Ka(),r=e.observing_,a=r.length,s=0;s<a;s++){var i=r[s];if(pc(i)){if(be.disableErrorBoundaries)i.get();else try{i.get()}catch(o){return $r(n),Ti(t),!0}if(e.dependenciesState_===dt.STALE_)return $r(n),Ti(t),!0}}return Z0(e),$r(n),Ti(t),!1}}}function X0(e,t,n){var r=Nf(!0);Z0(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++be.runId;var a=be.trackingDerivation;be.trackingDerivation=e,be.inBatch++;var s;if(be.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(i){s=new Dl(i)}return be.inBatch--,be.trackingDerivation=a,nS(e),Ti(r),s}function nS(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=dt.UP_TO_DATE_,a=0,s=e.unboundDepsCount_,i=0;i<s;i++){var o=n[i];o.diffValue_===0&&(o.diffValue_=1,a!==i&&(n[a]=o),a++),o.dependenciesState_>r&&(r=o.dependenciesState_)}for(n.length=a,e.newObserving_=null,s=t.length;s--;){var l=t[s];l.diffValue_===0&&tb(l,e),l.diffValue_=0}for(;a--;){var u=n[a];u.diffValue_===1&&(u.diffValue_=0,aS(u,e))}r!==dt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function Nd(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)tb(t[n],e);e.dependenciesState_=dt.NOT_TRACKING_}function J0(e){var t=Ka();try{return e()}finally{$r(t)}}function Ka(){var e=be.trackingDerivation;return be.trackingDerivation=null,e}function $r(e){be.trackingDerivation=e}function Nf(e){var t=be.allowStateReads;return be.allowStateReads=e,t}function Ti(e){be.allowStateReads=e}function Z0(e){if(e.dependenciesState_!==dt.UP_TO_DATE_){e.dependenciesState_=dt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=dt.UP_TO_DATE_}}var dl=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},fl=!0,eb=!1,be=function(){var e=Ef();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(fl=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new dl().version&&(fl=!1),fl?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new dl):(setTimeout(function(){eb||ut(35)},1),new dl)}();function rS(){if((be.pendingReactions.length||be.inBatch||be.isRunningReactions)&&ut(36),eb=!0,fl){var e=Ef();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),be=new dl}}function aS(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function tb(e,t){e.observers_.delete(t),e.observers_.size===0&&nb(e)}function nb(e){e.isPendingUnobservation_===!1&&(e.isPendingUnobservation_=!0,be.pendingUnobservations.push(e))}function Qn(){be.inBatch++}function Xn(){if(--be.inBatch===0){sb();for(var e=be.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Ds&&n.suspend_())}be.pendingUnobservations=[]}}function rb(e){var t=be.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&be.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(e.observers_.size===0&&be.inBatch>0&&nb(e),!1)}function ab(e){e.lowestObserverState_!==dt.STALE_&&(e.lowestObserverState_=dt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===dt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=dt.STALE_}))}function sS(e){e.lowestObserverState_!==dt.STALE_&&(e.lowestObserverState_=dt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===dt.POSSIBLY_STALE_?t.dependenciesState_=dt.STALE_:t.dependenciesState_===dt.UP_TO_DATE_&&(e.lowestObserverState_=dt.UP_TO_DATE_)}))}function iS(e){e.lowestObserverState_===dt.UP_TO_DATE_&&(e.lowestObserverState_=dt.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===dt.UP_TO_DATE_&&(t.dependenciesState_=dt.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Il=function(){function e(n,r,a,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=dt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Al.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=a,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,be.pendingReactions.push(this),sb())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Qn(),this.isScheduled_=!1;var r=be.trackingContext;if(be.trackingContext=this,Cd(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(a){this.reportExceptionInDerivation_(a)}}be.trackingContext=r,Xn()}},t.track=function(r){if(!this.isDisposed_){Qn(),this.isRunning_=!0;var a=be.trackingContext;be.trackingContext=this;var s=X0(this,r,void 0);be.trackingContext=a,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Nd(this),ul(s)&&this.reportExceptionInDerivation_(s.cause),Xn()}},t.reportExceptionInDerivation_=function(r){var a=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(be.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";be.suppressReactionErrors||console.error(s,r),be.globalReactionErrorHandlers.forEach(function(i){return i(r,a)})},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Qn(),Nd(this),Xn()))},t.getDisposer_=function(r){var a=this,s=function i(){a.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",i)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[Ge]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},e}(),oS=100,xd=function(t){return t()};function sb(){be.inBatch>0||be.isRunningReactions||xd(lS)}function lS(){be.isRunningReactions=!0;for(var e=be.pendingReactions,t=0;e.length>0;){++t===oS&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,a=n.length;r<a;r++)n[r].runReaction_()}be.isRunningReactions=!1}var Ol=qa("Reaction",Il);function cS(e){var t=xd;xd=function(r){return e(function(){return t(r)})}}function Si(){return!1}function uS(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ib="action",dS="action.bound",ob="autoAction",fS="autoAction.bound",lb="<unnamed action>",kd=Qi(ib),hS=Qi(dS,{bound:!0}),Ad=Qi(ob,{autoAction:!0}),pS=Qi(fS,{autoAction:!0,bound:!0});function cb(e){var t=function(r,a){if(lr(r))return Ha(r.name||lb,r,e);if(lr(a))return Ha(r,a,e);if(qi(a))return(e?Ad:kd).decorate_20223_(r,a);if(Fa(a))return qs(r,a,e?Ad:kd);if(Fa(r))return xr(Qi(e?ob:ib,{name:r,autoAction:e}))};return t}var Ht=cb(!1);Object.assign(Ht,kd);var Oi=cb(!0);Object.assign(Oi,Ad);Ht.bound=xr(hS);Oi.bound=xr(pS);function Be(e){return q0(e.name||lb,!1,e,this,void 0)}function mc(e){return lr(e)&&e.isMobxAction===!0}function mS(e,t){var n,r,a,s,i;t===void 0&&(t=I0);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",l=!t.scheduler&&!t.delay,u;if(l)u=new Il(o,function(){this.track(p)},t.onError,t.requiresObservable);else{var d=bS(t),f=!1;u=new Il(o,function(){f||(f=!0,d(function(){f=!1,u.isDisposed_||u.track(p)}))},t.onError,t.requiresObservable)}function p(){e(u)}return(a=t)!=null&&(s=a.signal)!=null&&s.aborted||u.schedule_(),u.getDisposer_((i=t)==null?void 0:i.signal)}var gS=function(t){return t()};function bS(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:gS}var vS="onBO",yS="onBUO";function ES(e,t,n){return db(vS,e,t,n)}function ub(e,t,n){return db(yS,e,t,n)}function db(e,t,n,r){var a=typeof r=="function"?Os(t,n):Os(t),s=lr(r)?r:n,i=e+"L";return a[i]?a[i].add(s):a[i]=new Set([s]),function(){var o=a[i];o&&(o.delete(s),o.size===0&&delete a[i])}}var _S="never",Mo="always",TS="observed";function SS(e){e.isolateGlobalState===!0&&rS();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(be.useProxies=t===Mo?!0:t===_S?!1:typeof Proxy<"u"),t==="ifavailable"&&(be.verifyProxies=!0),n!==void 0){var r=n===Mo?Mo:n===TS;be.enforceActions=r,be.allowStateChanges=!(r===!0||r===Mo)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(a){a in e&&(be[a]=!!e[a])}),be.allowStateReads=!be.observableRequiresReaction,e.reactionScheduler&&cS(e.reactionScheduler)}function fb(e,t,n,r){var a=iT(t);return va(function(){var s=Xa(e,r)[Ge];As(a).forEach(function(i){s.extend_(i,a[i],n&&i in n?n[i]:!0)})}),e}function wS(e,t){return hb(Os(e,t))}function hb(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=CS(e.observing_).map(hb)),t}function CS(e){return Array.from(new Set(e))}var NS=0;function pb(){this.message="FLOW_CANCELLED"}pb.prototype=Object.create(Error.prototype);var fu=G0("flow"),xS=G0("flow.bound",{bound:!0}),Is=Object.assign(function(t,n){if(qi(n))return fu.decorate_20223_(t,n);if(Fa(n))return qs(t,n,fu);var r=t,a=r.name||"<unnamed flow>",s=function(){var o=this,l=arguments,u=++NS,d=Ht(a+" - runid: "+u+" - init",r).apply(o,l),f,p=void 0,h=new Promise(function(m,v){var T=0;f=v;function E(N){p=void 0;var x;try{x=Ht(a+" - runid: "+u+" - yield "+T++,d.next).call(d,N)}catch(S){return v(S)}_(x)}function C(N){p=void 0;var x;try{x=Ht(a+" - runid: "+u+" - yield "+T++,d.throw).call(d,N)}catch(S){return v(S)}_(x)}function _(N){if(lr(N==null?void 0:N.then)){N.then(_,v);return}return N.done?m(N.value):(p=Promise.resolve(N.value),p.then(E,C))}E(void 0)});return h.cancel=Ht(a+" - runid: "+u+" - cancel",function(){try{p&&ep(p);var m=d.return(void 0),v=Promise.resolve(m.value);v.then(gs,gs),ep(v),f(new pb)}catch(T){f(T)}}),h};return s.isMobXFlow=!0,s},fu);Is.bound=xr(xS);function ep(e){lr(e.cancel)&&e.cancel()}function Pi(e){return(e==null?void 0:e.isMobXFlow)===!0}function kS(e,t){return e?t!==void 0?Li(e)?e[Ge].values_.has(t):!1:Li(e)||!!e[Ge]||Tf(e)||Ol(e)||pc(e):!1}function mb(e){return kS(e)}function Ur(e,t){t===void 0&&(t=void 0),Qn();try{return e.apply(t)}finally{Xn()}}function os(e){return e[Ge]}var AS={has:function(t,n){return os(t).has_(n)},get:function(t,n){return os(t).get_(n)},set:function(t,n,r){var a;return Fa(n)?(a=os(t).set_(n,r,!0))!=null?a:!0:!1},deleteProperty:function(t,n){var r;return Fa(n)?(r=os(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var a;return(a=os(t).defineProperty_(n,r))!=null?a:!0},ownKeys:function(t){return os(t).ownKeys_()},preventExtensions:function(t){ut(13)}};function DS(e,t){var n,r;return O0(),e=Xa(e,t),(r=(n=e[Ge]).proxy_)!=null?r:n.proxy_=new Proxy(e,AS)}function jn(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Xi(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),P0(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function qn(e,t){var n=Ka();try{for(var r=[].concat(e.interceptors_||[]),a=0,s=r.length;a<s&&(t=r[a](t),t&&!t.type&&ut(14),!!t);a++);return t}finally{$r(n)}}function rr(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Ji(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),P0(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ar(e,t){var n=Ka(),r=e.changeListeners_;if(r){r=r.slice();for(var a=0,s=r.length;a<s;a++)r[a](t);$r(n)}}function gb(e,t,n){return va(function(){var r,a=Xa(e,n)[Ge];(r=t)!=null||(t=uT(e)),As(t).forEach(function(s){return a.make_(s,t[s])})}),e}var hu=Symbol("mobx-keys");function Jr(e,t,n){return Kr(e)?fb(e,e,t,n):(va(function(){var r=Xa(e,n)[Ge];if(!e[hu]){var a=Object.getPrototypeOf(e),s=new Set([].concat(As(e),As(a)));s.delete("constructor"),s.delete(Ge),Vi(a,hu,s)}e[hu].forEach(function(i){return r.make_(i,t&&i in t?t[i]:!0)})}),e)}var tp="splice",kr="update",IS=1e4,OS={get:function(t,n){var r=t[Ge];return n===Ge?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Gr(Pl,n)?Pl[n]:t[n]},set:function(t,n,r){var a=t[Ge];return n==="length"&&a.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:a.set_(parseInt(n),r),!0},preventExtensions:function(){ut(15)}},xf=function(){function e(n,r,a,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=a,this.legacyMode_=s,this.atom_=new Ki(n),this.enhancer_=function(i,o){return r(i,o,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Xi(this,r)},t.observe_=function(r,a){return a===void 0&&(a=!1),a&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ji(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&ut("Out of range: "+r);var a=this.values_.length;if(r!==a)if(r>a){for(var s=new Array(r-a),i=0;i<r-a;i++)s[i]=void 0;this.spliceWithArray_(a,0,s)}else this.spliceWithArray_(r,a-r)},t.updateArrayLength_=function(r,a){r!==this.lastKnownLength_&&ut(16),this.lastKnownLength_+=a,this.legacyMode_&&a>0&&xb(r+a+1)},t.spliceWithArray_=function(r,a,s){var i=this;this.atom_;var o=this.values_.length;if(r===void 0?r=0:r>o?r=o:r<0&&(r=Math.max(0,o+r)),arguments.length===1?a=o-r:a==null?a=0:a=Math.max(0,Math.min(a,o-r)),s===void 0&&(s=_d),jn(this)){var l=qn(this,{object:this.proxy_,type:tp,index:r,removedCount:a,added:s});if(!l)return _d;a=l.removedCount,s=l.added}if(s=s.length===0?s:s.map(function(f){return i.enhancer_(f,void 0)}),this.legacyMode_){var u=s.length-a;this.updateArrayLength_(o,u)}var d=this.spliceItemsIntoValues_(r,a,s);return(a!==0||s.length!==0)&&this.notifyArraySplice_(r,s,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(r,a,s){if(s.length<IS){var i;return(i=this.values_).splice.apply(i,[r,a].concat(s))}else{var o=this.values_.slice(r,r+a),l=this.values_.slice(r+a);this.values_.length+=s.length-a;for(var u=0;u<s.length;u++)this.values_[r+u]=s[u];for(var d=0;d<l.length;d++)this.values_[r+s.length+d]=l[d];return o}},t.notifyArrayChildUpdate_=function(r,a,s){var i=!this.owned_&&Si(),o=rr(this),l=o||i?{observableKind:"array",object:this.proxy_,type:kr,debugObjectName:this.atom_.name_,index:r,newValue:a,oldValue:s}:null;this.atom_.reportChanged(),o&&ar(this,l)},t.notifyArraySplice_=function(r,a,s){var i=!this.owned_&&Si(),o=rr(this),l=o||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:tp,index:r,removed:s,added:a,removedCount:s.length,addedCount:a.length}:null;this.atom_.reportChanged(),o&&ar(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,a){var s=this.values_;if(this.legacyMode_&&r>s.length&&ut(17,r,s.length),r<s.length){this.atom_;var i=s[r];if(jn(this)){var o=qn(this,{type:kr,object:this.proxy_,index:r,newValue:a});if(!o)return;a=o.newValue}a=this.enhancer_(a,i);var l=a!==i;l&&(s[r]=a,this.notifyArrayChildUpdate_(r,a,i))}else{for(var u=new Array(r+1-s.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=a,this.spliceWithArray_(s.length,0,u)}},e}();function PS(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),O0(),va(function(){var a=new xf(n,t,r,!1);R0(a.values_,Ge,a);var s=new Proxy(a.values_,OS);return a.proxy_=s,e&&e.length&&a.spliceWithArray_(0,0,e),s})}var Pl={clear:function(){return this.splice(0)},replace:function(t){var n=this[Ge];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];var i=this[Ge];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,a)},spliceWithArray:function(t,n,r){return this[Ge].spliceWithArray_(t,n,r)},push:function(){for(var t=this[Ge],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Ge].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Ge],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return be.trackingDerivation&&ut(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){be.trackingDerivation&&ut(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[Ge],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};xt("at",Mn);xt("concat",Mn);xt("flat",Mn);xt("includes",Mn);xt("indexOf",Mn);xt("join",Mn);xt("lastIndexOf",Mn);xt("slice",Mn);xt("toString",Mn);xt("toLocaleString",Mn);xt("toSorted",Mn);xt("toSpliced",Mn);xt("with",Mn);xt("every",dr);xt("filter",dr);xt("find",dr);xt("findIndex",dr);xt("findLast",dr);xt("findLastIndex",dr);xt("flatMap",dr);xt("forEach",dr);xt("map",dr);xt("some",dr);xt("toReversed",dr);xt("reduce",bb);xt("reduceRight",bb);function xt(e,t){typeof Array.prototype[e]=="function"&&(Pl[e]=t(e))}function Mn(e){return function(){var t=this[Ge];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function dr(e){return function(t,n){var r=this,a=this[Ge];a.atom_.reportObserved();var s=a.dehanceValues_(a.values_);return s[e](function(i,o){return t.call(n,i,o,r)})}}function bb(e){return function(){var t=this,n=this[Ge];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),a=arguments[0];return arguments[0]=function(s,i,o){return a(s,i,o,t)},r[e].apply(r,arguments)}}var LS=qa("ObservableArrayAdministration",xf);function gc(e){return uc(e)&&LS(e[Ge])}var vb,yb,RS={},ca="add",Ll="delete";vb=Symbol.iterator;yb=Symbol.toStringTag;var Eb=function(){function e(n,r,a){var s=this;r===void 0&&(r=Ua),a===void 0&&(a="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ge]=RS,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=a,lr(Map)||ut(18),va(function(){s.keysAtom_=U0("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var a=this;if(!be.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var i=s=new Oa(this.has_(r),dc,"ObservableMap.key?",!1);this.hasMap_.set(r,i),ub(i,function(){return a.hasMap_.delete(r)})}return s.get()},t.set=function(r,a){var s=this.has_(r);if(jn(this)){var i=qn(this,{type:s?kr:ca,object:this,newValue:a,name:r});if(!i)return this;a=i.newValue}return s?this.updateValue_(r,a):this.addValue_(r,a),this},t.delete=function(r){var a=this;if(this.keysAtom_,jn(this)){var s=qn(this,{type:Ll,object:this,name:r});if(!s)return!1}if(this.has_(r)){var i=Si(),o=rr(this),l=o||i?{observableKind:"map",debugObjectName:this.name_,type:Ll,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ur(function(){var u;a.keysAtom_.reportChanged(),(u=a.hasMap_.get(r))==null||u.setNewValue_(!1);var d=a.data_.get(r);d.setNewValue_(void 0),a.data_.delete(r)}),o&&ar(this,l),!0}return!1},t.updateValue_=function(r,a){var s=this.data_.get(r);if(a=s.prepareNewValue_(a),a!==be.UNCHANGED){var i=Si(),o=rr(this),l=o||i?{observableKind:"map",debugObjectName:this.name_,type:kr,object:this,oldValue:s.value_,name:r,newValue:a}:null;s.setNewValue_(a),o&&ar(this,l)}},t.addValue_=function(r,a){var s=this;this.keysAtom_,Ur(function(){var u,d=new Oa(a,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,d),a=d.value_,(u=s.hasMap_.get(r))==null||u.setNewValue_(!0),s.keysAtom_.reportChanged()});var i=Si(),o=rr(this),l=o||i?{observableKind:"map",debugObjectName:this.name_,type:ca,object:this,name:r,newValue:a}:null;o&&ar(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,a=this.keys();return Ri({next:function(){var i=a.next(),o=i.done,l=i.value;return{done:o,value:o?void 0:r.get(l)}}})},t.entries=function(){var r=this,a=this.keys();return Ri({next:function(){var i=a.next(),o=i.done,l=i.value;return{done:o,value:o?void 0:[l,r.get(l)]}}})},t[vb]=function(){return this.entries()},t.forEach=function(r,a){for(var s=bs(this),i;!(i=s()).done;){var o=i.value,l=o[0],u=o[1];r.call(a,u,l,this)}},t.merge=function(r){var a=this;return Qa(r)&&(r=new Map(r)),Ur(function(){Kr(r)?sT(r).forEach(function(s){return a.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var i=s[0],o=s[1];return a.set(i,o)}):js(r)?(r.constructor!==Map&&ut(19,r),r.forEach(function(s,i){return a.set(i,s)})):r!=null&&ut(20,r)}),this},t.clear=function(){var r=this;Ur(function(){J0(function(){for(var a=bs(r.keys()),s;!(s=a()).done;){var i=s.value;r.delete(i)}})})},t.replace=function(r){var a=this;return Ur(function(){for(var s=MS(r),i=new Map,o=!1,l=bs(a.data_.keys()),u;!(u=l()).done;){var d=u.value;if(!s.has(d)){var f=a.delete(d);if(f)o=!0;else{var p=a.data_.get(d);i.set(d,p)}}}for(var h=bs(s.entries()),m;!(m=h()).done;){var v=m.value,T=v[0],E=v[1],C=a.data_.has(T);if(a.set(T,E),a.data_.has(T)){var _=a.data_.get(T);i.set(T,_),C||(o=!0)}}if(!o)if(a.data_.size!==i.size)a.keysAtom_.reportChanged();else for(var N=a.data_.keys(),x=i.keys(),S=N.next(),A=x.next();!S.done;){if(S.value!==A.value){a.keysAtom_.reportChanged();break}S=N.next(),A=x.next()}a.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,a){return Ji(this,r)},t.intercept_=function(r){return Xi(this,r)},_f(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:yb,get:function(){return"Map"}}]),e}(),Qa=qa("ObservableMap",Eb);function MS(e){if(js(e)||Qa(e))return e;if(Array.isArray(e))return new Map(e);if(Kr(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return ut(21,e)}var _b,Tb,FS={};_b=Symbol.iterator;Tb=Symbol.toStringTag;var Sb=function(){function e(n,r,a){var s=this;r===void 0&&(r=Ua),a===void 0&&(a="ObservableSet"),this.name_=void 0,this[Ge]=FS,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=a,lr(Set)||ut(22),this.enhancer_=function(i,o){return r(i,o,a)},va(function(){s.atom_=U0(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Ur(function(){J0(function(){for(var a=bs(r.data_.values()),s;!(s=a()).done;){var i=s.value;r.delete(i)}})})},t.forEach=function(r,a){for(var s=bs(this),i;!(i=s()).done;){var o=i.value;r.call(a,o,o,this)}},t.add=function(r){var a=this;if(this.atom_,jn(this)){var s=qn(this,{type:ca,object:this,newValue:r});if(!s)return this}if(!this.has(r)){Ur(function(){a.data_.add(a.enhancer_(r,void 0)),a.atom_.reportChanged()});var i=!1,o=rr(this),l=o||i?{observableKind:"set",debugObjectName:this.name_,type:ca,object:this,newValue:r}:null;o&&ar(this,l)}return this},t.delete=function(r){var a=this;if(jn(this)){var s=qn(this,{type:Ll,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var i=!1,o=rr(this),l=o||i?{observableKind:"set",debugObjectName:this.name_,type:Ll,object:this,oldValue:r}:null;return Ur(function(){a.atom_.reportChanged(),a.data_.delete(r)}),o&&ar(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,a=Array.from(this.keys()),s=Array.from(this.values());return Ri({next:function(){var o=r;return r+=1,o<s.length?{value:[a[o],s[o]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,a=0,s=Array.from(this.data_.values());return Ri({next:function(){return a<s.length?{value:r.dehanceValue_(s[a++]),done:!1}:{done:!0}}})},t.replace=function(r){var a=this;return Ks(r)&&(r=new Set(r)),Ur(function(){Array.isArray(r)?(a.clear(),r.forEach(function(s){return a.add(s)})):ji(r)?(a.clear(),r.forEach(function(s){return a.add(s)})):r!=null&&ut("Cannot initialize set from "+r)}),this},t.observe_=function(r,a){return Ji(this,r)},t.intercept_=function(r){return Xi(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[_b]=function(){return this.values()},_f(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Tb,get:function(){return"Set"}}]),e}(),Ks=qa("ObservableSet",Sb),np=Object.create(null),rp="remove",wb=function(){function e(n,r,a,s){r===void 0&&(r=new Map),s===void 0&&(s=MT),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=a,this.defaultAnnotation_=s,this.keysAtom_=new Ki("ObservableObject.keys"),this.isPlainObject_=Kr(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,a){var s=this.values_.get(r);if(s instanceof Ds)return s.set(a),!0;if(jn(this)){var i=qn(this,{type:kr,object:this.proxy_||this.target_,name:r,newValue:a});if(!i)return null;a=i.newValue}if(a=s.prepareNewValue_(a),a!==be.UNCHANGED){var o=rr(this),l=!1,u=o||l?{type:kr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:a}:null;s.setNewValue_(a),o&&ar(this,u)}return!0},t.get_=function(r){return be.trackingDerivation&&!Gr(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,a,s){return s===void 0&&(s=!1),Gr(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,a):s?Reflect.set(this.target_,r,a):(this.target_[r]=a,!0):this.extend_(r,{value:a,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!be.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var a=this.pendingKeys_.get(r);return a||(a=new Oa(r in this.target_,dc,"ObservableObject.key?",!1),this.pendingKeys_.set(r,a)),a.get()},t.make_=function(r,a){if(a===!0&&(a=this.defaultAnnotation_),a!==!1){if(!(r in this.target_)){var s;if((s=this.target_[Sr])!=null&&s[r])return;ut(1,a.annotationType_,this.name_+"."+r.toString())}for(var i=this.target_;i&&i!==cc;){var o=Nl(i,r);if(o){var l=a.make_(this,r,o,i);if(l===0)return;if(l===1)break}i=Object.getPrototypeOf(i)}sp(this,a,r)}},t.extend_=function(r,a,s,i){if(i===void 0&&(i=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,a,i);var o=s.extend_(this,r,a,i);return o&&sp(this,s,r),o},t.defineProperty_=function(r,a,s){s===void 0&&(s=!1),this.keysAtom_;try{Qn();var i=this.delete_(r);if(!i)return i;if(jn(this)){var o=qn(this,{object:this.proxy_||this.target_,name:r,type:ca,newValue:a.value});if(!o)return null;var l=o.newValue;a.value!==l&&(a=Ba({},a,{value:l}))}if(s){if(!Reflect.defineProperty(this.target_,r,a))return!1}else Nr(this.target_,r,a);this.notifyPropertyAddition_(r,a.value)}finally{Xn()}return!0},t.defineObservableProperty_=function(r,a,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Qn();var o=this.delete_(r);if(!o)return o;if(jn(this)){var l=qn(this,{object:this.proxy_||this.target_,name:r,type:ca,newValue:a});if(!l)return null;a=l.newValue}var u=ap(r),d={configurable:be.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(i){if(!Reflect.defineProperty(this.target_,r,d))return!1}else Nr(this.target_,r,d);var f=new Oa(a,s,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{Xn()}return!0},t.defineComputedProperty_=function(r,a,s){s===void 0&&(s=!1),this.keysAtom_;try{Qn();var i=this.delete_(r);if(!i)return i;if(jn(this)){var o=qn(this,{object:this.proxy_||this.target_,name:r,type:ca,newValue:void 0});if(!o)return null}a.name||(a.name="ObservableObject.key"),a.context=this.proxy_||this.target_;var l=ap(r),u={configurable:be.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Nr(this.target_,r,u);this.values_.set(r,new Ds(a)),this.notifyPropertyAddition_(r,void 0)}finally{Xn()}return!0},t.delete_=function(r,a){if(a===void 0&&(a=!1),this.keysAtom_,!Gr(this.target_,r))return!0;if(jn(this)){var s=qn(this,{object:this.proxy_||this.target_,name:r,type:rp});if(!s)return null}try{var i,o;Qn();var l=rr(this),u=!1,d=this.values_.get(r),f=void 0;if(!d&&(l||u)){var p;f=(p=Nl(this.target_,r))==null?void 0:p.value}if(a){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(d&&(this.values_.delete(r),d instanceof Oa&&(f=d.value_),ab(d)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(o=i.get(r))==null||o.set(r in this.target_),l||u){var h={type:rp,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:f,name:r};l&&ar(this,h)}}finally{Xn()}return!0},t.observe_=function(r,a){return Ji(this,r)},t.intercept_=function(r){return Xi(this,r)},t.notifyPropertyAddition_=function(r,a){var s,i,o=rr(this),l=!1;if(o||l){var u=o||l?{type:ca,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:a}:null;o&&ar(this,u)}(s=this.pendingKeys_)==null||(i=s.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),As(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Xa(e,t){var n;if(Gr(e,Ge))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",a=new wb(e,new Map,String(r),jT(t));return Vi(e,Ge,a),e}var BS=qa("ObservableObjectAdministration",wb);function ap(e){return np[e]||(np[e]={get:function(){return this[Ge].getObservablePropValue_(e)},set:function(n){return this[Ge].setObservablePropValue_(e,n)}})}function Li(e){return uc(e)?BS(e[Ge]):!1}function sp(e,t,n){var r;(r=e.target_[Sr])==null||delete r[n]}var US=Nb(0),HS=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),pu=0,Cb=function(){};function GS(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}GS(Cb,Array.prototype);var kf=function(e,t,n){B0(r,e);function r(s,i,o,l){var u;return o===void 0&&(o="ObservableArray"),l===void 0&&(l=!1),u=e.call(this)||this,va(function(){var d=new xf(o,i,l,!0);d.proxy_=du(u),R0(du(u),Ge,d),s&&s.length&&u.spliceWithArray(0,0,s),HS&&Object.defineProperty(du(u),"0",US)}),u}var a=r.prototype;return a.concat=function(){this[Ge].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),o.map(function(u){return gc(u)?u.slice():u}))},a[n]=function(){var s=this,i=0;return Ri({next:function(){return i<s.length?{value:s[i++],done:!1}:{done:!0,value:void 0}}})},_f(r,[{key:"length",get:function(){return this[Ge].getArrayLength_()},set:function(i){this[Ge].setArrayLength_(i)}},{key:t,get:function(){return"Array"}}]),r}(Cb,Symbol.toStringTag,Symbol.iterator);Object.entries(Pl).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Vi(kf.prototype,t,n)});function Nb(e){return{enumerable:!1,configurable:!0,get:function(){return this[Ge].get_(e)},set:function(n){this[Ge].set_(e,n)}}}function $S(e){Nr(kf.prototype,""+e,Nb(e))}function xb(e){if(e>pu){for(var t=pu;t<e+100;t++)$S(t);pu=e}}xb(1e3);function WS(e,t,n){return new kf(e,t,n)}function Os(e,t){if(typeof e=="object"&&e!==null){if(gc(e))return t!==void 0&&ut(23),e[Ge].atom_;if(Ks(e))return e.atom_;if(Qa(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||ut(25,t,Dd(e)),n}if(Li(e)){if(!t)return ut(26);var r=e[Ge].values_.get(t);return r||ut(27,t,Dd(e)),r}if(Tf(e)||pc(e)||Ol(e))return e}else if(lr(e)&&Ol(e[Ge]))return e[Ge];ut(28)}function kb(e,t){if(e||ut(29),t!==void 0)return kb(Os(e,t));if(Tf(e)||pc(e)||Ol(e)||Qa(e)||Ks(e))return e;if(e[Ge])return e[Ge];ut(24,e)}function Dd(e,t){var n;if(t!==void 0)n=Os(e,t);else{if(mc(e))return e.name;Li(e)||Qa(e)||Ks(e)?n=kb(e):n=Os(e)}return n.name_}function va(e){var t=Ka(),n=wf(!0);Qn();try{return e()}finally{Xn(),Cf(n),$r(t)}}var ip=cc.toString;function Af(e,t,n){return n===void 0&&(n=-1),Id(e,t,n)}function Id(e,t,n,r,a){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var i=ip.call(e);if(i!==ip.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=op(e),t=op(t);var o=i==="[object Array]";if(!o){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(lr(l)&&l instanceof l&&lr(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],a=a||[];for(var d=r.length;d--;)if(r[d]===e)return a[d]===t;if(r.push(e),a.push(t),o){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!Id(e[d],t[d],n-1,r,a))return!1}else{var f=Object.keys(e),p;if(d=f.length,Object.keys(t).length!==d)return!1;for(;d--;)if(p=f[d],!(Gr(t,p)&&Id(e[p],t[p],n-1,r,a)))return!1}return r.pop(),a.pop(),!0}function op(e){return gc(e)?e.slice():js(e)||Qa(e)||ji(e)||Ks(e)?Array.from(e.entries()):e}function Ri(e){return e[Symbol.iterator]=YS,e}function YS(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Ef();typeof t[e]>"u"&&ut("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:uS,extras:{getDebugName:Dd},$mobx:Ge});if(!g.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!gb)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function zS(e){e()}function VS(e){e||(e=zS),SS({reactionScheduler:e})}function jS(e){return wS(e)}var qS=1e4,KS=1e4,QS=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=qS),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var a=Date.now();n.registrations.forEach(function(s,i){a-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(i))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,KS))}}),e}(),XS=typeof FinalizationRegistry<"u"?FinalizationRegistry:QS,Od=new XS(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),Ab={exports:{}},Db={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=g;function JS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZS=typeof Object.is=="function"?Object.is:JS,ew=Ps.useState,tw=Ps.useEffect,nw=Ps.useLayoutEffect,rw=Ps.useDebugValue;function aw(e,t){var n=t(),r=ew({inst:{value:n,getSnapshot:t}}),a=r[0].inst,s=r[1];return nw(function(){a.value=n,a.getSnapshot=t,mu(a)&&s({inst:a})},[e,n,t]),tw(function(){return mu(a)&&s({inst:a}),e(function(){mu(a)&&s({inst:a})})},[e]),rw(n),n}function mu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ZS(e,n)}catch(r){return!0}}function sw(e,t){return t()}var iw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sw:aw;Db.useSyncExternalStore=Ps.useSyncExternalStore!==void 0?Ps.useSyncExternalStore:iw;Ab.exports=Db;var ow=Ab.exports;function lp(e){e.reaction=new Il("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function lw(e,t){t===void 0&&(t="observed");var n=j.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(o){return Od.unregister(r),r.onStoreChange=o,r.reaction||(lp(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var a=n.current;a.reaction||(lp(a),Od.register(n,a,a)),j.useDebugValue(a.reaction,jS),ow.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot);var s,i;if(a.reaction.track(function(){try{s=e()}catch(o){i=o}}),i)throw i;return s}var gu,bu,Ib=typeof Symbol=="function"&&Symbol.for,cw=(bu=(gu=Object.getOwnPropertyDescriptor(function(){},"name"))===null||gu===void 0?void 0:gu.configurable)!==null&&bu!==void 0?bu:!1,cp=Ib?Symbol.for("react.forward_ref"):typeof g.forwardRef=="function"&&g.forwardRef(function(e){return null}).$$typeof,up=Ib?Symbol.for("react.memo"):typeof g.memo=="function"&&g.memo(function(e){return null}).$$typeof;function je(e,t){var n;if(up&&e.$$typeof===up)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=t==null?void 0:t.forwardRef)!==null&&n!==void 0?n:!1,a=e,s=e.displayName||e.name;if(cp&&e.$$typeof===cp&&(r=!0,a=e.render,typeof a!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var i=function(o,l){return lw(function(){return a(o,l)},s)};return i.displayName=e.displayName,cw&&Object.defineProperty(i,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(i.contextTypes=e.contextTypes),r&&(i=g.forwardRef(i)),i=g.memo(i),dw(e,i),i}var uw={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function dw(e,t){Object.keys(e).forEach(function(n){uw[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var vu;VS(Yi.unstable_batchedUpdates);vu=Od.finalizeAllImmediately;/*! js-cookie v3.0.5 | MIT */function Fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var fw={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Pd(e,t){function n(a,s,i){if(!(typeof document>"u")){i=Fo({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in i)i[l]&&(o+="; "+l,i[l]!==!0&&(o+="="+i[l].split(";")[0]));return document.cookie=a+"="+e.write(s,a)+o}}function r(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var s=document.cookie?document.cookie.split("; "):[],i={},o=0;o<s.length;o++){var l=s[o].split("="),u=l.slice(1).join("=");try{var d=decodeURIComponent(l[0]);if(i[d]=e.read(u,d),a===d)break}catch(f){}}return a?i[a]:i}}return Object.create({set:n,get:r,remove:function(a,s){n(a,"",Fo({},s,{expires:-1}))},withAttributes:function(a){return Pd(this.converter,Fo({},this.attributes,a))},withConverter:function(a){return Pd(Fo({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Ft=Pd(fw,{path:"/"});const dp=([e,t])=>typeof t=="string"?"".concat(e,"-").concat(t):e,J=(e,t)=>{const n=g.useMemo(()=>e.trim(),[e]),r=g.useMemo(()=>(t||"").trim(),[t]),a=g.useCallback(i=>{if(!i)return"".concat(n," ").concat(r).trim();const o=Object.entries(i).filter(([l])=>i[l]).map(l=>"".concat(n,"--").concat(dp(l)));return[n,...o,r].join(" ").trim()},[n,r]),s=g.useCallback((i,o,l)=>{const u="".concat(n,"__").concat(i.trim());if(!o)return"".concat(u," ").concat(l||"").trim();const d=Object.entries(o).filter(([p])=>o[p]).map(p=>"".concat(u,"--").concat(dp(p))),f=[u,...d];return l&&f.push(l),f.join(" ")},[n]);return[a,s]};function hw(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(this,arguments)}function Ld(e,t){return Ld=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ld(e,t)}function pw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ld(e,t)}function yu(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var fp=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,mw=/\\([\u000b\u0020-\u00ff])/g,gw=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,bw=vw;function vw(e){if(!e)throw new TypeError("argument string is required");var t=typeof e=="object"?yw(e):e;if(typeof t!="string")throw new TypeError("argument string is required to be a string");var n=t.indexOf(";"),r=n!==-1?t.slice(0,n).trim():t.trim();if(!gw.test(r))throw new TypeError("invalid media type");var a=new Ew(r.toLowerCase());if(n!==-1){var s,i,o;for(fp.lastIndex=n;i=fp.exec(t);){if(i.index!==n)throw new TypeError("invalid parameter format");n+=i[0].length,s=i[1].toLowerCase(),o=i[2],o.charCodeAt(0)===34&&(o=o.slice(1,-1),o.indexOf("\\")!==-1&&(o=o.replace(mw,"$1"))),a.parameters[s]=o}if(n!==t.length)throw new TypeError("invalid parameter format")}return a}function yw(e){var t;if(typeof e.getHeader=="function"?t=e.getHeader("content-type"):typeof e.headers=="object"&&(t=e.headers&&e.headers["content-type"]),typeof t!="string")throw new TypeError("content-type header is missing from object");return t}function Ew(e){this.parameters=Object.create(null),this.type=e}var fs=new Map,Ob=function(t){return t.cloneNode(!0)},hp=function(){return window.location.protocol==="file:"},Pb=function(t,n,r){var a=new XMLHttpRequest;a.onreadystatechange=function(){try{if(!/\.svg/i.test(t)&&a.readyState===2){var s=a.getResponseHeader("Content-Type");if(!s)throw new Error("Content type not found");var i=bw(s).type;if(!(i==="image/svg+xml"||i==="text/plain"))throw new Error("Invalid content type: ".concat(i))}if(a.readyState===4){if(a.status===404||a.responseXML===null)throw new Error(hp()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+t);if(a.status===200||hp()&&a.status===0)r(null,a);else throw new Error("There was a problem injecting the SVG: "+a.status+" "+a.statusText)}}catch(o){if(a.abort(),o instanceof Error)r(o,a);else throw o}},a.open("GET",t),a.withCredentials=n,a.overrideMimeType&&a.overrideMimeType("text/xml"),a.send()},la={},pp=function(t,n){la[t]=la[t]||[],la[t].push(n)},_w=function(t){for(var n=function(i,o){setTimeout(function(){if(Array.isArray(la[t])){var l=fs.get(t),u=la[t][i];l instanceof SVGSVGElement&&u(null,Ob(l)),l instanceof Error&&u(l),i===la[t].length-1&&delete la[t]}},0)},r=0,a=la[t].length;r<a;r++)n(r)},Tw=function(t,n,r){if(fs.has(t)){var a=fs.get(t);if(a===void 0){pp(t,r);return}if(a instanceof SVGSVGElement){r(null,Ob(a));return}}fs.set(t,void 0),pp(t,r),Pb(t,n,function(s,i){var o;s?fs.set(t,s):((o=i.responseXML)===null||o===void 0?void 0:o.documentElement)instanceof SVGSVGElement&&fs.set(t,i.responseXML.documentElement),_w(t)})},Sw=function(t,n,r){Pb(t,n,function(a,s){var i;a?r(a):((i=s.responseXML)===null||i===void 0?void 0:i.documentElement)instanceof SVGSVGElement&&r(null,s.responseXML.documentElement)})},ww=0,Cw=function(){return++ww},hr=[],mp={},Nw="http://www.w3.org/2000/svg",Eu="http://www.w3.org/1999/xlink",gp=function(t,n,r,a,s,i,o){var l=t.getAttribute("data-src")||t.getAttribute("src");if(!l){o(new Error("Invalid data-src or src attribute"));return}if(hr.indexOf(t)!==-1){hr.splice(hr.indexOf(t),1),t=null;return}hr.push(t),t.setAttribute("src","");var u=a?Tw:Sw;u(l,s,function(d,f){if(!f){hr.splice(hr.indexOf(t),1),t=null,o(d);return}var p=t.getAttribute("id");p&&f.setAttribute("id",p);var h=t.getAttribute("title");h&&f.setAttribute("title",h);var m=t.getAttribute("width");m&&f.setAttribute("width",m);var v=t.getAttribute("height");v&&f.setAttribute("height",v);var T=Array.from(new Set(yu(yu(yu([],(f.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(t.getAttribute("class")||"").split(" "),!0))).join(" ").trim();f.setAttribute("class",T);var E=t.getAttribute("style");E&&f.setAttribute("style",E),f.setAttribute("data-src",l);var C=[].filter.call(t.attributes,function(H){return/^data-\w[\w-]*$/.test(H.name)});if(Array.prototype.forEach.call(C,function(H){H.name&&H.value&&f.setAttribute(H.name,H.value)}),r){var _={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},N,x,S,A,P;Object.keys(_).forEach(function(H){N=H,S=_[H],x=f.querySelectorAll(N+"[id]");for(var q=function($,xe){A=x[$].id,P=A+"-"+Cw();var Pe;Array.prototype.forEach.call(S,function(K){Pe=f.querySelectorAll("["+K+'*="'+A+'"]');for(var he=0,Re=Pe.length;he<Re;he++){var Z=Pe[he].getAttribute(K);Z&&!Z.match(new RegExp('url\\("?#'+A+'"?\\)'))||Pe[he].setAttribute(K,"url(#"+P+")")}});for(var Ce=f.querySelectorAll("[*|href]"),We=[],Fe=0,Xe=Ce.length;Fe<Xe;Fe++){var le=Ce[Fe].getAttributeNS(Eu,"href");le&&le.toString()==="#"+x[$].id&&We.push(Ce[Fe])}for(var Le=0,ae=We.length;Le<ae;Le++)We[Le].setAttributeNS(Eu,"href","#"+P);x[$].id=P},L=0,te=x.length;L<te;L++)q(L)})}f.removeAttribute("xmlns:a");for(var O=f.querySelectorAll("script"),k=[],w,D,M=0,U=O.length;M<U;M++)D=O[M].getAttribute("type"),(!D||D==="application/ecmascript"||D==="application/javascript"||D==="text/javascript")&&(w=O[M].innerText||O[M].textContent,w&&k.push(w),f.removeChild(O[M]));if(k.length>0&&(n==="always"||n==="once"&&!mp[l])){for(var G=0,F=k.length;G<F;G++)new Function(k[G])(window);mp[l]=!0}var I=f.querySelectorAll("style");if(Array.prototype.forEach.call(I,function(H){H.textContent+=""}),f.setAttribute("xmlns",Nw),f.setAttribute("xmlns:xlink",Eu),i(f),!t.parentNode){hr.splice(hr.indexOf(t),1),t=null,o(new Error("Parent node is null"));return}t.parentNode.replaceChild(f,t),hr.splice(hr.indexOf(t),1),t=null,o(null,f)})},xw=function(t,n){var r=n===void 0?{}:n,a=r.afterAll,s=a===void 0?function(){}:a,i=r.afterEach,o=i===void 0?function(){}:i,l=r.beforeEach,u=l===void 0?function(){}:l,d=r.cacheRequests,f=d===void 0?!0:d,p=r.evalScripts,h=p===void 0?"never":p,m=r.httpRequestWithCredentials,v=m===void 0?!1:m,T=r.renumerateIRIElements,E=T===void 0?!0:T;if(t&&"length"in t)for(var C=0,_=0,N=t.length;_<N;_++)gp(t[_],h,E,f,v,u,function(x,S){o(x,S),t&&"length"in t&&t.length===++C&&s(C)});else t?gp(t,h,E,f,v,u,function(x,S){o(x,S),s(1),t=null}):s(0)},Lb={exports:{}},kw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Aw=kw,Dw=Aw;function Rb(){}function Mb(){}Mb.resetWarningCache=Rb;var Iw=function(){function e(r,a,s,i,o,l){if(l!==Dw){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Mb,resetWarningCache:Rb};return n.PropTypes=n,n};Lb.exports=Iw();var Ot=Lb.exports,Ow=function(t){var n=(t==null?void 0:t.ownerDocument)||document;return n.defaultView||window},Pw=function(t,n){for(var r in t)if(!(r in n))return!0;for(var a in n)if(t[a]!==n[a])return!0;return!1},Lw=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],Bo="http://www.w3.org/2000/svg",bp="http://www.w3.org/1999/xlink",Df=function(e){pw(t,e);function t(){for(var r,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=e.call.apply(e,[this].concat(s))||this,r.initialState={hasError:!1,isLoading:!0},r.state=r.initialState,r._isMounted=!1,r.reactWrapper=void 0,r.nonReactWrapper=void 0,r.refCallback=function(o){r.reactWrapper=o},r}var n=t.prototype;return n.renderSVG=function(){var a=this;if(this.reactWrapper instanceof Ow(this.reactWrapper).Node){var s=this.props,i=s.desc,o=s.evalScripts,l=s.httpRequestWithCredentials,u=s.renumerateIRIElements,d=s.src,f=s.title,p=s.useRequestCache,h=this.props.onError,m=this.props.beforeInjection,v=this.props.afterInjection,T=this.props.wrapper,E,C;T==="svg"?(E=document.createElementNS(Bo,T),E.setAttribute("xmlns",Bo),E.setAttribute("xmlns:xlink",bp),C=document.createElementNS(Bo,T)):(E=document.createElement(T),C=document.createElement(T)),E.appendChild(C),C.dataset.src=d,this.nonReactWrapper=this.reactWrapper.appendChild(E);var _=function(A){if(a.removeSVG(),!a._isMounted){h(A);return}a.setState(function(){return{hasError:!0,isLoading:!1}},function(){h(A)})},N=function(A,P){if(A){_(A);return}a._isMounted&&a.setState(function(){return{isLoading:!1}},function(){try{v(P)}catch(O){_(O)}})},x=function(A){if(A.setAttribute("role","img"),i){var P=A.querySelector(":scope > desc");P&&A.removeChild(P);var O=document.createElement("desc");O.innerHTML=i,A.prepend(O)}if(f){var k=A.querySelector(":scope > title");k&&A.removeChild(k);var w=document.createElement("title");w.innerHTML=f,A.prepend(w)}try{m(A)}catch(D){_(D)}};xw(C,{afterEach:N,beforeEach:x,cacheRequests:p,evalScripts:o,httpRequestWithCredentials:l,renumerateIRIElements:u})}},n.removeSVG=function(){var a;(a=this.nonReactWrapper)!=null&&a.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},n.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},n.componentDidUpdate=function(a){var s=this;Pw(Rl({},a),this.props)&&this.setState(function(){return s.initialState},function(){s.removeSVG(),s.renderSVG()})},n.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},n.render=function(){var a=this.props;a.afterInjection,a.beforeInjection,a.desc,a.evalScripts;var s=a.fallback;a.httpRequestWithCredentials;var i=a.loading;a.renumerateIRIElements,a.src,a.title,a.useRequestCache;var o=a.wrapper,l=hw(a,Lw),u=o;return g.createElement(u,Rl({},l,{ref:this.refCallback},o==="svg"?{xmlns:Bo,xmlnsXlink:bp}:{}),this.state.isLoading&&i&&g.createElement(i,null),this.state.hasError&&s&&g.createElement(s,null))},t}(g.Component);Df.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"};Df.propTypes={afterInjection:Ot.func,beforeInjection:Ot.func,desc:Ot.string,evalScripts:Ot.oneOf(["always","once","never"]),fallback:Ot.oneOfType([Ot.func,Ot.object,Ot.string]),httpRequestWithCredentials:Ot.bool,loading:Ot.oneOfType([Ot.func,Ot.object,Ot.string]),onError:Ot.func,renumerateIRIElements:Ot.bool,src:Ot.string.isRequired,title:Ot.string,useRequestCache:Ot.bool,wrapper:Ot.oneOf(["div","span","svg"])};const me=e=>{const{icon:t,className:n,width:r="auto",height:a="auto"}=e,s=t.split("--"),[i]=J("svg",n);return c(Df,{wrapper:"span",src:"/svg/".concat(s[0],".svg"),className:i({transform:s[1]}),beforeInjection:o=>{o.setAttribute("style","width: ".concat(r,"; height: ").concat(a))}})};const V=e=>{const{className:t,theme:n,icon:r,onClick:a,type:s,href:i="",children:o,small:l,size:u,typeBtn:d="button",hoverContent:f,hoverIcon:p,disabled:h,loading:m,refInner:v,withBorder:T}=e,[E,C]=J("button",t),[_,N]=g.useState(o),[x,S]=g.useState(r),A=M=>{(f||p)&&(M?(S(p),N(f)):(S(r),N(o)))};g.useEffect(()=>{S(r),N(o)},[o,r]);const P=M=>{const U=M.currentTarget;if(!U)return;const G=document.createElement("span"),F=Math.max(U.clientWidth,U.clientHeight),I=F/2;G.style.width=G.style.height="".concat(F,"px"),G.style.left="".concat(M.clientX-U.getBoundingClientRect().left-I,"px"),G.style.top="".concat(M.clientY-U.getBoundingClientRect().top-I,"px"),G.classList.add("button__ripple");const H=U.getElementsByClassName("ripple")[0];H&&H.remove(),U.appendChild(G),setTimeout(()=>G.remove(),800)},O=M=>{h||m||(P(M),a==null||a(M))},k=M=>{if(h){M.preventDefault();return}P(M),a==null||a(M)},w=y(ft,{children:[!m&&x&&c(me,{width:"16px",height:"16px",icon:x,className:C("icon")}),m&&c("span",{className:C("loading")}),m?!x:_]});return(()=>{switch(s){case"Link":return y(Ze,{to:i,className:E({theme:n,small:l,size:u,disabled:h}),onClick:k,children:[w,n==="gradient"&&c("div",{className:C("gradient-shadow")})]});case"button-close":return c("button",{className:E({close:!0,withBorder:T}),onClick:O,type:"button",disabled:h,ref:v,"aria-label":"закрыть",children:c(me,{icon:"cross",width:"20px",height:"20px"})});case"button":default:return y("button",{className:E({theme:n,small:l,size:u,disabled:h}),onClick:O,type:d==="button"?"button":"submit",onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),disabled:h,ref:v,children:[w,n==="gradient"&&c("div",{className:C("gradient-shadow")})]})}})()};let Rw=class{constructor(){this.queue=[],this.visibleNotifications=[],Jr(this)}addNotification(t){const n=Math.random().toString(36).substr(2,9);this.queue.push({id:n,...t}),this.showNextNotification()}showNextNotification(){for(;this.visibleNotifications.length<3&&this.queue.length>0;){const t=this.queue.shift();t&&(this.visibleNotifications.push(t),setTimeout(()=>this.removeNotification(t.id),7e3))}}removeNotification(t){this.visibleNotifications=this.visibleNotifications.filter(n=>n.id!==t),this.showNextNotification()}};const pe=new Rw,Mw=e=>new Promise(t=>{setTimeout(t,e)}),Fb=async(e,t=3,n=1,r=!0)=>{let a=0;for(;a<=t;){const s=await e();if(s.success)return s;if(s.errors&&a<t&&typeof s.errors=="object"&&("retry_after"in s.errors||"api_name"in s.errors)){const o=s.errors.retry_after||n,l=s.errors.api_name||"API";let u=o;r&&a>0?u=n*2**a+Math.random()*.5:u=o+Math.random()*.5,l.toLowerCase().includes("igdb")&&(u=Math.max(u,.3)),console.log("".concat(l," rate limit exceeded, retrying in ").concat(u.toFixed(1)," seconds... (attempt ").concat(a+1,"/").concat(t,")")),await Mw(u*1e3),a++;continue}return s}return e()},Bb=(e={})=>{const t={};return e!=null&&e.auth&&Ft.get("token")&&(t.Authorization="Token ".concat(Ft.get("token"))),e!=null&&e.file||(t["Content-Type"]="application/json"),t},bc=async(e,t,n={})=>{const{showErrorNotification:r=!0,showSuccessNotification:a=!0,enableRetry:s=!1}=n,i=async()=>{const o=Bb(n);try{const l=await fetch("/api/".concat(e,"/"),{method:t,headers:o,body:n.body?n.file?n.body:JSON.stringify(n.body):void 0}),u=await l.json();return l.ok?(a&&(n!=null&&n.success?pe.addNotification(n.success):pe.addNotification({type:"success",title:"Успешно"})),{success:!0,data:u}):l.status===429&&s?{success:!1,errors:{...u,retry_after:u.retry_after||1,api_name:u.api_name||"API"}}:(r&&(n!=null&&n.error?pe.addNotification(n.error):pe.addNotification({type:"error",title:"Ошибка",message:u.error||"Что-то пошло не так"})),{success:!1,errors:u.error})}catch(l){return pe.addNotification({type:"error",title:"Ошибка сервера",message:"Что-то пошло не так"}),Promise.reject(l)}};return s?Fb(i):i()},Je=(e,t)=>bc(e,"POST",t),Fw=(e,t)=>bc(e,"POST",{...t,enableRetry:!0}),xn=(e,t)=>bc(e,"DELETE",t),we=async(e,t)=>{const n=Bb(t);let r="";if(t!=null&&t.get){const a=Object.entries(t.get).filter(([i,o])=>o!=null).reduce((i,[o,l])=>({...i,[o]:String(l)}),{});r=new URLSearchParams(a).toString()}try{const a=await fetch("/api/".concat(e).concat(r?"?".concat(r):""),{headers:n}),s=await a.json();return a.ok?{success:!0,data:s}:{success:!1,errors:s.error}}catch(a){return Promise.reject(a)}},sr=(e,t)=>bc(e,"PUT",t),Bw=async e=>{try{const t=await fetch("/api/goals/fantlab/".concat(e,"/details/"),{headers:{"Content-Type":"application/json"}}),n=await t.json();return t.ok?{success:!0,data:n}:{success:!1,error:n.error||"Ошибка получения детальной информации"}}catch(t){return{success:!1,error:"Ошибка сети при получении детальной информации"}}},Uw=(e,t)=>we("notifications",{get:{...e&&{page:e},...t&&{unread_only:!0}},auth:!0}),Hw=e=>Je("notifications/".concat(e,"/mark-read"),{showSuccessNotification:!1}),Gw=()=>Je("notifications/mark-all-read",{success:{type:"success",title:"Уведомления прочитаны",message:"Все уведомления отмечены как прочитанные"}}),$w=Gw;let Ww=class{constructor(){this.notifications=[],this.unreadCount=0,this.isLoading=!1,Jr(this)}setNotifications(t){this.notifications=t}setUnreadCount(t){this.unreadCount=t}setLoading(t){this.isLoading=t}get hasUnreadNotifications(){return this.unreadCount>0}async markAsRead(t){try{await Hw(t),this.notifications=this.notifications.map(r=>r.id===t?{...r,isRead:!0}:r),this.notifications.some(r=>r.id===t&&r.isRead)&&(this.unreadCount=Math.max(0,this.unreadCount-1))}catch(n){throw console.error("Ошибка отметки уведомления как прочитанного:",n),n}}async markAllAsRead(){try{await $w(),this.notifications=this.notifications.map(t=>({...t,isRead:!0})),this.unreadCount=0}catch(t){throw console.error("Ошибка отметки всех уведомлений как прочитанных:",t),t}}clearNotifications(){this.notifications=[],this.unreadCount=0}};const Wn=new Ww,Yw=e=>{const n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),a=Math.floor(r/60),s=Math.floor(a/24);return r<1?"Только что":r<60?"".concat(r," мин назад"):a<24?"".concat(a," ч назад"):s<7?"".concat(s," дн назад"):e.toLocaleDateString("ru-RU")};const Dr=e=>{const{className:t,avatar:n,size:r="small",noBorder:a=!1}=e,[s,i]=J("avatar",t),o=()=>{switch(r){case"medium":return"24px";case"medium-56":return"32px";case"large-96":return"48px";case"large":return"96px";default:return"16px"}};return c("div",{className:s({size:r,noBorder:a}),children:n&&n!=="undefined"?c("img",{className:i("image"),src:n||"",alt:"Аватар"}):c(me,{icon:"avatar",className:i("icon"),width:o(),height:o()})})};const zw=je(({isOpen:e,onClose:t})=>{const[n,r]=J("notification-dropdown"),a=g.useRef(null);g.useEffect(()=>{const l=u=>{a.current&&!a.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[e,t]);const s=async l=>{try{await Wn.markAsRead(l)}catch(u){console.error("Ошибка отметки уведомления:",u)}},i=async()=>{try{await Wn.markAllAsRead()}catch(l){console.error("Ошибка отметки всех уведомлений:",l)}},o=l=>{switch(l){case"friend_request":return"user-plus";case"friend_accepted":return"user-check";case"friend_rejected":return"user-x";case"achievement":return"trophy";case"goal_completed":return"check-circle";default:return"bell"}};return e?y("div",{ref:a,className:n(),children:[y("div",{className:r("header"),children:[c("h3",{className:r("title"),children:"Уведомления"}),Wn.hasUnreadNotifications&&c(V,{theme:"blue-light",size:"small",onClick:i,children:"Отметить все"})]}),c("div",{className:r("content"),children:!Wn.notifications||Wn.notifications.length===0?c("div",{className:r("empty"),children:c("p",{children:"Нет уведомлений"})}):c("div",{className:r("list"),children:Wn.notifications.map(l=>{var f;const u=l.sender?"".concat(l.sender.firstName," ").concat(l.sender.lastName).trim()||l.sender.username:l.userName,d=((f=l.sender)==null?void 0:f.avatar)||l.userAvatar;return y("button",{className:r("item",{unread:!l.isRead}),onClick:()=>s(l.id),type:"button","aria-label":'Отметить уведомление "'.concat(l.title,'" как прочитанное'),children:[c("div",{className:r("item-avatar"),children:u?c(Dr,{avatar:d,size:"small"}):c("div",{className:r("item-icon"),children:c("span",{className:"icon-".concat(o(l.type))})})}),y("div",{className:r("item-content"),children:[y("div",{className:r("item-header"),children:[c("h4",{className:r("item-title"),children:l.title}),c("span",{className:r("item-time"),children:Yw(new Date(l.createdAt))})]}),c("p",{className:r("item-message"),children:l.message})]}),!l.isRead&&c("div",{className:r("item-badge")})]},l.id)})})})]}):null}),Vw=[{name:"xl",size:1464},{name:"lg",size:1200},{name:"md",size:768},{name:"sm",size:576},{name:"xs",size:0}],vp=e=>{const t={isScreenSmallMobile:!1,isScreenMobile:!1,isScreenSmallTablet:!1,isScreenTablet:!1,isScreenDesktop:!1};switch(e){case"xs":return{...t,isScreenSmallMobile:!0,isScreenMobile:!0};case"sm":return{...t,isScreenMobile:!0};case"md":return{...t,isScreenTablet:!0,isScreenSmallTablet:!0};case"lg":return{...t,isScreenTablet:!0};default:return{...t,isScreenDesktop:!0}}},Qs=()=>{const[e,t]=g.useState(vp("xl")),n=g.useCallback(()=>{const r=window.innerWidth,s=document.documentElement.clientWidth||r;let i="xs";s>=1464?i="xl":s>=1200?i="lg":s>=768?i="md":s>=576?i="sm":i="xs";const o=vp(i);t(o)},[]);return g.useEffect(()=>{const r=Vw.map(({name:a,size:s})=>({mediaQueryList:window.matchMedia("(min-width: ".concat(s,"px)")),mode:a}));return n(),r.forEach(({mediaQueryList:a})=>{a.addEventListener?a.addEventListener("change",n):a.addListener(n)}),()=>{r.forEach(({mediaQueryList:a})=>{a.removeEventListener?a.removeEventListener("change",n):a.removeListener(n)})}},[n]),e};let jw=class{constructor(){this.categoriesTree=[],Jr(this,{},{autoBind:!0})}setCategories(t){const n=new Map,r=[];t.forEach(a=>{n.set(a.id,{...a,children:[]})}),t.forEach(a=>{const s=n.get(a.id);if(a.parentCategory){const i=n.get(a.parentCategory.id);i&&i.children.push(s)}else r.push(s)}),this.categoriesTree=r}};const qw=new jw;let Kw=class{constructor(){this.isOpen=!1,this.window="login",this.funcModal=()=>{},this.setIsOpen=t=>{this.isOpen=t},this.setWindow=t=>{this.window=t},this.setFuncModal=t=>{this.funcModal=t},this.setModalProps=t=>{this.modalProps=t},Jr(this)}};const bn=new Kw;let Qw=class{constructor(){this.isAuth=!!Ft.get("token"),this.name=Ft.get("name")||"",this.avatar=Ft.get("avatar")||"",this.userInfo={avatar:Ft.get("avatar")||"",email:"",name:"",id:0,username:"",firstName:"",lastName:"",country:"",coverImage:"",aboutMe:"",totalAddedGoals:0,totalCompletedGoals:0,totalCompletedLists:0,totalAddedLists:0,totalAchievements:0},this.userSelf={avatar:Ft.get("avatar")||"",email:"",name:"",id:+(Ft.get("id")||0),username:"",firstName:"",lastName:"",country:"",coverImage:"",aboutMe:"",totalAddedGoals:0,totalCompletedGoals:0,totalCompletedLists:0,totalAddedLists:0,totalAchievements:0},this.addedGoals={goals:[],totalAdded:0},this.addedLists={lists:[],totalAdded:0},this.mainGoals={easyGoals:{data:[],countCompleted:0},mediumGoals:{data:[],countCompleted:0},hardGoals:{data:[],countCompleted:0}},this.setIsAuth=t=>{this.isAuth=t},this.setName=t=>{this.name=t},this.setUserInfo=t=>{this.userInfo=t},this.setUserSelf=t=>{this.userSelf=t},this.setAddedGoals=t=>{this.addedGoals=t},this.setAddedLists=t=>{this.addedLists=t},this.setMainGoals=t=>{this.mainGoals=t},this.setAvatar=t=>{this.avatar=t},Jr(this)}};const cn=new Qw,vc=async()=>await we("categories"),Zi=async()=>await we("categories/all"),If=async e=>{const t=await we("user".concat(e?"/".concat(e):""),{auth:!0});t.success&&(e?cn.setUserInfo(t.data):cn.setUserSelf(t.data))};let Xw=class{constructor(){this.header="transparent",this.page="isMainPage",this.full=!0,this.setHeader=t=>{this.header=t},this.setPage=t=>{this.page=t},this.setFull=t=>{this.full=t},Jr(this)}};const yt=new Xw;var Gt={},Of={},eo={},to={},Ub="Expected a function",yp=0/0,Jw="[object Symbol]",Zw=/^\s+|\s+$/g,eC=/^[-+]0x[0-9a-f]+$/i,tC=/^0b[01]+$/i,nC=/^0o[0-7]+$/i,rC=parseInt,aC=typeof Kn=="object"&&Kn&&Kn.Object===Object&&Kn,sC=typeof self=="object"&&self&&self.Object===Object&&self,iC=aC||sC||Function("return this")(),oC=Object.prototype,lC=oC.toString,cC=Math.max,uC=Math.min,_u=function(){return iC.Date.now()};function dC(e,t,n){var r,a,s,i,o,l,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(Ub);t=Ep(t)||0,Ml(n)&&(d=!!n.leading,f="maxWait"in n,s=f?cC(Ep(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p);function h(S){var A=r,P=a;return r=a=void 0,u=S,i=e.apply(P,A),i}function m(S){return u=S,o=setTimeout(E,t),d?h(S):i}function v(S){var A=S-l,P=S-u,O=t-A;return f?uC(O,s-P):O}function T(S){var A=S-l,P=S-u;return l===void 0||A>=t||A<0||f&&P>=s}function E(){var S=_u();if(T(S))return C(S);o=setTimeout(E,v(S))}function C(S){return o=void 0,p&&r?h(S):(r=a=void 0,i)}function _(){o!==void 0&&clearTimeout(o),u=0,r=l=a=o=void 0}function N(){return o===void 0?i:C(_u())}function x(){var S=_u(),A=T(S);if(r=arguments,a=this,l=S,A){if(o===void 0)return m(l);if(f)return o=setTimeout(E,t),h(l)}return o===void 0&&(o=setTimeout(E,t)),i}return x.cancel=_,x.flush=N,x}function fC(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(Ub);return Ml(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),dC(e,t,{leading:r,maxWait:t,trailing:a})}function Ml(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function hC(e){return!!e&&typeof e=="object"}function pC(e){return typeof e=="symbol"||hC(e)&&lC.call(e)==Jw}function Ep(e){if(typeof e=="number")return e;if(pC(e))return yp;if(Ml(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ml(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Zw,"");var n=tC.test(e);return n||nC.test(e)?rC(e.slice(2),n?2:8):eC.test(e)?yp:+e}var mC=fC,no={};Object.defineProperty(no,"__esModule",{value:!0});no.addPassiveEventListener=function(t,n,r){var a=r.name;a||(a=n,console.warn("Listener must be a named function.")),hl.has(n)||hl.set(n,new Set);var s=hl.get(n);if(!s.has(a)){var i=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,l)}catch(u){}return o}();t.addEventListener(n,r,i?{passive:!0}:!1),s.add(a)}};no.removePassiveEventListener=function(t,n,r){t.removeEventListener(n,r),hl.get(n).delete(r.name||n)};var hl=new Map;Object.defineProperty(to,"__esModule",{value:!0});var gC=mC,bC=vC(gC),_p=no;function vC(e){return e&&e.__esModule?e:{default:e}}var yC=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,bC.default)(t,n)},Rt={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(t,n){if(t){var r=yC(function(a){Rt.scrollHandler(t)},n);return Rt.scrollSpyContainers.push(t),(0,_p.addPassiveEventListener)(t,"scroll",r),function(){(0,_p.removePassiveEventListener)(t,"scroll",r),Rt.scrollSpyContainers.splice(Rt.scrollSpyContainers.indexOf(t),1)}}return function(){}},isMounted:function(t){return Rt.scrollSpyContainers.indexOf(t)!==-1},currentPositionX:function(t){if(t===document){var n=window.scrollY!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.scrollX:r?document.documentElement.scrollLeft:document.body.scrollLeft}else return t.scrollLeft},currentPositionY:function(t){if(t===document){var n=window.scrollX!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.scrollY:r?document.documentElement.scrollTop:document.body.scrollTop}else return t.scrollTop},scrollHandler:function(t){var n=Rt.scrollSpyContainers[Rt.scrollSpyContainers.indexOf(t)].spyCallbacks||[];n.forEach(function(r){return r(Rt.currentPositionX(t),Rt.currentPositionY(t))})},addStateHandler:function(t){Rt.spySetState.push(t)},addSpyHandler:function(t,n){var r=Rt.scrollSpyContainers[Rt.scrollSpyContainers.indexOf(n)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(t)},updateStates:function(){Rt.spySetState.forEach(function(t){return t()})},unmount:function(t,n){Rt.scrollSpyContainers.forEach(function(r){return r.spyCallbacks&&r.spyCallbacks.length&&r.spyCallbacks.indexOf(n)>-1&&r.spyCallbacks.splice(r.spyCallbacks.indexOf(n),1)}),Rt.spySetState&&Rt.spySetState.length&&Rt.spySetState.indexOf(t)>-1&&Rt.spySetState.splice(Rt.spySetState.indexOf(t),1),document.removeEventListener("scroll",Rt.scrollHandler)},update:function(){return Rt.scrollSpyContainers.forEach(function(t){return Rt.scrollHandler(t)})}};to.default=Rt;var Xs={},ro={};Object.defineProperty(ro,"__esModule",{value:!0});var EC=function(t,n){var r=t.indexOf("#")===0?t.substring(1):t,a=r?"#"+r:"",s=window&&window.location,i=a?s.pathname+s.search+a:s.pathname+s.search;n?history.pushState(history.state,"",i):history.replaceState(history.state,"",i)},_C=function(){return window.location.hash.replace(/^#/,"")},TC=function(t){return function(n){return t.contains?t!=n&&t.contains(n):!!(t.compareDocumentPosition(n)&16)}},SC=function(t){return getComputedStyle(t).position!=="static"},Tu=function(t,n){for(var r=t.offsetTop,a=t.offsetParent;a&&!n(a);)r+=a.offsetTop,a=a.offsetParent;return{offsetTop:r,offsetParent:a}},wC=function(t,n,r){if(r)return t===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(t).position!=="static"?n.offsetLeft:n.offsetLeft-t.offsetLeft;if(t===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(SC(t)){if(n.offsetParent!==t){var a=function(d){return d===t||d===document},s=Tu(n,a),i=s.offsetTop,o=s.offsetParent;if(o!==t)throw new Error("Seems containerElement is not an ancestor of the Element");return i}return n.offsetTop}if(n.offsetParent===t.offsetParent)return n.offsetTop-t.offsetTop;var l=function(d){return d===document};return Tu(n,l).offsetTop-Tu(t,l).offsetTop};ro.default={updateHash:EC,getHash:_C,filterElementInContainer:TC,scrollOffset:wC};var yc={},Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.default={defaultEasing:function(t){return t<.5?Math.pow(t*2,2)/2:1-Math.pow((1-t)*2,2)/2},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});var CC=no,NC=["mousedown","wheel","touchmove","keydown"];Lf.default={subscribe:function(t){return typeof document<"u"&&NC.forEach(function(n){return(0,CC.addPassiveEventListener)(document,n,t)})}};var ao={};Object.defineProperty(ao,"__esModule",{value:!0});var Rd={registered:{},scrollEvent:{register:function(t,n){Rd.registered[t]=n},remove:function(t){Rd.registered[t]=null}}};ao.default=Rd;Object.defineProperty(yc,"__esModule",{value:!0});var xC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kC=ro;Ec(kC);var AC=Pf,Tp=Ec(AC),DC=Lf,IC=Ec(DC),OC=ao,gr=Ec(OC);function Ec(e){return e&&e.__esModule?e:{default:e}}var Hb=function(t){return Tp.default[t.smooth]||Tp.default.defaultEasing},PC=function(t){return typeof t=="function"?t:function(){return t}},LC=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Md=function(){return LC()||function(e,t,n){window.setTimeout(e,n||1e3/60,new Date().getTime())}}(),Gb=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},$b=function(t){var n=t.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var r=window.pageXOffset!==void 0,a=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:a?document.documentElement.scrollLeft:document.body.scrollLeft},Wb=function(t){var n=t.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var r=window.pageXOffset!==void 0,a=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:a?document.documentElement.scrollTop:document.body.scrollTop},RC=function(t){var n=t.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var r=document.body,a=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,a.clientWidth,a.scrollWidth,a.offsetWidth)},MC=function(t){var n=t.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var r=document.body,a=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)},FC=function e(t,n,r){var a=n.data;if(!n.ignoreCancelEvents&&a.cancel){gr.default.registered.end&&gr.default.registered.end(a.to,a.target,a.currentPositionY);return}if(a.delta=Math.round(a.targetPosition-a.startPosition),a.start===null&&(a.start=r),a.progress=r-a.start,a.percent=a.progress>=a.duration?1:t(a.progress/a.duration),a.currentPosition=a.startPosition+Math.ceil(a.delta*a.percent),a.containerElement&&a.containerElement!==document&&a.containerElement!==document.body?n.horizontal?a.containerElement.scrollLeft=a.currentPosition:a.containerElement.scrollTop=a.currentPosition:n.horizontal?window.scrollTo(a.currentPosition,0):window.scrollTo(0,a.currentPosition),a.percent<1){var s=e.bind(null,t,n);Md.call(window,s);return}gr.default.registered.end&&gr.default.registered.end(a.to,a.target,a.currentPosition)},Rf=function(t){t.data.containerElement=t?t.containerId?document.getElementById(t.containerId):t.container&&t.container.nodeType?t.container:document:null},so=function(t,n,r,a){n.data=n.data||Gb(),window.clearTimeout(n.data.delayTimeout);var s=function(){n.data.cancel=!0};if(IC.default.subscribe(s),Rf(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?$b(n):Wb(n),n.data.targetPosition=n.absolute?t:t+n.data.startPosition,n.data.startPosition===n.data.targetPosition){gr.default.registered.end&&gr.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=PC(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=r,n.data.target=a;var i=Hb(n),o=FC.bind(null,i,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){gr.default.registered.begin&&gr.default.registered.begin(n.data.to,n.data.target),Md.call(window,o)},n.delay);return}gr.default.registered.begin&&gr.default.registered.begin(n.data.to,n.data.target),Md.call(window,o)},_c=function(t){return t=xC({},t),t.data=t.data||Gb(),t.absolute=!0,t},BC=function(t){so(0,_c(t))},UC=function(t,n){so(t,_c(n))},HC=function(t){t=_c(t),Rf(t),so(t.horizontal?RC(t):MC(t),t)},GC=function(t,n){n=_c(n),Rf(n);var r=n.horizontal?$b(n):Wb(n);so(t+r,n)};yc.default={animateTopScroll:so,getAnimationType:Hb,scrollToTop:BC,scrollToBottom:HC,scrollTo:UC,scrollMore:GC};Object.defineProperty(Xs,"__esModule",{value:!0});var $C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WC=ro,YC=Mf(WC),zC=yc,VC=Mf(zC),jC=ao,Uo=Mf(jC);function Mf(e){return e&&e.__esModule?e:{default:e}}var Ho={},Sp=void 0;Xs.default={unmount:function(){Ho={}},register:function(t,n){Ho[t]=n},unregister:function(t){delete Ho[t]},get:function(t){return Ho[t]||document.getElementById(t)||document.getElementsByName(t)[0]||document.getElementsByClassName(t)[0]},setActiveLink:function(t){return Sp=t},getActiveLink:function(){return Sp},scrollTo:function(t,n){var r=this.get(t);if(!r){console.warn("target Element not found");return}n=$C({},n,{absolute:!1});var a=n.containerId,s=n.container,i=void 0;a?i=document.getElementById(a):s&&s.nodeType?i=s:i=document,n.absolute=!0;var o=n.horizontal,l=YC.default.scrollOffset(i,r,o)+(n.offset||0);if(!n.smooth){Uo.default.registered.begin&&Uo.default.registered.begin(t,r),i===document?n.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):i.scrollTop=l,Uo.default.registered.end&&Uo.default.registered.end(t,r);return}VC.default.animateTopScroll(l,n,t,r)}};var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});var qC=ro,Su=KC(qC);function KC(e){return e&&e.__esModule?e:{default:e}}var QC={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(t){this.scroller=t,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(t,n){this.containers[t]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var t=this,n=this.getHash();n?window.setTimeout(function(){t.scrollTo(n,!0),t.initialized=!0},10):this.initialized=!0},scrollTo:function(t,n){var r=this.scroller,a=r.get(t);if(a&&(n||t!==r.getActiveLink())){var s=this.containers[t]||document;r.scrollTo(t,{container:s})}},getHash:function(){return Su.default.getHash()},changeHash:function(t,n){this.isInitialized()&&Su.default.getHash()!==t&&Su.default.updateHash(t,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Tc.default=QC;Object.defineProperty(eo,"__esModule",{value:!0});var Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XC=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),JC=g,wp=io(JC),ZC=to,$o=io(ZC),eN=Xs,tN=io(eN),nN=Ot,Dt=io(nN),rN=Tc,ea=io(rN);function io(e){return e&&e.__esModule?e:{default:e}}function aN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sN(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function iN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Cp={to:Dt.default.string.isRequired,containerId:Dt.default.string,container:Dt.default.object,activeClass:Dt.default.string,activeStyle:Dt.default.object,spy:Dt.default.bool,horizontal:Dt.default.bool,smooth:Dt.default.oneOfType([Dt.default.bool,Dt.default.string]),offset:Dt.default.number,delay:Dt.default.number,isDynamic:Dt.default.bool,onClick:Dt.default.func,duration:Dt.default.oneOfType([Dt.default.number,Dt.default.func]),absolute:Dt.default.bool,onSetActive:Dt.default.func,onSetInactive:Dt.default.func,ignoreCancelEvents:Dt.default.bool,hashSpy:Dt.default.bool,saveHashHistory:Dt.default.bool,spyThrottle:Dt.default.number};eo.default=function(e,t){var n=t||tN.default,r=function(s){iN(i,s);function i(o){aN(this,i);var l=sN(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o));return a.call(l),l.state={active:!1},l.beforeUnmountCallbacks=[],l}return XC(i,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,u=this.props.container;return l&&!u?document.getElementById(l):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();if(!$o.default.isMounted(l)){var u=$o.default.mount(l,this.props.spyThrottle);this.beforeUnmountCallbacks.push(u)}this.props.hashSpy&&(ea.default.isMounted()||ea.default.mount(n),ea.default.mapContainer(this.props.to,l)),$o.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){$o.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(l){return l()})}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var u={};this.state&&this.state.active?u=Go({},this.props.style,this.props.activeStyle):u=Go({},this.props.style);var d=Go({},this.props);for(var f in Cp)d.hasOwnProperty(f)&&delete d[f];return d.className=l,d.style=u,d.onClick=this.handleClick,wp.default.createElement(e,d)}}]),i}(wp.default.PureComponent),a=function(){var i=this;this.scrollTo=function(o,l){n.scrollTo(o,Go({},i.state,l))},this.handleClick=function(o){i.props.onClick&&i.props.onClick(o),o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault(),i.scrollTo(i.props.to,i.props)},this.spyHandler=function(o,l){var u=i.getScrollSpyContainer();if(!(ea.default.isMounted()&&!ea.default.isInitialized())){var d=i.props.horizontal,f=i.props.to,p=null,h=void 0,m=void 0;if(d){var v=0,T=0,E=0;if(u.getBoundingClientRect){var C=u.getBoundingClientRect();E=C.left}if(!p||i.props.isDynamic){if(p=n.get(f),!p)return;var _=p.getBoundingClientRect();v=_.left-E+o,T=v+_.width}var N=o-i.props.offset;h=N>=Math.floor(v)&&N<Math.floor(T),m=N<Math.floor(v)||N>=Math.floor(T)}else{var x=0,S=0,A=0;if(u.getBoundingClientRect){var P=u.getBoundingClientRect();A=P.top}if(!p||i.props.isDynamic){if(p=n.get(f),!p)return;var O=p.getBoundingClientRect();x=O.top-A+l,S=x+O.height}var k=l-i.props.offset;h=k>=Math.floor(x)&&k<Math.floor(S),m=k<Math.floor(x)||k>=Math.floor(S)}var w=n.getActiveLink();if(m){if(f===w&&n.setActiveLink(void 0),i.props.hashSpy&&ea.default.getHash()===f){var D=i.props.saveHashHistory,M=D===void 0?!1:D;ea.default.changeHash("",M)}i.props.spy&&i.state.active&&(i.setState({active:!1}),i.props.onSetInactive&&i.props.onSetInactive(f,p))}if(h&&(w!==f||i.state.active===!1)){n.setActiveLink(f);var U=i.props.saveHashHistory,G=U===void 0?!1:U;i.props.hashSpy&&ea.default.changeHash(f,G),i.props.spy&&(i.setState({active:!0}),i.props.onSetActive&&i.props.onSetActive(f,p))}}}};return r.propTypes=Cp,r.defaultProps={offset:0},r};Object.defineProperty(Of,"__esModule",{value:!0});var oN=g,Np=Yb(oN),lN=eo,cN=Yb(lN);function Yb(e){return e&&e.__esModule?e:{default:e}}function uN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function dN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fN=function(e){dN(t,e);function t(){var n,r,a,s;uN(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return s=(r=(a=xp(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(o))),a),a.render=function(){return Np.default.createElement("a",a.props,a.props.children)},r),xp(a,s)}return t}(Np.default.Component);Of.default=(0,cN.default)(fN);var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});var hN=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pN=g,kp=zb(pN),mN=eo,gN=zb(mN);function zb(e){return e&&e.__esModule?e:{default:e}}function bN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vN(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function yN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var EN=function(e){yN(t,e);function t(){return bN(this,t),vN(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return hN(t,[{key:"render",value:function(){return kp.default.createElement("button",this.props,this.props.children)}}]),t}(kp.default.Component);Ff.default=(0,gN.default)(EN);var Bf={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});var _N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TN=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),SN=g,Ap=wc(SN),wN=Yi;wc(wN);var CN=Xs,Dp=wc(CN),NN=Ot,Ip=wc(NN);function wc(e){return e&&e.__esModule?e:{default:e}}function xN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kN(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function AN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Sc.default=function(e){var t=function(n){AN(r,n);function r(a){xN(this,r);var s=kN(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a));return s.childBindings={domNode:null},s}return TN(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Dp.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){Dp.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return Ap.default.createElement(e,_N({},this.props,{parentBindings:this.childBindings}))}}]),r}(Ap.default.Component);return t.propTypes={name:Ip.default.string,id:Ip.default.string},t};Object.defineProperty(Bf,"__esModule",{value:!0});var Op=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DN=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),IN=g,Pp=Uf(IN),ON=Sc,PN=Uf(ON),LN=Ot,Lp=Uf(LN);function Uf(e){return e&&e.__esModule?e:{default:e}}function RN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MN(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function FN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Vb=function(e){FN(t,e);function t(){return RN(this,t),MN(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return DN(t,[{key:"render",value:function(){var r=this,a=Op({},this.props);return delete a.name,a.parentBindings&&delete a.parentBindings,Pp.default.createElement("div",Op({},a,{ref:function(i){r.props.parentBindings.domNode=i}}),this.props.children)}}]),t}(Pp.default.Component);Vb.propTypes={name:Lp.default.string,id:Lp.default.string};Bf.default=(0,PN.default)(Vb);var wu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rp=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Mp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Bp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Wo=g,_a=to,Cu=Xs,Mt=Ot,ta=Tc,Up={to:Mt.string.isRequired,containerId:Mt.string,container:Mt.object,activeClass:Mt.string,spy:Mt.bool,smooth:Mt.oneOfType([Mt.bool,Mt.string]),offset:Mt.number,delay:Mt.number,isDynamic:Mt.bool,onClick:Mt.func,duration:Mt.oneOfType([Mt.number,Mt.func]),absolute:Mt.bool,onSetActive:Mt.func,onSetInactive:Mt.func,ignoreCancelEvents:Mt.bool,hashSpy:Mt.bool,spyThrottle:Mt.number},BN={Scroll:function(t,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=n||Cu,a=function(i){Bp(o,i);function o(l){Mp(this,o);var u=Fp(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return s.call(u),u.state={active:!1},u}return Rp(o,[{key:"getScrollSpyContainer",value:function(){var u=this.props.containerId,d=this.props.container;return u?document.getElementById(u):d&&d.nodeType?d:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var u=this.getScrollSpyContainer();_a.isMounted(u)||_a.mount(u,this.props.spyThrottle),this.props.hashSpy&&(ta.isMounted()||ta.mount(r),ta.mapContainer(this.props.to,u)),this.props.spy&&_a.addStateHandler(this.stateHandler),_a.addSpyHandler(this.spyHandler,u),this.setState({container:u})}}},{key:"componentWillUnmount",value:function(){_a.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var u="";this.state&&this.state.active?u=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():u=this.props.className;var d=wu({},this.props);for(var f in Up)d.hasOwnProperty(f)&&delete d[f];return d.className=u,d.onClick=this.handleClick,Wo.createElement(t,d)}}]),o}(Wo.Component),s=function(){var o=this;this.scrollTo=function(l,u){r.scrollTo(l,wu({},o.state,u))},this.handleClick=function(l){o.props.onClick&&o.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),o.scrollTo(o.props.to,o.props)},this.stateHandler=function(){r.getActiveLink()!==o.props.to&&(o.state!==null&&o.state.active&&o.props.onSetInactive&&o.props.onSetInactive(),o.setState({active:!1}))},this.spyHandler=function(l){var u=o.getScrollSpyContainer();if(!(ta.isMounted()&&!ta.isInitialized())){var d=o.props.to,f=null,p=0,h=0,m=0;if(u.getBoundingClientRect){var v=u.getBoundingClientRect();m=v.top}if(!f||o.props.isDynamic){if(f=r.get(d),!f)return;var T=f.getBoundingClientRect();p=T.top-m+l,h=p+T.height}var E=l-o.props.offset,C=E>=Math.floor(p)&&E<Math.floor(h),_=E<Math.floor(p)||E>=Math.floor(h),N=r.getActiveLink();if(_)return d===N&&r.setActiveLink(void 0),o.props.hashSpy&&ta.getHash()===d&&ta.changeHash(),o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive()),_a.updateStates();if(C&&N!==d)return r.setActiveLink(d),o.props.hashSpy&&ta.changeHash(d),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(d)),_a.updateStates()}}};return a.propTypes=Up,a.defaultProps={offset:0},a},Element:function(t){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(r){Bp(a,r);function a(s){Mp(this,a);var i=Fp(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,s));return i.childBindings={domNode:null},i}return Rp(a,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(i){this.props.name!==i.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Cu.unregister(this.props.name)}},{key:"registerElems",value:function(i){Cu.register(i,this.childBindings.domNode)}},{key:"render",value:function(){return Wo.createElement(t,wu({},this.props,{parentBindings:this.childBindings}))}}]),a}(Wo.Component);return n.propTypes={name:Mt.string,id:Mt.string},n}},UN=BN;Object.defineProperty(Gt,"__esModule",{value:!0});Gt.Helpers=Gt.ScrollElement=Gt.ScrollLink=Gt.animateScroll=Gt.scrollSpy=Gt.Events=oo=Gt.scroller=Gt.Element=Gt.Button=Gt.Link=void 0;var HN=Of,jb=Or(HN),GN=Ff,qb=Or(GN),$N=Bf,Kb=Or($N),WN=Xs,Qb=Or(WN),YN=ao,Xb=Or(YN),zN=to,Jb=Or(zN),VN=yc,Zb=Or(VN),jN=eo,ev=Or(jN),qN=Sc,tv=Or(qN),KN=UN,nv=Or(KN);function Or(e){return e&&e.__esModule?e:{default:e}}Gt.Link=jb.default;Gt.Button=qb.default;Gt.Element=Kb.default;var oo=Gt.scroller=Qb.default;Gt.Events=Xb.default;Gt.scrollSpy=Jb.default;Gt.animateScroll=Zb.default;Gt.ScrollLink=ev.default;Gt.ScrollElement=tv.default;Gt.Helpers=nv.default;Gt.default={Link:jb.default,Button:qb.default,Element:Kb.default,scroller:Qb.default,Events:Xb.default,scrollSpy:Jb.default,animateScroll:Zb.default,ScrollLink:ev.default,ScrollElement:tv.default,Helpers:nv.default};const gi=async(e,t)=>await we("goals/".concat(e,"/all"),{auth:!0,get:t}),_t=(e,t,n=!0)=>e%10===1&&e%100!==11?"".concat(n?e:""," ").concat(t[0]):e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?"".concat(n?e:""," ").concat(t[1]||t[0]):"".concat(n?e:""," ").concat(t[2]||t[0]),QN=e=>{if(!e||e<=0)return"";const t=Math.floor(e/86400),n=Math.floor(e%86400/3600),r=Math.floor(e%3600/60),a=[];return t>0&&a.push("".concat(t," д")),n>0&&a.push("".concat(n," ч")),r>0&&a.push("".concat(r," м")),a.length===0?"< 1м":a.join(" ")},XN=e=>{if(!e)return 0;const t=e.split(":");if(t.length===3){const n=parseInt(t[0],10)||0,r=parseInt(t[1],10)||0,a=parseInt(t[2],10)||0;return n*3600+r*60+a}if(t.length===2){const n=parseInt(t[0],10)||0,r=parseInt(t[1],10)||0;return n*3600+r*60}return 0},JN=e=>{if(!e)return"";let t;return typeof e=="number"?t=e:t=XN(e),QN(t)},Hf=e=>{if(!e||!e.trim())return!0;const t=e.trim().toLowerCase();return!!(/^\d+\.?\d*$/.test(t)||/^\d{1,2}:?\d{0,2}(:\d{0,2})?$/.test(t)||/^(\d+\s*[дddays]?\s*)?(\d+\s*[чhours]?\s*)?(\d+\s*[мminutes]?\s*)?(\d+\s*[сseconds]?\s*)?$/.test(t.replace(/\s+/g,""))||/^(\d+\s*(день|дня|дней|день|day|days)?\s*)?(\d+\s*(час|часа|часов|hour|hours)?\s*)?(\d+\s*(минута|минуты|минут|minute|minutes)?\s*)?(\d+\s*(секунда|секунды|секунд|second|seconds)?\s*)?$/.test(t)||/^[0-9:дчмсднейячасовминутсекунд\s]+$/i.test(t))},Cc={hard:"Тяжело",medium:"Средне",easy:"Легко"},rv={hard:"Тяжелая категория",medium:"Средняя категория",easy:"Легкая категория"},ZN={hard:"Невероятно! Ты сделал невозможное возможным",medium:"Ты доказал: упорство творит чудеса",easy:"Ты разогрелся! Первая вершина покорена"},Bt=[{name:"Легко",value:"easy"},{name:"Средне",value:"medium"},{name:"Тяжело",value:"hard"}];const tn=e=>{const{className:t,vertical:n,margin:r,height:a=0}=e,[s]=J("line",t);return n?c("div",{style:{display:"flex",alignItems:"center"},children:c("div",{className:s({vertical:n}),style:{margin:r,height:"calc(100% + ".concat(a,"px)")}})}):c("hr",{className:s(),style:{margin:r}})};const Cn=e=>{const{icon:t,className:n,text:r,category:a,theme:s,classNameIcon:i,complexity:o,style:l}=e,[u]=J("tag",n);return y("span",{className:u({category:a,theme:s}),style:l,children:[t&&c(me,{className:i,icon:t}),r&&r,o&&Cc[o]]})};const Nc=e=>{const{className:t,theme:n,category:r,complexity:a,done:s,added:i,medal:o,time:l,estimatedTime:u,showSeparator:d,userFolders:f}=e,[p]=J("tags",t),h=l||(u?JN(u):null),m=[];return r&&m.push(c(Cn,{category:r.nameEn,text:r.name,theme:n})),o&&m.push(c(Cn,{text:o,theme:n,icon:"medal"})),m.push(c(Cn,{text:Cc[a],theme:n,icon:a})),i&&m.push(c(Cn,{text:i,theme:n,icon:"people"})),s&&m.push(c(Cn,{text:s,theme:n,icon:"done"})),h&&m.push(c(Cn,{text:h,theme:n,icon:"watch"})),f&&f.length>0&&f.forEach(v=>{m.push(c(Cn,{text:v.name,theme:n,icon:v.icon,style:{backgroundColor:v.color}}))}),c("section",{className:p(),children:m.map((v,T)=>y(g.Fragment,{children:[v,d&&T<m.length-1&&c(tn,{vertical:!0})]},T))})};const De=e=>{const{className:t,tag:n="h4",theme:r,children:a}=e,[s]=J("title",t);return(()=>{switch(n){case"h1":return c("h1",{className:s({tag:n,theme:r}),children:a});case"h2":return c("h2",{className:s({tag:n,theme:r}),children:a});case"h3":return c("h3",{className:s({tag:n,theme:r}),children:a});case"h4":default:return c("h4",{className:s({tag:n,theme:r}),children:a})}})()};const ex=e=>{const{className:t,goal:n}=e,[r,a]=J("card-short",t);return c("section",{className:r(),children:y(Ze,{to:"/goals/".concat(n.code),className:a("link"),children:[c("img",{src:n.image,alt:n.title,className:a("img")}),y("div",{className:a("info"),children:[c(De,{tag:"h3",className:a("title"),children:n.title}),c("div",{className:a("tags-wrapper"),children:c(Nc,{complexity:n.complexity,added:n.totalAdded,estimatedTime:n.estimatedTime,theme:"integrate",className:a("tags"),showSeparator:!0})})]})]})})};const Oe=e=>{const{className:t,type:n="text",placeholder:r,id:a,text:s,value:i,setValue:o,setValueTarget:l,iconBegin:u,iconEnd:d,autoComplete:f="off",error:p,required:h,onFocus:m,onBlur:v,onKeyDown:T,theme:E,focusBorder:C}=e,[_,N]=J("field-input",t),[x,S]=g.useState(n),A=()=>{S(x==="password"?"text":"password")},P=O=>{l?l(O):o&&o(O.target.value)};return y("div",{className:_({error:!!p,theme:E}),children:[s&&c("label",{className:N("label"),htmlFor:a,children:s}),y("div",{className:N("wrapper"),children:[u&&c(me,{icon:u,className:N("icon-begin")}),x==="textarea"?c("textarea",{className:N("input",{iconBegin:!!u,textarea:!0,iconEnd:!!d}),id:a,placeholder:r,value:i,onChange:P,onFocus:m,onBlur:v,onKeyDown:T}):c("input",{className:N("input",{iconBegin:!!u,focusBorder:C,iconEnd:!!d||n==="password"}),id:a,type:x,placeholder:r,value:i,onChange:P,autoComplete:f,required:h,onFocus:m,onBlur:v,onKeyDown:T}),n==="password"&&c("button",{type:"button",className:N("show-password"),onClick:A,"aria-label":"Показать пароль",children:x==="password"?c(me,{icon:"eye"}):c(me,{icon:"eye-closed"})}),d&&c(me,{icon:d,className:N("icon-end")})]}),p==null?void 0:p.map(O=>c("p",{className:N("error"),children:O},O))]})};const ht=({isLoading:e,children:t,className:n,isPageLoader:r})=>{const[a,s]=J("loader");return!e&&!t?null:y("div",{className:a({page:r}),children:[t&&c("div",{className:s("content",{blurred:e,page:r},n),children:t}),e&&c("div",{className:s("overlay"),children:y("svg",{width:"80",height:"80",viewBox:"-10 -10 50 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",overflow:"visible",children:[y("g",{className:s("aim"),children:[c("circle",{cx:"11.3667",cy:"14.56",r:"11.25",fill:"#E05A4F"}),c("circle",{cx:"11.3667",cy:"14.56",r:"8.25",fill:"white"}),c("circle",{cx:"11.3667",cy:"14.56",r:"4.25",fill:"#E05A4F"})]}),y("g",{className:s("dart"),children:[c("rect",{x:"10.33",y:"13.48",width:"18.63",height:"2.077",rx:"1.0385",transform:"rotate(-30.16 10.33 13.48)",fill:"white"}),c("path",{d:"M21.2094 9.564L25.0427 11.212C25.6205 11.4604 26.2818 11.4201 26.827 11.1033L30.4352 9.00667L25.6838 6.964L21.2094 9.564Z",fill:"#3A89D8"}),c("path",{d:"M20.176 7.76267L20.6746 3.59748C20.7498 2.96968 21.1151 2.41344 21.6603 2.09662L25.2685 3.64657e-06L24.6505 5.16267L20.176 7.76267Z",fill:"#3A89D8"})]})]})})]})};const Hp=je(e=>{const{className:t,isModal:n,theme:r}=e,[a,s]=J("global-goals-search",t),i=Rn(),[o,l]=g.useState(""),[u,d]=g.useState(!1),[f,p]=g.useState([]),[h,m]=g.useState(0),[v,T]=g.useState(!1),[E,C]=g.useState(null),_=g.useRef(null);g.useEffect(()=>{if(n)return;const w=D=>{_.current&&!_.current.contains(D.target)&&T(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[n]);const N=g.useCallback(async w=>{if(w.length<2){p([]),m(0),T(!1);return}d(!0);try{const D=await gi("all",{search:w,page:1,limit:6});D.success&&(p(D.data.data),m(D.data.pagination.totalItems),T(!0))}catch(D){p([]),m(0)}finally{d(!1)}},[]),x=w=>{l(w),E&&clearTimeout(E);const D=setTimeout(()=>{N(w)},300);C(D)},S=()=>{o.trim()&&(T(!1),i("/categories/all?search=".concat(encodeURIComponent(o))),setTimeout(()=>{oo.scrollTo("catalog-items-goals",{duration:800,delay:100,smooth:"easeInOutQuart",offset:-150})},100))},A=w=>{T(!1),i("/goals/".concat(w))},P=()=>{f.length>0&&T(!0)},O=w=>{w.key==="Enter"&&(w.preventDefault(),S()),w.key==="Escape"&&T(!1)},k=()=>c("div",{className:s("results"),style:{maxHeight:n?"auto":"60vh",overflowY:"auto",padding:"8px 0"},children:f.map(w=>c("div",{className:s("result-item"),role:"button",tabIndex:0,onClick:()=>A(w.code),onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),A(w.code))},"aria-label":"Перейти к цели ".concat(w.title),children:c(ex,{goal:w})},w.code))});return y("div",{className:a({isModal:n,theme:r}),ref:_,children:[!n&&y("div",{className:s("input-wrapper"),children:[c(Oe,{className:s("input"),placeholder:"Поиск целей",id:"global-search",value:o,setValue:x,iconEnd:"search",onFocus:P,onKeyDown:O,theme:!n&&r==="transparent"?"transparent":void 0,focusBorder:"white"}),u&&c("div",{className:s("loading"),children:c(ht,{isLoading:!0})})]}),(v||n)&&y("div",{className:s("dropdown"),children:[n&&y("div",{className:s("input-wrapper"),children:[c(Oe,{className:s("input"),placeholder:"Поиск целей",id:"global-search",value:o,setValue:x,iconEnd:"search",onFocus:P,onKeyDown:O,theme:!n&&r==="transparent"?"transparent":void 0,focusBorder:"white"}),u&&c("div",{className:s("loading"),children:c(ht,{isLoading:!0})})]}),f.length>0?y(ft,{children:[c(k,{}),h>6&&c("div",{className:s("show-all",{isModal:n}),children:c(V,{className:s("show-all-button"),theme:"blue-light",size:"medium",onClick:S,children:y(ft,{children:["Показать результаты: ",h]})})})]}):c("div",{className:s("no-results"),children:y("div",{className:s("no-results-content"),children:[c(me,{icon:"search",className:s("no-results-icon")}),c("span",{className:s("no-results-text"),children:o.length<2?"Введите минимум 2 символа для поиска":"Цели не найдены"})]})})]})]})});const Nu=je(e=>{const{className:t,children:n,isOpen:r,onClose:a,title:s}=e,[i,o]=J("modal-phone",t),{isOpen:l,setIsOpen:u}=bn,d=r!==void 0?r:l,f=a||(()=>u(!1)),p=g.useRef(null),h=g.useRef(null),m=g.useCallback(()=>{f()},[f]),v=g.useCallback(C=>{const _=C.target;(_.tagName==="A"||_.closest("a"))&&setTimeout(()=>{m()},100)},[m]),T=g.useCallback(C=>{C.key==="Escape"&&m()},[m]),E=g.useCallback(C=>{const N=C.touches[0].clientY,x=Date.now(),S=P=>{const w=P.touches[0].clientY-N,D=Date.now()-x;if(w>100&&D<300&&p.current){const M=p.current.querySelector(".modal-phone__content");M&&M.scrollTop===0&&m()}},A=()=>{document.removeEventListener("touchmove",S),document.removeEventListener("touchend",A)};document.addEventListener("touchmove",S,{passive:!0}),document.addEventListener("touchend",A)},[m]);return g.useEffect(()=>(d?(document.addEventListener("keyup",T),document.addEventListener("touchstart",E,{passive:!0}),p.current&&p.current.addEventListener("click",v),document.body.style.overflow="hidden",setTimeout(()=>{h.current&&h.current.focus()},100)):(document.removeEventListener("keyup",T),document.removeEventListener("touchstart",E),p.current&&p.current.removeEventListener("click",v),document.body.style.overflow=""),()=>{document.body.style.overflow="",document.removeEventListener("keyup",T),document.removeEventListener("touchstart",E)}),[d,T,E,v]),d?c("section",{className:i({isOpen:d}),children:y("div",{className:o("window"),ref:p,children:[y("div",{className:o("header"),children:[s&&c("h2",{className:o("title"),children:s}),c(V,{type:"button-close",onClick:m,refInner:h,"aria-label":"Закрыть окно"})]}),c("div",{className:o("content"),children:n})]})}):null});const tx=je(e=>{const{className:t}=e,{header:n,page:r}=yt,{setIsOpen:a,setWindow:s}=bn,{categoriesTree:i,setCategories:o}=qw,{isScreenDesktop:l,isScreenSmallTablet:u,isScreenMobile:d,isScreenSmallMobile:f,isScreenTablet:p}=Qs(),{isAuth:h,name:m,avatar:v,setAvatar:T,setIsAuth:E,setName:C,userSelf:_}=cn,[N,x]=g.useState(!1),[S,A]=g.useState(!1),[P,O]=g.useState(null),[k,w]=g.useState(!1),[D,M]=g.useState(!1),[U,G]=g.useState(!1),[F,I]=J("header",t),H=Rn();g.useEffect(()=>{if(i.length>0)return;(async()=>{const he=await Zi();o(he.data)})()},[]);const q=g.useRef(null),L=g.useRef(null),te=g.useRef(null),_e=g.useRef(null),$=()=>{a(!0),s("login")},xe=()=>{a(!0),s("registration")},Pe=()=>{Ft.remove("token"),Ft.remove("avatar"),Ft.remove("name"),Ft.remove("user-id"),T(""),E(!1),C(""),Wn.clearNotifications(),H("/")},Ce=K=>{K.stopPropagation(),x(!N)},We=g.useCallback(K=>{q.current&&!q.current.contains(K.target)&&w(!1),_e.current&&!_e.current.contains(K.target)&&(A(!1),O(null)),te.current&&!te.current.contains(K.target)&&x(!1)},[]),Fe=()=>{d&&w(!0)},Xe=K=>{p&&!d&&(K.preventDefault(),A(!S))};g.useEffect(()=>{_!=null&&_.id||If()},[]),g.useEffect(()=>(k||S||N?document.addEventListener("mousedown",We):document.removeEventListener("mousedown",We),()=>{document.removeEventListener("mousedown",We)}),[k,S,N,We]);const le=y("div",{className:I("profile-menu"),children:[c(Ze,{className:I("menu-item"),to:"/user/".concat(_==null?void 0:_.id,"/showcase/"),children:"Мой профиль"}),c(Ze,{className:I("menu-item"),to:"/user/self",children:"Дашборд"}),c(Ze,{className:I("menu-item"),to:"/user/self/achievements",children:"Достижения"}),c(Ze,{className:I("menu-item"),to:"/user/self/friends",children:"Друзья"}),c(Ze,{className:I("menu-item"),to:"/user/self/maps",children:"Мои карты"}),c(Ze,{className:I("menu-item"),to:"/user/self/active-goals",children:"Активные цели и списки"}),c(Ze,{className:I("menu-item"),to:"/user/self/done-goals",children:"Выполненные"}),c(Ze,{className:I("menu-item"),to:"/user/self/settings",children:"Настройки"}),!d&&c(tn,{margin:"8px 0"}),c("button",{type:"button",className:I("menu-item"),onClick:Pe,children:"Выход"})]}),Le=y("ul",{className:I("list",{open:k,noAuth:!h}),children:[!h&&u&&y(ft,{children:[c(V,{theme:"integrate",size:"small",onClick:$,children:"Войти"}),c(V,{theme:"integrate",size:"small",onClick:xe,children:"Регистрация"}),c(tn,{className:I("list-line"),margin:"8px 0"})]}),c("li",{className:I("item"),children:c(Ze,{className:I("item-link",{active:r==="isMainGoals"}),to:"/list/100-goals",children:"100 целей"})}),c("li",{className:I("item"),children:c(Ze,{className:I("item-link",{active:r==="isCategoriesAll"}),to:"/categories/all",children:"Каталог"})}),c("li",{className:I("item"),children:c(Ze,{className:I("item-link",{active:r==="isLeaders"}),to:"/leaders",children:"Лидеры"})}),c("li",{className:I("item"),children:c(Ze,{className:I("item-link",{active:r==="isNews"}),to:"/news",children:"Новости"})})]}),ae=y("div",{className:I("profile"),children:[c(V,{className:I("sign-in"),theme:"blue-light",size:d?"medium":"small",onClick:$,children:"Войти"}),c(V,{className:I("registration"),theme:"blue",size:d?"medium":"small",icon:"rocket",onClick:xe,children:"Регистрация"})]});return y("header",{className:F({theme:n}),children:[y("div",{className:I("wrapper"),children:[c(Ze,{className:I("logo"),to:"/","aria-label":"Главная",children:d?c(me,{icon:"icon-logo",className:I("logo-icon")}):c(me,{icon:"delting"})}),y("ul",{className:I("list-categories"),children:[y("li",{ref:_e,className:I("categories-item"),onMouseEnter:()=>l&&A(!0),onMouseLeave:()=>{l&&(A(!1),O(null))},children:[p?y("button",{type:"button",className:I("categories-link"),onClick:Xe,children:[c(me,{icon:"apps",className:I("categories-icon")}),l?"Категории":""]}):l?y(Ze,{className:I("categories-link"),to:"/categories",children:[c(me,{icon:"apps",className:I("categories-icon")}),l?"Категории":""]}):c(V,{className:I("categories-link"),onClick:()=>G(!0),children:c(me,{icon:"apps",className:I("categories-icon")})}),c(il,{children:S&&c(_i.ul,{className:I("categories-list",{open:!0}),initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},transition:{duration:.15,ease:"easeOut"},children:i.map(K=>y("li",{className:I("categories-item-parent"),onMouseEnter:()=>O(K.id),onMouseLeave:()=>O(null),children:[y(Ze,{className:I("category-link"),to:"/categories/".concat(K.nameEn),children:[K!=null&&K.icon?c("img",{src:K==null?void 0:K.icon,alt:K==null?void 0:K.name,className:I("categories-icon-img")}):c(me,{icon:(K==null?void 0:K.icon)||"apps"}),K.name,c(me,{icon:"arrow",className:I("categories-arrow")})]}),c(il,{children:K.children.length>0&&P===K.id&&c(_i.ul,{className:I("categories-list",{child:!0,open:!0}),initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:8},transition:{duration:.15,ease:"easeOut"},children:K.children.map(he=>c(Ze,{className:I("category-link",{child:!0}),to:"/categories/".concat(he.nameEn),children:he.name},he.id))})})]},K.id))})})]}),c("li",{className:I("search-item"),children:d?c(V,{className:I("categories-link"),icon:"search",onClick:()=>M(!0),children:"Поиск"}):c(Hp,{className:I("search"),theme:n})})]}),y("nav",{className:I("nav"),ref:q,children:[(u||d)&&c(V,{className:I("categories-link"),onClick:()=>w(!k),children:y(ft,{children:[c(me,{icon:"bars",className:I("categories-icon")}),f?"":"Меню"]})}),!d&&Le]}),h?!f&&y("div",{className:I("right-menu"),children:[y("div",{className:I("notifications-wrapper"),ref:te,children:[y("button",{type:"button",className:I("notifications-button"),onClick:Ce,"aria-label":"Уведомления",children:[c(me,{icon:"bell",className:I("notifications-icon",{theme:n})}),Wn.hasUnreadNotifications&&c("span",{className:I("notifications-badge"),children:Wn.unreadCount>99?"99+":Wn.unreadCount})]}),c(il,{children:N&&c(_i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:I("notifications-dropdown"),children:c(zw,{isOpen:N,onClose:()=>x(!1)})})})]}),y("div",{className:I("profile-wrapper"),ref:L,children:[y("div",{className:I("profile"),role:"button",tabIndex:0,onClick:Fe,onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),Fe())},children:[c(Dr,{avatar:v,size:"small",noBorder:!0}),!d&&c(me,{icon:"arrow--right",className:I("profile-arrow")})]}),!d&&le]})]}):!u&&!d&&ae]}),c(Nu,{title:"Меню",isOpen:d&&k,onClose:()=>w(!1),children:y("div",{className:I("menu-wrapper"),children:[h&&y("div",{className:I("profile"),children:[c(Dr,{avatar:v,size:"small",noBorder:!0}),c("span",{className:I("nickname"),children:m}),!d&&c(me,{icon:"arrow--right",className:I("profile-arrow")})]}),Le,c(tn,{margin:"0"}),h?le:ae]})}),c(Nu,{title:"Поиск",isOpen:D,onClose:()=>M(!1),children:c(Hp,{className:I("search"),isModal:!0})}),c(Nu,{title:"Категории",isOpen:U,onClose:()=>G(!1),children:c("div",{className:I("categories-modal"),children:i.map(K=>y("div",{className:I("category-group"),children:[y(Ze,{className:I("category-main-link"),to:"/categories/".concat(K.nameEn),onClick:()=>G(!1),children:[K!=null&&K.icon?c("img",{src:K==null?void 0:K.icon,alt:K==null?void 0:K.name,className:I("categories-icon-img")}):c(me,{icon:(K==null?void 0:K.icon)||"apps"}),K.name]}),K.children.length>0&&c("div",{className:I("category-children"),children:K.children.map(he=>c(Ze,{className:I("category-child-link"),to:"/categories/".concat(he.nameEn),onClick:()=>G(!1),children:he.name},he.id))})]},K.id))})})]})}),nx=async(e,t,n)=>await Je("login",{body:{email:e,password:t,remember_me:n},showErrorNotification:!1});const Jn=e=>{const{className:t,id:n,text:r,checked:a,setChecked:s}=e,[i,o]=J("field-checkbox"),l=u=>{(u.key===" "||u.key==="Enter")&&(u.preventDefault(),s(!a))};return y("div",{className:i(),children:[c("input",{className:o("input"),id:n,type:"checkbox",value:n,onChange:()=>s(!a),checked:a}),y("label",{className:"".concat(o("label")," ").concat(t),htmlFor:n,children:[c("span",{className:o("checkbox"),role:"button",tabIndex:0,onKeyDown:l,"aria-label":r,children:c(me,{icon:"done",className:o("icon")})}),r]})]})},av=e=>{const{className:t,openRegistration:n,successLogin:r,isPage:a}=e,[s,i]=J("login",t),[o,l]=g.useState(""),[u,d]=g.useState(""),[f,p]=g.useState(""),[h,m]=g.useState(!1),v=async T=>{p(""),T.preventDefault();const E=await nx(o,u,h);E.success?r(E.data):p("Неправильные данные")};return y("form",{className:s({page:a}),onSubmit:T=>v(T),children:[c(me,{icon:"icon-logo",className:i("logo")}),c(De,{tag:"h3",className:i("title"),children:"Вход в лучшую жизнь"}),y("div",{className:i("form"),children:[c(Oe,{placeholder:"E-mail",id:"email",text:"E-mail",value:o,setValue:l,className:i("field"),required:!0}),c(Oe,{placeholder:"Пароль для входа",id:"password",text:"Пароль",value:u,setValue:d,className:i("field"),type:"password",required:!0}),f&&c("p",{className:i("error"),children:f}),c("div",{className:i("move"),children:c(Jn,{id:"remember",text:"Запомнить меня",checked:h,setChecked:m})}),c(V,{typeBtn:"submit",icon:"sign-in",theme:"blue",className:i("btn"),onClick:v,children:"Войти"}),y("p",{className:i("registration"),children:["У вас нет аккаунта?"," ",c(V,{theme:"no-border",className:i("btn-registration"),onClick:n,children:"Регистрация"})]})]})]})},rx=async(e,t)=>await Je("register",{body:{email:e,password:t},showErrorNotification:!1});const sv=e=>{const{className:t,openLogin:n,successRegistration:r,isPage:a}=e,[s,i]=J("registration",t),[o,l]=g.useState(""),[u,d]=g.useState(""),[f,p]=g.useState(""),[h,m]=g.useState({}),v=async T=>{if(m({}),T.preventDefault(),u!==f){m({password:["Пароли не совпадают"]});return}const E=await rx(o,u);E.success?r(E):m(E.errors)};return y("form",{className:s({page:a}),onSubmit:v,children:[c(me,{icon:"icon-logo",className:i("logo")}),c(De,{tag:"h3",className:i("title"),children:"Вступить в лучшую жизнь"}),y("div",{className:i("form"),children:[c(Oe,{placeholder:"E-mail",type:"email",id:"password",text:"E-mail",value:o,setValue:l,className:i("field"),autoComplete:"email",error:h==null?void 0:h.email,required:!0}),c(Oe,{placeholder:"Пароль для входа",id:"new-password",text:"Пароль",value:u,setValue:d,className:i("field"),type:"password",autoComplete:"new-password",required:!0,error:h.password}),c(Oe,{placeholder:"Повтор ввода пароля",id:"repeatPassword",text:"Повторите пароль",value:f,setValue:p,className:i("field"),type:"password",autoComplete:"new-password",required:!0}),c(V,{icon:"rocket",theme:"blue",className:i("btn"),typeBtn:"submit",children:"Зарегистрироваться"}),y("p",{className:i("sign-in"),children:["У вас уже есть аккаунт?",c(V,{theme:"no-border",className:i("btn-sign-in"),onClick:n,children:"Вход"})]})]})]})};var iv={},ax=Kn&&Kn.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)a.hasOwnProperty(s)&&(r[s]=a[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ov=Kn&&Kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iv,"__esModule",{value:!0});var Un=ov(Ot),xu=ov(g),sx=function(e){ax(t,e);function t(n){var r=e.call(this,n)||this;return r.resetDragging=function(){r.frameDragCounter=0,r.setState({draggingOverFrame:!1,draggingOverTarget:!1})},r.handleWindowDragOverOrDrop=function(a){a.preventDefault()},r.handleFrameDrag=function(a){if(t.eventHasFiles(a)){if(r.frameDragCounter+=a.type==="dragenter"?1:-1,r.frameDragCounter===1){r.setState({draggingOverFrame:!0}),r.props.onFrameDragEnter&&r.props.onFrameDragEnter(a);return}if(r.frameDragCounter===0){r.setState({draggingOverFrame:!1}),r.props.onFrameDragLeave&&r.props.onFrameDragLeave(a);return}}},r.handleFrameDrop=function(a){r.state.draggingOverTarget||(r.resetDragging(),r.props.onFrameDrop&&r.props.onFrameDrop(a))},r.handleDragOver=function(a){t.eventHasFiles(a)&&(r.setState({draggingOverTarget:!0}),!t.isIE()&&r.props.dropEffect&&(a.dataTransfer.dropEffect=r.props.dropEffect),r.props.onDragOver&&r.props.onDragOver(a))},r.handleDragLeave=function(a){r.setState({draggingOverTarget:!1}),r.props.onDragLeave&&r.props.onDragLeave(a)},r.handleDrop=function(a){if(r.props.onDrop&&t.eventHasFiles(a)){var s=a.dataTransfer?a.dataTransfer.files:null;r.props.onDrop(s,a)}r.resetDragging()},r.handleTargetClick=function(a){r.props.onTargetClick&&r.props.onTargetClick(a),r.resetDragging()},r.stopFrameListeners=function(a){a&&(a.removeEventListener("dragenter",r.handleFrameDrag),a.removeEventListener("dragleave",r.handleFrameDrag),a.removeEventListener("drop",r.handleFrameDrop))},r.startFrameListeners=function(a){a&&(a.addEventListener("dragenter",r.handleFrameDrag),a.addEventListener("dragleave",r.handleFrameDrag),a.addEventListener("drop",r.handleFrameDrop))},r.frameDragCounter=0,r.state={draggingOverFrame:!1,draggingOverTarget:!1},r}return t.prototype.componentDidMount=function(){this.startFrameListeners(this.props.frame),this.resetDragging(),window.addEventListener("dragover",this.handleWindowDragOverOrDrop),window.addEventListener("drop",this.handleWindowDragOverOrDrop)},t.prototype.componentDidUpdate=function(n){n.frame!==this.props.frame&&(this.resetDragging(),this.stopFrameListeners(n.frame),this.startFrameListeners(this.props.frame))},t.prototype.componentWillUnmount=function(){this.stopFrameListeners(this.props.frame),window.removeEventListener("dragover",this.handleWindowDragOverOrDrop),window.removeEventListener("drop",this.handleWindowDragOverOrDrop)},t.prototype.render=function(){var n=this.props,r=n.children,a=n.className,s=n.targetClassName,i=n.draggingOverFrameClassName,o=n.draggingOverTargetClassName,l=this.state,u=l.draggingOverTarget,d=l.draggingOverFrame,f=s;return d&&(f+=" "+i),u&&(f+=" "+o),xu.default.createElement("div",{className:a,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},xu.default.createElement("div",{className:f,onClick:this.handleTargetClick},r))},t.isIE=function(){return typeof window<"u"&&(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>0)},t.eventHasFiles=function(n){var r=!1;if(n.dataTransfer){var a=n.dataTransfer.types;for(var s in a)if(a[s]==="Files"){r=!0;break}}return r},t.propTypes={className:Un.default.string,targetClassName:Un.default.string,draggingOverFrameClassName:Un.default.string,draggingOverTargetClassName:Un.default.string,onDragOver:Un.default.func,onDragLeave:Un.default.func,onDrop:Un.default.func,onTargetClick:Un.default.func,dropEffect:Un.default.oneOf(["copy","move","link","none"]),frame:function(n,r,a){var s=n[r];if(s==null)return new Error("Warning: Required prop `"+r+"` was not specified in `"+a+"`");if(s!==document&&!(s instanceof HTMLElement))return new Error("Warning: Prop `"+r+"` must be one of the following: document, HTMLElement!")},onFrameDragEnter:Un.default.func,onFrameDragLeave:Un.default.func,onFrameDrop:Un.default.func},t.defaultProps={dropEffect:"copy",frame:typeof window>"u"?void 0:window.document,className:"file-drop",targetClassName:"file-drop-target",draggingOverFrameClassName:"file-drop-dragging-over-frame",draggingOverTargetClassName:"file-drop-dragging-over-target"},t}(xu.default.PureComponent),ma=iv.FileDrop=sx;const Fl={itemsPerPage:0,page:0,totalPages:0,totalItems:0},ix={experienceEarned:0,goalsCompleted:0,reviewsAdded:0};let ox=class{constructor(){this.comments=[],this.lists=[],this.infoPaginationLists=Fl,this.infoPaginationComments=Fl,this.id=0,this.setComments=t=>{this.comments=t},this.setLists=t=>{this.lists=t},this.setInfoPaginationLists=t=>{this.infoPaginationLists=t},this.setInfoPaginationComments=t=>{this.infoPaginationComments=t},this.setId=t=>{this.id=t},Jr(this)}};const xc=new ox,lx=async e=>await Je("comments/add",{body:e,auth:!0,file:!0});const Wt=({options:e,activeOption:t,onSelect:n,text:r,className:a,filter:s,placeholder:i="Сделайте выбор",disabled:o=!1})=>{var S,A;const[l,u]=g.useState(!1),[d,f]=g.useState(null),p=g.useRef(null),h=g.useRef([]),[m,v]=J("select",a),T=()=>{o||(u(!l),!l&&typeof t=="number"&&f(t))},E=P=>{p.current&&!p.current.contains(P.target)&&u(!1)},C=P=>{o||(n(P),u(!1))},_=P=>{if(!o){if(!l&&(P.key==="Enter"||P.key===" "||P.key==="ArrowDown")){P.preventDefault(),u(!0),f(t!==null?t:0);return}if(l)switch(P.key){case"Escape":P.preventDefault(),u(!1);break;case"ArrowDown":P.preventDefault(),f(O=>{var w;const k=O===null?0:(O+1)%e.length;return(w=h.current[k])==null||w.scrollIntoView({block:"nearest"}),k});break;case"ArrowUp":P.preventDefault(),f(O=>{var w;const k=O===null||O===0?e.length-1:O-1;return(w=h.current[k])==null||w.scrollIntoView({block:"nearest"}),k});break;case"Enter":case" ":P.preventDefault(),d!==null&&C(d);break}}},N=P=>{o||(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),T())},x=(P,O)=>{o||(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),C(O))};return g.useEffect(()=>(document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}),[]),g.useEffect(()=>{h.current=h.current.slice(0,e.length)},[e.length]),y("div",{className:m({filter:s,disabled:o}),ref:p,onKeyDown:_,role:"combobox","aria-haspopup":"listbox","aria-expanded":l,"aria-controls":l?"select-options-list":void 0,"aria-label":r||"Выпадающий список",tabIndex:o?-1:0,"aria-disabled":o,children:[r&&c("p",{className:v("text"),children:r}),y("button",{type:"button",className:v("option",{isOpen:l,placeholder:typeof t!="number",disabled:o}),onClick:T,onKeyDown:N,"aria-label":typeof t=="number"?"Выбрано: ".concat((S=e[t])==null?void 0:S.name):i,disabled:o,children:[c(me,{icon:s?"sort":"arrow--right"}),c("span",{className:v("option-text"),children:typeof t=="number"?(A=e[t])==null?void 0:A.name:i})]}),l&&!o&&c("ul",{id:"select-options-list",className:v("list"),role:"listbox","aria-label":"Доступные опции",children:e.map((P,O)=>c("li",{ref:k=>{h.current[O]=k},className:v("item",{active:t===O,highlighted:d===O}),onClick:()=>C(O),onKeyDown:k=>x(k,O),role:"option","aria-selected":t===O,tabIndex:0,children:P.name},P.value))})]})};const cx=e=>{const{className:t,closeModal:n}=e,[r,a]=J("add-review",t),[s,i]=g.useState(null),[o,l]=g.useState(""),[u,d]=g.useState([]),{setComments:f,comments:p,id:h}=xc,m=g.useRef(null),v=g.useCallback(N=>{const x=Array.from(N);if(x.length+u.length>10){pe.addNotification({type:"error",title:"Слишком много фотографий",message:"Можно загрузить не более 10 фотографий."});return}d(S=>[...S,...x])},[u]),T=async N=>{if(N.preventDefault(),typeof s!="number")return;const x=new FormData;x.append("complexity",Bt[s].value),x.append("text",o),x.append("goal_id",h.toString()),u.forEach(A=>{x.append("photo",A)});const S=await lx(x);S.success&&(n(),f([S.data,...p]))},E=N=>{d([...u.slice(0,N),...u.slice(N+1)])},C=()=>{m.current&&m.current.click()},_=N=>{N.target.files&&v(N.target.files)};return y("form",{className:r(),onSubmit:T,children:[c(De,{tag:"h2",className:a("title"),children:"Написать отзыв к цели"}),c(Wt,{className:a("field"),placeholder:"Насколько вам было тяжело выполнить цель?",options:Bt,activeOption:s,onSelect:i,text:"Сложность"}),c(Oe,{placeholder:"Опишите свои впечатления о выполнении",id:"new-comment",text:"Комментарий",value:o,setValue:l,className:a("field"),type:"textarea"}),c("p",{className:a("field-title"),children:"Фотографии"}),y("div",{className:a("dropzone"),children:[c(ma,{onDrop:N=>N&&v(N),children:y("div",{className:a("photos"),onClick:C,role:"button",tabIndex:0,"aria-label":"Добавить фотографии",onKeyPress:N=>{(N.key==="Enter"||N.key===" ")&&C()},children:[c("input",{type:"file",multiple:!0,ref:m,style:{display:"none"},onChange:_,accept:"image/*"}),c("div",{className:a("btn-add"),children:c(me,{icon:"plus"})})]})}),u.map((N,x)=>y("div",{className:a("photo-wrapper"),children:[c("img",{className:a("photo"),src:URL.createObjectURL(N),alt:"Фотография ".concat(x+1)}),c("button",{className:a("delete-photo"),type:"button",onClick:()=>E(x),"aria-label":"Удалить фотографию",children:c(me,{icon:"cross"})})]},"".concat(N.name,"-").concat(x)))]}),y("div",{className:a("btns-wrapper"),children:[c(V,{theme:"blue-light",className:a("btn"),onClick:n,children:"Отмена"}),c(V,{theme:"blue",className:a("btn"),typeBtn:"submit",children:"Опубликовать (+10 опыта)"})]})]})},ux=async e=>await sr("users/change-password",{body:e,auth:!0});const dx=e=>{const{className:t,closeModal:n}=e,[r,a]=J("change-password",t),[s,i]=g.useState(""),[o,l]=g.useState(""),[u,d]=g.useState(""),f=async p=>{if(p.preventDefault(),o!==u)return;(await ux({oldPassword:s,newPassword:o})).success&&n()};return y("form",{className:r(),onSubmit:f,children:[c(De,{tag:"h2",className:a("title"),children:"Изменить пароль"}),c(Oe,{placeholder:"Введите ваш пароль",id:"password",text:"Текущий пароль",value:s,setValue:i,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"current-password"}),c(Oe,{placeholder:"Введите ваш новый пароль",id:"new-password",text:"Новый пароль",value:o,setValue:l,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"new-password"}),c(Oe,{placeholder:"Повтор ввода нового пароля",id:"repeat-new-password",text:"Повторите новый пароль",value:u,setValue:d,className:a("field"),type:"password",iconBegin:"lock",autoComplete:"new-password"}),y("div",{className:a("btns-wrapper"),children:[c(V,{theme:"blue-light",className:a("btn"),onClick:n,children:"Отмена"}),c(V,{theme:"blue",className:a("btn"),typeBtn:"submit",children:"Изменить пароль"})]})]})};const fx=e=>{const{className:t,closeModal:n,funcModal:r}=e,[a,s]=J("confirm-execution-all-goal",t),i=async()=>{try{r()&&n()}catch(o){pe.addNotification({type:"error",title:"Упс",message:"Что-то пошло не так"})}};return y("section",{className:a(),children:[c(De,{tag:"h2",className:s("title"),children:"Выполнение всех целей списка"}),c("p",{className:s("text"),children:"Вы действительно хотите отметить все цели выполненными? Отменить это действие можно только вручную по каждой цели."}),y("div",{className:s("btns-wrapper"),children:[c(V,{theme:"blue-light",className:s("btn"),onClick:n,children:"Отмена"}),c(V,{theme:"blue",className:s("btn"),onClick:i,children:"Выполнить"})]})]})},hn={getTodoLists:async()=>we("lists",{auth:!0,showSuccessNotification:!1}),getTodoList:async e=>we("lists/".concat(e),{auth:!0,showSuccessNotification:!1}),createTodoList:async e=>{const t={title:e.title,description:e.description,color:e.color,icon:e.icon,template_category:e.templateCategory};return Je("lists/create",{body:t,auth:!0,success:{type:"success",title:"Список создан",message:"Новый список задач успешно создан"}})},updateTodoList:async(e,t)=>{const n={};return t.title!==void 0&&(n.title=t.title),t.description!==void 0&&(n.description=t.description),t.color!==void 0&&(n.color=t.color),t.icon!==void 0&&(n.icon=t.icon),t.templateCategory!==void 0&&(n.template_category=t.templateCategory),sr("lists/".concat(e,"/update"),{body:n,auth:!0,success:{type:"success",title:"Список обновлен",message:"Изменения сохранены"}})},deleteTodoList:async e=>xn("lists/".concat(e,"/delete"),{auth:!0,success:{type:"success",title:"Список удален",message:"Список задач успешно удален"}}),duplicateTodoList:async e=>Je("lists/".concat(e,"/duplicate"),{auth:!0,success:{type:"success",title:"Список скопирован",message:"Список задач успешно скопирован"}}),archiveTodoList:async e=>Je("lists/".concat(e,"/archive"),{auth:!0,success:{type:"success",title:"Список архивирован",message:"Список задач перемещен в архив"}}),restoreTodoList:async e=>Je("lists/".concat(e,"/restore"),{auth:!0,success:{type:"success",title:"Список восстановлен",message:"Список задач восстановлен из архива"}}),getTodoListStats:async()=>we("lists/stats",{auth:!0,showSuccessNotification:!1}),getUserGoals:async()=>we("self/added-goals",{auth:!0,showSuccessNotification:!1}),getTodoTasks:async e=>{const t={};return e!=null&&e.todoList&&(t.todo_list=e.todoList),e!=null&&e.priority&&(t.priority=e.priority),e!=null&&e.context&&(t.context=e.context),(e==null?void 0:e.is_completed)!==void 0&&(t.is_completed=e.is_completed),(e==null?void 0:e.has_deadline)!==void 0&&(t.has_deadline=e.has_deadline),e!=null&&e.search&&(t.search=e.search),e!=null&&e.ordering&&(t.ordering=e.ordering),we("tasks",{get:t,auth:!0,showSuccessNotification:!1})},getTodoTask:async e=>we("tasks/".concat(e),{auth:!0,showSuccessNotification:!1}),createTodoTask:async e=>{const t={title:e.title,description:e.description,todo_list:e.todoList,related_goal_id:e.relatedGoalId,priority:e.priority,context:e.context,estimated_duration:e.estimatedDuration||null,deadline:e.deadline||null,scheduled_date:e.scheduledDate||null,scheduled_time:e.scheduledTime||null,parent_task:e.parentTask,is_recurring:e.isRecurring||!1,recurring_pattern:e.recurringPattern||{},tags:e.tags||[],notes:e.notes};return Object.keys(t).forEach(n=>{(t[n]===void 0||t[n]==="")&&["estimated_duration","deadline","scheduled_date","scheduled_time","parent_task","related_goal_id"].includes(n)&&(t[n]=null)}),Je("tasks/create",{body:t,auth:!0,success:{type:"success",title:"Задача создана",message:"Новая задача успешно добавлена"}})},updateTodoTask:async(e,t)=>{const n={};return t.title!==void 0&&(n.title=t.title),t.description!==void 0&&(n.description=t.description),t.todoList!==void 0&&(n.todo_list=t.todoList),t.relatedGoalId!==void 0&&(n.related_goal_id=t.relatedGoalId),t.priority!==void 0&&(n.priority=t.priority),t.context!==void 0&&(n.context=t.context),t.estimatedDuration!==void 0&&(n.estimated_duration=t.estimatedDuration||null),t.deadline!==void 0&&(n.deadline=t.deadline||null),t.scheduledDate!==void 0&&(n.scheduled_date=t.scheduledDate||null),t.scheduledTime!==void 0&&(n.scheduled_time=t.scheduledTime||null),t.parentTask!==void 0&&(n.parent_task=t.parentTask),t.isRecurring!==void 0&&(n.is_recurring=t.isRecurring),t.recurringPattern!==void 0&&(n.recurring_pattern=t.recurringPattern||{}),t.tags!==void 0&&(n.tags=t.tags||[]),t.notes!==void 0&&(n.notes=t.notes),Object.keys(n).forEach(r=>{n[r]===""&&["estimated_duration","deadline","scheduled_date","scheduled_time","parent_task","related_goal_id"].includes(r)&&(n[r]=null)}),sr("tasks/".concat(e,"/update"),{body:n,auth:!0,success:{type:"success",title:"Задача обновлена",message:"Изменения сохранены"}})},deleteTodoTask:async e=>xn("tasks/".concat(e,"/delete"),{auth:!0,success:{type:"success",title:"Задача удалена",message:"Задача успешно удалена"}}),toggleTaskComplete:async e=>Je("tasks/".concat(e,"/toggle_complete"),{auth:!0,success:{type:"success",title:"Статус изменен",message:"Статус задачи обновлен"}}),duplicateTodoTask:async e=>Je("tasks/".concat(e,"/duplicate"),{auth:!0,success:{type:"success",title:"Задача скопирована",message:"Задача успешно скопирована"}}),bulkUpdateTasks:async e=>{const t={task_ids:e.taskIds,action:e.action,priority:e.priority,context:e.context,target_list_id:e.targetListId};return Je("tasks/bulk_update",{body:t,auth:!0,success:{type:"success",title:"Задачи обновлены",message:"Массовое обновление выполнено"}})},getTodayTasks:async()=>we("tasks/today",{auth:!0,showSuccessNotification:!1}),getUpcomingTasks:async()=>we("tasks/upcoming",{auth:!0,showSuccessNotification:!1}),getOverdueTasks:async()=>we("tasks/overdue",{auth:!0,showSuccessNotification:!1}),getTodoTemplates:async e=>we("templates",{get:e,auth:!0,showSuccessNotification:!1}),getTodoTemplate:async e=>we("templates/".concat(e),{auth:!0,showSuccessNotification:!1}),createTodoTemplate:async e=>Je("templates/create",{body:e,auth:!0,success:{type:"success",title:"Шаблон создан",message:"Новый шаблон успешно создан"}}),updateTodoTemplate:async(e,t)=>sr("templates/".concat(e,"/update"),{body:t,auth:!0,success:{type:"success",title:"Шаблон обновлен",message:"Изменения сохранены"}}),deleteTodoTemplate:async e=>xn("templates/".concat(e,"/delete"),{auth:!0,success:{type:"success",title:"Шаблон удален",message:"Шаблон успешно удален"}}),createListFromTemplate:async(e,t)=>{const n={list_title:t.listTitle,list_description:t.listDescription,color:t.color,icon:t.icon};return Je("templates/".concat(e,"/create_list"),{body:n,auth:!0,success:{type:"success",title:"Список создан",message:"Список создан на основе шаблона"}})},getPublicTemplates:async()=>we("templates/public",{showSuccessNotification:!1}),getMyTemplates:async()=>we("templates/my",{auth:!0,showSuccessNotification:!1})};let hx=class{constructor(){this.todoLists=[],this.todoTasks=[],this.todayTasks=[],this.upcomingTasks=[],this.overdueTasks=[],this.userGoals=[],this.todoTemplates=[],this.publicTemplates=[],this.myTemplates=[],this.stats=null,this.loading=!1,this.error=null,this.filters={},Jr(this)}async loadTodoLists(){this.setLoading(!0);try{const t=await hn.getTodoLists();if(t.success)Be(()=>{this.todoLists=t.data,this.error=null});else throw new Error(t.errors||"Ошибка загрузки списков задач")}catch(t){Be(()=>{this.error="Ошибка загрузки списков задач"})}finally{this.setLoading(!1)}}async loadTodoTasks(t){this.setLoading(!0);try{const n=await hn.getTodoTasks(t);Be(()=>{this.todoTasks=n.data,this.error=null})}catch(n){Be(()=>{this.error="Ошибка загрузки задач"})}finally{this.setLoading(!1)}}async loadTodayTasks(){this.setLoading(!0);try{const t=await hn.getTodayTasks();if(t.success)Be(()=>{this.todayTasks=t.data,this.error=null});else throw new Error(t.errors||"Ошибка загрузки задач на сегодня")}catch(t){Be(()=>{this.error="Ошибка загрузки задач на сегодня"})}finally{this.setLoading(!1)}}async loadUpcomingTasks(){this.setLoading(!0);try{const t=await hn.getUpcomingTasks();if(t.success)Be(()=>{this.upcomingTasks=t.data,this.error=null});else throw new Error(t.errors||"Ошибка загрузки предстоящих задач")}catch(t){Be(()=>{this.error="Ошибка загрузки предстоящих задач"})}finally{this.setLoading(!1)}}async loadOverdueTasks(){this.setLoading(!0);try{const t=await hn.getOverdueTasks();if(t.success)Be(()=>{this.overdueTasks=t.data,this.error=null});else throw new Error(t.errors||"Ошибка загрузки просроченных задач")}catch(t){Be(()=>{this.error="Ошибка загрузки просроченных задач"})}finally{this.setLoading(!1)}}async loadStats(){try{const t=await hn.getTodoListStats();if(t.success)Be(()=>{this.stats=t.data,this.error=null});else throw new Error(t.errors||"Ошибка загрузки статистики")}catch(t){Be(()=>{this.error="Ошибка загрузки статистики"})}}async createTodoList(t){this.setLoading(!0);try{const n=await hn.createTodoList(t);if(n.success)return Be(()=>{this.todoLists.unshift(n.data),this.error=null}),n.data;throw new Error(n.errors||"Ошибка создания списка задач")}catch(n){throw Be(()=>{this.error="Ошибка создания списка задач"}),n}finally{this.setLoading(!1)}}async createTodoTask(t){this.setLoading(!0);try{const n=await hn.createTodoTask(t);if(n.success)return Be(()=>{this.todoTasks.unshift(n.data),this.error=null}),n.data;throw new Error(n.errors||"Ошибка создания задачи")}catch(n){throw Be(()=>{this.error="Ошибка создания задачи"}),n}finally{this.setLoading(!1)}}async updateTodoTask(t,n){try{const r=await hn.updateTodoTask(t,n);if(r.success)return Be(()=>{const a=this.todoTasks.findIndex(s=>s.id===t);a!==-1&&(this.todoTasks[a]=r.data),this.updateTaskInArrays(r.data),this.error=null}),r.data;throw new Error(r.errors||"Ошибка обновления задачи")}catch(r){throw Be(()=>{this.error="Ошибка обновления задачи"}),r}}async toggleTaskComplete(t){try{const n=await hn.toggleTaskComplete(t);if(n.success)return Be(()=>{const r=this.todoTasks.findIndex(a=>a.id===t);r!==-1&&(this.todoTasks[r]=n.data),this.updateTaskInArrays(n.data),this.error=null}),n.data;throw new Error(n.errors||"Ошибка изменения статуса задачи")}catch(n){throw Be(()=>{this.error="Ошибка изменения статуса задачи"}),n}}async deleteTodoTask(t){try{const n=await hn.deleteTodoTask(t);if(n.success)Be(()=>{this.todoTasks=this.todoTasks.filter(r=>r.id!==t),this.todayTasks=this.todayTasks.filter(r=>r.id!==t),this.upcomingTasks=this.upcomingTasks.filter(r=>r.id!==t),this.overdueTasks=this.overdueTasks.filter(r=>r.id!==t),this.error=null});else throw new Error(n.errors||"Ошибка удаления задачи")}catch(n){throw Be(()=>{this.error="Ошибка удаления задачи"}),n}}async duplicateTodoTask(t){try{const n=await hn.duplicateTodoTask(t);if(n.success)Be(()=>{const r=n.data;this.todoTasks.push(r);const a=new Date().toDateString();(r.scheduledDate===a||r.deadline===a)&&this.todayTasks.push(r),this.error=null});else throw new Error(n.errors||"Ошибка дублирования задачи")}catch(n){throw Be(()=>{this.error="Ошибка дублирования задачи"}),n}}async bulkUpdateTasks(t){try{const n=await hn.bulkUpdateTasks(t);if(n.success)Be(()=>{t.action==="delete"?(this.todoTasks=this.todoTasks.filter(r=>!t.taskIds.includes(r.id)),this.todayTasks=this.todayTasks.filter(r=>!t.taskIds.includes(r.id)),this.upcomingTasks=this.upcomingTasks.filter(r=>!t.taskIds.includes(r.id)),this.overdueTasks=this.overdueTasks.filter(r=>!t.taskIds.includes(r.id))):(this.loadTodoTasks(),this.loadTodayTasks(),this.loadUpcomingTasks(),this.loadOverdueTasks()),this.error=null});else throw new Error(n.errors||"Ошибка массового обновления задач")}catch(n){throw Be(()=>{this.error="Ошибка массового обновления задач"}),n}}async deleteTodoList(t){try{const n=await hn.deleteTodoList(t);if(n.success)Be(()=>{this.todoLists=this.todoLists.filter(r=>r.id!==t),this.todoTasks=this.todoTasks.filter(r=>r.todoList!==t),this.error=null});else throw new Error(n.errors||"Ошибка удаления списка")}catch(n){throw Be(()=>{this.error="Ошибка удаления списка"}),n}}setFilters(t){Be(()=>{this.filters=t})}clearFilters(){Be(()=>{this.filters={}})}setLoading(t){Be(()=>{this.loading=t})}updateTaskInArrays(t){const n=r=>{const a=r.findIndex(s=>s.id===t.id);return a!==-1?[...r.slice(0,a),t,...r.slice(a+1)]:r};this.todayTasks=n(this.todayTasks),this.upcomingTasks=n(this.upcomingTasks),this.overdueTasks=n(this.overdueTasks)}get filteredTasks(){let t=this.todoTasks;if(this.filters.priority&&(t=t.filter(n=>n.priority===this.filters.priority)),this.filters.context&&(t=t.filter(n=>n.context===this.filters.context)),this.filters.is_completed!==void 0&&(t=t.filter(n=>n.isCompleted===this.filters.is_completed)),this.filters.has_deadline!==void 0&&(this.filters.has_deadline?t=t.filter(n=>n.deadline):t=t.filter(n=>!n.deadline)),this.filters.search){const n=this.filters.search.toLowerCase();t=t.filter(r=>{var a,s;return r.title.toLowerCase().includes(n)||((a=r.description)==null?void 0:a.toLowerCase().includes(n))||((s=r.notes)==null?void 0:s.toLowerCase().includes(n))})}if(this.filters.tags){const n=this.filters.tags.toLowerCase();t=t.filter(r=>r.tags&&r.tags.some(a=>a.toLowerCase().includes(n)))}return t}get activeTodoLists(){return this.todoLists.filter(t=>t.isActive)}get completedTasksCount(){return this.todoTasks.filter(t=>t.isCompleted).length}get pendingTasksCount(){return this.todoTasks.filter(t=>!t.isCompleted).length}async loadUserGoals(){try{const t=await hn.getUserGoals();if(t.success)Be(()=>{this.userGoals=t.data.goals||[],this.error=null});else throw new Error(t.errors||"Ошибка загрузки целей")}catch(t){Be(()=>{this.error="Ошибка загрузки целей пользователя"})}}};const hs=new hx;const px=({className:e,onSuccess:t,onCancel:n})=>{const[r,a]=J("create-todo-list-form",e),{isScreenMobile:s}=Qs(),[i,o]=g.useState({title:"",description:"",color:"#3a89d8",icon:"📋",templateCategory:""}),[l,u]=g.useState(!1),d=(v,T)=>{o(E=>({...E,[v]:T}))},f=()=>{bn.setIsOpen(!1)},p=async v=>{v.preventDefault(),u(!0);try{await hs.createTodoList(i),t==null||t(),f()}catch(T){}finally{u(!1)}},h=[{value:"#3a89d8",label:"Синий"},{value:"#10b981",label:"Зеленый"},{value:"#f59e0b",label:"Желтый"},{value:"#ef4444",label:"Красный"},{value:"#8b5cf6",label:"Фиолетовый"},{value:"#06b6d4",label:"Голубой"},{value:"#f97316",label:"Оранжевый"},{value:"#84cc16",label:"Лайм"}],m=["📋","📝","✅","📌","🎯","🚀","💼","🏠","🛒","✈️","💪","📚","🎵","🎨","🔧","⭐"];return y("form",{onSubmit:p,className:r(),children:[c("div",{className:a("field"),children:y("label",{htmlFor:"list-title",className:a("label"),children:["Название списка ",c("span",{className:a("required"),children:"*"}),c("input",{id:"list-title",type:"text",className:a("input"),value:i.title,onChange:v=>d("title",v.target.value),placeholder:"Введите название списка",required:!0})]})}),c("div",{className:a("field"),children:y("label",{htmlFor:"list-description",className:a("label"),children:["Описание",c("textarea",{id:"list-description",className:a("textarea"),value:i.description,onChange:v=>d("description",v.target.value),placeholder:"Краткое описание списка задач",rows:3})]})}),y("div",{className:a("row"),children:[c("div",{className:a("field",{half:!0}),children:y("fieldset",{children:[c("legend",{className:a("label"),id:"color-legend",children:"Цвет"}),c("div",{className:a("color-grid"),role:"radiogroup","aria-labelledby":"color-legend",children:h.map(v=>c("button",{type:"button",className:a("color-option",{active:i.color===v.value}),style:{backgroundColor:v.value},onClick:()=>d("color",v.value),"aria-label":"Выбрать цвет ".concat(v.label),role:"radio","aria-checked":i.color===v.value},v.value))})]})}),c("div",{className:a("field",{half:!0}),children:y("fieldset",{children:[c("legend",{className:a("label"),id:"icon-legend",children:"Иконка"}),c("div",{className:a("icon-grid"),role:"radiogroup","aria-labelledby":"icon-legend",children:m.map(v=>c("button",{type:"button",className:a("icon-option",{active:i.icon===v}),onClick:()=>d("icon",v),"aria-label":"Выбрать иконку ".concat(v),role:"radio","aria-checked":i.icon===v,children:v},v))})]})})]}),c("div",{className:a("field"),children:y("label",{htmlFor:"list-template-category",className:a("label"),children:["Категория шаблона",y("select",{id:"list-template-category",className:a("select"),value:i.templateCategory,onChange:v=>d("templateCategory",v.target.value),children:[c("option",{value:"",children:"Не использовать как шаблон"}),c("option",{value:"work",children:"Работа"}),c("option",{value:"personal",children:"Личное"}),c("option",{value:"shopping",children:"Покупки"}),c("option",{value:"travel",children:"Путешествия"}),c("option",{value:"health",children:"Здоровье"}),c("option",{value:"learning",children:"Обучение"}),c("option",{value:"other",children:"Другое"})]})]})}),y("div",{className:a("actions"),children:[c(V,{type:"button",onClick:n,theme:"blue-light",size:s?"medium":void 0,disabled:l,children:"Отмена"}),c(V,{typeBtn:"submit",theme:"blue",size:s?"medium":void 0,disabled:l||!i.title.trim(),children:l?"Создание...":"Создать список"})]})]})};const mx=({className:e,defaultListId:t,onSuccess:n,onCancel:r})=>{var E,C;const[a,s]=J("create-todo-task-form",e),{isScreenMobile:i}=Qs(),[o,l]=g.useState({title:"",description:"",todoList:t||"",relatedGoalId:"",priority:"medium",context:"",estimatedDuration:"",deadline:"",scheduledDate:"",scheduledTime:"",isRecurring:!1,recurringPattern:{type:"daily",interval:1},tags:[],notes:""}),[u,d]=g.useState(""),[f,p]=g.useState(!1);g.useEffect(()=>{hs.userGoals.length===0&&hs.loadUserGoals()},[]),g.useEffect(()=>{t&&t!==o.todoList&&l(_=>({..._,todoList:t}))},[t,o.todoList]);const h=(_,N)=>{l(x=>({...x,[_]:N}))},m=()=>{var N;const _=u.trim();_&&!((N=o.tags)!=null&&N.includes(_))&&(l(x=>({...x,tags:[...x.tags||[],_]})),d(""))},v=_=>{l(N=>{var x;return{...N,tags:((x=N.tags)==null?void 0:x.filter(S=>S!==_))||[]}})},T=async _=>{if(_.preventDefault(),!!o.title.trim()&&o.todoList){p(!0);try{await hs.createTodoTask(o),n()}catch(N){}finally{p(!1)}}};return y("form",{className:a(),onSubmit:T,children:[c("div",{className:s("field"),children:y("label",{htmlFor:"task",className:s("label"),children:["Название задачи ",c("span",{className:s("required"),children:"*"}),c("input",{id:"task",type:"text",className:s("input"),value:o.title,onChange:_=>h("title",_.target.value),placeholder:"Введите название задачи",required:!0})]})}),c("div",{className:s("field"),children:y("label",{htmlFor:"task-description",className:s("label"),children:["Описание",c("textarea",{id:"task-description",className:s("textarea"),value:o.description,onChange:_=>h("description",_.target.value),placeholder:"Краткое описание задачи",rows:3})]})}),c("div",{className:s("field"),children:y("label",{htmlFor:"task-list",className:s("label"),children:["Список задач ",c("span",{className:s("required"),children:"*"}),y("select",{id:"task-list",className:s("select"),value:o.todoList,onChange:_=>h("todoList",_.target.value),required:!0,children:[c("option",{value:"",children:"Выберите список"}),hs.todoLists.map(_=>y("option",{value:_.id,children:[_.icon," ",_.title]},_.id))]})]})}),c("div",{className:s("field"),children:y("label",{htmlFor:"task-goal",className:s("label"),children:["Связанная цель",y("select",{id:"task-goal",className:s("select"),value:o.relatedGoalId||"",onChange:_=>h("relatedGoalId",_.target.value),children:[c("option",{value:"",children:"Не связана с целью"}),hs.userGoals.map(_=>c("option",{value:_.id,children:_.title},_.id))]})]})}),y("div",{className:s("row"),children:[c("div",{className:s("field",{half:!0}),children:y("label",{htmlFor:"task-priority",className:s("label"),children:["Приоритет",y("select",{id:"task-priority",className:s("select"),value:o.priority,onChange:_=>h("priority",_.target.value),children:[c("option",{value:"low",children:"Низкий"}),c("option",{value:"medium",children:"Средний"}),c("option",{value:"high",children:"Высокий"}),c("option",{value:"urgent",children:"Срочный"})]})]})}),c("div",{className:s("field",{half:!0}),children:y("label",{htmlFor:"task-context",className:s("label"),children:["Контекст",y("select",{id:"task-context",className:s("select"),value:o.context,onChange:_=>h("context",_.target.value),children:[c("option",{value:"",children:"Не указан"}),c("option",{value:"home",children:"Дом"}),c("option",{value:"work",children:"Работа"}),c("option",{value:"call",children:"Звонки"}),c("option",{value:"email",children:"Почта"}),c("option",{value:"errands",children:"Поручения"}),c("option",{value:"computer",children:"Компьютер"}),c("option",{value:"online",children:"Онлайн"}),c("option",{value:"waiting",children:"Ожидание"}),c("option",{value:"other",children:"Другое"})]})]})})]}),c("div",{className:s("field"),children:y("label",{htmlFor:"task-duration",className:s("label"),children:["Расчетная длительность",c("input",{id:"task-duration",type:"text",className:s("input"),value:o.estimatedDuration,onChange:_=>h("estimatedDuration",_.target.value),placeholder:"Например: 2 часа"})]})}),c("div",{className:s("field"),children:y("label",{htmlFor:"task-deadline",className:s("label"),children:["Крайний срок",c("input",{id:"task-deadline",type:"date",className:s("input"),value:o.deadline,onChange:_=>h("deadline",_.target.value)})]})}),y("div",{className:s("row"),children:[c("div",{className:s("field",{half:!0}),children:y("label",{htmlFor:"task-scheduled-date",className:s("label"),children:["Запланированная дата",c("input",{id:"task-scheduled-date",type:"date",className:s("input"),value:o.scheduledDate,onChange:_=>h("scheduledDate",_.target.value)})]})}),c("div",{className:s("field",{half:!0}),children:y("label",{htmlFor:"task-scheduled-time",className:s("label"),children:["Запланированное время",c("input",{id:"task-scheduled-time",type:"time",className:s("input"),value:o.scheduledTime,onChange:_=>h("scheduledTime",_.target.value)})]})})]}),c("div",{className:s("field"),children:c("div",{className:s("checkbox-group"),children:y("label",{htmlFor:"task-recurring",className:s("checkbox-label"),children:[c("input",{id:"task-recurring",type:"checkbox",className:s("checkbox"),checked:o.isRecurring,onChange:_=>h("isRecurring",_.target.checked)}),"Повторяющаяся задача"]})})}),o.isRecurring&&y("div",{className:s("recurring-settings"),children:[c("div",{className:s("field"),children:y("label",{htmlFor:"task-recurring-type",className:s("label"),children:["Тип повторения",y("select",{id:"task-recurring-type",className:s("select"),value:((E=o.recurringPattern)==null?void 0:E.type)||"daily",onChange:_=>{var x;const N={type:_.target.value,interval:((x=o.recurringPattern)==null?void 0:x.interval)||1,...o.recurringPattern};h("recurringPattern",N)},children:[c("option",{value:"daily",children:"Ежедневно"}),c("option",{value:"weekly",children:"Еженедельно"}),c("option",{value:"monthly",children:"Ежемесячно"})]})]})}),c("div",{className:s("field"),children:y("label",{htmlFor:"task-recurring-interval",className:s("label"),children:["Интервал",c("input",{id:"task-recurring-interval",type:"number",min:"1",className:s("input"),value:((C=o.recurringPattern)==null?void 0:C.interval)||1,onChange:_=>{var x;const N={type:((x=o.recurringPattern)==null?void 0:x.type)||"daily",interval:parseInt(_.target.value,10)||1,...o.recurringPattern};h("recurringPattern",N)}})]})})]}),y("div",{className:s("field"),children:[y("label",{htmlFor:"task-tags",className:s("label"),children:["Теги",y("div",{className:s("tags-input"),children:[c("input",{id:"task-tags",type:"text",className:s("input"),value:u,onChange:_=>d(_.target.value),onKeyPress:_=>_.key==="Enter"&&(_.preventDefault(),m()),placeholder:"Добавить тег"}),c(V,{type:"button",onClick:m,theme:"blue-light",size:"small",children:"Добавить"})]})]}),o.tags&&o.tags.length>0&&c("div",{className:s("tags-list"),children:o.tags.map(_=>y("span",{className:s("tag"),children:[_,c("button",{type:"button",className:s("tag-remove"),onClick:()=>v(_),"aria-label":"Удалить тег ".concat(_),children:"×"})]},_))})]}),c("div",{className:s("field"),children:y("label",{htmlFor:"task-notes",className:s("label"),children:["Заметки",c("textarea",{id:"task-notes",className:s("textarea"),value:o.notes,onChange:_=>h("notes",_.target.value),placeholder:"Дополнительные заметки",rows:3})]})}),y("div",{className:s("actions"),children:[c(V,{type:"button",onClick:r,theme:"blue-light",size:i?"medium":void 0,disabled:f,children:"Отмена"}),c(V,{typeBtn:"submit",theme:"blue",size:i?"medium":void 0,disabled:f||!o.title.trim()||!o.todoList,children:f?"Создание...":"Создать задачу"})]})]})};const Gp=e=>{const{className:t,closeModal:n,funcModal:r}=e,[a,s]=J("delete-goal",t),i=async()=>{r()&&n()};return y("section",{className:a(),children:[c(De,{tag:"h2",className:s("title"),children:"Удаление цели"}),c("p",{className:s("text"),children:"Вы действительно хотите удалить цель? Написанный отзыв будет будет удалён вместе с целью."}),y("div",{className:s("btns-wrapper"),children:[c(V,{theme:"blue-light",className:s("btn"),onClick:n,children:"Отмена"}),c(V,{theme:"red",className:s("btn"),onClick:i,children:"Удалить"})]})]})},gx=async e=>{try{return await we("goals/".concat(e,"/progress"),{auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},bx=async(e,t)=>{try{return await Je("goals/".concat(e,"/progress/update"),{body:t,auth:!0})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}},lv=async(e,t)=>{try{return await Je("goals/".concat(e,"/progress/update"),{body:t,auth:!0})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}},vx=async()=>{try{return await we("goals/folders",{auth:!0})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Неизвестная ошибка"}}},yx=async()=>{try{return await we("goals/folders/light",{auth:!0})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Неизвестная ошибка"}}},Ex=async e=>{try{return await Je("goals/folders",{body:e,auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},_x=async(e,t)=>{try{return await sr("goals/folders/".concat(e),{body:t,auth:!0})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}},Tx=async e=>{try{return await xn("goals/folders/".concat(e),{auth:!0,success:{type:"success",title:"Папка удалена",message:"Папка целей успешно удалена"}})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},Sx=e=>we("goals/folders/".concat(e,"/goals"),{auth:!0}),wx=(e,t,n)=>Je("goals/folders/".concat(e,"/add-goal"),{body:{goal_id:t,order:n},auth:!0,success:{type:"success",title:"Цель добавлена",message:"Цель добавлена в папку"}}),Cx=(e,t)=>xn("goals/folders/".concat(e,"/remove-goal/").concat(t,"/"),{auth:!0,success:{type:"success",title:"Цель удалена",message:"Цель удалена из папки"}}),Nx=async()=>{try{return await we("goals/progress",{auth:!0})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Неизвестная ошибка"}}},xx=async e=>{try{return await xn("goals/".concat(e,"/progress"),{auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},Gf=async e=>{try{return await Je("goals/regular/mark-progress",{body:e,auth:!0})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка"}}},kx=async()=>{try{return await we("goals/regular/statistics",{auth:!0})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Неизвестная ошибка"}}},Ax=async()=>{try{return await we("goals/folders/rules/options",{auth:!0})}catch(e){return{success:!1,error:e instanceof Error?e.message:"Неизвестная ошибка"}}},Dx=async(e,t)=>{var n;try{const r={rule_type:t.ruleType,is_active:(n=t.isActive)!=null?n:!0};return t.category!==void 0&&(r.category=t.category),t.complexity!==void 0&&(r.complexity=t.complexity),t.keywords!==void 0&&(r.keywords=t.keywords),t.removeFromFolder!==void 0&&(r.remove_from_folder=t.removeFromFolder),t.ruleType==="ON_DEADLINE_APPROACHING_ADD"&&t.daysBeforeDeadline!==void 0&&(r.days_before_deadline=t.daysBeforeDeadline),t.ruleType==="ON_HIGH_PROGRESS_ADD"&&t.progressThreshold!==void 0&&(r.progress_threshold=t.progressThreshold),t.ruleType==="ON_STALLED_PROGRESS_ADD"&&t.daysWithoutProgress!==void 0&&(r.days_without_progress=t.daysWithoutProgress),await Je("goals/folders/".concat(e,"/rules/create"),{body:r,auth:!0})}catch(r){return{success:!1,error:r instanceof Error?r.message:"Неизвестная ошибка"}}},Ix=async(e,t,n)=>{var r;try{const a={rule_type:n.ruleType,is_active:(r=n.isActive)!=null?r:!0};return n.category!==void 0&&(a.category=n.category),n.complexity!==void 0&&(a.complexity=n.complexity),n.keywords!==void 0&&(a.keywords=n.keywords),n.removeFromFolder!==void 0&&(a.remove_from_folder=n.removeFromFolder),n.ruleType==="ON_DEADLINE_APPROACHING_ADD"&&n.daysBeforeDeadline!==void 0&&(a.days_before_deadline=n.daysBeforeDeadline),n.ruleType==="ON_HIGH_PROGRESS_ADD"&&n.progressThreshold!==void 0&&(a.progress_threshold=n.progressThreshold),n.ruleType==="ON_STALLED_PROGRESS_ADD"&&n.daysWithoutProgress!==void 0&&(a.days_without_progress=n.daysWithoutProgress),await sr("goals/folders/".concat(e,"/rules/").concat(t,"/update"),{body:a,auth:!0})}catch(a){return{success:!1,error:a instanceof Error?a.message:"Неизвестная ошибка"}}},Ox=async(e,t)=>{try{return await xn("goals/folders/".concat(e,"/rules/").concat(t,"/delete"),{auth:!0})}catch(n){return{success:!1,error:n instanceof Error?n.message:"Неизвестная ошибка"}}};const Px=je(({goalId:e,goalTitle:t,goalFolders:n=[],onFolderSelected:r,showCreateButton:a=!1})=>{const[s,i]=J("folder-selector"),[o,l]=g.useState([]),[u,d]=g.useState(!0),[f,p]=g.useState(null),[h,m]=g.useState(!1),v=async()=>{d(!0);try{const _=await yx();_.success&&_.data&&l(_.data||[])}catch(_){console.error("Ошибка загрузки папок:",_)}d(!1)};g.useEffect(()=>{v()},[]);const T=async()=>{if(f){m(!0);try{if((await wx(f,e)).success){const N=o.find(x=>x.id===f);r==null||r(f,(N==null?void 0:N.name)||"")}}catch(_){console.error("Ошибка добавления цели в папку:",_)}m(!1)}},E=(_,N)=>{(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),n.some(S=>S.id===N)||p(N))},C=_=>{n.some(x=>x.id===_)||p(_)};return u?c(ht,{isLoading:!0}):y("div",{className:s(),children:[y("div",{className:i("header"),children:[y("h3",{className:i("title"),children:['Добавить цель "',t,'" в папку']}),c("p",{className:i("description"),children:"Выберите папку, в которую хотите добавить эту цель"})]}),o.length===0?y("div",{className:i("empty"),children:[c("p",{children:"У вас пока нет папок для целей"}),a&&c("p",{children:'Создайте первую папку в разделе "Папки целей"'})]}):c("div",{className:i("folders"),children:o.map(_=>{const N=n.some(S=>S.id===_.id),x=f===_.id;return y("div",{className:i("folder",{selected:x,disabled:N}),onClick:()=>C(_.id),onKeyDown:S=>E(S,_.id),role:"button",tabIndex:N?-1:0,"aria-label":N?"Цель уже находится в папке ".concat(_.name):"Выбрать папку ".concat(_.name),"aria-disabled":N,children:[y("div",{className:i("folder-info"),children:[y("h4",{className:i("folder-name"),children:[_.name,_.isPrivate&&c("span",{className:i("private-badge"),children:"Приватная"}),N&&c("span",{className:i("added-badge"),children:"Уже добавлена"})]}),_.description&&c("p",{className:i("folder-description"),children:_.description}),y("p",{className:i("folder-meta"),children:["Целей: ",_.goalsCount]})]}),c("div",{className:i("folder-radio"),children:c("input",{type:"radio",name:"folder",value:_.id,checked:x,disabled:N,onChange:()=>C(_.id)})})]},_.id)})}),o.length>0&&c("div",{className:i("actions"),children:c(V,{theme:"blue",onClick:T,disabled:!f||h,loading:h,children:"Добавить в папку"})})]})});const Lx=({location:e,userVisitedLocation:t})=>{const n=g.useRef(null),r=g.useRef(null),a=g.useRef(null),s=()=>{if(!n.current||r.current||!window.ymaps)return;const i=new window.ymaps.Map(n.current,{center:[e.latitude,e.longitude],zoom:13,controls:["zoomControl","typeSelector"]});r.current=i;const o=new window.ymaps.Placemark([e.latitude,e.longitude],{balloonContentHeader:'<div class="goal-map__title">'.concat(e.name||"Место назначения","</div>"),balloonContentBody:'\n					<div class="goal-map__content">\n						'.concat(e.address?'<p class="goal-map__address">'.concat(e.address,"</p>"):"","\n						").concat(e.description?'<p class="goal-map__description">'.concat(e.description,"</p>"):"",'\n						<p class="goal-map__coordinates">\n							<span class="goal-map__coordinates-label">Координаты:</span>\n							<span class="goal-map__coordinates-value">').concat(e.latitude.toFixed(6),", ").concat(e.longitude.toFixed(6),'</span>\n						</p>\n						<p class="goal-map__status">Статус: ').concat(t?"Посещено ✓":"Не посещено","</p>\n					</div>\n				"),hintContent:e.name||"Место назначения"},{preset:t?"islands#greenDotIcon":"islands#redDotIcon",openBalloonOnHover:!0,balloonCloseButton:!0,hideIconOnBalloonOpen:!1});i.geoObjects.add(o),a.current=o};return g.useEffect(()=>{if(window.ymaps&&window.ymaps.Map)window.ymaps.ready(s);else{const i=document.querySelector('script[src^="https://api-maps.yandex.ru/2.1/"]');if(i)i.addEventListener("load",()=>window.ymaps.ready(s));else{const o=document.createElement("script");o.src="https://api-maps.yandex.ru/2.1/?apikey=668a24d1-1303-4e5d-9f7b-0f94d2c0f859&lang=ru_RU",o.async=!0,o.onload=()=>window.ymaps.ready(s),document.head.appendChild(o)}}return()=>{r.current&&(r.current.destroy(),r.current=null)}},[]),g.useEffect(()=>{!r.current||!a.current||(a.current.geometry.setCoordinates([e.latitude,e.longitude]),a.current.properties.set({balloonContentHeader:'<div class="goal-map__title">'.concat(e.name||"Место назначения","</div>"),balloonContentBody:'\n				<div class="goal-map__content">\n					'.concat(e.address?'<p class="goal-map__address">'.concat(e.address,"</p>"):"","\n					").concat(e.description?'<p class="goal-map__description">'.concat(e.description,"</p>"):"",'\n					<p class="goal-map__coordinates">\n						<span class="goal-map__coordinates-label">Координаты:</span>\n						<span class="goal-map__coordinates-value">').concat(e.latitude.toFixed(6),", ").concat(e.longitude.toFixed(6),'</span>\n					</p>\n					<p class="goal-map__status">Статус: ').concat(t?"Посещено ✓":"Не посещено","</p>\n				</div>\n			"),hintContent:e.name||"Место назначения"}),a.current.options.set("preset",t?"islands#greenDotIcon":"islands#redDotIcon"),r.current.setCenter([e.latitude,e.longitude]))},[e,t]),c("div",{className:"goal-map",children:c("div",{ref:n,className:"goal-map__container"})})},cv=({goals:e})=>{const t=g.useRef(null),n=g.useRef(null);return g.useEffect(()=>{const r=e.filter(s=>s.location&&typeof s.location.latitude=="number"&&typeof s.location.longitude=="number");if(!r.length)return;const a=()=>{if(!t.current||n.current||!window.ymaps)return;const s=new window.ymaps.Map(t.current,{center:[r[0].location.latitude,r[0].location.longitude],zoom:4,controls:["zoomControl","typeSelector"]});n.current=s;const i=[];r.forEach(o=>{const{location:l,userVisitedLocation:u,name:d,address:f,description:p}=o,h=new window.ymaps.Placemark([l.latitude,l.longitude],{balloonContentHeader:'<div class="goal-map__title">'.concat(d||"Место назначения","</div>"),balloonContentBody:'\n              <div class="goal-map__content">\n                '.concat(f?'<p class="goal-map__address">'.concat(f,"</p>"):"","\n                ").concat(p?'<p class="goal-map__description">'.concat(p,"</p>"):"",'\n                <p class="goal-map__coordinates">\n                  <span class="goal-map__coordinates-label">Координаты:</span>\n                  <span class="goal-map__coordinates-value">').concat(l.latitude.toFixed(6),", ").concat(l.longitude.toFixed(6),'</span>\n                </p>\n                <p class="goal-map__status">Статус: ').concat(u?"Посещено ✓":"Не посещено","</p>\n              </div>\n            "),hintContent:d||"Место назначения"},{preset:u?"islands#greenDotIcon":"islands#redDotIcon",openBalloonOnHover:!0,balloonCloseButton:!0,hideIconOnBalloonOpen:!1});s.geoObjects.add(h),i.push([l.latitude,l.longitude])}),i.length>1?s.setBounds(window.ymaps.util.bounds.fromPoints(i),{checkZoomRange:!0,zoomMargin:40}):s.setCenter([r[0].location.latitude,r[0].location.longitude],13)};if(window.ymaps&&window.ymaps.Map)window.ymaps.ready(a);else{const s=document.querySelector('script[src^="https://api-maps.yandex.ru/2.1/"]');if(s)s.addEventListener("load",()=>window.ymaps.ready(a));else{const i=document.createElement("script");i.src="https://api-maps.yandex.ru/2.1/?apikey=668a24d1-1303-4e5d-9f7b-0f94d2c0f859&lang=ru_RU",i.async=!0,i.onload=()=>window.ymaps.ready(a),document.head.appendChild(i)}}return()=>{n.current&&(n.current.destroy(),n.current=null)}},[e]),c("div",{className:"goal-map",children:c("div",{ref:t,className:"goal-map__container"})})};const Rx=({onLocationSelect:e,initialLocation:t,closeModal:n})=>{var d,f;const[r,a]=J("location-picker"),s=g.useRef(null),[i,o]=g.useState(t||null),l=g.useRef(null),u=g.useRef(null);return g.useEffect(()=>{const p=()=>{if(!s.current||u.current)return;const m=t&&t.latitude&&t.longitude?[t.latitude,t.longitude]:[55.751244,37.618423],v=new window.ymaps.Map(s.current,{center:m,zoom:t?12:2,controls:["zoomControl","typeSelector"]});u.current=v;const T=new window.ymaps.control.SearchControl({options:{provider:"yandex#search",noPlacemark:!0,results:10,size:"large",noSuggestPanel:!0,suggestProvider:{provider:"yandex#suggest",apikey:"e5d7c042-cb73-457e-b0b4-00311f716d57"}}});v.controls.add(T),T.events.add("resultselect",E=>{const C=E.get("index");T.getResult(C).then(_=>{const N=_.geometry.getCoordinates();l.current?l.current.geometry.setCoordinates(N):(l.current=new window.ymaps.Placemark(N,{},{preset:"islands#redDotIcon"}),v.geoObjects.add(l.current)),window.ymaps.geocode(N).then(x=>{const S=x.geoObjects.get(0);o({name:_.properties.get("name")||_.properties.get("text")||_.getAddressLine&&_.getAddressLine(),description:_.properties.get("description")||"",latitude:N[0],longitude:N[1],country:S.getCountry(),city:S.getLocalities()[0]})}),v.setCenter(N,12)})}),v.events.add("click",E=>{const C=E.get("coords");o({latitude:C[0],longitude:C[1]}),l.current?l.current.geometry.setCoordinates(C):(l.current=new window.ymaps.Placemark(C,{},{preset:"islands#redDotIcon"}),v.geoObjects.add(l.current)),window.ymaps.geocode(C).then(_=>{const N=_.geoObjects.get(0);o(x=>({...x,name:N.getLocalities()[0]||N.getAddressLine(),country:N.getCountry(),city:N.getLocalities()[0]}))})}),t&&t.latitude&&t.longitude&&(l.current=new window.ymaps.Placemark(m,{},{preset:"islands#redDotIcon"}),v.geoObjects.add(l.current))},h="https://api-maps.yandex.ru/2.1/?apikey=668a24d1-1303-4e5d-9f7b-0f94d2c0f859&lang=ru_RU";if(window.ymaps&&window.ymaps.Map)window.ymaps.ready(p);else if(document.querySelector('script[src="'.concat(h,'"]'))){const m=()=>{window.ymaps&&typeof window.ymaps.ready=="function"?window.ymaps.ready(p):setTimeout(m,100)};m()}else{const m=document.createElement("script");m.src=h,m.async=!0,m.onload=()=>window.ymaps.ready(p),document.head.appendChild(m)}return()=>{u.current&&(u.current.destroy(),u.current=null)}},[t]),y("div",{className:r(),children:[c(De,{tag:"h2",children:"Выберите место на карте"}),c("div",{className:a("map"),children:c("div",{ref:s,style:{width:"100%",height:450,borderRadius:12}})}),i&&y("div",{className:a("selected"),children:[c("h4",{children:"Выбранное место:"}),y("div",{className:a("details"),children:[c(Oe,{text:"Название места",placeholder:"Введите название",id:"location-name",value:i.name||"",setValue:p=>o(h=>({...h,name:p}))}),c(Oe,{text:"Описание",placeholder:"Краткое описание места",id:"location-description",value:i.description||"",setValue:p=>o(h=>({...h,description:p})),type:"textarea"}),c("div",{className:a("coordinates"),children:y("span",{children:["Координаты: ",(d=i.latitude)==null?void 0:d.toFixed(6),", ",(f=i.longitude)==null?void 0:f.toFixed(6)]})})]})]}),y("div",{className:a("actions"),children:[c(V,{theme:"blue-light",onClick:n,children:"Отмена"}),c(V,{theme:"blue",onClick:()=>i&&e(i),children:"Выбрать место"})]})]})};const Qr=e=>{const{className:t,done:n,all:r,goal:a,text:s}=e,[i,o]=J("progress",t);return y("div",{className:i({goal:a,text:!!s}),children:[!a&&!s&&c("span",{className:o("count"),children:"".concat(n,"/").concat(r)}),c("div",{className:o("line"),children:c("div",{className:o("line-done",{all:r===n}),style:{width:"".concat(Math.round(n/(r||1)*100),"%")}})}),s&&c("span",{className:o("count"),children:s}),a&&c("span",{className:o("count"),children:"".concat(Math.round(n/(r||1)*100),"%")})]})};const Mx=je(({goalId:e,goalTitle:t,currentProgress:n,onProgressUpdate:r,onGoalCompleted:a,onClose:s})=>{const[i,o]=J("progress-update-modal"),[l,u]=g.useState(n.progressPercentage.toString()),[d,f]=g.useState(n.dailyNotes||""),[p,h]=g.useState(n.isWorkingToday),[m,v]=g.useState(!1),T=async()=>{v(!0);try{const _=Math.min(100,Math.max(0,parseInt(l,10)||0)),x=await lv(e,{progress_percentage:_,daily_notes:d,is_working_today:p});x.success&&x.data&&(_>=100&&n.progressPercentage<100&&a&&a(),r(x.data),s())}catch(_){console.error("Ошибка сохранения прогресса:",_)}finally{v(!1)}},E=_=>{u(_.target.value)},C=Math.min(100,Math.max(0,parseInt(l,10)||0));return y("div",{className:i(),children:[y("div",{className:o("header"),children:[c("h3",{className:o("title"),children:"Обновить прогресс цели"}),y("p",{className:o("goal-title"),children:['"',t,'"']})]}),y("div",{className:o("content"),children:[y("div",{className:o("progress-section"),children:[y("div",{className:o("progress-header"),children:[c("span",{className:o("progress-label"),children:"Текущий прогресс"}),y("span",{className:o("progress-value"),children:[C,"%"]})]}),c(Qr,{done:C,all:100,goal:!0,className:o("progress-bar")})]}),y("div",{className:o("slider-section"),children:[c("label",{htmlFor:"progress-slider",className:o("slider-label"),children:"Установить прогресс:"}),c("input",{id:"progress-slider",type:"range",min:"0",max:"100",value:l,onChange:E,className:o("slider")}),y("div",{className:o("slider-marks"),children:[c("span",{children:"0%"}),c("span",{children:"25%"}),c("span",{children:"50%"}),c("span",{children:"75%"}),c("span",{children:"100%"})]})]}),c(Oe,{id:"progress-input",text:"Точное значение (%)",value:l,setValue:u,placeholder:"Введите процент (0-100)",type:"number"}),c(Oe,{id:"progress-notes",text:"Заметки о прогрессе (необязательно)",value:d,setValue:f,placeholder:"Что было сделано сегодня?",type:"textarea"}),c(Jn,{id:"worked-today",text:"Работал над целью сегодня",checked:p,setChecked:h})]}),y("div",{className:o("actions"),children:[c(V,{theme:"blue",onClick:T,disabled:m,loading:m,children:"Сохранить прогресс"}),c(V,{theme:"blue-light",onClick:s,disabled:m,children:"Отмена"})]})]})});const Fx=({goals:e,onClose:t})=>{const n=g.useRef(null),r=g.useRef(null),a=g.useRef(!1),s=Rn(),[i,o]=g.useState(!1),[l,u]=g.useState(null),[d,f]=J("random-goal-picker"),p=400,h=300,m=1200,v=2e3,T=200,E=e.filter(w=>!w.completedByUser),C=E.length;g.useEffect(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[]),g.useEffect(()=>{if(!l&&!i&&n.current){const w=n.current,D=w.getContext("2d");if(!D)return;const M=window.devicePixelRatio||1;w.width=Math.floor(p*M),w.height=Math.floor(h*M),w.style.width="".concat(p,"px"),w.style.height="".concat(h,"px"),D.setTransform(M,0,0,M,0,0),D.clearRect(0,0,p,h),D.fillStyle="#94a3b8",D.font="bold 120px Arial",D.textAlign="center",D.textBaseline="middle",D.save(),D.beginPath(),D.rect(0,0,p,h/2+40),D.clip(),D.fillText("?",p/2,h/2-15),D.restore();const U=new Image;U.onload=()=>{D.drawImage(U,p/2-30/2,h/2+45,30,30*(U.height/U.width))},U.src="/logo.svg"}},[l,i]);const _=w=>new Promise((D,M)=>{const U=new Image;U.crossOrigin="Anonymous",U.onload=()=>D(U),U.onerror=M,U.src=w}),N=w=>{w.clearRect(0,0,w.canvas.width,w.canvas.height)},x=w=>1-(1-w)**3,S=()=>{const w=[],D="#cbd5e1";for(let U=0;U<Math.min(800,v);U++){const G=Math.random()*p,F=Math.random()*h,I=p/2+(Math.random()-.5)*T,H=h/2+(Math.random()-.5)*T,q=1+Math.random()*2,L=Math.random()*200;w.push({sx:I,sy:H,tx:G,ty:F,color:D,size:q,delay:L})}return w},A=(w,D,M)=>{const U=document.createElement("canvas"),G=Math.floor(p*M),F=Math.floor(h*M);U.width=G,U.height=F;const I=U.getContext("2d");if(!I)return[];const H=w.width/w.height;let q=G,L=Math.round(q/H);L>F&&(L=F,q=Math.round(L*H));const te=Math.floor((G-q)/2)+3,_e=Math.floor((F-L)/2)+3.5;I.clearRect(0,0,G,F),I.drawImage(w,te,_e,q,L);const $=1200,xe=q*L,Pe=Math.max(1,Math.floor(Math.sqrt(xe/$))),Ce=[],We=I.getImageData(0,0,G,F).data;for(let Fe=0;Fe<F;Fe+=Pe){for(let Xe=0;Xe<G;Xe+=Pe){const le=(Fe*G+Xe)*4,Le=We[le],ae=We[le+1],K=We[le+2],he=We[le+3];if(he>=50){const Re=Xe/M,Z=Fe/M,ue=p/2+(Math.random()-.5)*T,Te=h/2+(Math.random()-.5)*T,$e="rgba(".concat(Le,",").concat(ae,",").concat(K,",").concat(he/255,")"),at=Math.max(1,Pe/M),ge=Math.random()*200;if(Ce.push({sx:ue,sy:Te,tx:Re,ty:Z,color:$e,size:at,delay:ge}),Ce.length>=v)break}}if(Ce.length>=v)break}return Ce},P=(w,D,M,U=m)=>new Promise(G=>{const F=window.devicePixelRatio||1,I=M.getContext("2d");if(!I){G();return}M.width=Math.floor(p*F),M.height=Math.floor(h*F),M.style.width="".concat(p,"px"),M.style.height="".concat(h,"px"),I.setTransform(F,0,0,F,0,0);const H=performance.now(),q=L=>{const te=L-H;N(I);let _e=0;for(let $=0;$<w.length;$++){const xe=w[$],Pe=Math.min(Math.max((te-xe.delay)/U,0),1),Ce=x(Pe),We=xe.sx+(xe.tx-xe.sx)*Ce,Fe=xe.sy+(xe.ty-xe.sy)*Ce;I.beginPath(),I.fillStyle=xe.color,I.arc(We,Fe,xe.size,0,Math.PI*2),I.fill(),Pe>=1&&_e++}if(_e>=w.length){if(D){const $=D.width/D.height;let xe=p,Pe=Math.round(xe/$);Pe>h&&(Pe=h,xe=Math.round(Pe*$));const Ce=Math.floor((p-xe)/2),We=Math.floor((h-Pe)/2);I.drawImage(D,Ce,We,xe,Pe)}G();return}r.current=requestAnimationFrame(q)};r.current=requestAnimationFrame(q)}),O=async()=>{if(!C||a.current)return;a.current=!0,o(!0);const w=Math.floor(Math.random()*C),D=E[w],M=n.current;if(!M){a.current=!1,o(!1);return}let U=null;try{D.image&&(U=await _(D.image))}catch(G){U=null}try{const G=window.devicePixelRatio||1,F=M.getContext("2d");if(!F)throw new Error("no-canvas");const I=U?A(U,F,G):S();await P(I,U,M),u(D)}catch(G){u(D)}o(!1),a.current=!1},k=()=>{l&&(t(),s("/goals/".concat(l.code,"/")))};return y("section",{className:d(),children:[c(De,{tag:"h2",children:"Случайная цель"}),c("div",{style:{width:p,height:h,margin:"24px auto",position:"relative",borderRadius:12,overflow:"hidden"},children:c("canvas",{ref:n,className:f("canvas")})}),y("div",{className:f("details"),children:[y("div",{className:f("selected-goal",{disabled:!l&&!!C}),children:[c("p",{children:C===0?"Вы уже выполнили все цели в этом списке":"Ваша цель:"}),c("p",{className:f("selected-goal-title"),children:i?"...":l==null?void 0:l.title})]}),y("div",{className:f("buttons"),children:[l&&c(V,{theme:"blue-light",disabled:!l,onClick:k,className:f("button-to-goal",{disabled:!l||i}),children:"Перейти к цели"}),c(V,{className:f("button-select"),onClick:O,disabled:i||C===0,theme:"blue",children:l?"Выбрать другую":"Выбрать"})]})]})]})};const Ls=je(e=>{const{className:t,children:n,isOpen:r,onClose:a,title:s}=e,[i,o]=J("modal",t),{isOpen:l,setIsOpen:u,window:d,setWindow:f,funcModal:p,modalProps:h}=bn,{setIsAuth:m,setName:v,setAvatar:T}=cn,E=r!==void 0?r:l,C=a||(()=>u(!1)),_=g.useRef(null),N=g.useRef(null),x=()=>{C()},S=()=>{f("registration")},A=()=>{f("login")},P=D=>{Ft.set("name",D.name||""),x(),v(D.name||""),m(!0),T(Ft.get("avatar")||"")},O=D=>{D.key==="Escape"&&x()},k=D=>{if(D.key!=="Tab"||!_.current)return;const M=_.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(M.length===0)return;const U=M[0],G=M[M.length-1];D.shiftKey&&document.activeElement===U?(D.preventDefault(),G.focus()):!D.shiftKey&&document.activeElement===G&&(D.preventDefault(),U.focus())};if(g.useEffect(()=>(E?(document.addEventListener("keyup",O),document.addEventListener("keydown",k),setTimeout(()=>{if(_.current){const D=_.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');D.length>0?D[0].focus():N.current&&N.current.focus()}},50)):(document.removeEventListener("keyup",O),document.removeEventListener("keydown",k)),()=>{document.body.style.overflow=""}),[E]),!E)return null;const w=n||y(ft,{children:[d==="login"&&c(av,{openRegistration:S,successLogin:P}),d==="registration"&&c(sv,{openLogin:A,successRegistration:P}),d==="change-password"&&c(dx,{closeModal:x}),d==="add-review"&&c(cx,{closeModal:x}),d==="delete-goal"&&c(Gp,{closeModal:x,funcModal:p}),d==="delete-list"&&c(Gp,{closeModal:x,funcModal:p}),d==="confirm-execution-all-goal"&&c(fx,{closeModal:x,funcModal:p}),d==="goal-map"&&c(Lx,{...h}),d==="goal-map-multi"&&c(cv,{...h}),d==="goal-map-add"&&c(Rx,{closeModal:x,...h}),d==="folder-selector"&&c(Px,{goalId:h==null?void 0:h.goalId,goalTitle:h==null?void 0:h.goalTitle,onFolderSelected:(D,M)=>{var U;(U=h==null?void 0:h.onFolderSelected)==null||U.call(h,D,M),x()},showCreateButton:!0}),d==="create-todo-list"&&c(px,{onSuccess:()=>{var D;x(),(D=h==null?void 0:h.onSuccess)==null||D.call(h)},onCancel:x}),d==="create-todo-task"&&c(mx,{defaultListId:h==null?void 0:h.defaultListId,onSuccess:()=>{var D;x(),(D=h==null?void 0:h.onSuccess)==null||D.call(h)},onCancel:x}),d==="progress-update"&&c(Mx,{goalId:h==null?void 0:h.goalId,goalTitle:h==null?void 0:h.goalTitle,currentProgress:h==null?void 0:h.currentProgress,onProgressUpdate:h==null?void 0:h.onProgressUpdate,onClose:x}),d==="random-goal-picker"&&c(Fx,{goals:(h==null?void 0:h.goals)||[],onClose:x})]});return y("section",{className:i({isOpen:E}),children:[y("div",{className:o("window",{type:d,fullscreen:d==="goal-map"||d==="goal-map-multi"||d==="goal-map-add"}),ref:_,children:[s&&c("div",{className:o("header"),children:c("h2",{className:o("title"),children:s})}),c("div",{className:o("content"),children:w}),c(V,{theme:"blue-light",className:o("close",{map:d==="goal-map"||d==="goal-map-multi"}),onClick:x,refInner:N,children:c(me,{icon:"cross"})})]}),c("button",{"aria-label":"Закрыть окно",type:"button",className:o("base"),onClick:x})]})}),$f=({title:e,description:t="Delting - платформа для достижения целей и составления списков желаний",image:n="/delting.jpg",url:r=window.location.href,type:a="website",dynamicImage:s})=>{const i=s||n,o=i.startsWith("http")||i.startsWith("data:")?i:"".concat(window.location.origin).concat(i);return y(Z_,{children:[y("title",{children:[e," | Delting"]}),c("meta",{name:"description",content:t}),c("meta",{property:"og:title",content:e}),c("meta",{property:"og:description",content:t}),c("meta",{property:"og:image",content:o}),c("meta",{property:"og:url",content:r}),c("meta",{property:"og:type",content:a}),c("meta",{property:"og:site_name",content:"Delting"}),c("meta",{name:"twitter:card",content:"summary_large_image"}),c("meta",{name:"twitter:title",content:e}),c("meta",{name:"twitter:description",content:t}),c("meta",{name:"twitter:image",content:o}),c("meta",{property:"telegram:title",content:e}),c("meta",{property:"telegram:description",content:t}),c("meta",{property:"telegram:image",content:o}),c("meta",{property:"vk:image",content:o})]})};const Bx=je(({id:e,type:t,title:n,message:r,actionText:a,action:s})=>{const[i,o]=J("notification");return y(_i.div,{className:i({type:t}),initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.9},transition:{duration:.3},children:[c(me,{icon:"info",className:o("info",{type:t})}),y("div",{className:o("content"),children:[c("h3",{className:o("title"),children:n}),typeof r=="string"&&c("p",{children:r}),a&&c(V,{className:o("btn"),onClick:s,theme:"no-border",children:a})]}),c(V,{type:"button-close",onClick:()=>pe.removeNotification(e)})]})});const Ux=je(()=>{const[e]=J("notification-container");return c("div",{className:e(),children:c(il,{children:pe.visibleNotifications.map(t=>c(Bx,{...t},t.id))})})});function $p(e){const t=[],n=String(e||"");let r=n.indexOf(","),a=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const i=n.slice(a,r).trim();(i||!s)&&t.push(i),a=r+1,r=n.indexOf(",",a)}return t}function uv(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Hx=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Gx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$x={};function Wp(e,t){return((t||$x).jsx?Gx:Hx).test(e)}const Wx=/[ \t\n\f\r]/g;function Yx(e){return typeof e=="object"?e.type==="text"?Yp(e.value):!1:Yp(e)}function Yp(e){return e.replace(Wx,"")===""}let lo=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};lo.prototype.normal={};lo.prototype.property={};lo.prototype.space=void 0;function dv(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new lo(n,r,t)}function Mi(e){return e.toLowerCase()}let kn=class{constructor(t,n){this.attribute=n,this.property=t}};kn.prototype.attribute="";kn.prototype.booleanish=!1;kn.prototype.boolean=!1;kn.prototype.commaOrSpaceSeparated=!1;kn.prototype.commaSeparated=!1;kn.prototype.defined=!1;kn.prototype.mustUseProperty=!1;kn.prototype.number=!1;kn.prototype.overloadedBoolean=!1;kn.prototype.property="";kn.prototype.spaceSeparated=!1;kn.prototype.space=void 0;let zx=0;const Qe=Ja(),jt=Ja(),Fd=Ja(),de=Ja(),Ct=Ja(),_s=Ja(),Dn=Ja();function Ja(){return 2**++zx}const Bd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qe,booleanish:jt,commaOrSpaceSeparated:Dn,commaSeparated:_s,number:de,overloadedBoolean:Fd,spaceSeparated:Ct},Symbol.toStringTag,{value:"Module"})),ku=Object.keys(Bd);let Wf=class extends kn{constructor(t,n,r,a){let s=-1;if(super(t,n),zp(this,"space",a),typeof r=="number")for(;++s<ku.length;){const i=ku[s];zp(this,ku[s],(r&Bd[i])===Bd[i])}}};Wf.prototype.defined=!0;function zp(e,t,n){n&&(e[t]=n)}function Js(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const s=new Wf(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Mi(r)]=r,n[Mi(s.attribute)]=r}return new lo(t,n,e.space)}const fv=Js({properties:{ariaActiveDescendant:null,ariaAtomic:jt,ariaAutoComplete:null,ariaBusy:jt,ariaChecked:jt,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:Ct,ariaCurrent:null,ariaDescribedBy:Ct,ariaDetails:null,ariaDisabled:jt,ariaDropEffect:Ct,ariaErrorMessage:null,ariaExpanded:jt,ariaFlowTo:Ct,ariaGrabbed:jt,ariaHasPopup:null,ariaHidden:jt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ct,ariaLevel:de,ariaLive:null,ariaModal:jt,ariaMultiLine:jt,ariaMultiSelectable:jt,ariaOrientation:null,ariaOwns:Ct,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:jt,ariaReadOnly:jt,ariaRelevant:null,ariaRequired:jt,ariaRoleDescription:Ct,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:jt,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function hv(e,t){return t in e?e[t]:t}function pv(e,t){return hv(e,t.toLowerCase())}const Vx=Js({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_s,acceptCharset:Ct,accessKey:Ct,action:null,allow:null,allowFullScreen:Qe,allowPaymentRequest:Qe,allowUserMedia:Qe,alt:null,as:null,async:Qe,autoCapitalize:null,autoComplete:Ct,autoFocus:Qe,autoPlay:Qe,blocking:Ct,capture:null,charSet:null,checked:Qe,cite:null,className:Ct,cols:de,colSpan:null,content:null,contentEditable:jt,controls:Qe,controlsList:Ct,coords:de|_s,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qe,defer:Qe,dir:null,dirName:null,disabled:Qe,download:Fd,draggable:jt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qe,formTarget:null,headers:Ct,height:de,hidden:Fd,high:de,href:null,hrefLang:null,htmlFor:Ct,httpEquiv:Ct,id:null,imageSizes:null,imageSrcSet:null,inert:Qe,inputMode:null,integrity:null,is:null,isMap:Qe,itemId:null,itemProp:Ct,itemRef:Ct,itemScope:Qe,itemType:Ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qe,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Qe,muted:Qe,name:null,nonce:null,noModule:Qe,noValidate:Qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qe,optimum:de,pattern:null,ping:Ct,placeholder:null,playsInline:Qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qe,referrerPolicy:null,rel:Ct,required:Qe,reversed:Qe,rows:de,rowSpan:de,sandbox:Ct,scope:null,scoped:Qe,seamless:Qe,selected:Qe,shadowRootClonable:Qe,shadowRootDelegatesFocus:Qe,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:jt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Qe,useMap:null,value:jt,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ct,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qe,declare:Qe,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Qe,noHref:Qe,noShade:Qe,noWrap:Qe,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:jt,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qe,disableRemotePlayback:Qe,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:pv}),jx=Js({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Dn,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:Ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_s,g2:_s,glyphName:_s,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:Dn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Dn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Dn,rev:Dn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Dn,requiredFeatures:Dn,requiredFonts:Dn,requiredFormats:Dn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:Dn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Dn,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Dn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:hv}),mv=Js({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),gv=Js({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:pv}),bv=Js({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),qx={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Kx=/[A-Z]/g,Vp=/-[a-z]/g,Qx=/^data[-\w.:]+$/i;function Yf(e,t){const n=Mi(t);let r=t,a=kn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Qx.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Vp,Jx);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Vp.test(s)){let i=s.replace(Kx,Xx);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}a=Wf}return new a(r,t)}function Xx(e){return"-"+e.toLowerCase()}function Jx(e){return e.charAt(1).toUpperCase()}const kc=dv([fv,Vx,mv,gv,bv],"html"),Zs=dv([fv,jx,mv,gv,bv],"svg");function jp(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function vv(e){return e.join(" ").trim()}var zf={},qp=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Zx=/\n/g,ek=/^\s*/,tk=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,nk=/^:\s*/,rk=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ak=/^[;\s]*/,sk=/^\s+|\s+$/g,ik="\n",Kp="/",Qp="*",xa="",ok="comment",lk="declaration",ck=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(m){var v=m.match(Zx);v&&(n+=v.length);var T=m.lastIndexOf(ik);r=~T?m.length-T:r+m.length}function s(){var m={line:n,column:r};return function(v){return v.position=new i(m),u(),v}}function i(m){this.start=m,this.end={line:n,column:r},this.source=t.source}i.prototype.content=e;function o(m){var v=new Error(t.source+":"+n+":"+r+": "+m);if(v.reason=m,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(m){var v=m.exec(e);if(v){var T=v[0];return a(T),e=e.slice(T.length),v}}function u(){l(ek)}function d(m){var v;for(m=m||[];v=f();)v!==!1&&m.push(v);return m}function f(){var m=s();if(!(Kp!=e.charAt(0)||Qp!=e.charAt(1))){for(var v=2;xa!=e.charAt(v)&&(Qp!=e.charAt(v)||Kp!=e.charAt(v+1));)++v;if(v+=2,xa===e.charAt(v-1))return o("End of comment missing");var T=e.slice(2,v-2);return r+=2,a(T),e=e.slice(v),r+=2,m({type:ok,comment:T})}}function p(){var m=s(),v=l(tk);if(v){if(f(),!l(nk))return o("property missing ':'");var T=l(rk),E=m({type:lk,property:Xp(v[0].replace(qp,xa)),value:T?Xp(T[0].replace(qp,xa)):xa});return l(ak),E}}function h(){var m=[];d(m);for(var v;v=p();)v!==!1&&(m.push(v),d(m));return m}return u(),h()};function Xp(e){return e?e.replace(sk,xa):xa}var uk=Kn&&Kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});zf.default=fk;var dk=uk(ck);function fk(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,dk.default)(e),a=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var i=s.property,o=s.value;a?t(i,o,s):o&&(n=n||{},n[i]=o)}}),n}var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.camelCase=void 0;var hk=/^--[a-zA-Z0-9_-]+$/,pk=/-([a-z])/g,mk=/^[^-]+$/,gk=/^-(webkit|moz|ms|o|khtml)-/,bk=/^-(ms)-/,vk=function(e){return!e||mk.test(e)||hk.test(e)},yk=function(e,t){return t.toUpperCase()},Jp=function(e,t){return"".concat(t,"-")},Ek=function(e,t){return t===void 0&&(t={}),vk(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(bk,Jp):e=e.replace(gk,Jp),e.replace(pk,yk))};Ac.camelCase=Ek;var _k=Kn&&Kn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Tk=_k(zf),Sk=Ac;function Ud(e,t){var n={};return!e||typeof e!="string"||(0,Tk.default)(e,function(r,a){r&&a&&(n[(0,Sk.camelCase)(r,t)]=a)}),n}Ud.default=Ud;var wk=Ud;const Ck=zi(wk),Dc=yv("end"),Pr=yv("start");function yv(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Ev(e){const t=Pr(e),n=Dc(e);if(t&&n)return{start:t,end:n}}function wi(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Zp(e.position):"start"in e||"end"in e?Zp(e):"line"in e||"column"in e?Hd(e):""}function Hd(e){return em(e&&e.line)+":"+em(e&&e.column)}function Zp(e){return Hd(e&&e.start)+"-"+Hd(e&&e.end)}function em(e){return e&&typeof e=="number"?e:1}class un extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",s={},i=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?a=t:!s.cause&&t&&(i=!0,a=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=o?o.line:void 0,this.name=wi(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=i&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}un.prototype.file="";un.prototype.name="";un.prototype.reason="";un.prototype.message="";un.prototype.stack="";un.prototype.column=void 0;un.prototype.line=void 0;un.prototype.ancestors=void 0;un.prototype.cause=void 0;un.prototype.fatal=void 0;un.prototype.place=void 0;un.prototype.ruleId=void 0;un.prototype.source=void 0;const Vf={}.hasOwnProperty,Nk=new Map,xk=/[A-Z]/g,kk=new Set(["table","tbody","thead","tfoot","tr"]),Ak=new Set(["td","th"]),_v="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Dk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Bk(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Fk(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Zs:kc,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Tv(a,e,void 0);return s&&typeof s!="string"?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function Tv(e,t,n){if(t.type==="element")return Ik(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Ok(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Lk(e,t,n);if(t.type==="mdxjsEsm")return Pk(e,t);if(t.type==="root")return Rk(e,t,n);if(t.type==="text")return Mk(e,t)}function Ik(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Zs,e.schema=a),e.ancestors.push(t);const s=wv(e,t.tagName,!1),i=Uk(e,t);let o=qf(e,t);return kk.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!Yx(l):!0})),Sv(e,i,s,t),jf(i,o),e.ancestors.pop(),e.schema=r,e.create(t,s,i,n)}function Ok(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Fi(e,t.position)}function Pk(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Fi(e,t.position)}function Lk(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=Zs,e.schema=a),e.ancestors.push(t);const s=t.name===null?e.Fragment:wv(e,t.name,!0),i=Hk(e,t),o=qf(e,t);return Sv(e,i,s,t),jf(i,o),e.ancestors.pop(),e.schema=r,e.create(t,s,i,n)}function Rk(e,t,n){const r={};return jf(r,qf(e,t)),e.create(t,e.Fragment,r,n)}function Mk(e,t){return t.value}function Sv(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function jf(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Fk(e,t,n){return r;function r(a,s,i,o){const u=Array.isArray(i.children)?n:t;return o?u(s,i,o):u(s,i)}}function Bk(e,t){return n;function n(r,a,s,i){const o=Array.isArray(s.children),l=Pr(r);return t(a,s,i,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Uk(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&Vf.call(t.properties,a)){const s=Gk(e,a,t.properties[a]);if(s){const[i,o]=s;e.tableCellAlignToStyle&&i==="align"&&typeof o=="string"&&Ak.has(t.tagName)?r=o:n[i]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Hk(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const i=s.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Fi(e,t.position);else{const a=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Fi(e,t.position);else s=r.value===null?!0:r.value;n[a]=s}return n}function qf(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Nk;for(;++r<t.children.length;){const s=t.children[r];let i;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=a.get(l)||0;i=l+"-"+u,a.set(l,u+1)}}const o=Tv(e,s,i);o!==void 0&&n.push(o)}return n}function Gk(e,t,n){const r=Yf(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?uv(n):vv(n)),r.property==="style"){let a=typeof n=="object"?n:$k(e,String(n));return e.stylePropertyNameCase==="css"&&(a=Wk(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?qx[r.property]||r.property:r.attribute,n]}}function $k(e,t){try{return Ck(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new un("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=_v+"#cannot-parse-style-attribute",a}}function wv(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let s=-1,i;for(;++s<a.length;){const o=Wp(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};i=i?{type:"MemberExpression",object:i,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=i}else r=Wp(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return Vf.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Fi(e)}function Fi(e,t){const n=new un("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=_v+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Wk(e){const t={};let n;for(n in e)Vf.call(e,n)&&(t[Yk(n)]=e[n]);return t}function Yk(e){let t=e.replace(xk,zk);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function zk(e){return"-"+e.toLowerCase()}const Au={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Vk={};function Kf(e,t){const n=t||Vk,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Cv(e,r,a)}function Cv(e,t,n){if(jk(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return tm(e.children,t,n)}return Array.isArray(e)?tm(e,t,n):""}function tm(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=Cv(e[a],t,n);return r.join("")}function jk(e){return!!(e&&typeof e=="object")}const nm=document.createElement("i");function Qf(e){const t="&"+e+";";nm.innerHTML=t;const n=nm.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Pn(e,t,n,r){const a=e.length;let s=0,i;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);s<r.length;)i=r.slice(s,s+1e4),i.unshift(t,0),e.splice(...i),s+=1e4,t+=1e4}function Yn(e,t){return e.length>0?(Pn(e,e.length,0,t),e):t}const rm={}.hasOwnProperty;function Nv(e){const t={};let n=-1;for(;++n<e.length;)qk(t,e[n]);return t}function qk(e,t){let n;for(n in t){const a=(rm.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let i;if(s)for(i in s){rm.call(a,i)||(a[i]=[]);const o=s[i];Kk(a[i],Array.isArray(o)?o:o?[o]:[])}}}function Kk(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Pn(e,0,0,r)}function xv(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ir(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const gn=ya(/[A-Za-z]/),ln=ya(/[\dA-Za-z]/),Qk=ya(/[#-'*+\--9=?A-Z^-~]/);function Bl(e){return e!==null&&(e<32||e===127)}const Gd=ya(/\d/),Xk=ya(/[\dA-Fa-f]/),Jk=ya(/[!-/:-@[-`{-~]/);function Me(e){return e!==null&&e<-2}function Tt(e){return e!==null&&(e<0||e===32)}function nt(e){return e===-2||e===-1||e===32}const Ic=ya(new RegExp("\\p{P}|\\p{S}","u")),Ga=ya(/\s/);function ya(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ei(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const s=e.charCodeAt(n);let i="";if(s===37&&ln(e.charCodeAt(n+1))&&ln(e.charCodeAt(n+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(i=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(i=String.fromCharCode(s,o),a=1):i="�"}else i=String.fromCharCode(s);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+a+1,i=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function st(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let s=0;return i;function i(l){return nt(l)?(e.enter(n),o(l)):t(l)}function o(l){return nt(l)&&s++<a?(e.consume(l),o):(e.exit(n),t(l))}}const Zk={tokenize:eA};function eA(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),st(e,t,"linePrefix")}function a(o){return e.enter("paragraph"),s(o)}function s(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,i(o)}function i(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Me(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),i)}}const tA={tokenize:nA},am={tokenize:rA};function nA(e){const t=this,n=[];let r=0,a,s,i;return o;function o(_){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,l,u)(_)}return u(_)}function l(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&C();const N=t.events.length;let x=N,S;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){S=t.events[x][1].end;break}E(r);let A=N;for(;A<t.events.length;)t.events[A][1].end={...S},A++;return Pn(t.events,x+1,0,t.events.slice(N)),t.events.length=A,u(_)}return o(_)}function u(_){if(r===n.length){if(!a)return p(_);if(a.currentConstruct&&a.currentConstruct.concrete)return m(_);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(am,d,f)(_)}function d(_){return a&&C(),E(r),p(_)}function f(_){return t.parser.lazy[t.now().line]=r!==n.length,i=t.now().offset,m(_)}function p(_){return t.containerState={},e.attempt(am,h,m)(_)}function h(_){return r++,n.push([t.currentConstruct,t.containerState]),p(_)}function m(_){if(_===null){a&&C(),E(0),e.consume(_);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:s}),v(_)}function v(_){if(_===null){T(e.exit("chunkFlow"),!0),E(0),e.consume(_);return}return Me(_)?(e.consume(_),T(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(_),v)}function T(_,N){const x=t.sliceStream(_);if(N&&x.push(null),_.previous=s,s&&(s.next=_),s=_,a.defineSkip(_.start),a.write(x),t.parser.lazy[_.start.line]){let S=a.events.length;for(;S--;)if(a.events[S][1].start.offset<i&&(!a.events[S][1].end||a.events[S][1].end.offset>i))return;const A=t.events.length;let P=A,O,k;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(O){k=t.events[P][1].end;break}O=!0}for(E(r),S=A;S<t.events.length;)t.events[S][1].end={...k},S++;Pn(t.events,P+1,0,t.events.slice(A)),t.events.length=S}}function E(_){let N=n.length;for(;N-- >_;){const x=n[N];t.containerState=x[1],x[0].exit.call(t,e)}n.length=_}function C(){a.write([null]),s=void 0,a=void 0,t.containerState._closeFlow=void 0}}function rA(e,t,n){return st(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Rs(e){if(e===null||Tt(e)||Ga(e))return 1;if(Ic(e))return 2}function Oc(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const $d={name:"attention",resolveAll:aA,tokenize:sA};function aA(e,t){let n=-1,r,a,s,i,o,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};sm(f,-l),sm(p,l),i={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...i.start},end:{...o.end}},e[r][1].end={...i.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Yn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Yn(u,[["enter",a,t],["enter",i,t],["exit",i,t],["enter",s,t]]),u=Yn(u,Oc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Yn(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Yn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Pn(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function sA(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Rs(r);let s;return i;function i(l){return s=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===s)return e.consume(l),o;const u=e.exit("attentionSequence"),d=Rs(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(a||!p)),u._close=!!(s===42?p:p&&(d||!f)),t(l)}}function sm(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const iA={name:"autolink",tokenize:oA};function oA(e,t,n){let r=0;return a;function a(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return gn(h)?(e.consume(h),i):h===64?n(h):u(h)}function i(h){return h===43||h===45||h===46||ln(h)?(r=1,o(h)):u(h)}function o(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||ln(h))&&r++<32?(e.consume(h),o):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Bl(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),d):Qk(h)?(e.consume(h),u):n(h)}function d(h){return ln(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,d):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||ln(h))&&r++<63){const m=h===45?p:f;return e.consume(h),m}return n(h)}}const co={partial:!0,tokenize:lA};function lA(e,t,n){return r;function r(s){return nt(s)?st(e,a,"linePrefix")(s):a(s)}function a(s){return s===null||Me(s)?t(s):n(s)}}const kv={continuation:{tokenize:uA},exit:dA,name:"blockQuote",tokenize:cA};function cA(e,t,n){const r=this;return a;function a(i){if(i===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),s}return n(i)}function s(i){return nt(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function uA(e,t,n){const r=this;return a;function a(i){return nt(i)?st(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):s(i)}function s(i){return e.attempt(kv,t,n)(i)}}function dA(e){e.exit("blockQuote")}const Av={name:"characterEscape",tokenize:fA};function fA(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),a}function a(s){return Jk(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Dv={name:"characterReference",tokenize:hA};function hA(e,t,n){const r=this;let a=0,s,i;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,i=ln,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,i=Xk,d):(e.enter("characterReferenceValue"),s=7,i=Gd,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return i===ln&&!Qf(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return i(f)&&a++<s?(e.consume(f),d):n(f)}}const im={partial:!0,tokenize:mA},om={concrete:!0,name:"codeFenced",tokenize:pA};function pA(e,t,n){const r=this,a={partial:!0,tokenize:x};let s=0,i=0,o;return l;function l(S){return u(S)}function u(S){const A=r.events[r.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===o?(i++,e.consume(S),d):i<3?n(S):(e.exit("codeFencedFenceSequence"),nt(S)?st(e,f,"whitespace")(S):f(S))}function f(S){return S===null||Me(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(im,v,N)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||Me(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):nt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),st(e,h,"whitespace")(S)):S===96&&S===o?n(S):(e.consume(S),p)}function h(S){return S===null||Me(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===null||Me(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===o?n(S):(e.consume(S),m)}function v(S){return e.attempt(a,N,T)(S)}function T(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),E}function E(S){return s>0&&nt(S)?st(e,C,"linePrefix",s+1)(S):C(S)}function C(S){return S===null||Me(S)?e.check(im,v,N)(S):(e.enter("codeFlowValue"),_(S))}function _(S){return S===null||Me(S)?(e.exit("codeFlowValue"),C(S)):(e.consume(S),_)}function N(S){return e.exit("codeFenced"),t(S)}function x(S,A,P){let O=0;return k;function k(G){return S.enter("lineEnding"),S.consume(G),S.exit("lineEnding"),w}function w(G){return S.enter("codeFencedFence"),nt(G)?st(S,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):D(G)}function D(G){return G===o?(S.enter("codeFencedFenceSequence"),M(G)):P(G)}function M(G){return G===o?(O++,S.consume(G),M):O>=i?(S.exit("codeFencedFenceSequence"),nt(G)?st(S,U,"whitespace")(G):U(G)):P(G)}function U(G){return G===null||Me(G)?(S.exit("codeFencedFence"),A(G)):P(G)}}}function mA(e,t,n){const r=this;return a;function a(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s)}function s(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}const Du={name:"codeIndented",tokenize:bA},gA={partial:!0,tokenize:vA};function bA(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),st(e,s,"linePrefix",4+1)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(u):n(u)}function i(u){return u===null?l(u):Me(u)?e.attempt(gA,i,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||Me(u)?(e.exit("codeFlowValue"),i(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function vA(e,t,n){const r=this;return a;function a(i){return r.parser.lazy[r.now().line]?n(i):Me(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),a):st(e,s,"linePrefix",4+1)(i)}function s(i){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):Me(i)?a(i):n(i)}}const yA={name:"codeText",previous:_A,resolve:EA,tokenize:TA};function EA(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function _A(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function TA(e,t,n){let r=0,a,s;return i;function i(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(s=e.enter("codeTextSequence"),a=0,d(f)):Me(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Me(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class SA{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n==null?Number.POSITIVE_INFINITY:n;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&ci(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ci(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ci(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ci(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ci(this.left,n.reverse())}}}function ci(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Iv(e){const t={};let n=-1,r,a,s,i,o,l,u;const d=new SA(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,wA(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,a=void 0;s--;)if(i=d.get(s),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),i[1].type="lineEnding",a=s);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},o=d.slice(a,n),o.unshift(r),d.splice(a,n-a+1,o))}}return Pn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function wA(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const s=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const o=i.events,l=[],u={};let d,f,p=-1,h=n,m=0,v=0;const T=[v];for(;h;){for(;e.get(++a)[1]!==h;);s.push(a),h._tokenizer||(d=r.sliceStream(h),h.next||d.push(null),f&&i.defineSkip(h.start),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(v=p+1,T.push(v),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(i.events=[],h?(h._tokenizer=void 0,h.previous=void 0):T.pop(),p=T.length;p--;){const E=o.slice(T[p],T[p+1]),C=s.pop();l.push([C,C+E.length-1]),e.splice(C,2,E)}for(l.reverse(),p=-1;++p<l.length;)u[m+l[p][0]]=m+l[p][1],m+=l[p][1]-l[p][0]-1;return u}const CA={resolve:xA,tokenize:kA},NA={partial:!0,tokenize:AA};function xA(e){return Iv(e),e}function kA(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?s(o):Me(o)?e.check(NA,i,s)(o):(e.consume(o),a)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function i(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function AA(e,t,n){const r=this;return a;function a(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),st(e,s,"linePrefix")}function s(i){if(i===null||Me(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function Ov(e,t,n,r,a,s,i,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(E){return E===60?(e.enter(r),e.enter(a),e.enter(s),e.consume(E),e.exit(s),p):E===null||E===32||E===41||Bl(E)?n(E):(e.enter(r),e.enter(i),e.enter(o),e.enter("chunkString",{contentType:"string"}),v(E))}function p(E){return E===62?(e.enter(s),e.consume(E),e.exit(s),e.exit(a),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===62?(e.exit("chunkString"),e.exit(o),p(E)):E===null||E===60||Me(E)?n(E):(e.consume(E),E===92?m:h)}function m(E){return E===60||E===62||E===92?(e.consume(E),h):h(E)}function v(E){return!d&&(E===null||E===41||Tt(E))?(e.exit("chunkString"),e.exit(o),e.exit(i),e.exit(r),t(E)):d<u&&E===40?(e.consume(E),d++,v):E===41?(e.consume(E),d--,v):E===null||E===32||E===40||Bl(E)?n(E):(e.consume(E),E===92?T:v)}function T(E){return E===40||E===41||E===92?(e.consume(E),v):v(E)}}function Pv(e,t,n,r,a,s){const i=this;let o=0,l;return u;function u(h){return e.enter(r),e.enter(a),e.consume(h),e.exit(a),e.enter(s),d}function d(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):h===93?(e.exit(s),e.enter(a),e.consume(h),e.exit(a),e.exit(r),t):Me(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Me(h)||o++>999?(e.exit("chunkString"),d(h)):(e.consume(h),l||(l=!nt(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(e.consume(h),o++,f):f(h)}}function Lv(e,t,n,r,a,s){let i;return o;function o(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),i=p===40?41:p,l):n(p)}function l(p){return p===i?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(s),u(p))}function u(p){return p===i?(e.exit(s),l(i)):p===null?n(p):Me(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),st(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===i||p===null||Me(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:d)}function f(p){return p===i||p===92?(e.consume(p),d):d(p)}}function Ci(e,t){let n;return r;function r(a){return Me(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):nt(a)?st(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const DA={name:"definition",tokenize:OA},IA={partial:!0,tokenize:PA};function OA(e,t,n){const r=this;let a;return s;function s(h){return e.enter("definition"),i(h)}function i(h){return Pv.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return a=ir(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Tt(h)?Ci(e,u)(h):u(h)}function u(h){return Ov(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function d(h){return e.attempt(IA,f,f)(h)}function f(h){return nt(h)?st(e,p,"whitespace")(h):p(h)}function p(h){return h===null||Me(h)?(e.exit("definition"),r.parser.defined.push(a),t(h)):n(h)}}function PA(e,t,n){return r;function r(o){return Tt(o)?Ci(e,a)(o):n(o)}function a(o){return Lv(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return nt(o)?st(e,i,"whitespace")(o):i(o)}function i(o){return o===null||Me(o)?t(o):n(o)}}const LA={name:"hardBreakEscape",tokenize:RA};function RA(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),a}function a(s){return Me(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const MA={name:"headingAtx",resolve:FA,tokenize:BA};function FA(e,t){let n=e.length-2,r=3,a,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Pn(e,r,n-r+1,[["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t]])),e}function BA(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&r++<6?(e.consume(d),i):d===null||Tt(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Me(d)?(e.exit("atxHeading"),t(d)):nt(d)?st(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Tt(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const UA=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lm=["pre","script","style","textarea"],HA={concrete:!0,name:"htmlFlow",resolveTo:WA,tokenize:YA},GA={partial:!0,tokenize:VA},$A={partial:!0,tokenize:zA};function WA(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function YA(e,t,n){const r=this;let a,s,i,o,l;return u;function u($){return d($)}function d($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),f}function f($){return $===33?(e.consume($),p):$===47?(e.consume($),s=!0,v):$===63?(e.consume($),a=3,r.interrupt?t:L):gn($)?(e.consume($),i=String.fromCharCode($),T):n($)}function p($){return $===45?(e.consume($),a=2,h):$===91?(e.consume($),a=5,o=0,m):gn($)?(e.consume($),a=4,r.interrupt?t:L):n($)}function h($){return $===45?(e.consume($),r.interrupt?t:L):n($)}function m($){const xe="CDATA[";return $===xe.charCodeAt(o++)?(e.consume($),o===xe.length?r.interrupt?t:D:m):n($)}function v($){return gn($)?(e.consume($),i=String.fromCharCode($),T):n($)}function T($){if($===null||$===47||$===62||Tt($)){const xe=$===47,Pe=i.toLowerCase();return!xe&&!s&&lm.includes(Pe)?(a=1,r.interrupt?t($):D($)):UA.includes(i.toLowerCase())?(a=6,xe?(e.consume($),E):r.interrupt?t($):D($)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):s?C($):_($))}return $===45||ln($)?(e.consume($),i+=String.fromCharCode($),T):n($)}function E($){return $===62?(e.consume($),r.interrupt?t:D):n($)}function C($){return nt($)?(e.consume($),C):k($)}function _($){return $===47?(e.consume($),k):$===58||$===95||gn($)?(e.consume($),N):nt($)?(e.consume($),_):k($)}function N($){return $===45||$===46||$===58||$===95||ln($)?(e.consume($),N):x($)}function x($){return $===61?(e.consume($),S):nt($)?(e.consume($),x):_($)}function S($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),l=$,A):nt($)?(e.consume($),S):P($)}function A($){return $===l?(e.consume($),l=null,O):$===null||Me($)?n($):(e.consume($),A)}function P($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Tt($)?x($):(e.consume($),P)}function O($){return $===47||$===62||nt($)?_($):n($)}function k($){return $===62?(e.consume($),w):n($)}function w($){return $===null||Me($)?D($):nt($)?(e.consume($),w):n($)}function D($){return $===45&&a===2?(e.consume($),F):$===60&&a===1?(e.consume($),I):$===62&&a===4?(e.consume($),te):$===63&&a===3?(e.consume($),L):$===93&&a===5?(e.consume($),q):Me($)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(GA,_e,M)($)):$===null||Me($)?(e.exit("htmlFlowData"),M($)):(e.consume($),D)}function M($){return e.check($A,U,_e)($)}function U($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),G}function G($){return $===null||Me($)?M($):(e.enter("htmlFlowData"),D($))}function F($){return $===45?(e.consume($),L):D($)}function I($){return $===47?(e.consume($),i="",H):D($)}function H($){if($===62){const xe=i.toLowerCase();return lm.includes(xe)?(e.consume($),te):D($)}return gn($)&&i.length<8?(e.consume($),i+=String.fromCharCode($),H):D($)}function q($){return $===93?(e.consume($),L):D($)}function L($){return $===62?(e.consume($),te):$===45&&a===2?(e.consume($),L):D($)}function te($){return $===null||Me($)?(e.exit("htmlFlowData"),_e($)):(e.consume($),te)}function _e($){return e.exit("htmlFlow"),t($)}}function zA(e,t,n){const r=this;return a;function a(i){return Me(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s):n(i)}function s(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}function VA(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(co,t,n)}}const jA={name:"htmlText",tokenize:qA};function qA(e,t,n){const r=this;let a,s,i;return o;function o(L){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(L),l}function l(L){return L===33?(e.consume(L),u):L===47?(e.consume(L),x):L===63?(e.consume(L),_):gn(L)?(e.consume(L),P):n(L)}function u(L){return L===45?(e.consume(L),d):L===91?(e.consume(L),s=0,m):gn(L)?(e.consume(L),C):n(L)}function d(L){return L===45?(e.consume(L),h):n(L)}function f(L){return L===null?n(L):L===45?(e.consume(L),p):Me(L)?(i=f,I(L)):(e.consume(L),f)}function p(L){return L===45?(e.consume(L),h):f(L)}function h(L){return L===62?F(L):L===45?p(L):f(L)}function m(L){const te="CDATA[";return L===te.charCodeAt(s++)?(e.consume(L),s===te.length?v:m):n(L)}function v(L){return L===null?n(L):L===93?(e.consume(L),T):Me(L)?(i=v,I(L)):(e.consume(L),v)}function T(L){return L===93?(e.consume(L),E):v(L)}function E(L){return L===62?F(L):L===93?(e.consume(L),E):v(L)}function C(L){return L===null||L===62?F(L):Me(L)?(i=C,I(L)):(e.consume(L),C)}function _(L){return L===null?n(L):L===63?(e.consume(L),N):Me(L)?(i=_,I(L)):(e.consume(L),_)}function N(L){return L===62?F(L):_(L)}function x(L){return gn(L)?(e.consume(L),S):n(L)}function S(L){return L===45||ln(L)?(e.consume(L),S):A(L)}function A(L){return Me(L)?(i=A,I(L)):nt(L)?(e.consume(L),A):F(L)}function P(L){return L===45||ln(L)?(e.consume(L),P):L===47||L===62||Tt(L)?O(L):n(L)}function O(L){return L===47?(e.consume(L),F):L===58||L===95||gn(L)?(e.consume(L),k):Me(L)?(i=O,I(L)):nt(L)?(e.consume(L),O):F(L)}function k(L){return L===45||L===46||L===58||L===95||ln(L)?(e.consume(L),k):w(L)}function w(L){return L===61?(e.consume(L),D):Me(L)?(i=w,I(L)):nt(L)?(e.consume(L),w):O(L)}function D(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),a=L,M):Me(L)?(i=D,I(L)):nt(L)?(e.consume(L),D):(e.consume(L),U)}function M(L){return L===a?(e.consume(L),a=void 0,G):L===null?n(L):Me(L)?(i=M,I(L)):(e.consume(L),M)}function U(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Tt(L)?O(L):(e.consume(L),U)}function G(L){return L===47||L===62||Tt(L)?O(L):n(L)}function F(L){return L===62?(e.consume(L),e.exit("htmlTextData"),e.exit("htmlText"),t):n(L)}function I(L){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),H}function H(L){return nt(L)?st(e,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):q(L)}function q(L){return e.enter("htmlTextData"),i(L)}}const Xf={name:"labelEnd",resolveAll:JA,resolveTo:ZA,tokenize:eD},KA={tokenize:tD},QA={tokenize:nD},XA={tokenize:rD};function JA(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Pn(e,0,e.length,n),e}function ZA(e,t){let n=e.length,r=0,a,s,i,o;for(;n--;)if(a=e[n][1],s){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(i){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(s=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(i=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[i][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[i-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=Yn(o,e.slice(s+1,s+r+3)),o=Yn(o,[["enter",d,t]]),o=Yn(o,Oc(t.parser.constructs.insideSpan.null,e.slice(s+r+4,i-3),t)),o=Yn(o,[["exit",d,t],e[i-2],e[i-1],["exit",u,t]]),o=Yn(o,e.slice(i+1)),o=Yn(o,[["exit",l,t]]),Pn(e,s,e.length,o),e}function eD(e,t,n){const r=this;let a=r.events.length,s,i;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){s=r.events[a][1];break}return o;function o(p){return s?s._inactive?f(p):(i=r.parser.defined.includes(ir(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(KA,d,i?d:f)(p):p===91?e.attempt(QA,d,i?u:f)(p):i?d(p):f(p)}function u(p){return e.attempt(XA,d,f)(p)}function d(p){return t(p)}function f(p){return s._balanced=!0,n(p)}}function tD(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Tt(f)?Ci(e,s)(f):s(f)}function s(f){return f===41?d(f):Ov(e,i,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function i(f){return Tt(f)?Ci(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?Lv(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Tt(f)?Ci(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function nD(e,t,n){const r=this;return a;function a(o){return Pv.call(r,e,s,i,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(ir(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function i(o){return n(o)}}function rD(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),a}function a(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const aD={name:"labelStartImage",resolveAll:Xf.resolveAll,tokenize:sD};function sD(e,t,n){const r=this;return a;function a(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),i):n(o)}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const iD={name:"labelStartLink",resolveAll:Xf.resolveAll,tokenize:oD};function oD(e,t,n){const r=this;return a;function a(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),s}function s(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}const Iu={name:"lineEnding",tokenize:lD};function lD(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),st(e,t,"linePrefix")}}const pl={name:"thematicBreak",tokenize:cD};function cD(e,t,n){let r=0,a;return s;function s(u){return e.enter("thematicBreak"),i(u)}function i(u){return a=u,o(u)}function o(u){return u===a?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Me(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===a?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),nt(u)?st(e,o,"whitespace")(u):o(u))}}const wn={continuation:{tokenize:hD},exit:mD,name:"list",tokenize:fD},uD={partial:!0,tokenize:gD},dD={partial:!0,tokenize:pD};function fD(e,t,n){const r=this,a=r.events[r.events.length-1];let s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,i=0;return o;function o(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Gd(h)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(pl,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Gd(h)&&++i<10?(e.consume(h),l):(!r.interrupt||i<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(co,r.interrupt?n:d,e.attempt(uD,p,f))}function d(h){return r.containerState.initialBlankLine=!0,s++,p(h)}function f(h){return nt(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function hD(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(co,a,s);function a(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,st(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!nt(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(dD,t,i)(o))}function i(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,st(e,e.attempt(wn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function pD(e,t,n){const r=this;return st(e,a,"listItemIndent",r.containerState.size+1);function a(s){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(s):n(s)}}function mD(e){e.exit(this.containerState.type)}function gD(e,t,n){const r=this;return st(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function a(s){const i=r.events[r.events.length-1];return!nt(s)&&i&&i[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const cm={name:"setextUnderline",resolveTo:bD,tokenize:vD};function bD(e,t){let n=e.length,r,a,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const i={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",s?(e.splice(a,0,["enter",i,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=i,e.push(["exit",i,t]),e}function vD(e,t,n){const r=this;let a;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=u,i(u)):n(u)}function i(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===a?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),nt(u)?st(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Me(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const yD={tokenize:ED};function ED(e){const t=this,n=e.attempt(co,r,e.attempt(this.parser.constructs.flowInitial,a,st(e,e.attempt(this.parser.constructs.flow,a,e.attempt(CA,a)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const _D={resolveAll:Mv()},TD=Rv("string"),SD=Rv("text");function Rv(e){return{resolveAll:Mv(e==="text"?wD:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],s=n.attempt(a,i,o);return i;function i(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Mv(e){return t;function t(n,r){let a=-1,s;for(;++a<=n.length;)s===void 0?n[a]&&n[a][1].type==="data"&&(s=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==s+2&&(n[s][1].end=n[a-1][1].end,n.splice(s+2,a-s-2),a=s+2),s=void 0);return e?e(n,r):n}}function wD(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let s=a.length,i=-1,o=0,l;for(;s--;){const u=a[s];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)o++,i--;if(i)break;i=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?i:r.start._bufferIndex+i,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const CD={42:wn,43:wn,45:wn,48:wn,49:wn,50:wn,51:wn,52:wn,53:wn,54:wn,55:wn,56:wn,57:wn,62:kv},ND={91:DA},xD={[-2]:Du,[-1]:Du,32:Du},kD={35:MA,42:pl,45:[cm,pl],60:HA,61:cm,95:pl,96:om,126:om},AD={38:Dv,92:Av},DD={[-5]:Iu,[-4]:Iu,[-3]:Iu,33:aD,38:Dv,42:$d,60:[iA,jA],91:iD,92:[LA,Av],93:Xf,95:$d,96:yA},ID={null:[$d,_D]},OD={null:[42,95]},PD={null:[]},LD=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:OD,contentInitial:ND,disable:PD,document:CD,flow:kD,flowInitial:xD,insideSpan:ID,string:AD,text:DD},Symbol.toStringTag,{value:"Module"}));function RD(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},s=[];let i=[],o=[];const l={attempt:A(x),check:A(S),consume:C,enter:_,exit:N,interrupt:A(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:m,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function f(w){return i=Yn(i,w),T(),i[i.length-1]!==null?[]:(P(t,0),u.events=Oc(s,u.events,u),u.events)}function p(w,D){return FD(h(w),D)}function h(w){return MD(i,w)}function m(){const{_bufferIndex:w,_index:D,line:M,column:U,offset:G}=r;return{_bufferIndex:w,_index:D,line:M,column:U,offset:G}}function v(w){a[w.line]=w.column,k()}function T(){let w;for(;r._index<i.length;){const D=i[r._index];if(typeof D=="string")for(w=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===w&&r._bufferIndex<D.length;)E(D.charCodeAt(r._bufferIndex));else E(D)}}function E(w){d=d(w)}function C(w){Me(w)?(r.line++,r.column=1,r.offset+=w===-3?2:1,k()):w!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=w}function _(w,D){const M=D||{};return M.type=w,M.start=m(),u.events.push(["enter",M,u]),o.push(M),M}function N(w){const D=o.pop();return D.end=m(),u.events.push(["exit",D,u]),D}function x(w,D){P(w,D.from)}function S(w,D){D.restore()}function A(w,D){return M;function M(U,G,F){let I,H,q,L;return Array.isArray(U)?_e(U):"tokenize"in U?_e([U]):te(U);function te(Ce){return We;function We(Fe){const Xe=Fe!==null&&Ce[Fe],le=Fe!==null&&Ce.null,Le=[...Array.isArray(Xe)?Xe:Xe?[Xe]:[],...Array.isArray(le)?le:le?[le]:[]];return _e(Le)(Fe)}}function _e(Ce){return I=Ce,H=0,Ce.length===0?F:$(Ce[H])}function $(Ce){return We;function We(Fe){return L=O(),q=Ce,Ce.partial||(u.currentConstruct=Ce),Ce.name&&u.parser.constructs.disable.null.includes(Ce.name)?Pe():Ce.tokenize.call(D?Object.assign(Object.create(u),D):u,l,xe,Pe)(Fe)}}function xe(Ce){return w(q,L),G}function Pe(Ce){return L.restore(),++H<I.length?$(I[H]):F}}}function P(w,D){w.resolveAll&&!s.includes(w)&&s.push(w),w.resolve&&Pn(u.events,D,u.events.length-D,w.resolve(u.events.slice(D),u)),w.resolveTo&&(u.events=w.resolveTo(u.events,u))}function O(){const w=m(),D=u.previous,M=u.currentConstruct,U=u.events.length,G=Array.from(o);return{from:U,restore:F};function F(){r=w,u.previous=D,u.currentConstruct=M,u.events.length=U,o=G,k()}}function k(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function MD(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let i;if(n===a)i=[e[n].slice(r,s)];else{if(i=e.slice(n,a),r>-1){const o=i[0];typeof o=="string"?i[0]=o.slice(r):i.shift()}s>0&&i.push(e[a].slice(0,s))}return i}function FD(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const s=e[n];let i;if(typeof s=="string")i=s;else switch(s){case-5:{i="\r";break}case-4:{i="\n";break}case-3:{i="\r\n";break}case-2:{i=t?" ":"	";break}case-1:{if(!t&&a)continue;i=" ";break}default:i=String.fromCharCode(s)}a=s===-2,r.push(i)}return r.join("")}function BD(e){const r={constructs:Nv([LD,...(e||{}).extensions||[]]),content:a(Zk),defined:[],document:a(tA),flow:a(yD),lazy:{},string:a(TD),text:a(SD)};return r;function a(s){return i;function i(o){return RD(r,s,o)}}}function UD(e){for(;!Iv(e););return e}const um=/[\0\t\n\r]/g;function HD(){let e=1,t="",n=!0,r;return a;function a(s,i,o){const l=[];let u,d,f,p,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(i||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(um.lastIndex=f,u=um.exec(s),p=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(p),!u){t=s.slice(f);break}if(h===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),e+=p-f),h){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const GD=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $D(e){return e.replace(GD,WD)}function WD(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),s=a===120||a===88;return xv(n.slice(s?2:1),s?16:10)}return Qf(n)||e}const Fv={}.hasOwnProperty;function YD(e,t,n){return typeof t!="string"&&(n=t,t=void 0),zD(n)(UD(BD(n).document().write(HD()(e,t,!0))))}function zD(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s($e),autolinkProtocol:O,autolinkEmail:O,atxHeading:s(Re),blockQuote:s(le),characterEscape:O,characterReference:O,codeFenced:s(Le),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:s(Le,i),codeText:s(ae,i),codeTextData:O,data:O,codeFlowValue:O,definition:s(K),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:s(he),hardBreakEscape:s(Z),hardBreakTrailing:s(Z),htmlFlow:s(ue,i),htmlFlowData:O,htmlText:s(ue,i),htmlTextData:O,image:s(Te),label:i,link:s($e),listItem:s(ge),listItemValue:p,listOrdered:s(at,f),listUnordered:s(at),paragraph:s(it),reference:$,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:s(Re),strong:s(ee),thematicBreak:s(qe)},exit:{atxHeading:l(),atxHeadingSequence:x,autolink:l(),autolinkEmail:Xe,autolinkProtocol:Fe,blockQuote:l(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:Pe,characterReferenceMarkerNumeric:Pe,characterReferenceValue:Ce,characterReference:We,codeFenced:l(T),codeFencedFence:v,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:k,codeIndented:l(E),codeText:l(G),codeTextData:k,data:k,definition:l(),definitionDestinationString:N,definitionLabelString:C,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(M),htmlFlowData:k,htmlText:l(U),htmlTextData:k,image:l(I),label:q,labelText:H,lineEnding:w,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:xe,resourceDestinationString:L,resourceTitleString:te,resource:_e,setextHeading:l(P),setextHeadingLineSequence:A,setextHeadingText:S,strong:l(),thematicBreak:l()}};Bv(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Q){let se={type:"root",children:[]};const Ae={stack:[se],tokenStack:[],config:t,enter:o,exit:u,buffer:i,resume:d,data:n},Ye=[];let Se=-1;for(;++Se<Q.length;)if(Q[Se][1].type==="listOrdered"||Q[Se][1].type==="listUnordered")if(Q[Se][0]==="enter")Ye.push(Se);else{const Lt=Ye.pop();Se=a(Q,Lt,Se)}for(Se=-1;++Se<Q.length;){const Lt=t[Q[Se][0]];Fv.call(Lt,Q[Se][1].type)&&Lt[Q[Se][1].type].call(Object.assign({sliceSerialize:Q[Se][2].sliceSerialize},Ae),Q[Se][1])}if(Ae.tokenStack.length>0){const Lt=Ae.tokenStack[Ae.tokenStack.length-1];(Lt[1]||dm).call(Ae,void 0,Lt[0])}for(se.position={start:na(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:na(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},Se=-1;++Se<t.transforms.length;)se=t.transforms[Se](se)||se;return se}function a(Q,se,Ae){let Ye=se-1,Se=-1,Lt=!1,Qt,Xt,Et,rn;for(;++Ye<=Ae;){const kt=Q[Ye];switch(kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{kt[0]==="enter"?Se++:Se--,rn=void 0;break}case"lineEndingBlank":{kt[0]==="enter"&&(Qt&&!rn&&!Se&&!Et&&(Et=Ye),rn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rn=void 0}if(!Se&&kt[0]==="enter"&&kt[1].type==="listItemPrefix"||Se===-1&&kt[0]==="exit"&&(kt[1].type==="listUnordered"||kt[1].type==="listOrdered")){if(Qt){let Fn=Ye;for(Xt=void 0;Fn--;){const fn=Q[Fn];if(fn[1].type==="lineEnding"||fn[1].type==="lineEndingBlank"){if(fn[0]==="exit")continue;Xt&&(Q[Xt][1].type="lineEndingBlank",Lt=!0),fn[1].type="lineEnding",Xt=Fn}else if(!(fn[1].type==="linePrefix"||fn[1].type==="blockQuotePrefix"||fn[1].type==="blockQuotePrefixWhitespace"||fn[1].type==="blockQuoteMarker"||fn[1].type==="listItemIndent"))break}Et&&(!Xt||Et<Xt)&&(Qt._spread=!0),Qt.end=Object.assign({},Xt?Q[Xt][1].start:kt[1].end),Q.splice(Xt||Ye,0,["exit",Qt,kt[2]]),Ye++,Ae++}if(kt[1].type==="listItemPrefix"){const Fn={type:"listItem",_spread:!1,start:Object.assign({},kt[1].start),end:void 0};Qt=Fn,Q.splice(Ye,0,["enter",Fn,kt[2]]),Ye++,Ae++,Et=void 0,rn=!0}}}return Q[se][1]._spread=Lt,Ae}function s(Q,se){return Ae;function Ae(Ye){o.call(this,Q(Ye),Ye),se&&se.call(this,Ye)}}function i(){this.stack.push({type:"fragment",children:[]})}function o(Q,se,Ae){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([se,Ae||void 0]),Q.position={start:na(se.start),end:void 0}}function l(Q){return se;function se(Ae){Q&&Q.call(this,Ae),u.call(this,Ae)}}function u(Q,se){const Ae=this.stack.pop(),Ye=this.tokenStack.pop();if(Ye)Ye[0].type!==Q.type&&(se?se.call(this,Q,Ye[0]):(Ye[1]||dm).call(this,Q,Ye[0]));else throw new Error("Cannot close `"+Q.type+"` ("+wi({start:Q.start,end:Q.end})+"): it’s not open");Ae.position.end=na(Q.end)}function d(){return Kf(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(Q){if(this.data.expectingFirstListItemValue){const se=this.stack[this.stack.length-2];se.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function h(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.lang=Q}function m(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.meta=Q}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.value=Q.replace(/(\r?\n|\r)$/g,"")}function C(Q){const se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=se,Ae.identifier=ir(this.sliceSerialize(Q)).toLowerCase()}function _(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.title=Q}function N(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.url=Q}function x(Q){const se=this.stack[this.stack.length-1];if(!se.depth){const Ae=this.sliceSerialize(Q).length;se.depth=Ae}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function A(Q){const se=this.stack[this.stack.length-1];se.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function O(Q){const Ae=this.stack[this.stack.length-1].children;let Ye=Ae[Ae.length-1];(!Ye||Ye.type!=="text")&&(Ye=Ue(),Ye.position={start:na(Q.start),end:void 0},Ae.push(Ye)),this.stack.push(Ye)}function k(Q){const se=this.stack.pop();se.value+=this.sliceSerialize(Q),se.position.end=na(Q.end)}function w(Q){const se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ae=se.children[se.children.length-1];Ae.position.end=na(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(se.type)&&(O.call(this,Q),k.call(this,Q))}function D(){this.data.atHardBreak=!0}function M(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.value=Q}function U(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.value=Q}function G(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.value=Q}function F(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=se,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function I(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=se,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function H(Q){const se=this.sliceSerialize(Q),Ae=this.stack[this.stack.length-2];Ae.label=$D(se),Ae.identifier=ir(se).toLowerCase()}function q(){const Q=this.stack[this.stack.length-1],se=this.resume(),Ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ae.type==="link"){const Ye=Q.children;Ae.children=Ye}else Ae.alt=se}function L(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.url=Q}function te(){const Q=this.resume(),se=this.stack[this.stack.length-1];se.title=Q}function _e(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function xe(Q){const se=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=se,Ae.identifier=ir(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function Pe(Q){this.data.characterReferenceType=Q.type}function Ce(Q){const se=this.sliceSerialize(Q),Ae=this.data.characterReferenceType;let Ye;Ae?(Ye=xv(se,Ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ye=Qf(se);const Se=this.stack[this.stack.length-1];Se.value+=Ye}function We(Q){const se=this.stack.pop();se.position.end=na(Q.end)}function Fe(Q){k.call(this,Q);const se=this.stack[this.stack.length-1];se.url=this.sliceSerialize(Q)}function Xe(Q){k.call(this,Q);const se=this.stack[this.stack.length-1];se.url="mailto:"+this.sliceSerialize(Q)}function le(){return{type:"blockquote",children:[]}}function Le(){return{type:"code",lang:null,meta:null,value:""}}function ae(){return{type:"inlineCode",value:""}}function K(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function he(){return{type:"emphasis",children:[]}}function Re(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function ue(){return{type:"html",value:""}}function Te(){return{type:"image",title:null,url:"",alt:null}}function $e(){return{type:"link",title:null,url:"",children:[]}}function at(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function ge(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function it(){return{type:"paragraph",children:[]}}function ee(){return{type:"strong",children:[]}}function Ue(){return{type:"text",value:""}}function qe(){return{type:"thematicBreak"}}}function na(e){return{line:e.line,column:e.column,offset:e.offset}}function Bv(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Bv(e,r):VD(e,r)}}function VD(e,t){let n;for(n in t)if(Fv.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function dm(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+wi({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+wi({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+wi({start:t.start,end:t.end})+") is still open")}function jD(e){const t=this;t.parser=n;function n(r){return YD(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function qD(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function KD(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]}function QD(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function XD(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function JD(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ZD(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=ei(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let i,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=s+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function e2(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function t2(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Uv(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),s=a[0];s&&s.type==="text"?s.value="["+s.value:a.unshift({type:"text",value:"["});const i=a[a.length-1];return i&&i.type==="text"?i.value+=r:a.push({type:"text",value:r}),a}function n2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Uv(e,t);const a={src:ei(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)}function r2(e,t){const n={src:ei(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function a2(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function s2(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Uv(e,t);const a={href:ei(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function i2(e,t){const n={href:ei(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function o2(e,t,n){const r=e.all(t),a=n?l2(n):Hv(t),s={},i=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(a||o!==0||d.type!=="element"||d.tagName!=="p")&&i.push({type:"text",value:"\n"}),d.type==="element"&&d.tagName==="p"&&!a?i.push(...d.children):i.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&i.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:s,children:i};return e.patch(t,u),e.applyData(t,u)}function l2(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Hv(n[r])}return t}function Hv(e){const t=e.spread;return t==null?e.children.length>1:t}function c2(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const i=r[a];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function u2(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function d2(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function f2(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function h2(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],i),a.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Pr(t.children[1]),l=Dc(t.children[t.children.length-1]);o&&l&&(i.position={start:o,end:l}),a.push(i)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)}function p2(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const f=t.children[l],p={},h=i?i[l]:void 0;h&&(p.align=h);let m={type:"element",tagName:s,properties:p,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),u.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function m2(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const fm=9,hm=32;function g2(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const s=[];for(;r;)s.push(pm(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return s.push(pm(t.slice(a),a>0,!1)),s.join("")}function pm(e,t,n){let r=0,a=e.length;if(t){let s=e.codePointAt(r);for(;s===fm||s===hm;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(a-1);for(;s===fm||s===hm;)a--,s=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function b2(e,t){const n={type:"text",value:g2(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function v2(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const y2={blockquote:qD,break:KD,code:QD,delete:XD,emphasis:JD,footnoteReference:ZD,heading:e2,html:t2,imageReference:n2,image:r2,inlineCode:a2,linkReference:s2,link:i2,listItem:o2,list:c2,paragraph:u2,root:d2,strong:f2,table:h2,tableCell:m2,tableRow:p2,text:b2,thematicBreak:v2,toml:Yo,yaml:Yo,definition:Yo,footnoteDefinition:Yo};function Yo(){}const Gv=-1,Pc=0,Ul=1,Hl=2,Jf=3,Zf=4,eh=5,th=6,$v=7,Wv=8,mm=typeof self=="object"?self:globalThis,E2=(e,t)=>{const n=(a,s)=>(e.set(s,a),a),r=a=>{if(e.has(a))return e.get(a);const[s,i]=t[a];switch(s){case Pc:case Gv:return n(i,a);case Ul:{const o=n([],a);for(const l of i)o.push(r(l));return o}case Hl:{const o=n({},a);for(const[l,u]of i)o[r(l)]=r(u);return o}case Jf:return n(new Date(i),a);case Zf:{const{source:o,flags:l}=i;return n(new RegExp(o,l),a)}case eh:{const o=n(new Map,a);for(const[l,u]of i)o.set(r(l),r(u));return o}case th:{const o=n(new Set,a);for(const l of i)o.add(r(l));return o}case $v:{const{name:o,message:l}=i;return n(new mm[o](l),a)}case Wv:return n(BigInt(i),a);case"BigInt":return n(Object(BigInt(i)),a)}return n(new mm[s](i),a)};return r},gm=e=>E2(new Map,e)(0),ls="",{toString:_2}={},{keys:T2}=Object,ui=e=>{const t=typeof e;if(t!=="object"||!e)return[Pc,t];const n=_2.call(e).slice(8,-1);switch(n){case"Array":return[Ul,ls];case"Object":return[Hl,ls];case"Date":return[Jf,ls];case"RegExp":return[Zf,ls];case"Map":return[eh,ls];case"Set":return[th,ls]}return n.includes("Array")?[Ul,n]:n.includes("Error")?[$v,n]:[Hl,n]},zo=([e,t])=>e===Pc&&(t==="function"||t==="symbol"),S2=(e,t,n,r)=>{const a=(i,o)=>{const l=r.push(i)-1;return n.set(o,l),l},s=i=>{if(n.has(i))return n.get(i);let[o,l]=ui(i);switch(o){case Pc:{let d=i;switch(l){case"bigint":o=Wv,d=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([Gv],i)}return a([o,d],i)}case Ul:{if(l)return a([l,[...i]],i);const d=[],f=a([o,d],i);for(const p of i)d.push(s(p));return f}case Hl:{if(l)switch(l){case"BigInt":return a([l,i.toString()],i);case"Boolean":case"Number":case"String":return a([l,i.valueOf()],i)}if(t&&"toJSON"in i)return s(i.toJSON());const d=[],f=a([o,d],i);for(const p of T2(i))(e||!zo(ui(i[p])))&&d.push([s(p),s(i[p])]);return f}case Jf:return a([o,i.toISOString()],i);case Zf:{const{source:d,flags:f}=i;return a([o,{source:d,flags:f}],i)}case eh:{const d=[],f=a([o,d],i);for(const[p,h]of i)(e||!(zo(ui(p))||zo(ui(h))))&&d.push([s(p),s(h)]);return f}case th:{const d=[],f=a([o,d],i);for(const p of i)(e||!zo(ui(p)))&&d.push(s(p));return f}}const{message:u}=i;return a([o,{name:l,message:u}],i)};return s},bm=(e,{json:t,lossy:n}={})=>{const r=[];return S2(!(t||n),!!t,new Map,r)(e),r},$a=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?gm(bm(e,t)):structuredClone(e):(e,t)=>gm(bm(e,t));function w2(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function C2(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function N2(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||w2,r=e.options.footnoteBackLabel||C2,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),p=ei(f.toLowerCase());let h=0;const m=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++h<=v;){m.length>0&&m.push({type:"text",value:" "});let C=typeof n=="string"?n:n(l,h);typeof C=="string"&&(C={type:"text",value:C}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const T=d[d.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const C=T.children[T.children.length-1];C&&C.type==="text"?C.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...m)}else d.push(...m);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,E),o.push(E)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...$a(i),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}const Lc=function(e){if(e==null)return D2;if(typeof e=="function")return Rc(e);if(typeof e=="object")return Array.isArray(e)?x2(e):k2(e);if(typeof e=="string")return A2(e);throw new Error("Expected function, string, or object as test")};function x2(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Lc(e[n]);return Rc(r);function r(...a){let s=-1;for(;++s<t.length;)if(t[s].apply(this,a))return!0;return!1}}function k2(e){const t=e;return Rc(n);function n(r){const a=r;let s;for(s in e)if(a[s]!==t[s])return!1;return!0}}function A2(e){return Rc(t);function t(n){return n&&n.type===e}}function Rc(e){return t;function t(n,r,a){return!!(I2(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function D2(){return!0}function I2(e){return e!==null&&typeof e=="object"&&"type"in e}const Yv=[],O2=!0,Wd=!1,P2="skip";function zv(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const s=Lc(a),i=r?-1:1;o(e,void 0,[])();function o(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=Yv,m,v,T;if((!t||s(l,u,d[d.length-1]||void 0))&&(h=L2(n(l,d)),h[0]===Wd))return h;if("children"in l&&l.children){const E=l;if(E.children&&h[0]!==P2)for(v=(r?E.children.length:-1)+i,T=d.concat(E);v>-1&&v<E.children.length;){const C=E.children[v];if(m=o(C,v,T)(),m[0]===Wd)return m;v=typeof m[1]=="number"?m[1]:v+i}}return h}}}function L2(e){return Array.isArray(e)?e:typeof e=="number"?[O2,e]:e==null?Yv:[e]}function Mc(e,t,n,r){let a,s,i;typeof t=="function"&&typeof n!="function"?(s=void 0,i=t,a=n):(s=t,i=n,a=r),zv(e,s,o,a);function o(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return i(l,f,d)}}const Yd={}.hasOwnProperty,R2={};function M2(e,t){const n=t||R2,r=new Map,a=new Map,s=new Map,i={...y2,...n.handlers},o={all:u,applyData:B2,definitionById:r,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:i,one:l,options:n,patch:F2,wrap:H2};return Mc(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),o;function l(d,f){const p=d.type,h=o.handlers[p];if(Yd.call(o.handlers,p)&&h)return h(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in d){const{children:v,...T}=d,E=$a(T);return E.children=o.all(d),E}return $a(d)}return(o.options.unknownHandler||U2)(o,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let h=-1;for(;++h<p.length;){const m=o.one(p[h],d);if(m){if(h&&p[h-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=vm(m.value)),!Array.isArray(m)&&m.type==="element")){const v=m.children[0];v&&v.type==="text"&&(v.value=vm(v.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function F2(e,t){e.position&&(t.position=Ev(e))}function B2(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&s&&Object.assign(n.properties,$a(s)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function U2(e,t){const n=t.data||{},r="value"in t&&!(Yd.call(n,"hProperties")||Yd.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function H2(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function vm(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ym(e,t){const n=M2(e,t),r=n.one(e,void 0),a=N2(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&s.children.push({type:"text",value:"\n"},a),s}function G2(e,t){return e&&"run"in e?async function(n,r){const a=ym(n,{file:r,...t});await e.run(a,r)}:function(n,r){return ym(n,{file:r,...e||t})}}function Em(e){if(e)throw e}var ml=Object.prototype.hasOwnProperty,Vv=Object.prototype.toString,_m=Object.defineProperty,Tm=Object.getOwnPropertyDescriptor,Sm=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Vv.call(t)==="[object Array]"},wm=function(t){if(!t||Vv.call(t)!=="[object Object]")return!1;var n=ml.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ml.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||ml.call(t,a)},Cm=function(t,n){_m&&n.name==="__proto__"?_m(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Nm=function(t,n){if(n==="__proto__")if(ml.call(t,n)){if(Tm)return Tm(t,n).value}else return;return t[n]},$2=function e(){var t,n,r,a,s,i,o=arguments[0],l=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=Nm(o,n),a=Nm(t,n),o!==a&&(d&&a&&(wm(a)||(s=Sm(a)))?(s?(s=!1,i=r&&Sm(r)?r:[]):i=r&&wm(r)?r:{},Cm(o,{name:n,newValue:e(d,i,a)})):typeof a<"u"&&Cm(o,{name:n,newValue:a}));return o};const Ou=zi($2);function zd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function W2(){const e=[],t={run:n,use:r};return t;function n(...a){let s=-1;const i=a.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);o(null,...a);function o(l,...u){const d=e[++s];let f=-1;if(l){i(l);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,d?Y2(d,o)(...u):i(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function Y2(e,t){let n;return r;function r(...i){const o=e.length>i.length;let l;o&&i.push(a);try{l=e.apply(this,i)}catch(u){const d=u;if(o&&n)throw d;return a(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,a):l instanceof Error?a(l):s(l))}function a(i,...o){n||(n=!0,t(i,...o))}function s(i){a(null,i)}}const pr={basename:z2,dirname:V2,extname:j2,join:q2,sep:"/"};function z2(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');uo(e);let n=0,r=-1,a=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else r<0&&(s=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let i=-1,o=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else i<0&&(s=!0,i=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(r=a):(o=-1,r=i));return n===r?r=i:r<0&&(r=e.length),e.slice(n,r)}function V2(e){if(uo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function j2(e){uo(e);let t=e.length,n=-1,r=0,a=-1,s=0,i;for(;t--;){const o=e.codePointAt(t);if(o===47){if(i){r=t+1;break}continue}n<0&&(i=!0,n=t+1),o===46?a<0?a=t:s!==1&&(s=1):a>-1&&(s=-1)}return a<0||n<0||s===0||s===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function q2(...e){let t=-1,n;for(;++t<e.length;)uo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":K2(n)}function K2(e){uo(e);const t=e.codePointAt(0)===47;let n=Q2(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Q2(e,t){let n="",r=0,a=-1,s=0,i=-1,o,l;for(;++i<=e.length;){if(i<e.length)o=e.codePointAt(i);else{if(o===47)break;o=47}if(o===47){if(!(a===i-1||s===1))if(a!==i-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=i,s=0;continue}}else if(n.length>0){n="",r=0,a=i,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,i):n=e.slice(a+1,i),r=i-a-1;a=i,s=0}else o===46&&s>-1?s++:s=-1}return n}function uo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const X2={cwd:J2};function J2(){return"/"}function Vd(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Z2(e){if(typeof e=="string")e=new URL(e);else if(!Vd(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return eI(e)}function eI(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Pu=["history","path","basename","stem","extname","dirname"];class jv{constructor(t){let n;t?Vd(t)?n={path:t}:typeof t=="string"||tI(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":X2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Pu.length;){const s=Pu[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let a;for(a in n)Pu.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?pr.basename(this.path):void 0}set basename(t){Ru(t,"basename"),Lu(t,"basename"),this.path=pr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?pr.dirname(this.path):void 0}set dirname(t){xm(this.basename,"dirname"),this.path=pr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?pr.extname(this.path):void 0}set extname(t){if(Lu(t,"extname"),xm(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Vd(t)&&(t=Z2(t)),Ru(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?pr.basename(this.path,this.extname):void 0}set stem(t){Ru(t,"stem"),Lu(t,"stem"),this.path=pr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new un(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Lu(e,t){if(e&&e.includes(pr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+pr.sep+"`")}function Ru(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function xm(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function tI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const nI=function(e){const r=this.constructor.prototype,a=r[e],s=function(){return a.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},rI={}.hasOwnProperty;class nh extends nI{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=W2()}copy(){const t=new nh;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ou(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Bu("data",this.frozen),this.namespace[t]=n,this):rI.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Bu("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Vo(t),r=this.parser||this.Parser;return Mu("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Mu("process",this.parser||this.Parser),Fu("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(s,i){const o=Vo(t),l=r.parse(o);r.run(l,o,function(d,f,p){if(d||!f||!p)return u(d);const h=f,m=r.stringify(h,p);iI(m)?p.value=m:p.result=m,u(d,p)});function u(d,f){d||!f?i(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Mu("processSync",this.parser||this.Parser),Fu("processSync",this.compiler||this.Compiler),this.process(t,a),Am("processSync","process",n),r;function a(s,i){n=!0,Em(s),r=i}}run(t,n,r){km(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(i,o){const l=Vo(n);a.run(t,l,u);function u(d,f,p){const h=f||t;d?o(d):i?i(h):r(void 0,h,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,s),Am("runSync","run",r),a;function s(i,o){Em(i),a=o,r=!0}}stringify(t,n){this.freeze();const r=Vo(n),a=this.compiler||this.Compiler;return Fu("stringify",a),km(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Bu("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):i(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(a.settings=Ou(!0,a.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[h,...m]=d;const v=r[p][1];zd(v)&&zd(h)&&(h=Ou(!0,v,h)),r[p]=[u,h,...m]}}}}const aI=new nh().freeze();function Mu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Fu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Bu(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function km(e){if(!zd(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Am(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Vo(e){return sI(e)?e:new jv(e)}function sI(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function iI(e){return typeof e=="string"||oI(e)}function oI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lI="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Dm=[],Im={allowDangerousHtml:!0},cI=/^(https?|ircs?|mailto|xmpp)$/i,uI=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function dI(e){const t=fI(e),n=hI(e);return pI(t.runSync(t.parse(n),n),e)}function fI(e){const t=e.rehypePlugins||Dm,n=e.remarkPlugins||Dm,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Im}:Im;return aI().use(jD).use(n).use(G2,r).use(t)}function hI(e){const t=e.children||"",n=new jv;return typeof t=="string"&&(n.value=t),n}function pI(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,s=t.disallowedElements,i=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||mI;for(const d of uI)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+lI+d.id,void 0);return Mc(e,u),Dk(e,{Fragment:ft,components:a,ignoreInvalidStyle:!0,jsx:c,jsxs:y,passKeys:!0,passNode:!0});function u(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return i?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let h;for(h in Au)if(Object.hasOwn(Au,h)&&Object.hasOwn(d.properties,h)){const m=d.properties[h],v=Au[h];(v===null||v.includes(d.tagName))&&(d.properties[h]=l(String(m||""),h,d))}}if(d.type==="element"){let h=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(d,f,p)),h&&p&&typeof f=="number")return o&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function mI(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||cI.test(e.slice(0,t))?e:""}const Om=/[#.]/g;function gI(e,t){const n=e||"",r={};let a=0,s,i;for(;a<n.length;){Om.lastIndex=a;const o=Om.exec(n),l=n.slice(a,o?o.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:i=l,a+=l.length),o&&(s=o[0],a++)}return{type:"element",tagName:i||t||"div",properties:r,children:[]}}function qv(e,t,n){const r=n?EI(n):void 0;function a(s,i,...o){let l;if(s==null){l={type:"root",children:[]};const u=i;o.unshift(u)}else{l=gI(s,t);const u=l.tagName.toLowerCase(),d=r?r.get(u):void 0;if(l.tagName=d||u,bI(i))o.unshift(i);else for(const[f,p]of Object.entries(i))vI(e,l.properties,f,p)}for(const u of o)jd(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return a}function bI(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const a=t[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const s=a;for(const i of s)if(typeof i!="number"&&typeof i!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function vI(e,t,n,r){const a=Yf(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?a.spaceSeparated?s=jp(r):a.commaSeparated?s=$p(r):a.commaOrSpaceSeparated?s=jp($p(r).join(" ")):s=Pm(a,a.property,r):Array.isArray(r)?s=[...r]:s=a.property==="style"?yI(r):String(r);if(Array.isArray(s)){const i=[];for(const o of s)i.push(Pm(a,a.property,o));s=i}a.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[a.property]=s}}function jd(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)jd(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?jd(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Pm(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Mi(n)===Mi(t)))return!0}return n}function yI(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function EI(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const _I=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],TI=qv(kc,"div"),SI=qv(Zs,"g",_I);function wI(e){const t=String(e),n=[];return{toOffset:a,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let i=0;for(;;){let o=n[i];if(o===void 0){const l=Lm(t,n[i-1]);o=l===-1?t.length+1:l+1,n[i]=o}if(o>s)return{line:i+1,column:s-(i>0?n[i-1]:0)+1,offset:s};i++}}}function a(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],l=Lm(t,o),u=l===-1?t.length+1:l+1;if(o===u)break;n.push(u)}const i=(s.line>1?n[s.line-2]:0)+s.column-1;if(i<n[s.line-1])return i}}}function Lm(e,t){const n=e.indexOf("\r",t),r=e.indexOf("\n",t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Da={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Kv={}.hasOwnProperty,CI=Object.prototype;function NI(e,t){const n=t||{};return rh({file:n.file||void 0,location:!1,schema:n.space==="svg"?Zs:kc,verbose:n.verbose||!1},e)}function rh(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},gl(e,r,n),n}case"#document":case"#document-fragment":{const r=t,a="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Qv(e,t.childNodes),data:{quirksMode:a}},e.file&&e.location){const s=String(e.file),i=wI(s),o=i.toPoint(0),l=i.toPoint(s.length);n.position={start:o,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},gl(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},gl(e,r,n),n}default:return n=xI(e,t),n}}function Qv(e,t){let n=-1;const r=[];for(;++n<t.length;){const a=rh(e,t[n]);r.push(a)}return r}function xI(e,t){const n=e.schema;e.schema=t.namespaceURI===Da.svg?Zs:kc;let r=-1;const a={};for(;++r<t.attrs.length;){const o=t.attrs[r],l=(o.prefix?o.prefix+":":"")+o.name;Kv.call(CI,l)||(a[l]=o.value)}const i=(e.schema.space==="svg"?SI:TI)(t.tagName,a,Qv(e,t.childNodes));if(gl(e,t,i),i.tagName==="template"){const o=t,l=o.sourceCodeLocation,u=l&&l.startTag&&vs(l.startTag),d=l&&l.endTag&&vs(l.endTag),f=rh(e,o.content);u&&d&&e.file&&(f.position={start:u.end,end:d.start}),i.content=f}return e.schema=n,i}function gl(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=kI(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function kI(e,t,n){const r=vs(n);if(t.type==="element"){const a=t.children[t.children.length-1];if(r&&!n.endTag&&a&&a.position&&a.position.end&&(r.end=Object.assign({},a.position.end)),e.verbose){const s={};let i;if(n.attrs)for(i in n.attrs)Kv.call(n.attrs,i)&&(s[Yf(e.schema,i).property]=vs(n.attrs[i]));n.startTag;const o=vs(n.startTag),l=n.endTag?vs(n.endTag):void 0,u={opening:o};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return r}function vs(e){const t=Rm({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Rm({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Rm(e){return e.line&&e.column?e:void 0}class fo{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}fo.prototype.property={};fo.prototype.normal={};fo.prototype.space=null;function Xv(e,t){const n={},r={};let a=-1;for(;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new fo(n,r,t)}function qd(e){return e.toLowerCase()}class er{constructor(t,n){this.property=t,this.attribute=n}}er.prototype.space=null;er.prototype.boolean=!1;er.prototype.booleanish=!1;er.prototype.overloadedBoolean=!1;er.prototype.number=!1;er.prototype.commaSeparated=!1;er.prototype.spaceSeparated=!1;er.prototype.commaOrSpaceSeparated=!1;er.prototype.mustUseProperty=!1;er.prototype.defined=!1;let AI=0;const Ke=Za(),qt=Za(),Jv=Za(),fe=Za(),Nt=Za(),Ts=Za(),In=Za();function Za(){return 2**++AI}const Kd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ke,booleanish:qt,commaOrSpaceSeparated:In,commaSeparated:Ts,number:fe,overloadedBoolean:Jv,spaceSeparated:Nt},Symbol.toStringTag,{value:"Module"})),Uu=Object.keys(Kd);class ah extends er{constructor(t,n,r,a){let s=-1;if(super(t,n),Mm(this,"space",a),typeof r=="number")for(;++s<Uu.length;){const i=Uu[s];Mm(this,Uu[s],(r&Kd[i])===Kd[i])}}}ah.prototype.defined=!0;function Mm(e,t,n){n&&(e[t]=n)}const DI={}.hasOwnProperty;function ti(e){const t={},n={};let r;for(r in e.properties)if(DI.call(e.properties,r)){const a=e.properties[r],s=new ah(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[qd(r)]=r,n[qd(s.attribute)]=r}return new fo(t,n,e.space)}const Zv=ti({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),ey=ti({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function ty(e,t){return t in e?e[t]:t}function ny(e,t){return ty(e,t.toLowerCase())}const ry=ti({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ny,properties:{xmlns:null,xmlnsXLink:null}}),ay=ti({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:qt,ariaAutoComplete:null,ariaBusy:qt,ariaChecked:qt,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:Nt,ariaCurrent:null,ariaDescribedBy:Nt,ariaDetails:null,ariaDisabled:qt,ariaDropEffect:Nt,ariaErrorMessage:null,ariaExpanded:qt,ariaFlowTo:Nt,ariaGrabbed:qt,ariaHasPopup:null,ariaHidden:qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Nt,ariaLevel:fe,ariaLive:null,ariaModal:qt,ariaMultiLine:qt,ariaMultiSelectable:qt,ariaOrientation:null,ariaOwns:Nt,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:qt,ariaReadOnly:qt,ariaRelevant:null,ariaRequired:qt,ariaRoleDescription:Nt,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:qt,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null}}),II=ti({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ny,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ts,acceptCharset:Nt,accessKey:Nt,action:null,allow:null,allowFullScreen:Ke,allowPaymentRequest:Ke,allowUserMedia:Ke,alt:null,as:null,async:Ke,autoCapitalize:null,autoComplete:Nt,autoFocus:Ke,autoPlay:Ke,blocking:Nt,capture:null,charSet:null,checked:Ke,cite:null,className:Nt,cols:fe,colSpan:null,content:null,contentEditable:qt,controls:Ke,controlsList:Nt,coords:fe|Ts,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ke,defer:Ke,dir:null,dirName:null,disabled:Ke,download:Jv,draggable:qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ke,formTarget:null,headers:Nt,height:fe,hidden:Ke,high:fe,href:null,hrefLang:null,htmlFor:Nt,httpEquiv:Nt,id:null,imageSizes:null,imageSrcSet:null,inert:Ke,inputMode:null,integrity:null,is:null,isMap:Ke,itemId:null,itemProp:Nt,itemRef:Nt,itemScope:Ke,itemType:Nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ke,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Ke,muted:Ke,name:null,nonce:null,noModule:Ke,noValidate:Ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ke,optimum:fe,pattern:null,ping:Nt,placeholder:null,playsInline:Ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ke,referrerPolicy:null,rel:Nt,required:Ke,reversed:Ke,rows:fe,rowSpan:fe,sandbox:Nt,scope:null,scoped:Ke,seamless:Ke,selected:Ke,shadowRootClonable:Ke,shadowRootDelegatesFocus:Ke,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Ke,useMap:null,value:qt,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Nt,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ke,declare:Ke,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Ke,noHref:Ke,noShade:Ke,noWrap:Ke,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:qt,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ke,disableRemotePlayback:Ke,prefix:null,property:null,results:fe,security:null,unselectable:null}}),OI=ti({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:ty,properties:{about:In,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:Nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ts,g2:Ts,glyphName:Ts,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:In,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:In,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:In,rev:In,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:In,requiredFeatures:In,requiredFonts:In,requiredFormats:In,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:In,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:In,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:In,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),PI=/^data[-\w.:]+$/i,Fm=/-[a-z]/g,LI=/[A-Z]/g;function RI(e,t){const n=qd(t);let r=t,a=er;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&PI.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Fm,FI);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Fm.test(s)){let i=s.replace(LI,MI);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}a=ah}return new a(r,t)}function MI(e){return"-"+e.toLowerCase()}function FI(e){return e.charAt(1).toUpperCase()}const BI=Xv([ey,Zv,ry,ay,II],"html"),sy=Xv([ey,Zv,ry,ay,OI],"svg"),Bm={}.hasOwnProperty;function iy(e,t){const n=t||{};function r(a,...s){let i=r.invalid;const o=r.handlers;if(a&&Bm.call(a,e)){const l=String(a[e]);i=Bm.call(o,l)?o[l]:r.unknown}if(i)return i.call(this,a,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const UI={},HI={}.hasOwnProperty,oy=iy("type",{handlers:{root:$I,element:jI,text:zI,comment:VI,doctype:YI}});function GI(e,t){const r=(t||UI).space;return oy(e,r==="svg"?sy:BI)}function $I(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=sh(e.children,n,t),ni(e,n),n}function WI(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=sh(e.children,n,t),ni(e,n),n}function YI(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return ni(e,t),t}function zI(e){const t={nodeName:"#text",value:e.value,parentNode:null};return ni(e,t),t}function VI(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return ni(e,t),t}function jI(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=sy);const a=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&HI.call(e.properties,s)){const l=qI(r,s,e.properties[s]);l&&a.push(l)}}const i=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:a,namespaceURI:Da[i],childNodes:[],parentNode:null};return o.childNodes=sh(e.children,o,r),ni(e,o),e.tagName==="template"&&e.content&&(o.content=WI(e.content,r)),o}function qI(e,t,n){const r=RI(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?uv(n):vv(n));const a={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=a.name.indexOf(":");s<0?a.prefix="":(a.name=a.name.slice(s+1),a.prefix=r.attribute.slice(0,s)),a.namespace=Da[r.space]}return a}function sh(e,t,n){let r=-1;const a=[];if(e)for(;++r<e.length;){const s=oy(e[r],n);s.parentNode=t,a.push(s)}return a}function ni(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const KI=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],QI=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),It="�";var R;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(R||(R={}));const Tn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function ly(e){return e>=55296&&e<=57343}function XI(e){return e>=56320&&e<=57343}function JI(e,t){return(e-55296)*1024+9216+t}function cy(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function uy(e){return e>=64976&&e<=65007||QI.has(e)}var X;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(X||(X={}));const ZI=65536;class eO{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=ZI,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:a,offset:s}=this,i=a+n,o=s+n;return{code:t,startLine:r,endLine:r,startCol:i,endCol:i,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(XI(n))return this.pos++,this._addGap(),JI(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,R.EOF;return this._err(X.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,R.EOF;const r=this.html.charCodeAt(n);return r===R.CARRIAGE_RETURN?R.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,R.EOF;let t=this.html.charCodeAt(this.pos);return t===R.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,R.LINE_FEED):t===R.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,ly(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===R.LINE_FEED||t===R.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){cy(t)?this._err(X.controlCharacterInInputStream):uy(t)&&this._err(X.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var tt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(tt||(tt={}));function dy(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const tO=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),nO=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function rO(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=nO.get(e))!==null&&t!==void 0?t:e}var en;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(en||(en={}));const aO=32;var ua;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ua||(ua={}));function Qd(e){return e>=en.ZERO&&e<=en.NINE}function sO(e){return e>=en.UPPER_A&&e<=en.UPPER_F||e>=en.LOWER_A&&e<=en.LOWER_F}function iO(e){return e>=en.UPPER_A&&e<=en.UPPER_Z||e>=en.LOWER_A&&e<=en.LOWER_Z||Qd(e)}function oO(e){return e===en.EQUALS||iO(e)}var Jt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Jt||(Jt={}));var Hr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Hr||(Hr={}));class lO{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Jt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Hr.Strict}startEntity(t){this.decodeMode=t,this.state=Jt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Jt.EntityStart:return t.charCodeAt(n)===en.NUM?(this.state=Jt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Jt.NamedEntity,this.stateNamedEntity(t,n));case Jt.NumericStart:return this.stateNumericStart(t,n);case Jt.NumericDecimal:return this.stateNumericDecimal(t,n);case Jt.NumericHex:return this.stateNumericHex(t,n);case Jt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|aO)===en.LOWER_X?(this.state=Jt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Jt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const s=r-n;this.result=this.result*Math.pow(a,s)+Number.parseInt(t.substr(n,s),a),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Qd(a)||sO(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Qd(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===en.SEMI)this.consumed+=1;else if(this.decodeMode===Hr.Strict)return 0;return this.emitCodePoint(rO(this.result),this.consumed),this.errors&&(t!==en.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],s=(a&ua.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const i=t.charCodeAt(n);if(this.treeIndex=cO(r,a,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return this.result===0||this.decodeMode===Hr.Attribute&&(s===0||oO(i))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],s=(a&ua.VALUE_LENGTH)>>14,s!==0){if(i===en.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Hr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&ua.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~ua.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case Jt.NamedEntity:return this.result!==0&&(this.decodeMode!==Hr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Jt.NumericDecimal:return this.emitNumericEntity(0,2);case Jt.NumericHex:return this.emitNumericEntity(0,3);case Jt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Jt.EntityStart:return 0}}}function cO(e,t,n,r){const a=(t&ua.BRANCH_LENGTH)>>7,s=t&ua.JUMP_TABLE;if(a===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=a?-1:e[n+l]-1}let i=n,o=i+a-1;for(;i<=o;){const l=i+o>>>1,u=e[l];if(u<r)i=l+1;else if(u>r)o=l-1;else return e[l+a]}return-1}var re;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(re||(re={}));var Pa;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Pa||(Pa={}));var zn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(zn||(zn={}));var z;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(z||(z={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(b||(b={}));const uO=new Map([[z.A,b.A],[z.ADDRESS,b.ADDRESS],[z.ANNOTATION_XML,b.ANNOTATION_XML],[z.APPLET,b.APPLET],[z.AREA,b.AREA],[z.ARTICLE,b.ARTICLE],[z.ASIDE,b.ASIDE],[z.B,b.B],[z.BASE,b.BASE],[z.BASEFONT,b.BASEFONT],[z.BGSOUND,b.BGSOUND],[z.BIG,b.BIG],[z.BLOCKQUOTE,b.BLOCKQUOTE],[z.BODY,b.BODY],[z.BR,b.BR],[z.BUTTON,b.BUTTON],[z.CAPTION,b.CAPTION],[z.CENTER,b.CENTER],[z.CODE,b.CODE],[z.COL,b.COL],[z.COLGROUP,b.COLGROUP],[z.DD,b.DD],[z.DESC,b.DESC],[z.DETAILS,b.DETAILS],[z.DIALOG,b.DIALOG],[z.DIR,b.DIR],[z.DIV,b.DIV],[z.DL,b.DL],[z.DT,b.DT],[z.EM,b.EM],[z.EMBED,b.EMBED],[z.FIELDSET,b.FIELDSET],[z.FIGCAPTION,b.FIGCAPTION],[z.FIGURE,b.FIGURE],[z.FONT,b.FONT],[z.FOOTER,b.FOOTER],[z.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[z.FORM,b.FORM],[z.FRAME,b.FRAME],[z.FRAMESET,b.FRAMESET],[z.H1,b.H1],[z.H2,b.H2],[z.H3,b.H3],[z.H4,b.H4],[z.H5,b.H5],[z.H6,b.H6],[z.HEAD,b.HEAD],[z.HEADER,b.HEADER],[z.HGROUP,b.HGROUP],[z.HR,b.HR],[z.HTML,b.HTML],[z.I,b.I],[z.IMG,b.IMG],[z.IMAGE,b.IMAGE],[z.INPUT,b.INPUT],[z.IFRAME,b.IFRAME],[z.KEYGEN,b.KEYGEN],[z.LABEL,b.LABEL],[z.LI,b.LI],[z.LINK,b.LINK],[z.LISTING,b.LISTING],[z.MAIN,b.MAIN],[z.MALIGNMARK,b.MALIGNMARK],[z.MARQUEE,b.MARQUEE],[z.MATH,b.MATH],[z.MENU,b.MENU],[z.META,b.META],[z.MGLYPH,b.MGLYPH],[z.MI,b.MI],[z.MO,b.MO],[z.MN,b.MN],[z.MS,b.MS],[z.MTEXT,b.MTEXT],[z.NAV,b.NAV],[z.NOBR,b.NOBR],[z.NOFRAMES,b.NOFRAMES],[z.NOEMBED,b.NOEMBED],[z.NOSCRIPT,b.NOSCRIPT],[z.OBJECT,b.OBJECT],[z.OL,b.OL],[z.OPTGROUP,b.OPTGROUP],[z.OPTION,b.OPTION],[z.P,b.P],[z.PARAM,b.PARAM],[z.PLAINTEXT,b.PLAINTEXT],[z.PRE,b.PRE],[z.RB,b.RB],[z.RP,b.RP],[z.RT,b.RT],[z.RTC,b.RTC],[z.RUBY,b.RUBY],[z.S,b.S],[z.SCRIPT,b.SCRIPT],[z.SEARCH,b.SEARCH],[z.SECTION,b.SECTION],[z.SELECT,b.SELECT],[z.SOURCE,b.SOURCE],[z.SMALL,b.SMALL],[z.SPAN,b.SPAN],[z.STRIKE,b.STRIKE],[z.STRONG,b.STRONG],[z.STYLE,b.STYLE],[z.SUB,b.SUB],[z.SUMMARY,b.SUMMARY],[z.SUP,b.SUP],[z.TABLE,b.TABLE],[z.TBODY,b.TBODY],[z.TEMPLATE,b.TEMPLATE],[z.TEXTAREA,b.TEXTAREA],[z.TFOOT,b.TFOOT],[z.TD,b.TD],[z.TH,b.TH],[z.THEAD,b.THEAD],[z.TITLE,b.TITLE],[z.TR,b.TR],[z.TRACK,b.TRACK],[z.TT,b.TT],[z.U,b.U],[z.UL,b.UL],[z.SVG,b.SVG],[z.VAR,b.VAR],[z.WBR,b.WBR],[z.XMP,b.XMP]]);function ri(e){var t;return(t=uO.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const oe=b,dO={[re.HTML]:new Set([oe.ADDRESS,oe.APPLET,oe.AREA,oe.ARTICLE,oe.ASIDE,oe.BASE,oe.BASEFONT,oe.BGSOUND,oe.BLOCKQUOTE,oe.BODY,oe.BR,oe.BUTTON,oe.CAPTION,oe.CENTER,oe.COL,oe.COLGROUP,oe.DD,oe.DETAILS,oe.DIR,oe.DIV,oe.DL,oe.DT,oe.EMBED,oe.FIELDSET,oe.FIGCAPTION,oe.FIGURE,oe.FOOTER,oe.FORM,oe.FRAME,oe.FRAMESET,oe.H1,oe.H2,oe.H3,oe.H4,oe.H5,oe.H6,oe.HEAD,oe.HEADER,oe.HGROUP,oe.HR,oe.HTML,oe.IFRAME,oe.IMG,oe.INPUT,oe.LI,oe.LINK,oe.LISTING,oe.MAIN,oe.MARQUEE,oe.MENU,oe.META,oe.NAV,oe.NOEMBED,oe.NOFRAMES,oe.NOSCRIPT,oe.OBJECT,oe.OL,oe.P,oe.PARAM,oe.PLAINTEXT,oe.PRE,oe.SCRIPT,oe.SECTION,oe.SELECT,oe.SOURCE,oe.STYLE,oe.SUMMARY,oe.TABLE,oe.TBODY,oe.TD,oe.TEMPLATE,oe.TEXTAREA,oe.TFOOT,oe.TH,oe.THEAD,oe.TITLE,oe.TR,oe.TRACK,oe.UL,oe.WBR,oe.XMP]),[re.MATHML]:new Set([oe.MI,oe.MO,oe.MN,oe.MS,oe.MTEXT,oe.ANNOTATION_XML]),[re.SVG]:new Set([oe.TITLE,oe.FOREIGN_OBJECT,oe.DESC]),[re.XLINK]:new Set,[re.XML]:new Set,[re.XMLNS]:new Set},Xd=new Set([oe.H1,oe.H2,oe.H3,oe.H4,oe.H5,oe.H6]);z.STYLE,z.SCRIPT,z.XMP,z.IFRAME,z.NOEMBED,z.NOFRAMES,z.PLAINTEXT;var B;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(B||(B={}));const Yt={DATA:B.DATA,RCDATA:B.RCDATA,RAWTEXT:B.RAWTEXT,SCRIPT_DATA:B.SCRIPT_DATA,PLAINTEXT:B.PLAINTEXT,CDATA_SECTION:B.CDATA_SECTION};function fO(e){return e>=R.DIGIT_0&&e<=R.DIGIT_9}function bi(e){return e>=R.LATIN_CAPITAL_A&&e<=R.LATIN_CAPITAL_Z}function hO(e){return e>=R.LATIN_SMALL_A&&e<=R.LATIN_SMALL_Z}function sa(e){return hO(e)||bi(e)}function Um(e){return sa(e)||fO(e)}function jo(e){return e+32}function fy(e){return e===R.SPACE||e===R.LINE_FEED||e===R.TABULATION||e===R.FORM_FEED}function Hm(e){return fy(e)||e===R.SOLIDUS||e===R.GREATER_THAN_SIGN}function pO(e){return e===R.NULL?X.nullCharacterReference:e>1114111?X.characterReferenceOutsideUnicodeRange:ly(e)?X.surrogateCharacterReference:uy(e)?X.noncharacterCharacterReference:cy(e)||e===R.CARRIAGE_RETURN?X.controlCharacterReference:null}class mO{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=B.DATA,this.returnState=B.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new eO(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new lO(tO,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(X.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(X.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=pO(r);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:tt.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:tt.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:tt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:tt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(dy(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(X.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ri(t.tagName),t.type===tt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(X.endTagWithAttributes),t.selfClosing&&this._err(X.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case tt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case tt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case tt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:tt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=fy(t)?tt.WHITESPACE_CHARACTER:t===R.NULL?tt.NULL_CHARACTER:tt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(tt.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=B.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Hr.Attribute:Hr.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===B.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===B.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===B.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case B.DATA:{this._stateData(t);break}case B.RCDATA:{this._stateRcdata(t);break}case B.RAWTEXT:{this._stateRawtext(t);break}case B.SCRIPT_DATA:{this._stateScriptData(t);break}case B.PLAINTEXT:{this._statePlaintext(t);break}case B.TAG_OPEN:{this._stateTagOpen(t);break}case B.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case B.TAG_NAME:{this._stateTagName(t);break}case B.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case B.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case B.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case B.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case B.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case B.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case B.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case B.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case B.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case B.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case B.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case B.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case B.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case B.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case B.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case B.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case B.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case B.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case B.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case B.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case B.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case B.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case B.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case B.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case B.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case B.BOGUS_COMMENT:{this._stateBogusComment(t);break}case B.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case B.COMMENT_START:{this._stateCommentStart(t);break}case B.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case B.COMMENT:{this._stateComment(t);break}case B.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case B.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case B.COMMENT_END:{this._stateCommentEnd(t);break}case B.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case B.DOCTYPE:{this._stateDoctype(t);break}case B.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case B.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case B.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case B.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case B.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case B.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case B.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case B.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case B.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case B.CDATA_SECTION:{this._stateCdataSection(t);break}case B.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case B.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case B.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case B.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case R.LESS_THAN_SIGN:{this.state=B.TAG_OPEN;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.NULL:{this._err(X.unexpectedNullCharacter),this._emitCodePoint(t);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case R.AMPERSAND:{this._startCharacterReference();break}case R.LESS_THAN_SIGN:{this.state=B.RCDATA_LESS_THAN_SIGN;break}case R.NULL:{this._err(X.unexpectedNullCharacter),this._emitChars(It);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case R.LESS_THAN_SIGN:{this.state=B.RAWTEXT_LESS_THAN_SIGN;break}case R.NULL:{this._err(X.unexpectedNullCharacter),this._emitChars(It);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case R.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_LESS_THAN_SIGN;break}case R.NULL:{this._err(X.unexpectedNullCharacter),this._emitChars(It);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case R.NULL:{this._err(X.unexpectedNullCharacter),this._emitChars(It);break}case R.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(sa(t))this._createStartTagToken(),this.state=B.TAG_NAME,this._stateTagName(t);else switch(t){case R.EXCLAMATION_MARK:{this.state=B.MARKUP_DECLARATION_OPEN;break}case R.SOLIDUS:{this.state=B.END_TAG_OPEN;break}case R.QUESTION_MARK:{this._err(X.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t);break}case R.EOF:{this._err(X.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(X.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=B.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(sa(t))this._createEndTagToken(),this.state=B.TAG_NAME,this._stateTagName(t);else switch(t){case R.GREATER_THAN_SIGN:{this._err(X.missingEndTagName),this.state=B.DATA;break}case R.EOF:{this._err(X.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(X.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=B.BEFORE_ATTRIBUTE_NAME;break}case R.SOLIDUS:{this.state=B.SELF_CLOSING_START_TAG;break}case R.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentTagToken();break}case R.NULL:{this._err(X.unexpectedNullCharacter),n.tagName+=It;break}case R.EOF:{this._err(X.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(bi(t)?jo(t):t)}}_stateRcdataLessThanSign(t){t===R.SOLIDUS?this.state=B.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=B.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){sa(t)?(this.state=B.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=B.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=B.BEFORE_ATTRIBUTE_NAME,!1;case R.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=B.SELF_CLOSING_START_TAG,!1;case R.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=B.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===R.SOLIDUS?this.state=B.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){sa(t)?(this.state=B.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case R.SOLIDUS:{this.state=B.SCRIPT_DATA_END_TAG_OPEN;break}case R.EXCLAMATION_MARK:{this.state=B.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=B.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){sa(t)?(this.state=B.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===R.HYPHEN_MINUS?(this.state=B.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===R.HYPHEN_MINUS?(this.state=B.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case R.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case R.NULL:{this._err(X.unexpectedNullCharacter),this._emitChars(It);break}case R.EOF:{this._err(X.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case R.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case R.NULL:{this._err(X.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_ESCAPED,this._emitChars(It);break}case R.EOF:{this._err(X.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case R.HYPHEN_MINUS:{this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case R.GREATER_THAN_SIGN:{this.state=B.SCRIPT_DATA,this._emitChars(">");break}case R.NULL:{this._err(X.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_ESCAPED,this._emitChars(It);break}case R.EOF:{this._err(X.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===R.SOLIDUS?this.state=B.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:sa(t)?(this._emitChars("<"),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){sa(t)?(this.state=B.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Tn.SCRIPT,!1)&&Hm(this.preprocessor.peek(Tn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Tn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case R.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case R.NULL:{this._err(X.unexpectedNullCharacter),this._emitChars(It);break}case R.EOF:{this._err(X.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case R.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case R.NULL:{this._err(X.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(It);break}case R.EOF:{this._err(X.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case R.HYPHEN_MINUS:{this._emitChars("-");break}case R.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case R.GREATER_THAN_SIGN:{this.state=B.SCRIPT_DATA,this._emitChars(">");break}case R.NULL:{this._err(X.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(It);break}case R.EOF:{this._err(X.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===R.SOLIDUS?(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Tn.SCRIPT,!1)&&Hm(this.preprocessor.peek(Tn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Tn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=B.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.SOLIDUS:case R.GREATER_THAN_SIGN:case R.EOF:{this.state=B.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case R.EQUALS_SIGN:{this._err(X.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=B.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=B.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:case R.SOLIDUS:case R.GREATER_THAN_SIGN:case R.EOF:{this._leaveAttrName(),this.state=B.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case R.EQUALS_SIGN:{this._leaveAttrName(),this.state=B.BEFORE_ATTRIBUTE_VALUE;break}case R.QUOTATION_MARK:case R.APOSTROPHE:case R.LESS_THAN_SIGN:{this._err(X.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case R.NULL:{this._err(X.unexpectedNullCharacter),this.currentAttr.name+=It;break}default:this.currentAttr.name+=String.fromCodePoint(bi(t)?jo(t):t)}}_stateAfterAttributeName(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.SOLIDUS:{this.state=B.SELF_CLOSING_START_TAG;break}case R.EQUALS_SIGN:{this.state=B.BEFORE_ATTRIBUTE_VALUE;break}case R.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentTagToken();break}case R.EOF:{this._err(X.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=B.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.QUOTATION_MARK:{this.state=B.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this.state=B.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(X.missingAttributeValue),this.state=B.DATA,this.emitCurrentTagToken();break}default:this.state=B.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case R.QUOTATION_MARK:{this.state=B.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.NULL:{this._err(X.unexpectedNullCharacter),this.currentAttr.value+=It;break}case R.EOF:{this._err(X.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case R.APOSTROPHE:{this.state=B.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.NULL:{this._err(X.unexpectedNullCharacter),this.currentAttr.value+=It;break}case R.EOF:{this._err(X.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this._leaveAttrValue(),this.state=B.BEFORE_ATTRIBUTE_NAME;break}case R.AMPERSAND:{this._startCharacterReference();break}case R.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=B.DATA,this.emitCurrentTagToken();break}case R.NULL:{this._err(X.unexpectedNullCharacter),this.currentAttr.value+=It;break}case R.QUOTATION_MARK:case R.APOSTROPHE:case R.LESS_THAN_SIGN:case R.EQUALS_SIGN:case R.GRAVE_ACCENT:{this._err(X.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case R.EOF:{this._err(X.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this._leaveAttrValue(),this.state=B.BEFORE_ATTRIBUTE_NAME;break}case R.SOLIDUS:{this._leaveAttrValue(),this.state=B.SELF_CLOSING_START_TAG;break}case R.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=B.DATA,this.emitCurrentTagToken();break}case R.EOF:{this._err(X.eofInTag),this._emitEOFToken();break}default:this._err(X.missingWhitespaceBetweenAttributes),this.state=B.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case R.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=B.DATA,this.emitCurrentTagToken();break}case R.EOF:{this._err(X.eofInTag),this._emitEOFToken();break}default:this._err(X.unexpectedSolidusInTag),this.state=B.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case R.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentComment(n);break}case R.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case R.NULL:{this._err(X.unexpectedNullCharacter),n.data+=It;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Tn.DASH_DASH,!0)?(this._createCommentToken(Tn.DASH_DASH.length+1),this.state=B.COMMENT_START):this._consumeSequenceIfMatch(Tn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Tn.DOCTYPE.length+1),this.state=B.DOCTYPE):this._consumeSequenceIfMatch(Tn.CDATA_START,!0)?this.inForeignNode?this.state=B.CDATA_SECTION:(this._err(X.cdataInHtmlContent),this._createCommentToken(Tn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=B.BOGUS_COMMENT):this._ensureHibernation()||(this._err(X.incorrectlyOpenedComment),this._createCommentToken(2),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case R.HYPHEN_MINUS:{this.state=B.COMMENT_START_DASH;break}case R.GREATER_THAN_SIGN:{this._err(X.abruptClosingOfEmptyComment),this.state=B.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=B.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case R.HYPHEN_MINUS:{this.state=B.COMMENT_END;break}case R.GREATER_THAN_SIGN:{this._err(X.abruptClosingOfEmptyComment),this.state=B.DATA,this.emitCurrentComment(n);break}case R.EOF:{this._err(X.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=B.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case R.HYPHEN_MINUS:{this.state=B.COMMENT_END_DASH;break}case R.LESS_THAN_SIGN:{n.data+="<",this.state=B.COMMENT_LESS_THAN_SIGN;break}case R.NULL:{this._err(X.unexpectedNullCharacter),n.data+=It;break}case R.EOF:{this._err(X.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case R.EXCLAMATION_MARK:{n.data+="!",this.state=B.COMMENT_LESS_THAN_SIGN_BANG;break}case R.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=B.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===R.HYPHEN_MINUS?this.state=B.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=B.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===R.HYPHEN_MINUS?this.state=B.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=B.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==R.GREATER_THAN_SIGN&&t!==R.EOF&&this._err(X.nestedComment),this.state=B.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case R.HYPHEN_MINUS:{this.state=B.COMMENT_END;break}case R.EOF:{this._err(X.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=B.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case R.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentComment(n);break}case R.EXCLAMATION_MARK:{this.state=B.COMMENT_END_BANG;break}case R.HYPHEN_MINUS:{n.data+="-";break}case R.EOF:{this._err(X.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=B.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case R.HYPHEN_MINUS:{n.data+="--!",this.state=B.COMMENT_END_DASH;break}case R.GREATER_THAN_SIGN:{this._err(X.incorrectlyClosedComment),this.state=B.DATA,this.emitCurrentComment(n);break}case R.EOF:{this._err(X.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=B.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_NAME;break}case R.GREATER_THAN_SIGN:{this.state=B.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case R.EOF:{this._err(X.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(X.missingWhitespaceBeforeDoctypeName),this.state=B.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(bi(t))this._createDoctypeToken(String.fromCharCode(jo(t))),this.state=B.DOCTYPE_NAME;else switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.NULL:{this._err(X.unexpectedNullCharacter),this._createDoctypeToken(It),this.state=B.DOCTYPE_NAME;break}case R.GREATER_THAN_SIGN:{this._err(X.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case R.EOF:{this._err(X.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=B.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=B.AFTER_DOCTYPE_NAME;break}case R.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(n);break}case R.NULL:{this._err(X.unexpectedNullCharacter),n.name+=It;break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(bi(t)?jo(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Tn.PUBLIC,!1)?this.state=B.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Tn.SYSTEM,!1)?this.state=B.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(X.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case R.QUOTATION_MARK:{this._err(X.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this._err(X.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(X.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(X.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.QUOTATION_MARK:{n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(X.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(X.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case R.QUOTATION_MARK:{this.state=B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case R.NULL:{this._err(X.unexpectedNullCharacter),n.publicId+=It;break}case R.GREATER_THAN_SIGN:{this._err(X.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case R.APOSTROPHE:{this.state=B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case R.NULL:{this._err(X.unexpectedNullCharacter),n.publicId+=It;break}case R.GREATER_THAN_SIGN:{this._err(X.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=B.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case R.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(n);break}case R.QUOTATION_MARK:{this._err(X.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this._err(X.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(X.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=B.DATA;break}case R.QUOTATION_MARK:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(X.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case R.QUOTATION_MARK:{this._err(X.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{this._err(X.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(X.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(X.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.QUOTATION_MARK:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case R.APOSTROPHE:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case R.GREATER_THAN_SIGN:{this._err(X.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(X.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case R.QUOTATION_MARK:{this.state=B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case R.NULL:{this._err(X.unexpectedNullCharacter),n.systemId+=It;break}case R.GREATER_THAN_SIGN:{this._err(X.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case R.APOSTROPHE:{this.state=B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case R.NULL:{this._err(X.unexpectedNullCharacter),n.systemId+=It;break}case R.GREATER_THAN_SIGN:{this._err(X.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case R.SPACE:case R.LINE_FEED:case R.TABULATION:case R.FORM_FEED:break;case R.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=B.DATA;break}case R.EOF:{this._err(X.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(X.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case R.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=B.DATA;break}case R.NULL:{this._err(X.unexpectedNullCharacter);break}case R.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case R.RIGHT_SQUARE_BRACKET:{this.state=B.CDATA_SECTION_BRACKET;break}case R.EOF:{this._err(X.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===R.RIGHT_SQUARE_BRACKET?this.state=B.CDATA_SECTION_END:(this._emitChars("]"),this.state=B.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case R.GREATER_THAN_SIGN:{this.state=B.DATA;break}case R.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=B.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(R.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Um(this.preprocessor.peek(1))?B.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Um(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===R.SEMICOLON&&this._err(X.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const hy=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),Gm=new Set([...hy,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),Gl=new Set([b.APPLET,b.CAPTION,b.HTML,b.MARQUEE,b.OBJECT,b.TABLE,b.TD,b.TEMPLATE,b.TH]),gO=new Set([...Gl,b.OL,b.UL]),bO=new Set([...Gl,b.BUTTON]),$m=new Set([b.ANNOTATION_XML,b.MI,b.MN,b.MO,b.MS,b.MTEXT]),Wm=new Set([b.DESC,b.FOREIGN_OBJECT,b.TITLE]),vO=new Set([b.TR,b.TEMPLATE,b.HTML]),yO=new Set([b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML]),EO=new Set([b.TABLE,b.TEMPLATE,b.HTML]),_O=new Set([b.TD,b.TH]);class TO{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===re.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==re.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Xd,re.HTML)}popUntilTableCellPopped(){this.popUntilPopped(_O,re.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(EO,re.HTML)}clearBackToTableBodyContext(){this.clearBackTo(yO,re.HTML)}clearBackToTableRowContext(){this.clearBackTo(vO,re.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case re.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case re.SVG:{if(Wm.has(a))return!1;break}case re.MATHML:{if($m.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Gl)}hasInListItemScope(t){return this.hasInDynamicScope(t,gO)}hasInButtonScope(t){return this.hasInDynamicScope(t,bO)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case re.HTML:{if(Xd.has(n))return!0;if(Gl.has(n))return!1;break}case re.SVG:{if(Wm.has(n))return!1;break}case re.MATHML:{if($m.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===re.HTML)switch(this.tagIDs[n]){case t:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===re.HTML)switch(this.tagIDs[t]){case b.TBODY:case b.THEAD:case b.TFOOT:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===re.HTML)switch(this.tagIDs[n]){case t:return!0;case b.OPTION:case b.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&hy.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&Gm.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&Gm.has(this.currentTagId);)this.pop()}}const Hu=3;var br;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(br||(br={}));const Ym={type:br.Marker};class SO{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],a=n.length,s=this.treeAdapter.getTagName(t),i=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===br.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===i){const d=this.treeAdapter.getAttrList(u);d.length===a&&r.push({idx:o,attrs:d})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Hu)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Hu)return;const a=new Map(n.map(i=>[i.name,i.value]));let s=0;for(let i=0;i<r.length;i++){const o=r[i];o.attrs.every(l=>a.get(l.name)===l.value)&&(s+=1,s>=Hu&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(Ym)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:br.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:br.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Ym);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===br.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===br.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===br.Element&&n.element===t)}}const ia={createDocument(){return{nodeName:"#document",mode:zn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const a=e.childNodes.find(s=>s.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};ia.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(ia.isTextNode(n)){n.value+=t;return}}ia.appendChild(e,ia.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&ia.isTextNode(r)?r.value+=t:ia.insertBefore(e,ia.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},py="html",wO="about:legacy-compat",CO="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",my=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],NO=[...my,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],xO=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),gy=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],kO=[...gy,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function zm(e,t){return t.some(n=>e.startsWith(n))}function AO(e){return e.name===py&&e.publicId===null&&(e.systemId===null||e.systemId===wO)}function DO(e){if(e.name!==py)return zn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===CO)return zn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),xO.has(n))return zn.QUIRKS;let r=t===null?NO:my;if(zm(n,r))return zn.QUIRKS;if(r=t===null?gy:kO,zm(n,r))return zn.LIMITED_QUIRKS}return zn.NO_QUIRKS}const Vm={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},IO="definitionurl",OO="definitionURL",PO=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),LO=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:re.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:re.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:re.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:re.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:re.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:re.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:re.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:re.XML}],["xml:space",{prefix:"xml",name:"space",namespace:re.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:re.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:re.XMLNS}]]),RO=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),MO=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function FO(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===Pa.COLOR||r===Pa.SIZE||r===Pa.FACE)||MO.has(t)}function by(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===IO){e.attrs[t].name=OO;break}}function vy(e){for(let t=0;t<e.attrs.length;t++){const n=PO.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function ih(e){for(let t=0;t<e.attrs.length;t++){const n=LO.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function BO(e){const t=RO.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ri(e.tagName))}function UO(e,t){return t===re.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function HO(e,t,n){if(t===re.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Pa.ENCODING){const a=n[r].value.toLowerCase();return a===Vm.TEXT_HTML||a===Vm.APPLICATION_XML}}return t===re.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function GO(e,t,n,r){return(!r||r===re.HTML)&&HO(e,t,n)||(!r||r===re.MATHML)&&UO(e,t)}const $O="hidden",WO=8,YO=3;var W;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(W||(W={}));const zO={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},yy=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),jm={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ia,onParseError:null};let qm=class{constructor(t,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=W.INITIAL,this.originalInsertionMode=W.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...jm,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n!=null?n:this.treeAdapter.createDocument(),this.tokenizer=new mO(this.options,this),this.activeFormattingElements=new SO(this.treeAdapter),this.fragmentContextID=r?ri(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r!=null?r:this.document,this.fragmentContextID),this.openElements=new TO(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...jm,...n};t!=null||(t=r.treeAdapter.createElement(z.TEMPLATE,re.HTML,[]));const a=r.treeAdapter.createElement("documentmock",re.HTML,[]),s=new this(r,a,t);return s.fragmentContextID===b.TEMPLATE&&s.tmplInsertionModeStack.unshift(W.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var a;if(!this.onParseError)return;const s=(a=t.location)!==null&&a!==void 0?a:zO,i={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(i)}onItemPush(t,n,r){var a,s;(s=(a=this.treeAdapter).onItemPush)===null||s===void 0||s.call(a,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,t,this.openElements.current),n){let s,i;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,i=this.fragmentContextID):{current:s,currentTagId:i}=this.openElements,this._setContextModes(s,i)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===re.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,re.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=W.TEXT}switchToPlaintextParsing(){this.insertionMode=W.TEXT,this.originalInsertionMode=W.IN_BODY,this.tokenizer.state=Yt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===z.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==re.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=Yt.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=Yt.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=Yt.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=Yt.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),t.location){const i=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));i&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r!=null?r:this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,re.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,re.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(z.HTML,re.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),s=r?a.lastIndexOf(r):a.length,i=a[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(i)){const{endLine:l,endCol:u,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(i,{endLine:l,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(t),s=n.type===tt.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===z.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===re.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,re.HTML)}_processToken(t){switch(t.type){case tt.CHARACTER:{this.onCharacter(t);break}case tt.NULL_CHARACTER:{this.onNullCharacter(t);break}case tt.COMMENT:{this.onComment(t);break}case tt.DOCTYPE:{this.onDoctype(t);break}case tt.START_TAG:{this._processStartTag(t);break}case tt.END_TAG:{this.onEndTag(t);break}case tt.EOF:{this.onEof(t);break}case tt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const a=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return GO(t,a,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===br.Marker||this.openElements.contains(a.element)),r=n===-1?t-1:n-1;for(let a=r;a>=0;a--){const s=this.activeFormattingElements.entries[a];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=W.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=W.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=W.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=W.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=W.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=W.IN_TABLE;return}case b.BODY:{this.insertionMode=W.IN_BODY;return}case b.FRAMESET:{this.insertionMode=W.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?W.AFTER_HEAD:W.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=W.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=W.IN_HEAD;return}break}}this.insertionMode=W.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=W.IN_SELECT_IN_TABLE;return}}this.insertionMode=W.IN_SELECT}_isElementCausesFosterParenting(t){return yy.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===re.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return dO[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){_L(this,t);return}switch(this.insertionMode){case W.INITIAL:{di(this,t);break}case W.BEFORE_HTML:{Ni(this,t);break}case W.BEFORE_HEAD:{xi(this,t);break}case W.IN_HEAD:{ki(this,t);break}case W.IN_HEAD_NO_SCRIPT:{Ai(this,t);break}case W.AFTER_HEAD:{Di(this,t);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:{_y(this,t);break}case W.TEXT:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Gu(this,t);break}case W.IN_TABLE_TEXT:{xy(this,t);break}case W.IN_COLUMN_GROUP:{$l(this,t);break}case W.AFTER_BODY:{Wl(this,t);break}case W.AFTER_AFTER_BODY:{bl(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){EL(this,t);return}switch(this.insertionMode){case W.INITIAL:{di(this,t);break}case W.BEFORE_HTML:{Ni(this,t);break}case W.BEFORE_HEAD:{xi(this,t);break}case W.IN_HEAD:{ki(this,t);break}case W.IN_HEAD_NO_SCRIPT:{Ai(this,t);break}case W.AFTER_HEAD:{Di(this,t);break}case W.TEXT:{this._insertCharacters(t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Gu(this,t);break}case W.IN_COLUMN_GROUP:{$l(this,t);break}case W.AFTER_BODY:{Wl(this,t);break}case W.AFTER_AFTER_BODY:{bl(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Jd(this,t);return}switch(this.insertionMode){case W.INITIAL:case W.BEFORE_HTML:case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_TEMPLATE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{Jd(this,t);break}case W.IN_TABLE_TEXT:{fi(this,t);break}case W.AFTER_BODY:{JO(this,t);break}case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{ZO(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case W.INITIAL:{eP(this,t);break}case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:{this._err(t,X.misplacedDoctype);break}case W.IN_TABLE_TEXT:{fi(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,X.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?TL(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case W.INITIAL:{di(this,t);break}case W.BEFORE_HTML:{tP(this,t);break}case W.BEFORE_HEAD:{rP(this,t);break}case W.IN_HEAD:{fr(this,t);break}case W.IN_HEAD_NO_SCRIPT:{iP(this,t);break}case W.AFTER_HEAD:{lP(this,t);break}case W.IN_BODY:{dn(this,t);break}case W.IN_TABLE:{Ms(this,t);break}case W.IN_TABLE_TEXT:{fi(this,t);break}case W.IN_CAPTION:{aL(this,t);break}case W.IN_COLUMN_GROUP:{ch(this,t);break}case W.IN_TABLE_BODY:{Uc(this,t);break}case W.IN_ROW:{Hc(this,t);break}case W.IN_CELL:{oL(this,t);break}case W.IN_SELECT:{Dy(this,t);break}case W.IN_SELECT_IN_TABLE:{cL(this,t);break}case W.IN_TEMPLATE:{dL(this,t);break}case W.AFTER_BODY:{hL(this,t);break}case W.IN_FRAMESET:{pL(this,t);break}case W.AFTER_FRAMESET:{gL(this,t);break}case W.AFTER_AFTER_BODY:{vL(this,t);break}case W.AFTER_AFTER_FRAMESET:{yL(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?SL(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case W.INITIAL:{di(this,t);break}case W.BEFORE_HTML:{nP(this,t);break}case W.BEFORE_HEAD:{aP(this,t);break}case W.IN_HEAD:{sP(this,t);break}case W.IN_HEAD_NO_SCRIPT:{oP(this,t);break}case W.AFTER_HEAD:{cP(this,t);break}case W.IN_BODY:{Bc(this,t);break}case W.TEXT:{qP(this,t);break}case W.IN_TABLE:{Bi(this,t);break}case W.IN_TABLE_TEXT:{fi(this,t);break}case W.IN_CAPTION:{sL(this,t);break}case W.IN_COLUMN_GROUP:{iL(this,t);break}case W.IN_TABLE_BODY:{Zd(this,t);break}case W.IN_ROW:{Ay(this,t);break}case W.IN_CELL:{lL(this,t);break}case W.IN_SELECT:{Iy(this,t);break}case W.IN_SELECT_IN_TABLE:{uL(this,t);break}case W.IN_TEMPLATE:{fL(this,t);break}case W.AFTER_BODY:{Py(this,t);break}case W.IN_FRAMESET:{mL(this,t);break}case W.AFTER_FRAMESET:{bL(this,t);break}case W.AFTER_AFTER_BODY:{bl(this,t);break}}}onEof(t){switch(this.insertionMode){case W.INITIAL:{di(this,t);break}case W.BEFORE_HTML:{Ni(this,t);break}case W.BEFORE_HEAD:{xi(this,t);break}case W.IN_HEAD:{ki(this,t);break}case W.IN_HEAD_NO_SCRIPT:{Ai(this,t);break}case W.AFTER_HEAD:{Di(this,t);break}case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{Cy(this,t);break}case W.TEXT:{KP(this,t);break}case W.IN_TABLE_TEXT:{fi(this,t);break}case W.IN_TEMPLATE:{Oy(this,t);break}case W.AFTER_BODY:case W.IN_FRAMESET:case W.AFTER_FRAMESET:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{lh(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===R.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.TEXT:case W.IN_COLUMN_GROUP:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{this._insertCharacters(t);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:case W.AFTER_BODY:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{Ey(this,t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Gu(this,t);break}case W.IN_TABLE_TEXT:{Ny(this,t);break}}}};function VO(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):wy(e,t),n}function jO(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function qO(e,t,n){let r=t,a=e.openElements.getCommonAncestor(t);for(let s=0,i=a;i!==n;s++,i=a){a=e.openElements.getCommonAncestor(i);const o=e.activeFormattingElements.getElementEntry(i),l=o&&s>=YO;!o||l?(l&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(i)):(i=KO(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(i,r),r=i)}return r}function KO(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function QO(e,t,n){const r=e.treeAdapter.getTagName(t),a=ri(r);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);a===b.TEMPLATE&&s===re.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function XO(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,s=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,a.tagID)}function oh(e,t){for(let n=0;n<WO;n++){const r=VO(e,t);if(!r)break;const a=jO(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;const s=qO(e,a,r.element),i=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),i&&QO(e,i,s),XO(e,a,r)}}function Jd(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function JO(e,t){e._appendCommentNode(t,e.openElements.items[0])}function ZO(e,t){e._appendCommentNode(t,e.document)}function lh(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],i=e.treeAdapter.getNodeSourceCodeLocation(s);i&&!i.endTag&&e._setEndLocation(s,t)}}}}function eP(e,t){e._setDocumentType(t);const n=t.forceQuirks?zn.QUIRKS:DO(t);AO(t)||e._err(t,X.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=W.BEFORE_HTML}function di(e,t){e._err(t,X.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,zn.QUIRKS),e.insertionMode=W.BEFORE_HTML,e._processToken(t)}function tP(e,t){t.tagID===b.HTML?(e._insertElement(t,re.HTML),e.insertionMode=W.BEFORE_HEAD):Ni(e,t)}function nP(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&Ni(e,t)}function Ni(e,t){e._insertFakeRootElement(),e.insertionMode=W.BEFORE_HEAD,e._processToken(t)}function rP(e,t){switch(t.tagID){case b.HTML:{dn(e,t);break}case b.HEAD:{e._insertElement(t,re.HTML),e.headElement=e.openElements.current,e.insertionMode=W.IN_HEAD;break}default:xi(e,t)}}function aP(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?xi(e,t):e._err(t,X.endTagWithoutMatchingOpenElement)}function xi(e,t){e._insertFakeElement(z.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=W.IN_HEAD,e._processToken(t)}function fr(e,t){switch(t.tagID){case b.HTML:{dn(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,Yt.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Yt.RAWTEXT):(e._insertElement(t,re.HTML),e.insertionMode=W.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,Yt.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,Yt.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=W.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(W.IN_TEMPLATE);break}case b.HEAD:{e._err(t,X.misplacedStartTagForHeadElement);break}default:ki(e,t)}}function sP(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=W.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{ki(e,t);break}case b.TEMPLATE:{es(e,t);break}default:e._err(t,X.endTagWithoutMatchingOpenElement)}}function es(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,X.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,X.endTagWithoutMatchingOpenElement)}function ki(e,t){e.openElements.pop(),e.insertionMode=W.AFTER_HEAD,e._processToken(t)}function iP(e,t){switch(t.tagID){case b.HTML:{dn(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{fr(e,t);break}case b.NOSCRIPT:{e._err(t,X.nestedNoscriptInHead);break}default:Ai(e,t)}}function oP(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=W.IN_HEAD;break}case b.BR:{Ai(e,t);break}default:e._err(t,X.endTagWithoutMatchingOpenElement)}}function Ai(e,t){const n=t.type===tt.EOF?X.openElementsLeftAfterEof:X.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=W.IN_HEAD,e._processToken(t)}function lP(e,t){switch(t.tagID){case b.HTML:{dn(e,t);break}case b.BODY:{e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=W.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,re.HTML),e.insertionMode=W.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,X.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),fr(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,X.misplacedStartTagForHeadElement);break}default:Di(e,t)}}function cP(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{Di(e,t);break}case b.TEMPLATE:{es(e,t);break}default:e._err(t,X.endTagWithoutMatchingOpenElement)}}function Di(e,t){e._insertFakeElement(z.BODY,b.BODY),e.insertionMode=W.IN_BODY,Fc(e,t)}function Fc(e,t){switch(t.type){case tt.CHARACTER:{_y(e,t);break}case tt.WHITESPACE_CHARACTER:{Ey(e,t);break}case tt.COMMENT:{Jd(e,t);break}case tt.START_TAG:{dn(e,t);break}case tt.END_TAG:{Bc(e,t);break}case tt.EOF:{Cy(e,t);break}}}function Ey(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function _y(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function uP(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function dP(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function fP(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,re.HTML),e.insertionMode=W.IN_FRAMESET)}function hP(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,re.HTML)}function pP(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Xd.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,re.HTML)}function mP(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function gP(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,re.HTML),n||(e.formElement=e.openElements.current))}function bP(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const a=e.openElements.tagIDs[r];if(n===b.LI&&a===b.LI||(n===b.DD||n===b.DT)&&(a===b.DD||a===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==b.ADDRESS&&a!==b.DIV&&a!==b.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,re.HTML)}function vP(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.tokenizer.state=Yt.PLAINTEXT}function yP(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.framesetOk=!1}function EP(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(z.A);n&&(oh(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function _P(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function TP(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(oh(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,re.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function SP(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function wP(e,t){e.treeAdapter.getDocumentMode(e.document)!==zn.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=W.IN_TABLE}function Ty(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Sy(e){const t=dy(e,Pa.TYPE);return t!=null&&t.toLowerCase()===$O}function CP(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,re.HTML),Sy(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function NP(e,t){e._appendElement(t,re.HTML),t.ackSelfClosing=!0}function xP(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,re.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function kP(e,t){t.tagName=z.IMG,t.tagID=b.IMG,Ty(e,t)}function AP(e,t){e._insertElement(t,re.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Yt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=W.TEXT}function DP(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Yt.RAWTEXT)}function IP(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Yt.RAWTEXT)}function Km(e,t){e._switchToTextParsing(t,Yt.RAWTEXT)}function OP(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===W.IN_TABLE||e.insertionMode===W.IN_CAPTION||e.insertionMode===W.IN_TABLE_BODY||e.insertionMode===W.IN_ROW||e.insertionMode===W.IN_CELL?W.IN_SELECT_IN_TABLE:W.IN_SELECT}function PP(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML)}function LP(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,re.HTML)}function RP(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,re.HTML)}function MP(e,t){e._reconstructActiveFormattingElements(),by(t),ih(t),t.selfClosing?e._appendElement(t,re.MATHML):e._insertElement(t,re.MATHML),t.ackSelfClosing=!0}function FP(e,t){e._reconstructActiveFormattingElements(),vy(t),ih(t),t.selfClosing?e._appendElement(t,re.SVG):e._insertElement(t,re.SVG),t.ackSelfClosing=!0}function Qm(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,re.HTML)}function dn(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{_P(e,t);break}case b.A:{EP(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{pP(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{hP(e,t);break}case b.LI:case b.DD:case b.DT:{bP(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{Ty(e,t);break}case b.HR:{xP(e,t);break}case b.RB:case b.RTC:{LP(e,t);break}case b.RT:case b.RP:{RP(e,t);break}case b.PRE:case b.LISTING:{mP(e,t);break}case b.XMP:{DP(e,t);break}case b.SVG:{FP(e,t);break}case b.HTML:{uP(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{fr(e,t);break}case b.BODY:{dP(e,t);break}case b.FORM:{gP(e,t);break}case b.NOBR:{TP(e,t);break}case b.MATH:{MP(e,t);break}case b.TABLE:{wP(e,t);break}case b.INPUT:{CP(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{NP(e,t);break}case b.IMAGE:{kP(e,t);break}case b.BUTTON:{yP(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{SP(e,t);break}case b.IFRAME:{IP(e,t);break}case b.SELECT:{OP(e,t);break}case b.OPTION:case b.OPTGROUP:{PP(e,t);break}case b.NOEMBED:case b.NOFRAMES:{Km(e,t);break}case b.FRAMESET:{fP(e,t);break}case b.TEXTAREA:{AP(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?Km(e,t):Qm(e,t);break}case b.PLAINTEXT:{vP(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:Qm(e,t)}}function BP(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=W.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function UP(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=W.AFTER_BODY,Py(e,t))}function HP(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function GP(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function $P(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(z.P,b.P),e._closePElement()}function WP(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function YP(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function zP(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function VP(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function jP(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(z.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function wy(e,t){const n=t.tagName,r=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const s=e.openElements.items[a],i=e.openElements.tagIDs[a];if(r===i&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(s,i))break}}function Bc(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{oh(e,t);break}case b.P:{$P(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{HP(e,t);break}case b.LI:{WP(e);break}case b.DD:case b.DT:{YP(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{zP(e);break}case b.BR:{jP(e);break}case b.BODY:{BP(e,t);break}case b.HTML:{UP(e,t);break}case b.FORM:{GP(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{VP(e,t);break}case b.TEMPLATE:{es(e,t);break}default:wy(e,t)}}function Cy(e,t){e.tmplInsertionModeStack.length>0?Oy(e,t):lh(e,t)}function qP(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function KP(e,t){e._err(t,X.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Gu(e,t){if(e.openElements.currentTagId!==void 0&&yy.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=W.IN_TABLE_TEXT,t.type){case tt.CHARACTER:{xy(e,t);break}case tt.WHITESPACE_CHARACTER:{Ny(e,t);break}}else ho(e,t)}function QP(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,re.HTML),e.insertionMode=W.IN_CAPTION}function XP(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.HTML),e.insertionMode=W.IN_COLUMN_GROUP}function JP(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(z.COLGROUP,b.COLGROUP),e.insertionMode=W.IN_COLUMN_GROUP,ch(e,t)}function ZP(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,re.HTML),e.insertionMode=W.IN_TABLE_BODY}function eL(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(z.TBODY,b.TBODY),e.insertionMode=W.IN_TABLE_BODY,Uc(e,t)}function tL(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function nL(e,t){Sy(t)?e._appendElement(t,re.HTML):ho(e,t),t.ackSelfClosing=!0}function rL(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,re.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Ms(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{eL(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{fr(e,t);break}case b.COL:{JP(e,t);break}case b.FORM:{rL(e,t);break}case b.TABLE:{tL(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{ZP(e,t);break}case b.INPUT:{nL(e,t);break}case b.CAPTION:{QP(e,t);break}case b.COLGROUP:{XP(e,t);break}default:ho(e,t)}}function Bi(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{es(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:ho(e,t)}}function ho(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Fc(e,t),e.fosterParentingEnabled=n}function Ny(e,t){e.pendingCharacterTokens.push(t)}function xy(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function fi(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ho(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const ky=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function aL(e,t){const n=t.tagID;ky.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_TABLE,Ms(e,t)):dn(e,t)}function sL(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_TABLE,n===b.TABLE&&Bi(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:Bc(e,t)}}function ch(e,t){switch(t.tagID){case b.HTML:{dn(e,t);break}case b.COL:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{fr(e,t);break}default:$l(e,t)}}function iL(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=W.IN_TABLE);break}case b.TEMPLATE:{es(e,t);break}case b.COL:break;default:$l(e,t)}}function $l(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=W.IN_TABLE,e._processToken(t))}function Uc(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,re.HTML),e.insertionMode=W.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(z.TR,b.TR),e.insertionMode=W.IN_ROW,Hc(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE,Ms(e,t));break}default:Ms(e,t)}}function Zd(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE,Bi(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:Bi(e,t)}}function Hc(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,re.HTML),e.insertionMode=W.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,Uc(e,t));break}default:Ms(e,t)}}function Ay(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,Zd(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,Zd(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:Bi(e,t)}}function oL(e,t){const n=t.tagID;ky.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),Hc(e,t)):dn(e,t)}function lL(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Ay(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:Bc(e,t)}}function Dy(e,t){switch(t.tagID){case b.HTML:{dn(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,re.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,re.HTML);break}case b.HR:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{fr(e,t);break}}}function Iy(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{es(e,t);break}}}function cL(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Dy(e,t)}function uL(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Iy(e,t)}function dL(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{fr(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=W.IN_TABLE,e.insertionMode=W.IN_TABLE,Ms(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=W.IN_COLUMN_GROUP,e.insertionMode=W.IN_COLUMN_GROUP,ch(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=W.IN_TABLE_BODY,e.insertionMode=W.IN_TABLE_BODY,Uc(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=W.IN_ROW,e.insertionMode=W.IN_ROW,Hc(e,t);break}default:e.tmplInsertionModeStack[0]=W.IN_BODY,e.insertionMode=W.IN_BODY,dn(e,t)}}function fL(e,t){t.tagID===b.TEMPLATE&&es(e,t)}function Oy(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):lh(e,t)}function hL(e,t){t.tagID===b.HTML?dn(e,t):Wl(e,t)}function Py(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=W.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Wl(e,t)}function Wl(e,t){e.insertionMode=W.IN_BODY,Fc(e,t)}function pL(e,t){switch(t.tagID){case b.HTML:{dn(e,t);break}case b.FRAMESET:{e._insertElement(t,re.HTML);break}case b.FRAME:{e._appendElement(t,re.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{fr(e,t);break}}}function mL(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=W.AFTER_FRAMESET))}function gL(e,t){switch(t.tagID){case b.HTML:{dn(e,t);break}case b.NOFRAMES:{fr(e,t);break}}}function bL(e,t){t.tagID===b.HTML&&(e.insertionMode=W.AFTER_AFTER_FRAMESET)}function vL(e,t){t.tagID===b.HTML?dn(e,t):bl(e,t)}function bl(e,t){e.insertionMode=W.IN_BODY,Fc(e,t)}function yL(e,t){switch(t.tagID){case b.HTML:{dn(e,t);break}case b.NOFRAMES:{fr(e,t);break}}}function EL(e,t){t.chars=It,e._insertCharacters(t)}function _L(e,t){e._insertCharacters(t),e.framesetOk=!1}function Ly(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==re.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function TL(e,t){if(FO(t))Ly(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===re.MATHML?by(t):r===re.SVG&&(BO(t),vy(t)),ih(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function SL(e,t){if(t.tagID===b.P||t.tagID===b.BR){Ly(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===re.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}z.AREA,z.BASE,z.BASEFONT,z.BGSOUND,z.BR,z.COL,z.EMBED,z.FRAME,z.HR,z.IMG,z.INPUT,z.KEYGEN,z.LINK,z.META,z.PARAM,z.SOURCE,z.TRACK,z.WBR;const wL=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,CL=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Xm={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Ry(e,t){const n=RL(e),r=iy("type",{handlers:{root:NL,element:xL,text:kL,comment:Fy,doctype:AL,raw:IL},unknown:OL}),a={parser:n?new qm(Xm):qm.getFragmentParser(void 0,Xm),handle(o){r(o,a)},stitches:!1,options:t||{}};r(e,a),ai(a,Pr());const s=n?a.parser.document:a.parser.getFragment(),i=NI(s,{file:a.options.file});return a.stitches&&Mc(i,"comment",function(o,l,u){const d=o;if(d.value.stitch&&u&&l!==void 0){const f=u.children;return f[l]=d.value.stitch,l}}),i.type==="root"&&i.children.length===1&&i.children[0].type===e.type?i.children[0]:i}function My(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function NL(e,t){My(e.children,t)}function xL(e,t){PL(e,t),My(e.children,t),LL(e,t)}function kL(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:tt.CHARACTER,chars:e.value,location:po(e)};ai(t,Pr(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function AL(e,t){const n={type:tt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:po(e)};ai(t,Pr(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function DL(e,t){t.stitches=!0;const n=ML(e);if("children"in e&&"children"in n){const r=Ry({type:"root",children:e.children},t.options);n.children=r.children}Fy({type:"comment",value:{stitch:n}},t)}function Fy(e,t){const n=e.value,r={type:tt.COMMENT,data:n,location:po(e)};ai(t,Pr(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function IL(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,By(t,Pr(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(wL,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function OL(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))DL(n,t);else{let r="";throw CL.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function ai(e,t){By(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Yt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function By(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function PL(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Yt.PLAINTEXT)return;ai(t,Pr(e));const r=t.parser.openElements.current;let a="namespaceURI"in r?r.namespaceURI:Da.html;a===Da.html&&n==="svg"&&(a=Da.svg);const s=GI({...e,children:[]},{space:a===Da.svg?"svg":"html"}),i={type:tt.START_TAG,tagName:n,tagID:ri(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:po(e)};t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function LL(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&KI.includes(n)||t.parser.tokenizer.state===Yt.PLAINTEXT)return;ai(t,Dc(e));const r={type:tt.END_TAG,tagName:n,tagID:ri(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:po(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Yt.RCDATA||t.parser.tokenizer.state===Yt.RAWTEXT||t.parser.tokenizer.state===Yt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Yt.DATA)}function RL(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function po(e){const t=Pr(e)||{line:void 0,column:void 0,offset:void 0},n=Dc(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function ML(e){return"children"in e?$a({...e,children:[]}):$a(e)}function FL(e){return function(t,n){return Ry(t,{...e,file:n})}}const Ta=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],Jm={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Ta,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Ta],h2:[["className","sr-only"]],img:[...Ta,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Ta,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Ta],table:[...Ta],ul:[...Ta,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},oa={}.hasOwnProperty;function BL(e,t){let n={type:"root",children:[]};const r={schema:t?{...Jm,...t}:Jm,stack:[]},a=Uy(r,e);return a&&(Array.isArray(a)?a.length===1?n=a[0]:n.children=a:n=a),n}function Uy(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return UL(e,n);case"doctype":return HL(e,n);case"element":return GL(e,n);case"root":return $L(e,n);case"text":return WL(e,n)}}}function UL(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),s={type:"comment",value:r<0?n:n.slice(0,r)};return mo(s,t),s}}function HL(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return mo(n,t),n}}function GL(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=Hy(e,t.children),a=YL(e,t.properties);e.stack.pop();let s=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(s=!0,e.schema.ancestors&&oa.call(e.schema.ancestors,n))){const o=e.schema.ancestors[n];let l=-1;for(s=!1;++l<o.length;)e.stack.includes(o[l])&&(s=!0)}if(!s)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const i={type:"element",tagName:n,properties:a,children:r};return mo(i,t),i}function $L(e,t){const r={type:"root",children:Hy(e,t.children)};return mo(r,t),r}function WL(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return mo(r,t),r}function Hy(e,t){const n=[];if(Array.isArray(t)){const r=t;let a=-1;for(;++a<r.length;){const s=Uy(e,r[a]);s&&(Array.isArray(s)?n.push(...s):n.push(s))}}return n}function YL(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,a=e.schema.required,s=r&&oa.call(r,n)?r[n]:void 0,i=r&&oa.call(r,"*")?r["*"]:void 0,o=t&&typeof t=="object"?t:{},l={};let u;for(u in o)if(oa.call(o,u)){const d=o[u];let f=Zm(e,eg(s,u),u,d);f==null&&(f=Zm(e,eg(i,u),u,d)),f!=null&&(l[u]=f)}if(a&&oa.call(a,n)){const d=a[n];for(u in d)oa.call(d,u)&&!oa.call(l,u)&&(l[u]=d[u])}return l}function Zm(e,t,n,r){return t?Array.isArray(r)?zL(e,t,n,r):Gy(e,t,n,r):void 0}function zL(e,t,n,r){let a=-1;const s=[];for(;++a<r.length;){const i=Gy(e,t,n,r[a]);(typeof i=="number"||typeof i=="string")&&s.push(i)}return s}function Gy(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&VL(e,n,r)){if(typeof t=="object"&&t.length>1){let a=!1,s=0;for(;++s<t.length;){const i=t[s];if(i&&typeof i=="object"&&"flags"in i){if(i.test(String(r))){a=!0;break}}else if(i===r){a=!0;break}}if(!a)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function VL(e,t,n){const r=e.schema.protocols&&oa.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const a=String(n),s=a.indexOf(":"),i=a.indexOf("?"),o=a.indexOf("#"),l=a.indexOf("/");if(s<0||l>-1&&s>l||i>-1&&s>i||o>-1&&s>o)return!0;let u=-1;for(;++u<r.length;){const d=r[u];if(s===d.length&&a.slice(0,d.length)===d)return!0}return!1}function mo(e,t){const n=Ev(t);t.data&&(e.data=$a(t.data)),n&&(e.position=n)}function eg(e,t){let n,r=-1;if(e)for(;++r<e.length;){const a=e[r],s=typeof a=="string"?a:a[0];if(s===t)return a;s==="data*"&&(n=a)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function jL(e){return function(t){return BL(t,e)}}function tg(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function qL(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function KL(e,t,n){const a=Lc((n||{}).ignore||[]),s=QL(t);let i=-1;for(;++i<s.length;)zv(e,"text",o);function o(u,d){let f=-1,p;for(;++f<d.length;){const h=d[f],m=p?p.children:void 0;if(a(h,m?m.indexOf(h):void 0,p))return;p=h}if(p)return l(u,d)}function l(u,d){const f=d[d.length-1],p=s[i][0],h=s[i][1];let m=0;const T=f.children.indexOf(u);let E=!1,C=[];p.lastIndex=0;let _=p.exec(u.value);for(;_;){const N=_.index,x={index:_.index,input:_.input,stack:[...d,u]};let S=h(..._,x);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?p.lastIndex=N+1:(m!==N&&C.push({type:"text",value:u.value.slice(m,N)}),Array.isArray(S)?C.push(...S):S&&C.push(S),m=N+_[0].length,E=!0),!p.global)break;_=p.exec(u.value)}return E?(m<u.value.length&&C.push({type:"text",value:u.value.slice(m)}),f.children.splice(T,1,...C)):C=[u],T+C.length}}function QL(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([XL(a[0]),JL(a[1])])}return t}function XL(e){return typeof e=="string"?new RegExp(qL(e),"g"):e}function JL(e){return typeof e=="function"?e:function(){return e}}const $u="phrasing",Wu=["autolink","link","image","label"];function ZL(){return{transforms:[i3],enter:{literalAutolink:t3,literalAutolinkEmail:Yu,literalAutolinkHttp:Yu,literalAutolinkWww:Yu},exit:{literalAutolink:s3,literalAutolinkEmail:a3,literalAutolinkHttp:n3,literalAutolinkWww:r3}}}function e3(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:$u,notInConstruct:Wu},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:$u,notInConstruct:Wu},{character:":",before:"[ps]",after:"\\/",inConstruct:$u,notInConstruct:Wu}]}}function t3(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Yu(e){this.config.enter.autolinkProtocol.call(this,e)}function n3(e){this.config.exit.autolinkProtocol.call(this,e)}function r3(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function a3(e){this.config.exit.autolinkEmail.call(this,e)}function s3(e){this.exit(e)}function i3(e){KL(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,o3],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),l3]],{ignore:["link","linkReference"]})}function o3(e,t,n,r,a){let s="";if(!$y(a)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!c3(n)))return!1;const i=u3(n+r);if(!i[0])return!1;const o={type:"link",title:null,url:s+t+i[0],children:[{type:"text",value:t+i[0]}]};return i[1]?[o,{type:"text",value:i[1]}]:o}function l3(e,t,n,r){return!$y(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function c3(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function u3(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=tg(e,"(");let s=tg(e,")");for(;r!==-1&&a>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function $y(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ga(n)||Ic(n))&&(!t||n!==47)}Wy.peek=y3;function d3(){this.buffer()}function f3(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function h3(){this.buffer()}function p3(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function m3(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ir(this.sliceSerialize(e)).toLowerCase(),n.label=t}function g3(e){this.exit(e)}function b3(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ir(this.sliceSerialize(e)).toLowerCase(),n.label=t}function v3(e){this.exit(e)}function y3(){return"["}function Wy(e,t,n,r){const a=n.createTracker(r);let s=a.move("[^");const i=n.enter("footnoteReference"),o=n.enter("reference");return s+=a.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),i(),s+=a.move("]"),s}function E3(){return{enter:{gfmFootnoteCallString:d3,gfmFootnoteCall:f3,gfmFootnoteDefinitionLabelString:h3,gfmFootnoteDefinition:p3},exit:{gfmFootnoteCallString:m3,gfmFootnoteCall:g3,gfmFootnoteDefinitionLabelString:b3,gfmFootnoteDefinition:v3}}}function _3(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Wy},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,s,i){const o=s.createTracker(i);let l=o.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return l+=o.move(s.safe(s.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?"\n":" ")+s.indentLines(s.containerFlow(r,o.current()),t?Yy:T3))),u(),l}}function T3(e,t,n){return t===0?e:Yy(e,t,n)}function Yy(e,t,n){return(n?"":"    ")+e}const S3=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];zy.peek=k3;function w3(){return{canContainEols:["delete"],enter:{strikethrough:N3},exit:{strikethrough:x3}}}function C3(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:S3}],handlers:{delete:zy}}}function N3(e){this.enter({type:"delete",children:[]},e)}function x3(e){this.exit(e)}function zy(e,t,n,r){const a=n.createTracker(r),s=n.enter("strikethrough");let i=a.move("~~");return i+=n.containerPhrasing(e,{...a.current(),before:i,after:"~"}),i+=a.move("~~"),s(),i}function k3(){return"~"}function A3(e){return e.length}function D3(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||A3,s=[],i=[],o=[],l=[];let u=0,d=-1;for(;++d<e.length;){const v=[],T=[];let E=-1;for(e[d].length>u&&(u=e[d].length);++E<e[d].length;){const C=I3(e[d][E]);if(n.alignDelimiters!==!1){const _=a(C);T[E]=_,(l[E]===void 0||_>l[E])&&(l[E]=_)}v.push(C)}i[d]=v,o[d]=T}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=ng(r[f]);else{const v=ng(r);for(;++f<u;)s[f]=v}f=-1;const p=[],h=[];for(;++f<u;){const v=s[f];let T="",E="";v===99?(T=":",E=":"):v===108?T=":":v===114&&(E=":");let C=n.alignDelimiters===!1?1:Math.max(1,l[f]-T.length-E.length);const _=T+"-".repeat(C)+E;n.alignDelimiters!==!1&&(C=T.length+C+E.length,C>l[f]&&(l[f]=C),h[f]=C),p[f]=_}i.splice(1,0,p),o.splice(1,0,h),d=-1;const m=[];for(;++d<i.length;){const v=i[d],T=o[d];f=-1;const E=[];for(;++f<u;){const C=v[f]||"";let _="",N="";if(n.alignDelimiters!==!1){const x=l[f]-(T[f]||0),S=s[f];S===114?_=" ".repeat(x):S===99?x%2?(_=" ".repeat(x/2+.5),N=" ".repeat(x/2-.5)):(_=" ".repeat(x/2),N=_):N=" ".repeat(x)}n.delimiterStart!==!1&&!f&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&C==="")&&(n.delimiterStart!==!1||f)&&E.push(" "),n.alignDelimiters!==!1&&E.push(_),E.push(C),n.alignDelimiters!==!1&&E.push(N),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&E.push("|")}m.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return m.join("\n")}function I3(e){return e==null?"":String(e)}function ng(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function O3(e,t,n,r){const a=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const i=n.indentLines(n.containerFlow(e,s.current()),P3);return a(),i}function P3(e,t,n){return">"+(n?"":" ")+e}function L3(e,t){return rg(e,t.inConstruct,!0)&&!rg(e,t.notInConstruct,!1)}function rg(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ag(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character==="\n"&&L3(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function R3(e,t){const n=String(e);let r=n.indexOf(t),a=r,s=0,i=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++s>i&&(i=s):s=1,a=r+t.length,r=n.indexOf(t,a);return i}function M3(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function F3(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function B3(e,t,n,r){const a=F3(n),s=e.value||"",i=a==="`"?"GraveAccent":"Tilde";if(M3(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(s,U3);return f(),p}const o=n.createTracker(r),l=a.repeat(Math.max(R3(s,a)+1,3)),u=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter("codeFencedLang".concat(i));d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter("codeFencedMeta".concat(i));d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:"\n",encode:["`"],...o.current()})),f()}return d+=o.move("\n"),s&&(d+=o.move(s+"\n")),d+=o.move(l),u(),d}function U3(e,t,n){return(n?"":"    ")+e}function uh(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function H3(e,t,n,r){const a=uh(n),s=a==='"'?"Quote":"Apostrophe",i=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":"\n",...l.current()}))),o(),e.title&&(o=n.enter("title".concat(s)),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),o()),i(),u}function G3(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ui(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Yl(e,t,n){const r=Rs(e),a=Rs(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Vy.peek=$3;function Vy(e,t,n,r){const a=G3(n),s=n.enter("emphasis"),i=n.createTracker(r),o=i.move(a);let l=i.move(n.containerPhrasing(e,{after:a,before:o,...i.current()}));const u=l.charCodeAt(0),d=Yl(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Ui(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Yl(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Ui(f));const h=i.move(a);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+l+h}function $3(e,t,n){return n.options.emphasis||"*"}function W3(e,t){let n=!1;return Mc(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Wd}),!!((!e.depth||e.depth<3)&&Kf(e)&&(t.options.setext||n))}function Y3(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(W3(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...s.current(),before:"\n",after:"\n"});return f(),d(),p+"\n"+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf("\n"))+1))}const i="#".repeat(a),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(i+" ");let u=n.containerPhrasing(e,{before:"# ",after:"\n",...s.current()});return/^[\t ]/.test(u)&&(u=Ui(u.charCodeAt(0))+u.slice(1)),u=u?i+" "+u:i,n.options.closeAtx&&(u+=" "+i),l(),o(),u}jy.peek=z3;function jy(e){return e.value||""}function z3(){return"<"}qy.peek=V3;function qy(e,t,n,r){const a=uh(n),s=a==='"'?"Quote":"Apostrophe",i=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter("title".concat(s)),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),o()),u+=l.move(")"),i(),u}function V3(){return"!"}Ky.peek=j3;function Ky(e,t,n,r){const a=e.referenceType,s=n.enter("imageReference");let i=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),i();const d=n.stack;n.stack=[],i=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return i(),n.stack=d,s(),a==="full"||!u||u!==f?l+=o.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function j3(){return"!"}Qy.peek=q3;function Qy(e,t,n){let r=e.value||"",a="`",s=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const i=n.unsafe[s],o=n.compilePattern(i);let l;if(i.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return a+r+a}function q3(){return"`"}function Xy(e,t){const n=Kf(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Jy.peek=K3;function Jy(e,t,n,r){const a=uh(n),s=a==='"'?"Quote":"Apostrophe",i=n.createTracker(r);let o,l;if(Xy(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=i.move("<");return f+=i.move(n.containerPhrasing(e,{before:f,after:">",...i.current()})),f+=i.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let u=i.move("[");return u+=i.move(n.containerPhrasing(e,{before:u,after:"](",...i.current()})),u+=i.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(n.safe(e.url,{before:u,after:">",...i.current()})),u+=i.move(">")):(l=n.enter("destinationRaw"),u+=i.move(n.safe(e.url,{before:u,after:e.title?" ":")",...i.current()}))),l(),e.title&&(l=n.enter("title".concat(s)),u+=i.move(" "+a),u+=i.move(n.safe(e.title,{before:u,after:a,...i.current()})),u+=i.move(a),l()),u+=i.move(")"),o(),u}function K3(e,t,n){return Xy(e,n)?"<":"["}Zy.peek=Q3;function Zy(e,t,n,r){const a=e.referenceType,s=n.enter("linkReference");let i=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),i();const d=n.stack;n.stack=[],i=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return i(),n.stack=d,s(),a==="full"||!u||u!==f?l+=o.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Q3(){return"["}function dh(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function X3(e){const t=dh(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function J3(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function eE(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Z3(e,t,n,r){const a=n.enter("list"),s=n.bulletCurrent;let i=e.ordered?J3(n):dh(n);const o=e.ordered?i==="."?")":".":X3(n);let l=t&&n.bulletLastUsed?i===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((i==="*"||i==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),eE(n)===i&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(i=o),n.bulletCurrent=i;const u=n.containerFlow(e,r);return n.bulletLastUsed=i,n.bulletCurrent=s,a(),u}function eR(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function tR(e,t,n,r){const a=eR(n);let s=n.bulletCurrent||dh(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let i=s.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(i=Math.ceil(i/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(i-s.length)),o.shift(i);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return l(),u;function d(f,p,h){return p?(h?"":" ".repeat(i))+f:(h?s:s+" ".repeat(i-s.length))+f}}function nR(e,t,n,r){const a=n.enter("paragraph"),s=n.enter("phrasing"),i=n.containerPhrasing(e,r);return s(),a(),i}const rR=Lc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function aR(e,t,n,r){return(e.children.some(function(i){return rR(i)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function sR(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}tE.peek=iR;function tE(e,t,n,r){const a=sR(n),s=n.enter("strong"),i=n.createTracker(r),o=i.move(a+a);let l=i.move(n.containerPhrasing(e,{after:a,before:o,...i.current()}));const u=l.charCodeAt(0),d=Yl(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Ui(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Yl(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Ui(f));const h=i.move(a+a);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+l+h}function iR(e,t,n){return n.options.strong||"*"}function oR(e,t,n,r){return n.safe(e.value,r)}function lR(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function cR(e,t,n){const r=(eE(n)+(n.options.ruleSpaces?" ":"")).repeat(lR(n));return n.options.ruleSpaces?r.slice(0,-1):r}const nE={blockquote:O3,break:ag,code:B3,definition:H3,emphasis:Vy,hardBreak:ag,heading:Y3,html:jy,image:qy,imageReference:Ky,inlineCode:Qy,link:Jy,linkReference:Zy,list:Z3,listItem:tR,paragraph:nR,root:aR,strong:tE,text:oR,thematicBreak:cR};function uR(){return{enter:{table:dR,tableData:sg,tableHeader:sg,tableRow:hR},exit:{codeText:pR,table:fR,tableData:zu,tableHeader:zu,tableRow:zu}}}function dR(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function fR(e){this.exit(e),this.data.inTable=void 0}function hR(e){this.enter({type:"tableRow",children:[]},e)}function zu(e){this.exit(e)}function sg(e){this.enter({type:"tableCell",children:[]},e)}function pR(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,mR));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function mR(e,t){return t==="|"?t:e}function gR(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:i,tableCell:l,tableRow:o}};function i(h,m,v,T){return u(d(h,v,T),h.align)}function o(h,m,v,T){const E=f(h,v,T),C=u([E]);return C.slice(0,C.indexOf("\n"))}function l(h,m,v,T){const E=v.enter("tableCell"),C=v.enter("phrasing"),_=v.containerPhrasing(h,{...T,before:s,after:s});return C(),E(),_}function u(h,m){return D3(h,{align:m,alignDelimiters:r,padding:n,stringLength:a})}function d(h,m,v){const T=h.children;let E=-1;const C=[],_=m.enter("table");for(;++E<T.length;)C[E]=f(T[E],m,v);return _(),C}function f(h,m,v){const T=h.children;let E=-1;const C=[],_=m.enter("tableRow");for(;++E<T.length;)C[E]=l(T[E],h,m,v);return _(),C}function p(h,m,v){let T=nE.inlineCode(h,m,v);return v.stack.includes("tableCell")&&(T=T.replace(/\|/g,"\\$&")),T}}function bR(){return{exit:{taskListCheckValueChecked:ig,taskListCheckValueUnchecked:ig,paragraph:yR}}}function vR(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ER}}}function ig(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function yR(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let s=-1,i;for(;++s<a.length;){const o=a[s];if(o.type==="paragraph"){i=o;break}}i===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ER(e,t,n,r){const a=e.children[0],s=typeof e.checked=="boolean"&&a&&a.type==="paragraph",i="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(i);let l=nE.listItem(e,t,n,{...r,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+i}}function _R(){return[ZL(),E3(),w3(),uR(),bR()]}function TR(e){return{extensions:[e3(),_3(e),C3(),gR(e),vR()]}}const SR={tokenize:AR,partial:!0},rE={tokenize:DR,partial:!0},aE={tokenize:IR,partial:!0},sE={tokenize:OR,partial:!0},wR={tokenize:PR,partial:!0},iE={name:"wwwAutolink",tokenize:xR,previous:lE},oE={name:"protocolAutolink",tokenize:kR,previous:cE},Zr={name:"emailAutolink",tokenize:NR,previous:uE},Lr={};function CR(){return{text:Lr}}let Sa=48;for(;Sa<123;)Lr[Sa]=Zr,Sa++,Sa===58?Sa=65:Sa===91&&(Sa=97);Lr[43]=Zr;Lr[45]=Zr;Lr[46]=Zr;Lr[95]=Zr;Lr[72]=[Zr,oE];Lr[104]=[Zr,oE];Lr[87]=[Zr,iE];Lr[119]=[Zr,iE];function NR(e,t,n){const r=this;let a,s;return i;function i(f){return!ef(f)||!uE.call(r,r.previous)||fh(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return ef(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(wR,d,u)(f):f===45||f===95||ln(f)?(s=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),a=!0,l}function d(f){return s&&a&&gn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function xR(e,t,n){const r=this;return a;function a(i){return i!==87&&i!==119||!lE.call(r,r.previous)||fh(r.events)?n(i):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(SR,e.attempt(rE,e.attempt(aE,s),n),n)(i))}function s(i){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(i)}}function kR(e,t,n){const r=this;let a="",s=!1;return i;function i(f){return(f===72||f===104)&&cE.call(r,r.previous)&&!fh(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(gn(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),s?u:(s=!0,l)):n(f)}function u(f){return f===null||Bl(f)||Tt(f)||Ga(f)||Ic(f)?n(f):e.attempt(rE,e.attempt(aE,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function AR(e,t,n){let r=0;return a;function a(i){return(i===87||i===119)&&r<3?(r++,e.consume(i),a):i===46&&r===3?(e.consume(i),s):n(i)}function s(i){return i===null?n(i):t(i)}}function DR(e,t,n){let r,a,s;return i;function i(u){return u===46||u===95?e.check(sE,l,o)(u):u===null||Tt(u)||Ga(u)||u!==45&&Ic(u)?l(u):(s=!0,e.consume(u),i)}function o(u){return u===95?r=!0:(a=r,r=void 0),e.consume(u),i}function l(u){return a||r||!s?n(u):t(u)}}function IR(e,t){let n=0,r=0;return a;function a(i){return i===40?(n++,e.consume(i),a):i===41&&r<n?s(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?e.check(sE,t,s)(i):i===null||Tt(i)||Ga(i)?t(i):(e.consume(i),a)}function s(i){return i===41&&r++,e.consume(i),a}}function OR(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),a):o===60||o===null||Tt(o)||Ga(o)?t(o):n(o)}function a(o){return o===null||o===40||o===91||Tt(o)||Ga(o)?t(o):r(o)}function s(o){return gn(o)?i(o):n(o)}function i(o){return o===59?(e.consume(o),r):gn(o)?(e.consume(o),i):n(o)}}function PR(e,t,n){return r;function r(s){return e.consume(s),a}function a(s){return ln(s)?n(s):t(s)}}function lE(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Tt(e)}function cE(e){return!gn(e)}function uE(e){return!(e===47||ef(e))}function ef(e){return e===43||e===45||e===46||e===95||ln(e)}function fh(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const LR={tokenize:$R,partial:!0};function RR(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:UR,continuation:{tokenize:HR},exit:GR}},text:{91:{name:"gfmFootnoteCall",tokenize:BR},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:MR,resolveTo:FR}}}}function MR(e,t,n){const r=this;let a=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){i=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!i||!i._balanced)return n(l);const u=ir(r.sliceSerialize({start:i.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function FR(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function BR(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,i;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!i||f===null||f===91||Tt(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(ir(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Tt(f)||(i=!0),s++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,u):u(f)}}function UR(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,i=0,o;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(m)}function d(m){if(i>999||m===93&&!o||m===null||m===91||Tt(m))return n(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return s=ir(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Tt(m)||(o=!0),i++,e.consume(m),m===92?f:d}function f(m){return m===91||m===92||m===93?(e.consume(m),i++,d):d(m)}function p(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a.includes(s)||a.push(s),st(e,h,"gfmFootnoteDefinitionWhitespace")):n(m)}function h(m){return t(m)}}function HR(e,t,n){return e.check(co,t,e.attempt(LR,t,n))}function GR(e){e.exit("gfmFootnoteDefinition")}function $R(e,t,n){const r=this;return st(e,a,"gfmFootnoteDefinitionIndent",4+1);function a(s){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?t(s):n(s)}}function WR(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(i,o){let l=-1;for(;++l<i.length;)if(i[l][0]==="enter"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._close){let u=l;for(;u--;)if(i[u][0]==="exit"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._open&&i[l][1].end.offset-i[l][1].start.offset===i[u][1].end.offset-i[u][1].start.offset){i[l][1].type="strikethroughSequence",i[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},i[u][1].start),end:Object.assign({},i[l][1].end)},f={type:"strikethroughText",start:Object.assign({},i[u][1].end),end:Object.assign({},i[l][1].start)},p=[["enter",d,o],["enter",i[u][1],o],["exit",i[u][1],o],["enter",f,o]],h=o.parser.constructs.insideSpan.null;h&&Pn(p,p.length,0,Oc(h,i.slice(u+1,l),o)),Pn(p,p.length,0,[["exit",f,o],["enter",i[l][1],o],["exit",i[l][1],o],["exit",d,o]]),Pn(i,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<i.length;)i[l][1].type==="strikethroughSequenceTemporary"&&(i[l][1].type="data");return i}function s(i,o,l){const u=this.previous,d=this.events;let f=0;return p;function p(m){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(m):(i.enter("strikethroughSequenceTemporary"),h(m))}function h(m){const v=Rs(u);if(m===126)return f>1?l(m):(i.consume(m),f++,h);if(f<2&&!n)return l(m);const T=i.exit("strikethroughSequenceTemporary"),E=Rs(m);return T._open=!E||E===2&&!!v,T._close=!v||v===2&&!!E,o(m)}}}class YR{constructor(){this.map=[]}add(t,n,r){zR(this,t,n,r)}consume(t){if(this.map.sort(function(s,i){return s[0]-i[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const s of a)t.push(s);a=r.pop()}this.map.length=0}}function zR(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function VR(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function jR(){return{flow:{null:{name:"table",tokenize:qR,resolveAll:KR}}}}function qR(e,t,n){const r=this;let a=0,s=0,i;return o;function o(k){let w=r.events.length-1;for(;w>-1;){const U=r.events[w][1].type;if(U==="lineEnding"||U==="linePrefix")w--;else break}const D=w>-1?r.events[w][1].type:null,M=D==="tableHead"||D==="tableRow"?S:l;return M===S&&r.parser.lazy[r.now().line]?n(k):M(k)}function l(k){return e.enter("tableHead"),e.enter("tableRow"),u(k)}function u(k){return k===124||(i=!0,s+=1),d(k)}function d(k){return k===null?n(k):Me(k)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),h):n(k):nt(k)?st(e,d,"whitespace")(k):(s+=1,i&&(i=!1,a+=1),k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),i=!0,d):(e.enter("data"),f(k)))}function f(k){return k===null||k===124||Tt(k)?(e.exit("data"),d(k)):(e.consume(k),k===92?p:f)}function p(k){return k===92||k===124?(e.consume(k),f):f(k)}function h(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(k):(e.enter("tableDelimiterRow"),i=!1,nt(k)?st(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):m(k))}function m(k){return k===45||k===58?T(k):k===124?(i=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),v):x(k)}function v(k){return nt(k)?st(e,T,"whitespace")(k):T(k)}function T(k){return k===58?(s+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),E):k===45?(s+=1,E(k)):k===null||Me(k)?N(k):x(k)}function E(k){return k===45?(e.enter("tableDelimiterFiller"),C(k)):x(k)}function C(k){return k===45?(e.consume(k),C):k===58?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),_):(e.exit("tableDelimiterFiller"),_(k))}function _(k){return nt(k)?st(e,N,"whitespace")(k):N(k)}function N(k){return k===124?m(k):k===null||Me(k)?!i||a!==s?x(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):x(k)}function x(k){return n(k)}function S(k){return e.enter("tableRow"),A(k)}function A(k){return k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),A):k===null||Me(k)?(e.exit("tableRow"),t(k)):nt(k)?st(e,A,"whitespace")(k):(e.enter("data"),P(k))}function P(k){return k===null||k===124||Tt(k)?(e.exit("data"),A(k)):(e.consume(k),k===92?O:P)}function O(k){return k===92||k===124?(e.consume(k),P):P(k)}}function KR(e,t){let n=-1,r=!0,a=0,s=[0,0,0,0],i=[0,0,0,0],o=!1,l=0,u,d,f;const p=new YR;for(;++n<e.length;){const h=e[n],m=h[1];h[0]==="enter"?m.type==="tableHead"?(o=!1,l!==0&&(og(p,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],i=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(n,0,[["enter",d,t]])),a=m.type==="tableDelimiterRow"?2:d?3:1):a&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,i[2]===0&&(s[1]!==0&&(i[0]=i[1],f=qo(p,t,s,a,void 0,f),s=[0,0,0,0]),i[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(i[0]=i[1],f=qo(p,t,s,a,void 0,f)),s=i,i=[s[1],n,0,0])):m.type==="tableHead"?(o=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,s[1]!==0?(i[0]=i[1],f=qo(p,t,s,a,n,f)):i[1]!==0&&(f=qo(p,t,i,a,n,f)),a=0):a&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(i[3]=n)}for(l!==0&&og(p,t,l,u,d),p.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=VR(t.events,n))}return e}function qo(e,t,n,r,a,s){const i=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},ps(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=ps(t.events,n[1]);if(s={type:i,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=ps(t.events,n[2]),d=ps(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],h=t.events[n[3]];if(p[1].end=Object.assign({},h[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,v=n[3]-n[2]-1;e.add(m,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(s.end=Object.assign({},ps(t.events,a)),e.add(a,0,[["exit",s,t]]),s=void 0),s}function og(e,t,n,r,a){const s=[],i=ps(t.events,n);a&&(a.end=Object.assign({},i),s.push(["exit",a,t])),r.end=Object.assign({},i),s.push(["exit",r,t]),e.add(n+1,0,s)}function ps(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const QR={name:"tasklistCheck",tokenize:JR};function XR(){return{text:{91:QR}}}function JR(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Tt(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),i):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),i):n(l)}function i(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Me(l)?t(l):nt(l)?e.check({tokenize:ZR},t,n)(l):n(l)}}function ZR(e,t,n){return st(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function eM(e){return Nv([CR(),RR(),WR(e),jR(),XR()])}const tM={};function nM(e){const t=this,n=e||tM,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),i=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(eM(n)),s.push(_R()),i.push(TR(n))}const dE="carousel",fE="controller",rM="navigation",aM="no-scroll",hh="portal",sM="root",hE="toolbar",Vu="loading",ju="error",qu="complete",iM="placeholder",oM=e=>"active-slide-".concat(e),pE="flex_center",lM="no_scroll",mE="no_scroll_padding",cM="slide_wrapper",ka="prev",Aa="next",lg="swipe",Fs="close",gE="onPointerDown",bE="onPointerMove",vE="onPointerUp",yE="onPointerLeave",EE="onPointerCancel",_E="onKeyDown",uM="onKeyUp",TE="onWheel",dM="Escape",fM="ArrowLeft",hM="ArrowRight",pM="button",tf="icon",SE="contain",cg="cover",mM="Unknown action type",wE="yarl__";function Wr(...e){return[...e].filter(Boolean).join(" ")}function bt(e){return"".concat(wE).concat(e)}function Nn(e){return"--".concat(wE).concat(e)}function go(e,t){return"".concat(e).concat(t?"_".concat(t):"")}function ph(e){return t=>go(e,t)}function gM(e,t){var n;return(n=e==null?void 0:e[t])!==null&&n!==void 0?n:t}function CE(...e){return()=>{e.forEach(t=>{t()})}}function ts(e,t,n){return()=>{const r=g.useContext(n);if(!r)throw new Error("".concat(e," must be used within a ").concat(t,".Provider"));return r}}function NE(){return typeof window<"u"}function bM(e,t=0){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}function xE(e){return e.type===void 0||e.type==="image"}function vM(e,t){return e.imageFit===cg||e.imageFit!==SE&&t===cg}function Gc(e){return typeof e=="string"?Number.parseInt(e,10):e}function zl(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Gc(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function yM(e,t){const n=zl(t),r=n.percent!==void 0?e.width/100*n.percent:n.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function kE(e,t){return t>0?(e%t+t)%t:0}function AE(e){return e.length>0}function DE(e,t){return e[kE(t,e.length)]}function nf(e,t){return AE(e)?DE(e,t):void 0}function EM(e){return xE(e)?e.src:void 0}function _M(e,t,n=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),n))}const TM=Number(g.version.split(".")[0])>=19;function SM(e){return{inert:TM?e:e?"":void 0}}const rf={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Fs]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:SE,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ns(e,t){return{name:e,component:t}}function Zt(e,t){return{module:e,children:t}}function IE(e,t,n){return e.module.name===t?n(e):e.children?[Zt(e.module,e.children.flatMap(r=>{var a;return(a=IE(r,t,n))!==null&&a!==void 0?a:[]}))]:[e]}function cs(e,t,n){return e.flatMap(r=>{var a;return(a=IE(r,t,n))!==null&&a!==void 0?a:[]})}function wM(e,t=[],n=[]){let r=e;const a=h=>{const m=[...r];for(;m.length>0;){const v=m.pop();if((v==null?void 0:v.module.name)===h)return!0;v!=null&&v.children&&m.push(...v.children)}return!1},s=(h,m)=>{if(h===""){r=[Zt(m,r)];return}r=cs(r,h,v=>[Zt(m,[v])])},i=(h,m)=>{r=cs(r,h,v=>[Zt(v.module,[Zt(m,v.children)])])},o=(h,m,v)=>{r=cs(r,h,T=>{var E;return[Zt(T.module,[...v?[Zt(m)]:[],...(E=T.children)!==null&&E!==void 0?E:[],...v?[]:[Zt(m)]])]})},l=(h,m,v)=>{r=cs(r,h,T=>[...v?[Zt(m)]:[],T,...v?[]:[Zt(m)]])},u=h=>{i(fE,h)},d=(h,m)=>{r=cs(r,h,v=>[Zt(m,v.children)])},f=h=>{r=cs(r,h,m=>m.children)},p=h=>{n.push(h)};return t.forEach(h=>{h({contains:a,addParent:s,append:i,addChild:o,addSibling:l,addModule:u,replace:d,remove:f,augment:p})}),{config:r,augmentation:h=>n.reduce((m,v)=>v(m),h)}}const OE=g.createContext(null),mh=ts("useDocument","DocumentContext",OE);function CM({nodeRef:e,children:t}){const n=g.useMemo(()=>{const r=s=>{var i;return((i=s||e.current)===null||i===void 0?void 0:i.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:s=>{var i;return((i=r(s))===null||i===void 0?void 0:i.defaultView)||window}}},[e]);return g.createElement(OE.Provider,{value:n},t)}const PE=g.createContext(null),$c=ts("useEvents","EventsContext",PE);function NM({children:e}){const[t]=g.useState({});g.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const n=g.useMemo(()=>{const r=(i,o)=>{var l;(l=t[i])===null||l===void 0||l.splice(0,t[i].length,...t[i].filter(u=>u!==o))};return{publish:(...[i,o])=>{var l;(l=t[i])===null||l===void 0||l.forEach(u=>u(o))},subscribe:(i,o)=>(t[i]||(t[i]=[]),t[i].push(o),()=>r(i,o)),unsubscribe:r}},[t]);return g.createElement(PE.Provider,{value:n},e)}const LE=g.createContext(null),bo=ts("useLightboxProps","LightboxPropsContext",LE);function xM({children:e,...t}){return g.createElement(LE.Provider,{value:t},e)}const RE=g.createContext(null),Wc=ts("useLightboxState","LightboxStateContext",RE),ME=g.createContext(null),kM=ts("useLightboxDispatch","LightboxDispatchContext",ME);function AM(e,t){switch(t.type){case"swipe":{const{slides:n}=e,r=(t==null?void 0:t.increment)||0,a=e.globalIndex+r,s=kE(a,n.length),i=nf(n,s),o=r||t.duration?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:n,currentIndex:s,globalIndex:a,currentSlide:i,animation:o}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:nf(t.slides,t.index)}:e;default:throw new Error(mM)}}function DM({slides:e,index:t,children:n}){const[r,a]=g.useReducer(AM,{slides:e,currentIndex:t,globalIndex:t,currentSlide:nf(e,t)});g.useEffect(()=>{a({type:"update",slides:e,index:t})},[e,t]);const s=g.useMemo(()=>({...r,state:r,dispatch:a}),[r,a]);return g.createElement(ME.Provider,{value:a},g.createElement(RE.Provider,{value:s},n))}const FE=g.createContext(null),Yc=ts("useTimeouts","TimeoutsContext",FE);function IM({children:e}){const[t]=g.useState([]);g.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const n=g.useMemo(()=>{const r=i=>{t.splice(0,t.length,...t.filter(o=>o!==i))};return{setTimeout:(i,o)=>{const l=window.setTimeout(()=>{r(l),i()},o);return t.push(l),l},clearTimeout:i=>{i!==void 0&&(r(i),window.clearTimeout(i))}}},[t]);return g.createElement(FE.Provider,{value:n},e)}const BE=g.forwardRef(function({label:t,className:n,icon:r,renderIcon:a,onClick:s,style:i,...o},l){const{styles:u,labels:d}=bo(),f=gM(d,t);return g.createElement("button",{ref:l,type:"button",title:f,"aria-label":f,className:Wr(bt(pM),n),onClick:s,style:{...i,...u.button},...o},a?a():g.createElement(r,{className:bt(tf),style:u.icon}))});function OM(e,t){const n=r=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return n.displayName=e,n}function vo(e,t){return OM(e,g.createElement("g",{fill:"currentColor"},g.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const PM=vo("Close",g.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),LM=vo("Previous",g.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),RM=vo("Next",g.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),MM=vo("Loading",g.createElement(g.Fragment,null,Array.from({length:8}).map((e,t,n)=>g.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/n.length*(t+1),transform:"rotate(".concat(360/n.length*t,", 12, 12)")})))),FM=vo("Error",g.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),yo=NE()?g.useLayoutEffect:g.useEffect;function UE(){const[e,t]=g.useState(!1);return g.useEffect(()=>{var n,r;const a=(n=window.matchMedia)===null||n===void 0?void 0:n.call(window,"(prefers-reduced-motion: reduce)");t(a==null?void 0:a.matches);const s=i=>t(i.matches);return(r=a==null?void 0:a.addEventListener)===null||r===void 0||r.call(a,"change",s),()=>{var i;return(i=a==null?void 0:a.removeEventListener)===null||i===void 0?void 0:i.call(a,"change",s)}},[]),e}function BM(e){let t=0,n=0,r=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const i=s[1].split(",").map(Gc);i.length===6?(t=i[4],n=i[5]):i.length===16&&(t=i[12],n=i[13],r=i[14])}return{x:t,y:n,z:r}}function ug(e,t){const n=g.useRef(),r=g.useRef(),a=UE();return yo(()=>{var s,i,o;if(e.current&&n.current!==void 0&&!a){const{keyframes:l,duration:u,easing:d,onfinish:f}=t(n.current,e.current.getBoundingClientRect(),BM(e.current))||{};if(l&&u){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(o=(i=e.current).animate)===null||o===void 0?void 0:o.call(i,l,{duration:u,easing:d})}catch(p){console.error(p)}r.current&&(r.current.onfinish=()=>{r.current=void 0,f==null||f()})}}n.current=void 0}),{prepareAnimation:s=>{n.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function HE(){const e=g.useRef(null),t=g.useRef(),[n,r]=g.useState();return{setContainerRef:g.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const i=()=>{if(s){const o=window.getComputedStyle(s),l=u=>parseFloat(u)||0;r({width:Math.round(s.clientWidth-l(o.paddingLeft)-l(o.paddingRight)),height:Math.round(s.clientHeight-l(o.paddingTop)-l(o.paddingBottom))})}else r(void 0)};i(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(i),t.current.observe(s))},[]),containerRef:e,containerRect:n}}function vl(){const e=g.useRef(),{setTimeout:t,clearTimeout:n}=Yc();return g.useCallback((r,a)=>{n(e.current),e.current=t(r,a>0?a:0)},[t,n])}function Kt(e){const t=g.useRef(e);return yo(()=>{t.current=e}),g.useCallback((...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function dg(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function af(e,t){return g.useMemo(()=>e==null&&t==null?null:n=>{dg(e,n),dg(t,n)},[e,t])}function UM(e,t=!1){const n=g.useRef();yo(()=>{t&&n.current&&(n.current=!1,e())},[t,e]);const r=g.useCallback(()=>{n.current=!0},[]),a=g.useCallback(()=>{n.current=!1},[]);return{onFocus:r,onBlur:a}}function gh(){const[e,t]=g.useState(!1);return yo(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function HM(){const[e]=g.useState({}),t=g.useCallback((a,s)=>{var i;(i=e[a])===null||i===void 0||i.forEach(o=>{s.isPropagationStopped()||o(s)})},[e]),n=g.useMemo(()=>({onPointerDown:a=>t(gE,a),onPointerMove:a=>t(bE,a),onPointerUp:a=>t(vE,a),onPointerLeave:a=>t(yE,a),onPointerCancel:a=>t(EE,a),onKeyDown:a=>t(_E,a),onKeyUp:a=>t(uM,a),onWheel:a=>t(TE,a)}),[t]),r=g.useCallback((a,s)=>(e[a]||(e[a]=[]),e[a].unshift(s),()=>{const i=e[a];i&&i.splice(0,i.length,...i.filter(o=>o!==s))}),[e]);return{registerSensors:n,subscribeSensors:r}}function fg(e,t){const n=g.useRef(0),r=vl(),a=Kt((...s)=>{n.current=Date.now(),e(s)});return g.useCallback((...s)=>{r(()=>{a(s)},t-(Date.now()-n.current))},[t,a,r])}const Ku=ph("slide"),Qu=ph("slide_image");function GM({slide:e,offset:t,render:n,rect:r,imageFit:a,imageProps:s,onClick:i,onLoad:o,onError:l,style:u}){var d,f,p,h,m,v,T;const[E,C]=g.useState(Vu),{publish:_}=$c(),{setTimeout:N}=Yc(),x=g.useRef(null);g.useEffect(()=>{t===0&&_(oM(E))},[t,E,_]);const S=Kt(te=>{("decode"in te?te.decode():Promise.resolve()).catch(()=>{}).then(()=>{te.parentNode&&(C(qu),N(()=>{o==null||o(te)},0))})}),A=g.useCallback(te=>{x.current=te,te!=null&&te.complete&&S(te)},[S]),P=g.useCallback(te=>{S(te.currentTarget)},[S]),O=Kt(()=>{C(ju),l==null||l()}),k=vM(e,a),w=(te,_e)=>Number.isFinite(te)?te:_e,D=w(Math.max(...((f=(d=e.srcSet)===null||d===void 0?void 0:d.map(te=>te.width))!==null&&f!==void 0?f:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((p=x.current)===null||p===void 0?void 0:p.naturalWidth)||0),M=w(Math.max(...((m=(h=e.srcSet)===null||h===void 0?void 0:h.map(te=>te.height))!==null&&m!==void 0?m:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((v=x.current)===null||v===void 0?void 0:v.naturalHeight)||0),U=D&&M?{maxWidth:"min(".concat(D,"px, 100%)"),maxHeight:"min(".concat(M,"px, 100%)")}:{maxWidth:"100%",maxHeight:"100%"},G=(T=e.srcSet)===null||T===void 0?void 0:T.sort((te,_e)=>te.width-_e.width).map(te=>"".concat(te.src," ").concat(te.width,"w")).join(", "),F=()=>r&&!k&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,I=G&&r&&NE()?"".concat(Math.round(Math.min(F(),r.width)),"px"):void 0,{style:H,className:q,...L}=s||{};return g.createElement(g.Fragment,null,g.createElement("img",{ref:A,onLoad:P,onError:O,onClick:i,draggable:!1,className:Wr(bt(Qu()),k&&bt(Qu("cover")),E!==qu&&bt(Qu("loading")),q),style:{...U,...u,...H},...L,alt:e.alt,sizes:I,srcSet:G,src:e.src}),E!==qu&&g.createElement("div",{className:bt(Ku(iM))},E===Vu&&(n!=null&&n.iconLoading?n.iconLoading():g.createElement(MM,{className:Wr(bt(tf),bt(Ku(Vu)))})),E===ju&&(n!=null&&n.iconError?n.iconError():g.createElement(FM,{className:Wr(bt(tf),bt(Ku(ju)))}))))}const $M=g.forwardRef(function({className:t,children:n,...r},a){const s=g.useRef(null);return g.createElement(CM,{nodeRef:s},g.createElement("div",{ref:af(a,s),className:Wr(bt("root"),t),...r},n))});var on;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(on||(on={}));function WM(e,t,n,r,a){g.useEffect(()=>a?()=>{}:CE(e(gE,t),e(bE,n),e(vE,r),e(yE,r),e(EE,r)),[e,t,n,r,a])}var tr;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(tr||(tr={}));const Xu=30;function YM(e,t,n,r,a,s,i,o,l,u,d,f,p,h){const m=g.useRef(0),v=g.useRef([]),T=g.useRef(),E=g.useRef(0),C=g.useRef(tr.NONE),_=g.useCallback(O=>{T.current===O.pointerId&&(T.current=void 0,C.current=tr.NONE);const k=v.current;k.splice(0,k.length,...k.filter(w=>w.pointerId!==O.pointerId))},[]),N=g.useCallback(O=>{_(O),O.persist(),v.current.push(O)},[_]),x=Kt(O=>{N(O)}),S=(O,k)=>u&&O>k||l&&O<-k,A=Kt(O=>{if(v.current.find(k=>k.pointerId===O.pointerId)&&T.current===O.pointerId){const k=Date.now()-E.current,w=m.current;C.current===tr.SWIPE?Math.abs(w)>.3*n||Math.abs(w)>5&&k<r?i(w,k):o(w):C.current===tr.PULL&&(S(w,2*Xu)?p(w,k):h(w)),m.current=0,C.current=tr.NONE}_(O)}),P=Kt(O=>{const k=v.current.find(w=>w.pointerId===O.pointerId);if(k){const w=T.current===O.pointerId;if(O.buttons===0){w&&m.current!==0?A(O):_(k);return}const D=O.clientX-k.clientX,M=O.clientY-k.clientY;if(T.current===void 0){const U=G=>{N(O),T.current=O.pointerId,E.current=Date.now(),C.current=G};Math.abs(D)>Math.abs(M)&&Math.abs(D)>Xu&&t(D)?(U(tr.SWIPE),a()):Math.abs(M)>Math.abs(D)&&S(M,Xu)&&(U(tr.PULL),d())}else w&&(C.current===tr.SWIPE?(m.current=D,s(D)):C.current===tr.PULL&&(m.current=M,f(M)))}});WM(e,x,P,A)}function zM({preventDefaultWheelX:e,preventDefaultWheelY:t}){const n=g.useRef(null),r=Kt(a=>{const s=Math.abs(a.deltaX)>Math.abs(a.deltaY);(s&&e||!s&&t||a.ctrlKey)&&a.preventDefault()});return g.useCallback(a=>{var s;a?a.addEventListener("wheel",r,{passive:!1}):(s=n.current)===null||s===void 0||s.removeEventListener("wheel",r),n.current=a},[r])}function VM(e,t,n,r,a,s,i,o,l){const u=g.useRef(0),d=g.useRef(0),f=g.useRef(),p=g.useRef(),h=g.useRef(0),m=g.useRef(),v=g.useRef(0),{setTimeout:T,clearTimeout:E}=Yc(),C=g.useCallback(()=>{f.current&&(E(f.current),f.current=void 0)},[E]),_=g.useCallback(()=>{p.current&&(E(p.current),p.current=void 0)},[E]),N=Kt(()=>{e!==on.SWIPE&&(u.current=0,v.current=0,C(),_())});g.useEffect(N,[e,N]);const x=Kt(A=>{p.current=void 0,u.current===A&&l(u.current)}),S=Kt(A=>{if(A.ctrlKey||Math.abs(A.deltaY)>Math.abs(A.deltaX))return;const P=O=>{h.current=O,E(m.current),m.current=O>0?T(()=>{h.current=0,m.current=void 0},300):void 0};if(e===on.NONE){if(Math.abs(A.deltaX)<=1.2*Math.abs(h.current)){P(A.deltaX);return}if(!n(-A.deltaX))return;if(d.current+=A.deltaX,C(),Math.abs(d.current)>30)d.current=0,P(0),v.current=Date.now(),s();else{const O=d.current;f.current=T(()=>{f.current=void 0,O===d.current&&(d.current=0)},a)}}else if(e===on.SWIPE){let O=u.current-A.deltaX;if(O=Math.min(Math.abs(O),r)*Math.sign(O),u.current=O,i(O),_(),Math.abs(O)>.2*r){P(A.deltaX),o(O,Date.now()-v.current);return}p.current=T(()=>x(O),2*a)}else P(A.deltaX)});g.useEffect(()=>t(TE,S),[t,S])}const hg=ph("container"),GE=g.createContext(null),Eo=ts("useController","ControllerContext",GE);function jM({children:e,...t}){var n;const{carousel:r,animation:a,controller:s,on:i,styles:o,render:l}=t,{closeOnPullUp:u,closeOnPullDown:d,preventDefaultWheelX:f,preventDefaultWheelY:p}=s,[h,m]=g.useState(),v=Wc(),T=kM(),[E,C]=g.useState(on.NONE),_=g.useRef(0),N=g.useRef(0),x=g.useRef(1),{registerSensors:S,subscribeSensors:A}=HM(),{subscribe:P,publish:O}=$c(),k=vl(),w=vl(),D=vl(),{containerRef:M,setContainerRef:U,containerRect:G}=HE(),F=af(zM({preventDefaultWheelX:f,preventDefaultWheelY:p}),U),I=g.useRef(null),H=af(I,void 0),{getOwnerDocument:q}=mh(),L=gh(),te=ge=>(L?-1:1)*(typeof ge=="number"?ge:1),_e=Kt(()=>{var ge;return(ge=M.current)===null||ge===void 0?void 0:ge.focus()}),$=Kt(()=>t),xe=Kt(()=>v),Pe=g.useCallback(ge=>O(ka,ge),[O]),Ce=g.useCallback(ge=>O(Aa,ge),[O]),We=g.useCallback(()=>O(Fs),[O]),Fe=ge=>!(r.finite&&(te(ge)>0&&v.currentIndex===0||te(ge)<0&&v.currentIndex===v.slides.length-1)),Xe=ge=>{var it;_.current=ge,(it=M.current)===null||it===void 0||it.style.setProperty(Nn("swipe_offset"),"".concat(Math.round(ge),"px"))},le=ge=>{var it,ee;N.current=ge,x.current=(()=>{const Q=(()=>d&&ge>0?ge:u&&ge<0?-ge:0)();return Math.min(Math.max(bM(1-Q/60*(1-.5),2),.5),1)})(),(it=M.current)===null||it===void 0||it.style.setProperty(Nn("pull_offset"),"".concat(Math.round(ge),"px")),(ee=M.current)===null||ee===void 0||ee.style.setProperty(Nn("pull_opacity"),"".concat(x.current))},{prepareAnimation:Le}=ug(I,(ge,it,ee)=>{if(I.current&&G)return{keyframes:[{transform:"translate(0, ".concat(ge.rect.y-it.y+ee.y,"px)"),opacity:ge.opacity},{transform:"translate(0, 0)",opacity:1}],duration:ge.duration,easing:a.easing.fade}}),ae=(ge,it)=>{if(u||d){le(ge);let ee=0;I.current&&(ee=a.fade*(it?2:1),Le({rect:I.current.getBoundingClientRect(),opacity:x.current,duration:ee})),D(()=>{le(0),C(on.NONE)},ee),C(on.ANIMATION),it||We()}},{prepareAnimation:K,isAnimationPlaying:he}=ug(I,(ge,it,ee)=>{var Ue;if(I.current&&G&&(!((Ue=v.animation)===null||Ue===void 0)&&Ue.duration)){const qe=zl(r.spacing),Q=(qe.percent?qe.percent*G.width/100:qe.pixel)||0;return{keyframes:[{transform:"translate(".concat(te(v.globalIndex-ge.index)*(G.width+Q)+ge.rect.x-it.x+ee.x,"px, 0)")},{transform:"translate(0, 0)"}],duration:v.animation.duration,easing:v.animation.easing}}}),Re=Kt(ge=>{var it,ee;const Ue=ge.offset||0,qe=Ue?a.swipe:(it=a.navigation)!==null&&it!==void 0?it:a.swipe,Q=!Ue&&!he()?a.easing.navigation:a.easing.swipe;let{direction:se}=ge;const Ae=(ee=ge.count)!==null&&ee!==void 0?ee:1;let Ye=on.ANIMATION,Se=qe*Ae;if(!se){const Qt=G==null?void 0:G.width,Xt=ge.duration||0,Et=Qt?qe/Qt*Math.abs(Ue):qe;Ae!==0?(Xt<Et?Se=Se/Et*Math.max(Xt,Et/5):Qt&&(Se=qe/Qt*(Qt-Math.abs(Ue))),se=te(Ue)>0?ka:Aa):Se=qe/2}let Lt=0;se===ka?Fe(te(1))?Lt=-Ae:(Ye=on.NONE,Se=qe):se===Aa&&(Fe(te(-1))?Lt=Ae:(Ye=on.NONE,Se=qe)),Se=Math.round(Se),w(()=>{Xe(0),C(on.NONE)},Se),I.current&&K({rect:I.current.getBoundingClientRect(),index:v.globalIndex}),C(Ye),O(lg,{type:"swipe",increment:Lt,duration:Se,easing:Q})});g.useEffect(()=>{var ge,it;!((ge=v.animation)===null||ge===void 0)&&ge.increment&&(!((it=v.animation)===null||it===void 0)&&it.duration)&&k(()=>T({type:"swipe",increment:0}),v.animation.duration)},[v.animation,T,k]);const Z=[A,Fe,(G==null?void 0:G.width)||0,a.swipe,()=>C(on.SWIPE),ge=>Xe(ge),(ge,it)=>Re({offset:ge,duration:it,count:1}),ge=>Re({offset:ge,count:0})],ue=[()=>{d&&C(on.PULL)},ge=>le(ge),ge=>ae(ge),ge=>ae(ge,!0)];YM(...Z,u,d,...ue),VM(E,...Z);const Te=Kt(()=>{s.focus&&q().querySelector(".".concat(bt(hh)," .").concat(bt(hg())))&&_e()});g.useEffect(Te,[Te]);const $e=Kt(()=>{var ge;(ge=i.view)===null||ge===void 0||ge.call(i,{index:v.currentIndex})});g.useEffect($e,[v.globalIndex,$e]),g.useEffect(()=>CE(P(ka,ge=>Re({direction:ka,...ge})),P(Aa,ge=>Re({direction:Aa,...ge})),P(lg,ge=>T(ge))),[P,Re,T]);const at=g.useMemo(()=>({prev:Pe,next:Ce,close:We,focus:_e,slideRect:G?yM(G,r.padding):{width:0,height:0},containerRect:G||{width:0,height:0},subscribeSensors:A,containerRef:M,setCarouselRef:H,toolbarWidth:h,setToolbarWidth:m}),[Pe,Ce,We,_e,A,G,M,H,h,m,r.padding]);return g.useImperativeHandle(s.ref,()=>({prev:Pe,next:Ce,close:We,focus:_e,getLightboxProps:$,getLightboxState:xe}),[Pe,Ce,We,_e,$,xe]),g.createElement("div",{ref:F,className:Wr(bt(hg()),bt(pE)),style:{...E===on.SWIPE?{[Nn("swipe_offset")]:"".concat(Math.round(_.current),"px")}:null,...E===on.PULL?{[Nn("pull_offset")]:"".concat(Math.round(N.current),"px"),[Nn("pull_opacity")]:"".concat(x.current)}:null,...s.touchAction!=="none"?{[Nn("controller_touch_action")]:s.touchAction}:null,...o.container},...s.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...S},G&&g.createElement(GE.Provider,{value:at},e,(n=l.controls)===null||n===void 0?void 0:n.call(l)))}const qM=ns(fE,jM);function wa(e){return go(dE,e)}function pg(e){return go("slide",e)}function KM({slide:e,offset:t}){const n=g.useRef(null),{currentIndex:r}=Wc(),{slideRect:a,close:s,focus:i}=Eo(),{render:o,carousel:{imageFit:l,imageProps:u},on:{click:d},controller:{closeOnBackdropClick:f},styles:{slide:p}}=bo(),{getOwnerDocument:h}=mh(),m=t!==0;g.useEffect(()=>{var E;m&&(!((E=n.current)===null||E===void 0)&&E.contains(h().activeElement))&&i()},[m,i,h]);const v=()=>{var E,C,_,N;let x=(E=o.slide)===null||E===void 0?void 0:E.call(o,{slide:e,offset:t,rect:a});return!x&&xE(e)&&(x=g.createElement(GM,{slide:e,offset:t,render:o,rect:a,imageFit:l,imageProps:u,onClick:m?void 0:()=>d==null?void 0:d({index:r})})),x?g.createElement(g.Fragment,null,(C=o.slideHeader)===null||C===void 0?void 0:C.call(o,{slide:e}),((_=o.slideContainer)!==null&&_!==void 0?_:({children:S})=>S)({slide:e,children:x}),(N=o.slideFooter)===null||N===void 0?void 0:N.call(o,{slide:e})):null},T=E=>{const C=n.current,_=E.target instanceof HTMLElement?E.target:void 0;f&&_&&C&&(_===C||Array.from(C.children).find(N=>N===_)&&_.classList.contains(bt(cM)))&&s()};return g.createElement("div",{ref:n,className:Wr(bt(pg()),!m&&bt(pg("current")),bt(pE)),...SM(m),onClick:T,style:p},v())}function QM(){const e=bo().styles.slide;return g.createElement("div",{className:bt("slide"),style:e})}function XM({carousel:e}){const{slides:t,currentIndex:n,globalIndex:r}=Wc(),{setCarouselRef:a}=Eo(),s=zl(e.spacing),i=zl(e.padding),o=_M(e,t,1),l=[];if(AE(t))for(let u=n-o;u<=n+o;u+=1){const d=DE(t,u),f=r-n+u,p=e.finite&&(u<0||u>t.length-1);l.push(p?{key:f}:{key:["".concat(f),EM(d)].filter(Boolean).join("|"),offset:u-n,slide:d})}return g.createElement("div",{ref:a,className:Wr(bt(wa()),l.length>0&&bt(wa("with_slides"))),style:{["".concat(Nn(wa("slides_count")))]:l.length,["".concat(Nn(wa("spacing_px")))]:s.pixel||0,["".concat(Nn(wa("spacing_percent")))]:s.percent||0,["".concat(Nn(wa("padding_px")))]:i.pixel||0,["".concat(Nn(wa("padding_percent")))]:i.percent||0}},l.map(({key:u,slide:d,offset:f})=>d?g.createElement(KM,{key:u,slide:d,offset:f}):g.createElement(QM,{key:u})))}const JM=ns(dE,XM);function $E(){const{carousel:e}=bo(),{slides:t,currentIndex:n}=Wc(),r=t.length===0||e.finite&&n===0,a=t.length===0||e.finite&&n===t.length-1;return{prevDisabled:r,nextDisabled:a}}function ZM(e){var t;const n=gh(),{publish:r}=$c(),{animation:a}=bo(),{prevDisabled:s,nextDisabled:i}=$E(),o=((t=a.navigation)!==null&&t!==void 0?t:a.swipe)/2,l=fg(()=>r(ka),o),u=fg(()=>r(Aa),o),d=Kt(f=>{switch(f.key){case dM:r(Fs);break;case fM:(n?i:s)||(n?u:l)();break;case hM:(n?s:i)||(n?l:u)();break}});g.useEffect(()=>e(_E,d),[e,d])}function mg({label:e,icon:t,renderIcon:n,action:r,onClick:a,disabled:s,style:i}){return g.createElement(BE,{label:e,icon:t,renderIcon:n,className:bt("navigation_".concat(r)),disabled:s,onClick:a,style:i,...UM(Eo().focus,s)})}function e6({render:{buttonPrev:e,buttonNext:t,iconPrev:n,iconNext:r},styles:a}){const{prev:s,next:i,subscribeSensors:o}=Eo(),{prevDisabled:l,nextDisabled:u}=$E();return ZM(o),g.createElement(g.Fragment,null,e?e():g.createElement(mg,{label:"Previous",action:ka,icon:LM,renderIcon:n,style:a.navigationPrev,disabled:l,onClick:s}),t?t():g.createElement(mg,{label:"Next",action:Aa,icon:RM,renderIcon:r,style:a.navigationNext,disabled:u,onClick:i}))}const t6=ns(rM,e6),gg=bt(lM),n6=bt(mE);function r6(e){return"style"in e}function bg(e,t,n){const r=window.getComputedStyle(e),a=n?"padding-left":"padding-right",s=n?r.paddingLeft:r.paddingRight,i=e.style.getPropertyValue(a);return e.style.setProperty(a,"".concat((Gc(s)||0)+t,"px")),()=>{i?e.style.setProperty(a,i):e.style.removeProperty(a)}}function a6({noScroll:{disabled:e},children:t}){const n=gh(),{getOwnerDocument:r,getOwnerWindow:a}=mh();return g.useEffect(()=>{if(e)return()=>{};const s=[],i=a(),{body:o,documentElement:l}=r(),u=Math.round(i.innerWidth-l.clientWidth);if(u>0){s.push(bg(o,u,n));const d=o.getElementsByTagName("*");for(let f=0;f<d.length;f+=1){const p=d[f];r6(p)&&i.getComputedStyle(p).getPropertyValue("position")==="fixed"&&!p.classList.contains(n6)&&s.push(bg(p,u,n))}}return o.classList.add(gg),()=>{o.classList.remove(gg),s.forEach(d=>d())}},[n,e,r,a]),g.createElement(g.Fragment,null,t)}const s6=ns(aM,a6);function vg(e){return go(hh,e)}function yg(e,t,n){const r=e.getAttribute(t);return e.setAttribute(t,n),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function i6({children:e,animation:t,styles:n,className:r,on:a,portal:s,close:i}){const[o,l]=g.useState(!1),[u,d]=g.useState(!1),f=g.useRef([]),p=g.useRef(null),{setTimeout:h}=Yc(),{subscribe:m}=$c(),T=UE()?0:t.fade;g.useEffect(()=>(l(!0),()=>{l(!1),d(!1)}),[]);const E=Kt(()=>{f.current.forEach(x=>x()),f.current=[]}),C=Kt(()=>{var x;d(!1),E(),(x=a.exiting)===null||x===void 0||x.call(a),h(()=>{var S;(S=a.exited)===null||S===void 0||S.call(a),i()},T)});g.useEffect(()=>m(Fs,C),[m,C]);const _=Kt(x=>{var S,A,P;x.scrollTop,d(!0),(S=a.entering)===null||S===void 0||S.call(a);const O=(P=(A=x.parentNode)===null||A===void 0?void 0:A.children)!==null&&P!==void 0?P:[];for(let k=0;k<O.length;k+=1){const w=O[k];["TEMPLATE","SCRIPT","STYLE"].indexOf(w.tagName)===-1&&w!==x&&(f.current.push(yg(w,"inert","")),f.current.push(yg(w,"aria-hidden","true")))}f.current.push(()=>{var k,w;(w=(k=p.current)===null||k===void 0?void 0:k.focus)===null||w===void 0||w.call(k)}),h(()=>{var k;(k=a.entered)===null||k===void 0||k.call(a)},T)}),N=g.useCallback(x=>{x?_(x):E()},[_,E]);return o?Yi.createPortal(g.createElement($M,{ref:N,className:Wr(r,bt(vg()),bt(mE),u&&bt(vg("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==rf.animation.fade?{[Nn("fade_animation_duration")]:"".concat(T,"ms")}:null,...t.easing.fade!==rf.animation.easing.fade?{[Nn("fade_animation_timing_function")]:t.easing.fade}:null,...n.root},onFocus:x=>{p.current||(p.current=x.relatedTarget)}},e),s.root||document.body):null}const o6=ns(hh,i6);function l6({children:e}){return g.createElement(g.Fragment,null,e)}const c6=ns(sM,l6);function u6(e){return go(hE,e)}function d6({toolbar:{buttons:e},render:{buttonClose:t,iconClose:n},styles:r}){const{close:a,setToolbarWidth:s}=Eo(),{setContainerRef:i,containerRect:o}=HE();yo(()=>{s(o==null?void 0:o.width)},[s,o==null?void 0:o.width]);const l=()=>t?t():g.createElement(BE,{key:Fs,label:"Close",icon:PM,renderIcon:n,onClick:a});return g.createElement("div",{ref:i,style:r.toolbar,className:bt(u6())},e==null?void 0:e.map(u=>u===Fs?l():u))}const f6=ns(hE,d6);function WE(e,t){var n;return g.createElement(e.module.component,{key:e.module.name,...t},(n=e.children)===null||n===void 0?void 0:n.map(r=>WE(r,t)))}function h6(e,t={}){const{easing:n,...r}=e,{easing:a,...s}=t;return{easing:{...n,...a},...r,...s}}function YE({carousel:e,animation:t,render:n,toolbar:r,controller:a,noScroll:s,on:i,plugins:o,slides:l,index:u,...d}){const{animation:f,carousel:p,render:h,toolbar:m,controller:v,noScroll:T,on:E,slides:C,index:_,plugins:N,...x}=rf,{config:S,augmentation:A}=wM([Zt(o6,[Zt(s6,[Zt(qM,[Zt(JM),Zt(f6),Zt(t6)])])])],o||N),P=A({animation:h6(f,t),carousel:{...p,...e},render:{...h,...n},toolbar:{...m,...r},controller:{...v,...a},noScroll:{...T,...s},on:{...E,...i},...x,...d});return P.open?g.createElement(xM,{...P},g.createElement(DM,{slides:l||C,index:Gc(u||_)},g.createElement(IM,null,g.createElement(NM,null,WE(Zt(c6,S),P))))):null}const p6=async(e=1,t=10)=>{const n=await we("news",{get:{page:e,page_size:t},showSuccessNotification:!1});if(!n.success)throw new Error(n.errors||"Ошибка загрузки новостей");return n.data},m6=async e=>{const t=await we("news/".concat(e),{showSuccessNotification:!1});if(!t.success)throw new Error(t.errors||"Ошибка загрузки новости");return t.data},g6=async(e,t=1,n=10)=>{const r=await we("news",{get:{search:e,page:t,page_size:n},showSuccessNotification:!1});if(!r.success)throw new Error(r.errors||"Ошибка поиска новостей");return r.data},b6=async(e,t=1,n=50)=>{const r=await we("news/".concat(e,"/comments/"),{get:{page:t,page_size:n},showSuccessNotification:!1});if(!r.success)throw new Error(r.errors||"Ошибка загрузки комментариев");return r.data},v6=async(e,t)=>{const n=await Je("news/".concat(e,"/comments/create/"),{body:t,auth:!0,success:{type:"success",title:"Комментарий добавлен",message:"Ваш комментарий успешно опубликован"}});if(!n.success)throw new Error(n.errors||"Ошибка добавления комментария");return n.data},y6=async(e,t,n)=>{const r=await sr("news/".concat(e,"/comments/").concat(t,"/"),{body:{content:n},auth:!0,success:{type:"success",title:"Комментарий обновлен",message:"Изменения сохранены"}});if(!r.success)throw new Error(r.errors||"Ошибка обновления комментария");return r.data},E6=async(e,t)=>{const n=await xn("news/".concat(e,"/comments/").concat(t,"/delete/"),{auth:!0,success:{type:"success",title:"Комментарий удален",message:"Комментарий успешно удален"}});if(!n.success)throw new Error(n.errors||"Ошибка удаления комментария")};class _6{constructor(){this.news=[],this.currentNews=null,this.totalNews=0,this.currentPage=1,this.hasMoreNews=!0,this.comments=[],this.totalComments=0,this.commentsPage=1,this.hasMoreComments=!0,this.loading=!1,this.commentsLoading=!1,this.searchQuery="",this.searchResults=[],this.searchLoading=!1,this.error=null,this.commentsError=null,this.setLoading=t=>{this.loading=t},this.setCommentsLoading=t=>{this.commentsLoading=t},this.setError=t=>{this.error=t},this.setCommentsError=t=>{this.commentsError=t},this.setSearchQuery=t=>{this.searchQuery=t},this.clearSearch=()=>{this.searchQuery="",this.searchResults=[]},this.loadNews=async(t=1,n=10)=>{this.setLoading(!0),this.setError(null);try{const r=await p6(t,n);Be(()=>{t===1?this.news=r.results:this.news=[...this.news,...r.results],this.totalNews=r.count,this.currentPage=t,this.hasMoreNews=!!r.next})}catch(r){Be(()=>{this.setError(r instanceof Error?r.message:"Ошибка загрузки новостей")})}finally{Be(()=>{this.setLoading(!1)})}},this.loadMoreNews=async()=>{!this.hasMoreNews||this.loading||await this.loadNews(this.currentPage+1)},this.loadNewsDetail=async t=>{this.setLoading(!0),this.setError(null);try{const n=await m6(t);Be(()=>{this.currentNews=n})}catch(n){Be(()=>{this.setError(n instanceof Error?n.message:"Ошибка загрузки новости")})}finally{Be(()=>{this.setLoading(!1)})}},this.searchNewsAction=async(t,n=1)=>{this.searchLoading=!0,this.setError(null),this.setSearchQuery(t);try{const r=await g6(t,n);Be(()=>{n===1?this.searchResults=r.results:this.searchResults=[...this.searchResults,...r.results]})}catch(r){Be(()=>{this.setError(r instanceof Error?r.message:"Ошибка поиска")})}finally{Be(()=>{this.searchLoading=!1})}},this.loadComments=async(t,n=1,r=50)=>{this.setCommentsLoading(!0),this.setCommentsError(null);try{const a=await b6(t,n,r);Be(()=>{n===1?this.comments=a.results:this.comments=[...this.comments,...a.results],this.updateTotalComments(),this.commentsPage=n,this.hasMoreComments=!!a.next})}catch(a){Be(()=>{this.setCommentsError(a instanceof Error?a.message:"Ошибка загрузки комментариев")})}finally{Be(()=>{this.setCommentsLoading(!1)})}},this.loadMoreComments=async t=>{!this.hasMoreComments||this.commentsLoading||await this.loadComments(t,this.commentsPage+1)},this.addComment=async(t,n)=>{this.setCommentsError(null);try{const r=await v6(t,n);return Be(()=>{n.parent?this.comments=this.addReplyToComment(this.comments,n.parent,r):this.comments.unshift(r),this.updateTotalComments(),this.currentNews&&this.currentNews.id===t&&(this.currentNews.commentsCount+=1)}),r}catch(r){throw Be(()=>{this.setCommentsError(r instanceof Error?r.message:"Ошибка добавления комментария")}),r}},this.updateComment=async(t,n,r)=>{try{const a=await y6(t,n,r);return Be(()=>{const s=this.comments.findIndex(i=>i.id===n);s!==-1?this.comments[s]=a:this.comments=this.comments.map(i=>{if(i.replies){const o=i.replies.findIndex(l=>l.id===n);if(o!==-1)return{...i,replies:i.replies.map((l,u)=>u===o?a:l)}}return i})}),a}catch(a){throw Be(()=>{this.setCommentsError(a instanceof Error?a.message:"Ошибка обновления комментария")}),a}},this.deleteComment=async(t,n)=>{try{await E6(t,n),Be(()=>{this.comments=this.removeCommentFromList(this.comments,n),this.updateTotalComments(),this.currentNews&&this.currentNews.id===t&&(this.currentNews.commentsCount-=1)})}catch(r){throw Be(()=>{this.setCommentsError(r instanceof Error?r.message:"Ошибка удаления комментария")}),r}},this.reset=()=>{this.news=[],this.currentNews=null,this.totalNews=0,this.currentPage=1,this.hasMoreNews=!0,this.comments=[],this.totalComments=0,this.commentsPage=1,this.hasMoreComments=!0,this.loading=!1,this.commentsLoading=!1,this.searchQuery="",this.searchResults=[],this.searchLoading=!1,this.error=null,this.commentsError=null},this.addReplyToComment=(t,n,r)=>t.map(a=>a.id===n?{...a,replies:[...a.replies||[],r],repliesCount:a.repliesCount+1}:a.replies&&a.replies.length>0?{...a,replies:this.addReplyToComment(a.replies,n,r)}:a),this.removeCommentFromList=(t,n)=>t.filter(r=>r.id!==n).map(r=>r.replies&&r.replies.length>0?{...r,replies:this.removeCommentFromList(r.replies,n)}:r),this.countAllComments=t=>t.reduce((n,r)=>{let a=1;return r.replies&&r.replies.length>0&&(a+=this.countAllComments(r.replies)),n+a},0),this.updateTotalComments=()=>{this.totalComments=this.countAllComments(this.comments)},gb(this,{news:ot,currentNews:ot,totalNews:ot,currentPage:ot,hasMoreNews:ot,comments:ot,totalComments:ot,commentsPage:ot,hasMoreComments:ot,loading:ot,commentsLoading:ot,searchQuery:ot,searchResults:ot,searchLoading:ot,error:ot,commentsError:ot,setLoading:Ht,setCommentsLoading:Ht,setError:Ht,setCommentsError:Ht,setSearchQuery:Ht,clearSearch:Ht,loadNews:Ht,loadMoreNews:Ht,loadNewsDetail:Ht,searchNewsAction:Ht,loadComments:Ht,loadMoreComments:Ht,addComment:Ht,updateComment:Ht,deleteComment:Ht,reset:Ht})}}const Ve=new _6,zE=je(({newsId:e,parentId:t,onCancel:n,onSuccess:r})=>{const[a,s]=g.useState(""),[i,o]=g.useState(!1),[l,u]=J("comment-form"),d=async h=>{if(h.preventDefault(),!(!a.trim()||i)){o(!0);try{await Ve.addComment(e,{content:a.trim(),parent:t}),s(""),r==null||r(),t&&n&&n()}catch(m){console.error("Ошибка добавления комментария:",m)}finally{o(!1)}}},f=()=>{s(""),n==null||n()},p=h=>{h.ctrlKey&&h.key==="Enter"&&(h.preventDefault(),a.trim()&&!i&&d(h))};return y("form",{onSubmit:d,className:l(),children:[c("div",{className:u("field"),children:c("textarea",{value:a,onChange:h=>s(h.target.value),onKeyDown:p,placeholder:t?"Написать ответ...":"Написать комментарий...",rows:4,className:u("textarea"),disabled:i})}),y("div",{className:u("actions"),children:[c("button",{type:"submit",disabled:!a.trim()||i,className:u("submit-button"),children:i?"Отправка...":t?"Ответить":"Комментировать"}),n&&c("button",{type:"button",onClick:f,disabled:i,className:u("cancel-button"),children:"Отмена"})]}),c("div",{className:u("hint"),children:c("small",{children:"Ctrl+Enter для быстрой отправки"})})]})});const Bs=je(({isOpen:e,onClose:t,title:n,themeBtn:r="blue-light",handleBtn:a,textBtn:s,text:i})=>{const[o,l]=J("modal-confirm"),u=g.useRef(null),d=g.useRef(null),f=m=>{m.key==="Escape"&&t()},p=m=>{if(m.key!=="Tab"||!u.current)return;const v=u.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(v.length===0)return;const T=v[0],E=v[v.length-1];m.shiftKey&&document.activeElement===T?(m.preventDefault(),E.focus()):!m.shiftKey&&document.activeElement===E&&(m.preventDefault(),T.focus())},h=()=>{a(),t()};return g.useEffect(()=>(e&&(document.addEventListener("keyup",f),document.addEventListener("keydown",p),document.body.style.overflow="hidden",setTimeout(()=>{if(u.current){const m=u.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');m.length>0?m[0].focus():d.current&&d.current.focus()}},50)),()=>{document.removeEventListener("keyup",f),document.removeEventListener("keydown",p),document.body.style.overflow=""}),[e]),e?y("section",{className:o({isOpen:e}),children:[y("div",{className:l("window"),ref:u,children:[n&&c("div",{className:l("header"),children:c("h2",{className:l("title"),children:n})}),y("div",{className:l("content"),children:[c("p",{className:l("text"),children:i}),y("div",{className:l("btns-wrapper"),children:[c(V,{theme:"blue-light",className:l("btn"),onClick:t,type:"button",children:"Отмена"}),c(V,{theme:r,className:l("btn"),onClick:h,type:"button",children:s})]})]}),c(V,{theme:"blue-light",className:l("close"),onClick:t,refInner:d,children:c(me,{icon:"cross"})})]}),c("button",{"aria-label":"Закрыть окно",type:"button",className:l("base"),onClick:t})]}):null}),T6=e=>new Date(e).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),VE=je(({comment:e,newsId:t,level:n=0,onReply:r,onEdit:a,onDelete:s})=>{var k,w,D;const[i,o]=g.useState(!1),[l,u]=g.useState(!1),[d,f]=g.useState(e.content),[p,h]=g.useState(!1),[m,v]=g.useState(!1),[T,E]=g.useState(!1),[C,_]=J("comment-item"),N=async()=>{if(!(!d.trim()||p)){h(!0);try{await(a==null?void 0:a(e.id,d.trim())),u(!1)}catch(M){console.error("Ошибка редактирования:",M)}finally{h(!1)}}},x=async()=>{try{await(s==null?void 0:s(e.id))}catch(M){console.error("Ошибка удаления:",M)}},S=M=>{M.ctrlKey&&M.key==="Enter"&&(M.preventDefault(),d.trim()&&!p&&N())},{canEdit:A}=e,{canDelete:P}=e,O=e.replies&&e.replies.length>0;return y("div",{className:C({level:n>0?"reply":void 0}),children:[y("div",{className:_("content"),children:[y("div",{className:_("header"),children:[y("div",{className:_("author"),children:[(k=e.author)==null?void 0:k.firstName," ",(w=e.author)==null?void 0:w.lastName]}),c("div",{className:_("date"),children:T6(e.createdAt)})]}),l?c("div",{className:_("edit-form"),children:y("div",{className:_("edit-form-wrapper"),children:[c("textarea",{value:d,onChange:M=>f(M.target.value),rows:3,disabled:p,className:_("edit-textarea"),placeholder:"Введите текст комментария...",onKeyDown:S}),y("div",{className:_("edit-actions"),children:[c("button",{onClick:N,disabled:p||!d.trim(),type:"button",className:_("edit-save-button"),children:p?"Сохранение...":"Сохранить"}),c("button",{onClick:()=>{u(!1),f(e.content)},disabled:p,type:"button",className:_("edit-cancel-button"),children:"Отмена"})]})]})}):c("div",{className:_("text"),children:e.content}),y("div",{className:_("actions"),children:[n<3&&c("button",{onClick:()=>o(!i),className:_("action-button"),type:"button",children:i?"Отмена":"Ответить"}),A&&!l&&c("button",{onClick:()=>u(!0),className:_("action-button"),type:"button",children:"Редактировать"}),P&&c("button",{onClick:x,className:_("action-button",{delete:!0}),type:"button",children:"Удалить"})]}),i&&c("div",{className:_("reply-form"),children:c(zE,{newsId:t,parentId:e.id,onCancel:()=>o(!1),onSuccess:()=>o(!1)})})]}),O&&c("div",{className:_("replies"),children:(D=e.replies)==null?void 0:D.map(M=>c(VE,{comment:M,newsId:t,level:n+1,onReply:r,onEdit:a,onDelete:s},M.id))}),c(Bs,{title:"Удалить комментарий?",isOpen:m,onClose:()=>v(!1),handleBtn:x,textBtn:"Удалить комментарий",text:"Вы уверены, что хотите удалить этот комментарий?",themeBtn:"red"}),c(Bs,{title:"Редактировать комментарий?",isOpen:T,onClose:()=>E(!1),handleBtn:N,textBtn:"Редактировать комментарий",text:"Вы уверены, что хотите изменить комментарий?",themeBtn:"blue"})]})});const S6=je(({newsId:e})=>{const[t,n]=g.useState(!1),[r,a]=J("news-comments"),s=async()=>{n(!1)},i=async(u,d)=>{try{await Ve.addComment(e,{content:d,parent:u})}catch(f){throw console.error("Ошибка добавления ответа:",f),f}},o=async(u,d)=>{try{await Ve.updateComment(e,u,d)}catch(f){throw console.error("Ошибка редактирования комментария:",f),f}},l=async u=>{try{await Ve.deleteComment(e,u)}catch(d){throw console.error("Ошибка удаления комментария:",d),d}};return y("section",{className:r(),children:[y("div",{className:a("header"),children:[y("h2",{className:a("title"),children:["Комментарии (",Ve.totalComments,")"]}),c("button",{onClick:()=>n(!t),className:a("add-button"),type:"button",children:t?"Отмена":"Добавить комментарий"})]}),t&&c("div",{className:a("form-container"),children:c(zE,{newsId:e,onCancel:()=>n(!1),onSuccess:s})}),c("div",{className:a("list"),children:Ve.commentsLoading&&Ve.comments.length===0?c("div",{className:a("loading"),children:"Загрузка комментариев..."}):Ve.comments.length===0?c("div",{className:a("empty"),children:"Комментариев пока нет. Будьте первым!"}):y(ft,{children:[Ve.comments.map(u=>c(VE,{comment:u,newsId:e,onReply:i,onEdit:o,onDelete:l},u.id)),Ve.hasMoreComments&&c("div",{className:a("load-more"),children:c("button",{onClick:()=>Ve.loadMoreComments(e),disabled:Ve.commentsLoading,className:a("load-more-button"),type:"button",children:Ve.commentsLoading?"Загрузка...":"Загрузить еще"})})]})}),Ve.commentsError&&y("div",{className:a("error"),children:[y("p",{children:["Ошибка: ",Ve.commentsError]}),c("button",{onClick:()=>Ve.loadComments(e,1),className:a("retry-button"),type:"button",children:"Попробовать снова"})]})]})});const w6=je(()=>{var h,m;const{id:e}=ja(),[t,n]=J("news-detail-page"),[r,a]=g.useState(!1),[s,i]=g.useState(0);g.useEffect(()=>{if(yt.setPage("isNewsDetail"),yt.setHeader("white"),yt.setFull(!1),e){const v=Number(e);Ve.loadNewsDetail(v),Ve.loadComments(v)}return()=>{yt.setPage("isMainPage")}},[e]);const o=v=>new Date(v).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),l=v=>{i(v),a(!0)},u=(v,T)=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),i(T),a(!0))};if(Ve.loading&&!Ve.currentNews)return c("div",{className:t(),children:c("div",{className:n("container"),children:c("div",{className:n("loading"),children:"Загрузка новости..."})})});if(Ve.error&&!Ve.currentNews)return c("div",{className:t(),children:c("div",{className:n("container"),children:y("div",{className:n("error"),children:[y("p",{children:["Ошибка: ",Ve.error]}),c("button",{type:"button",onClick:()=>e&&Ve.loadNewsDetail(Number(e)),className:n("retry-button"),children:"Попробовать снова"})]})})});if(!Ve.currentNews&&!Ve.loading)return c("div",{className:t(),children:c("div",{className:n("container"),children:y("div",{className:n("not-found"),children:[c("h1",{children:"Новость не найдена"}),c("p",{children:"Запрашиваемая новость не существует или была удалена."}),c(Ze,{to:"/news",className:n("back-link"),children:"← Вернуться к новостям"})]})})});const d=Ve.currentNews,f=[];(d.image||d.featuredImage)&&f.push(d.image||d.featuredImage),d.images&&d.images.length>0&&f.push(...d.images);const p=f.map(v=>({src:v}));return c("div",{className:t(),children:y("div",{className:n("container"),children:[c("div",{className:n("navigation"),children:c(Ze,{to:"/news",className:n("back-link"),children:"← Назад к новостям"})}),y("article",{className:n("article"),children:[y("header",{className:n("header"),children:[c("h1",{className:n("title"),children:d.title}),y("div",{className:n("meta"),children:[y("span",{className:n("author"),children:[(h=d.author)==null?void 0:h.firstName," ",(m=d.author)==null?void 0:m.lastName]}),c("span",{className:n("date"),children:o(d.createdAt)}),c("span",{className:n("comments-count"),children:_t(d.commentsCount,["комментарий","комментария","комментариев"])})]})]}),(d.image||d.featuredImage)&&c("div",{className:n("image"),children:c("button",{type:"button",className:n("image-button"),onClick:()=>l(0),onKeyDown:v=>u(v,0),"aria-label":"Открыть изображение в полном размере",children:c("img",{src:d.image||d.featuredImage,alt:d.title})})}),d.images&&d.images.length>0&&c("div",{className:n("images-gallery"),children:d.images.map((v,T)=>{const E=d.image||d.featuredImage?T+1:T;return c("div",{className:n("gallery-item"),children:c("button",{type:"button",className:n("gallery-button"),onClick:()=>l(E),onKeyDown:C=>u(C,E),"aria-label":"Открыть изображение в полном размере",children:c("img",{src:v,alt:"".concat(d.title," - дополнительное изображение")})})},v)})}),c("div",{className:n("content"),children:d.content?c("div",{className:n("content-markdown"),children:c(dI,{remarkPlugins:[nM],rehypePlugins:[FL,jL],children:d.content})}):d.excerpt?c("div",{className:n("content-text"),children:d.excerpt}):c("div",{className:n("content-text"),children:"Контент недоступен"})}),d.updatedAt!==d.createdAt&&c("div",{className:n("updated"),children:y("small",{children:["Обновлено: ",o(d.updatedAt)]})})]}),e&&c(S6,{newsId:Number(e)}),c(YE,{open:r,close:()=>a(!1),slides:p,index:s,carousel:{finite:!0,padding:"16px"},controller:{closeOnBackdropClick:!0},animation:{fade:300},styles:{container:{backgroundColor:"rgba(0, 0, 0, .8)"}}})]})})});const C6=je(()=>{const[e,t]=g.useState(""),[n,r]=g.useState(!1),[a,s]=J("news-page");g.useEffect(()=>(yt.setPage("isNews"),yt.setHeader("white"),yt.setFull(!1),Ve.news.length===0&&Ve.loadNews(),()=>{yt.setPage("isMainPage")}),[]);const i=async d=>{if(d.preventDefault(),!(!e.trim()||n)){r(!0);try{await Ve.searchNewsAction(e.trim())}finally{r(!1)}}},o=()=>{t(""),Ve.clearSearch()},l=d=>new Date(d).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),u=Ve.searchQuery?Ve.searchResults:Ve.news;return c("div",{className:a(),children:y("div",{className:s("container"),children:[y("header",{className:s("header"),children:[c("h1",{children:"Новости проекта"}),c("p",{children:"Последние обновления и важные события"})]}),c("div",{className:s("search"),children:y("form",{onSubmit:i,className:s("search-form"),children:[c("input",{type:"text",value:e,onChange:d=>t(d.target.value),placeholder:"Поиск по новостям...",className:s("search-input"),disabled:n}),c("button",{type:"submit",disabled:!e.trim()||n,className:s("search-button"),children:n?"Поиск...":"Найти"}),Ve.searchQuery&&c("button",{type:"button",onClick:o,className:s("search-clear"),children:"Очистить"})]})}),Ve.searchQuery&&c("div",{className:s("search-results"),children:y("p",{children:["Результаты поиска по запросу: ",y("strong",{children:["“",Ve.searchQuery,"”"]})]})}),c("div",{className:s("content"),children:Ve.loading&&u.length===0?c("div",{className:s("loading"),children:"Загрузка новостей..."}):u.length===0?c("div",{className:s("empty"),children:Ve.searchQuery?"По вашему запросу ничего не найдено":"Новостей пока нет"}):y(ft,{children:[c("div",{className:s("news-list"),children:u.map(d=>{var f,p;return y("article",{className:s("news-card"),children:[(d.image||d.featuredImage)&&c("div",{className:s("news-card-image"),children:c(Ze,{to:"/news/".concat(d.id),children:c("img",{src:d.image||d.featuredImage,alt:d.title})})}),y("div",{className:s("news-card-content"),children:[c("h2",{className:s("news-card-title"),children:c(Ze,{to:"/news/".concat(d.id),children:d.title})}),d.excerpt&&c("p",{className:s("news-card-excerpt"),children:d.excerpt}),y("div",{className:s("news-card-meta"),children:[y("div",{className:s("news-card-author"),children:[(f=d.author)==null?void 0:f.firstName," ",(p=d.author)==null?void 0:p.lastName]}),y("div",{className:s("news-card-info"),children:[c("span",{className:s("news-card-date"),children:l(d.createdAt)}),c("span",{className:s("news-card-comments"),children:_t(d.commentsCount,["комментарий","комментария","комментариев"])})]})]})]})]},d.id)})}),!Ve.searchQuery&&Ve.hasMoreNews&&c("div",{className:s("load-more"),children:c("button",{onClick:()=>Ve.loadMoreNews(),disabled:Ve.loading,className:s("load-more-button"),type:"button",children:Ve.loading?"Загрузка...":"Загрузить еще"})})]})}),Ve.error&&y("div",{className:s("error"),children:[y("p",{children:["Ошибка: ",Ve.error]}),c("button",{onClick:()=>Ve.loadNews(1),className:s("retry-button"),type:"button",children:"Попробовать снова"})]})]})})});const bh=e=>{const{className:t,img:n,children:r,category:a,show:s=!0,blacked:i,withoutBlack:o,withBlack:l}=e,[u,d]=J("gradient",t);return y("div",{className:u(),children:[c("img",{src:n.src,alt:n.alt,className:d("img",{blacked:i})}),c("div",{className:d("color",{category:a,show:s,blacked:i,withoutBlack:o,withBlack:l})}),c("div",{className:d("top-info"),children:r})]})};const N6=e=>{const{className:t,category:n}=e,[r,a]=J("card-category",t);return c("section",{className:r(),children:c(Ze,{to:"/categories/".concat(n.nameEn),className:a("gradient"),children:c(bh,{img:{src:n.image,alt:n.name},category:n.nameEn,withoutBlack:!0,children:y("div",{className:a("description"),children:[c(De,{className:a("title"),theme:"white",tag:"h2",children:n.name}),c("p",{className:a("goals"),children:_t(n.goalCount,["цель","цели","целей"])})]})})})})};const jE=({categories:e,tag:t,title:n})=>{const[r,a]=J("categories");return y("main",{className:r(),children:[c(De,{className:a("title",{tag:t}),tag:t,children:n}),c("section",{className:a("list"),children:!!e.length&&e.map(s=>c(N6,{category:s,className:a("item")},s.id))})]})},qE=({tag:e="h1",title:t="Категории"})=>{const[n,r]=g.useState([]),[a,s]=g.useState(!0);return g.useEffect(()=>{(async()=>{s(!0);const i=await vc();i.success&&r(i.data),s(!1)})()},[]),c(ht,{isLoading:a,children:c(jE,{categories:n,tag:e,title:t})})},x6=({page:e})=>{const{setPage:t,setHeader:n,setFull:r}=yt;return g.useEffect(()=>{t(e),n("white"),r(!1)},[]),c(qE,{})};const Us=e=>{const{className:t,goal:n,horizontal:r,isList:a,onClickAdd:s,onClickDelete:i,onClickMark:o}=e,[l,u]=J("card",t),{isAuth:d}=cn,{setIsOpen:f,setWindow:p}=bn,h=()=>{if(!d){f(!0),p("login");return}s()};return y("section",{className:l({horizontal:r}),children:[c(Ze,{to:"/".concat(a?"list":"goals","/").concat(n.code),className:u("gradient"),children:c(bh,{img:{src:n.image,alt:n.title},category:n.category.nameEn,show:n.completedByUser,children:y("div",{className:u("img-tags"),children:[n.addedByUser&&!n.completedByUser&&c(Cn,{icon:"watch",theme:"light"}),n.completedByUser&&c(Cn,{icon:"done",theme:"light",classNameIcon:u("img-tag-icon-done")}),c(Cn,{text:n.category.name,category:n.category.nameEn,className:u("img-tag-category")})]})})}),y("div",{className:u("info"),children:[y(Ze,{to:"/".concat(a?"list":"goals","/").concat(n.code),className:u("info-link"),children:[c(De,{tag:"h3",className:u("title"),children:n.title}),c("p",{className:u("text"),children:n.shortDescription})]}),c(tn,{}),y("div",{className:u("tags-wrapper"),children:[c(Nc,{complexity:n.complexity,added:n.totalAdded,estimatedTime:n.estimatedTime,theme:"integrate",className:u("tags",{added:n.addedByUser}),showSeparator:!0}),a&&c(Qr,{done:n.userCompletedGoals,all:n.goalsCount}),y("div",{className:u("buttons"),children:[!n.addedByUser&&c(V,{theme:"blue",icon:"plus",size:"small",onClick:h}),n.addedByUser&&c(V,{theme:"blue-light",icon:"trash",size:"small",onClick:i}),(n.addedByUser||n.completedByUser)&&!a&&c(V,{theme:n.completedByUser?"green":"blue-light",size:"small",onClick:o,children:c(me,{icon:"done",width:"16px",height:"16px",className:u("btn-done",{active:n.completedByUser})})})]})]})]})]})},KE=6048e5,k6=864e5,zc=6e4,Vc=36e5,A6=1e3,Eg=Symbol.for("constructDateFrom");function vt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Eg in e?e[Eg](t):e instanceof Date?new e.constructor(t):new Date(t)}function ke(e,t){return vt(t||e,e)}function or(e,t,n){const r=ke(e,n==null?void 0:n.in);return isNaN(t)?vt((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function cr(e,t,n){const r=ke(e,n==null?void 0:n.in);if(isNaN(t))return vt((n==null?void 0:n.in)||e,NaN);if(!t)return r;const a=r.getDate(),s=vt((n==null?void 0:n.in)||e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function QE(e,t,n){return vt((n==null?void 0:n.in)||e,+ke(e)+t)}function D6(e,t,n){return QE(e,t*Vc,n)}let I6={};function rs(){return I6}function ur(e,t){var o,l,u,d,f,p,h,m;const n=rs(),r=(m=(h=(d=(u=t==null?void 0:t.weekStartsOn)!=null?u:(l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)!=null?d:n.weekStartsOn)!=null?h:(p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)!=null?m:0,a=ke(e,t==null?void 0:t.in),s=a.getDay(),i=(s<r?7:0)+s-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Hs(e,t){return ur(e,{...t,weekStartsOn:1})}function XE(e,t){const n=ke(e,t==null?void 0:t.in),r=n.getFullYear(),a=vt(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Hs(a),i=vt(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Hs(i);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Vl(e){const t=ke(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Rr(e,...t){const n=vt.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Wa(e,t){const n=ke(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Gs(e,t,n){const[r,a]=Rr(n==null?void 0:n.in,e,t),s=Wa(r),i=Wa(a),o=+s-Vl(s),l=+i-Vl(i);return Math.round((o-l)/k6)}function O6(e,t){const n=XE(e,t),r=vt((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Hs(r)}function sf(e,t,n){const r=ke(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*zc),r}function vh(e,t,n){return cr(e,t*3,n)}function P6(e,t,n){return QE(e,t*1e3,n)}function jl(e,t,n){return or(e,t*7,n)}function Yr(e,t,n){return cr(e,t*12,n)}function _g(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=vt.bind(null,a));const s=ke(a,r);(!n||n<s||isNaN(+s))&&(n=s)}),vt(r,n||NaN)}function Tg(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=vt.bind(null,a));const s=ke(a,r);(!n||n>s||isNaN(+s))&&(n=s)}),vt(r,n||NaN)}function L6(e,t,n){const[r,a]=Rr(n==null?void 0:n.in,e,t);return+Wa(r)==+Wa(a)}function zr(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ql(e){return!(!zr(e)&&typeof e!="number"||isNaN(+ke(e)))}function Kl(e,t,n){const[r,a]=Rr(n==null?void 0:n.in,e,t),s=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return s*12+i}function La(e,t){const n=ke(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function Ql(e,t,n){const[r,a]=Rr(n==null?void 0:n.in,e,t),s=r.getFullYear()-a.getFullYear(),i=La(r)-La(a);return s*4+i}function Xl(e,t,n){const[r,a]=Rr(n==null?void 0:n.in,e,t);return r.getFullYear()-a.getFullYear()}function R6(e,t,n){const[r,a]=Rr(n==null?void 0:n.in,e,t),s=Sg(r,a),i=Math.abs(Gs(r,a));r.setDate(r.getDate()-s*i);const o=+(Sg(r,a)===-s),l=s*(i-o);return l===0?0:l}function Sg(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function JE(e,t){const n=ke(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function ZE(e,t){const n=ke(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function of(e,t){const n=ke(e,t==null?void 0:t.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function e1(e,t){const n=ke(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function t1(e,t){const n=ke(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function jc(e,t){const n=ke(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function M6(e,t){var o,l,u,d,f,p,h,m;const n=rs(),r=(m=(h=(d=(u=t==null?void 0:t.weekStartsOn)!=null?u:(l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)!=null?d:n.weekStartsOn)!=null?h:(p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)!=null?m:0,a=ke(e,t==null?void 0:t.in),s=a.getDay(),i=(s<r?-7:0)+6-(s-r);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}const F6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},B6=(e,t,n)=>{let r;const a=F6[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ss(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const U6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},H6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},G6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$6={date:Ss({formats:U6,defaultWidth:"full"}),time:Ss({formats:H6,defaultWidth:"full"}),dateTime:Ss({formats:G6,defaultWidth:"full"})},W6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y6=(e,t,n,r)=>W6[e];function yr(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[o]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const z6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},V6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},K6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},X6=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},J6={ordinalNumber:X6,era:yr({values:z6,defaultWidth:"wide"}),quarter:yr({values:V6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yr({values:j6,defaultWidth:"wide"}),day:yr({values:q6,defaultWidth:"wide"}),dayPeriod:yr({values:K6,defaultWidth:"wide",formattingValues:Q6,defaultFormattingWidth:"wide"})};function Er(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?e4(o,f=>f.test(i)):Z6(o,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function Z6(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function e4(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function n1(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=n.valueCallback?n.valueCallback(i):i;const o=t.slice(a.length);return{value:i,rest:o}}}const t4=/^(\d+)(th|st|nd|rd)?/i,n4=/\d+/i,r4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},a4={any:[/^b/i,/^(a|c)/i]},s4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},i4={any:[/1/i,/2/i,/3/i,/4/i]},o4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},l4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},c4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},u4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},d4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},f4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},h4={ordinalNumber:n1({matchPattern:t4,parsePattern:n4,valueCallback:e=>parseInt(e,10)}),era:Er({matchPatterns:r4,defaultMatchWidth:"wide",parsePatterns:a4,defaultParseWidth:"any"}),quarter:Er({matchPatterns:s4,defaultMatchWidth:"wide",parsePatterns:i4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Er({matchPatterns:o4,defaultMatchWidth:"wide",parsePatterns:l4,defaultParseWidth:"any"}),day:Er({matchPatterns:c4,defaultMatchWidth:"wide",parsePatterns:u4,defaultParseWidth:"any"}),dayPeriod:Er({matchPatterns:d4,defaultMatchWidth:"any",parsePatterns:f4,defaultParseWidth:"any"})},r1={code:"en-US",formatDistance:B6,formatLong:$6,formatRelative:Y6,localize:J6,match:h4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function p4(e,t){const n=ke(e,t==null?void 0:t.in);return Gs(n,jc(n))+1}function yh(e,t){const n=ke(e,t==null?void 0:t.in),r=+Hs(n)-+O6(n);return Math.round(r/KE)+1}function Eh(e,t){var d,f,p,h,m,v,T,E;const n=ke(e,t==null?void 0:t.in),r=n.getFullYear(),a=rs(),s=(E=(T=(h=(p=t==null?void 0:t.firstWeekContainsDate)!=null?p:(f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)!=null?h:a.firstWeekContainsDate)!=null?T:(v=(m=a.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)!=null?E:1,i=vt((t==null?void 0:t.in)||e,0);i.setFullYear(r+1,0,s),i.setHours(0,0,0,0);const o=ur(i,t),l=vt((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=ur(l,t);return+n>=+o?r+1:+n>=+u?r:r-1}function m4(e,t){var o,l,u,d,f,p,h,m;const n=rs(),r=(m=(h=(d=(u=t==null?void 0:t.firstWeekContainsDate)!=null?u:(l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)!=null?d:n.firstWeekContainsDate)!=null?h:(p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)!=null?m:1,a=Eh(e,t),s=vt((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),ur(s,t)}function a1(e,t){const n=ke(e,t==null?void 0:t.in),r=+ur(n,t)-+m4(n,t);return Math.round(r/KE)+1}function gt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ra={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return gt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):gt(n+1,2)},d(e,t){return gt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return gt(e.getHours()%12||12,t.length)},H(e,t){return gt(e.getHours(),t.length)},m(e,t){return gt(e.getMinutes(),t.length)},s(e,t){return gt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return gt(a,t.length)}},us={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wg={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return ra.y(e,t)},Y:function(e,t,n,r){const a=Eh(e,r),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return gt(i,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):gt(s,t.length)},R:function(e,t){const n=XE(e);return gt(n,t.length)},u:function(e,t){const n=e.getFullYear();return gt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return gt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return gt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ra.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return gt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=a1(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):gt(a,t.length)},I:function(e,t,n){const r=yh(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):gt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ra.d(e,t)},D:function(e,t,n){const r=p4(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):gt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return gt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return gt(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return gt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=us.noon:r===0?a=us.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=us.evening:r>=12?a=us.afternoon:r>=4?a=us.morning:a=us.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ra.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ra.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ra.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ra.s(e,t)},S:function(e,t){return ra.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Ng(r);case"XXXX":case"XX":return Na(r);case"XXXXX":case"XXX":default:return Na(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Ng(r);case"xxxx":case"xx":return Na(r);case"xxxxx":case"xxx":default:return Na(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Cg(r,":");case"OOOO":default:return"GMT"+Na(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Cg(r,":");case"zzzz":default:return"GMT"+Na(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return gt(r,t.length)},T:function(e,t,n){return gt(+e,t.length)}};function Cg(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return s===0?n+String(a):n+String(a)+t+gt(s,2)}function Ng(e,t){return e%60===0?(e>0?"-":"+")+gt(Math.abs(e)/60,2):Na(e,t)}function Na(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=gt(Math.trunc(r/60),2),s=gt(r%60,2);return n+a+t+s}const xg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},s1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},g4=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return xg(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",xg(r,t)).replace("{{time}}",s1(a,t))},lf={p:s1,P:g4},b4=/^D+$/,v4=/^Y+$/,y4=["D","DD","YY","YYYY"];function i1(e){return b4.test(e)}function o1(e){return v4.test(e)}function cf(e,t,n){const r=E4(e,t,n);if(console.warn(r),y4.includes(e))throw new RangeError(r)}function E4(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}const _4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S4=/^'([^]*?)'?$/,w4=/''/g,C4=/[a-zA-Z]/;function Xr(e,t,n){var d,f,p,h,m,v,T,E,C,_,N,x,S,A,P,O,k,w;const r=rs(),a=(f=(d=n==null?void 0:n.locale)!=null?d:r.locale)!=null?f:r1,s=(_=(C=(v=(m=n==null?void 0:n.firstWeekContainsDate)!=null?m:(h=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)!=null?v:r.firstWeekContainsDate)!=null?C:(E=(T=r.locale)==null?void 0:T.options)==null?void 0:E.firstWeekContainsDate)!=null?_:1,i=(w=(k=(A=(S=n==null?void 0:n.weekStartsOn)!=null?S:(x=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:x.weekStartsOn)!=null?A:r.weekStartsOn)!=null?k:(O=(P=r.locale)==null?void 0:P.options)==null?void 0:O.weekStartsOn)!=null?w:0,o=ke(e,n==null?void 0:n.in);if(!ql(o))throw new RangeError("Invalid time value");let l=t.match(T4).map(D=>{const M=D[0];if(M==="p"||M==="P"){const U=lf[M];return U(D,a.formatLong)}return D}).join("").match(_4).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const M=D[0];if(M==="'")return{isToken:!1,value:N4(D)};if(wg[M])return{isToken:!0,value:D};if(M.match(C4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:D}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return l.map(D=>{if(!D.isToken)return D.value;const M=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&o1(M)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&i1(M))&&cf(M,t,String(e));const U=wg[M[0]];return U(o,M,a.localize,u)}).join("")}function N4(e){const t=e.match(S4);return t?t[1].replace(w4,"'"):e}function kg(e,t){return ke(e,t==null?void 0:t.in).getDate()}function x4(e,t){return ke(e,t==null?void 0:t.in).getDay()}function k4(e,t){const n=ke(e,t==null?void 0:t.in),r=n.getFullYear(),a=n.getMonth(),s=vt(n,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function A4(){return Object.assign({},rs())}function Vr(e,t){return ke(e,t==null?void 0:t.in).getHours()}function D4(e,t){const n=ke(e,t==null?void 0:t.in).getDay();return n===0?7:n}function jr(e,t){return ke(e,t==null?void 0:t.in).getMinutes()}function vn(e,t){return ke(e,t==null?void 0:t.in).getMonth()}function ha(e){return ke(e).getSeconds()}function uf(e){return+ke(e)}function et(e,t){return ke(e,t==null?void 0:t.in).getFullYear()}function ga(e,t){return+ke(e)>+ke(t)}function Ya(e,t){return+ke(e)<+ke(t)}function I4(e,t){return+ke(e)==+ke(t)}function O4(e,t){const n=P4(t)?new t(0):vt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function P4(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const L4=10;class l1{constructor(){ve(this,"subPriority",0)}validate(t,n){return!0}}class R4 extends l1{constructor(t,n,r,a,s){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=a,s&&(this.subPriority=s)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class M4 extends l1{constructor(n,r){super();ve(this,"priority",L4);ve(this,"subPriority",-1);this.context=n||(a=>vt(r,a))}set(n,r){return r.timestampIsSet?n:vt(n,O4(n,this.context))}}class pt{run(t,n,r,a){const s=this.parse(t,n,r,a);return s?{setter:new R4(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,n,r){return!0}}class F4 extends pt{constructor(){super(...arguments);ve(this,"priority",140);ve(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,r,a){return r.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const zt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_r={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Vt(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ut(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Tr(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:r*(a*Vc+s*zc+i*A6),rest:t.slice(n[0].length)}}function c1(e){return Ut(zt.anyDigitsSigned,e)}function $t(e,t){switch(e){case 1:return Ut(zt.singleDigit,t);case 2:return Ut(zt.twoDigits,t);case 3:return Ut(zt.threeDigits,t);case 4:return Ut(zt.fourDigits,t);default:return Ut(new RegExp("^\\d{1,"+e+"}"),t)}}function Jl(e,t){switch(e){case 1:return Ut(zt.singleDigitSigned,t);case 2:return Ut(zt.twoDigitsSigned,t);case 3:return Ut(zt.threeDigitsSigned,t);case 4:return Ut(zt.fourDigitsSigned,t);default:return Ut(new RegExp("^-?\\d{1,"+e+"}"),t)}}function _h(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function u1(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const s=r+50,i=Math.trunc(s/100)*100,o=e>=s%100;a=e+i-(o?100:0)}return n?a:1-a}function d1(e){return e%400===0||e%4===0&&e%100!==0}class B4 extends pt{constructor(){super(...arguments);ve(this,"priority",130);ve(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,a){const s=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return Vt($t(4,n),s);case"yo":return Vt(a.ordinalNumber(n,{unit:"year"}),s);default:return Vt($t(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a){const s=n.getFullYear();if(a.isTwoDigitYear){const o=u1(a.year,s);return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}const i=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class U4 extends pt{constructor(){super(...arguments);ve(this,"priority",130);ve(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,a){const s=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Vt($t(4,n),s);case"Yo":return Vt(a.ordinalNumber(n,{unit:"year"}),s);default:return Vt($t(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a,s){const i=Eh(n,s);if(a.isTwoDigitYear){const l=u1(a.year,i);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),ur(n,s)}const o=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(o,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),ur(n,s)}}class H4 extends pt{constructor(){super(...arguments);ve(this,"priority",130);ve(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Jl(r==="R"?4:r.length,n)}set(n,r,a){const s=vt(n,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Hs(s)}}class G4 extends pt{constructor(){super(...arguments);ve(this,"priority",130);ve(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Jl(r==="u"?4:r.length,n)}set(n,r,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class $4 extends pt{constructor(){super(...arguments);ve(this,"priority",120);ve(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"Q":case"QQ":return $t(r.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class W4 extends pt{constructor(){super(...arguments);ve(this,"priority",120);ve(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"q":case"qq":return $t(r.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class Y4 extends pt{constructor(){super(...arguments);ve(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ve(this,"priority",110)}parse(n,r,a){const s=i=>i-1;switch(r){case"M":return Vt(Ut(zt.month,n),s);case"MM":return Vt($t(2,n),s);case"Mo":return Vt(a.ordinalNumber(n,{unit:"month"}),s);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class z4 extends pt{constructor(){super(...arguments);ve(this,"priority",110);ve(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,a){const s=i=>i-1;switch(r){case"L":return Vt(Ut(zt.month,n),s);case"LL":return Vt($t(2,n),s);case"Lo":return Vt(a.ordinalNumber(n,{unit:"month"}),s);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function V4(e,t,n){const r=ke(e,n==null?void 0:n.in),a=a1(r,n)-t;return r.setDate(r.getDate()-a*7),ke(r,n==null?void 0:n.in)}class j4 extends pt{constructor(){super(...arguments);ve(this,"priority",100);ve(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,a){switch(r){case"w":return Ut(zt.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return $t(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a,s){return ur(V4(n,a,s),s)}}function q4(e,t,n){const r=ke(e,n==null?void 0:n.in),a=yh(r,n)-t;return r.setDate(r.getDate()-a*7),r}class K4 extends pt{constructor(){super(...arguments);ve(this,"priority",100);ve(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,a){switch(r){case"I":return Ut(zt.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return $t(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a){return Hs(q4(n,a))}}const Q4=[31,28,31,30,31,30,31,31,30,31,30,31],X4=[31,29,31,30,31,30,31,31,30,31,30,31];class J4 extends pt{constructor(){super(...arguments);ve(this,"priority",90);ve(this,"subPriority",1);ve(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"d":return Ut(zt.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return $t(r.length,n)}}validate(n,r){const a=n.getFullYear(),s=d1(a),i=n.getMonth();return s?r>=1&&r<=X4[i]:r>=1&&r<=Q4[i]}set(n,r,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class Z4 extends pt{constructor(){super(...arguments);ve(this,"priority",90);ve(this,"subpriority",1);ve(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,a){switch(r){case"D":case"DD":return Ut(zt.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return $t(r.length,n)}}validate(n,r){const a=n.getFullYear();return d1(a)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function Th(e,t,n){var f,p,h,m,v,T,E,C;const r=rs(),a=(C=(E=(m=(h=n==null?void 0:n.weekStartsOn)!=null?h:(p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)!=null?m:r.weekStartsOn)!=null?E:(T=(v=r.locale)==null?void 0:v.options)==null?void 0:T.weekStartsOn)!=null?C:0,s=ke(e,n==null?void 0:n.in),i=s.getDay(),l=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(i+u)%7:(l+u)%7-(i+u)%7;return or(s,d,n)}class eF extends pt{constructor(){super(...arguments);ve(this,"priority",90);ve(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,s){return n=Th(n,a,s),n.setHours(0,0,0,0),n}}class tF extends pt{constructor(){super(...arguments);ve(this,"priority",90);ve(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,a,s){const i=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Vt($t(r.length,n),i);case"eo":return Vt(a.ordinalNumber(n,{unit:"day"}),i);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,s){return n=Th(n,a,s),n.setHours(0,0,0,0),n}}class nF extends pt{constructor(){super(...arguments);ve(this,"priority",90);ve(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,a,s){const i=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Vt($t(r.length,n),i);case"co":return Vt(a.ordinalNumber(n,{unit:"day"}),i);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,s){return n=Th(n,a,s),n.setHours(0,0,0,0),n}}function rF(e,t,n){const r=ke(e,n==null?void 0:n.in),a=D4(r,n),s=t-a;return or(r,s,n)}class aF extends pt{constructor(){super(...arguments);ve(this,"priority",90);ve(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,a){const s=i=>i===0?7:i;switch(r){case"i":case"ii":return $t(r.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return Vt(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Vt(a.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Vt(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Vt(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,a){return n=rF(n,a),n.setHours(0,0,0,0),n}}class sF extends pt{constructor(){super(...arguments);ve(this,"priority",80);ve(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(_h(a),0,0,0),n}}class iF extends pt{constructor(){super(...arguments);ve(this,"priority",80);ve(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(_h(a),0,0,0),n}}class oF extends pt{constructor(){super(...arguments);ve(this,"priority",80);ve(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(_h(a),0,0,0),n}}class lF extends pt{constructor(){super(...arguments);ve(this,"priority",70);ve(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,a){switch(r){case"h":return Ut(zt.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return $t(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,a){const s=n.getHours()>=12;return s&&a<12?n.setHours(a+12,0,0,0):!s&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class cF extends pt{constructor(){super(...arguments);ve(this,"priority",70);ve(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,a){switch(r){case"H":return Ut(zt.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return $t(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,a){return n.setHours(a,0,0,0),n}}class uF extends pt{constructor(){super(...arguments);ve(this,"priority",70);ve(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,a){switch(r){case"K":return Ut(zt.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return $t(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class dF extends pt{constructor(){super(...arguments);ve(this,"priority",70);ve(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,a){switch(r){case"k":return Ut(zt.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return $t(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,a){const s=a<=24?a%24:a;return n.setHours(s,0,0,0),n}}class fF extends pt{constructor(){super(...arguments);ve(this,"priority",60);ve(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"m":return Ut(zt.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return $t(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setMinutes(a,0,0),n}}class hF extends pt{constructor(){super(...arguments);ve(this,"priority",50);ve(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"s":return Ut(zt.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return $t(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setSeconds(a,0),n}}class pF extends pt{constructor(){super(...arguments);ve(this,"priority",30);ve(this,"incompatibleTokens",["t","T"])}parse(n,r){const a=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Vt($t(r.length,n),a)}set(n,r,a){return n.setMilliseconds(a),n}}class mF extends pt{constructor(){super(...arguments);ve(this,"priority",10);ve(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Tr(_r.basicOptionalMinutes,n);case"XX":return Tr(_r.basic,n);case"XXXX":return Tr(_r.basicOptionalSeconds,n);case"XXXXX":return Tr(_r.extendedOptionalSeconds,n);case"XXX":default:return Tr(_r.extended,n)}}set(n,r,a){return r.timestampIsSet?n:vt(n,n.getTime()-Vl(n)-a)}}class gF extends pt{constructor(){super(...arguments);ve(this,"priority",10);ve(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Tr(_r.basicOptionalMinutes,n);case"xx":return Tr(_r.basic,n);case"xxxx":return Tr(_r.basicOptionalSeconds,n);case"xxxxx":return Tr(_r.extendedOptionalSeconds,n);case"xxx":default:return Tr(_r.extended,n)}}set(n,r,a){return r.timestampIsSet?n:vt(n,n.getTime()-Vl(n)-a)}}class bF extends pt{constructor(){super(...arguments);ve(this,"priority",40);ve(this,"incompatibleTokens","*")}parse(n){return c1(n)}set(n,r,a){return[vt(n,a*1e3),{timestampIsSet:!0}]}}class vF extends pt{constructor(){super(...arguments);ve(this,"priority",20);ve(this,"incompatibleTokens","*")}parse(n){return c1(n)}set(n,r,a){return[vt(n,a),{timestampIsSet:!0}]}}const yF={G:new F4,y:new B4,Y:new U4,R:new H4,u:new G4,Q:new $4,q:new W4,M:new Y4,L:new z4,w:new j4,I:new K4,d:new J4,D:new Z4,E:new eF,e:new tF,c:new nF,i:new aF,a:new sF,b:new iF,B:new oF,h:new lF,H:new cF,K:new uF,k:new dF,m:new fF,s:new hF,S:new pF,X:new mF,x:new gF,t:new bF,T:new vF},EF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_F=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TF=/^'([^]*?)'?$/,SF=/''/g,wF=/\S/,CF=/[a-zA-Z]/;function NF(e,t,n,r){var T,E,C,_,N,x,S,A,P,O,k,w,D,M,U,G,F,I;const a=()=>vt((r==null?void 0:r.in)||n,NaN),s=A4(),i=(E=(T=r==null?void 0:r.locale)!=null?T:s.locale)!=null?E:r1,o=(O=(P=(x=(N=r==null?void 0:r.firstWeekContainsDate)!=null?N:(_=(C=r==null?void 0:r.locale)==null?void 0:C.options)==null?void 0:_.firstWeekContainsDate)!=null?x:s.firstWeekContainsDate)!=null?P:(A=(S=s.locale)==null?void 0:S.options)==null?void 0:A.firstWeekContainsDate)!=null?O:1,l=(I=(F=(M=(D=r==null?void 0:r.weekStartsOn)!=null?D:(w=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:w.weekStartsOn)!=null?M:s.weekStartsOn)!=null?F:(G=(U=s.locale)==null?void 0:U.options)==null?void 0:G.weekStartsOn)!=null?I:0;if(!t)return e?a():ke(n,r==null?void 0:r.in);const u={firstWeekContainsDate:o,weekStartsOn:l,locale:i},d=[new M4(r==null?void 0:r.in,n)],f=t.match(_F).map(H=>{const q=H[0];if(q in lf){const L=lf[q];return L(H,i.formatLong)}return H}).join("").match(EF),p=[];for(let H of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&o1(H)&&cf(H,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&i1(H)&&cf(H,t,e);const q=H[0],L=yF[q];if(L){const{incompatibleTokens:te}=L;if(Array.isArray(te)){const $=p.find(xe=>te.includes(xe.token)||xe.token===q);if($)throw new RangeError("The format string mustn't contain `".concat($.fullToken,"` and `").concat(H,"` at the same time"))}else if(L.incompatibleTokens==="*"&&p.length>0)throw new RangeError("The format string mustn't contain `".concat(H,"` and any other token at the same time"));p.push({token:q,fullToken:H});const _e=L.run(e,H,i.match,u);if(!_e)return a();d.push(_e.setter),e=_e.rest}else{if(q.match(CF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");if(H==="''"?H="'":q==="'"&&(H=xF(H)),e.indexOf(H)===0)e=e.slice(H.length);else return a()}}if(e.length>0&&wF.test(e))return a();const h=d.map(H=>H.priority).sort((H,q)=>q-H).filter((H,q,L)=>L.indexOf(H)===q).map(H=>d.filter(q=>q.priority===H).sort((q,L)=>L.subPriority-q.subPriority)).map(H=>H[0]);let m=ke(n,r==null?void 0:r.in);if(isNaN(+m))return a();const v={};for(const H of h){if(!H.validate(m,u))return a();const q=H.set(m,v,u);Array.isArray(q)?(m=q[0],Object.assign(v,q[1])):m=q}return m}function xF(e){return e.match(TF)[1].replace(SF,"'")}function Ag(e,t,n){const[r,a]=Rr(n==null?void 0:n.in,e,t);return+ur(r,n)==+ur(a,n)}function kF(e,t,n){const[r,a]=Rr(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function AF(e,t,n){const[r,a]=Rr(n==null?void 0:n.in,e,t);return+of(r)==+of(a)}function DF(e,t,n){const[r,a]=Rr(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()}function Hi(e,t,n){const r=+ke(e,n==null?void 0:n.in),[a,s]=[+ke(t.start,n==null?void 0:n.in),+ke(t.end,n==null?void 0:n.in)].sort((i,o)=>i-o);return r>=a&&r<=s}function IF(e,t,n){return or(e,-t,n)}function vi(e,t){var u;const n=()=>vt(t==null?void 0:t.in,NaN),r=(u=t==null?void 0:t.additionalDigits)!=null?u:2,a=RF(e);let s;if(a.date){const d=MF(a.date,r);s=FF(d.restDateString,d.year)}if(!s||isNaN(+s))return n();const i=+s;let o=0,l;if(a.time&&(o=BF(a.time),isNaN(o)))return n();if(a.timezone){if(l=UF(a.timezone),isNaN(l))return n()}else{const d=new Date(i+o),f=ke(0,t==null?void 0:t.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return ke(i+o+l,t==null?void 0:t.in)}const Ko={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},OF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,PF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,LF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function RF(e){const t={},n=e.split(Ko.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Ko.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ko.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Ko.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function MF(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function FF(e,t){if(t===null)return new Date(NaN);const n=e.match(OF);if(!n)return new Date(NaN);const r=!!n[4],a=hi(n[1]),s=hi(n[2])-1,i=hi(n[3]),o=hi(n[4]),l=hi(n[5])-1;if(r)return YF(t,o,l)?HF(t,o,l):new Date(NaN);{const u=new Date(0);return!$F(t,s,i)||!WF(t,a)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(a,i)),u)}}function hi(e){return e?parseInt(e):1}function BF(e){const t=e.match(PF);if(!t)return NaN;const n=Ju(t[1]),r=Ju(t[2]),a=Ju(t[3]);return zF(n,r,a)?n*Vc+r*zc+a*1e3:NaN}function Ju(e){return e&&parseFloat(e.replace(",","."))||0}function UF(e){if(e==="Z")return 0;const t=e.match(LF);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return VF(r,a)?n*(r*Vc+a*zc):NaN}function HF(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,s=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const GF=[31,null,31,30,31,30,31,31,30,31,30,31];function f1(e){return e%400===0||e%4===0&&e%100!==0}function $F(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(GF[t]||(f1(e)?29:28))}function WF(e,t){return t>=1&&t<=(f1(e)?366:365)}function YF(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function zF(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function VF(e,t){return t>=0&&t<=59}function $n(e,t,n){const r=ke(e,n==null?void 0:n.in),a=r.getFullYear(),s=r.getDate(),i=vt((n==null?void 0:n.in)||e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const o=k4(i);return r.setMonth(t,Math.min(s,o)),r}function yl(e,t,n){const r=ke(e,n==null?void 0:n.in);return r.setHours(t),r}function El(e,t,n){const r=ke(e,n==null?void 0:n.in);return r.setMinutes(t),r}function ms(e,t,n){const r=ke(e,n==null?void 0:n.in),a=Math.trunc(r.getMonth()/3)+1,s=t-a;return $n(r,r.getMonth()+s*3)}function _l(e,t,n){const r=ke(e,n==null?void 0:n.in);return r.setSeconds(t),r}function mr(e,t,n){const r=ke(e,n==null?void 0:n.in);return isNaN(+r)?vt((n==null?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function Ra(e,t,n){return cr(e,-t,n)}function h1(e,t,n){return vh(e,-t,n)}function Dg(e,t,n){return jl(e,-t,n)}function $s(e,t,n){return Yr(e,-t,n)}function pi(e,t){if(e.one!==void 0&&t===1)return e.one;const n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function pn(e){return(t,n)=>n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?pi(e.future,t):"через "+pi(e.regular,t):e.past?pi(e.past,t):pi(e.regular,t)+" назад":pi(e.regular,t)}const jF={lessThanXSeconds:pn({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:pn({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(e,t)=>t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:pn({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:pn({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:pn({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:pn({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:pn({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:pn({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:pn({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:pn({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:pn({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:pn({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:pn({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:pn({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:pn({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},qF=(e,t,n)=>jF[e](t,n),KF={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},QF={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},XF={any:"{{date}}, {{time}}"},JF={date:Ss({formats:KF,defaultWidth:"full"}),time:Ss({formats:QF,defaultWidth:"full"}),dateTime:Ss({formats:XF,defaultWidth:"any"})},Sh=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function ZF(e){const t=Sh[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function Ig(e){const t=Sh[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function e8(e){const t=Sh[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}const t8={lastWeek:(e,t,n)=>{const r=e.getDay();return Ag(e,t,n)?Ig(r):ZF(r)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(e,t,n)=>{const r=e.getDay();return Ag(e,t,n)?Ig(r):e8(r)},other:"P"},n8=(e,t,n,r)=>{const a=t8[e];return typeof a=="function"?a(t,n,r):a},r8={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},a8={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},s8={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},i8={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},o8={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},l8={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},c8={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},u8=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;let a;return r==="date"?a="-е":r==="week"||r==="minute"||r==="second"?a="-я":a="-й",n+a},d8={ordinalNumber:u8,era:yr({values:r8,defaultWidth:"wide"}),quarter:yr({values:a8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yr({values:s8,defaultWidth:"wide",formattingValues:i8,defaultFormattingWidth:"wide"}),day:yr({values:o8,defaultWidth:"wide"}),dayPeriod:yr({values:l8,defaultWidth:"any",formattingValues:c8,defaultFormattingWidth:"wide"})},f8=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,h8=/\d+/i,p8={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},m8={any:[/^д/i,/^н/i]},g8={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},b8={any:[/1/i,/2/i,/3/i,/4/i]},v8={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},y8={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},E8={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},_8={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},T8={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},S8={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},w8={ordinalNumber:n1({matchPattern:f8,parsePattern:h8,valueCallback:e=>parseInt(e,10)}),era:Er({matchPatterns:p8,defaultMatchWidth:"wide",parsePatterns:m8,defaultParseWidth:"any"}),quarter:Er({matchPatterns:g8,defaultMatchWidth:"wide",parsePatterns:b8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Er({matchPatterns:v8,defaultMatchWidth:"wide",parsePatterns:y8,defaultParseWidth:"any"}),day:Er({matchPatterns:E8,defaultMatchWidth:"wide",parsePatterns:_8,defaultParseWidth:"any"}),dayPeriod:Er({matchPatterns:T8,defaultMatchWidth:"wide",parsePatterns:S8,defaultParseWidth:"any"})},wh={code:"ru",formatDistance:qF,formatLong:JF,formatRelative:n8,localize:d8,match:w8,options:{weekStartsOn:1,firstWeekContainsDate:1}};function p1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=p1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function sn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=p1(e))&&(r&&(r+=" "),r+=t);return r}function qc(){return typeof window<"u"}function si(e){return m1(e)?(e.nodeName||"").toLowerCase():"#document"}function Ln(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Mr(e){var t;return(t=(m1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m1(e){return qc()?e instanceof Node||e instanceof Ln(e).Node:!1}function yn(e){return qc()?e instanceof Element||e instanceof Ln(e).Element:!1}function Ir(e){return qc()?e instanceof HTMLElement||e instanceof Ln(e).HTMLElement:!1}function Og(e){return!qc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ln(e).ShadowRoot}function _o(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function C8(e){return["table","td","th"].includes(si(e))}function Kc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function Ch(e){const t=Nh(),n=yn(e)?Zn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function N8(e){let t=ba(e);for(;Ir(t)&&!Ws(t);){if(Ch(t))return t;if(Kc(t))return null;t=ba(t)}return null}function Nh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ws(e){return["html","body","#document"].includes(si(e))}function Zn(e){return Ln(e).getComputedStyle(e)}function Qc(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ba(e){if(si(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Og(e)&&e.host||Mr(e);return Og(t)?t.host:t}function g1(e){const t=ba(e);return Ws(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ir(t)&&_o(t)?t:g1(t)}function Gi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=g1(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),i=Ln(a);if(s){const o=df(i);return t.concat(i,i.visualViewport||[],_o(a)?a:[],o&&n?Gi(o):[])}return t.concat(a,Gi(a,[],n))}function df(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Ys=Math.min,Ma=Math.max,Zl=Math.round,Qo=Math.floor,Ar=e=>({x:e,y:e}),x8={left:"right",right:"left",bottom:"top",top:"bottom"},k8={start:"end",end:"start"};function A8(e,t,n){return Ma(e,Ys(t,n))}function Xc(e,t){return typeof e=="function"?e(t):e}function zs(e){return e.split("-")[0]}function To(e){return e.split("-")[1]}function D8(e){return e==="x"?"y":"x"}function xh(e){return e==="y"?"height":"width"}function $i(e){return["top","bottom"].includes(zs(e))?"y":"x"}function kh(e){return D8($i(e))}function I8(e,t,n){n===void 0&&(n=!1);const r=To(e),a=kh(e),s=xh(a);let i=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=ec(i)),[i,ec(i)]}function O8(e){const t=ec(e);return[ff(e),t,ff(t)]}function ff(e){return e.replace(/start|end/g,t=>k8[t])}function P8(e,t,n){const r=["left","right"],a=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?s:i;default:return[]}}function L8(e,t,n,r){const a=To(e);let s=P8(zs(e),n==="start",r);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(ff)))),s}function ec(e){return e.replace(/left|right|bottom|top/g,t=>x8[t])}function R8(e){return{top:0,right:0,bottom:0,left:0,...e}}function b1(e){return typeof e!="number"?R8(e):{top:e,right:e,bottom:e,left:e}}function tc(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function Pg(e,t,n){let{reference:r,floating:a}=e;const s=$i(t),i=kh(t),o=xh(i),l=zs(t),u=s==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,p=r[o]/2-a[o]/2;let h;switch(l){case"top":h={x:d,y:r.y-a.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-a.width,y:f};break;default:h={x:r.x,y:r.y}}switch(To(t)){case"start":h[i]-=p*(n&&u?-1:1);break;case"end":h[i]+=p*(n&&u?-1:1);break}return h}const M8=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:i}=n,o=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Pg(u,r,l),p=r,h={},m=0;for(let v=0;v<o.length;v++){const{name:T,fn:E}=o[v],{x:C,y:_,data:N,reset:x}=await E({x:d,y:f,initialPlacement:r,placement:p,strategy:a,middlewareData:h,rects:u,platform:i,elements:{reference:e,floating:t}});d=C!=null?C:d,f=_!=null?_:f,h={...h,[T]:{...h[T],...N}},x&&m<=50&&(m++,typeof x=="object"&&(x.placement&&(p=x.placement),x.rects&&(u=x.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):x.rects),{x:d,y:f}=Pg(u,p,l)),v=-1)}return{x:d,y:f,placement:p,strategy:a,middlewareData:h}};async function F8(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:i,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Xc(t,e),m=b1(h),T=o[p?f==="floating"?"reference":"floating":f],E=tc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),C=f==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),N=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=tc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:C,offsetParent:_,strategy:l}):C);return{top:(E.top-x.top+m.top)/N.y,bottom:(x.bottom-E.bottom+m.bottom)/N.y,left:(E.left-x.left+m.left)/N.x,right:(x.right-E.right+m.right)/N.x}}const B8=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:i,elements:o,middlewareData:l}=t,{element:u,padding:d=0}=Xc(e,t)||{};if(u==null)return{};const f=b1(d),p={x:n,y:r},h=kh(a),m=xh(h),v=await i.getDimensions(u),T=h==="y",E=T?"top":"left",C=T?"bottom":"right",_=T?"clientHeight":"clientWidth",N=s.reference[m]+s.reference[h]-p[h]-s.floating[m],x=p[h]-s.reference[h],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let A=S?S[_]:0;(!A||!await(i.isElement==null?void 0:i.isElement(S)))&&(A=o.floating[_]||s.floating[m]);const P=N/2-x/2,O=A/2-v[m]/2-1,k=Ys(f[E],O),w=Ys(f[C],O),D=k,M=A-v[m]-w,U=A/2-v[m]/2+P,G=A8(D,U,M),F=!l.arrow&&To(a)!=null&&U!==G&&s.reference[m]/2-(U<D?k:w)-v[m]/2<0,I=F?U<D?U-D:U-M:0;return{[h]:p[h]+I,data:{[h]:G,centerOffset:U-G-I,...F&&{alignmentOffset:I}},reset:F}}}),U8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...T}=Xc(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=zs(a),C=$i(o),_=zs(o)===o,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),x=p||(_||!v?[ec(o)]:O8(o)),S=m!=="none";!p&&S&&x.push(...L8(o,v,m,N));const A=[o,...x],P=await F8(t,T),O=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&O.push(P[E]),f){const U=I8(a,i,N);O.push(P[U[0]],P[U[1]])}if(k=[...k,{placement:a,overflows:O}],!O.every(U=>U<=0)){var w,D;const U=(((w=s.flip)==null?void 0:w.index)||0)+1,G=A[U];if(G)return{data:{index:U,overflows:k},reset:{placement:G}};let F=(D=k.filter(I=>I.overflows[0]<=0).sort((I,H)=>I.overflows[1]-H.overflows[1])[0])==null?void 0:D.placement;if(!F)switch(h){case"bestFit":{var M;const I=(M=k.filter(H=>{if(S){const q=$i(H.placement);return q===C||q==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(q=>q>0).reduce((q,L)=>q+L,0)]).sort((H,q)=>H[1]-q[1])[0])==null?void 0:M[0];I&&(F=I);break}case"initialPlacement":F=o;break}if(a!==F)return{reset:{placement:F}}}return{}}}};async function H8(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=zs(n),o=To(n),l=$i(n)==="y",u=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,f=Xc(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(h=o==="end"?m*-1:m),l?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const G8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:i,middlewareData:o}=t,l=await H8(t,e);return i===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:i}}}}};function v1(e){const t=Zn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ir(e),s=a?e.offsetWidth:n,i=a?e.offsetHeight:r,o=Zl(n)!==s||Zl(r)!==i;return o&&(n=s,r=i),{width:n,height:r,$:o}}function Ah(e){return yn(e)?e:e.contextElement}function ws(e){const t=Ah(e);if(!Ir(t))return Ar(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=v1(t);let i=(s?Zl(n.width):n.width)/r,o=(s?Zl(n.height):n.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const $8=Ar(0);function y1(e){const t=Ln(e);return!Nh()||!t.visualViewport?$8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function W8(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ln(e)?!1:t}function za(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=Ah(e);let i=Ar(1);t&&(r?yn(r)&&(i=ws(r)):i=ws(e));const o=W8(s,n,r)?y1(s):Ar(0);let l=(a.left+o.x)/i.x,u=(a.top+o.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const p=Ln(s),h=r&&yn(r)?Ln(r):r;let m=p,v=df(m);for(;v&&r&&h!==m;){const T=ws(v),E=v.getBoundingClientRect(),C=Zn(v),_=E.left+(v.clientLeft+parseFloat(C.paddingLeft))*T.x,N=E.top+(v.clientTop+parseFloat(C.paddingTop))*T.y;l*=T.x,u*=T.y,d*=T.x,f*=T.y,l+=_,u+=N,m=Ln(v),v=df(m)}}return tc({width:d,height:f,x:l,y:u})}function Dh(e,t){const n=Qc(e).scrollLeft;return t?t.left+n:za(Mr(e)).left+n}function E1(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:Dh(e,r)),s=r.top+t.scrollTop;return{x:a,y:s}}function Y8(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",i=Mr(r),o=t?Kc(t.floating):!1;if(r===i||o&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Ar(1);const d=Ar(0),f=Ir(r);if((f||!f&&!s)&&((si(r)!=="body"||_o(i))&&(l=Qc(r)),Ir(r))){const h=za(r);u=ws(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const p=i&&!f&&!s?E1(i,l,!0):Ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function z8(e){return Array.from(e.getClientRects())}function V8(e){const t=Mr(e),n=Qc(e),r=e.ownerDocument.body,a=Ma(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ma(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Dh(e);const o=-n.scrollTop;return Zn(r).direction==="rtl"&&(i+=Ma(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:i,y:o}}function j8(e,t){const n=Ln(e),r=Mr(e),a=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;const u=Nh();(!u||u&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o,y:l}}function q8(e,t){const n=za(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=Ir(e)?ws(e):Ar(1),i=e.clientWidth*s.x,o=e.clientHeight*s.y,l=a*s.x,u=r*s.y;return{width:i,height:o,x:l,y:u}}function Lg(e,t,n){let r;if(t==="viewport")r=j8(e,n);else if(t==="document")r=V8(Mr(e));else if(yn(t))r=q8(t,n);else{const a=y1(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return tc(r)}function _1(e,t){const n=ba(e);return n===t||!yn(n)||Ws(n)?!1:Zn(n).position==="fixed"||_1(n,t)}function K8(e,t){const n=t.get(e);if(n)return n;let r=Gi(e,[],!1).filter(o=>yn(o)&&si(o)!=="body"),a=null;const s=Zn(e).position==="fixed";let i=s?ba(e):e;for(;yn(i)&&!Ws(i);){const o=Zn(i),l=Ch(i);!l&&o.position==="fixed"&&(a=null),(s?!l&&!a:!l&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||_o(i)&&!l&&_1(e,i))?r=r.filter(d=>d!==i):a=o,i=ba(i)}return t.set(e,r),r}function Q8(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const i=[...n==="clippingAncestors"?Kc(t)?[]:K8(t,this._c):[].concat(n),r],o=i[0],l=i.reduce((u,d)=>{const f=Lg(t,d,a);return u.top=Ma(f.top,u.top),u.right=Ys(f.right,u.right),u.bottom=Ys(f.bottom,u.bottom),u.left=Ma(f.left,u.left),u},Lg(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function X8(e){const{width:t,height:n}=v1(e);return{width:t,height:n}}function J8(e,t,n){const r=Ir(t),a=Mr(t),s=n==="fixed",i=za(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=Ar(0);if(r||!r&&!s)if((si(t)!=="body"||_o(a))&&(o=Qc(t)),r){const p=za(t,!0,s,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else a&&(l.x=Dh(a));const u=a&&!r&&!s?E1(a,o):Ar(0),d=i.left+o.scrollLeft-l.x-u.x,f=i.top+o.scrollTop-l.y-u.y;return{x:d,y:f,width:i.width,height:i.height}}function Zu(e){return Zn(e).position==="static"}function Rg(e,t){if(!Ir(e)||Zn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Mr(e)===n&&(n=n.ownerDocument.body),n}function T1(e,t){const n=Ln(e);if(Kc(e))return n;if(!Ir(e)){let a=ba(e);for(;a&&!Ws(a);){if(yn(a)&&!Zu(a))return a;a=ba(a)}return n}let r=Rg(e,t);for(;r&&C8(r)&&Zu(r);)r=Rg(r,t);return r&&Ws(r)&&Zu(r)&&!Ch(r)?n:r||N8(e)||n}const Z8=async function(e){const t=this.getOffsetParent||T1,n=this.getDimensions,r=await n(e.floating);return{reference:J8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function e5(e){return Zn(e).direction==="rtl"}const t5={convertOffsetParentRelativeRectToViewportRelativeRect:Y8,getDocumentElement:Mr,getClippingRect:Q8,getOffsetParent:T1,getElementRects:Z8,getClientRects:z8,getDimensions:X8,getScale:ws,isElement:yn,isRTL:e5};function S1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function n5(e,t){let n=null,r;const a=Mr(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function i(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(o||t(),!p||!h)return;const m=Qo(f),v=Qo(a.clientWidth-(d+p)),T=Qo(a.clientHeight-(f+h)),E=Qo(d),_={rootMargin:-m+"px "+-v+"px "+-T+"px "+-E+"px",threshold:Ma(0,Ys(1,l))||1};let N=!0;function x(S){const A=S[0].intersectionRatio;if(A!==l){if(!N)return i();A?i(!1,A):r=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!S1(u,e.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(x,{..._,root:a.ownerDocument})}catch(S){n=new IntersectionObserver(x,_)}n.observe(e)}return i(!0),s}function r5(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ah(e),d=a||s?[...u?Gi(u):[],...Gi(t)]:[];d.forEach(E=>{a&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const f=u&&o?n5(u,n):null;let p=-1,h=null;i&&(h=new ResizeObserver(E=>{let[C]=E;C&&C.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,v=l?za(e):null;l&&T();function T(){const E=za(e);v&&!S1(v,E)&&n(),v=E,m=requestAnimationFrame(T)}return n(),()=>{var E;d.forEach(C=>{a&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),f==null||f(),(E=h)==null||E.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const a5=G8,s5=U8,Mg=B8,i5=(e,t,n)=>{const r=new Map,a={platform:t5,...n},s={...a.platform,_c:r};return M8(e,t,{...a,platform:s})};var Tl=typeof document<"u"?g.useLayoutEffect:g.useEffect;function nc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!nc(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!nc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function w1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fg(e,t){const n=w1(e);return Math.round(t*n)/n}function ed(e){const t=g.useRef(e);return Tl(()=>{t.current=e}),t}function o5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=g.useState(r);nc(p,r)||h(r);const[m,v]=g.useState(null),[T,E]=g.useState(null),C=g.useCallback(H=>{H!==S.current&&(S.current=H,v(H))},[]),_=g.useCallback(H=>{H!==A.current&&(A.current=H,E(H))},[]),N=s||m,x=i||T,S=g.useRef(null),A=g.useRef(null),P=g.useRef(d),O=l!=null,k=ed(l),w=ed(a),D=ed(u),M=g.useCallback(()=>{if(!S.current||!A.current)return;const H={placement:t,strategy:n,middleware:p};w.current&&(H.platform=w.current),i5(S.current,A.current,H).then(q=>{const L={...q,isPositioned:D.current!==!1};U.current&&!nc(P.current,L)&&(P.current=L,Yi.flushSync(()=>{f(L)}))})},[p,t,n,w,D]);Tl(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[u]);const U=g.useRef(!1);Tl(()=>(U.current=!0,()=>{U.current=!1}),[]),Tl(()=>{if(N&&(S.current=N),x&&(A.current=x),N&&x){if(k.current)return k.current(N,x,M);M()}},[N,x,M,k,O]);const G=g.useMemo(()=>({reference:S,floating:A,setReference:C,setFloating:_}),[C,_]),F=g.useMemo(()=>({reference:N,floating:x}),[N,x]),I=g.useMemo(()=>{const H={position:n,left:0,top:0};if(!F.floating)return H;const q=Fg(F.floating,d.x),L=Fg(F.floating,d.y);return o?{...H,transform:"translate("+q+"px, "+L+"px)",...w1(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:L}},[n,o,F.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:M,refs:G,elements:F,floatingStyles:I}),[d,M,G,F,I])}const l5=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Mg({element:r.current,padding:a}).fn(n):{}:r?Mg({element:r,padding:a}).fn(n):{}}}},c5=(e,t)=>({...a5(e),options:[e,t]}),u5=(e,t)=>({...s5(e),options:[e,t]}),d5=(e,t)=>({...l5(e),options:[e,t]}),C1={...S_},f5=C1.useInsertionEffect,h5=f5||(e=>e());function p5(e){const t=g.useRef(()=>{});return h5(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}var rc=typeof document<"u"?g.useLayoutEffect:g.useEffect;let Bg=!1,m5=0;const Ug=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+m5++;function g5(){const[e,t]=g.useState(()=>Bg?Ug():void 0);return rc(()=>{e==null&&t(Ug())},[]),g.useEffect(()=>{Bg=!0},[]),e}const b5=C1.useId,N1=b5||g5,v5=g.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:s,shift:i}},width:o=14,height:l=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:p,d:h,style:{transform:m,...v}={},...T}=t,E=N1(),[C,_]=g.useState(!1);if(rc(()=>{if(!a)return;Zn(a).direction==="rtl"&&_(!0)},[a]),!a)return null;const[N,x]=r.split("-"),S=N==="top"||N==="bottom";let A=f;(S&&i!=null&&i.x||!S&&i!=null&&i.y)&&(A=null);const P=d*2,O=P/2,k=o/2*(u/-8+1),w=l/2*u/4,D=!!h,M=A&&x==="end"?"bottom":"top";let U=A&&x==="end"?"right":"left";A&&C&&(U=x==="end"?"left":"right");const G=(s==null?void 0:s.x)!=null?A||s.x:"",F=(s==null?void 0:s.y)!=null?A||s.y:"",I=h||"M0,0"+(" H"+o)+(" L"+(o-k)+","+(l-w))+(" Q"+o/2+","+l+" "+k+","+(l-w))+" Z",H={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[N];return y("svg",{...T,"aria-hidden":!0,ref:n,width:D?o:o+P,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[U]:G,[M]:F,[N]:S||D?"100%":"calc(100% - "+P/2+"px)",transform:[H,m].filter(q=>!!q).join(" "),...v},children:[P>0&&c("path",{clipPath:"url(#"+E+")",fill:"none",stroke:p,strokeWidth:P+(h?0:1),d:I}),c("path",{stroke:P&&!h?T.fill:"none",d:I}),c("clipPath",{id:E,children:c("rect",{x:-O,y:O*(D?-1:1),width:o+P,height:o})})]})});function y5(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(a=>a(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(a=>a!==n))||[])}}}const E5=g.createContext(null),_5=g.createContext(null),T5=()=>{var e;return((e=g.useContext(E5))==null?void 0:e.id)||null},S5=()=>g.useContext(_5);function w5(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=N1(),s=g.useRef({}),[i]=g.useState(()=>y5()),o=T5()!=null,[l,u]=g.useState(r.reference),d=p5((h,m,v)=>{s.current.openEvent=h?m:void 0,i.emit("openchange",{open:h,event:m,reason:v,nested:o}),n==null||n(h,m,v)}),f=g.useMemo(()=>({setPositionReference:u}),[]),p=g.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return g.useMemo(()=>({dataRef:s,open:t,onOpenChange:d,elements:p,events:i,floatingId:a,refs:f}),[t,d,p,i,a,f])}function C5(e){e===void 0&&(e={});const{nodeId:t}=e,n=w5({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[s,i]=g.useState(null),[o,l]=g.useState(null),d=(a==null?void 0:a.domReference)||s,f=g.useRef(null),p=S5();rc(()=>{d&&(f.current=d)},[d]);const h=o5({...e,elements:{...a,...o&&{reference:o}}}),m=g.useCallback(_=>{const N=yn(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),getClientRects:()=>_.getClientRects(),contextElement:_}:_;l(N),h.refs.setReference(N)},[h.refs]),v=g.useCallback(_=>{(yn(_)||_===null)&&(f.current=_,i(_)),(yn(h.refs.reference.current)||h.refs.reference.current===null||_!==null&&!yn(_))&&h.refs.setReference(_)},[h.refs]),T=g.useMemo(()=>({...h.refs,setReference:v,setPositionReference:m,domReference:f}),[h.refs,v,m]),E=g.useMemo(()=>({...h.elements,domReference:d}),[h.elements,d]),C=g.useMemo(()=>({...h,...r,refs:T,elements:E,nodeId:t}),[h,T,E,t,r]);return rc(()=>{r.dataRef.current.floatingContext=C;const _=p==null?void 0:p.nodesRef.current.find(N=>N.id===t);_&&(_.context=C)}),g.useMemo(()=>({...h,context:C,refs:T,elements:E}),[h,T,E,C])}/*!
  react-datepicker v8.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var hf=function(t,n){return hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},hf(t,n)};function nn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ct=function(){return ct=Object.assign||function(n){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},ct.apply(this,arguments)};function wr(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var N5=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,a=r===void 0?!1:r,s=e.className,i=e.children,o=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return j.createElement("div",{className:s,role:"dialog","aria-label":o,"aria-modal":"true"},i)},x5=function(e,t){var n=g.useRef(null),r=g.useRef(e);r.current=e;var a=g.useCallback(function(s){var i,o=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;n.current&&!n.current.contains(o)&&(t&&o instanceof HTMLElement&&o.classList.contains(t)||(i=r.current)===null||i===void 0||i.call(r,s))},[t]);return g.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},Jc=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,s=e.style,i=e.ignoreClass,o=x5(n,i);return j.createElement("div",{className:r,style:s,ref:function(l){o.current=l,a&&(a.current=l)}},t)},ye;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(ye||(ye={}));function Ih(){var e=typeof window<"u"?window:globalThis;return e}var So=12;function mt(e){if(e==null)return new Date;var t=typeof e=="string"?vi(e):ke(e);return Zc(t)?t:new Date}function td(e,t,n,r,a){a===void 0&&(a=mt());for(var s=Vs(n)||Vs(Oh()),i=Array.isArray(t)?t:[t],o=0,l=i;o<l.length;o++){var u=l[o],d=NF(e,u,a,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(Zc(d)&&(!r||e===Pt(d,u,n)))return d}return null}function Zc(e,t){return ql(e)&&!Ya(e,new Date("1/1/1800"))}function Pt(e,t,n){if(n==="en")return Xr(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Vs(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Vs(Oh()),Xr(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Gn(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Pt(e,a,r)||""}function k5(e,t,n){if(!e)return"";var r=Gn(e,n),a=t?Gn(t,n):"";return"".concat(r," - ").concat(a)}function A5(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?Gn(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Gn(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}function nd(e,t){var n=t.hour,r=n===void 0?0:n,a=t.minute,s=a===void 0?0:a,i=t.second,o=i===void 0?0:i;return yl(El(_l(e,o),s),r)}function D5(e){return yh(e)}function I5(e,t){return Pt(e,"ddd",t)}function Sl(e){return Wa(e)}function pa(e,t,n){var r=Vs(t||Oh());return ur(e,{locale:r,weekStartsOn:n})}function qr(e){return e1(e)}function yi(e){return jc(e)}function Hg(e){return of(e)}function Gg(){return Wa(mt())}function $g(e){return JE(e)}function O5(e){return M6(e)}function P5(e){return ZE(e)}function vr(e,t){return e&&t?DF(e,t):!e&&!t}function mn(e,t){return e&&t?kF(e,t):!e&&!t}function ac(e,t){return e&&t?AF(e,t):!e&&!t}function lt(e,t){return e&&t?L6(e,t):!e&&!t}function Ia(e,t){return e&&t?I4(e,t):!e&&!t}function Ei(e,t,n){var r,a=Wa(t),s=JE(n);try{r=Hi(e,{start:a,end:s})}catch(i){r=!1}return r}function L5(e,t){var n=Ih();n.__localeData__||(n.__localeData__={}),n.__localeData__[e]=t}function Oh(){var e=Ih();return e.__localeId__}function Vs(e){if(typeof e=="string"){var t=Ih();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function R5(e,t,n){return t(Pt(e,"EEEE",n))}function M5(e,t){return Pt(e,"EEEEEE",t)}function F5(e,t){return Pt(e,"EEE",t)}function Ph(e,t){return Pt($n(mt(),e),"LLLL",t)}function x1(e,t){return Pt($n(mt(),e),"LLL",t)}function B5(e,t){return Pt(ms(mt(),e),"QQQ",t)}function Vn(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,i=n.excludeDateIntervals,o=n.includeDates,l=n.includeDateIntervals,u=n.filterDate;return wo(e,{minDate:r,maxDate:a})||s&&s.some(function(d){return d instanceof Date?lt(e,d):lt(e,d.date)})||i&&i.some(function(d){var f=d.start,p=d.end;return Hi(e,{start:f,end:p})})||o&&!o.some(function(d){return lt(e,d)})||l&&!l.some(function(d){var f=d.start,p=d.end;return Hi(e,{start:f,end:p})})||u&&!u(mt(e))||!1}function Lh(e,t){var n=t===void 0?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var i=s.start,o=s.end;return Hi(e,{start:i,end:o})}):r&&r.some(function(s){var i;return s instanceof Date?lt(e,s):lt(e,(i=s.date)!==null&&i!==void 0?i:new Date)})||!1}function k1(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,i=n.includeDates,o=n.filterDate;return wo(e,{minDate:r?e1(r):void 0,maxDate:a?ZE(a):void 0})||(s==null?void 0:s.some(function(l){return mn(e,l instanceof Date?l:l.date)}))||i&&!i.some(function(l){return mn(e,l)})||o&&!o(mt(e))||!1}function Xo(e,t,n,r){var a=et(e),s=vn(e),i=et(t),o=vn(t),l=et(r);return a===i&&a===l?s<=n&&n<=o:a<i?l===a&&s<=n||l===i&&o>=n||l<i&&l>a:!1}function U5(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,i=n.includeDates;return wo(e,{minDate:r,maxDate:a})||s&&s.some(function(o){return mn(o instanceof Date?o:o.date,e)})||i&&!i.some(function(o){return mn(o,e)})||!1}function Jo(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,i=n.includeDates,o=n.filterDate;return wo(e,{minDate:r,maxDate:a})||(s==null?void 0:s.some(function(l){return ac(e,l instanceof Date?l:l.date)}))||i&&!i.some(function(l){return ac(e,l)})||o&&!o(mt(e))||!1}function Zo(e,t,n){if(!t||!n||!ql(t)||!ql(n))return!1;var r=et(t),a=et(n);return r<=e&&a>=e}function wl(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,i=n.includeDates,o=n.filterDate,l=new Date(e,0,1);return wo(l,{minDate:r?jc(r):void 0,maxDate:a?t1(a):void 0})||(s==null?void 0:s.some(function(u){return vr(l,u instanceof Date?u:u.date)}))||i&&!i.some(function(u){return vr(l,u)})||o&&!o(mt(l))||!1}function el(e,t,n,r){var a=et(e),s=La(e),i=et(t),o=La(t),l=et(r);return a===i&&a===l?s<=n&&n<=o:a<i?l===a&&s<=n||l===i&&o>=n||l<i&&l>a:!1}function wo(e,t){var n,r=t===void 0?{}:t,a=r.minDate,s=r.maxDate;return(n=a&&Gs(e,a)<0||s&&Gs(e,s)>0)!==null&&n!==void 0?n:!1}function Wg(e,t){return t.some(function(n){return Vr(n)===Vr(e)&&jr(n)===jr(e)&&ha(n)===ha(e)})}function Yg(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,a=n.includeTimes,s=n.filterTime;return r&&Wg(e,r)||a&&!Wg(e,a)||s&&!s(e)||!1}function zg(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=mt();a=yl(a,Vr(e)),a=El(a,jr(e)),a=_l(a,ha(e));var s=mt();s=yl(s,Vr(n)),s=El(s,jr(n)),s=_l(s,ha(n));var i=mt();i=yl(i,Vr(r)),i=El(i,jr(r)),i=_l(i,ha(r));var o;try{o=!Hi(a,{start:s,end:i})}catch(l){o=!1}return o}function Vg(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=Ra(e,1);return r&&Kl(r,s)>0||a&&a.every(function(i){return Kl(i,s)>0})||!1}function jg(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=cr(e,1);return r&&Kl(s,r)>0||a&&a.every(function(i){return Kl(s,i)>0})||!1}function H5(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=jc(e),i=h1(s,1);return r&&Ql(r,i)>0||a&&a.every(function(o){return Ql(o,i)>0})||!1}function G5(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=t1(e),i=vh(s,1);return r&&Ql(i,r)>0||a&&a.every(function(o){return Ql(i,o)>0})||!1}function qg(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=$s(e,1);return r&&Xl(r,s)>0||a&&a.every(function(i){return Xl(i,s)>0})||!1}function $5(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.yearItemNumber,s=a===void 0?So:a,i=yi($s(e,s)),o=da(i,s).endPeriod,l=r&&et(r);return l&&l>o||!1}function Kg(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=Yr(e,1);return r&&Xl(s,r)>0||a&&a.every(function(i){return Xl(s,i)>0})||!1}function W5(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.yearItemNumber,s=a===void 0?So:a,i=Yr(e,s),o=da(i,s).startPeriod,l=r&&et(r);return l&&l<o||!1}function A1(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return Gs(a,t)>=0});return Tg(r)}else return n?Tg(n):t}function D1(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return Gs(a,t)<=0});return _g(r)}else return n?_g(n):t}function Qg(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,s=e.length;a<s;a++){var i=e[a];if(zr(i)){var o=Pt(i,"MM.dd.yyyy"),l=r.get(o)||[];l.includes(t)||(l.push(t),r.set(o,l))}else if(typeof i=="object"){var u=Object.keys(i),d=(n=u[0])!==null&&n!==void 0?n:"",f=i[d];if(typeof d=="string"&&Array.isArray(f))for(var p=0,h=f.length;p<h;p++){var m=f[p];if(m){var o=Pt(m,"MM.dd.yyyy"),l=r.get(o)||[];l.includes(d)||(l.push(d),r.set(o,l))}}}}return r}function Y5(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function z5(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var a=r.date,s=r.holidayName;if(zr(a)){var i=Pt(a,"MM.dd.yyyy"),o=n.get(i)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===t&&Y5(o.holidayNames,[s]))){o.className=t;var l=o.holidayNames;o.holidayNames=l?wr(wr([],l,!0),[s],!1):[s],n.set(i,o)}}}),n}function V5(e,t,n,r,a){for(var s=a.length,i=[],o=0;o<s;o++){var l=e,u=a[o];u&&(l=D6(l,Vr(u)),l=sf(l,jr(u)),l=P6(l,ha(u)));var d=sf(e,(n+1)*r);ga(l,t)&&Ya(l,d)&&u!=null&&i.push(u)}return i}function Xg(e){return e<10?"0".concat(e):"".concat(e)}function da(e,t){t===void 0&&(t=So);var n=Math.ceil(et(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function j5(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function Jg(e){var t=e.getSeconds(),n=e.getMilliseconds();return ke(e.getTime()-t*1e3-n)}function q5(e,t){return Jg(e).getTime()===Jg(t).getTime()}function Zg(e){if(!zr(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function e0(e,t){if(!zr(e)||!zr(t))throw new Error("Invalid date received");var n=Zg(e),r=Zg(t);return Ya(n,r)}function I1(e){return e.key===ye.Space}var K5=function(e){nn(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=j.createRef(),r.onTimeChange=function(a){var s,i;r.setState({time:a});var o=r.props.date,l=o instanceof Date&&!isNaN(+o),u=l?o:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),f=d[0],p=d[1];u.setHours(Number(f)),u.setMinutes(Number(p))}(i=(s=r.props).onChange)===null||i===void 0||i.call(s,u)},r.renderTimeInput=function(){var a=r.state.time,s=r.props,i=s.date,o=s.timeString,l=s.customTimeInput;return l?g.cloneElement(l,{date:i,value:a,onChange:r.onTimeChange}):j.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){r.onTimeChange(u.target.value||o)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return j.createElement("div",{className:"react-datepicker__input-time-container"},j.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),j.createElement("div",{className:"react-datepicker-time__input-container"},j.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(g.Component),Q5=function(e){nn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=g.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var a,s,i=r.key;i===ye.Space&&(r.preventDefault(),r.key=ye.Enter),(s=(a=n.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},n.isSameDay=function(r){return lt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Vn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return Lh(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return lt(n.props.day,pa(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&lt(r,pa(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,a=r.day,s=r.highlightDates;if(!s)return!1;var i=Pt(a,"MM.dd.yyyy");return s.get(i)},n.getHolidaysClass=function(){var r,a=n.props,s=a.day,i=a.holidays;if(!i)return[void 0];var o=Pt(s,"MM.dd.yyyy");return i.has(o)?[(r=i.get(o))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,a=r.day,s=r.startDate,i=r.endDate;return!s||!i?!1:Ei(a,s,i)},n.isInSelectingRange=function(){var r,a=n.props,s=a.day,i=a.selectsStart,o=a.selectsEnd,l=a.selectsRange,u=a.selectsDisabledDaysInRange,d=a.startDate,f=a.endDate,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(i||o||l)||!p||!u&&n.isDisabled()?!1:i&&f&&(Ya(p,f)||Ia(p,f))?Ei(s,p,f):o&&d&&!f&&(ga(p,d)||Ia(p,d))||l&&d&&!f&&(ga(p,d)||Ia(p,d))?Ei(s,d,p):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,s=a.day,i=a.startDate,o=a.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return o?lt(s,l):lt(s,i)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,s=a.day,i=a.endDate,o=a.selectsEnd,l=a.selectsRange,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return o||l?lt(s,u):lt(s,i)},n.isRangeStart=function(){var r=n.props,a=r.day,s=r.startDate,i=r.endDate;return!s||!i?!1:lt(s,a)},n.isRangeEnd=function(){var r=n.props,a=r.day,s=r.startDate,i=r.endDate;return!s||!i?!1:lt(i,a)},n.isWeekend=function(){var r=x4(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===vn(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(vn(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(mt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var a=n.props.dayClassName?n.props.dayClassName(r):void 0;return sn("react-datepicker__day",a,"react-datepicker__day--"+I5(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,a=r.day,s=r.ariaLabelPrefixWhenEnabled,i=s===void 0?"Choose":s,o=r.ariaLabelPrefixWhenDisabled,l=o===void 0?"Not available":o,u=n.isDisabled()||n.isExcluded()?l:i;return"".concat(u," ").concat(Pt(a,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,a=r.day,s=r.holidays,i=s===void 0?new Map:s,o=r.excludeDates,l=Pt(a,"MM.dd.yyyy"),u=[];return i.has(l)&&u.push.apply(u,i.get(l).holidayNames),n.isExcluded()&&u.push(o==null?void 0:o.filter(function(d){return d instanceof Date?lt(d,a):lt(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},n.getTabIndex=function(){var r=n.props.selected,a=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&lt(a,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(kg(n.props.day),n.props.day):kg(n.props.day)},n.render=function(){return j.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&j.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,a;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(g.Component),X5=function(e){nn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=g.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var a,s,i=r.key;i===ye.Space&&(r.preventDefault(),r.key=ye.Enter),(s=(a=n.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!lt(n.props.date,n.props.selected)&&lt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||lt(n.props.date,n.props.selected)&&lt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var a=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&lt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,a=n.isWeekDisabled,s=n.ariaLabelPrefix,i=s===void 0?t.defaultProps.ariaLabelPrefix:s,o=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!a,"react-datepicker__week-number--selected":!!o&&lt(this.props.date,this.props.selected)};return j.createElement("div",{ref:this.weekNumberEl,className:sn(l),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(g.Component),J5=function(e){nn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Vn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,a){n.props.onDayClick&&n.props.onDayClick(r,a)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,a,s){for(var i,o,l,u=new Date(r),d=0;d<7;d++){var f=new Date(r);f.setDate(f.getDate()+d);var p=!n.isDisabled(f);if(p){u=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,a,s),n.props.showWeekPicker&&n.handleDayClick(u,s),((i=n.props.shouldCloseOnSelect)!==null&&i!==void 0?i:t.defaultProps.shouldCloseOnSelect)&&((l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):D5(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),a=or(r,6),s=new Date(r);s<=a;){if(!n.isDisabled(s))return!1;s=or(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),a=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var i=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;a.push(j.createElement(X5,ct({key:"W"},t.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:i})))}return a.concat([0,1,2,3,4,5,6].map(function(o){var l=or(r,o);return j.createElement(Q5,ct({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return pa(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!lt(n.startOfWeek(),n.props.selected)&&lt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":lt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return j.createElement("div",{className:sn(n)},this.renderDays())},t}(g.Component),mi,Z5=6,Cs={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},rd=(mi={},mi[Cs.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},mi[Cs.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},mi[Cs.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},mi),tl=1;function t0(e,t){return e?Cs.FOUR_COLUMNS:t?Cs.TWO_COLUMNS:Cs.THREE_COLUMNS}var eB=function(e){nn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=wr([],Array(12),!0).map(function(){return g.createRef()}),n.QUARTER_REFS=wr([],Array(4),!0).map(function(){return g.createRef()}),n.isDisabled=function(r){return Vn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return Lh(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,a){var s,i;(i=(s=n.props).onDayClick)===null||i===void 0||i.call(s,r,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var a,s;(s=(a=n.props).onDayMouseEnter)===null||s===void 0||s.call(a,r)},n.handleMouseLeave=function(){var r,a;(a=(r=n.props).onMouseLeave)===null||a===void 0||a.call(r)},n.isRangeStartMonth=function(r){var a=n.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:mn($n(s,r),i)},n.isRangeStartQuarter=function(r){var a=n.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:ac(ms(s,r),i)},n.isRangeEndMonth=function(r){var a=n.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:mn($n(s,r),o)},n.isRangeEndQuarter=function(r){var a=n.props,s=a.day,i=a.startDate,o=a.endDate;return!i||!o?!1:ac(ms(s,r),o)},n.isInSelectingRangeMonth=function(r){var a,s=n.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,p=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(o||l||u)||!p?!1:o&&f?Xo(p,f,r,i):l&&d||u&&d&&!f?Xo(d,p,r,i):!1},n.isSelectingMonthRangeStart=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,i=s.day,o=s.startDate,l=s.selectsStart,u=$n(i,r),d=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return l?mn(u,d):mn(u,o)},n.isSelectingMonthRangeEnd=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,i=s.day,o=s.endDate,l=s.selectsEnd,u=s.selectsRange,d=$n(i,r),f=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return l||u?mn(d,f):mn(d,o)},n.isInSelectingRangeQuarter=function(r){var a,s=n.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,p=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(o||l||u)||!p?!1:o&&f?el(p,f,r,i):l&&d||u&&d&&!f?el(d,p,r,i):!1},n.isWeekInMonth=function(r){var a=n.props.day,s=or(r,6);return mn(r,a)||mn(s,a)},n.isCurrentMonth=function(r,a){return et(r)===et(mt())&&a===vn(mt())},n.isCurrentQuarter=function(r,a){return et(r)===et(mt())&&a===La(mt())},n.isSelectedMonth=function(r,a,s){return vn(s)===a&&et(r)===et(s)},n.isSelectMonthInList=function(r,a,s){return s.some(function(i){return n.isSelectedMonth(r,a,i)})},n.isSelectedQuarter=function(r,a,s){return La(r)===a&&et(r)===et(s)},n.renderWeeks=function(){for(var r=[],a=n.props.fixedHeight,s=0,i=!1,o=pa(qr(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(m){return n.props.showWeekPicker?pa(m,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(m){return n.props.showWeekPicker?pa(m,n.props.locale,n.props.calendarStartDay):n.props.selected},d=n.props.selected?u(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(j.createElement(J5,ct({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:o,month:vn(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!i;){s++,o=jl(o,1);var p=a&&s>=Z5,h=!a&&!n.isWeekInMonth(o);if(p||h)if(n.props.peekNextMonth)i=!0;else break}return r},n.onMonthClick=function(r,a){var s=n.isMonthDisabledForLabelDate(a),i=s.isDisabled,o=s.labelDate;i||n.handleDayClick(qr(o),r)},n.onMonthMouseEnter=function(r){var a=n.isMonthDisabledForLabelDate(r),s=a.isDisabled,i=a.labelDate;s||n.handleDayMouseEnter(qr(i))},n.handleMonthNavigation=function(r,a){var s,i,o,l;(i=(s=n.props).setPreSelection)===null||i===void 0||i.call(s,a),(l=(o=n.MONTH_REFS[r])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,a,s){var i,o=n.props,l=o.selected,u=o.preSelection,d=o.setPreSelection,f=o.minDate,p=o.maxDate,h=o.showFourColumnMonthYearPicker,m=o.showTwoColumnMonthYearPicker;if(u){var v=t0(h,m),T=n.getVerticalOffset(v),E=(i=rd[v])===null||i===void 0?void 0:i.grid,C=function(A,P,O){var k,w,D=P,M=O;switch(A){case ye.ArrowRight:D=cr(P,tl),M=O===11?0:O+tl;break;case ye.ArrowLeft:D=Ra(P,tl),M=O===0?11:O-tl;break;case ye.ArrowUp:D=Ra(P,T),M=!((k=E==null?void 0:E[0])===null||k===void 0)&&k.includes(O)?O+12-T:O-T;break;case ye.ArrowDown:D=cr(P,T),M=!((w=E==null?void 0:E[E.length-1])===null||w===void 0)&&w.includes(O)?O-12+T:O+T;break}return{newCalculatedDate:D,newCalculatedMonth:M}},_=function(A,P,O){for(var k=40,w=A,D=!1,M=0,U=C(w,P,O),G=U.newCalculatedDate,F=U.newCalculatedMonth;!D;){if(M>=k){G=P,F=O;break}if(f&&G<f){w=ye.ArrowRight;var I=C(w,G,F);G=I.newCalculatedDate,F=I.newCalculatedMonth}if(p&&G>p){w=ye.ArrowLeft;var I=C(w,G,F);G=I.newCalculatedDate,F=I.newCalculatedMonth}if(U5(G,n.props)){var I=C(w,G,F);G=I.newCalculatedDate,F=I.newCalculatedMonth}else D=!0;M++}return{newCalculatedDate:G,newCalculatedMonth:F}};if(a===ye.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),d==null||d(l));return}var N=_(a,u,s),x=N.newCalculatedDate,S=N.newCalculatedMonth;switch(a){case ye.ArrowRight:case ye.ArrowLeft:case ye.ArrowUp:case ye.ArrowDown:n.handleMonthNavigation(S,x);break}}},n.getVerticalOffset=function(r){var a,s;return(s=(a=rd[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,a){var s=n.props,i=s.disabledKeyboardNavigation,o=s.handleOnMonthKeyDown,l=r.key;l!==ye.Tab&&r.preventDefault(),i||n.handleKeyboardNavigation(r,l,a),o&&o(r)},n.onQuarterClick=function(r,a){var s=ms(n.props.day,a);Jo(s,n.props)||n.handleDayClick(Hg(s),r)},n.onQuarterMouseEnter=function(r){var a=ms(n.props.day,r);Jo(a,n.props)||n.handleDayMouseEnter(Hg(a))},n.handleQuarterNavigation=function(r,a){var s,i,o,l;n.isDisabled(a)||n.isExcluded(a)||((i=(s=n.props).setPreSelection)===null||i===void 0||i.call(s,a),(l=(o=n.QUARTER_REFS[r-1])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,a){var s,i,o=r.key;if(!n.props.disabledKeyboardNavigation)switch(o){case ye.Enter:n.onQuarterClick(r,a),(i=(s=n.props).setPreSelection)===null||i===void 0||i.call(s,n.props.selected);break;case ye.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,vh(n.props.preSelection,1));break;case ye.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,h1(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var a,s=n.props,i=s.day,o=s.minDate,l=s.maxDate,u=s.excludeDates,d=s.includeDates,f=$n(i,r);return{isDisabled:(a=(o||l||u||d)&&k1(f,n.props))!==null&&a!==void 0?a:!1,labelDate:f}},n.isMonthDisabled=function(r){var a=n.isMonthDisabledForLabelDate(r).isDisabled;return a},n.getMonthClassNames=function(r){var a=n.props,s=a.day,i=a.startDate,o=a.endDate,l=a.preSelection,u=a.monthClassName,d=u?u($n(s,r)):void 0,f=n.getSelection();return sn("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(s,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":i&&o?Xo(i,o,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=vn(n.props.preSelection),s=n.isMonthDisabledForLabelDate(a).isDisabled,i=r===a&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return i},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=La(n.props.preSelection),s=Jo(n.props.day,n.props),i=r===a&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return i},n.getAriaLabel=function(r){var a=n.props,s=a.chooseDayAriaLabelPrefix,i=s===void 0?"Choose":s,o=a.disabledDayAriaLabelPrefix,l=o===void 0?"Not available":o,u=a.day,d=a.locale,f=$n(u,r),p=n.isDisabled(f)||n.isExcluded(f)?l:i;return"".concat(p," ").concat(Pt(f,"MMMM yyyy",d))},n.getQuarterClassNames=function(r){var a=n.props,s=a.day,i=a.startDate,o=a.endDate,l=a.selected,u=a.minDate,d=a.maxDate,f=a.excludeDates,p=a.includeDates,h=a.filterDate,m=a.preSelection,v=a.disabledKeyboardNavigation,T=(u||d||f||p||h)&&Jo(ms(s,r),n.props);return sn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":T,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!v&&m&&n.isSelectedQuarter(s,r,m)&&!T,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":i&&o?el(i,o,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var a=n.props,s=a.showFullMonthYearPicker,i=a.renderMonthContent,o=a.locale,l=a.day,u=x1(r,o),d=Ph(r,o);return i?i(r,u,d,l):s?d:u},n.getQuarterContent=function(r){var a,s=n.props,i=s.renderQuarterContent,o=s.locale,l=B5(r,o);return(a=i==null?void 0:i(r,l))!==null&&a!==void 0?a:l},n.renderMonths=function(){var r,a=n.props,s=a.showTwoColumnMonthYearPicker,i=a.showFourColumnMonthYearPicker,o=a.day,l=a.selected,u=(r=rd[t0(i,s)])===null||r===void 0?void 0:r.grid;return u==null?void 0:u.map(function(d,f){return j.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(p,h){return j.createElement("div",{ref:n.MONTH_REFS[p],key:h,onClick:function(m){n.onMonthClick(m,p)},onKeyDown:function(m){I1(m)&&(m.preventDefault(),m.key=ye.Enter),n.onMonthKeyDown(m,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(o,p)?"date":void 0,"aria-selected":l?n.isSelectedMonth(o,p,l):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,a=r.day,s=r.selected,i=[1,2,3,4];return j.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(o,l){return j.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(u){n.onQuarterClick(u,o)},onKeyDown:function(u){n.onQuarterKeyDown(u,o)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(o)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(o)}:void 0,className:n.getQuarterClassNames(o),"aria-selected":s?n.isSelectedQuarter(a,o,s):void 0,tabIndex:Number(n.getQuarterTabIndex(o)),"aria-current":n.isCurrentQuarter(a,o)?"date":void 0},n.getQuarterContent(o))}))},n.getClassNames=function(){var r=n.props,a=r.selectingDate,s=r.selectsStart,i=r.selectsEnd,o=r.showMonthYearPicker,l=r.showQuarterYearPicker,u=r.showWeekPicker;return sn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||i)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,a=n.selectedDates,s=n.selectsMultiple;if(s)return a;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,a=n.showQuarterYearPicker,s=n.day,i=n.ariaLabelPrefix,o=i===void 0?"Month ":i,l=o?o.trim()+" ":"";return j.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Pt(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(g.Component),tB=function(e){nn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,a){return j.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?j.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return j.createElement(Jc,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(g.Component),nB=function(e){nn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(a,s){return j.createElement("option",{key:a,value:s},a)})},n.renderSelectMode=function(r){return j.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,a){return j.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},j.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(r){return j.createElement(tB,ct({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var a=n.state.dropdownVisible,s=[n.renderReadView(!a,r)];return a&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return x1(s,n.props.locale)}:function(s){return Ph(s,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return j.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(g.Component);function rB(e,t){for(var n=[],r=qr(e),a=qr(t);!ga(r,a);)n.push(mt(r)),r=cr(r,1);return n}var aB=function(e){nn(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var s=uf(a),i=vr(r.props.date,a)&&mn(r.props.date,a);return j.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":i?"true":void 0},i?j.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Pt(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:rB(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=sn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return j.createElement(Jc,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(g.Component),sB=function(e){nn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=qr(n.props.minDate),a=qr(n.props.maxDate),s=[];!ga(r,a);){var i=uf(r);s.push(j.createElement("option",{key:i,value:i},Pt(r,n.props.dateFormat,n.props.locale))),r=cr(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return j.createElement("select",{value:uf(qr(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var a=Pt(n.props.date,n.props.dateFormat,n.props.locale);return j.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},j.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return j.createElement(aB,ct({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown();var a=mt(r);vr(n.props.date,a)&&mn(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return j.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(g.Component),iB=function(e){nn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var a,s;(n.props.minTime||n.props.maxTime)&&zg(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Yg(r,n.props)||(s=(a=n.props).onChange)===null||s===void 0||s.call(a,r)},n.isSelectedTime=function(r){return n.props.selected&&q5(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&zg(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Yg(r,n.props)},n.liClasses=function(r){var a,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Vr(r)*3600+jr(r)*60+ha(r))%(((a=n.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,a){var s,i;r.key===ye.Space&&(r.preventDefault(),r.key=ye.Enter),(r.key===ye.ArrowUp||r.key===ye.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===ye.ArrowDown||r.key===ye.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===ye.Enter&&n.handleClick(a),(i=(s=n.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},n.renderTimes=function(){for(var r,a=[],s=typeof n.props.format=="string"?n.props.format:"p",i=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,o=n.props.selected||n.props.openToDate||mt(),l=Sl(o),u=n.props.injectTimes&&n.props.injectTimes.sort(function(T,E){return T.getTime()-E.getTime()}),d=60*j5(o),f=d/i,p=0;p<f;p++){var h=sf(l,p*i);if(a.push(h),u){var m=V5(l,h,p,i,u);a=a.concat(m)}}var v=a.reduce(function(T,E){return E.getTime()<=o.getTime()?E:T},a[0]);return a.map(function(T){return j.createElement("li",{key:T.valueOf(),onClick:n.handleClick.bind(n,T),className:n.liClasses(T),ref:function(E){T===v&&(n.centerLi=E)},onKeyDown:function(E){n.handleOnKeyDown(E,T)},tabIndex:T===v?0:-1,role:"option","aria-selected":n.isSelectedTime(T)?"true":void 0,"aria-disabled":n.isDisabledTime(T)?"true":void 0},Pt(T,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?j.createElement(j.Fragment,null):j.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},j.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,a=this.state.height;return j.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),j.createElement("div",{className:"react-datepicker__time"},j.createElement("div",{className:"react-datepicker__time-box"},j.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(g.Component),n0=3,oB=function(e){nn(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=wr([],Array(r.props.yearItemNumber),!0).map(function(){return g.createRef()}),r.isDisabled=function(a){return Vn(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return Lh(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var s=function(){var i,o;(o=(i=r.YEAR_REFS[a])===null||i===void 0?void 0:i.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(a,s){r.props.onDayClick&&r.props.onDayClick(a,s)},r.handleYearNavigation=function(a,s){var i,o,l,u,d=r.props,f=d.date,p=d.yearItemNumber;if(!(f===void 0||p===void 0)){var h=da(f,p).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,s),a-h<0?r.updateFocusOnPaginate(p-(h-a)):a-h>=p?r.updateFocusOnPaginate(Math.abs(p-(a-h))):(u=(l=r.YEAR_REFS[a-h])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},r.isSameDay=function(a,s){return lt(a,s)},r.isCurrentYear=function(a){return a===et(mt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&vr(mr(mt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&vr(mr(mt(),a),r.props.endDate)},r.isInRange=function(a){return Zo(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var s=r.props,i=s.selectsStart,o=s.selectsEnd,l=s.selectsRange,u=s.startDate,d=s.endDate;return!(i||o||l)||!r.selectingDate()?!1:i&&d?Zo(a,r.selectingDate(),d):o&&u||l&&u&&!d?Zo(a,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var s;if(!r.isInSelectingRange(a))return!1;var i=r.props,o=i.startDate,l=i.selectsStart,u=mr(mt(),a);return l?vr(u,(s=r.selectingDate())!==null&&s!==void 0?s:null):vr(u,o!=null?o:null)},r.isSelectingRangeEnd=function(a){var s;if(!r.isInSelectingRange(a))return!1;var i=r.props,o=i.endDate,l=i.selectsEnd,u=i.selectsRange,d=mr(mt(),a);return l||u?vr(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):vr(d,o!=null?o:null)},r.isKeyboardSelected=function(a){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,i=s.minDate,o=s.maxDate,l=s.excludeDates,u=s.includeDates,d=s.filterDate,f=yi(mr(r.props.date,a)),p=(i||o||l||u||d)&&wl(a,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!lt(f,yi(r.props.selected))&&lt(f,yi(r.props.preSelection))&&!p}},r.isSelectedYear=function(a){var s=r.props,i=s.selectsMultiple,o=s.selected,l=s.selectedDates;return i?l==null?void 0:l.some(function(u){return a===et(u)}):!o||a===et(o)},r.onYearClick=function(a,s){var i=r.props.date;i!==void 0&&r.handleYearClick(yi(mr(i,s)),a)},r.onYearKeyDown=function(a,s){var i,o,l=a.key,u=r.props,d=u.date,f=u.yearItemNumber,p=u.handleOnKeyDown;if(l!==ye.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case ye.Enter:if(r.props.selected==null)break;r.onYearClick(a,s),(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,r.props.selected);break;case ye.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Yr(r.props.preSelection,1));break;case ye.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,$s(r.props.preSelection,1));break;case ye.ArrowUp:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var h=da(d,f).startPeriod,m=n0,v=s-m;if(v<h){var T=f%m;s>=h&&s<h+T?m=T:m+=T,v=s-m}r.handleYearNavigation(v,$s(r.props.preSelection,m));break}case ye.ArrowDown:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var E=da(d,f).endPeriod,m=n0,v=s+m;if(v>E){var T=f%m;s<=E&&s>E-T?m=T:m+=T,v=s+m}r.handleYearNavigation(v,Yr(r.props.preSelection,m));break}}p&&p(a)},r.getYearClassNames=function(a){var s=r.props,i=s.date,o=s.minDate,l=s.maxDate,u=s.excludeDates,d=s.includeDates,f=s.filterDate,p=s.yearClassName;return sn("react-datepicker__year-text","react-datepicker__year-".concat(a),i?p==null?void 0:p(mr(i,a)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(a),"react-datepicker__year-text--disabled":(o||l||u||d||f)&&wl(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=et(r.props.preSelection),i=wl(a,r.props);return a===s&&!i?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return t.prototype.render=function(){var n=this,r=[],a=this.props,s=a.date,i=a.yearItemNumber,o=a.onYearMouseEnter,l=a.onYearMouseLeave;if(s===void 0)return null;for(var u=da(s,i),d=u.startPeriod,f=u.endPeriod,p=function(v){r.push(j.createElement("div",{ref:h.YEAR_REFS[v-d],onClick:function(T){n.onYearClick(T,v)},onKeyDown:function(T){I1(T)&&(T.preventDefault(),T.key=ye.Enter),n.onYearKeyDown(T,v)},tabIndex:Number(h.getYearTabIndex(v)),className:h.getYearClassNames(v),onMouseEnter:h.props.usePointerEvent?void 0:function(T){return o(T,v)},onPointerEnter:h.props.usePointerEvent?function(T){return o(T,v)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(T){return l(T,v)},onPointerLeave:h.props.usePointerEvent?function(T){return l(T,v)}:void 0,key:v,"aria-current":h.isCurrentYear(v)?"date":void 0},h.getYearContent(v)))},h=this,m=d;m<=f;m++)p(m);return j.createElement("div",{className:"react-datepicker__year"},j.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(g.Component);function lB(e,t,n,r){for(var a=[],s=0;s<2*t+1;s++){var i=e+t-s,o=!0;n&&(o=et(n)<=i),r&&o&&(o=et(r)>=i),o&&a.push(i)}return a}var cB=function(e){nn(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var o=r.props.year,l=r.state.yearsList.map(function(f){return j.createElement("div",{className:o===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":o===f?"true":void 0},o===f?j.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),u=r.props.minDate?et(r.props.minDate):null,d=r.props.maxDate?et(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(f){return f===d}))&&l.unshift(j.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},j.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(f){return f===u}))&&l.push(j.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},j.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(o){r.props.onChange(o)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(o){var l=r.state.yearsList.map(function(u){return u+o});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,i=a||(s?10:5);return r.state={yearsList:lB(r.props.year,i,r.props.minDate,r.props.maxDate)},r.dropdownRef=g.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,a=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=sn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return j.createElement(Jc,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(g.Component),uB=function(e){nn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?et(n.props.minDate):1900,a=n.props.maxDate?et(n.props.maxDate):2100,s=[],i=r;i<=a;i++)s.push(j.createElement("option",{key:i,value:i},i));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return j.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return j.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return n.toggleDropdown(a)}},j.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),j.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return j.createElement(cB,ct({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,a){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,a),n.setOpen()},n.onSelect=function(r,a){var s,i;(i=(s=n.props).onSelect)===null||i===void 0||i.call(s,r,a)},n.setOpen=function(){var r,a;(a=(r=n.props).setOpen)===null||a===void 0||a.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return j.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(g.Component),dB=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],fB=function(e){var t=(e.className||"").split(/\s+/);return dB.some(function(n){return t.indexOf(n)>=0})},hB=function(e){nn(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var s,i;fB(a.target)&&((i=(s=r.props).onDropdownFocus)===null||i===void 0||i.call(s,a))},r.getDateInView=function(){var a=r.props,s=a.preSelection,i=a.selected,o=a.openToDate,l=A1(r.props),u=D1(r.props),d=mt(),f=o||i||s;return f||(l&&Ya(d,l)?l:u&&ga(d,u)?u:d)},r.increaseMonth=function(){r.setState(function(a){var s=a.date;return{date:cr(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var s=a.date;return{date:Ra(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,s,i){r.props.onSelect(a,s,i),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,s){r.setState({selectingDate:mr(mt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,s)},r.handleYearMouseLeave=function(a,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,s)},r.handleYearChange=function(a){var s,i,o,l;(i=(s=r.props).onYearChange)===null||i===void 0||i.call(s,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(l=(o=r.props).setOpen)===null||l===void 0||l.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!Vn(a,r.props))return a;for(var s=qr(a),i=P5(a),o=R6(i,s),l=null,u=0;u<=o;u++){var d=or(s,u);if(!Vn(d,r.props)){l=d;break}}return l},r.handleMonthChange=function(a){var s,i,o,l=(s=r.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(o=(i=r.props).setOpen)===null||o===void 0||o.call(i,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(a){var s,i;(i=(s=r.props).onMonthChange)===null||i===void 0||i.call(s,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(s){var i=s.date;return{date:mr(i,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(s){var i=s.date;return{date:$n(i,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(s){var i=s.date;return{date:mr($n(i,vn(a)),et(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){a===void 0&&(a=r.state.date);var s=pa(a,r.props.locale,r.props.calendarStartDay),i=[];return r.props.showWeekNumbers&&i.push(j.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map(function(o){var l=or(s,o),u=r.formatWeekday(l,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return j.createElement("div",{key:o,"aria-label":Pt(l,"EEEE",r.props.locale),className:sn("react-datepicker__day-name",d)},u)}))},r.formatWeekday=function(a,s){return r.props.formatWeekDay?R5(a,r.props.formatWeekDay,s):r.props.useWeekdaysShort?F5(a,s):M5(a,s)},r.decreaseYear=function(){r.setState(function(a){var s,i=a.date;return{date:$s(i,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,s,i;if(!r.props.renderCustomHeader){var o=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?o-1:0,u=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=Ra(r.state.date,u),f;switch(!0){case r.props.showMonthYearPicker:f=qg(r.state.date,r.props);break;case r.props.showYearPicker:f=$5(r.state.date,r.props);break;case r.props.showQuarterYearPicker:f=H5(r.state.date,r.props);break;default:f=Vg(d,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&f||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],h=["react-datepicker__navigation","react-datepicker__navigation--previous"],m=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(m=r.decreaseYear),f&&r.props.showDisabledMonthNavigation&&(h.push("react-datepicker__navigation--previous--disabled"),m=void 0);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,T=r.props,E=T.previousMonthButtonLabel,C=E===void 0?t.defaultProps.previousMonthButtonLabel:E,_=T.previousYearButtonLabel,N=_===void 0?t.defaultProps.previousYearButtonLabel:_,x=r.props,S=x.previousMonthAriaLabel,A=S===void 0?typeof C=="string"?C:"Previous Month":S,P=x.previousYearAriaLabel,O=P===void 0?typeof N=="string"?N:"Previous Year":P;return j.createElement("button",{type:"button",className:h.join(" "),onClick:m,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?O:A},j.createElement("span",{className:p.join(" ")},v?N:C))}}},r.increaseYear=function(){r.setState(function(a){var s,i=a.date;return{date:Yr(i,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=Kg(r.state.date,r.props);break;case r.props.showYearPicker:s=W5(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=G5(r.state.date,r.props);break;default:s=jg(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.nextMonthButtonLabel,p=f===void 0?t.defaultProps.nextMonthButtonLabel:f,h=d.nextYearButtonLabel,m=h===void 0?t.defaultProps.nextYearButtonLabel:h,v=r.props,T=v.nextMonthAriaLabel,E=T===void 0?typeof p=="string"?p:"Next Month":T,C=v.nextYearAriaLabel,_=C===void 0?typeof m=="string"?m:"Next Year":C;return j.createElement("button",{type:"button",className:i.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?_:E},j.createElement("span",{className:o.join(" ")},u?m:p))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),j.createElement("h2",{className:s.join(" ")},Pt(a,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return j.createElement(uB,ct({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:et(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return j.createElement(nB,ct({},t.defaultProps,r.props,{month:vn(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return j.createElement(sB,ct({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(Gg(),a),r.props.setPreSelection&&r.props.setPreSelection(Gg())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return j.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(a){var s=a.monthDate,i=a.i;return j.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),j.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(i!==0),r.renderMonthYearDropdown(i!==0),r.renderYearDropdown(i!==0)),j.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(a){var s,i,o=a.monthDate,l=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=Vg(r.state.date,r.props),d=jg(r.state.date,r.props),f=qg(r.state.date,r.props),p=Kg(r.state.date,r.props),h=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return j.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(i=(s=r.props).renderCustomHeader)===null||i===void 0?void 0:i.call(s,ct(ct({},r.state),{customHeaderCount:l,monthDate:o,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:p})),h&&j.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderYearHeader=function(a){var s=a.monthDate,i=r.props,o=i.showYearPicker,l=i.yearItemNumber,u=l===void 0?t.defaultProps.yearItemNumber:l,d=da(s,u),f=d.startPeriod,p=d.endPeriod;return j.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(f," - ").concat(p):et(s))},r.renderHeader=function(a){var s=a.monthDate,i=a.i,o=i===void 0?0:i,l={monthDate:s,i:o};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var a,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var i=[],o=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?o-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Yr(r.state.date,l):Ra(r.state.date,l),d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<o;++f){var p=f-d+l,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Yr(u,p):cr(u,p),m="month-".concat(f),v=f<o-1,T=f>0;i.push(j.createElement("div",{key:m,ref:function(E){r.monthContainer=E!=null?E:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:f}),j.createElement(eB,ct({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:T}))))}return i}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return j.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),j.createElement(oB,ct({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return j.createElement(iB,ct({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,s=a&&Zc(a)&&!!r.props.selected,i=s?"".concat(Xg(a.getHours()),":").concat(Xg(a.getMinutes())):"";if(r.props.showTimeInput)return j.createElement(K5,ct({},t.defaultProps,r.props,{date:a,timeString:i,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a,s=da(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),i=s.startPeriod,o=s.endPeriod,l;return r.props.showYearPicker?l="".concat(i," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=et(r.state.date):l="".concat(Ph(vn(r.state.date),r.props.locale)," ").concat(et(r.state.date)),j.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return j.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=g.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:So}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!lt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!mn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!lt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||N5;return j.createElement(Jc,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},j.createElement("div",{style:{display:"contents"},ref:this.containerRef},j.createElement(n,{className:sn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(g.Component),pB=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,a=e.onClick,s="react-datepicker__calendar-icon";if(typeof t=="string")return j.createElement("i",{className:"".concat(s," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(j.isValidElement(t)){var i=t;return j.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof i.props.onClick=="function"&&i.props.onClick(o),typeof a=="function"&&a(o)}})}return j.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},j.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},O1=function(e){nn(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return w_.createPortal(this.props.children,this.el)},t}(g.Component),mB="[tabindex], a, button, input, select, textarea",gB=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},P1=function(e){nn(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(mB),1,-1).filter(gB)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=g.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?j.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},j.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,j.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(g.Component);function bB(e){var t=function(n){var r,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=g.useRef(null),i=C5(ct({open:!a,whileElementsMounted:r5,placement:n.popperPlacement,middleware:wr([u5({padding:15}),c5(10),d5({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),o=ct(ct({},n),{hidePopper:a,popperProps:ct(ct({},i),{arrowRef:s})});return j.createElement(e,ct({},o))};return t}var vB=function(e){nn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,a=n.wrapperClassName,s=n.hidePopper,i=s===void 0?t.defaultProps.hidePopper:s,o=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,d=n.popperOnKeyDown,f=n.portalId,p=n.portalHost,h=n.popperProps,m=n.showArrow,v=void 0;if(!i){var T=sn("react-datepicker-popper",r);v=j.createElement(P1,{enableTabLoop:u},j.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:T,"data-placement":h.placement,onKeyDown:d},o,m&&j.createElement(v5,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(v=g.createElement(this.props.popperContainer,{},v)),f&&!i&&(v=j.createElement(O1,{portalId:f,portalHost:p},v));var E=sn("react-datepicker-wrapper",a);return j.createElement(j.Fragment,null,j.createElement("div",{ref:h.refs.setReference,className:E},l),v)},t}(g.Component),yB=bB(vB),r0="react-datepicker-ignore-onclickoutside";function EB(e,t){return e&&t?vn(e)!==vn(t)||et(e)!==et(t):e!==t}var ad="Date input not valid.",_B=function(e){nn(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:mt()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,i){var o=new Date(i.date);return Zc(o)?wr(wr([],s,!0),[ct(ct({},i),{date:o})],!1):s},[])},r.calcInitialState=function(){var a,s=r.getPreSelection(),i=A1(r.props),o=D1(r.props),l=i&&Ya(s,Sl(i))?i:o&&ga(s,$g(o))?o:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:l,highlightDates:Qg(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(ct(ct({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(ct(ct({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},r.setBlur=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,s){s===void 0&&(s=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:sd},function(){a||r.setState(function(i){return{focused:s?i.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return zr(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var s,i,o=r.state.wasHidden,l=o?r.state.open:!0;o&&r.resetHiddenStatus(),r.state.preventFocus||((i=(s=r.props).onFocus)===null||i===void 0||i.call(s,a),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(a){var s,i;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((i=(s=r.props).onBlur)===null||i===void 0||i.call(s,a)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var s,i;r.props.inline||r.setOpen(!1),(i=(s=r.props).onClickOutside)===null||i===void 0||i.call(s,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,s,i,o,l,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var f=u[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,u),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){r.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:TB});var p=r.props,h=p.selectsRange,m=p.startDate,v=p.endDate,T=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,E=(s=r.props.strictParsing)!==null&&s!==void 0?s:t.defaultProps.strictParsing,C=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(h){var _=C.split("-",2).map(function(w){return w.trim()}),N=_[0],x=_[1],S=td(N!=null?N:"",T,r.props.locale,E),A=td(x!=null?x:"",T,r.props.locale,E),P=(m==null?void 0:m.getTime())!==(S==null?void 0:S.getTime()),O=(v==null?void 0:v.getTime())!==(A==null?void 0:A.getTime());if(!P&&!O||S&&Vn(S,r.props)||A&&Vn(A,r.props))return;(o=(i=r.props).onChange)===null||o===void 0||o.call(i,[S,A],f)}else{var k=td(C,T,r.props.locale,E,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(k||!C)&&r.setSelected(k,f,!0)}}},r.handleSelect=function(a,s,i){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(a,s,!1,i),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(a);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var o=r.props,l=o.startDate,u=o.endDate;l&&!u&&(r.props.swapRange||!e0(a,l))&&r.setOpen(!1)}},r.setSelected=function(a,s,i,o){var l,u,d=a;if(r.props.showYearPicker){if(d!==null&&wl(et(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&k1(d,r.props))return}else if(d!==null&&Vn(d,r.props))return;var f=r.props,p=f.onChange,h=f.selectsRange,m=f.startDate,v=f.endDate,T=f.selectsMultiple,E=f.selectedDates,C=f.minTime,_=f.swapRange;if(!Ia(r.props.selected,d)||r.props.allowSameDay||h||T)if(d!==null&&(r.props.selected&&(!i||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=nd(d,{hour:Vr(r.props.selected),minute:jr(r.props.selected),second:ha(r.props.selected)})),!i&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(d=nd(d,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:o})),h){var N=!m&&!v,x=m&&!v,S=m&&v;N?p==null||p([d,null],s):x&&(d===null?p==null||p([null,null],s):e0(d,m)?_?p==null||p([d,m],s):p==null||p([d,null],s):p==null||p([m,d],s)),S&&(p==null||p([d,null],s))}else if(T){if(d!==null)if(!(E!=null&&E.length))p==null||p([d],s);else{var A=E.some(function(O){return lt(O,d)});if(A){var P=E.filter(function(O){return!lt(O,d)});p==null||p(P,s)}else p==null||p(wr(wr([],E,!0),[d],!1),s)}}else p==null||p(d,s);i||((u=(l=r.props).onSelect)===null||u===void 0||u.call(l,d,s),r.setState({inputValue:null}))},r.setPreSelection=function(a){var s=zr(r.props.minDate),i=zr(r.props.maxDate),o=!0;if(a){var l=Sl(a);if(s&&i)o=Ei(a,r.props.minDate,r.props.maxDate);else if(s){var u=Sl(r.props.minDate);o=ga(a,u)||Ia(l,u)}else if(i){var d=$g(r.props.maxDate);o=Ya(a,d)||Ia(l,d)}}o&&r.setState({preSelection:a})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var s,i;if(!(r.props.selectsRange||r.props.selectsMultiple)){var o=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?a:nd(o,{hour:Vr(a),minute:jr(a)});r.setState({preSelection:l}),(i=(s=r.props).onChange)===null||i===void 0||i.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(a=r.props).onInputClick)===null||s===void 0||s.call(a)},r.onInputKeyDown=function(a){var s,i,o,l,u,d;(i=(s=r.props).onKeyDown)===null||i===void 0||i.call(s,a);var f=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===ye.ArrowDown||f===ye.ArrowUp||f===ye.Enter)&&((o=r.onInputClick)===null||o===void 0||o.call(r));return}if(r.state.open){if(f===ye.ArrowDown||f===ye.ArrowUp){a.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var m=mt(r.state.preSelection);f===ye.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===sd?(r.handleSelect(m,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(m)):r.setOpen(!1)):f===ye.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):f===ye.Tab&&r.setOpen(!1),r.inputOk()||(d=(u=r.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:ad})}},r.onPortalKeyDown=function(a){var s=a.key;s===ye.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var s,i,o,l,u,d,f=r.props,p=f.minDate,h=f.maxDate,m=f.disabledKeyboardNavigation,v=f.showWeekPicker,T=f.shouldCloseOnSelect,E=f.locale,C=f.calendarStartDay,_=f.adjustDateOnChange,N=f.inline;if((i=(s=r.props).onKeyDown)===null||i===void 0||i.call(s,a),!m){var x=a.key,S=a.shiftKey,A=mt(r.state.preSelection),P=function(G,F){var I=F;switch(G){case ye.ArrowRight:I=v?jl(F,1):or(F,1);break;case ye.ArrowLeft:I=v?Dg(F,1):IF(F,1);break;case ye.ArrowUp:I=Dg(F,1);break;case ye.ArrowDown:I=jl(F,1);break;case ye.PageUp:I=S?$s(F,1):Ra(F,1);break;case ye.PageDown:I=S?Yr(F,1):cr(F,1);break;case ye.Home:I=pa(F,E,C);break;case ye.End:I=O5(F);break}return I},O=function(G,F){for(var I=40,H=G,q=!1,L=0,te=P(G,F);!q;){if(L>=I){te=F;break}p&&te<p&&(H=ye.ArrowRight,te=Vn(p,r.props)?P(H,te):p),h&&te>h&&(H=ye.ArrowLeft,te=Vn(h,r.props)?P(H,te):h),Vn(te,r.props)?((H===ye.PageUp||H===ye.Home)&&(H=ye.ArrowRight),(H===ye.PageDown||H===ye.End)&&(H=ye.ArrowLeft),te=P(H,te)):q=!0,L++}return te};if(x===ye.Enter){a.preventDefault(),r.handleSelect(A,a),!T&&r.setPreSelection(A);return}else if(x===ye.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(o=r.props).onInputError)===null||l===void 0||l.call(o,{code:1,msg:ad});return}var k=null;switch(x){case ye.ArrowLeft:case ye.ArrowRight:case ye.ArrowUp:case ye.ArrowDown:case ye.PageUp:case ye.PageDown:case ye.Home:case ye.End:k=O(x,A);break}if(!k){(d=(u=r.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:ad});return}if(a.preventDefault(),r.setState({lastPreSelectChange:sd}),_&&r.setSelected(k),r.setPreSelection(k),N){var w=vn(A),D=vn(k),M=et(A),U=et(k);w!==D||M!==U?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(a){var s=a.key;s===ye.Escape&&(a.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var s=r.props,i=s.selectsRange,o=s.onChange;i?o==null||o([null,null],a):o==null||o(null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,s;return!r.props.inline&&!r.isCalendarOpen()?null:j.createElement(hB,ct({showMonthYearDropdown:void 0,ref:function(i){r.calendar=i}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:z5(r.modifyHolidays()),outsideClickIgnoreClass:r0,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a=r.props,s=a.dateFormat,i=s===void 0?t.defaultProps.dateFormat:s,o=a.locale,l=r.props.showTimeInput||r.props.showTimeSelect,u=l?"PPPPp":"PPPP",d;return r.props.selectsRange?d="Selected start date: ".concat(Gn(r.props.startDate,{dateFormat:u,locale:o}),". ").concat(r.props.endDate?"End date: "+Gn(r.props.endDate,{dateFormat:u,locale:o}):""):r.props.showTimeSelectOnly?d="Selected time: ".concat(Gn(r.props.selected,{dateFormat:i,locale:o})):r.props.showYearPicker?d="Selected year: ".concat(Gn(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?d="Selected month: ".concat(Gn(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?d="Selected quarter: ".concat(Gn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):d="Selected date: ".concat(Gn(r.props.selected,{dateFormat:u,locale:o})),j.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},r.renderDateInput=function(){var a,s,i,o=sn(r.props.className,(a={},a[r0]=r.state.open,a)),l=r.props.customInput||j.createElement("input",{type:"text"}),u=r.props.customInputRef||"ref",d=r.props,f=d.dateFormat,p=f===void 0?t.defaultProps.dateFormat:f,h=d.locale,m=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?k5(r.props.startDate,r.props.endDate,{dateFormat:p,locale:h}):r.props.selectsMultiple?A5((i=r.props.selectedDates)!==null&&i!==void 0?i:[],{dateFormat:p,locale:h}):Gn(r.props.selected,{dateFormat:p,locale:h});return g.cloneElement(l,(s={},s[u]=function(v){r.input=v},s.value=m,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=sn(l.props.className,o),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var a=r.props,s=a.isClearable,i=a.disabled,o=a.selected,l=a.startDate,u=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,p=f===void 0?"":f,h=a.ariaLabelClose,m=h===void 0?"Close":h,v=a.selectedDates;return s&&(o!=null||l!=null||u!=null||v!=null&&v.length)?j.createElement("button",{type:"button",className:sn("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":m,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:So,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var a,s,i,o;n.inline&&EB(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Qg(this.props.highlightDates)}),!r.focused&&!Ia(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),r.open===!0&&this.state.open===!1&&((o=(i=this.props).onCalendarClose)===null||o===void 0||o.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,a=n.icon,s=n.calendarIconClassname,i=n.calendarIconClassName,o=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),j.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&j.createElement(pB,ct({icon:a,className:sn(i,!i&&s,l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?j.createElement(P1,{enableTabLoop:this.props.enableTabLoop},j.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=j.createElement(O1,ct({portalId:this.props.portalId},this.props),r)),j.createElement("div",null,this.renderInputContainer(),r)}return j.createElement(yB,ct({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(g.Component),TB="input",sd="navigate";L5("ru",wh);const L1=g.forwardRef(({value:e,onClick:t,onChange:n,placeholder:r,id:a,...s},i)=>y("div",{className:"custom-date-input",children:[c("input",{ref:i,id:a,value:e,onClick:t,onChange:n,placeholder:r,readOnly:!0,...s}),c("button",{type:"button",onClick:t,"aria-label":"Календарь",children:c(me,{icon:"calender",className:"calendar-icon",width:"16",height:"16"})})]}));L1.displayName="CustomDateInput";const Wi=({className:e="",onChange:t,id:n,selected:r,minDate:a,maxDate:s,...i})=>{const o=new Date;o.setFullYear(o.getFullYear()+10);const l=s||o,u=new Date;u.setDate(u.getDate()+1);const d=a||u,f=p=>{t(p)};return c("div",{className:"date-picker ".concat(e),children:c(_B,{locale:"ru",dateFormat:"dd.MM.yyyy",onChange:f,customInput:c(L1,{id:n}),maxDate:l,minDate:d,showPopperArrow:!1,placeholderText:"ДД.ММ.ГГГГ",selected:r,...i})})};const R1=({isOpen:e,onClose:t,goalData:n,originalSettings:r,onSave:a,isLoading:s=!1})=>{const[i,o]=J("regular-goal-settings-modal"),[l,u]=g.useState(r.frequency),[d,f]=g.useState(r.weeklyFrequency||3),[p,h]=g.useState(r.durationType),[m,v]=g.useState(r.durationValue||30),[T,E]=g.useState(r.endDate||""),[C,_]=g.useState(r.allowSkipDays||0),[N,x]=g.useState(r.resetOnSkip);g.useEffect(()=>{u(r.frequency),f(r.weeklyFrequency||3),h(r.durationType),v(r.durationValue||30),E(r.endDate||""),_(r.allowSkipDays||0),x(r.resetOnSkip)},[r]);const S=()=>{if(l==="weekly"&&(!d||d<1||d>7)){pe.addNotification({type:"error",title:"Ошибка",message:"Для недельной периодичности необходимо указать количество раз в неделю (от 1 до 7)"});return}if(p==="until_date"&&!T){pe.addNotification({type:"error",title:"Ошибка",message:'Для типа "до даты" необходимо указать дату окончания'});return}if((p==="days"||p==="weeks")&&(!m||m<1)){pe.addNotification({type:"error",title:"Ошибка",message:"Для указанного типа длительности необходимо задать положительное значение"});return}a({frequency:l,weeklyFrequency:l==="weekly"?d:void 0,customSchedule:l==="custom"?{}:void 0,durationType:p,durationValue:p==="days"||p==="weeks"?m:void 0,endDate:p==="until_date"?T:void 0,allowSkipDays:C,resetOnSkip:N})},A=()=>{u(r.frequency),f(r.weeklyFrequency||3),h(r.durationType),v(r.durationValue||30),E(r.endDate||""),_(r.allowSkipDays||0),x(r.resetOnSkip)};return e?y(Ls,{isOpen:e,onClose:t,className:i(),children:[y("div",{className:o("header"),children:[y("div",{className:o("goal-info"),children:[n.image&&c("img",{src:n.image,alt:n.title,className:o("goal-image")}),y("div",{className:o("goal-details"),children:[c(De,{tag:"h2",className:o("title"),children:"Настройка регулярности"}),c("p",{className:o("goal-title"),children:n.title}),n.category&&y("p",{className:o("goal-category"),children:["Категория: ",n.category.name]})]})]}),c("button",{type:"button",className:o("close-btn"),onClick:t,"aria-label":"Закрыть",children:c(me,{icon:"cross"})})]}),y("div",{className:o("content"),children:[y("div",{className:o("info-message"),children:[c(me,{icon:"info",className:o("info-icon")}),c("p",{children:"Эта цель была создана как регулярная. Вы можете настроить параметры регулярности под себя или оставить оригинальные настройки автора."})]}),y("div",{className:o("original-settings"),children:[c("h3",{className:o("section-title"),children:"Оригинальные настройки автора:"}),y("div",{className:o("settings-info"),children:[y("p",{children:[c("strong",{children:"Периодичность:"})," ",r.frequency==="daily"?"Ежедневно":r.frequency==="weekly"?"".concat(r.weeklyFrequency," раз в неделю"):"Пользовательский график"]}),y("p",{children:[c("strong",{children:"Длительность:"})," ",r.durationType==="days"?"".concat(r.durationValue," дней"):r.durationType==="weeks"?"".concat(r.durationValue," недель"):r.durationType==="until_date"?"До ".concat(r.endDate):"Бессрочно"]}),y("p",{children:[c("strong",{children:"Пропуски:"})," ",r.allowSkipDays," дней,"," ",r.resetOnSkip?"сбрасывать прогресс":"не сбрасывать прогресс"]})]})]}),y("div",{className:o("form"),children:[c("h3",{className:o("section-title"),children:"Ваши настройки:"}),y("div",{className:o("form-group"),children:[c(Wt,{className:o("field"),placeholder:"Выберите периодичность",options:[{name:"Ежедневно",value:"daily"},{name:"N раз в неделю",value:"weekly"},{name:"Пользовательский график",value:"custom"}],activeOption:l==="daily"?0:l==="weekly"?1:2,onSelect:P=>{u(["daily","weekly","custom"][P])},text:"Периодичность"}),l==="weekly"&&c(Oe,{placeholder:"Например: 3",id:"weekly-frequency",text:"Сколько раз в неделю",value:d.toString(),setValue:P=>{const O=parseInt(P,10)||1;f(Math.min(7,Math.max(1,O)))},className:o("field"),type:"number"}),l==="custom"&&c("div",{className:o("custom-schedule-info"),children:c("p",{children:"Пользовательский график будет доступен в следующих версиях"})})]}),y("div",{className:o("form-group"),children:[c(Wt,{className:o("field"),placeholder:"Выберите тип длительности",options:[{name:"Дни",value:"days"},{name:"Недели",value:"weeks"},{name:"До даты",value:"until_date"},{name:"Бессрочно",value:"indefinite"}],activeOption:p==="days"?0:p==="weeks"?1:p==="until_date"?2:3,onSelect:P=>{h(["days","weeks","until_date","indefinite"][P])},text:"Длительность"}),(p==="days"||p==="weeks")&&c(Oe,{placeholder:p==="days"?"Количество дней":"Количество недель",id:"duration-value",text:p==="days"?"Количество дней":"Количество недель",value:m.toString(),setValue:P=>{const O=parseInt(P,10)||1;v(Math.max(1,O))},className:o("field"),type:"number"}),p==="until_date"&&y("div",{className:o("date-field-container"),children:[c("p",{className:o("field-title"),children:"Дата окончания"}),c(Wi,{selected:T?new Date(T):null,onChange:P=>{E(P?Xr(P,"yyyy-MM-dd"):"")},className:o("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))})]})]}),y("div",{className:o("form-group"),children:[c(Oe,{placeholder:"0",id:"allow-skip-days",text:"Разрешенные пропуски",value:C.toString(),setValue:P=>{const O=parseInt(P,10)||0;_(Math.max(0,O))},className:o("field"),type:"number"}),c(Jn,{id:"reset-on-skip",text:"Сбрасывать прогресс при превышении лимита пропусков",checked:N,setChecked:x,className:o("field")})]})]})]}),y("div",{className:o("footer"),children:[c(V,{theme:"blue-light",className:o("btn"),onClick:A,type:"button",children:"Сбросить к оригиналу"}),c(V,{theme:"blue-light",className:o("btn"),onClick:t,type:"button",children:"Отмена"}),c(V,{theme:"blue",className:o("btn"),onClick:S,type:"button",disabled:s,children:s?"Сохранение...":"Добавить цель"})]})]}):null},nl=async(e,t)=>await we("goal-lists/".concat(e,"/all"),{auth:!0,get:t}),M1=async e=>{var r,a;const t=await we("goals/".concat(e,"/regular-settings"));return t.success?{success:!0,data:(a=(r=t.data)==null?void 0:r.data)!=null?a:t.data}:t},eu=async e=>await Je("goals/".concat(e,"/add"),{auth:!0}),tu=async e=>await Je("goal-lists/".concat(e,"/add"),{auth:!0}),F1=(e,t)=>{const n={goal_code:e,frequency:t.frequency,weekly_frequency:t.weeklyFrequency,custom_schedule:t.customSchedule,duration_type:t.durationType,duration_value:t.durationValue,end_date:t.endDate,allow_skip_days:t.allowSkipDays,reset_on_skip:t.resetOnSkip},r=Object.fromEntries(Object.entries(n).filter(([,a])=>a!==void 0));return Je("goals/".concat(e,"/add-regular"),{auth:!0,body:r})},Co=async(e,t,n)=>await Je("goals/".concat(e,"/mark"),{auth:!0,body:{done:t},success:n}),nu=async e=>await Je("goals/".concat(e,"/remove"),{auth:!0}),ru=async e=>await Je("goal-lists/".concat(e,"/remove"),{auth:!0});const SB=e=>{const{head:t,icon:n="filter",items:r,onFinish:a,multipleSelectedText:s=["Выбрано несколько"],multipleThreshold:i=2}=e,[o,l]=g.useState(!1),[u,d]=g.useState(t.name),[f,p]=g.useState(!0),[h,m]=g.useState(r.reduce((x,S)=>({...x,[S.code]:{value:!1,name:S.name}}),{})),v=g.useRef(null),[T,E]=J("filters-checkbox"),C=()=>{l(!o)},_=x=>{v.current&&!v.current.contains(x.target)&&l(!1)},N=()=>{const x=Object.keys(h).reduce((S,A)=>({...S,[A]:{value:!1,name:h[A].name}}),{});m(x),p(!0)};return g.useEffect(()=>(document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}),[]),g.useEffect(()=>{if(!o){const x=Object.entries(h).filter(S=>S[1].value);if(x.length){x.length>i&&s?d("Выбрано ".concat(_t(x.length,s))):d(x.map(A=>A[1].name).join(", ")),p(!1);const S=x.map(A=>A[0]);a(S)}else d(t.name),p(!0),a([])}},[o,h]),g.useEffect(()=>{m(r.reduce((x,S)=>{const A=h[S.code]?h[S.code].value:!1;return{...x,[S.code]:{value:A,name:S.name}}},{}))},[r]),y("div",{className:T(),ref:v,children:[y("button",{type:"button",className:E("option"),onClick:C,"aria-label":"Выберите",children:[c(me,{icon:n}),c("span",{className:E("option-text"),children:u})]}),o&&y("ul",{className:E("list"),children:[c("li",{className:E("head",{active:f}),onClick:N,role:"button",tabIndex:0,children:t.name}),c(tn,{margin:"8px 0"}),r.map(x=>{var S,A;return c("li",{className:E("item",{selected:(S=h[x.code])==null?void 0:S.value}),children:c(Jn,{className:E("checkbox"),text:x.name,id:x.code,checked:((A=h[x.code])==null?void 0:A.value)||!1,setChecked:P=>{m({...h,[x.code]:{value:P,name:x.name}})}})},x.code)})]})]})};const wB=(e,t,n=5)=>{const r=[];if(t<=n)for(let a=1;a<=t;a+=1)r.push({number:a,symbol:a});else{const a=Math.floor(n/2);r.push({number:1,symbol:1});const s=Math.max(2,e>t-2?t-(n-1):e-a),i=Math.min(t-1,e<3?n:e+a);e-a>2&&r.push({symbol:"...",number:Math.floor((s+1)/2)});for(let o=s;o<=i;o+=1)r.push({number:o,symbol:o});e+a<t-1&&r.push({symbol:"...",number:Math.floor((t+i)/2)}),r.push({number:t,symbol:t})}return r},a0=e=>{const{className:t,goToPage:n,currentPage:r,totalPages:a}=e,[s,i]=g.useState(r),[o,l]=J("pagination",t),[u,d]=g.useState(!1),f=wB(s,a),p=async h=>{const m=s;d(!0),i(h),await n(h)||i(m),d(!1)};return g.useEffect(()=>{i(r)},[r]),a<2?null:y("div",{className:o(),children:[c(V,{theme:"blue-light",icon:"arrow--bottom",className:l("arrow",{notShow:!(r>1)}),onClick:()=>p(r-1)}),c("div",{className:l("pages"),children:f.map(h=>c(V,{theme:"blue-light",onClick:()=>p(h.number),className:l("page"),disabled:h.number===s,loading:u&&s===h.number,children:h.symbol},h.number))}),c(V,{theme:"blue-light",icon:"arrow",className:l("arrow",{notShow:!(r<a)}),onClick:()=>p(r+1)})]})};const B1=e=>{const{className:t,buttons:n,active:r,base:a=""}=e,[s,i]=J("switch",t);return c("section",{className:s(),children:n.map(o=>y(Ze,{to:"".concat(a).concat(o.url),className:i("link",{active:r===o.page}),children:[o.name,!!o.count&&c("span",{className:i("count"),children:o.count})]},o.url))})};const aa=[{name:"Новые",value:"-created_at"},{name:"Старые",value:"created_at"},{name:"Cамые популярные",value:"-added_by_users"},{name:"Больше всего выполненные",value:"-completed_by_users"}],Rh=e=>{const{className:t,code:n="all",subPage:r,category:a,userId:s,completed:i,beginUrl:o,columns:l,categories:u,initialSearch:d=""}=e,[f,p]=J("catalog-items",t),[h,m]=g.useState({data:[],pagination:Fl}),[v,T]=g.useState({data:[],pagination:Fl}),[E,C]=g.useState(0),[_,N]=g.useState(d),[x,S]=g.useState(null),[A,P]=g.useState(s?{user_id:s,completed:i}:{}),[O,k]=g.useState([]),[w,D]=g.useState(!1),[M,U]=g.useState(!1),[G,F]=g.useState(null),[I,H]=g.useState(null),[q,L]=g.useState(!1),te=g.useMemo(()=>{let ae="";return a&&(ae=a.category.parentCategory?"".concat(a.category.parentCategory.nameEn,"/").concat(a.category.nameEn):a.category.nameEn),[{url:"".concat(o).concat(ae),name:"Цели",page:"goals",count:h.pagination.totalItems},{url:"".concat(o).concat(ae,"/lists"),name:"Списки",page:"lists",count:v.pagination.totalItems}]},[h,v,a,o]),_e=g.useMemo(()=>u?u.map(ae=>({name:ae.name,code:ae.nameEn})):[],[u]);g.useEffect(()=>{(async()=>{const ae=s?{user_id:s,completed:i}:{};P(ae);const he=await gi(n,{...ae,...d?{search:d}:{}});he.success&&m(he.data)})()},[r,n,i,s,d]),g.useEffect(()=>{(async()=>{const ae=s?{user_id:s,completed:i}:{};P(ae);const he=await nl(n,{...ae,...d?{search:d}:{}});he.success&&T(he.data)})()},[r,n,i,s,d]),g.useEffect(()=>{C(0),N(d),k([])},[r,o,d]);const $=async(ae,K,he)=>{try{let Re;const Z={...A,sort_by:ae,page:K,...he&&he.length>0?{categories:he.join(",")}:{}};return r==="goals"?Re=await gi(n,Z):Re=await nl(n,Z),Re.success?(r==="goals"?m(Re.data):T(Re.data),!0):!1}catch(Re){return!1}},xe=async ae=>{C(ae),await $(aa[ae].value,void 0,O)},Pe=async ae=>{D(!0);const K=await $(aa[E].value,ae,O);return oo.scrollTo("catalog-items-goals",{duration:800,delay:0,smooth:"easeInOutQuart",offset:-150}),D(!1),K},Ce=ae=>{N(ae);const K=300;x&&clearTimeout(x),S(setTimeout(async()=>{if(r==="goals")if(ae.length>=3){const he=await gi(n,{sort_by:aa[E].value,search:ae,...O.length>0?{categories:O.join(",")}:{}});he.success&&m(he.data)}else{const he=await gi(n,{sort_by:aa[E].value,search:"",...O.length>0?{categories:O.join(",")}:{}});he.success&&m(he.data)}else if(ae.length>=3){const he=await nl(n,{sort_by:aa[E].value,search:ae,...O.length>0?{categories:O.join(",")}:{}});he.success&&T(he.data)}else{const he=await nl(n,{sort_by:aa[E].value,search:"",...O.length>0?{categories:O.join(",")}:{}});he.success&&T(he.data)}},K))},We=async ae=>{k(ae),await $(aa[E].value,void 0,ae)},Fe=async(ae,K,he,Re)=>{if(he==="add")try{const ue=await M1(ae);if(ue.success&&ue.data){F(ue.data),H(K),U(!0);return}}catch(ue){console.log("Цель не является регулярной или ошибка API")}const Z=await(he==="add"?eu(ae):he==="delete"?nu(ae):Co(ae,!Re));if(Z.success&&h){const ue={...h.data[K],addedByUser:he!=="delete",completedByUser:he==="mark"?!Re:h.data[K].completedByUser,totalAdded:Z.data.users_added_count},Te=[...h.data];Te[K]=ue,m({...h,data:Te})}},Xe=async(ae,K,he)=>{const Re=await(he==="add"?tu(ae):ru(ae));if(Re.success){const Z={...v.data[K],addedByUser:he==="add",totalAdded:Re.data.users_added_count},ue=[...v.data];ue[K]=Z,T({...v,data:ue})}},le=()=>{U(!1),F(null),H(null)},Le=async ae=>{if(!(!(G!=null&&G.goal)||I===null)){L(!0);try{const K=await F1(G.goal.code,{goal_code:G.goal.code,...ae});if(K.success){const he={...h.data[I],addedByUser:!0,totalAdded:(h.data[I].totalAdded||0)+1},Re=[...h.data];Re[I]=he,m({...h,data:Re}),pe.addNotification({type:"success",title:"Успех",message:"Регулярная цель успешно добавлена с вашими настройками!"}),U(!1),F(null),H(null)}else throw new Error(K.error||"Ошибка при добавлении регулярной цели")}catch(K){pe.addNotification({type:"error",title:"Ошибка",message:K instanceof Error?K.message:"Не удалось добавить регулярную цель"})}finally{L(!1)}}};return y("section",{className:f(),children:[y("div",{className:p("filters"),children:[c(B1,{className:p("switch"),buttons:te,active:r||""}),c(Oe,{className:p("search"),placeholder:"Поисковой запрос",id:"searching",value:_,setValue:Ce,iconBegin:"search"}),u&&u.length>0&&c(SB,{head:{name:"Все категории",code:"all"},items:_e,onFinish:We,multipleSelectedText:["категория","категории","категорий"],multipleThreshold:1}),c(Wt,{options:aa,activeOption:E,onSelect:xe,filter:!0})]}),c(ht,{isLoading:w,children:r==="goals"?c("section",{className:p("goals",{columns:l}),id:"catalog-items-goals",children:h.data.map((ae,K)=>c(Us,{className:p("goal"),goal:ae,onClickAdd:()=>Fe(ae.code,K,"add"),onClickDelete:()=>Fe(ae.code,K,"delete"),onClickMark:()=>Fe(ae.code,K,"mark",ae.completedByUser)},ae.code))}):c("section",{className:p("goals",{columns:l}),id:"catalog-items-lists",children:v.data.map((ae,K)=>c(Us,{className:p("list"),goal:ae,horizontal:!0,isList:!0,onClickAdd:()=>Xe(ae.code,K,"add"),onClickDelete:()=>Xe(ae.code,K,"delete")},ae.code))})}),r==="lists"?c(a0,{currentPage:v.pagination.page,totalPages:v.pagination.totalPages,goToPage:Pe}):c(a0,{currentPage:h.pagination.page,totalPages:h.pagination.totalPages,goToPage:Pe}),M&&(G==null?void 0:G.regular_settings)&&c(R1,{isOpen:M,onClose:le,goalData:G.goal,originalSettings:G.regular_settings,onSave:Le,isLoading:q})]},n)};const CB=e=>{var u;const{className:t,category:n,isSub:r,refHeader:a}=e,[s,i]=J("header-category",t),[o,l]=g.useState(!1);return g.useEffect(()=>{const d=()=>{const p=window.scrollY>160;l(p)};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),y("header",{className:s({category:(r&&((u=n.category.parentCategory)!=null&&u.nameEn),n.category.nameEn),fixed:o}),style:{backgroundImage:"url(".concat(n.category.image,")")},ref:a,children:[y("div",{className:i("title-wrapper"),children:[r&&n.category.parentCategory&&c(Ze,{to:"/categories/".concat(n.category.parentCategory.nameEn),children:y(De,{className:i("title-link"),tag:"h1",children:[n.category.parentCategory.name," / "]})}),c(De,{tag:"h1",theme:"white",className:i("title"),children:n.category.name})]}),!!n.subcategories.length&&!o&&c("section",{className:i("subcategories"),children:n.subcategories.map(d=>y(Ze,{className:i("subcategory"),to:"/categories/".concat(n.category.nameEn,"/").concat(d.nameEn),children:[d.icon&&c("img",{className:i("subcategory-icon"),src:d.icon,alt:d.name}),d.name]},d.nameEn))})]})},NB=async e=>await we("categories/".concat(e)),xB=async e=>await we("goals/".concat(e,"/popular"),{auth:!0}),kB=async e=>await we("goal-lists/".concat(e,"/popular"),{auth:!0});const AB=({subPage:e,page:t})=>{const[n,r]=J("category"),[a,s]=g.useState(null),[i,o]=g.useState([]),[l,u]=g.useState([]),[d,f]=g.useState([]),[p,h]=g.useState(!0),m=g.useRef(null),[v,T]=g.useState(!1),[E,C]=g.useState(null),[_,N]=g.useState(null),[x,S]=g.useState(!1),{id:A}=ja(),[P]=y_(),O=P.get("search")||"";g.useEffect(()=>{O&&!A&&setTimeout(()=>{oo.scrollTo("catalog-items-goals",{duration:800,delay:100,smooth:"easeInOutQuart",offset:-150})},500)},[O,A]),g.useEffect(()=>{(async()=>{h(!0);const U=[];A?U.push(NB(A)):U.push(vc()),U.push(xB(A||"all")),U.push(kB(A||"all"));const[G,F,I]=await Promise.all(U);!A&&G.success?f(G.data):A&&G.success&&s(G.data),F.success&&o(F.data),I.success&&u(I.data),h(!1)})()},[A]);const k=async(U,G,F,I)=>{if(F==="add")try{const q=await M1(U);if(q.success&&q.data){C(q.data),N(G),T(!0);return}}catch(q){console.log("Цель не является регулярной или ошибка API")}const H=await(F==="add"?eu(U):F==="delete"?nu(U):Co(U,!I));if(H.success&&i){const q={...i[G],addedByUser:F!=="delete",completedByUser:F==="mark"?!I:i[G].completedByUser,totalAdded:H.data.users_added_count},L=[...i];L[G]=q,o(L)}},w=async(U,G,F)=>{const I=await(F==="add"?tu(U):ru(U));if(I.success){const H={...l[G],addedByUser:F==="add",totalAdded:I.data.users_added_count},q=[...l];q[G]=H,u(q)}},D=()=>{T(!1),C(null),N(null)},M=async U=>{if(!(!(E!=null&&E.goal)||_===null)){S(!0);try{const G=await F1(E.goal.code,{goal_code:E.goal.code,...U});if(G.success){const F={...i[_],addedByUser:!0,totalAdded:(i[_].totalAdded||0)+1},I=[...i];I[_]=F,o(I),pe.addNotification({type:"success",title:"Успех",message:"Регулярная цель успешно добавлена с вашими настройками!"}),T(!1),C(null),N(null)}else throw new Error(G.error||"Ошибка при добавлении регулярной цели")}catch(G){pe.addNotification({type:"error",title:"Ошибка",message:G instanceof Error?G.message:"Не удалось добавить регулярную цель"})}finally{S(!1)}}};return y("main",{className:n({sub:t==="isSubCategories",empty:!(a!=null&&a.subcategories.length),all:!A}),children:[A&&A!=="all"&&a&&c(CB,{category:a,className:r("header"),isSub:t==="isSubCategories",refHeader:m}),y(ht,{isLoading:p,children:[!!i.length&&y(ft,{children:[y("div",{className:r("wrapper-title"),children:[c(De,{tag:"h2",children:"Популярные цели этой недели"}),c(V,{type:"Link",theme:"blue",icon:"plus",href:"/goals/create".concat(A&&A!=="all"?"?category=".concat(A):""),size:"small",children:"Добавить цель"})]}),c("section",{className:r("popular-goals"),children:i.map((U,G)=>c(Us,{goal:U,className:r("popular-goal"),onClickAdd:()=>k(U.code,G,"add"),onClickDelete:()=>k(U.code,G,"delete"),onClickMark:()=>k(U.code,G,"mark",U.completedByUser)},U.code))})]}),!!l.length&&y(ft,{children:[y("div",{className:r("wrapper-title"),children:[c(De,{tag:"h2",children:"Популярные списки этой недели"}),c(V,{type:"Link",theme:"blue",icon:"plus",href:"/list/create".concat(A&&A!=="all"?"?category=".concat(A):""),size:"small",children:"Добавить список целей"})]}),c("section",{className:r("popular-lists"),children:l.map((U,G)=>c(Us,{horizontal:!0,isList:!0,goal:U,className:r("popular-list"),onClickAdd:()=>w(U.code,G,"add"),onClickDelete:()=>w(U.code,G,"delete")},U.code))})]}),c(De,{className:r("title"),tag:"h2",children:"Все цели и списки"}),c(Rh,{code:A||"all",className:r("all-goals"),subPage:e,category:a,beginUrl:A?"/categories/":"/categories/all",categories:d,initialSearch:O}),!A&&c(jE,{categories:d,tag:"h2",title:"Категории"})]}),v&&(E==null?void 0:E.regular_settings)&&c(R1,{isOpen:v,onClose:D,goalData:E.goal,originalSettings:E.regular_settings,onSave:M,isLoading:x})]})},ds=({page:e,subPage:t})=>{const{setPage:n,setHeader:r,setFull:a}=yt;return g.useEffect(()=>{n(e),e==="isCategoriesAll"?(r("white"),a(!1)):(r("transparent"),a(!0))},[e]),c(AB,{page:e,subPage:t})};const DB=["books","cinema-art","gaming"],Mh=({onGoalSelected:e,className:t,category:n,initialQuery:r})=>{const[a,s]=J("external-goal-search",t),[i,o]=g.useState(r||""),[l,u]=g.useState([]),[d,f]=g.useState(!1),[p,h]=g.useState(1),[m,v]=g.useState(!1),[T,E]=g.useState({}),C=d||i.length<2,_=async()=>{if(i.length<2){u([]),v(!1);return}f(!0),v(!0);try{const O=await we("goals/search-external",{get:{category:n,query:i}});if(O.success&&O.data.results){const{ownResults:k=[],externalResults:w=[]}=O.data.results,D=[...k.map(M=>({...M,isOwnDatabase:!0})),...w.map(M=>({...M,isOwnDatabase:!1}))];u(D)}else pe.addNotification({type:"error",title:"Ошибка",message:"Не удалось найти подходящие цели"}),u([])}catch(O){console.error("Ошибка при поиске:",O),pe.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при поиске"}),u([])}finally{f(!1)}};if(g.useEffect(()=>{E({})},[l]),g.useEffect(()=>{r&&r.length>=2&&_()},[r]),!n||!DB.includes(n))return null;const N=O=>{o(O),O.length===0&&(u([]),v(!1))},x=O=>{E(k=>({...k,[O]:!1}))},S=O=>{E(k=>({...k,[O]:!1}))},A=async O=>{var k;E(w=>({...w,[String(O.externalId)]:!0}));try{let w=O;if(O.type==="book"&&O.apiSource==="fantlab"&&!O.isOwnDatabase)try{const M=await Bw(String(O.externalId));if(M.success){const U=((k=M.data)==null?void 0:k.data)||M.data;w={...O,title:U.title||O.title,description:U.description||O.description,imageUrl:U.imageUrl||O.imageUrl,authors:U.authors||O.authors,additionalFields:{...O.additionalFields,...U.additionalFields}},pe.addNotification({type:"success",title:"Информация загружена",message:"Получена детальная информация о произведении"})}else pe.addNotification({type:"warning",title:"Частичная загрузка",message:"Не удалось загрузить детальную информацию, используются базовые данные"})}catch(M){pe.addNotification({type:"warning",title:"Частичная загрузка",message:"Не удалось загрузить детальную информацию, используются базовые данные"})}const D={title:w.title,description:w.description||"Цель: ".concat(w.title),external_id:w.externalId,externalType:w.type,complexity:Bt[p].value,imageUrl:w.imageUrl,estimatedTime:"",deadline:"",status:w.source};if(w.additionalFields){const M=w.additionalFields;Object.keys(M).forEach(U=>{const G=M[U];G!=null&&U!=="additionalFields"&&(D[U]=G)})}w.isOwnDatabase&&(D.id=Number(w.externalId),D.code=w.goalCode,D.isExistingGoal=!0),w.imageUrl?D.imageUrl=w.imageUrl:pe.addNotification({type:"warning",title:"Внимание",message:"Не удалось загрузить изображение. Вам нужно будет выбрать его вручную."}),e(D),u([]),o(""),v(!1),pe.addNotification({type:"success",title:"Готово",message:"Данные цели загружены! Проверьте и дополните при необходимости."})}catch(w){console.error("Ошибка при выборе цели:",w),pe.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при загрузке данных цели"})}finally{E(w=>({...w,[String(O.externalId)]:!1}))}},P=O=>({books:"книги","cinema-art":"фильмы",gaming:"игры"})[O]||"контент";return y("div",{className:a(),children:[y("h3",{className:s("title"),children:["Найти готовую цель (",P(n),")"]}),y("div",{className:s("search-panel"),children:[c("div",{className:s("selectors"),children:c(Wt,{className:s("complexity-select"),placeholder:"Выберите сложность",options:Bt,activeOption:p,onSelect:h,text:"Сложность"})}),y("div",{className:s("search-field"),children:[c(Oe,{id:"external-search",text:"Поиск",value:i,setValue:N,placeholder:"Введите название для поиска ".concat(P(n),"..."),iconBegin:"search",className:s("search-input"),onKeyDown:O=>{O.key==="Enter"&&!C&&(O.preventDefault(),_())}}),c(V,{theme:"blue",icon:"search",onClick:_,size:"medium",className:"".concat(s("search-button")," ").concat(C?"disabled":""),children:d?"Поиск...":"Найти"})]})]}),c("div",{className:s("results-container",{"is-empty":l.length===0&&!d}),children:y(ht,{isLoading:d,children:[l.length>0&&c("div",{className:s("results"),children:(()=>{const O=l.filter(w=>w.isOwnDatabase),k=l.filter(w=>!w.isOwnDatabase);return y(ft,{children:[O.length>0&&y(ft,{children:[c("div",{className:s("section-header"),children:c("h4",{children:"Цели из базы данных (если ваша цель уже есть в базе, просим вас выбирать её, а не создавать новую)"})}),O.map(w=>y("div",{className:s("result-item",{"own-database":!0}),children:[c("div",{className:s("result-image"),children:w.imageUrl?c("img",{src:w.imageUrl,alt:w.title,onLoad:()=>x(String(w.externalId)),onError:()=>S(String(w.externalId))}):c("div",{className:s("no-image"),children:c(me,{icon:"mount"})})}),y("div",{className:s("result-details"),children:[c("h4",{className:s("result-title"),children:w.title}),w.description&&y("p",{className:s("result-description"),children:[w.description.substring(0,150),"..."]}),c("div",{className:s("result-meta"),children:y("span",{className:s("match-percentage"),children:["Совпадение: ",w.matchPercentage||w.match_percentage,"%"]})}),c(V,{theme:"green",onClick:()=>A(w),className:"".concat(s("add-button")," ").concat(T[String(w.externalId)]?"disabled":""),icon:"plus",children:T[String(w.externalId)]?"Проверка...":"Добавить как цель"})]})]},"own-".concat(w.externalId))),k.length>0&&y("div",{className:s("section-divider"),children:[c("hr",{}),c("span",{children:"Результаты из внешних источников"}),c("hr",{})]})]}),k.map(w=>y("div",{className:s("result-item"),children:[c("div",{className:s("result-image"),children:w.imageUrl?c("img",{src:w.imageUrl,alt:w.title,onLoad:()=>x(String(w.externalId)),onError:()=>S(String(w.externalId))}):c("div",{className:s("no-image"),children:c(me,{icon:"mount"})})}),y("div",{className:s("result-details"),children:[c("h4",{className:s("result-title"),children:w.title}),w.description&&y("p",{className:s("result-description"),children:[w.description.substring(0,150),"..."]}),y("div",{className:s("result-meta"),children:[w.type==="cinema-art"&&w.releaseDate&&y("span",{children:["Год: ",w.releaseDate.substring(0,4)]}),w.type==="book"&&w.authors&&y("span",{children:["Авторы: ",w.authors.join(", ")]}),w.type==="travel"&&w.address&&y("span",{children:["Адрес: ",w.address]})]}),c(V,{theme:"green",onClick:()=>A(w),className:"".concat(s("add-button")," ").concat(T[String(w.externalId)]?"disabled":""),icon:"plus",children:T[String(w.externalId)]?"Проверка...":"Добавить как цель"})]})]},"external-".concat(w.type,"-").concat(w.externalId)))]})})()}),l.length===0&&m&&!d&&y("div",{className:s("no-results"),children:[c(me,{icon:"info",className:s("info-icon")}),c("p",{children:"Ничего не найдено. Попробуйте другой запрос."})]})]})})]})},au=async e=>Fb(async()=>we("goals/search-similar",{get:{query:e},showErrorNotification:!1}),6,1),s0=async e=>await Je("goals/create",{body:e,file:!0,auth:!0}),pf={getUserMapData:async()=>{const e=await we("maps/user",{auth:!0,showSuccessNotification:!1});if(!e.success)throw new Error(e.errors||"Failed to fetch user map data");return e.data},getGoalListMapData:async e=>{const t=await we("maps/list/".concat(e),{auth:!0,showSuccessNotification:!1});if(!t.success)throw new Error(t.errors||"Failed to fetch goal list map data");return t.data},getCategoryMapData:async e=>{const t=await we("maps/category/".concat(e),{auth:!0,showSuccessNotification:!1});if(!t.success)throw new Error(t.errors||"Failed to fetch category map data");return t.data},markLocationVisited:async(e,t,n)=>{const r=await Je("maps/locations/visit",{auth:!0,body:{location_id:e,goal_id:t,notes:n||""}});if(!r.success)throw new Error(r.errors||"Failed to mark location as visited");return r.data},unmarkLocationVisited:async e=>{const t=await xn("maps/locations/".concat(e,"/unvisit"),{auth:!0});if(!t.success)throw new Error(t.errors||"Failed to unmark location as visited")},searchLocations:async e=>{const t=await Je("maps/locations/search",{auth:!0,body:{query:e},showSuccessNotification:!1});if(!t.success)throw new Error(t.errors||"Failed to search locations");return t.data},createLocation:async e=>{const t=await Je("maps/locations/create",{auth:!0,body:e});if(!t.success)throw new Error(t.errors||"Failed to create location");return t.data},getCountriesList:async()=>{const e=await we("maps/countries",{auth:!0,showSuccessNotification:!1});if(!e.success)throw new Error(e.errors||"Failed to fetch countries list");return e.data},getUserVisitedCountries:async()=>{const e=await we("maps/countries/visited",{auth:!0,showSuccessNotification:!1});if(!e.success)throw new Error(e.errors||"Failed to fetch visited countries");return e.data},markCountryVisited:async(e,t)=>{const n=await Je("maps/countries/visit",{auth:!0,body:{country_id:e,notes:t||""}});if(!n.success)throw new Error(n.errors||"Failed to mark country as visited");return n.data},unmarkCountryVisited:async e=>{const t=await xn("maps/countries/".concat(e,"/unvisit"),{auth:!0});if(!t.success)throw new Error(t.errors||"Failed to unmark country as visited")}},No=(e,t,n=!1)=>{let r=null;return function(...a){const s=()=>{r=null,n||e.apply(this,a)},i=n&&!r;r&&clearTimeout(r),r=setTimeout(s,t),i&&e.apply(this,a)}};const U1=({goal:e,onSelect:t})=>{const[n,r]=J("similar-goal-item"),a=s=>{(s.key==="Enter"||s.key===" ")&&t(e)};return y("div",{className:n(),onClick:()=>t(e),onKeyDown:a,role:"button",tabIndex:0,children:[y("div",{className:r("content"),children:[c("div",{className:r("image-container"),children:e.image?c("img",{src:e.image,alt:e.title,className:r("image")}):c("div",{className:r("no-image"),children:c(me,{icon:"mount"})})}),y("div",{className:r("info"),children:[c("h4",{className:r("title"),children:e.title}),c("p",{className:r("complexity"),children:e.complexity}),c("p",{className:r("description"),children:e.shortDescription})]})]}),c("div",{className:r("select-icon"),children:c(me,{icon:"arrow--right"})})]})};const Fh=e=>{const{className:t,onGoalCreated:n,hideNavigation:r=!1,noForm:a=!1,onSubmitForm:s,initialCategory:i,lockCategory:o=!1,initialCategoryParam:l,preloadedCategories:u}=e,d=Rn(),f=_0(),[p,h]=J("add-goal",t),[m,v]=g.useState(""),[T,E]=g.useState(""),[C,_]=g.useState(null),[N,x]=g.useState(""),[S,A]=g.useState(""),[P,O]=g.useState(null),[k,w]=g.useState(null),[D,M]=g.useState(null),[U,G]=g.useState(null),[F,I]=g.useState([]),[H,q]=g.useState(null),[L,te]=g.useState(null),[_e,$]=g.useState(!1),[xe,Pe]=g.useState(!1),[Ce,We]=g.useState("daily"),[Fe,Xe]=g.useState(3),[le,Le]=g.useState("days"),[ae,K]=g.useState(30),[he,Re]=g.useState(""),[Z,ue]=g.useState(0),[Te,$e]=g.useState(!1),[at,ge]=g.useState([]),[it,ee]=g.useState(!1),[Ue,qe]=g.useState([]),Q=g.useRef(null),{setWindow:se,setModalProps:Ae,setIsOpen:Ye}=bn,Se=g.useMemo(()=>F.filter(Y=>!Y.parentCategory),[F]),Lt=()=>{v(""),E(""),_(null),x(""),A(""),O(null),w(null),M(null),G(null),q(null),te(null),Pe(!1),We("daily"),Xe(3),Le("days"),K(30),Re(""),ue(0),$e(!1),ge([]),ee(!1)},Qt=()=>{at.length>0&&ee(!0)},Xt=()=>{setTimeout(()=>{ee(!1)},200)},Et=Y=>{if(v(Y.title),E(Y.description||""),A(Y.estimatedTime||""),Y.complexity){const ie=Bt.findIndex(Ee=>Ee.value===Y.complexity);ie!==-1&&_(ie)}if(Y.category){const ie=F.find(Ee=>{var He;return Ee.id===((He=Y.category)==null?void 0:He.id)});if(ie)if(ie.parentCategory){const Ee=Se.findIndex(He=>{var Ie;return He.id===((Ie=ie.parentCategory)==null?void 0:Ie.id)});if(Ee!==-1){M(Ee);const He=F.filter(wt=>{var _n;return wt.parentCategory&&wt.parentCategory.id===((_n=ie.parentCategory)==null?void 0:_n.id)});qe(He);const Ie=He.findIndex(wt=>wt.id===ie.id);Ie!==-1&&G(Ie)}}else{const Ee=Se.findIndex(He=>He.id===ie.id);Ee!==-1&&M(Ee)}}Y.image&&(w(Y.image),O(null)),ee(!1)},rn=Y=>{const ie={name:Y.name||"",longitude:Y.longitude||0,latitude:Y.latitude||0,country:Y.country||"",city:Y.city||void 0,description:Y.description||void 0,place_type:"other",address:void 0,created_at:new Date().toISOString()};q(ie),Ye(!1)},kt=()=>{q(null)},Fn=Y=>{v(Y)},fn=Y=>{Hf(Y)&&A(Y)},ko=Y=>{if(!Y)return"";const ie=/^(\d{1,2}):(\d{1,2})$/;if(ie.test(Y)){const An=Y.match(ie);if(An){const Ea=An[1].padStart(2,"0"),ss=An[2].padStart(2,"0");return"".concat(Ea,":").concat(ss)}}if(/^\d+$/.test(Y)){const An=parseInt(Y,10);return"".concat(An.toString().padStart(2,"0"),":00")}const He=/^(\d+)?\s*д?\s*(\d+)?\s*ч?\s*(\d+)?\s*м?$/i,Ie=Y.match(He);if(Ie&&(Ie[1]||Ie[2]||Ie[3])){const An=Ie[1]?parseInt(Ie[1],10):0,Ea=Ie[2]?parseInt(Ie[2],10):0,ss=Ie[3]?parseInt(Ie[3],10):0,m_=An*24+Ea+Math.floor(ss/60),g_=ss%60;return"".concat(m_.toString().padStart(2,"0"),":").concat(g_.toString().padStart(2,"0"))}const wt=/^(\d+)\s*(д|дн|дня|дней)$/i,_n=Y.match(wt);if(_n){const Ea=parseInt(_n[1],10)*24;return"".concat(Ea.toString().padStart(2,"0"),":00")}const Bn=/^(\d+)\s*(ч|час|часа|часов)$/i,ii=Y.match(Bn);if(ii){const An=parseInt(ii[1],10);return"".concat(An.toString().padStart(2,"0"),":00")}const p_=/^(\d+)\s*(м|мин|минут|минуты)$/i,$h=Y.match(p_);if($h){const An=parseInt($h[1],10),Ea=Math.floor(An/60),ss=An%60;return"".concat(Ea.toString().padStart(2,"0"),":").concat(ss.toString().padStart(2,"0"))}return Y};g.useEffect(()=>{(async()=>{try{if(u)I(u);else{const ie=await Zi();ie.success&&I(ie.data)}}catch(ie){pe.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[u]);const Ao=()=>{Ye(!0),se("goal-map-add"),Ae({onLocationSelect:rn,initialLocation:H||void 0})};g.useEffect(()=>{if(D!==null&&Se.length>0&&Se[D]){const Y=Se[D],ie=F.filter(Ee=>Ee.parentCategory&&Ee.parentCategory.id===Y.id);qe(ie),(!i||!i.parentCategory)&&G(null)}else qe([]),G(null)},[D,Se.length]),g.useEffect(()=>{if(i&&F.length>0&&Se.length>0)if(i.parentCategory){const Y=Se.findIndex(ie=>{var Ee;return ie.id===((Ee=i.parentCategory)==null?void 0:Ee.id)});if(Y!==-1){M(Y);const ie=F.filter(He=>{var Ie;return He.parentCategory&&He.parentCategory.id===((Ie=i.parentCategory)==null?void 0:Ie.id)});qe(ie);const Ee=ie.findIndex(He=>He.id===i.id);Ee!==-1?setTimeout(()=>{G(Ee)},100):console.warn("Подкатегория не найдена:",i)}else console.warn("Родительская категория не найдена:",i.parentCategory)}else{const Y=Se.findIndex(ie=>ie.id===i.id);Y!==-1?M(Y):console.warn("Основная категория не найдена:",i)}},[i==null?void 0:i.id,Se.length,F.length]),g.useEffect(()=>{if(l&&Se.length>0){const Y=Se.findIndex(ie=>ie.nameEn===l);Y!==-1&&M(Y)}else{const ie=new URLSearchParams(f.search).get("category");if(ie&&Se.length>0){const Ee=Se.findIndex(He=>He.nameEn===ie);Ee!==-1&&M(Ee)}}},[l,f.search,Se.length]);const Do=g.useCallback(No(async Y=>{var ie;if(Y.length<3){ge([]),ee(!1);return}try{const Ee=await au(Y);Ee.success&&((ie=Ee.data)!=null&&ie.results)&&ge(Ee.data.results.slice(0,5))}catch(Ee){console.error("Ошибка при поиске похожих целей:",Ee)}},500),[]);g.useEffect(()=>{m?Do(m):(ge([]),ee(!1))},[m,Do]);const Io=g.useCallback(Y=>{Y&&Y.length>0&&(O(Y[0]),w(null))},[]),Oo=()=>{Q.current&&Q.current.click()},ne=Y=>{Y.target.files&&Io(Y.target.files)},ce=async Y=>{if(Y.preventDefault(),s){s(Y);return}if(!m||C===null||D===null||!P&&!k){pe.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}$(!0);try{const ie=new FormData;if(ie.append("title",m),T&&ie.append("description",T),C!==null&&ie.append("complexity",Bt[C].value),U!==null&&Ue[U]?ie.append("category",Ue[U].id.toString()):D!==null&&ie.append("category",Se[D].id.toString()),P?ie.append("image",P):k&&ie.append("image_url",k),N&&ie.append("deadline",N),S){const Ie=ko(S);ie.append("estimated_time",Ie)}let Ee=null;if(H)if(H.id)Ee=H.id;else try{Ee=(await pf.createLocation({name:H.name||m,longitude:H.longitude,latitude:H.latitude,country:H.country,city:H.city,description:H.description,place_type:H.place_type||"other"})).id}catch(Ie){pe.addNotification({type:"error",title:"Ошибка",message:Ie instanceof Error?Ie.message:"Не удалось создать место"});return}Ee&&ie.append("location_id",Ee.toString()),xe&&(ie.append("is_regular","true"),ie.append("regular_frequency",Ce),Ce==="weekly"&&ie.append("weekly_frequency",Fe.toString()),ie.append("duration_type",le),(le==="days"||le==="weeks")&&ie.append("duration_value",ae.toString()),le==="until_date"&&he&&ie.append("end_date",he),ie.append("allow_skip_days",Z.toString()),ie.append("reset_on_skip",Te.toString())),L&&Object.entries(L).forEach(([Ie,wt])=>{wt!=null&&(Array.isArray(wt)?ie.append(Ie,JSON.stringify(wt)):ie.append(Ie,String(wt)))});const He=await s0(ie);if(He.success)pe.addNotification({type:"success",title:"Успех",message:xe?"Регулярная цель успешно создана":"Цель успешно создана"}),n&&He.data?(n(He.data),Lt()):r||d("/goals/".concat(He.data.code));else throw new Error(He.error||"Неизвестная ошибка")}catch(ie){pe.addNotification({type:"error",title:"Ошибка",message:ie instanceof Error?ie.message:"Не удалось создать цель"})}finally{$(!1)}},Ne=async()=>{if(!m||C===null||D===null||!P&&!k){pe.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}$(!0);try{const Y=new FormData;if(Y.append("title",m),T&&Y.append("description",T),C!==null&&Y.append("complexity",Bt[C].value),U!==null&&Ue[U]?Y.append("category",Ue[U].id.toString()):D!==null&&Y.append("category",Se[D].id.toString()),P?Y.append("image",P):k&&Y.append("image_url",k),N&&Y.append("deadline",N),S){const He=ko(S);Y.append("estimated_time",He)}let ie=null;if(H)if(H.id)ie=H.id;else try{ie=(await pf.createLocation({name:H.name||m,longitude:H.longitude,latitude:H.latitude,country:H.country,city:H.city,description:H.description,place_type:H.place_type||"other"})).id}catch(He){pe.addNotification({type:"error",title:"Ошибка",message:He instanceof Error?He.message:"Не удалось создать место"});return}ie&&Y.append("location_id",ie.toString()),xe&&(Y.append("is_regular","true"),Y.append("regular_frequency",Ce),Ce==="weekly"&&Y.append("weekly_frequency",Fe.toString()),Y.append("duration_type",le),(le==="days"||le==="weeks")&&Y.append("duration_value",ae.toString()),le==="until_date"&&he&&Y.append("end_date",he),Y.append("allow_skip_days",Z.toString()),Y.append("reset_on_skip",Te.toString())),L&&Object.entries(L).forEach(([He,Ie])=>{Ie!=null&&(Array.isArray(Ie)?Y.append(He,JSON.stringify(Ie)):Y.append(He,String(Ie)))});const Ee=await s0(Y);if(Ee.success)pe.addNotification({type:"success",title:"Успех",message:xe?"Регулярная цель успешно создана":"Цель успешно создана"}),n&&Ee.data?(n(Ee.data),Lt()):r||d("/goals/".concat(Ee.data.code));else throw new Error(Ee.error||"Неизвестная ошибка")}catch(Y){pe.addNotification({type:"error",title:"Ошибка",message:Y instanceof Error?Y.message:"Не удалось создать цель"})}finally{$(!1)}},St=Y=>{if(Y.title&&v(Y.title),Y.description&&E(Y.description||""),Y.estimatedTime&&A(Y.estimatedTime),Y.category){const Ee=F.find(He=>{var Ie;return He.id===((Ie=Y.category)==null?void 0:Ie.id)});if(Ee)if(Ee.parentCategory){const He=Se.findIndex(Ie=>{var wt;return Ie.id===((wt=Ee.parentCategory)==null?void 0:wt.id)});if(He!==-1){M(He);const Ie=F.filter(_n=>{var Bn;return _n.parentCategory&&_n.parentCategory.id===((Bn=Ee.parentCategory)==null?void 0:Bn.id)});qe(Ie);const wt=Ie.findIndex(_n=>_n.id===Ee.id);wt!==-1&&G(wt)}}else{const He=Se.findIndex(Ie=>Ie.id===Ee.id);if(He!==-1){M(He);const Ie=F.filter(wt=>wt.parentCategory&&wt.parentCategory.id===Ee.id);if(qe(Ie),Y.subcategory&&Ie){const wt=Ie.findIndex(_n=>{var Bn;return _n.id===((Bn=Y.subcategory)==null?void 0:Bn.id)});wt!==-1&&G(wt)}}}}Y.imageUrl?(w(Y.imageUrl),O(null)):Y.image&&(w(Y.image),O(null));const ie={external_id:Y.external_id,type:Y.externalType,...Object.fromEntries(Object.entries(Y).filter(([Ee])=>!["title","description","estimatedTime","complexity","category","subcategory","imageUrl","image","external_id","externalType","additionalFields","isExistingGoal","status","deadline"].includes(Ee)))};te(ie),pe.addNotification({type:"success",title:"Готово",message:"Данные цели загружены! Проверьте и дополните при необходимости."})},At=y(ft,{children:[!r&&y("div",{className:h("wrapper-title"),children:[c(De,{tag:"h1",className:h("title"),children:"Создание новой цели"}),c(V,{size:"small",type:"Link",theme:"blue",icon:"plus",href:"/list/create",children:"Добавить список целей"})]}),c(ht,{isLoading:_e,children:y("div",{className:h("content"),children:[y("div",{className:h("edit-info-message"),children:[c(me,{icon:"info",className:h("info-icon")}),c("p",{children:"Вы сможете отредактировать или удалить цель в течение 24ч после создания, затем действие будет недоступно"})]}),c("div",{className:h("external-search-section"),children:c(Mh,{onGoalSelected:St,className:h("external-search"),category:U!==null&&Ue.length>0?Ue[U].nameEn:D!==null?Se[D].nameEn:void 0})}),y("div",{className:h("image-section"),children:[c("p",{className:h("field-title"),children:"Изображение цели *"}),!P&&!k?c("div",{className:h("dropzone"),children:c(ma,{onDrop:Y=>Y&&Io(Y),children:y("div",{className:h("upload-placeholder"),onClick:Oo,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyPress:Y=>{(Y.key==="Enter"||Y.key===" ")&&Oo()},children:[c("input",{type:"file",ref:Q,style:{display:"none"},onChange:ne,accept:"image/*"}),c(me,{icon:"mount",className:h("upload-icon")}),c("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})}):y("div",{className:h("image-preview"),children:[P&&c("img",{src:URL.createObjectURL(P),alt:"Предпросмотр",className:h("preview")}),k&&!P&&c("img",{src:k,alt:"Предпросмотр из источника",className:h("preview")}),c(V,{withBorder:!0,className:h("remove-image"),type:"button-close",onClick:()=>{O(null),w(null)}})]})]}),y("div",{className:h("form"),children:[y("div",{className:h("field-container"),children:[c(Oe,{placeholder:"Введите название цели",id:"goal-title",text:"Название цели *",value:m,setValue:Fn,className:h("field"),required:!0,onFocus:Qt,onBlur:Xt}),it&&y("div",{className:h("similar-goals"),children:[y("div",{className:h("similar-header"),children:[c("h3",{className:h("similar-title"),children:"Похожие цели"}),c("button",{type:"button",className:h("close-similar"),onClick:()=>ee(!1),"aria-label":"Закрыть",children:c(me,{icon:"cross"})})]}),c("p",{className:h("similar-desc"),children:"Найдены похожие цели. Нажмите на цель, чтобы заполнить форму её данными:"}),c("div",{className:h("similar-list"),children:at.map(Y=>c(U1,{goal:Y,onSelect:Et},Y.id))})]})]}),c(Wt,{className:h("field"),placeholder:"Выберите категорию",options:Se.map(Y=>({name:Y.name,value:Y.nameEn})),activeOption:D,onSelect:M,text:"Категория *",disabled:o}),D!==null&&Ue.length>0&&c(Wt,{className:h("field"),placeholder:"Выберите подкатегорию (необязательно)",options:Ue.map(Y=>({name:Y.name,value:Y.nameEn})),activeOption:U,onSelect:G,text:"Подкатегория",disabled:o}),D!==null&&Se[D].nameEn==="travel"&&y("div",{className:h("location-field-container"),children:[c("p",{className:h("field-title"),children:"Место на карте"}),H?y("div",{className:h("selected-location"),children:[y("div",{className:h("selected-location-info"),children:[c(me,{icon:"map",className:h("location-icon")}),y("div",{children:[c("div",{className:h("selected-location-name"),children:H==null?void 0:H.name}),y("div",{className:h("selected-location-details"),children:[(H==null?void 0:H.city)&&"".concat(H.city,", "),H==null?void 0:H.country]}),(H==null?void 0:H.description)&&c("div",{className:h("selected-location-description"),children:H.description})]})]}),y("div",{className:h("location-actions"),children:[c(V,{theme:"blue-light",size:"small",onClick:Ao,children:"Изменить место"}),c(V,{theme:"red",size:"small",onClick:kt,children:"Удалить место"})]})]}):y("div",{className:h("location-empty"),children:[c("p",{children:"Выберите географическое место на карте"}),c(V,{theme:"blue",onClick:Ao,children:"Выбрать место на карте"})]}),c("small",{className:h("format-hint"),children:"Выберите географическое место на карте. Это поможет отслеживать ваши путешествия на карте."})]}),c(Wt,{className:h("field"),placeholder:"Выберите сложность",options:Bt,activeOption:C,onSelect:_,text:"Сложность *"}),y("div",{className:h("regular-section"),children:[c(Jn,{id:"is-regular",text:"Это регулярная цель?",checked:xe,setChecked:Pe,className:h("field")}),xe&&y("div",{className:h("regular-config"),children:[y("div",{className:h("regular-field-group"),children:[c(Wt,{className:h("field"),placeholder:"Выберите периодичность",options:[{name:"Ежедневно",value:"daily"},{name:"N раз в неделю",value:"weekly"},{name:"Пользовательский график",value:"custom"}],activeOption:Ce==="daily"?0:Ce==="weekly"?1:2,onSelect:Y=>{We(["daily","weekly","custom"][Y])},text:"Периодичность"}),Ce==="weekly"&&c(Oe,{placeholder:"Например: 3",id:"weekly-frequency",text:"Сколько раз в неделю",value:Fe.toString(),setValue:Y=>{const ie=parseInt(Y,10)||1;Xe(Math.min(7,Math.max(1,ie)))},className:h("field"),type:"number"}),Ce==="custom"&&c("div",{className:h("custom-schedule-info"),children:c("p",{children:"Пользовательский график будет доступен в следующих версиях"})})]}),y("div",{className:h("regular-field-group"),children:[c(Wt,{className:h("field"),placeholder:"Выберите тип длительности",options:[{name:"Дни",value:"days"},{name:"Недели",value:"weeks"},{name:"До даты",value:"until_date"},{name:"Бессрочно",value:"indefinite"}],activeOption:le==="days"?0:le==="weeks"?1:le==="until_date"?2:3,onSelect:Y=>{Le(["days","weeks","until_date","indefinite"][Y])},text:"Длительность"}),(le==="days"||le==="weeks")&&c(Oe,{placeholder:le==="days"?"Количество дней":"Количество недель",id:"duration-value",text:le==="days"?"Количество дней":"Количество недель",value:ae.toString(),setValue:Y=>{const ie=parseInt(Y,10)||1;K(Math.max(1,ie))},className:h("field"),type:"number"}),le==="until_date"&&y("div",{className:h("date-field-container"),children:[c("p",{className:h("field-title"),children:"Дата окончания"}),c(Wi,{selected:he?new Date(he):null,onChange:Y=>{Re(Y?Xr(Y,"yyyy-MM-dd"):"")},className:h("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))})]})]}),y("div",{className:h("regular-field-group"),children:[c(Oe,{placeholder:"0",id:"allow-skip-days",text:"Разрешенные пропуски",value:Z.toString(),setValue:Y=>{const ie=parseInt(Y,10)||0;ue(Math.max(0,ie))},className:h("field"),type:"number"}),c(Jn,{id:"reset-on-skip",text:"Сбрасывать прогресс при превышении лимита пропусков",checked:Te,setChecked:$e,className:h("field")})]})]})]}),c(Oe,{placeholder:"Опишите цель подробно",id:"goal-description",text:"Описание",value:T,setValue:E,className:h("field"),type:"textarea"}),y("div",{className:h("time-field-container"),children:[c(Oe,{placeholder:"Например: 5, 2:30, 3д5ч, 3д 5 ч, 3 дня, 5 часов",id:"goal-estimated-time",text:"Предполагаемое время выполнения",value:S,setValue:fn,className:h("field"),type:"text"}),c("small",{className:h("format-hint"),children:"Укажите время: просто число (часы), ЧЧ:ММ (02:30), комбинации (3д5ч, 3д 5ч), или словами (3 дня, 5 часов, 30 минут)"})]}),y("div",{className:h("date-field-container"),children:[c("p",{className:h("field-title"),children:"Планируемая дата реализации"}),c(Wi,{selected:N?new Date(N):null,onChange:Y=>{x(Y?Xr(Y,"yyyy-MM-dd"):"")},className:h("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))}),c("small",{id:"date-format-hint",className:h("format-hint"),children:"Укажите планируемую дату достижения цели (не ранее завтрашнего дня)"})]}),y("div",{className:h("btns-wrapper"),children:[!r&&c(V,{theme:"blue-light",className:h("btn"),onClick:()=>d(-1),type:"button",children:"Отмена"}),c(V,{theme:"blue",className:h("btn"),typeBtn:"submit",onClick:a?Y=>{Y.preventDefault(),Ne()}:void 0,children:"Создать цель"})]})]})]})})]});return a?c("div",{className:p(),children:At}):c("form",{className:p(),onSubmit:ce,children:At})},IB=({page:e})=>{const{setPage:t,setHeader:n,setFull:r}=yt;return g.useEffect(()=>{t(e),n("white"),r(!1)},[e,t,n,r]),c(Fh,{})},OB=async e=>await Je("goal-lists/create",{body:e,file:!0,auth:!0});const PB=e=>{const{className:t,goal:n,onGoalEdited:r,onCancel:a,initialCategory:s,preloadedCategories:i=[],preloadedSubcategories:o=[],autoParserData:l}=e,[u,d]=J("add-goal",t),[f,p]=g.useState(!1),[h,m]=g.useState((n==null?void 0:n.code)||""),[v,T]=g.useState(""),[E,C]=g.useState(""),[_,N]=g.useState(null),[x,S]=g.useState(null),[A,P]=g.useState(null),[O,k]=g.useState(""),[w,D]=g.useState(""),[M,U]=g.useState(null),[G,F]=g.useState(null),[I]=g.useState(i),[H]=g.useState(o),[q,L]=g.useState(!1),te=g.useRef(null),[_e,$]=g.useState(l||{}),[xe,Pe]=g.useState([]),[,Ce]=g.useState(!1),[We,Fe]=g.useState(!1),[Xe,le]=g.useState(!1);g.useEffect(()=>{l&&$(l)},[l]),g.useEffect(()=>{if(!f&&n&&I.length>0){if(T(n.title||""),C(n.description||""),k(n.deadline||""),D(n.estimatedTime||""),F((n==null?void 0:n.imageUrl)||((n==null?void 0:n.image)instanceof File?null:n.image)),U((n==null?void 0:n.image)instanceof File?n.image:null),n.complexity){const ee=Bt.findIndex(Ue=>Ue.value===n.complexity);ee!==-1&&N(ee)}if(s)if(s.parentCategory){const ee=I.findIndex(Ue=>{var qe;return Ue.id===((qe=s.parentCategory)==null?void 0:qe.id)});if(ee!==-1){S(ee);const Ue=H.findIndex(qe=>qe.id===s.id);Ue!==-1&&P(Ue)}}else{const ee=I.findIndex(Ue=>Ue.id===s.id);ee!==-1&&S(ee)}else if(n.category){const ee=I.findIndex(Ue=>Ue.id===n.category.id);ee!==-1&&S(ee)}p(!0)}},[n,I,H,s,f]);const Le=ee=>{T(ee)},ae=ee=>{Hf(ee)&&D(ee)},K=ee=>{if(!ee)return"";const Ue=/^(\d{1,2}):(\d{1,2})$/;if(Ue.test(ee)){const Et=ee.match(Ue);if(Et){const rn=Et[1].padStart(2,"0"),kt=Et[2].padStart(2,"0");return"".concat(rn,":").concat(kt)}}if(/^\d+$/.test(ee)){const Et=parseInt(ee,10);return"".concat(Et.toString().padStart(2,"0"),":00")}const Q=/^(\d+)?\s*д?\s*(\d+)?\s*ч?\s*(\d+)?\s*м?$/i,se=ee.match(Q);if(se&&(se[1]||se[2]||se[3])){const Et=se[1]?parseInt(se[1],10):0,rn=se[2]?parseInt(se[2],10):0,kt=se[3]?parseInt(se[3],10):0,Fn=Et*24+rn+Math.floor(kt/60),fn=kt%60;return"".concat(Fn.toString().padStart(2,"0"),":").concat(fn.toString().padStart(2,"0"))}const Ae=/^(\d+)\s*(д|дн|дня|дней)$/i,Ye=ee.match(Ae);if(Ye){const rn=parseInt(Ye[1],10)*24;return"".concat(rn.toString().padStart(2,"0"),":00")}const Se=/^(\d+)\s*(ч|час|часа|часов)$/i,Lt=ee.match(Se);if(Lt){const Et=parseInt(Lt[1],10);return"".concat(Et.toString().padStart(2,"0"),":00")}const Qt=/^(\d+)\s*(м|мин|минут|минуты)$/i,Xt=ee.match(Qt);if(Xt){const Et=parseInt(Xt[1],10),rn=Math.floor(Et/60),kt=Et%60;return"".concat(rn.toString().padStart(2,"0"),":").concat(kt.toString().padStart(2,"0"))}return ee},he=g.useCallback(No(async ee=>{var Ue;if(ee.length<3){Pe([]),Ce(!1),Fe(!1);return}try{const qe=await au(ee);qe.success&&((Ue=qe==null?void 0:qe.data)!=null&&Ue.results)&&(Pe(qe.data.results),Fe(qe.data.results.length>0&&Xe))}catch(qe){console.error("Ошибка при поиске похожих целей:",qe)}finally{Ce(!1)}},500),[Xe]);g.useEffect(()=>{v?(Ce(!0),he(v)):(Pe([]),Fe(!1))},[v,he]);const Re=()=>{le(!0),xe.length>0&&Fe(!0)},Z=()=>{setTimeout(()=>{le(!1),Fe(!1)},200)},ue=ee=>{T(ee.title),C(ee.description),D(ee.estimatedTime||"");const Ue=Bt.findIndex(Q=>Q.value===ee.complexity);Ue!==-1&&N(Ue);const qe=I.findIndex(Q=>Q.id===ee.category.id);if(qe!==-1&&(S(qe),ee.subcategory&&H.length>0)){const Q=H.findIndex(se=>{var Ae;return se.id===((Ae=ee.subcategory)==null?void 0:Ae.id)});Q!==-1&&P(Q)}Fe(!1),le(!1),pe.addNotification({type:"warning",title:"Данные заполнены",message:"Поля формы заполнены данными выбранной цели. Вы можете изменить их перед сохранением."})},Te=g.useCallback(ee=>{ee&&ee.length>0&&(U(ee[0]),F(null))},[]),$e=()=>{te.current&&te.current.click()},at=ee=>{ee.target.files&&Te(ee.target.files)},ge=ee=>{if(T(ee.title||""),C(ee.description||""),m(ee.code||""),ee.complexity){const qe=Bt.findIndex(Q=>Q.value===ee.complexity);qe!==-1&&N(qe)}ee.imageUrl?(F(ee.imageUrl),U(null)):ee.image&&(F(ee.image),U(null));const Ue={external_id:ee.external_id,type:ee.externalType,...Object.fromEntries(Object.entries(ee).filter(([qe])=>!["title","description","estimatedTime","complexity","category","subcategory","imageUrl","image","external_id","externalType"].includes(qe)))};$({..._e,additionalFields:{...Ue},status:ee.status,apiSource:ee.externalType}),pe.addNotification({type:"success",title:"Готово",message:"Данные цели загружены! Проверьте и дополните при необходимости."})},it=async ee=>{if(ee&&typeof ee.preventDefault=="function"&&ee.preventDefault(),!v||!E||_===null||x===null||!M&&!G){pe.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}L(!0);try{const Ue={title:v,description:E,complexity:Bt[_].value,category:A!==null?H[A]:I[x],estimatedTime:w?K(w):"",code:h,deadline:O,status:_e.status,shortDescription:E?"".concat(E.substring(0,100),"..."):n.shortDescription,imageFile:M instanceof File?M:null,image:M?null:G,imageUrl:null,autoParserData:{...n.autoParserData,..._e,title:v,description:E,imageUrl:M?null:G,estimatedTime:w?K(w):""}};r(Ue),pe.addNotification({type:"success",title:"Успех",message:"Цель успешно отредактирована"}),a()}catch(Ue){pe.addNotification({type:"error",title:"Ошибка",message:Ue instanceof Error?Ue.message:"Не удалось отредактировать цель"})}finally{L(!1)}};return c("div",{className:u(),children:c(ht,{isLoading:q,children:y("div",{className:d("content"),children:[c("div",{className:d("external-search-section"),children:c(Mh,{onGoalSelected:ge,className:d("external-search"),category:A!==null&&H.length>0?H[A].nameEn:x!==null?I[x].nameEn:void 0})}),y("div",{className:d("image-section"),children:[c("p",{className:d("field-title"),children:"Изображение цели *"}),!M&&!G?c("div",{className:d("dropzone"),children:c(ma,{onDrop:ee=>ee&&Te(ee),children:y("div",{className:d("upload-placeholder"),onClick:$e,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyPress:ee=>{(ee.key==="Enter"||ee.key===" ")&&$e()},children:[c("input",{type:"file",ref:te,style:{display:"none"},onChange:at,accept:"image/*"}),c(me,{icon:"mount",className:d("upload-icon")}),c("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})}):y("div",{className:d("image-preview"),children:[G&&!M&&c("img",{src:G,alt:"Предпросмотр из источника",className:d("preview")}),M&&c("img",{src:M instanceof File?URL.createObjectURL(M):M,alt:"Предпросмотр",className:d("preview")}),c(V,{className:d("remove-image"),type:"button-close",onClick:()=>{U(null),F(null)}})]})]}),y("div",{className:d("form"),children:[y("div",{className:d("field-container"),children:[c(Oe,{placeholder:"Введите название цели",id:"goal-title",text:"Название цели *",value:v,setValue:Le,className:d("field"),required:!0,onFocus:Re,onBlur:Z}),We&&y("div",{className:d("similar-goals"),children:[y("div",{className:d("similar-header"),children:[c("h3",{className:d("similar-title"),children:"Похожие цели"}),c("button",{type:"button",className:d("close-similar"),onClick:()=>Fe(!1),"aria-label":"Закрыть",children:c(me,{icon:"cross"})})]}),c("p",{className:d("similar-desc"),children:"Найдены похожие цели. Нажмите на цель, чтобы заполнить форму её данными:"}),c("div",{className:d("similar-list"),children:xe.map(ee=>c(U1,{goal:ee,onSelect:ue},ee.id))})]})]}),c(Wt,{className:d("field"),placeholder:"Выберите сложность",options:Bt,activeOption:_,onSelect:N,text:"Сложность *"}),c(Oe,{placeholder:"Опишите цель подробно",id:"goal-description",text:"Описание *",value:E,setValue:C,className:d("field"),type:"textarea",required:!0}),y("div",{className:d("time-field-container"),children:[c(Oe,{placeholder:"Например: 5, 2:30, 3д5ч, 3д 5 ч, 3 дня, 5 часов",id:"goal-estimated-time",text:"Предполагаемое время выполнения",value:w,setValue:ae,className:d("field"),type:"text"}),c("small",{className:d("format-hint"),children:"Укажите время: просто число (часы), ЧЧ:ММ (02:30), комбинации (3д5ч, 3д 5ч), или словами (3 дня, 5 часов, 30 минут)"})]}),y("div",{className:d("date-field-container"),children:[c("p",{className:d("field-title"),children:"Планируемая дата реализации"}),c(Wi,{selected:O?new Date(O):null,onChange:ee=>{k(ee?Xr(ee,"yyyy-MM-dd"):"")},className:d("date-input"),placeholderText:"ДД.ММ.ГГГГ",minDate:new Date(new Date().setDate(new Date().getDate()+1))}),c("small",{id:"date-format-hint",className:d("format-hint"),children:"Укажите планируемую дату достижения цели (не ранее завтрашнего дня)"})]}),y("div",{className:d("btns-wrapper"),children:[c(V,{theme:"blue-light",className:d("btn"),onClick:a,type:"button",children:"Отмена"}),c(V,{theme:"blue",className:d("btn"),onClick:it,type:"button",children:"Сохранить изменения"})]})]})]})})})},LB=({goal:e,index:t,onRemove:n,onEdit:r,onStartEdit:a,onCancelEdit:s,onConfirm:i,onReject:o,onReplaceFromSearch:l,onCloseReplacementSearch:u,isEditing:d=!1,isOtherEditing:f=!1,className:p,preloadedCategories:h,preloadedSubcategories:m,initialCategory:v})=>{var D,M,U,G;const[T,E]=J("goal-list-item",p),[C,_]=g.useState(null);g.useEffect(()=>{var F,I,H,q;if(d){const L=Bt.findIndex(_e=>_e.value===e.complexity),te={title:e.title,description:e.description,image:e.image,estimatedTime:e.estimatedTime,deadline:e.deadline,complexity:L!==-1?L:1,category:e.category};e.isFromAutoParser&&e.autoParserData?_({...te,external_id:((F=e.autoParserData)==null?void 0:F.external_id)||((I=e.autoParserData)==null?void 0:I.externalId),type:((H=e.autoParserData)==null?void 0:H.type)||((q=e.autoParserData)==null?void 0:q.externalType),...Object.fromEntries(Object.entries(e.autoParserData||{}).filter(([_e])=>!["title","description","image","estimatedTime","deadline","complexity","category"].includes(_e)))}):_(te)}},[d,e]);const N=()=>{var I;if(!e.isFromAutoParser||!e.autoParserData)return null;const{status:F}=e.autoParserData;switch(F){case"existing":return{color:"green",text:"Существующая цель",icon:"done"};case"external":return{color:"blue",text:"Найдена через ".concat((I=e.autoParserData.apiSource)==null?void 0:I.toUpperCase()),icon:"edit"};case"created":return{color:"orange",text:"Новая цель",icon:"plus"};case"error":return{color:"red",text:"Ошибка",icon:"info"};default:return{color:"gray",text:"Неизвестный статус",icon:"search"}}},x=()=>{var I;if(!e.isFromAutoParser||!((I=e.autoParserData)!=null&&I.confidence))return null;const F=Math.min(e.autoParserData.confidence*100,100);return F>=90?{color:"green",text:"Высокая"}:F>=70?{color:"orange",text:"Средняя"}:{color:"red",text:"Низкая"}},S=F=>{if(r){const I={title:F.title,description:F.description,image:F.image||F.imageUrl||F.imageFile,imageUrl:null,estimatedTime:F.estimatedTime,deadline:F.deadline,complexity:F.complexity,category:F.category,shortDescription:F.description?"".concat(F.description.substring(0,100),"..."):e.shortDescription,code:F.code,status:F.status,autoParserData:{...F.autoParserData,title:F.title,description:F.description,image:F.image||F.imageFile||F.imageUrl,estimatedTime:F.estimatedTime,deadline:F.deadline,complexity:F.complexity}};r(e.id,I)}},A=N(),P=x(),O=e.isFromAutoParser&&e.needsConfirmation&&!e.isConfirmed&&!e.isRejected,k=e.replacementSearch&&l,w=((D=e.autoParserData)==null?void 0:D.status)==="created"&&(!e.image||!e.description||e.description==="Цель: ".concat(e.title));return d&&C?y("div",{className:T({editing:!0}),children:[e.isFromAutoParser&&(A||P)&&y("div",{className:E("auto-header"),children:[A&&y("div",{className:E("status"),style:{color:A.color},children:[c(me,{icon:A.icon,className:E("status-icon")}),c("span",{children:A.text})]}),P&&y("div",{className:E("confidence"),style:{color:P.color},children:[Math.round((((M=e.autoParserData)==null?void 0:M.confidence)||0)*100),"% (",P.text,")"]}),e.originalSearchText&&y("div",{className:E("search-text"),children:["Поиск: ",c("em",{children:e.originalSearchText})]})]}),c("div",{className:E("edit-form"),children:c(PB,{className:E("add-goal"),goal:e,onGoalEdited:S,onCancel:s||(()=>{}),initialCategory:v,preloadedCategories:h,preloadedSubcategories:m,autoParserData:C})})]}):y("div",{className:T({auto:e.isFromAutoParser,disabled:f&&!k,"needs-confirmation":O,"needs-edit":w,rejected:e.isRejected}),children:[e.isFromAutoParser&&(A||P)&&y("div",{className:E("auto-header"),children:[A&&y("div",{className:E("status"),style:{color:A.color},children:[c(me,{icon:A.icon,className:E("status-icon")}),c("span",{children:A.text})]}),P&&y("div",{className:E("confidence"),style:{color:P.color},children:[Math.round((((U=e.autoParserData)==null?void 0:U.confidence)||0)*100),"% (",P.text,")"]}),e.originalSearchText&&y("div",{className:E("search-text"),children:["Поиск: ",c("em",{children:e.originalSearchText})]})]}),w&&y("div",{className:E("edit-warning"),children:[c(me,{icon:"info",className:E("warning-icon")}),c("span",{children:"Требуется редактирование: добавьте изображение и описание"})]}),O&&y("div",{className:E("confirmation-buttons"),children:[y("div",{className:E("confirmation-message"),children:[c(me,{icon:"search",className:E("question-icon")}),c("span",{children:"Это та цель, которую вы искали?"})]}),y("div",{className:E("confirmation-actions"),children:[c(V,{theme:"green",size:"small",onClick:()=>i==null?void 0:i(e.id),icon:"done",children:"Принять"}),c(V,{theme:"red",size:"small",onClick:()=>o==null?void 0:o(e.id),icon:"cross",children:"Отклонить"})]})]}),k&&y("div",{className:E("replacement-search"),children:[y("div",{className:E("replacement-header"),children:[y("h4",{children:["Поиск замены для: ",e.title]}),c(V,{theme:"blue-light",size:"small",onClick:()=>u==null?void 0:u(e.id),icon:"cross",children:"Закрыть"})]}),c(Mh,{category:(G=e.category)==null?void 0:G.nameEn,onGoalSelected:F=>l==null?void 0:l(e.id,F),className:E("replacement-search-component"),initialQuery:e.originalSearchText})]}),y("div",{className:E("content"),children:[c("div",{className:E("image-container"),children:e.image instanceof File?c("img",{src:URL.createObjectURL(e.image),alt:e.title,className:E("image")}):e.image?c("img",{src:e.image,alt:e.title,className:E("image")}):e!=null&&e.imageUrl?c("img",{src:e==null?void 0:e.imageUrl,alt:e.title,className:E("image")}):c("div",{className:E("no-image"),children:c(me,{icon:"mount"})})}),y("div",{className:E("info"),children:[c("h4",{className:E("title"),children:e.title}),c("p",{className:E("complexity"),children:Cc[e.complexity]||e.complexity}),c("p",{className:E("description"),children:e.shortDescription})]})]}),y("div",{className:E("actions"),children:[(e.isFromAutoParser||w)&&a&&!f&&!k&&c("button",{type:"button",className:E("edit-btn"),onClick:()=>a(t),"aria-label":"Редактировать цель",title:"Редактировать цель",children:c(me,{icon:"edit"})}),c("button",{type:"button",className:E("remove-btn"),onClick:()=>n(e.id),"aria-label":"Удалить цель",title:"Удалить цель",disabled:f,onKeyDown:F=>{(F.key==="Enter"||F.key===" ")&&n(e.id)},children:c(me,{icon:"cross"})})]})]})};const H1=({goal:e,onAdd:t})=>{const[n,r]=J("goal-search-item");return y("div",{className:n(),children:[y("div",{className:r("content"),children:[c("div",{className:r("image-container"),children:e.image?c("img",{src:e.image,alt:e.title,className:r("image")}):c("div",{className:r("no-image"),children:c(me,{icon:"mount"})})}),y("div",{className:r("info"),children:[c("h4",{className:r("title"),children:e.title}),c("p",{className:r("complexity"),children:e.complexity}),c("p",{className:r("description"),children:e.shortDescription})]})]}),c("button",{type:"button",className:r("add-btn"),onClick:()=>t(e),"aria-label":"Добавить цель",children:c(me,{icon:"plus"})})]})};const su=({className:e})=>{const[t]=J("scroll-to-top",e),[n,r]=g.useState(!1);g.useEffect(()=>{const s=()=>{const o=(window.pageYOffset||document.documentElement.scrollTop)>window.innerHeight*2;r(o)};return s(),window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]);const a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return c("button",{className:t({"fade-out":!n}),onClick:a,type:"button","aria-label":"Прокрутить наверх",children:c(me,{icon:"arrow--left"})})};const id="addGoalList_cachedData",RB=e=>{const{className:t}=e,n=Rn(),r=_0(),[a,s]=J("add-goal-list",t),[i,o]=g.useState(""),[l,u]=g.useState(""),[d,f]=g.useState(null),[p,h]=g.useState(null),[m,v]=g.useState(null),[T,E]=g.useState(null),[C,_]=g.useState([]),[N,x]=g.useState([]),[S,A]=g.useState(!1),[P,O]=g.useState(!1),[k,w]=g.useState(!1),D=g.useRef(null),M=g.useRef(null),[U,G]=g.useState([]),[F,I]=g.useState(""),[H,q]=g.useState([]),[,L]=g.useState(!1),[te,_e]=g.useState(!1),[$,xe]=g.useState(""),[Pe,Ce]=g.useState(!1),[We,Fe]=g.useState(!1),[Xe,le]=g.useState(""),[Le,ae]=g.useState(""),[K,he]=g.useState(null),[Re,Z]=g.useState(!1),ue=g.useMemo(()=>C.filter(ne=>!ne.parentCategory),[C]);g.useEffect(()=>{(()=>{try{const ce=localStorage.getItem(id);if(ce){const Ne=JSON.parse(ce);o(Ne.title),u(Ne.description),f(Ne.activeComplexity),h(Ne.activeCategory),v(Ne.activeSubcategory),G(Ne.selectedGoals),le(Ne.sourceName||""),ae(Ne.sourceUrl||"")}}catch(ce){console.error("Ошибка при загрузке кешированных данных:",ce)}})()},[]),g.useEffect(()=>{if(!i&&!l&&d===null&&p===null&&U.length===0&&!Xe&&!Le)return;(()=>{try{const ce={title:i,description:l,activeComplexity:d,activeCategory:p,activeSubcategory:m,selectedGoals:U,sourceName:Xe,sourceUrl:Le};localStorage.setItem(id,JSON.stringify(ce))}catch(ce){console.error("Ошибка при кешировании данных:",ce)}})()},[i,l,d,p,m,U,Xe,Le]),g.useEffect(()=>{_e(p!==null)},[p]);const Te=()=>{try{localStorage.removeItem(id)}catch(ne){console.error("Ошибка при очистке кеша:",ne)}},$e=ne=>{o(ne)};g.useEffect(()=>{(async()=>{try{const ce=await Zi();ce.success&&_(ce.data)}catch(ce){pe.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[]),g.useEffect(()=>{if(p!==null&&ue.length>0&&ue[p]){const ne=ue[p],ce=C.filter(Ne=>Ne.parentCategory&&Ne.parentCategory.id===ne.id);x(ce),v(null)}else x([]),v(null)},[p,ue.length]),g.useEffect(()=>{const ce=new URLSearchParams(r.search).get("category");if(ce&&ue.length>0){const Ne=ue.findIndex(St=>St.nameEn===ce);Ne!==-1&&h(Ne)}},[r.search,ue.length]);const at=g.useCallback(No(async ne=>{var ce;if(ne.length<3){q([]),L(!1);return}try{const Ne=await au(ne);if(Ne.success&&((ce=Ne.data)!=null&&ce.results)){const St=Ne.data.results.filter(At=>!U.some(Y=>Y.id===At.id));q(St)}}catch(Ne){console.error("Ошибка при поиске целей:",Ne)}finally{L(!1)}},500),[]);g.useEffect(()=>{F?(L(!0),at(F)):q([])},[F,at]);const ge=g.useCallback(ne=>{ne&&ne.length>0&&E(ne[0])},[]),it=()=>{D.current&&D.current.click()},ee=ne=>{ne.target.files&&ge(ne.target.files)},Ue=()=>{E(null)},qe=ne=>{G(ce=>[...ce,ne]),q(ce=>ce.filter(Ne=>Ne.id!==ne.id)),I("")},Q=ne=>{G(ce=>ce.filter(Ne=>Ne.id!==ne))},se=ne=>{G(ce=>[...ce,ne]),O(!1),pe.addNotification({type:"success",title:"Успех",message:"Цель успешно добавлена в список"})},Ae=()=>U.some(ne=>ne.isFromAutoParser&&ne.needsConfirmation&&!ne.isConfirmed&&!ne.isRejected),Ye=()=>U.some(ne=>{var ce;return((ce=ne.autoParserData)==null?void 0:ce.status)==="created"&&(!ne.image||!ne.description||ne.description==="Цель: ".concat(ne.title))}),Se=ne=>{ne.preventDefault(),ne.stopPropagation()},Lt=async ne=>{if(ne.preventDefault(),!i||!l||d===null||p===null||!T){pe.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}if(U.length===0){pe.addNotification({type:"error",title:"Ошибка",message:"Добавьте хотя бы одну цель в список"});return}if(Ae()){pe.addNotification({type:"error",title:"Внимание",message:"Есть цели, требующие подтверждения. Пожалуйста, подтвердите или отклоните их."});return}if(Ye()){pe.addNotification({type:"error",title:"Внимание",message:"Есть новые цели, требующие редактирования. Пожалуйста, отредактируйте их."});return}A(!0);try{const ce=new FormData;ce.append("title",i),ce.append("description",l),d!==null&&ce.append("complexity",Bt[d].value),m!==null&&N[m]?ce.append("category",N[m].id.toString()):p!==null&&ce.append("category",ue[p].id.toString()),ce.append("image",T),Xe.trim()&&ce.append("source_name",Xe.trim()),Le.trim()&&ce.append("source_url",Le.trim());const Ne=U.filter(Y=>!Y.isFromAutoParser),St=U.filter(Y=>Y.isFromAutoParser);if(Ne.forEach(Y=>{ce.append("goals[]",Y.id.toString())}),St.length>0){const Y=St.map(ie=>{const Ee={...ie.autoParserData};return ie.code&&(Ee.goalCode=ie.code),ie.title&&(Ee.title=ie.title),ie.description&&(Ee.description=ie.description),ie.image&&(typeof ie.image=="string"?Ee.imageUrl=ie.image:(ce.append("goal_image_".concat(ie.id),ie.image),Ee.imageField="goal_image_".concat(ie.id))),ie.estimatedTime&&(Ee.estimatedTime=ie.estimatedTime),ie.deadline&&(Ee.deadline=ie.deadline),ie.complexity&&(Ee.complexity=ie.complexity),Ee});ce.append("goals_data",JSON.stringify(Y))}const At=await OB(ce);if(At.success)Te(),pe.addNotification({type:"success",title:"Успех",message:"Список целей успешно создан"}),n("/list/".concat(At.data.code));else throw new Error(At.error||"Неизвестная ошибка")}catch(ce){pe.addNotification({type:"error",title:"Ошибка",message:ce instanceof Error?ce.message:"Не удалось создать список целей"})}finally{A(!1)}};g.useEffect(()=>{P&&M.current&&M.current.scrollIntoView({behavior:"smooth",block:"start"})},[P]);const Qt=()=>{var ne,ce;if(p!==null)return typeof m=="number"?(ne=N[m])==null?void 0:ne.id:(ce=ue[p])==null?void 0:ce.id},Xt=(ne,ce=5)=>{const Ne=ne.split("\n").filter(At=>At.trim()),St=[];for(let At=0;At<Ne.length;At+=ce)St.push(Ne.slice(At,At+ce).join("\n"));return St},Et=async(ne,ce)=>{try{return await Fw("goal-lists/parse-text",{body:{text:ne,category_id:ce,prioritize_existing:!0},showSuccessNotification:!1,showErrorNotification:!1,auth:!0})}catch(Ne){throw console.error("Error processing chunk:",Ne),Ne}},rn=async()=>{if(!$.trim()){pe.addNotification({type:"warning",title:"Внимание",message:"Введите текст для анализа"});return}const ne=Qt();if(!ne){pe.addNotification({type:"error",title:"Ошибка",message:"Выберите категорию для автоматического поиска"});return}Ce(!0);const ce=Xt($);let Ne=[];try{await(async()=>{await ce.reduce(async(Y,ie,Ee)=>{await Y;const He=await Et(ie,ne.toString());if(He.success&&He.data.goals){const wt=He.data.goals.filter(_n=>{const Bn={..._n};return Bn.matchPercentage>100&&(Bn.matchPercentage=100),!U.some(ii=>ii.id===Bn.goalCode||ii.title.toLowerCase()===Bn.title.toLowerCase())});Ne=[...Ne,...wt]}const Ie=Math.round((Ee+1)/ce.length*100);pe.addNotification({type:"success",title:"Прогресс",message:"Обработано ".concat(Ie,"% текста...")})},Promise.resolve())})();const At=Ne.map(Y=>{var Ie;const Ee=(Y.confidence||0)<.97;return{id:Y.goalCode||"temp_".concat(Date.now(),"_").concat(Math.random()),title:Y.title,description:Y.description,image:Y.imageUrl,estimatedTime:Y.estimatedTime||"",deadline:Y.deadline||"",shortDescription:"".concat((Ie=Y.description)==null?void 0:Ie.substring(0,100),"..."),complexity:d!==null?Bt[d].value:"medium",category:m!==null?N[m]:ue[p],isFromAutoParser:!0,originalSearchText:Y.searchText,autoParserData:Y,needsConfirmation:Ee,isConfirmed:!Ee,isRejected:!1,replacementSearch:!1,code:Y.goalCode||"temp_".concat(Date.now(),"_").concat(Math.random()),additional:Y.additional||{}}});G(Y=>[...Y,...At]),xe(""),pe.addNotification({type:"success",title:"Готово!",message:"Добавлено ".concat(At.length," целей. ").concat(Ne.length!==At.length?"Дубликаты пропущены.":"")})}catch(St){console.error("Error parsing text:",St),pe.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при анализе текста"})}finally{Ce(!1)}},kt=()=>{he(null)},Fn=(ne,ce)=>{G(Ne=>Ne.map(At=>At.id===ne?{...At,...ce}:At))},fn=()=>{G([]),pe.addNotification({type:"success",title:"Готово",message:"Все выбранные цели удалены"})},ko=ne=>{G(ce=>ce.map(Ne=>Ne.id===ne?{...Ne,isConfirmed:!0,needsConfirmation:!1,replacementSearch:!1}:Ne))},Ao=ne=>{G(ce=>ce.map(Ne=>Ne.id===ne?{...Ne,isRejected:!0,replacementSearch:!0}:Ne))},Do=ne=>{const ce=U.find(Ne=>Ne.id===ne);ce&&ce.isRejected&&!ce.isConfirmed?(G(Ne=>Ne.filter(St=>St.id!==ne)),pe.addNotification({type:"warning",title:"Цель удалена",message:"Отклоненная цель была удалена из списка."})):G(Ne=>Ne.map(St=>St.id===ne?{...St,replacementSearch:!1}:St))},Io=(ne,ce)=>{G(Ne=>{const St=Ne.findIndex(Ee=>Ee.id===ne);if(St===-1)return Ne;const At=Ne[St];if(ce.isExistingGoal){const Ee={...ce,id:ce.id||ce.external_id,isFromAutoParser:!1,originalSearchText:void 0,autoParserData:void 0,isConfirmed:!0,needsConfirmation:!1,replacementSearch:!1,isRejected:!1,code:ce.code||ce.id||ce.external_id,additional:ce.additional||{},shortDescription:ce.description?"".concat(ce.description.substring(0,100),"..."):ce.title},He=[...Ne];return He[St]=Ee,He}const Y={...ce,id:ce.id||"temp_".concat(Date.now(),"_").concat(Math.random()),isFromAutoParser:!0,originalSearchText:At.originalSearchText,autoParserData:{...ce,confidence:1,status:ce.source,apiSource:ce.externalType},isConfirmed:!0,needsConfirmation:!1,replacementSearch:!1,isRejected:!1,additional:ce.additional||{}},ie=[...Ne];return ie[St]=Y,ie})},Oo=()=>Re?U.filter(ne=>{var ce;return!!(ne.needsConfirmation&&!ne.isConfirmed||((ce=ne.autoParserData)==null?void 0:ce.status)==="created"&&(!ne.image||!ne.description||ne.description==="Цель: ".concat(ne.title)))}):U;return y("form",{className:a(),onSubmit:Lt,children:[y("div",{className:s("container"),children:[y("div",{className:s("wrapper-title"),children:[c(De,{tag:"h1",className:s("title"),children:"Создание списка целей"}),c(V,{size:"small",type:"Link",theme:"blue",icon:"plus",href:"/goals/create",children:"Добавить цель"})]}),y("div",{className:s("content"),children:[y("div",{className:s("image-section"),children:[c("p",{className:s("field-title"),children:"Изображение списка *"}),T?y("div",{className:s("image-preview"),children:[c("img",{src:URL.createObjectURL(T),alt:"Предпросмотр",className:s("preview")}),c(V,{withBorder:!0,className:s("remove-image"),type:"button-close",onClick:Ue})]}):c("div",{className:s("dropzone"),children:c(ma,{onDrop:ne=>ne&&ge(ne),children:y("div",{className:s("upload-placeholder"),onClick:it,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyPress:ne=>{(ne.key==="Enter"||ne.key===" ")&&it()},children:[c("input",{type:"file",ref:D,style:{display:"none"},onChange:ee,accept:"image/*"}),c(me,{icon:"mount",className:s("upload-icon")}),c("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})})]}),y("div",{className:s("form"),children:[c("div",{className:s("field-wrapper"),children:c(Oe,{placeholder:"Введите название списка целей",id:"goal-list-title",text:"Название списка *",value:i,setValue:$e,className:s("field"),required:!0})}),c(Wt,{className:s("field"),placeholder:"Выберите категорию",options:ue.map(ne=>({name:ne.name,value:ne.nameEn})),activeOption:p,onSelect:h,text:"Категория *"}),p!==null&&N.length>0&&c(Wt,{className:s("field"),placeholder:"Выберите подкатегорию (необязательно)",options:N.map(ne=>({name:ne.name,value:ne.nameEn})),activeOption:m,onSelect:v,text:"Подкатегория"}),c(Wt,{className:s("field"),placeholder:"Выберите сложность",options:Bt,activeOption:d,onSelect:f,text:"Сложность *"}),c(Oe,{placeholder:"Опишите список целей подробно",id:"goal-list-description",text:"Описание *",value:l,setValue:u,className:s("field"),type:"textarea",required:!0}),y("div",{className:s("source-section"),children:[c("h3",{className:s("source-title"),children:"Источник списка (необязательно)"}),y("div",{className:s("source-fields"),children:[c(Oe,{placeholder:"Например: 100 лучших книг по версии BBC",id:"goal-list-source-name",text:"Название источника",value:Xe,setValue:le,className:s("field")}),c(Oe,{placeholder:"https://example.com/list",id:"goal-list-source-url",text:"Ссылка на источник",value:Le,setValue:ae,className:s("field")})]})]}),y("div",{className:s("goals-section"),children:[c(De,{tag:"h2",className:s("subtitle"),children:"Добавление целей в список"}),y("div",{className:s("search-container"),children:[c(Oe,{placeholder:"Поиск существующих целей",id:"goal-search",text:"Поиск целей",value:F,setValue:I,className:s("search-field"),iconBegin:"search"}),H.length>0&&c("div",{className:s("search-results"),children:H.map(ne=>c(H1,{goal:ne,onAdd:qe},ne.id))})]}),y("div",{className:s("auto-add-section"),children:[y("div",{className:s("auto-add-header"),children:[c("h3",{className:s("auto-add-title"),children:"Автоматическое добавление из списка"}),c(V,{theme:"blue-light",size:"small",onClick:()=>Fe(!We),className:s("auto-toggle-btn"),icon:"edit",children:We?"Скрыть":"Показать"})]}),We&&y("div",{className:s("auto-add-content"),children:[y("div",{className:s("auto-info"),children:[c(me,{icon:"info",className:s("auto-info-icon")}),c("p",{className:s("auto-info-text"),children:"Вставьте список целей (книги, фильмы, игры) — система автоматически найдет соответствия и добавит их к уже выбранным целям."})]}),p!==null&&y("div",{className:s("error-info"),children:[c(me,{icon:"info",className:s("error-info-icon")}),c("p",{className:s("error-info-text"),children:"Для автоматического добавления целей из списка необходимо выбрать категорию списка."})]}),c(Oe,{id:"auto-goals-text",type:"textarea",text:"Список целей",value:$,setValue:xe,placeholder:["Пример:","1. Властелин колец, Дж. Р. Р. Толкин","2. Гарри Поттер, Дж. К. Роулинг","3. 1984, Джордж Оруэлл","","Или просто:","Властелин колец","Гарри Поттер","1984"].join("\n"),className:s("auto-textarea")}),c(V,{theme:"blue-light",onClick:rn,disabled:Pe||!$.trim()||p===null,className:s("auto-parse-btn"),icon:"plus",children:Pe?"Обработка...":"Добавить цели из списка"})]})]}),y("div",{className:s("selected-goals"),children:[y("div",{className:s("selected-goals-header"),children:[y("h3",{className:s("section-title"),children:["Выбранные цели (",U.length,")"]}),y("div",{className:s("goals-controls"),children:[U.some(ne=>ne.isFromAutoParser)&&c(Jn,{id:"hide-confirmed",text:"Скрыть подтвержденные",checked:Re,setChecked:Z,className:s("hide-checkbox")}),c(V,{theme:"blue-light",className:s("clear-btn"),onClick:()=>w(!0),size:"small",children:"Очистить все цели"})]})]}),U.length>0?c("div",{className:s("goals-list"),children:Oo().map((ne,ce)=>c(g.Fragment,{children:c(LB,{goal:ne,index:ce,onRemove:Q,onEdit:Fn,onStartEdit:he,onCancelEdit:kt,onConfirm:ko,onReject:Ao,onReplaceFromSearch:Io,onCloseReplacementSearch:Do,isEditing:K===ce,isOtherEditing:K!==null&&K!==ne.id,initialCategory:m!==null?N[m]:ue[p],preloadedCategories:C,preloadedSubcategories:N})},"".concat(ne==null?void 0:ne.originalSearchText,"-").concat(ne==null?void 0:ne.id)))}):c("div",{className:s("empty-message"),children:"Вы еще не добавили ни одной цели. Воспользуйтесь поиском или создайте новую цель."})]}),c("div",{className:s("add-new-goal"),children:P?y("div",{className:s("new-goal-form"),ref:M,children:[c(De,{tag:"h3",className:s("form-title"),children:"Создание новой цели"}),c("div",{className:s("embedded-add-goal-wrapper"),children:c(Fh,{className:s("embedded-add-goal"),onGoalCreated:se,hideNavigation:!0,noForm:!0,onSubmitForm:Se,initialCategory:m!==null?N[m]:ue[p],lockCategory:!0,preloadedCategories:C})}),c("div",{className:s("form-buttons"),children:c(V,{theme:"blue-light",className:s("cancel-btn"),onClick:()=>O(!1),type:"button",children:"Отмена"})})]}):c(V,{theme:"blue-light",className:s("add-goal-btn"),onClick:()=>{te?(kt(),O(!0)):pe.addNotification({type:"warning",title:"Внимание",message:"Для создания цели необходимо сначала выбрать категорию списка"})},type:"button",icon:"plus",children:"Создать новую цель"})})]}),y("div",{className:s("btns-wrapper"),children:[c(V,{theme:"blue-light",className:s("btn"),onClick:()=>n(-1),type:"button",children:"Отмена"}),c(V,{theme:"blue",className:s("btn"),typeBtn:"submit",children:S?"Создание...":"Создать список целей"})]})]})]})]}),c(su,{}),c(Bs,{title:"Очистить список целей?",isOpen:k,onClose:()=>w(!1),handleBtn:fn,textBtn:"Очистить список целей",text:"Вы уверены, что хотите очистить этот список целей?",themeBtn:"blue"})]})},MB=({page:e})=>{const{setPage:t,setHeader:n,setFull:r}=yt;return g.useEffect(()=>{t(e),n("white"),r(!1)},[e,t,n,r]),c(RB,{})},G1=async e=>{try{return await we("timer/".concat(e,"/get"),{auth:!0,showSuccessNotification:!1,showErrorNotification:!1})}catch(t){return console.error("Error getting goal timer:",t),{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка при получении таймера"}}},FB=async(e=!0)=>{try{return await we("timers",{auth:!0,get:{include_expired:e.toString()},showSuccessNotification:!1,showErrorNotification:!1})}catch(t){return console.error("Error getting user timers:",t),{success:!1,error:t instanceof Error?t.message:"Неизвестная ошибка при получении таймеров"}}},BB=async e=>{try{const t=await xn("timer/".concat(e,"/delete/"),{auth:!0,showSuccessNotification:!1,showErrorNotification:!1});return t.success?{success:!0,message:t.data.message||"Срок выполнения удален"}:{success:!1,message:t.errors||"Не удалось удалить срок выполнения"}}catch(t){return console.error("Error deleting goal timer:",t),{success:!1,message:"Произошла ошибка при удалении срока выполнения"}}},UB=async(e,t)=>{var n;try{const r=t.includes("T")?t.split("T")[0]:t,a=await sr("timer/".concat(e,"/"),{auth:!0,body:{deadline:r},showSuccessNotification:!1,showErrorNotification:!1});if(a.success&&((n=a.data)!=null&&n.timer)){const s=a.data.timer;return{success:!0,timer:{...s,goal:{code:e,title:s.goal_title||"",image:s.goal_image}},message:a.data.message||"Срок успешно установлен"}}return{success:!1,message:a.errors||"Не удалось установить срок выполнения"}}catch(r){return console.error("Error setting goal timer:",r),{success:!1,message:"Произошла ошибка при установке срока выполнения"}}};const HB=({goalCode:e,timer:t,onTimerUpdate:n})=>{const[r,a]=g.useState(!1),[s,i]=g.useState(t!=null&&t.deadline?vi(t.deadline):null),[o,l]=g.useState(t||null),[u,d]=g.useState(null),[f,p]=g.useState(!1),[h,m]=J("goal-timer"),v=async()=>{var S;p(!0);try{const A=await G1(e);A.success&&((S=A.data)!=null&&S.timer)&&(l(A.data.timer),i(vi(A.data.timer.deadline)))}catch(A){d("Не удалось получить информацию о сроке выполнения")}finally{p(!1)}};g.useEffect(()=>{t||v()},[t,e]);const T=S=>Xr(vi(S),"d MMMM yyyy",{locale:wh}),E=async()=>{if(!s){d("Пожалуйста, выберите дату");return}p(!0),d(null);try{const S=Xr(s,"yyyy-MM-dd"),A=await UB(e,S);A.success&&A.timer?(l(A.timer),n&&n(A.timer),a(!1),pe.addNotification({type:"success",title:"Успех",message:A.message||"Срок выполнения установлен"})):d(A.message||"Не удалось установить срок выполнения")}catch(S){d("Произошла ошибка при установке срока выполнения")}finally{p(!1)}},C=async()=>{p(!0);try{const S=await BB(e);S.success?(l(null),i(null),n&&n(null),pe.addNotification({type:"success",title:"Успех",message:S.message||"Срок выполнения удален"})):d(S.message||"Не удалось удалить срок выполнения")}catch(S){d("Произошла ошибка при удалении срока выполнения")}finally{p(!1)}},_=()=>{a(!1),d(null),o!=null&&o.deadline?i(vi(o.deadline)):i(null)},N=()=>f?c(V,{onClick:()=>{},theme:"blue",className:m("save-button"),children:"Сохранение..."}):c(V,{onClick:E,theme:"blue",className:m("save-button"),children:"Сохранить"}),x=()=>f?c(V,{onClick:()=>{},theme:"red",className:m("delete-button"),children:"Удаление..."}):c(V,{onClick:C,theme:"red",className:m("delete-button"),children:"Удалить"});return y("div",{className:h(),children:[u&&c("div",{className:m("error"),children:u}),r?y("div",{className:m("setup"),children:[c("div",{className:m("date-picker"),children:c(Wi,{className:m("date-input"),placeholderText:"ДД.ММ.ГГГГ",selected:s,onChange:i,minDate:new Date(new Date().setDate(new Date().getDate()+1))})}),y("div",{className:m("actions"),children:[N(),c(V,{onClick:f?()=>{}:_,theme:"blue-light",className:m("cancel-button"),children:"Отмена"})]})]}):c("div",{className:m("display"),children:o!=null&&o.deadline?y("div",{className:m("info"),children:[y("div",{className:m("deadline"),children:[c("span",{className:m("label"),children:"Срок выполнения:"}),c("span",{className:m("date"),children:T(o.deadline)}),o.daysLeft!==void 0&&c("span",{className:m("days-left",{expired:o.isExpired}),children:o.isExpired?"Срок истек":"".concat(_t(o.daysLeft,["Остался","Осталось","Осталось"],!1),": ").concat(_t(o.daysLeft,["день","дня","дней"]))})]}),y("div",{className:m("actions"),children:[c(V,{onClick:f?()=>{}:()=>a(!0),theme:"blue-light",className:m("edit-button"),children:"Изменить"}),x()]})]}):c(V,{onClick:f?()=>{}:()=>a(!0),theme:"blue-light",className:m("set-button"),children:"Установить срок выполнения"})})]})};const $1=e=>{var he,Re;const{className:t,title:n,image:r,added:a,updateGoal:s,code:i,done:o,isList:l,openAddReview:u,editGoal:d,canEdit:f,location:p,goalId:h,userFolders:m,regularConfig:v,list:T}=e,{onGoalCompleted:E}="onGoalCompleted"in e?e:{onGoalCompleted:void 0},[C,_]=g.useState(null),[N,x]=g.useState(null),[S,A]=g.useState(o),[P,O]=g.useState(!1),[k,w]=J("aside-goal",t);g.useEffect(()=>{A(o)},[o]),g.useEffect(()=>{var Z;if((Z=v==null?void 0:v.statistics)!=null&&Z.currentPeriodProgress){const ue=v.statistics.currentPeriodProgress;ue.type==="daily"&&O(ue.completedToday||!1)}},[v]);const{setIsOpen:D,setWindow:M,setFuncModal:U,setModalProps:G}=bn,{isScreenMobile:F,isScreenSmallTablet:I}=Qs();g.useEffect(()=>{(async()=>{var ue;if(a&&!l){const Te=await G1(i);Te.success&&((ue=Te.data)!=null&&ue.timer)?_(Te.data.timer):_(null)}})()},[i,a,l]),g.useEffect(()=>{(async()=>{if(a&&!l&&h)try{const ue=await gx(h);ue.success&&ue.data&&x(ue.data)}catch(ue){console.error("Ошибка загрузки прогресса:",ue)}})()},[a,l,h]);const H=Z=>{_(Z)},q=()=>{bn.setWindow("random-goal-picker"),bn.setModalProps({goals:T}),bn.setIsOpen(!0)},L=async()=>{if(!l&&a&&h&&(!N||N.progressPercentage===0))try{const Z=await bx(h,{progress_percentage:0,daily_notes:"Начало выполнения цели",is_working_today:!0});Z.success&&Z.data&&x(Z.data)}catch(Z){console.error("Ошибка начала выполнения:",Z)}},te=async()=>{if(!(!v||!a))try{const Z=await Gf({regular_goal_id:v.id,completed:!0,notes:""});Z.success&&Z.data&&(O(!0),E&&E())}catch(Z){console.error("Ошибка отметки регулярной цели:",Z)}},_e=()=>{!l&&h&&N&&(M("progress-update"),D(!0),G({goalId:h,goalTitle:n,currentProgress:N,onProgressUpdate:Z=>{x(Z),Z.progressPercentage>=100&&A(!0)},onGoalCompleted:()=>{A(!0),E&&E()}}))},$=()=>{M("confirm-execution-all-goal"),D(!0),l&&U(()=>s(i,"mark-all"))},xe=()=>{M("delete-goal"),D(!0),U(()=>s(i,"delete"))},Pe=()=>{l?(M("goal-map-multi"),D(!0),G({goals:p})):(M("goal-map"),D(!0),G({location:p,userVisitedLocation:S}))},Ce=()=>{!l&&a&&h&&(M("folder-selector"),D(!0),G({goalId:h,goalTitle:n,goalFolders:m||[],onFolderSelected:(Z,ue)=>{console.log('Цель "'.concat(n,'" добавлена в папку "').concat(ue,'"'))}}))},We=async()=>{window.open("https://telegram.me/share/url?url=".concat(window.location.href),"sharer","status=0,toolbar=0,width=650,height=500")},Fe=()=>{_e()},Xe=Z=>{(Z.key==="Enter"||Z.key===" ")&&(Z.preventDefault(),_e())},le=async Z=>{if(Z&&N&&h)try{await xx(h),x(null)}catch(ue){console.error("Ошибка сброса прогресса:",ue)}A(!Z),l||await s(i,"mark",Z)},Le=()=>{if(!v)return"";switch(v.frequency){case"daily":return"Ежедневно";case"weekly":return"".concat(v.weeklyFrequency," раз в неделю");case"custom":return"Пользовательский график";default:return""}},K=(()=>{var Z;if(!v)return null;if((Z=v.statistics)!=null&&Z.currentPeriodProgress){const ue=v.statistics.currentPeriodProgress;if(ue.type==="daily"){const Te=P||ue.completedToday;return{text:Te?"Выполнено сегодня":"Не выполнено сегодня",completed:Te,streak:ue.streak||0}}if(ue.type==="weekly")return{text:"".concat(ue.currentWeekCompletions||0," из ").concat(ue.requiredPerWeek||1," на этой неделе"),progress:ue.weekProgress||0}}return v.frequency==="daily"?{text:P?"Выполнено сегодня":"Не выполнено сегодня",completed:P,streak:0}:v.frequency==="weekly"?{text:"0 из ".concat(v.weeklyFrequency||1," на этой неделе"),progress:0}:null})();return y("aside",{className:k(),children:[c("img",{src:r,alt:n,className:w("image")}),y("div",{className:w("info"),children:[v&&a&&!l&&y("div",{className:w("regular-section"),children:[y("div",{className:w("regular-header"),children:[c(me,{icon:"calendar",className:w("regular-icon")}),c("span",{className:w("regular-title"),children:"Регулярная цель"})]}),c("p",{className:w("regular-frequency"),children:Le()}),K&&c("div",{className:w("regular-progress"),children:K.progress!==void 0?y(ft,{children:[c("div",{className:w("progress-text"),children:K.text}),c(Qr,{done:K.progress,all:100,goal:!0})]}):y("div",{className:w("daily-status",{completed:K.completed}),children:[c(me,{icon:K.completed?"done":"clock",className:w("status-icon")}),c("span",{children:K.text}),K.streak>0&&y("span",{className:w("streak"),children:["Серия: ",K.streak]})]})}),v&&a&&v.frequency==="daily"&&!P&&!((Re=(he=v.statistics)==null?void 0:he.currentPeriodProgress)!=null&&Re.completedToday)&&c(V,{theme:"green",onClick:te,icon:"plus",className:w("btn"),size:F||I?"medium":void 0,children:"Отметить сегодня"}),c(tn,{className:w("line")})]}),!l&&a&&!S&&N&&(N.progressPercentage>0||N.dailyNotes)&&y("div",{className:w("progress-section"),children:[y("div",{className:w("progress-header"),children:[c("span",{className:w("progress-label"),children:"Прогресс выполнения"}),y("span",{className:w("progress-value"),children:[N.progressPercentage,"%"]})]}),c("div",{className:w("progress-bar"),onClick:Fe,onKeyDown:Xe,role:"button",tabIndex:0,"aria-label":"Изменить прогресс цели, текущий прогресс ".concat(N.progressPercentage,"%"),style:{cursor:"pointer"},children:c(Qr,{done:N.progressPercentage,all:100,goal:!0})}),N.progressPercentage<100&&c(V,{theme:"blue-light",onClick:_e,icon:"trending-up",className:w("btn"),size:F||I?"medium":void 0,children:"Изменить прогресс"})]}),!l&&a&&!S&&(!N||N.progressPercentage===0&&!N.dailyNotes)&&!v&&c(V,{theme:"green",onClick:L,icon:"play",className:w("btn"),size:F||I?"medium":void 0,children:"Начать выполнение"}),!l&&a&&!v&&c(V,{theme:S?"green":"blue",onClick:()=>le(S),icon:"plus",className:w("btn",{done:!0}),hoverContent:S?"Отменить выполнение":"",hoverIcon:S?"cross":"",size:F||I?"medium":void 0,children:S?"Выполнено":"Выполнить"}),!l&&a&&c(V,{theme:"blue-light",onClick:Ce,icon:"folder",className:w("btn"),size:F||I?"medium":void 0,children:"Добавить в папку"}),l&&a&&!S&&c(V,{theme:"blue",onClick:$,icon:"done",className:w("btn"),size:F||I?"medium":void 0,children:"Выполнить все цели"}),(p&&!l||l&&!!(p!=null&&p.length))&&c(V,{theme:"blue-light",icon:"map",onClick:Pe,className:w("btn"),size:F||I?"medium":void 0,children:"Открыть карту"}),!a&&c(V,{onClick:()=>s(i,"add"),icon:"plus",className:w("btn"),theme:"blue",size:F||I?"medium":void 0,children:"Добавить к себе"}),!l&&S&&c(V,{theme:"blue-light",onClick:u,icon:"comment",className:w("btn"),size:F||I?"medium":void 0,children:"Написать отзыв"}),a&&c(V,{theme:"blue-light",onClick:xe,icon:"trash",className:w("btn"),size:F||I?"medium":void 0,children:"Удалить"}),f&&c(V,{theme:"blue-light",onClick:d,icon:"edit",className:w("btn"),type:d?"button":"Link",href:d?void 0:"/edit-list/".concat(i),size:F||I?"medium":void 0,children:"Редактировать"}),l&&c(V,{theme:"blue-light",className:w("btn"),onClick:q,icon:"magic",children:"Случайная цель"}),a&&!S&&!l&&y(ft,{children:[c(tn,{className:w("line")}),c(HB,{timer:C,goalCode:i,onTimerUpdate:H})]}),c(tn,{className:w("line"),margin:F?"8px 0":void 0}),c(V,{theme:"blue-light",icon:"mount",onClick:We,className:w("btn"),size:F||I?"medium":void 0,children:"Поделиться в Telegram"})]})]})};const GB=async e=>await we("goals/".concat(e,"/comments"),{auth:!0}),$B=async(e,t)=>await Je("comments/".concat(e,"/like-or-dislike"),{auth:!0,body:{isLike:t}}),WB=e=>{const t=new Date(e),n=r=>["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][r];return"".concat(t.getDate()," ").concat(n(t.getMonth())," ").concat(t.getFullYear())},YB=e=>{const t=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],n=new Date(e).getMonth();return t[n]};const W1=e=>{const{className:t,comment:n,isUser:r,onClickScore:a,isMain:s}=e,[i,o]=J("comment-goal",t),[l,u]=g.useState(!1),[d,f]=g.useState(0),p=n.photos?n.photos.map(h=>({src:h.image})):[];return y("article",{className:i(),children:[y("div",{className:o("info"),children:[y(Ze,{to:r?"/goals/".concat(n.goalInfo.code):"/user/".concat(n.user,"/showcase"),className:o("user-info"),children:[r?c("img",{src:n.goalInfo.image||"",alt:n.goalInfo.title,className:o("goal-img")}):c(Dr,{avatar:n.userAvatar,size:"medium"}),r?y("div",{className:o("user-wrapper",{goal:!0}),children:[y("div",{className:o("goal-info"),children:[c(De,{tag:"h3",children:n.goalInfo.title}),c(Cn,{category:n.goalCategory.nameEn,text:n.goalCategory.name})]}),c(Nc,{complexity:n.goalInfo.complexity,added:n.goalInfo.totalAdded,estimatedTime:n.goalInfo.estimatedTime,theme:"integrate",className:o("tags"),showSeparator:!0})]}):y("div",{className:o("user-wrapper"),children:[c(De,{tag:"h4",children:n.userName}),c("p",{className:o("user-level"),children:_t(n.userTotalCompletedGoals,["цель выполнена","цели выполнено","целей выполнено"])})]})]}),!s&&y("div",{className:o("comment-info"),children:[c("span",{className:o("date"),children:WB(n.dateCreated)}),c("div",{className:o("vertical-line")}),c(Cn,{complexity:n.complexity,theme:"integrate",icon:n.complexity})]})]}),c("hr",{className:o("horizontal-line")}),c("p",{className:o("text"),children:n.text}),n.photos&&!!n.photos.length&&c("div",{className:o("comment-images"),children:n.photos.map((h,m)=>c("img",{src:h.image,alt:"Изображение комментария",className:o("comment-img"),role:"button",tabIndex:0,onClick:()=>{f(m),u(!0)},onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(f(m),u(!0))}},h.id))}),!s&&a&&y("div",{className:o("score"),children:[c(V,{icon:"like",small:!0,theme:n.hasLiked?"green":"blue-light",onClick:()=>a(n.id,!0),className:o("like"),children:n.likesCount}),c(V,{icon:"like--bottom",small:!0,theme:n.hasDisliked?"red":"blue-light",onClick:()=>a(n.id,!1),children:n.dislikesCount})]}),c(YE,{open:l,close:()=>u(!1),slides:p,index:d,carousel:{finite:!0,padding:"16px"},controller:{closeOnBackdropClick:!0},animation:{fade:300},styles:{container:{backgroundColor:"rgba(0, 0, 0, .8)"}}})]})};const Y1=je(e=>{const{className:t,comments:n,isUser:r,setComments:a}=e,[s,i]=J("comments-goal",t),o=l=>async(u,d)=>{const f=await $B(u,d);if(f.success){const p=n.slice(0,l),h=n.slice(l+1);a([...p,{...n[l],...f.data},...h])}};return c("div",{className:s(),children:c("section",{className:i("items"),children:n&&!!n.length&&n.map((l,u)=>c(W1,{className:i("comment"),isUser:r,comment:l,onClickScore:o(u)},l.id))})})});const iu=e=>{const{className:t,items:n,progressData:r,progress:a,horizontal:s,backgroundOff:i}=e,[o,l]=J("info-goal",t);return y("section",{className:o({horizontal:s,backgroundOff:i}),children:[y("div",{className:l("wrapper"),children:[n.map((u,d)=>y(g.Fragment,{children:[y("div",{className:l("item"),children:[c("span",{className:l("title"),children:u.title}),c("span",{className:l("text"),children:u.value})]}),d!==n.length-1&&c("div",{className:l("vertical-line")})]},d)),!!n.length&&s&&r&&c("div",{className:l("vertical-line")}),s&&r&&y("div",{className:l("wrapper-horizontal"),children:[c("span",{className:l("title"),children:"Мой прогресс выполнения"}),c("span",{className:l("text"),children:"".concat(r.completed,"/").concat(r.total)})]})]}),a&&r&&r.total>0&&y(ft,{children:[c(tn,{vertical:s,margin:"5px 0",height:-10}),c(Qr,{done:r.completed,all:r.total,goal:!0})]})]})};const Bh=e=>{const{className:t,tabs:n,active:r,base:a="",vertical:s}=e,[i,o]=J("tabs",t);return c("section",{className:i({vertical:s}),children:n.map(l=>y(Ze,{to:"".concat(a).concat(l.url),className:o("link",{active:r===l.page}),children:[l.icon&&c(me,{icon:l.icon}),l.name,!!l.count&&c("span",{className:o("count"),children:l.count})]},l.name))})},z1=e=>{const{className:t,goal:n,page:r,isList:a}=e,[s,i]=J("description-with-links",t),[o,l]=g.useState(!0),u=()=>{l(!o)},d=g.useMemo(()=>a?[]:[{url:"/",name:"Отметки",page:"isGoal",count:n.totalComments},{url:"/lists",name:"Списки с целью",page:"isGoalLists",count:n.totalLists}],[n,a]);return y("div",{className:s({list:a}),children:[y("div",{className:i("wrapper"),children:[y("div",{className:i("text"),children:[c("p",{className:i("short-text"),children:o?n.shortDescription:n.description}),n.shortDescription!==n.description&&c(V,{icon:"download",theme:"blue-light",className:i("btn-more"),onClick:u,children:o?"Читать подробнее":"Скрыть"})]}),c(iu,{className:i("info"),items:[{title:"Добавили к себе",value:n.totalAdded},{title:"Выполнили",value:n.totalCompleted}],progress:!0,progressData:{completed:n.totalCompleted,total:n.totalAdded}})]}),!a&&y(ft,{children:[c(tn,{margin:"16px 0 0"}),c(Bh,{base:"/goals/".concat(n.code),tabs:d,active:r})]})]})},zB=async e=>await we("goals/".concat(e,"/lists"),{auth:!0});const VB=je(e=>{const{className:t,code:n}=e,[r]=J("lists-with-goal",t),{lists:a,setLists:s,setInfoPaginationLists:i}=xc;g.useEffect(()=>{(async()=>{const l=await zB(n);l.success&&(s(l.data.data),i(l.data.pagination))})()},[n]);const o=async(l,u,d)=>{const f=await(d==="add"?tu(l):ru(l));if(f.success&&a){const p=a.slice(0,u),h=a.slice(u+1);s([...p,f.data,...h])}};return c("section",{className:r(),children:a.map((l,u)=>c(Us,{goal:l,isList:!0,horizontal:!0,onClickAdd:()=>o(l.code,u,"add"),onClickDelete:()=>o(l.code,u,"delete")},l.code))})}),jB=je(e=>{const{className:t,goal:n,page:r}=e,[a,s]=J("content-goal",t),i=Rn(),{comments:o,setComments:l,setInfoPaginationComments:u}=xc;g.useEffect(()=>{r==="isGoal"&&(async()=>{const p=await GB(n.code);p.success&&(l(p.data.data),u(p.data.pagination))})()},[n.code,r]);const d=()=>{switch(r){case"isGoal":return c(Y1,{comments:o,setComments:l});case"isGoalLists":return c(VB,{code:n.code});default:return null}},f=()=>{i("/goals/".concat(n.code,"/lists")),oo.scrollTo("comments-section",{duration:800,delay:0,smooth:"easeInOutQuart",offset:-50})};return y("article",{className:a(),children:[n.addedFromList&&n.addedFromList.length>0&&y("div",{className:s("goal-in-list"),children:[c(me,{icon:"info"}),"Цель включена в список и отображается вместе с ним",c(V,{className:s("goal-in-list-btn"),theme:"no-border",type:"button",onClick:f,children:"Смотреть списки"})]}),c(z1,{goal:n,page:r}),c("section",{className:s("comments"),id:"comments-section",children:d()})]})}),qB=async e=>{try{return await xn("goals/".concat(e,"/delete"),{auth:!0,success:{type:"success",title:"Успех",message:"Цель успешно удалена"}})}catch(t){return console.error("API Error:",t),{success:!1,error:"Не удалось удалить цель"}}},KB=async(e,t)=>{try{return await sr("goals/".concat(e,"/update"),{auth:!0,file:!0,body:t,success:{type:"success",title:"Успех",message:"Цель успешно обновлена"}})}catch(n){return console.error("API Error:",n),{success:!1,error:"Не удалось обновить цель"}}},QB=e=>{const{goal:t,className:n,onGoalUpdated:r,cancelEdit:a}=e,s=Rn(),[i,o]=J("add-goal",n),[l,u]=g.useState(t.title||""),[d,f]=g.useState(t.description||""),[p,h]=g.useState(t.estimatedTime||""),[m,v]=g.useState(null),[T,E]=g.useState(null),[C,_]=g.useState(null),[N,x]=g.useState(null),[S,A]=g.useState(t.image||null),[P,O]=g.useState([]),[k,w]=g.useState([]),[D,M]=g.useState(!0),[U,G]=g.useState(!1),[F,I]=g.useState(null),[H,q]=g.useState(!1),{setHeader:L}=yt,te=g.useRef(null),_e=g.useMemo(()=>P.filter(le=>!le.parentCategory),[P]);g.useEffect(()=>{L("white"),(async()=>{try{M(!0),t.isCanEdit?G(!0):(I("Отредактировать цель невозможно. Возможно, прошло более 24 часов с момента создания."),G(!1));const Le=await Zi();if(Le.success){if(O(Le.data),t.category){const ae=Le.data.find(K=>K.id===t.category.id);if(ae)if(ae.parentCategory){const K=Le.data.filter(he=>!he.parentCategory).findIndex(he=>{var Re;return he.id===((Re=ae.parentCategory)==null?void 0:Re.id)});K!==-1&&E(K)}else{const K=Le.data.filter(he=>!he.parentCategory).findIndex(he=>he.id===t.category.id);K!==-1&&E(K)}}if(t.complexity){const ae=Bt.findIndex(K=>K.value===t.complexity);ae!==-1&&v(ae)}}}catch(Le){pe.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить данные для редактирования"}),G(!1)}finally{M(!1)}})()},[t]),g.useEffect(()=>{if(T!==null&&_e.length>0&&_e[T]){const le=_e[T],Le=P.filter(K=>K.parentCategory&&K.parentCategory.id===le.id);w(Le),_(null);const ae=P.find(K=>K.id===t.category.id);if(ae&&ae.parentCategory&&ae.parentCategory.id===le.id){const K=Le.findIndex(he=>he.id===ae.id);K!==-1&&_(K)}else if(t.subcategory&&Le.length>0){const K=Le.findIndex(he=>{var Re;return he.id===((Re=t.subcategory)==null?void 0:Re.id)});K!==-1&&_(K)}}else w([]),_(null)},[T,_e.length,t.category.id]);const $=g.useCallback(le=>{le&&le.length>0&&(x(le[0]),A(null))},[]),xe=()=>{te.current&&te.current.click()},Pe=le=>{le.target.files&&$(le.target.files)},Ce=le=>{if(!le)return"";const Le=/^(\d{1,2}):(\d{1,2})$/;if(Le.test(le)){const Te=le.match(Le);if(Te){const $e=Te[1].padStart(2,"0"),at=Te[2].padStart(2,"0");return"".concat($e,":").concat(at)}}const ae=/^(\d+)\s*(д|дн|дня|дней)$/i,K=le.match(ae);if(K){const $e=parseInt(K[1],10)*24;return"".concat($e.toString().padStart(2,"0"),":00")}const he=/^(\d+)\s*(ч|час|часа|часов)$/i,Re=le.match(he);if(Re){const Te=parseInt(Re[1],10);return"".concat(Te.toString().padStart(2,"0"),":00")}const Z=/^(\d+)\s*(м|мин|минут|минуты)$/i,ue=le.match(Z);if(ue){const Te=parseInt(ue[1],10),$e=Math.floor(Te/60),at=Te%60;return"".concat($e.toString().padStart(2,"0"),":").concat(at.toString().padStart(2,"0"))}return le},We=async le=>{var Le;if(le.preventDefault(),!l||!d||m===null||T===null||!N&&!S){pe.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}M(!0);try{const ae=new FormData;if(ae.append("title",l),ae.append("description",d),m!==null&&ae.append("complexity",Bt[m].value),C!==null&&k[C]?ae.append("category",k[C].id.toString()):T!==null&&ae.append("category",_e[T].id.toString()),N?ae.append("image",N):S&&ae.append("image_url",S),p){const he=Ce(p);ae.append("estimated_time",he)}const K=await KB(t.code,ae);if(K.success)pe.addNotification({type:"success",title:"Успех",message:"Цель успешно обновлена"}),r&&K.data?r(K.data):s("/goals/".concat((Le=K.data)==null?void 0:Le.code));else throw new Error(K.error||"Неизвестная ошибка")}catch(ae){pe.addNotification({type:"error",title:"Ошибка",message:ae instanceof Error?ae.message:"Не удалось обновить цель"})}finally{M(!1)}},Fe=async()=>{M(!0);try{const le=await qB(t.code);if(le.success)pe.addNotification({type:"success",title:"Успех",message:"Цель успешно удалена"}),s("/");else throw new Error(le.error||"Неизвестная ошибка")}catch(le){pe.addNotification({type:"error",title:"Ошибка",message:le instanceof Error?le.message:"Не удалось удалить цель"})}finally{M(!1)}},Xe=le=>{Hf(le)&&h(le)};return y("form",{className:i(),onSubmit:We,children:[c("div",{className:o("wrapper-title"),children:c(De,{tag:"h1",className:o("title"),children:"Редактирование цели"})}),c(ht,{isLoading:D,children:U?y("div",{className:o("content"),children:[y("div",{className:o("image-section"),children:[c("p",{className:o("field-title"),children:"Изображение цели *"}),!N&&!S?c("div",{className:o("dropzone"),children:c(ma,{onDrop:le=>le&&$(le),children:y("div",{className:o("upload-placeholder"),onClick:xe,role:"button",tabIndex:0,"aria-label":"Добавить изображение",onKeyPress:le=>{(le.key==="Enter"||le.key===" ")&&xe()},children:[c("input",{type:"file",ref:te,style:{display:"none"},onChange:Pe,accept:"image/*"}),c(me,{icon:"mount",className:o("upload-icon")}),c("p",{children:"Перетащите изображение сюда или кликните для выбора (обязательно)"})]})})}):y("div",{className:o("image-preview"),children:[N&&c("img",{src:URL.createObjectURL(N),alt:"Предпросмотр",className:o("preview")}),S&&!N&&c("img",{src:S,alt:"Предпросмотр из источника",className:o("preview")}),c(V,{className:o("remove-image"),type:"button-close",withBorder:!0,onClick:()=>{x(null),A(null)}})]})]}),y("div",{className:o("form"),children:[c(Oe,{placeholder:"Введите название цели",id:"goal-title",text:"Название цели *",value:l,setValue:u,className:o("field"),required:!0}),c(Wt,{className:o("field"),placeholder:"Выберите категорию",options:_e.map(le=>({name:le.name,value:le.nameEn})),activeOption:T,onSelect:E,text:"Категория *"}),T!==null&&k.length>0&&c(Wt,{className:o("field"),placeholder:"Выберите подкатегорию (необязательно)",options:k.map(le=>({name:le.name,value:le.nameEn})),activeOption:C,onSelect:_,text:"Подкатегория"}),c(Wt,{className:o("field"),placeholder:"Выберите сложность",options:Bt,activeOption:m,onSelect:v,text:"Сложность *"}),c(Oe,{placeholder:"Опишите цель подробно",id:"goal-description",text:"Описание *",value:d,setValue:f,className:o("field"),type:"textarea",required:!0}),y("div",{className:o("time-field-container"),children:[c(Oe,{placeholder:"Например: 5, 2:30, 3д5ч, 3д 5 ч, 3 дня, 5 часов",id:"goal-estimated-time",text:"Предполагаемое время выполнения",value:p,setValue:Xe,className:o("field"),type:"text"}),c("small",{className:o("format-hint"),children:"Укажите время: просто число (часы), ЧЧ:ММ (02:30), комбинации (3д5ч, 3д 5ч), или словами (3 дня, 5 часов, 30 минут)"})]}),y("div",{className:o("btns-wrapper"),children:[c(V,{theme:"red",className:o("btn"),onClick:()=>q(!0),type:"button",children:"Удалить цель"}),c(V,{theme:"blue-light",className:o("btn"),onClick:a,type:"button",children:"Отмена"}),c(V,{theme:"blue",className:o("btn"),typeBtn:"submit",children:"Сохранить изменения"})]})]})]}):y("div",{className:o("error-message"),children:[c(me,{icon:"error",className:o("error-icon")}),c("p",{children:F||"Редактирование недоступно"}),c(V,{theme:"blue",onClick:()=>s(-1),type:"button",children:"Вернуться назад"})]})}),c(Bs,{title:"Удалить цель?",isOpen:H,onClose:()=>q(!1),themeBtn:"red",handleBtn:Fe,textBtn:"Удалить цель",text:"Вы уверены, что хотите удалить эту цель?"})]})};const V1=e=>{const{className:t,title:n,theme:r,category:a,complexity:s,totalCompleted:i,isList:o,short:l,categoryRank:u,userFolders:d,estimatedTime:f}=e,[p,h]=J("title-with-tags",t);return y("div",{className:p({theme:r}),children:[c(De,{className:h("title",{short:l}),tag:"h1",theme:o?"black":"white",children:n}),!l&&c(Nc,{category:a,medal:u?"Топ ".concat(u," в категории"):void 0,complexity:s,done:i,theme:r,userFolders:d,estimatedTime:f})]})},j1=g.forwardRef((e,t)=>{const{className:n,title:r,category:a,image:s,goal:i,background:o,shrink:l,onImageLoad:u}=e,[d,f]=J("header-goal",n),{isScreenMobile:p,isScreenSmallTablet:h}=Qs(),m=p||h;return y("header",{ref:t,className:d({category:a.nameEn,shrink:l,mobile:m}),style:{backgroundImage:"url(".concat(o,")")},children:[m&&c("img",{src:s,alt:r,className:f("image"),onLoad:u}),c(V1,{category:a,complexity:i.complexity,totalCompleted:i.totalCompleted,title:r,className:f("wrapper"),short:l,categoryRank:i.categoryRank,userFolders:i.userFolders,estimatedTime:i==null?void 0:i.estimatedTime})]})});j1.displayName="HeaderGoal";const i0=e=>({travel:"100 177 22",education:"118 22 177","health-and-sport":"22 168 177",relations:"177 22 22",entertainment:"177 161 22","100-goals":"255 208 44","career-success":"126 38 179","intellectual-development":"133 53 186",sport:"35 173 178","wellness-and-health":"49 179 183",hobby:"180 165 39","musical-experiences":"184 170 48","creative-arts":"187 174 56",gaming:"191 178 65","cinema-art":"195 182 73",books:"198 186 82","community-contribution":"185 45 45","romantic-moments":"192 68 68","cultural-immersion":"110 183 36","culinary-explorations":"120 189 50","unique-places":"129 195 64"})[e.toLowerCase()]||"58 137 216",q1=({goal:e,list:t,width:n=1200,height:r=630})=>{const[a,s]=g.useState(""),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=e||t;if(!l)return;(async()=>{o(!0);try{const d=document.createElement("canvas");d.width=n,d.height=r;const f=d.getContext("2d");if(!f){o(!1);return}let p;if(l.category&&l.category.nameEn){const w=i0(l.category.nameEn);p=f.createLinearGradient(0,0,0,r),p.addColorStop(0,"rgba(".concat(w," / 50%)")),p.addColorStop(.1,"rgba(".concat(w," / 60%)")),p.addColorStop(.2,"rgba(".concat(w," / 70%)")),p.addColorStop(.3,"rgba(".concat(w," / 80%)")),p.addColorStop(1,"#000000")}else p=f.createLinearGradient(0,0,0,r),p.addColorStop(0,"rgba(102, 126, 234, 0.5)"),p.addColorStop(1,"#000000");const h=()=>{const w=new Image;w.onload=()=>{f==null||f.drawImage(w,0,0,n,r)},w.src="data:image/svg+xml;base64,".concat(btoa('\n						<svg width="1200" height="630" viewBox="0 0 1200 630" fill="none" xmlns="http://www.w3.org/2000/svg">\n							<g clip-path="url(#clip0_2617_36803)">\n								<rect width="1200" height="630" fill="#3A89D8"/>\n								<path d="M600 533.182C720.49 533.182 818.182 435.503 818.182 315C818.182 194.497 720.49 96.8182 600 96.8182C479.51 96.8182 381.818 194.497 381.818 315C381.818 435.503 479.51 533.182 600 533.182Z" fill="white" fill-opacity="0.04"/>\n								<path fill-rule="evenodd" clip-rule="evenodd" d="M1200 315C1200 646.374 931.321 915 600 915C268.679 915 0 646.374 0 315C0 -16.3743 268.679 -285 600 -285C931.321 -285 1200 -16.3743 1200 315ZM1036.36 315C1036.36 555.993 840.98 751.364 600 751.364C359.02 751.364 163.636 555.993 163.636 315C163.636 74.0066 359.02 -121.364 600 -121.364C840.98 -121.364 1036.36 74.0066 1036.36 315Z" fill="white" fill-opacity="0.04"/>\n							</g>\n							<defs>\n								<clipPath id="clip0_2617_36803">\n									<rect width="1200" height="630" fill="white"/>\n								</clipPath>\n							</defs>\n						</svg>\n					'))};if(l.image){const w=M=>{const U=M.width/M.height,G=n/r;let F,I,H,q;U>G?(I=r,F=r*U,H=(n-F)/2,q=0):(F=n,I=n/U,H=0,q=(r-I)/2),f.drawImage(M,H,q,F,I)},D=l.image.startsWith("http")?l.image:"".concat(window.location.origin).concat(l.image);try{const M=await fetch(D,{mode:"cors",credentials:"omit"});if(M.ok){const U=await M.blob(),G=new Image;await new Promise(F=>{G.onload=()=>{w(G),F(!0)},G.onerror=()=>{F(!1)},G.src=URL.createObjectURL(U)})}else throw new Error("Ошибка загрузки изображения")}catch(M){try{const U=new Image;await new Promise(G=>{U.onload=()=>{w(U),G(!0)},U.onerror=()=>{h(),G(!1)},U.src=D})}catch(U){h()}}}else h();f.textAlign="left",f.textBaseline="top",f.fillStyle="#ffffff",f.font="bold 40px Inter, sans-serif";const m=l.title.split(" ").filter(w=>w.trim()!==""),v=[];let T="";const E=912;for(let w=0;w<m.length;w++){const D=T+(T?" ":"")+m[w];f.measureText(D).width>E&&T?(v.push(T),T=m[w]):T=D}T&&v.push(T);const C=e?6:4;v.length>C&&(v.splice(C-1),v[C-1]&&v[C-1].length>3&&(v[C-1]="".concat(v[C-1].substring(0,v[C-1].length-3),"...")));const _=52,N=72,x=72;if(v.forEach((w,D)=>{f.fillText(w,N,x+D*_),f.shadowColor="transparent",f.shadowBlur=0,f.shadowOffsetX=0,f.shadowOffsetY=0}),l.category){const w=i0(l.category.nameEn),D=72,M=r-78-40,U=40;f.font="500 24px Inter, sans-serif";const F=f.measureText(l.category.name).width+24;f.fillStyle="rgb(".concat(w,")"),f.beginPath(),f.roundRect(D,M,F,U,8),f.fill(),f.fillStyle="#ffffff",f.textAlign="left",f.textBaseline="middle",f.fillText(l.category.name,D+12,M+2+U/2)}if(t){const w=t.goalsCount||0,D=_t(w,["цель","цели","целей"],!0),M=l.category?72+f.measureText(l.category.name).width+24+16:72,U=r-78-40,G=40;f.font="500 24px Inter, sans-serif";const F=f.measureText(D).width,I=24,H=8,q=F+I+H+24;f.fillStyle="rgba(255, 255, 255, 0.08)",f.beginPath(),f.roundRect(M,U,q,G,8),f.fill(),f.strokeStyle="rgba(255, 255, 255, 0.16)",f.lineWidth=1,f.stroke();const L=M+12,te=U+(G-I)/2,_e=new Image;_e.onload=()=>{f.drawImage(_e,L,te,I,I)},_e.src="data:image/svg+xml;base64,".concat(btoa('\n						<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n							<path d="M13.3337 17.3337H4.00033C3.6467 17.3337 3.30756 17.4741 3.05752 17.7242C2.80747 17.9742 2.66699 18.3134 2.66699 18.667V28.0003C2.66699 28.3539 2.80747 28.6931 3.05752 28.9431C3.30756 29.1932 3.6467 29.3337 4.00033 29.3337H13.3337C13.6873 29.3337 14.0264 29.1932 14.2765 28.9431C14.5265 28.6931 14.667 28.3539 14.667 28.0003V18.667C14.667 18.3134 14.5265 17.9742 14.2765 17.7242C14.0264 17.4741 13.6873 17.3337 13.3337 17.3337ZM12.0003 26.667H5.33366V20.0003H12.0003V26.667ZM28.0003 2.66699H18.667C18.3134 2.66699 17.9742 2.80747 17.7242 3.05752C17.4741 3.30756 17.3337 3.6467 17.3337 4.00033V13.3337C17.3337 13.6873 17.4741 14.0264 17.7242 14.2765C17.9742 14.5265 18.3134 14.667 18.667 14.667H28.0003C28.3539 14.667 28.6931 14.5265 28.9431 14.2765C29.1932 14.0264 29.3337 13.6873 29.3337 13.3337V4.00033C29.3337 3.6467 29.1932 3.30756 28.9431 3.05752C28.6931 2.80747 28.3539 2.66699 28.0003 2.66699ZM26.667 12.0003H20.0003V5.33366H26.667V12.0003ZM28.0003 17.3337H18.667C18.3134 17.3337 17.9742 17.4741 17.7242 17.7242C17.4741 17.9742 17.3337 18.3134 17.3337 18.667V28.0003C17.3337 28.3539 17.4741 28.6931 17.7242 28.9431C17.9742 29.1932 18.3134 29.3337 18.667 29.3337H28.0003C28.3539 29.3337 28.6931 29.1932 28.9431 28.9431C29.1932 28.6931 29.3337 28.3539 29.3337 28.0003V18.667C29.3337 18.3134 29.1932 17.9742 28.9431 17.7242C28.6931 17.4741 28.3539 17.3337 28.0003 17.3337ZM26.667 26.667H20.0003V20.0003H26.667V26.667ZM13.3337 2.66699H4.00033C3.6467 2.66699 3.30756 2.80747 3.05752 3.05752C2.80747 3.30756 2.66699 3.6467 2.66699 4.00033V13.3337C2.66699 13.6873 2.80747 14.0264 3.05752 14.2765C3.30756 14.5265 3.6467 14.667 4.00033 14.667H13.3337C13.6873 14.667 14.0264 14.5265 14.2765 14.2765C14.5265 14.0264 14.667 13.6873 14.667 13.3337V4.00033C14.667 3.6467 14.5265 3.30756 14.2765 3.05752C14.0264 2.80747 13.6873 2.66699 13.3337 2.66699ZM12.0003 12.0003H5.33366V5.33366H12.0003V12.0003Z" fill="#F79009"/>\n						</svg>\n					')),f.fillStyle="#ffffff",f.textAlign="left",f.textBaseline="middle",f.fillText(D,L+I+H,U+2+G/2)}const S=72,A=n-72-S,P=r-72-60;f.fillStyle="transparent",f.fillRect(A,P,S,60);const O=new Image;O.onload=function(){f.drawImage(O,A,P,S,60);const w=d.toDataURL("image/png");s(w),o(!1)},O.onerror=function(){const w=d.toDataURL("image/png");s(w),o(!1)},O.src="data:image/svg+xml;base64,".concat(btoa('\n					<svg width="72" height="60" viewBox="0 0 72 60" fill="none" xmlns="http://www.w3.org/2000/svg">\n						<path d="M26.4004 7.2002C34.9651 7.20032 42.5768 11.2811 47.4004 17.6035L41.0947 21.2432C37.5727 17.0592 32.297 14.4005 26.4004 14.4004C15.7974 14.4004 7.20041 22.9961 7.2002 33.5996C7.2002 44.2033 15.7973 52.7998 26.4004 52.7998C37.0033 52.7996 45.5996 44.2032 45.5996 33.5996C45.5996 30.6181 44.9189 27.7959 43.7061 25.2783L49.9551 21.6699C51.7737 25.2531 52.7997 29.3064 52.7998 33.5996C52.7998 48.1799 40.9783 59.9998 26.4004 60C11.8223 60 0 48.1801 0 33.5996C0.000210204 19.0193 11.8224 7.2002 26.4004 7.2002ZM26.4004 24C28.7228 24.0001 30.8523 24.8255 32.5127 26.1982L26.0781 29.9141C24.9305 30.5769 24.5375 32.0446 25.2002 33.1924C25.863 34.3402 27.3307 34.733 28.4785 34.0703L35.3408 30.1074C35.7641 31.1901 36 32.367 36 33.5996C36 38.9016 31.7018 43.2 26.4004 43.2002C21.0988 43.2002 16.7998 38.9018 16.7998 33.5996C16.8 28.2976 21.099 24 26.4004 24Z" fill="white"/>\n						<path d="M49.2605 22.0704L59.3763 26.3914C59.9552 26.6387 60.6168 26.599 61.162 26.2842L70.6882 20.7842L59.6529 16.0704L49.2605 22.0704Z" fill="white"/>\n						<path d="M46.8605 17.9135L48.1763 6.99243C48.2516 6.36743 48.6168 5.81437 49.162 5.49961L58.6882 -0.000391197L57.2529 11.9135L46.8605 17.9135Z" fill="white"/>\n					</svg>\n				'));const k=d.toDataURL("image/png");s(k)}catch(d){console.error("Ошибка при генерации OG изображения:",d)}finally{o(!1)}})()},[e,t,n,r]),{imageUrl:a,isGenerating:i}},XB=async e=>{try{return await we("goals/".concat(e,"/can-edit"),{auth:!0,showSuccessNotification:!1})}catch(t){return console.error("API Error:",t),{success:!1,error:"Не удалось проверить возможность редактирования"}}},JB=async e=>await we("goals/".concat(e),{auth:!0});const ZB=je(({page:e})=>{const[t,n]=J("goal"),{isScreenMobile:r,isScreenSmallTablet:a}=Qs(),s=g.useRef(null),{isAuth:i}=cn,{setId:o}=xc,l=ja(),u=l==null?void 0:l.id,[d,f]=g.useState(null),[p,h]=g.useState(!1),[m,v]=g.useState(!0),[T,E]=g.useState({can_edit:!1,checked:!1}),{setIsOpen:C,setWindow:_}=bn,{setHeader:N}=yt;g.useEffect(()=>{(async()=>{if(u){v(!0);const F=await JB(u);F.success&&(f(F.data.goal),o(F.data.goal.id)),v(!1)}})()},[u]),g.useEffect(()=>{(async()=>{if(d&&d.createdBy&&!T.checked)try{const I=await XB(u||"");I.success&&I.data&&E({can_edit:I.data.can_edit,checked:!0})}catch(I){console.error("Ошибка при проверке возможности редактирования:",I)}})()},[d,u,T.checked]);const x=()=>{_("add-review"),C(!0)},S=async(F,I,H)=>{if(!d||I==="start"||I==="partial")return;if(!i){_("login"),C(!0);return}const q=await(I==="add"?eu(F):I==="delete"?nu(F):Co(F,!H,H?void 0:{title:"Цель успешно выполнена!",type:"success",id:Math.random().toString(36).substring(2,15),message:"Добавьте отзыв чтобы заработать больше очков",actionText:"Добавить отзыв",action:x}));if(q.success){const L={addedByUser:I!=="delete",completedByUser:I==="mark"?!H:!1,totalAdded:q.data.totalAdded,totalCompleted:q.data.totalCompleted};f({...d,...L})}},A=F=>{f({...d,...F}),N("transparent"),h(!1)},P=()=>{N("transparent"),h(!1)},O=()=>{d&&f({...d,completedByUser:!0})},[k,w]=g.useState(!1),[D,M]=g.useState(340),{imageUrl:U}=q1({goal:d,width:1200,height:630}),G=()=>{s.current?M(s.current.offsetHeight):M(340)};return g.useEffect(()=>{var F;(((F=s==null?void 0:s.current)==null?void 0:F.offsetHeight)||0)>D&&G()},[k,r,a]),g.useEffect(()=>{const F=()=>{var L,te;const I=r,H=((L=s.current)==null?void 0:L.offsetHeight)||(I?480:340),q=I?H*.8:160;I?k?window.scrollY<D-(((te=s.current)==null?void 0:te.offsetHeight)||0)&&w(!1):window.scrollY>D-128&&w(!0):window.scrollY>q?w(!0):w(!1)};return setTimeout(()=>{F()},100),window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)},[r,k]),p&&d?c("main",{className:t({editing:!0}),children:c(QB,{goal:d,onGoalUpdated:A,cancelEdit:P})}):d?y(ft,{children:[c($f,{title:d.title,description:d.description||'Достигните цель "'.concat(d.title,'" на платформе Delting'),dynamicImage:U,type:"article"}),y("main",{className:t(),children:[c(j1,{ref:s,title:d.title,category:d.category,image:d.image,background:d.image,goal:d,shrink:k,onImageLoad:G}),y("section",{className:n("wrapper"),style:{paddingTop:r?D:0},children:[c($1,{className:n("aside",{shrink:k}),title:d.title,image:d.image||"",added:d.addedByUser,updateGoal:S,code:d.code,goalId:d.id,done:d.completedByUser,openAddReview:x,editGoal:d.createdByUser&&d.isCanEdit?()=>h(!0):void 0,canEdit:d==null?void 0:d.isCanEdit,location:d==null?void 0:d.location,onGoalCompleted:O,userFolders:d.userFolders,regularConfig:d.regularConfig}),c("div",{className:n("content-wrapper"),children:c(jB,{page:e,goal:d,className:n("content")})})]}),c(su,{})]})]}):c(ht,{isLoading:m,isPageLoader:!0})}),o0=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return g.useEffect(()=>{t("transparent"),n(e),r(!0)},[]),c(ZB,{page:e})};const e9=e=>{const{className:t,list:n,horizontal:r,columns:a="three",updateGoal:s}=e,[i,o]=g.useState(!1),[l,u]=g.useState([]),[d,f]=J("list",t);g.useEffect(()=>{u(i?n.filter(h=>!h.completedByUser):n)},[i,n]);const p=async(h,m,v,T)=>{const E=n.findIndex(C=>C.code===h);E!==-1&&await s(h,E,v,T)};return y("section",{className:d(),children:[c("div",{className:f("filter"),children:c(Jn,{id:"hide-completed",text:"Скрыть выполненные",checked:i,setChecked:o})}),c("div",{className:f("grid",{columns:a}),children:l.map((h,m)=>c(Us,{goal:h,className:f("goal"),horizontal:r,onClickAdd:()=>p(h.code,m,"add"),onClickDelete:()=>p(h.code,m,"delete"),onClickMark:()=>p(h.code,m,"mark",h.completedByUser)},h.code))})]})},t9=e=>{const{className:t,list:n,updateGoal:r}=e,[a,s]=J("content-list-goals",t);return y("article",{className:a(),children:[c(V1,{title:n.title,category:n.category,complexity:n.complexity,className:s("title"),totalCompleted:n.totalCompleted,isList:!0,theme:"light"}),c(z1,{isList:!0,goal:n,className:s("description")}),n.addedByUser&&c(iu,{className:s("info"),items:[{title:"Всего целей",value:n.goalsCount},{title:"Выполнено",value:n.userCompletedGoals}],progress:!0,horizontal:!0,progressData:{completed:n.userCompletedGoals,total:n.goalsCount}}),c(e9,{list:n.goals,updateGoal:r,columns:"three"})]})},K1=async e=>await we(e,{auth:!0}),n9=async e=>await Je("goal-lists/".concat(e,"/mark-all"),{auth:!0});const r9=()=>{const[e,t]=J("list-goals-container"),[n,r]=g.useState(null),[a,s]=g.useState(!0),{isAuth:i}=cn,{setIsOpen:o,setWindow:l}=bn,{imageUrl:u}=q1({list:n,width:1200,height:630}),d=ja(),f=d==null?void 0:d.id;g.useEffect(()=>{(async()=>{s(!0);const v=await K1("goal-lists/".concat(f));v.success&&r(v.data.list),s(!1)})()},[f]);const p=async(v,T)=>{if(!i){l("login"),o(!0);return}const E=await(T==="add"?tu(v):T==="delete"?ru(v):n9(v));return E.success?(r({...n,...E.data}),!0):E.success},h=async(v,T,E,C)=>{const _=await(E==="add"?eu(v):E==="delete"?nu(v):Co(v,!C));if(_.success&&n){const N={...n.goals[T],addedByUser:E!=="delete",completedByUser:E==="mark"?!C:n.goals[T].completedByUser,totalAdded:_.data.users_added_count},x=[...n.goals];x[T]=N;let{userCompletedGoals:S}=n;E==="mark"&&!C&&!n.goals[T].completedByUser?S+=1:E==="mark"&&C&&n.goals[T].completedByUser&&(S-=1);const A=S===n.goalsCount;r({...n,goals:x,userCompletedGoals:S,completedByUser:A,totalCompleted:A?n.totalCompleted+1:n.totalCompleted})}};if(!n)return c(ht,{isLoading:a,isPageLoader:!0});const m=n.goals.filter(v=>v.location&&typeof v.location.latitude=="number"&&typeof v.location.longitude=="number").map(v=>{var T;return{location:v.location,userVisitedLocation:v.completedByUser,name:v.title,address:(T=v.location)==null?void 0:T.address,description:v.description}});return y(ft,{children:[c($f,{title:n.title,description:n.description||'Список целей "'.concat(n.title,'" на платформе Delting'),dynamicImage:u,type:"article"}),y("main",{className:e(),children:[y("article",{className:t("wrapper"),children:[c($1,{className:t("aside"),title:n.title,image:n.image,updateGoal:p,added:n.addedByUser,code:n.code,isList:!0,done:n.completedByUser,canEdit:n.isCanEdit||n.isCanAddGoals,location:m,list:n.goals}),c("div",{className:t("content-wrapper"),children:c(t9,{className:t("content"),list:n,updateGoal:h})})]}),c(su,{})]})]})},a9=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return g.useEffect(()=>{t("white"),n(e),r(!0)},[]),c(r9,{})},s9=async(e,t)=>sr("goal-lists/".concat(e,"/update"),{auth:!0,file:!0,body:t,showSuccessNotification:!1,error:{type:"error",title:"Ошибка",message:"Не удалось обновить список целей"}});const i9=e=>{var Re;const{className:t,listData:n,canEditAll:r}=e,a=Rn(),[s,i]=J("edit-goal-list",t),[o,l]=g.useState(n.title||""),[u,d]=g.useState(n.description||""),[f,p]=g.useState(null),[h,m]=g.useState(null),[v,T]=g.useState(null),[E,C]=g.useState(null),[_,N]=g.useState(n.image||""),[x,S]=g.useState([]),[A,P]=g.useState([]),[O,k]=g.useState(!1),[w,D]=g.useState(!1),M=g.useRef(null),[U,G]=g.useState((n==null?void 0:n.goals)||[]),[F,I]=g.useState(""),[H,q]=g.useState([]),[,L]=g.useState(!1),[te,_e]=g.useState(!1),$=g.useMemo(()=>x.filter(Z=>!Z.parentCategory),[x]);g.useEffect(()=>{const Z=Bt.findIndex(ue=>ue.value===n.complexity);Z!==-1&&p(Z)},[n]);const xe=Z=>{l(Z)};g.useEffect(()=>{(async()=>{try{const ue=await Zi();if(ue.success){S(ue.data);const Te=ue.data.find($e=>$e.id===n.category.id);if(Te)if(Te.parentCategory){const $e=ue.data.filter(at=>!at.parentCategory).findIndex(at=>{var ge;return at.id===((ge=Te.parentCategory)==null?void 0:ge.id)});$e!==-1&&m($e)}else{const $e=ue.data.filter(at=>!at.parentCategory).findIndex(at=>at.id===n.category.id);$e!==-1&&m($e)}}}catch(ue){pe.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить категории"})}})()},[n.category.id]),g.useEffect(()=>{if(h!==null&&$[h]){const Z=$[h],ue=x.filter($e=>$e.parentCategory&&$e.parentCategory.id===Z.id);P(ue);const Te=x.find($e=>$e.id===n.category.id);if(Te&&Te.parentCategory&&Te.parentCategory.id===Z.id){const $e=ue.findIndex(at=>at.id===Te.id);$e!==-1&&T($e)}else if(n.category.parentCategory){const $e=ue.findIndex(at=>at.id===n.category.id);$e!==-1&&T($e)}}},[h,$,x,n.category.id,(Re=n.category)==null?void 0:Re.parentCategory]),g.useEffect(()=>{_e(h!==null)},[h]);const Pe=g.useCallback(No(async Z=>{var ue;if(Z.length<3){q([]),L(!1);return}try{const Te=await au(Z);if(Te.success&&((ue=Te.data)!=null&&ue.results)){const $e=Te.data.results.filter(at=>!U.some(ge=>ge.id===at.id));q($e)}}catch(Te){console.error("Ошибка при поиске целей:",Te)}finally{L(!1)}},500),[U]);g.useEffect(()=>{F?(L(!0),Pe(F)):q([])},[F,Pe]);const Ce=g.useCallback(Z=>{Z&&Z.length>0&&(C(Z[0]),N(URL.createObjectURL(Z[0])))},[]),We=()=>{M.current&&r&&M.current.click()},Fe=Z=>{Z.target.files&&Ce(Z.target.files)},Xe=()=>{r&&(C(null),N(n.image))},le=Z=>{G(ue=>[...ue,Z]),q(ue=>ue.filter(Te=>Te.id!==Z.id)),I("")},Le=Z=>{G(ue=>ue.filter(Te=>Te.id!==Z))},ae=Z=>{G(ue=>[...ue,Z]),D(!1),pe.addNotification({type:"success",title:"Успех",message:"Цель успешно добавлена в список"})},K=Z=>{Z.preventDefault(),Z.stopPropagation()},he=async Z=>{var ue;if(Z.preventDefault(),r&&(!o||!u||f===null||h===null)){pe.addNotification({type:"error",title:"Ошибка",message:"Заполните все обязательные поля"});return}if(U.length===0){pe.addNotification({type:"error",title:"Ошибка",message:"Список целей не может быть пустым"});return}k(!0);try{const Te=new FormData;r&&(Te.append("title",o),Te.append("description",u),f!==null&&Te.append("complexity",Bt[f].value),v!==null&&A[v]?Te.append("category",A[v].id.toString()):h!==null&&Te.append("category",$[h].id.toString()),E&&Te.append("image",E)),U.forEach(at=>{Te.append("goals[]",at.id.toString())});const $e=await s9(n.code,Te);if($e.success)pe.addNotification({type:"success",title:"Успех",message:"Список целей успешно обновлен"}),a("/list/".concat((ue=$e==null?void 0:$e.data)==null?void 0:ue.code));else throw new Error($e.error||"Неизвестная ошибка")}catch(Te){pe.addNotification({type:"error",title:"Ошибка",message:Te instanceof Error?Te.message:"Не удалось обновить список целей"})}finally{k(!1)}};return y("form",{className:s(),onSubmit:he,children:[c(De,{tag:"h1",className:i("title"),children:r?"Редактирование списка целей":"Добавление целей в список"}),y("div",{className:i("content"),children:[y("div",{className:i("image-section"),children:[c("p",{className:i("field-title"),children:"Изображение списка"}),_?y("div",{className:i("image-preview"),children:[c("img",{src:_,alt:"Предпросмотр",className:i("preview")}),r&&c(V,{withBorder:!0,className:i("remove-image"),type:"button-close",onClick:Xe})]}):c("div",{className:i("dropzone",{disabled:!r}),children:c(ma,{onDrop:Z=>Z&&r&&Ce(Z),children:y("div",{className:i("upload-placeholder"),onClick:We,role:"button",tabIndex:r?0:-1,"aria-label":"Добавить изображение","aria-disabled":!r,onKeyPress:Z=>{r&&(Z.key==="Enter"||Z.key===" ")&&We()},children:[c("input",{type:"file",ref:M,style:{display:"none"},onChange:Fe,accept:"image/*",disabled:!r}),c(me,{icon:"mount",className:i("upload-icon")}),c("p",{children:r?"Перетащите изображение сюда или кликните для выбора":"Изображение нельзя изменить (прошло более 24 часов после создания)"})]})})})]}),y("div",{className:i("form"),children:[r&&y(ft,{children:[c("div",{className:i("field-wrapper"),children:c(Oe,{placeholder:"Введите название списка целей",id:"goal-list-title",text:"Название списка *",value:o,setValue:xe,className:i("field"),required:!0})}),c(Wt,{className:i("field"),placeholder:"Выберите категорию",options:$.map(Z=>({name:Z.name,value:Z.nameEn})),activeOption:h,onSelect:m,text:"Категория *"}),h!==null&&A.length>0&&c(Wt,{className:i("field"),placeholder:"Выберите подкатегорию (необязательно)",options:A.map(Z=>({name:Z.name,value:Z.nameEn})),activeOption:v,onSelect:T,text:"Подкатегория"}),c(Wt,{className:i("field"),placeholder:"Выберите сложность",options:Bt,activeOption:f,onSelect:p,text:"Сложность *"}),c(Oe,{placeholder:"Опишите список целей подробно",id:"goal-list-description",text:"Описание *",value:u,setValue:d,className:i("field"),type:"textarea",required:!0})]}),y("div",{className:i("goals-section"),children:[c(De,{tag:"h2",className:i("subtitle"),children:r?"Редактирование целей списка":"Добавление целей в список"}),y("div",{className:i("search-container"),children:[c(Oe,{placeholder:"Поиск существующих целей",id:"goal-search",text:"Поиск целей",value:F,setValue:I,className:i("search-field"),iconBegin:"search"}),H.length>0&&c("div",{className:i("search-results"),children:H.map(Z=>c(H1,{goal:Z,onAdd:le},Z.id))})]}),y("div",{className:i("selected-goals"),children:[y("h3",{className:i("section-title"),children:["Выбранные цели ",U.length]}),U.length>0?c("div",{className:i("goals-list"),children:U.map(Z=>y("div",{className:i("goal-item"),children:[y("div",{className:i("goal-content"),children:[c("div",{className:i("goal-image-container"),children:Z.image?c("img",{src:Z.image,alt:Z.title,className:i("goal-image")}):c("div",{className:i("goal-no-image"),children:c(me,{icon:"mount"})})}),y("div",{className:i("goal-info"),children:[c("h4",{className:i("goal-title"),children:Z.title}),c("p",{className:i("goal-complexity"),children:Cc[Z.complexity]}),c("p",{className:i("goal-description"),children:Z.shortDescription})]})]}),c("button",{type:"button",className:i("goal-remove-btn"),onClick:()=>Le(Z.id),"aria-label":"Удалить цель",onKeyDown:ue=>{(ue.key==="Enter"||ue.key===" ")&&Le(Z.id)},children:c(me,{icon:"cross"})})]},Z.id))}):c("div",{className:i("empty-message"),children:"Вы еще не добавили ни одной цели. Воспользуйтесь поиском или создайте новую цель."})]}),c("div",{className:i("add-new-goal"),children:w?y("div",{className:i("new-goal-form"),children:[c(De,{tag:"h3",className:i("form-title"),children:"Создание новой цели"}),c("div",{className:i("embedded-add-goal-wrapper"),children:c(Fh,{className:i("embedded-add-goal"),onGoalCreated:ae,hideNavigation:!0,noForm:!0,onSubmitForm:K,initialCategory:v!==null?A[v]:$[h],lockCategory:!0,preloadedCategories:x})}),c("div",{className:i("form-buttons"),children:c(V,{theme:"blue-light",className:i("cancel-btn"),onClick:()=>D(!1),type:"button",children:"Отмена"})})]}):c(V,{theme:"blue-light",className:i("add-goal-btn"),onClick:()=>{te?D(!0):pe.addNotification({type:"warning",title:"Внимание",message:"Для создания цели необходимо сначала выбрать категорию списка"})},type:"button",icon:"plus",children:"Создать новую цель"})})]}),y("div",{className:i("btns-wrapper"),children:[c(V,{theme:"blue-light",className:i("btn"),onClick:()=>a(-1),type:"button",children:"Отмена"}),c(V,{theme:"blue",className:i("btn"),typeBtn:"submit",children:O?"Сохранение...":"Сохранить изменения"})]})]})]}),c(su,{})]})},o9=({page:e})=>{const[t,n]=g.useState(!0),[r,a]=g.useState({}),{setFull:s,setHeader:i,setPage:o}=yt;g.useEffect(()=>{i("white"),o(e),s(!1)},[]);const l=Rn(),{id:u}=ja();return g.useEffect(()=>{(async()=>{if(!u){l("/");return}try{n(!0);const f=await K1("goal-lists/".concat(u));if(!f.success)throw new Error(f.error||"Невозможно загрузить список");if(!f.data.list.isCanEdit&&!f.data.list.isCanAddGoals){pe.addNotification({type:"error",title:"Ошибка",message:"Вы не можете редактировать этот список"}),l("/list/".concat(u));return}a(f.data.list)}catch(f){pe.addNotification({type:"error",title:"Ошибка",message:f instanceof Error?f.message:"Произошла ошибка при загрузке данных"}),l("/")}finally{n(!1)}})()},[u]),t?c(ht,{isLoading:t,isPageLoader:!0}):c(i9,{listData:r,canEditAll:r==null?void 0:r.isCanEdit})};const l9=e=>{const{users:t,className:n}=e,[r,a]=J("leader-board",n);return c("section",{className:r(),children:y("table",{className:a("table"),children:[c("thead",{className:a("header"),children:y("tr",{children:[c("th",{className:a("head-item"),children:"#"}),c("th",{className:a("head-item"),children:"Пользователь"}),c("th",{className:a("head-item"),children:"Целей выполнено"}),c("th",{className:a("head-item"),children:"Добавлено отзывов"}),c("th",{className:a("head-item"),children:"Опыта заработано"})]})}),c("tbody",{children:t.map(s=>y("tr",{className:a("row"),children:[c("td",{className:a("item"),children:s.place}),c("td",{className:a("item"),children:y(Ze,{to:"/user/".concat(s.id,"/showcase"),className:a("row-link"),children:[c(Dr,{noBorder:!0,className:a("avatar"),size:"medium",avatar:s.avatar}),c("p",{children:s.name}),y("p",{className:a("info"),children:[_t(s.level,["уровень"])," ",_t(s.totalCompletedGoals,["цель выполнена","цели выполнено","целей выполнено"])]})]})}),c("td",{className:a("item"),children:s.weekCompletedGoals}),c("td",{className:a("item"),children:s.reviewsAddedWeek}),c("td",{className:a("item"),children:s.experienceEarnedWeek})]},s.id))})]})})};const c9=e=>{const{users:t}=e,[n,r]=J("leader-pedestal");return c("section",{className:n(),children:t.map((a,s)=>y("div",{className:r("user"),children:[c(Dr,{noBorder:!0,className:r("avatar"),size:s===0?"large-96":s===1?"medium-56":"medium",avatar:a.avatar}),c("p",{className:r("name"),children:a.name}),c("p",{className:r("experience"),children:_t(a.experienceEarnedWeek,["опыт","опыта","опыта"])}),y("p",{className:r("place"),children:[c(me,{icon:"award"}),a.place," место"]})]},a.id))})},u9=async()=>await we("leaders/weekly");const d9=()=>{const[e,t]=J("leaders"),[n,r]=g.useState([]),[a,s]=g.useState(ix),[i,o]=g.useState(!0);return g.useEffect(()=>{(async()=>{o(!0);const l=await u9();l.success&&(r(l.data.leaders),s(l.data.totalStats)),o(!1)})()},[]),y(ht,{isLoading:i,className:e(),children:[y("div",{className:t("wrapper"),children:[c(De,{className:t("title"),tag:"h1",children:"Лидеры прошлой недели"}),c("p",{className:t("description"),children:"Выполняйте цели, пишите отзывы, зарабатывайте очки и попадайте в число лучших пользователей за неделю. Соревнуйтесь с другими и зарабатывайте награды в свой профиль. Покажите всем, что вы живёте полной жизнью!"}),c(iu,{className:t("info"),items:[{title:"Целей выполнено",value:a.goalsCompleted},{title:"Добавлено отзывов",value:a.reviewsAdded},{title:"Опыта заработано",value:a.experienceEarned}],backgroundOff:!0})]}),n.length>0?y(ft,{children:[c(c9,{users:n.slice(0,3)}),c(l9,{className:t("board"),users:n})]}):c("div",{className:t("empty"),children:"Никто еще не стал лидером недели. Но вы можете стать им!"})]})},f9=({page:e})=>{const{setPage:t,setHeader:n,setFull:r}=yt;return g.useEffect(()=>{t(e),n("white"),r(!1)},[e,t,n,r]),c(d9,{})},h9=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt,{setName:a,setIsAuth:s,setAvatar:i}=cn,o=Rn(),l=u=>{Ft.set("name",u.name||""),a(u.name||""),s(!0),i(Ft.get("avatar")||""),o("/list/100-goals")};return g.useEffect(()=>{t("white"),n(e),r(!0)},[]),c(av,{isPage:!0,openRegistration:()=>o("/sign-up"),successLogin:l})};function l0(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function Uh(e,t){e===void 0&&(e={}),t===void 0&&(t={});const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:l0(t[r])&&l0(e[r])&&Object.keys(t[r]).length>0&&Uh(e[r],t[r])})}const Q1={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function as(){const e=typeof document<"u"?document:{};return Uh(e,Q1),e}const p9={document:Q1,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function En(){const e=typeof window<"u"?window:{};return Uh(e,p9),e}function m9(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function g9(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch(r){}try{delete t[n]}catch(r){}})}function mf(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function sc(){return Date.now()}function b9(e){const t=En();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function v9(e,t){t===void 0&&(t="x");const n=En();let r,a,s;const i=b9(e);return n.WebKitCSSMatrix?(a=i.transform||i.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(o=>o.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(a==="none"?"":a)):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?a=s.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),t==="y"&&(n.WebKitCSSMatrix?a=s.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function rl(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function y9(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function On(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!y9(r)){const a=Object.keys(Object(r)).filter(s=>t.indexOf(s)<0);for(let s=0,i=a.length;s<i;s+=1){const o=a[s],l=Object.getOwnPropertyDescriptor(r,o);l!==void 0&&l.enumerable&&(rl(e[o])&&rl(r[o])?r[o].__swiper__?e[o]=r[o]:On(e[o],r[o]):!rl(e[o])&&rl(r[o])?(e[o]={},r[o].__swiper__?e[o]=r[o]:On(e[o],r[o])):e[o]=r[o])}}}return e}function al(e,t,n){e.style.setProperty(t,n)}function X1(e){let{swiper:t,targetPosition:n,side:r}=e;const a=En(),s=-t.translate;let i=null,o;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(t.cssModeFrameID);const u=n>s?"next":"prev",d=(p,h)=>u==="next"&&p>=h||u==="prev"&&p<=h,f=()=>{o=new Date().getTime(),i===null&&(i=o);const p=Math.max(Math.min((o-i)/l,1),0),h=.5-Math.cos(p*Math.PI)/2;let m=s+h*(n-s);if(d(m,n)&&(m=n),t.wrapperEl.scrollTo({[r]:m}),d(m,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:m})}),a.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=a.requestAnimationFrame(f)};f()}function Cr(e,t){t===void 0&&(t="");const n=En(),r=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&r.push(...e.assignedElements()),t?r.filter(a=>a.matches(t)):r}function E9(e,t){const n=[t];for(;n.length>0;){const r=n.shift();if(e===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function _9(e,t){const n=En();let r=t.contains(e);return!r&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(r=[...t.assignedElements()].includes(e),r||(r=E9(e,t))),r}function ic(e){try{console.warn(e);return}catch(t){}}function oc(e,t){t===void 0&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:m9(t)),n}function T9(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function S9(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function fa(e,t){return En().getComputedStyle(e,null).getPropertyValue(t)}function c0(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function w9(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function u0(e,t,n){const r=En();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}function Fr(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function C9(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(a=>{if(!n[a]&&n.auto===!0){let s=Cr(e.el,".".concat(r[a]))[0];s||(s=oc("div",r[a]),s.className=r[a],e.el.append(s)),n[a]=s,t[a]=s}}),n}function N9(e){let{swiper:t,extendParams:n,on:r,emit:a}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(m){let v;return m&&typeof m=="string"&&t.isElement&&(v=t.el.querySelector(m)||t.hostEl.querySelector(m),v)?v:(m&&(typeof m=="string"&&(v=[...document.querySelectorAll(m)]),t.params.uniqueNavElements&&typeof m=="string"&&v&&v.length>1&&t.el.querySelectorAll(m).length===1?v=t.el.querySelector(m):v&&v.length===1&&(v=v[0])),m&&!v?m:v)}function i(m,v){const T=t.params.navigation;m=Fr(m),m.forEach(E=>{E&&(E.classList[v?"add":"remove"](...T.disabledClass.split(" ")),E.tagName==="BUTTON"&&(E.disabled=v),t.params.watchOverflow&&t.enabled&&E.classList[t.isLocked?"add":"remove"](T.lockClass))})}function o(){const{nextEl:m,prevEl:v}=t.navigation;if(t.params.loop){i(v,!1),i(m,!1);return}i(v,t.isBeginning&&!t.params.rewind),i(m,t.isEnd&&!t.params.rewind)}function l(m){m.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),a("navigationPrev"))}function u(m){m.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),a("navigationNext"))}function d(){const m=t.params.navigation;if(t.params.navigation=C9(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let v=s(m.nextEl),T=s(m.prevEl);Object.assign(t.navigation,{nextEl:v,prevEl:T}),v=Fr(v),T=Fr(T);const E=(C,_)=>{C&&C.addEventListener("click",_==="next"?u:l),!t.enabled&&C&&C.classList.add(...m.lockClass.split(" "))};v.forEach(C=>E(C,"next")),T.forEach(C=>E(C,"prev"))}function f(){let{nextEl:m,prevEl:v}=t.navigation;m=Fr(m),v=Fr(v);const T=(E,C)=>{E.removeEventListener("click",C==="next"?u:l),E.classList.remove(...t.params.navigation.disabledClass.split(" "))};m.forEach(E=>T(E,"next")),v.forEach(E=>T(E,"prev"))}r("init",()=>{t.params.navigation.enabled===!1?h():(d(),o())}),r("toEdge fromEdge lock unlock",()=>{o()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:m,prevEl:v}=t.navigation;if(m=Fr(m),v=Fr(v),t.enabled){o();return}[...m,...v].filter(T=>!!T).forEach(T=>T.classList.add(t.params.navigation.lockClass))}),r("click",(m,v)=>{let{nextEl:T,prevEl:E}=t.navigation;T=Fr(T),E=Fr(E);const C=v.target;let _=E.includes(C)||T.includes(C);if(t.isElement&&!_){const N=v.path||v.composedPath&&v.composedPath();N&&(_=N.find(x=>T.includes(x)||E.includes(x)))}if(t.params.navigation.hideOnClick&&!_){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===C||t.pagination.el.contains(C)))return;let N;T.length?N=T[0].classList.contains(t.params.navigation.hiddenClass):E.length&&(N=E[0].classList.contains(t.params.navigation.hiddenClass)),a(N===!0?"navigationShow":"navigationHide"),[...T,...E].filter(x=>!!x).forEach(x=>x.classList.toggle(t.params.navigation.hiddenClass))}});const p=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),o()},h=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(t.navigation,{enable:p,disable:h,update:o,init:d,destroy:f})}let od;function x9(){const e=En(),t=as();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function J1(){return od||(od=x9()),od}let ld;function k9(e){let{userAgent:t}=e===void 0?{}:e;const n=J1(),r=En(),a=r.navigator.platform,s=t||r.navigator.userAgent,i={ios:!1,android:!1},o=r.screen.width,l=r.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=a==="Win32";let m=a==="MacIntel";const v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&m&&n.touch&&v.indexOf("".concat(o,"x").concat(l))>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),u&&!h&&(i.os="android",i.android=!0),(d||p||f)&&(i.os="ios",i.ios=!0),i}function Z1(e){return e===void 0&&(e={}),ld||(ld=k9(e)),ld}let cd;function A9(){const e=En(),t=Z1();let n=!1;function r(){const o=e.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(r()){const o=String(e.navigator.userAgent);if(o.includes("Version/")){const[l,u]=o.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&u<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),s=r(),i=s||a&&t.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:i,isWebView:a}}function e_(){return cd||(cd=A9()),cd}function D9(e){let{swiper:t,on:n,emit:r}=e;const a=En();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(r("beforeResize"),r("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(f=>{i=a.requestAnimationFrame(()=>{const{width:p,height:h}=t;let m=p,v=h;f.forEach(T=>{let{contentBoxSize:E,contentRect:C,target:_}=T;_&&_!==t.el||(m=C?C.width:(E[0]||E).inlineSize,v=C?C.height:(E[0]||E).blockSize)}),(m!==p||v!==h)&&o()})}),s.observe(t.el))},u=()=>{i&&a.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},d=()=>{!t||t.destroyed||!t.initialized||r("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof a.ResizeObserver<"u"){l();return}a.addEventListener("resize",o),a.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),a.removeEventListener("resize",o),a.removeEventListener("orientationchange",d)})}function I9(e){let{swiper:t,extendParams:n,on:r,emit:a}=e;const s=[],i=En(),o=function(d,f){f===void 0&&(f={});const p=i.MutationObserver||i.WebkitMutationObserver,h=new p(m=>{if(t.__preventObserver__)return;if(m.length===1){a("observerUpdate",m[0]);return}const v=function(){a("observerUpdate",m[0])};i.requestAnimationFrame?i.requestAnimationFrame(v):i.setTimeout(v,0)});h.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:t.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(h)},l=()=>{if(t.params.observer){if(t.params.observeParents){const d=w9(t.hostEl);for(let f=0;f<d.length;f+=1)o(d[f])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",u)}var O9={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const a=n?"unshift":"push";return e.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][a](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function a(){r.off(e,a),a.__emitterProxy&&delete a.__emitterProxy;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];t.apply(r,i)}return a.__emitterProxy=t,r.on(e,a,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((a,s)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,r;for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return typeof s[0]=="string"||Array.isArray(s[0])?(t=s[0],n=s.slice(1,s.length),r=e):(t=s[0].events,n=s[0].data,r=s[0].context||e),n.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(u=>{u.apply(r,[l,...n])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(u=>{u.apply(r,n)})}),e}};function P9(){const e=this;let t,n;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=r.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(fa(r,"padding-left")||0,10)-parseInt(fa(r,"padding-right")||0,10),n=n-parseInt(fa(r,"padding-top")||0,10)-parseInt(fa(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function L9(){const e=this;function t(k,w){return parseFloat(k.getPropertyValue(e.getDirectionLabel(w))||0)}const n=e.params,{wrapperEl:r,slidesEl:a,size:s,rtlTranslate:i,wrongRTL:o}=e,l=e.virtual&&n.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,d=Cr(a,".".concat(e.params.slideClass,", swiper-slide")),f=l?e.virtual.slides.length:d.length;let p=[];const h=[],m=[];let v=n.slidesOffsetBefore;typeof v=="function"&&(v=n.slidesOffsetBefore.call(e));let T=n.slidesOffsetAfter;typeof T=="function"&&(T=n.slidesOffsetAfter.call(e));const E=e.snapGrid.length,C=e.slidesGrid.length;let _=n.spaceBetween,N=-v,x=0,S=0;if(typeof s>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*s:typeof _=="string"&&(_=parseFloat(_)),e.virtualSize=-_,d.forEach(k=>{i?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(al(r,"--swiper-centered-offset-before",""),al(r,"--swiper-centered-offset-after",""));const A=n.grid&&n.grid.rows>1&&e.grid;A?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();let P;const O=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(k=>typeof n.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<f;k+=1){P=0;let w;if(d[k]&&(w=d[k]),A&&e.grid.updateSlide(k,w,d),!(d[k]&&fa(w,"display")==="none")){if(n.slidesPerView==="auto"){O&&(d[k].style[e.getDirectionLabel("width")]="");const D=getComputedStyle(w),M=w.style.transform,U=w.style.webkitTransform;if(M&&(w.style.transform="none"),U&&(w.style.webkitTransform="none"),n.roundLengths)P=e.isHorizontal()?u0(w,"width",!0):u0(w,"height",!0);else{const G=t(D,"width"),F=t(D,"padding-left"),I=t(D,"padding-right"),H=t(D,"margin-left"),q=t(D,"margin-right"),L=D.getPropertyValue("box-sizing");if(L&&L==="border-box")P=G+H+q;else{const{clientWidth:te,offsetWidth:_e}=w;P=G+F+I+H+q+(_e-te)}}M&&(w.style.transform=M),U&&(w.style.webkitTransform=U),n.roundLengths&&(P=Math.floor(P))}else P=(s-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(P=Math.floor(P)),d[k]&&(d[k].style[e.getDirectionLabel("width")]="".concat(P,"px"));d[k]&&(d[k].swiperSlideSize=P),m.push(P),n.centeredSlides?(N=N+P/2+x/2+_,x===0&&k!==0&&(N=N-s/2-_),k===0&&(N=N-s/2-_),Math.abs(N)<1/1e3&&(N=0),n.roundLengths&&(N=Math.floor(N)),S%n.slidesPerGroup===0&&p.push(N),h.push(N)):(n.roundLengths&&(N=Math.floor(N)),(S-Math.min(e.params.slidesPerGroupSkip,S))%e.params.slidesPerGroup===0&&p.push(N),h.push(N),N=N+P+_),e.virtualSize+=P+_,x=P,S+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+T,i&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width="".concat(e.virtualSize+_,"px")),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]="".concat(e.virtualSize+_,"px")),A&&e.grid.updateWrapperSize(P,p),!n.centeredSlides){const k=[];for(let w=0;w<p.length;w+=1){let D=p[w];n.roundLengths&&(D=Math.floor(D)),p[w]<=e.virtualSize-s&&k.push(D)}p=k,Math.floor(e.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(e.virtualSize-s)}if(l&&n.loop){const k=m[0]+_;if(n.slidesPerGroup>1){const w=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),D=k*n.slidesPerGroup;for(let M=0;M<w;M+=1)p.push(p[p.length-1]+D)}for(let w=0;w<e.virtual.slidesBefore+e.virtual.slidesAfter;w+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+k),h.push(h[h.length-1]+k),e.virtualSize+=k}if(p.length===0&&(p=[0]),_!==0){const k=e.isHorizontal()&&i?"marginLeft":e.getDirectionLabel("marginRight");d.filter((w,D)=>!n.cssMode||n.loop?!0:D!==d.length-1).forEach(w=>{w.style[k]="".concat(_,"px")})}if(n.centeredSlides&&n.centeredSlidesBounds){let k=0;m.forEach(D=>{k+=D+(_||0)}),k-=_;const w=k>s?k-s:0;p=p.map(D=>D<=0?-v:D>w?w+T:D)}if(n.centerInsufficientSlides){let k=0;m.forEach(D=>{k+=D+(_||0)}),k-=_;const w=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(k+w<s){const D=(s-k-w)/2;p.forEach((M,U)=>{p[U]=M-D}),h.forEach((M,U)=>{h[U]=M+D})}}if(Object.assign(e,{slides:d,snapGrid:p,slidesGrid:h,slidesSizesGrid:m}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){al(r,"--swiper-centered-offset-before","".concat(-p[0],"px")),al(r,"--swiper-centered-offset-after","".concat(e.size/2-m[m.length-1]/2,"px"));const k=-e.snapGrid[0],w=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(D=>D+k),e.slidesGrid=e.slidesGrid.map(D=>D+w)}if(f!==u&&e.emit("slidesLengthChange"),p.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==C&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const k="".concat(n.containerModifierClass,"backface-hidden"),w=e.el.classList.contains(k);f<=n.maxBackfaceHiddenSlides?w||e.el.classList.add(k):w&&e.el.classList.remove(k)}}function R9(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let a=0,s;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const i=o=>r?t.slides[t.getSlideIndexByData(o)]:t.slides[o];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(o=>{n.push(o)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const o=t.activeIndex+s;if(o>t.slides.length&&!r)break;n.push(i(o))}else n.push(i(t.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const o=n[s].offsetHeight;a=o>a?o:a}(a||a===0)&&(t.wrapperEl.style.height="".concat(a,"px"))}function M9(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()}const d0=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function F9(e){e===void 0&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:r,rtlTranslate:a,snapGrid:s}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let i=-e;a&&(i=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=n.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*t.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<r.length;l+=1){const u=r[l];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const f=(i+(n.centeredSlides?t.minTranslate():0)-d)/(u.swiperSlideSize+o),p=(i-s[0]+(n.centeredSlides?t.minTranslate():0)-d)/(u.swiperSlideSize+o),h=-(i-d),m=h+t.slidesSizesGrid[l],v=h>=0&&h<=t.size-t.slidesSizesGrid[l],T=h>=0&&h<t.size-1||m>1&&m<=t.size||h<=0&&m>=t.size;T&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(l)),d0(u,T,n.slideVisibleClass),d0(u,v,n.slideFullyVisibleClass),u.progress=a?-f:f,u.originalProgress=a?-p:p}}function B9(e){const t=this;if(typeof e>"u"){const d=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*d||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:a,isBeginning:s,isEnd:i,progressLoop:o}=t;const l=s,u=i;if(r===0)a=0,s=!0,i=!0;else{a=(e-t.minTranslate())/r;const d=Math.abs(e-t.minTranslate())<1,f=Math.abs(e-t.maxTranslate())<1;s=d||a<=0,i=f||a>=1,d&&(a=0),f&&(a=1)}if(n.loop){const d=t.getSlideIndexByData(0),f=t.getSlideIndexByData(t.slides.length-1),p=t.slidesGrid[d],h=t.slidesGrid[f],m=t.slidesGrid[t.slidesGrid.length-1],v=Math.abs(e);v>=p?o=(v-p)/m:o=(v+m-h)/m,o>1&&(o-=1)}Object.assign(t,{progress:a,progressLoop:o,isBeginning:s,isEnd:i}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!l&&t.emit("reachBeginning toEdge"),i&&!u&&t.emit("reachEnd toEdge"),(l&&!s||u&&!i)&&t.emit("fromEdge"),t.emit("progress",a)}const ud=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function U9(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:a}=e,s=e.virtual&&n.virtual.enabled,i=e.grid&&n.grid&&n.grid.rows>1,o=f=>Cr(r,".".concat(n.slideClass).concat(f,", swiper-slide").concat(f))[0];let l,u,d;if(s)if(n.loop){let f=a-e.virtual.slidesBefore;f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),l=o('[data-swiper-slide-index="'.concat(f,'"]'))}else l=o('[data-swiper-slide-index="'.concat(a,'"]'));else i?(l=t.find(f=>f.column===a),d=t.find(f=>f.column===a+1),u=t.find(f=>f.column===a-1)):l=t[a];l&&(i||(d=S9(l,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&!d&&(d=t[0]),u=T9(l,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&!u===0&&(u=t[t.length-1]))),t.forEach(f=>{ud(f,f===l,n.slideActiveClass),ud(f,f===d,n.slideNextClass),ud(f,f===u,n.slidePrevClass)}),e.emitSlidesClasses()}const Cl=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":".".concat(e.params.slideClass),r=t.closest(n());if(r){let a=r.querySelector(".".concat(e.params.lazyPreloaderClass));!a&&e.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)),a&&a.remove())})),a&&a.remove()}},dd=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},gf=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),a=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const i=a,o=[i-t];o.push(...Array.from({length:t}).map((l,u)=>i+r+u)),e.slides.forEach((l,u)=>{o.includes(l.column)&&dd(e,u)});return}const s=a+r-1;if(e.params.rewind||e.params.loop)for(let i=a-t;i<=s+t;i+=1){const o=(i%n+n)%n;(o<a||o>s)&&dd(e,o)}else for(let i=Math.max(a-t,0);i<=Math.min(s+t,n-1);i+=1)i!==a&&(i>s||i<a)&&dd(e,i)};function H9(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let a;for(let s=0;s<t.length;s+=1)typeof t[s+1]<"u"?r>=t[s]&&r<t[s+1]-(t[s+1]-t[s])/2?a=s:r>=t[s]&&r<t[s+1]&&(a=s+1):r>=t[s]&&(a=s);return n.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function G9(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:a,activeIndex:s,realIndex:i,snapIndex:o}=t;let l=e,u;const d=h=>{let m=h-t.virtual.slidesBefore;return m<0&&(m=t.virtual.slides.length+m),m>=t.virtual.slides.length&&(m-=t.virtual.slides.length),m};if(typeof l>"u"&&(l=H9(t)),r.indexOf(n)>=0)u=r.indexOf(n);else{const h=Math.min(a.slidesPerGroupSkip,l);u=h+Math.floor((l-h)/a.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),l===s&&!t.params.loop){u!==o&&(t.snapIndex=u,t.emit("snapIndexChange"));return}if(l===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=d(l);return}const f=t.grid&&a.grid&&a.grid.rows>1;let p;if(t.virtual&&a.virtual.enabled&&a.loop)p=d(l);else if(f){const h=t.slides.find(v=>v.column===l);let m=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(m)&&(m=Math.max(t.slides.indexOf(h),0)),p=Math.floor(m/a.grid.rows)}else if(t.slides[l]){const h=t.slides[l].getAttribute("data-swiper-slide-index");h?p=parseInt(h,10):p=l}else p=l;Object.assign(t,{previousSnapIndex:o,snapIndex:u,previousRealIndex:i,realIndex:p,previousIndex:s,activeIndex:l}),t.initialized&&gf(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(i!==p&&t.emit("realIndexChange"),t.emit("slideChange"))}function $9(e,t){const n=this,r=n.params;let a=e.closest(".".concat(r.slideClass,", swiper-slide"));!a&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(o=>{!a&&o.matches&&o.matches(".".concat(r.slideClass,", swiper-slide"))&&(a=o)});let s=!1,i;if(a){for(let o=0;o<n.slides.length;o+=1)if(n.slides[o]===a){s=!0,i=o;break}}if(a&&s)n.clickedSlide=a,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=i;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var W9={updateSize:P9,updateSlides:L9,updateAutoHeight:R9,updateSlidesOffset:M9,updateSlidesProgress:F9,updateProgress:B9,updateSlidesClasses:U9,updateActiveIndex:G9,updateClickedSlide:$9};function Y9(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:r,translate:a,wrapperEl:s}=t;if(n.virtualTranslate)return r?-a:a;if(n.cssMode)return a;let i=v9(s,e);return i+=t.cssOverflowAdjustment(),r&&(i=-i),i||0}function z9(e,t){const n=this,{rtlTranslate:r,params:a,wrapperEl:s,progress:i}=n;let o=0,l=0;const u=0;n.isHorizontal()?o=r?-e:e:l=e,a.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?o:l,a.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-o:-l:a.virtualTranslate||(n.isHorizontal()?o-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform="translate3d(".concat(o,"px, ").concat(l,"px, ").concat(u,"px)"));let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(e-n.minTranslate())/f,d!==i&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function V9(){return-this.snapGrid[0]}function j9(){return-this.snapGrid[this.snapGrid.length-1]}function q9(e,t,n,r,a){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:i,wrapperEl:o}=s;if(s.animating&&i.preventInteractionOnTransition)return!1;const l=s.minTranslate(),u=s.maxTranslate();let d;if(r&&e>l?d=l:r&&e<u?d=u:d=e,s.updateProgress(d),i.cssMode){const f=s.isHorizontal();if(t===0)o[f?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return X1({swiper:s,targetPosition:-d,side:f?"left":"top"}),!0;o.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return t===0?(s.setTransition(0),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",t,a),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",t,a),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var K9={getTranslate:Y9,setTranslate:z9,minTranslate:V9,maxTranslate:j9,translateTo:q9};function Q9(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration="".concat(e,"ms"),n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function t_(e){let{swiper:t,runCallbacks:n,direction:r,step:a}=e;const{activeIndex:s,previousIndex:i}=t;let o=r;if(o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit("transition".concat(a)),n&&s!==i){if(o==="reset"){t.emit("slideResetTransition".concat(a));return}t.emit("slideChangeTransition".concat(a)),o==="next"?t.emit("slideNextTransition".concat(a)):t.emit("slidePrevTransition".concat(a))}}function X9(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),t_({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function J9(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),t_({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var Z9={setTransition:Q9,transitionStart:X9,transitionEnd:J9};function eU(e,t,n,r,a){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const s=this;let i=e;i<0&&(i=0);const{params:o,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:h,enabled:m}=s;if(!m&&!r&&!a||s.destroyed||s.animating&&o.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=s.params.speed);const v=Math.min(s.params.slidesPerGroupSkip,i);let T=v+Math.floor((i-v)/s.params.slidesPerGroup);T>=l.length&&(T=l.length-1);const E=-l[T];if(o.normalizeSlideIndex)for(let A=0;A<u.length;A+=1){const P=-Math.floor(E*100),O=Math.floor(u[A]*100),k=Math.floor(u[A+1]*100);typeof u[A+1]<"u"?P>=O&&P<k-(k-O)/2?i=A:P>=O&&P<k&&(i=A+1):P>=O&&(i=A)}if(s.initialized&&i!==f&&(!s.allowSlideNext&&(p?E>s.translate&&E>s.minTranslate():E<s.translate&&E<s.minTranslate())||!s.allowSlidePrev&&E>s.translate&&E>s.maxTranslate()&&(f||0)!==i))return!1;i!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(E);let C;i>f?C="next":i<f?C="prev":C="reset";const _=s.virtual&&s.params.virtual.enabled;if(!(_&&a)&&(p&&-E===s.translate||!p&&E===s.translate))return s.updateActiveIndex(i),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),o.effect!=="slide"&&s.setTranslate(E),C!=="reset"&&(s.transitionStart(n,C),s.transitionEnd(n,C)),!1;if(o.cssMode){const A=s.isHorizontal(),P=p?E:-E;if(t===0)_&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),_&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[A?"scrollLeft":"scrollTop"]=P})):h[A?"scrollLeft":"scrollTop"]=P,_&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return X1({swiper:s,targetPosition:P,side:A?"left":"top"}),!0;h.scrollTo({[A?"left":"top"]:P,behavior:"smooth"})}return!0}const S=e_().isSafari;return _&&!a&&S&&s.isElement&&s.virtual.update(!1,!1,i),s.setTransition(t),s.setTranslate(E),s.updateActiveIndex(i),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(n,C),t===0?s.transitionEnd(n,C):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(P){!s||s.destroyed||P.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,C))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function tU(e,t,n,r){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const a=this;if(a.destroyed)return;typeof t>"u"&&(t=a.params.speed);const s=a.grid&&a.params.grid&&a.params.grid.rows>1;let i=e;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)i=i+a.virtual.slidesBefore;else{let o;if(s){const p=i*a.params.grid.rows;o=a.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===p).column}else o=a.getSlideIndexByData(i);const l=s?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:u}=a.params;let d=a.params.slidesPerView;d==="auto"?d=a.slidesPerViewDynamic():(d=Math.ceil(parseFloat(a.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let f=l-o<d;if(u&&(f=f||o<Math.ceil(d/2)),r&&u&&a.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const p=u?o<a.activeIndex?"prev":"next":o-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?o+1:o-l+1,slideRealIndex:p==="next"?a.realIndex:void 0})}if(s){const p=i*a.params.grid.rows;i=a.slides.find(h=>h.getAttribute("data-swiper-slide-index")*1===p).column}else i=a.getSlideIndexByData(i)}return requestAnimationFrame(()=>{a.slideTo(i,t,n,r)}),a}function nU(e,t,n){t===void 0&&(t=!0);const r=this,{enabled:a,params:s,animating:i}=r;if(!a||r.destroyed)return r;typeof e>"u"&&(e=r.params.speed);let o=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:o,u=r.virtual&&s.virtual.enabled;if(s.loop){if(i&&!u&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,e,t,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)}function rU(e,t,n){t===void 0&&(t=!0);const r=this,{params:a,snapGrid:s,slidesGrid:i,rtlTranslate:o,enabled:l,animating:u}=r;if(!l||r.destroyed)return r;typeof e>"u"&&(e=r.params.speed);const d=r.virtual&&a.virtual.enabled;if(a.loop){if(u&&!d&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=o?r.translate:-r.translate;function p(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const h=p(f),m=s.map(C=>p(C)),v=a.freeMode&&a.freeMode.enabled;let T=s[m.indexOf(h)-1];if(typeof T>"u"&&(a.cssMode||v)){let C;s.forEach((_,N)=>{h>=_&&(C=N)}),typeof C<"u"&&(T=v?s[C]:s[C>0?C-1:C])}let E=0;if(typeof T<"u"&&(E=i.indexOf(T),E<0&&(E=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(E=E-r.slidesPerViewDynamic("previous",!0)+1,E=Math.max(E,0))),a.rewind&&r.isBeginning){const C=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(C,e,t,n)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(E,e,t,n)}),!0;return r.slideTo(E,e,t,n)}function aU(e,t,n){t===void 0&&(t=!0);const r=this;if(!r.destroyed)return typeof e>"u"&&(e=r.params.speed),r.slideTo(r.activeIndex,e,t,n)}function sU(e,t,n,r){t===void 0&&(t=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);let s=a.activeIndex;const i=Math.min(a.params.slidesPerGroupSkip,s),o=i+Math.floor((s-i)/a.params.slidesPerGroup),l=a.rtlTranslate?a.translate:-a.translate;if(l>=a.snapGrid[o]){const u=a.snapGrid[o],d=a.snapGrid[o+1];l-u>(d-u)*r&&(s+=a.params.slidesPerGroup)}else{const u=a.snapGrid[o-1],d=a.snapGrid[o];l-u<=(d-u)*r&&(s-=a.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,a.slidesGrid.length-1),a.slideTo(s,e,t,n)}function iU(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let a=e.clickedIndex,s;const i=e.isElement?"swiper-slide":".".concat(t.slideClass);if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?a<e.loopedSlides-r/2||a>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),a=e.getSlideIndex(Cr(n,"".concat(i,'[data-swiper-slide-index="').concat(s,'"]'))[0]),mf(()=>{e.slideTo(a)})):e.slideTo(a):a>e.slides.length-r?(e.loopFix(),a=e.getSlideIndex(Cr(n,"".concat(i,'[data-swiper-slide-index="').concat(s,'"]'))[0]),mf(()=>{e.slideTo(a)})):e.slideTo(a)}else e.slideTo(a)}var oU={slideTo:eU,slideToLoop:tU,slideNext:nU,slidePrev:rU,slideReset:aU,slideToClosest:sU,slideToClickedSlide:iU};function lU(e,t){const n=this,{params:r,slidesEl:a}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Cr(a,".".concat(r.slideClass,", swiper-slide")).forEach((p,h)=>{p.setAttribute("data-swiper-slide-index",h)})},i=n.grid&&r.grid&&r.grid.rows>1,o=r.slidesPerGroup*(i?r.grid.rows:1),l=n.slides.length%o!==0,u=i&&n.slides.length%r.grid.rows!==0,d=f=>{for(let p=0;p<f;p+=1){const h=n.isElement?oc("swiper-slide",[r.slideBlankClass]):oc("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(h)}};if(l){if(r.loopAddBlankSlides){const f=o-n.slides.length%o;d(f),n.recalcSlides(),n.updateSlides()}else ic("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(u){if(r.loopAddBlankSlides){const f=r.grid.rows-n.slides.length%r.grid.rows;d(f),n.recalcSlides(),n.updateSlides()}else ic("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:e,direction:r.centeredSlides?void 0:"next",initial:t})}function cU(e){let{slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:a,activeSlideIndex:s,initial:i,byController:o,byMousewheel:l}=e===void 0?{}:e;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:f,allowSlideNext:p,slidesEl:h,params:m}=u,{centeredSlides:v,initialSlide:T}=m;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):m.centeredSlides&&u.snapIndex<m.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=f,u.allowSlideNext=p,u.emit("loopFix");return}let E=m.slidesPerView;E==="auto"?E=u.slidesPerViewDynamic():(E=Math.ceil(parseFloat(m.slidesPerView,10)),v&&E%2===0&&(E=E+1));const C=m.slidesPerGroupAuto?E:m.slidesPerGroup;let _=C;_%C!==0&&(_+=C-_%C),_+=m.loopAdditionalSlides,u.loopedSlides=_;const N=u.grid&&m.grid&&m.grid.rows>1;d.length<E+_||u.params.effect==="cards"&&d.length<E+_*2?ic("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):N&&m.grid.fill==="row"&&ic("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const x=[],S=[],A=N?Math.ceil(d.length/m.grid.rows):d.length,P=i&&A-T<E&&!v;let O=P?T:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(d.find(F=>F.classList.contains(m.slideActiveClass))):O=s;const k=r==="next"||!r,w=r==="prev"||!r;let D=0,M=0;const G=(N?d[s].column:s)+(v&&typeof a>"u"?-E/2+.5:0);if(G<_){D=Math.max(_-G,C);for(let F=0;F<_-G;F+=1){const I=F-Math.floor(F/A)*A;if(N){const H=A-I-1;for(let q=d.length-1;q>=0;q-=1)d[q].column===H&&x.push(q)}else x.push(A-I-1)}}else if(G+E>A-_){M=Math.max(G-(A-_*2),C),P&&(M=Math.max(M,E-A+T+1));for(let F=0;F<M;F+=1){const I=F-Math.floor(F/A)*A;N?d.forEach((H,q)=>{H.column===I&&S.push(q)}):S.push(I)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<E+_*2&&(S.includes(s)&&S.splice(S.indexOf(s),1),x.includes(s)&&x.splice(x.indexOf(s),1)),w&&x.forEach(F=>{d[F].swiperLoopMoveDOM=!0,h.prepend(d[F]),d[F].swiperLoopMoveDOM=!1}),k&&S.forEach(F=>{d[F].swiperLoopMoveDOM=!0,h.append(d[F]),d[F].swiperLoopMoveDOM=!1}),u.recalcSlides(),m.slidesPerView==="auto"?u.updateSlides():N&&(x.length>0&&w||S.length>0&&k)&&u.slides.forEach((F,I)=>{u.grid.updateSlide(I,F,u.slides)}),m.watchSlidesProgress&&u.updateSlidesOffset(),n){if(x.length>0&&w){if(typeof t>"u"){const F=u.slidesGrid[O],H=u.slidesGrid[O+D]-F;l?u.setTranslate(u.translate-H):(u.slideTo(O+Math.ceil(D),0,!1,!0),a&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-H,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-H))}else if(a){const F=N?x.length/m.grid.rows:x.length;u.slideTo(u.activeIndex+F,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(S.length>0&&k)if(typeof t>"u"){const F=u.slidesGrid[O],H=u.slidesGrid[O-M]-F;l?u.setTranslate(u.translate-H):(u.slideTo(O-M,0,!1,!0),a&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-H,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-H))}else{const F=N?S.length/m.grid.rows:S.length;u.slideTo(u.activeIndex-F,0,!1,!0)}}if(u.allowSlidePrev=f,u.allowSlideNext=p,u.controller&&u.controller.control&&!o){const F={slideRealIndex:t,direction:r,setTranslate:a,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(I=>{!I.destroyed&&I.params.loop&&I.loopFix({...F,slideTo:I.params.slidesPerView===m.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...F,slideTo:u.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}u.emit("loopFix")}function uU(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(a=>{const s=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[s]=a}),e.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{n.append(a)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var dU={loopCreate:lU,loopFix:cU,loopDestroy:uU};function fU(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function hU(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var pU={setGrabCursor:fU,unsetGrabCursor:hU};function mU(e,t){t===void 0&&(t=this);function n(r){if(!r||r===as()||r===En())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(e);return!a&&!r.getRootNode?null:a||n(r.getRootNode().host)}return n(t)}function f0(e,t,n){const r=En(),{params:a}=e,s=a.edgeSwipeDetection,i=a.edgeSwipeThreshold;return s&&(n<=i||n>=r.innerWidth-i)?s==="prevent"?(t.preventDefault(),!0):!1:!0}function gU(e){const t=this,n=as();let r=e;r.originalEvent&&(r=r.originalEvent);const a=t.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){f0(t,r,r.targetTouches[0].pageX);return}const{params:s,touches:i,enabled:o}=t;if(!o||!s.simulateTouch&&r.pointerType==="mouse"||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!_9(l,t.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);const f=s.noSwipingSelector?s.noSwipingSelector:".".concat(s.noSwipingClass),p=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(p?mU(f,l):l.closest(f))){t.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;i.currentX=r.pageX,i.currentY=r.pageY;const h=i.currentX,m=i.currentY;if(!f0(t,r,h))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=h,i.startY=m,a.touchStartTime=sc(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(a.allowThresholdMove=!1);let v=!0;l.matches(a.focusableElements)&&(v=!1,l.nodeName==="SELECT"&&(a.isTouched=!1)),n.activeElement&&n.activeElement.matches(a.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(a.focusableElements))&&n.activeElement.blur();const T=v&&t.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||T)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function bU(e){const t=as(),n=this,r=n.touchEventsData,{params:a,touches:s,rtlTranslate:i,enabled:o}=n;if(!o||!a.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(S=>S.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=f;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=sc());return}if(a.touchReleaseOnEdges&&!a.loop)if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(i&&(d>s.startX&&-n.translate<=n.maxTranslate()||d<s.startX&&-n.translate>=n.minTranslate()))return;if(!i&&(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==l.target&&l.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&l.target===t.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=f;const p=s.currentX-s.startX,h=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(p**2+h**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let S;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:p*p+h*h>=25&&(S=Math.atan2(Math.abs(h),Math.abs(p))*180/Math.PI,r.isScrolling=n.isHorizontal()?S>a.touchAngle:90-S>a.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!a.cssMode&&l.cancelable&&l.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&l.stopPropagation();let m=n.isHorizontal()?p:h,v=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;a.oneWayMovement&&(m=Math.abs(m)*(i?1:-1),v=Math.abs(v)*(i?1:-1)),s.diff=m,m*=a.touchRatio,i&&(m=-m,v=-v);const T=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const E=n.params.loop&&!a.cssMode,C=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(E&&C&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const S=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(S)}r.allowMomentumBounce=!1,a.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let _;if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&T!==n.touchesDirection&&E&&C&&Math.abs(m)>=1){Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=m+r.startTranslate;let N=!0,x=a.resistanceRatio;if(a.touchReleaseOnEdges&&(x=0),m>0?(E&&C&&!_&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(a.slidesPerView!=="auto"&&n.slides.length-a.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(N=!1,a.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+m)**x))):m<0&&(E&&C&&!_&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(a.slidesPerView!=="auto"&&n.slides.length-a.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(a.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(N=!1,a.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-m)**x))),N&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(m)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&n.freeMode||a.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function vU(e){const t=this,n=t.touchEventsData;let r=e;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(x=>x.identifier===n.touchId),!a||a.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:i,touches:o,rtlTranslate:l,slidesGrid:u,enabled:d}=t;if(!d||!i.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&i.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}i.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const f=sc(),p=f-n.touchStartTime;if(t.allowClick){const x=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(x&&x[0]||r.target,x),t.emit("tap click",r),p<300&&f-n.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(n.lastClickTime=sc(),mf(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||o.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(i.followFinger?h=l?t.translate:-t.translate:h=-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:h});return}const m=h>=-t.maxTranslate()&&!t.params.loop;let v=0,T=t.slidesSizesGrid[0];for(let x=0;x<u.length;x+=x<i.slidesPerGroupSkip?1:i.slidesPerGroup){const S=x<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof u[x+S]<"u"?(m||h>=u[x]&&h<u[x+S])&&(v=x,T=u[x+S]-u[x]):(m||h>=u[x])&&(v=x,T=u[u.length-1]-u[u.length-2])}let E=null,C=null;i.rewind&&(t.isBeginning?C=i.virtual&&i.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(E=0));const _=(h-u[v])/T,N=v<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(p>i.longSwipesMs){if(!i.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(_>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?E:v+N):t.slideTo(v)),t.swipeDirection==="prev"&&(_>1-i.longSwipesRatio?t.slideTo(v+N):C!==null&&_<0&&Math.abs(_)>i.longSwipesRatio?t.slideTo(C):t.slideTo(v))}else{if(!i.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(v+N):t.slideTo(v):(t.swipeDirection==="next"&&t.slideTo(E!==null?E:v+N),t.swipeDirection==="prev"&&t.slideTo(C!==null?C:v))}}function h0(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:s}=e,i=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const o=i&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!o?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!i?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=a,e.allowSlideNext=r,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function yU(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function EU(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let a;const s=e.maxTranslate()-e.minTranslate();s===0?a=0:a=(e.translate-e.minTranslate())/s,a!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function _U(e){const t=this;Cl(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function TU(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const n_=(e,t)=>{const n=as(),{params:r,el:a,wrapperEl:s,device:i}=e,o=!!r.nested,l=t==="on"?"addEventListener":"removeEventListener",u=t;!a||typeof a=="string"||(n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:o}),a[l]("touchstart",e.onTouchStart,{passive:!1}),a[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:o}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[l]("click",e.onClick,!0),r.cssMode&&s[l]("scroll",e.onScroll),r.updateOnWindowResize?e[u](i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",h0,!0):e[u]("observerUpdate",h0,!0),a[l]("load",e.onLoad,{capture:!0}))};function SU(){const e=this,{params:t}=e;e.onTouchStart=gU.bind(e),e.onTouchMove=bU.bind(e),e.onTouchEnd=vU.bind(e),e.onDocumentTouchStart=TU.bind(e),t.cssMode&&(e.onScroll=EU.bind(e)),e.onClick=yU.bind(e),e.onLoad=_U.bind(e),n_(e,"on")}function wU(){n_(this,"off")}var CU={attachEvents:SU,detachEvents:wU};const p0=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function NU(){const e=this,{realIndex:t,initialized:n,params:r,el:a}=e,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const i=as(),o=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?e.el:i.querySelector(r.breakpointsBase),u=e.getBreakpoint(s,o,l);if(!u||e.currentBreakpoint===u)return;const f=(u in s?s[u]:void 0)||e.originalParams,p=p0(e,r),h=p0(e,f),m=e.params.grabCursor,v=f.grabCursor,T=r.enabled;p&&!h?(a.classList.remove("".concat(r.containerModifierClass,"grid"),"".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()):!p&&h&&(a.classList.add("".concat(r.containerModifierClass,"grid")),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&a.classList.add("".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()),m&&!v?e.unsetGrabCursor():!m&&v&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(S=>{if(typeof f[S]>"u")return;const A=r[S]&&r[S].enabled,P=f[S]&&f[S].enabled;A&&!P&&e[S].disable(),!A&&P&&e[S].enable()});const E=f.direction&&f.direction!==r.direction,C=r.loop&&(f.slidesPerView!==r.slidesPerView||E),_=r.loop;E&&n&&e.changeDirection(),On(e.params,f);const N=e.params.enabled,x=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),T&&!N?e.disable():!T&&N&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",f),n&&(C?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!_&&x?(e.loopCreate(t),e.updateSlides()):_&&!x&&e.loopDestroy()),e.emit("breakpoint",f)}function xU(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let r=!1;const a=En(),s=t==="window"?a.innerHeight:n.clientHeight,i=Object.keys(e).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:s*l,point:o}}return{value:o,point:o}});i.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<i.length;o+=1){const{point:l,value:u}=i[o];t==="window"?a.matchMedia("(min-width: ".concat(u,"px)")).matches&&(r=l):u<=n.clientWidth&&(r=l)}return r||"max"}var kU={setBreakpoint:NU,getBreakpoint:xU};function AU(e,t){const n=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&n.push(t+a)}):typeof r=="string"&&n.push(t+r)}),n}function DU(){const e=this,{classNames:t,params:n,rtl:r,el:a,device:s}=e,i=AU(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...i),a.classList.add(...t),e.emitContainerClasses()}function IU(){const e=this,{el:t,classNames:n}=e;!t||typeof t=="string"||(t.classList.remove(...n),e.emitContainerClasses())}var OU={addClasses:DU,removeClasses:IU};function PU(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const a=e.slides.length-1,s=e.slidesGrid[a]+e.slidesSizesGrid[a]+r*2;e.isLocked=e.size>s}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var LU={checkOverflow:PU},bf={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function RU(e,t){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],s=r[a];if(typeof s!="object"||s===null){On(t,r);return}if(e[a]===!0&&(e[a]={enabled:!0}),a==="navigation"&&e[a]&&e[a].enabled&&!e[a].prevEl&&!e[a].nextEl&&(e[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&e[a]&&e[a].enabled&&!e[a].el&&(e[a].auto=!0),!(a in e&&"enabled"in s)){On(t,r);return}typeof e[a]=="object"&&!("enabled"in e[a])&&(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),On(t,r)}}const fd={eventsEmitter:O9,update:W9,translate:K9,transition:Z9,slide:oU,loop:dU,grabCursor:pU,events:CU,breakpoints:kU,checkOverflow:LU,classes:OU},hd={};let Hh=class Br{constructor(){let t,n;for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?n=a[0]:[t,n]=a,n||(n={}),n=On({},n),t&&!n.el&&(n.el=t);const i=as();if(n.el&&typeof n.el=="string"&&i.querySelectorAll(n.el).length>1){const d=[];return i.querySelectorAll(n.el).forEach(f=>{const p=On({},n,{el:f});d.push(new Br(p))}),d}const o=this;o.__swiper__=!0,o.support=J1(),o.device=Z1({userAgent:n.userAgent}),o.browser=e_(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],n.modules&&Array.isArray(n.modules)&&o.modules.push(...n.modules);const l={};o.modules.forEach(d=>{d({params:n,swiper:o,extendParams:RU(n,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const u=On({},bf,l);return o.params=On({},u,hd,n),o.originalParams=On({},o.params),o.passedParams=On({},n),o.params&&o.params.on&&Object.keys(o.params.on).forEach(d=>{o.on(d,o.params.on[d])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:r}=this,a=Cr(n,".".concat(r.slideClass,", swiper-slide")),s=c0(a[0]);return c0(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===t))}recalcSlides(){const t=this,{slidesEl:n,params:r}=t;t.slides=Cr(n,".".concat(r.slideClass,", swiper-slide"))}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const r=this;t=Math.min(Math.max(t,0),1);const a=r.minTranslate(),i=(r.maxTranslate()-a)*t+a;r.translateTo(i,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(r=>{const a=t.getSlideClasses(r);n.push({slideEl:r,classNames:a}),t.emit("_slideClass",r,a)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const r=this,{params:a,slides:s,slidesGrid:i,slidesSizesGrid:o,size:l,activeIndex:u}=r;let d=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let f=s[u]?Math.ceil(s[u].swiperSlideSize):0,p;for(let h=u+1;h<s.length;h+=1)s[h]&&!p&&(f+=Math.ceil(s[h].swiperSlideSize),d+=1,f>l&&(p=!0));for(let h=u-1;h>=0;h-=1)s[h]&&!p&&(f+=s[h].swiperSlideSize,d+=1,f>l&&(p=!0))}else if(t==="current")for(let f=u+1;f<s.length;f+=1)(n?i[f]+o[f]-i[u]<l:i[f]-i[u]<l)&&(d+=1);else for(let f=u-1;f>=0;f-=1)i[u]-i[f]<l&&(d+=1);return d}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(i=>{i.complete&&Cl(t,i)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function a(){const i=t.rtlTranslate?t.translate*-1:t.translate,o=Math.min(Math.max(i,t.maxTranslate()),t.minTranslate());t.setTranslate(o),t.updateActiveIndex(),t.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&t.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!r.centeredSlides){const i=t.virtual&&r.virtual.enabled?t.virtual.slides:t.slides;s=t.slideTo(i.length-1,0,!1,!0)}else s=t.slideTo(t.activeIndex,0,!1,!0);s||a()}r.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const r=this,a=r.params.direction;return t||(t=a==="horizontal"?"vertical":"horizontal"),t===a||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove("".concat(r.params.containerModifierClass).concat(a)),r.el.classList.add("".concat(r.params.containerModifierClass).concat(t)),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(s=>{t==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add("".concat(n.params.containerModifierClass,"rtl")),n.el.dir="rtl"):(n.el.classList.remove("".concat(n.params.containerModifierClass,"rtl")),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let r=t||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const a=()=>".".concat((n.params.wrapperClass||"").trim().split(" ").join("."));let i=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):Cr(r,a())[0])();return!i&&n.params.createElements&&(i=oc("div",n.params.wrapperClass),r.append(i),Cr(r,".".concat(n.params.slideClass)).forEach(o=>{i.append(o)})),Object.assign(n,{el:r,wrapperEl:i,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:i,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||fa(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||fa(r,"direction")==="rtl"),wrongRTL:fa(i,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const a=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&a.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(s=>{s.complete?Cl(n,s):s.addEventListener("load",i=>{Cl(n,i.target)})}),gf(n),n.initialized=!0,gf(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const r=this,{params:a,el:s,wrapperEl:i,slides:o}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),i&&i.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),t!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),g9(r)),r.destroyed=!0),null}static extendDefaults(t){On(hd,t)}static get extendedDefaults(){return hd}static get defaults(){return bf}static installModule(t){Br.prototype.__modules__||(Br.prototype.__modules__=[]);const n=Br.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>Br.installModule(n)),Br):(Br.installModule(t),Br)}};Object.keys(fd).forEach(e=>{Object.keys(fd[e]).forEach(t=>{Hh.prototype[t]=fd[e][t]})});Hh.use([D9,I9]);const r_=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Va(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Ns(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:Va(t[r])&&Va(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:Ns(e[r],t[r]):e[r]=t[r]})}function a_(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function s_(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function i_(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function o_(e){e===void 0&&(e="");const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function MU(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:"swiper-wrapper ".concat(e):"swiper-wrapper"}function FU(e){let{swiper:t,slides:n,passedParams:r,changedParams:a,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:l}=e;const u=a.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:d,pagination:f,navigation:p,scrollbar:h,virtual:m,thumbs:v}=t;let T,E,C,_,N,x,S,A;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(T=!0),a.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(E=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(C=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(d.scrollbar||d.scrollbar===!1)&&h&&!h.el&&(_=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||i)&&(r.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(N=!0);const P=O=>{t[O]&&(t[O].destroy(),O==="navigation"?(t.isElement&&(t[O].prevEl.remove(),t[O].nextEl.remove()),d[O].prevEl=void 0,d[O].nextEl=void 0,t[O].prevEl=void 0,t[O].nextEl=void 0):(t.isElement&&t[O].el.remove(),d[O].el=void 0,t[O].el=void 0))};a.includes("loop")&&t.isElement&&(d.loop&&!r.loop?x=!0:!d.loop&&r.loop?S=!0:A=!0),u.forEach(O=>{if(Va(d[O])&&Va(r[O]))Object.assign(d[O],r[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in r[O]&&!r[O].enabled&&P(O);else{const k=r[O];(k===!0||k===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?k===!1&&P(O):d[O]=r[O]}}),u.includes("controller")&&!E&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),a.includes("children")&&n&&m&&d.virtual.enabled?(m.slides=n,m.update(!0)):a.includes("virtual")&&m&&d.virtual.enabled&&(n&&(m.slides=n),m.update(!0)),a.includes("children")&&n&&d.loop&&(A=!0),T&&v.init()&&v.update(!0),E&&(t.controller.control=d.controller.control),C&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),_&&(t.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(d.scrollbar.el=o),h.init(),h.updateSize(),h.setTranslate()),N&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=t.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),t.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),i.innerHTML=t.hostEl.constructor.prevButtonSvg,i.part.add("button-prev"),t.el.appendChild(i))),s&&(d.navigation.nextEl=s),i&&(d.navigation.prevEl=i),p.init(),p.update()),a.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&t.changeDirection(r.direction,!1),(x||A)&&t.loopDestroy(),(S||A)&&t.loopCreate(),t.update()}function BU(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const n={on:{}},r={},a={};Ns(n,bf),n._emitClasses=!0,n.init=!1;const s={},i=r_.map(l=>l.replace(/_/,"")),o=Object.assign({},e);return Object.keys(o).forEach(l=>{typeof e[l]>"u"||(i.indexOf(l)>=0?Va(e[l])?(n[l]={},a[l]={},Ns(n[l],e[l]),Ns(a[l],e[l])):(n[l]=e[l],a[l]=e[l]):l.search(/on[A-Z]/)===0&&typeof e[l]=="function"?t?r["".concat(l[2].toLowerCase()).concat(l.substr(3))]=e[l]:n.on["".concat(l[2].toLowerCase()).concat(l.substr(3))]=e[l]:s[l]=e[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:a,rest:s,events:r}}function UU(e,t){let{el:n,nextEl:r,prevEl:a,paginationEl:s,scrollbarEl:i,swiper:o}=e;a_(t)&&r&&a&&(o.params.navigation.nextEl=r,o.originalParams.navigation.nextEl=r,o.params.navigation.prevEl=a,o.originalParams.navigation.prevEl=a),s_(t)&&s&&(o.params.pagination.el=s,o.originalParams.pagination.el=s),i_(t)&&i&&(o.params.scrollbar.el=i,o.originalParams.scrollbar.el=i),o.init(n)}function HU(e,t,n,r,a){const s=[];if(!t)return s;const i=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(a),u=n.map(a);l.join("")!==u.join("")&&i("children"),r.length!==n.length&&i("children")}return r_.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in e&&l in t)if(Va(e[l])&&Va(t[l])){const u=Object.keys(e[l]),d=Object.keys(t[l]);u.length!==d.length?i(l):(u.forEach(f=>{e[l][f]!==t[l][f]&&i(l)}),d.forEach(f=>{e[l][f]!==t[l][f]&&i(l)}))}else e[l]!==t[l]&&i(l)}),s}const GU=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(this,arguments)}function l_(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function c_(e){const t=[];return j.Children.toArray(e).forEach(n=>{l_(n)?t.push(n):n.props&&n.props.children&&c_(n.props.children).forEach(r=>t.push(r))}),t}function $U(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return j.Children.toArray(e).forEach(r=>{if(l_(r))t.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const a=c_(r.props.children);a.length>0?a.forEach(s=>t.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:t,slots:n}}function WU(e,t,n){if(!n)return null;const r=d=>{let f=d;return d<0?f=t.length+d:f>=t.length&&(f=f-t.length),f},a=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:"".concat(n.offset,"px")}:{top:"".concat(n.offset,"px")},{from:s,to:i}=n,o=e.params.loop?-t.length:0,l=e.params.loop?t.length*2:t.length,u=[];for(let d=o;d<l;d+=1)d>=s&&d<=i&&u.push(t[r(d)]);return u.map((d,f)=>j.cloneElement(d,{swiper:e,style:a,key:d.props.virtualIndex||d.key||"slide-".concat(f)}))}function Ii(e,t){return typeof window>"u"?g.useEffect(e,t):g.useLayoutEffect(e,t)}const m0=g.createContext(null),YU=g.createContext(null),u_=g.forwardRef(function(e,t){let{className:n,tag:r="div",wrapperTag:a="div",children:s,onSwiper:i,...o}=e===void 0?{}:e,l=!1;const[u,d]=g.useState("swiper"),[f,p]=g.useState(null),[h,m]=g.useState(!1),v=g.useRef(!1),T=g.useRef(null),E=g.useRef(null),C=g.useRef(null),_=g.useRef(null),N=g.useRef(null),x=g.useRef(null),S=g.useRef(null),A=g.useRef(null),{params:P,passedParams:O,rest:k,events:w}=BU(o),{slides:D,slots:M}=$U(s),U=()=>{m(!h)};Object.assign(P.on,{_containerClasses(q,L){d(L)}});const G=()=>{Object.assign(P.on,w),l=!0;const q={...P};if(delete q.wrapperClass,E.current=new Hh(q),E.current.virtual&&E.current.params.virtual.enabled){E.current.virtual.slides=D;const L={cache:!1,slides:D,renderExternal:p,renderExternalUpdate:!1};Ns(E.current.params.virtual,L),Ns(E.current.originalParams.virtual,L)}};T.current||G(),E.current&&E.current.on("_beforeBreakpoint",U);const F=()=>{l||!w||!E.current||Object.keys(w).forEach(q=>{E.current.on(q,w[q])})},I=()=>{!w||!E.current||Object.keys(w).forEach(q=>{E.current.off(q,w[q])})};g.useEffect(()=>()=>{E.current&&E.current.off("_beforeBreakpoint",U)}),g.useEffect(()=>{!v.current&&E.current&&(E.current.emitSlidesClasses(),v.current=!0)}),Ii(()=>{if(t&&(t.current=T.current),!!T.current)return E.current.destroyed&&G(),UU({el:T.current,nextEl:N.current,prevEl:x.current,paginationEl:S.current,scrollbarEl:A.current,swiper:E.current},P),i&&!E.current.destroyed&&i(E.current),()=>{E.current&&!E.current.destroyed&&E.current.destroy(!0,!1)}},[]),Ii(()=>{F();const q=HU(O,C.current,D,_.current,L=>L.key);return C.current=O,_.current=D,q.length&&E.current&&!E.current.destroyed&&FU({swiper:E.current,slides:D,passedParams:O,changedParams:q,nextEl:N.current,prevEl:x.current,scrollbarEl:A.current,paginationEl:S.current}),()=>{I()}}),Ii(()=>{GU(E.current)},[f]);function H(){return P.virtual?WU(E.current,D,f):D.map((q,L)=>j.cloneElement(q,{swiper:E.current,swiperSlideIndex:L}))}return j.createElement(r,lc({ref:T,className:o_("".concat(u).concat(n?" ".concat(n):""))},k),j.createElement(YU.Provider,{value:E.current},M["container-start"],j.createElement(a,{className:MU(P.wrapperClass)},M["wrapper-start"],H(),M["wrapper-end"]),a_(P)&&j.createElement(j.Fragment,null,j.createElement("div",{ref:x,className:"swiper-button-prev"}),j.createElement("div",{ref:N,className:"swiper-button-next"})),i_(P)&&j.createElement("div",{ref:A,className:"swiper-scrollbar"}),s_(P)&&j.createElement("div",{ref:S,className:"swiper-pagination"}),M["container-end"]))});u_.displayName="Swiper";const d_=g.forwardRef(function(e,t){let{tag:n="div",children:r,className:a="",swiper:s,zoom:i,lazy:o,virtualIndex:l,swiperSlideIndex:u,...d}=e===void 0?{}:e;const f=g.useRef(null),[p,h]=g.useState("swiper-slide"),[m,v]=g.useState(!1);function T(N,x,S){x===f.current&&h(S)}Ii(()=>{if(typeof u<"u"&&(f.current.swiperSlideIndex=u),t&&(t.current=f.current),!(!f.current||!s)){if(s.destroyed){p!=="swiper-slide"&&h("swiper-slide");return}return s.on("_slideClass",T),()=>{s&&s.off("_slideClass",T)}}}),Ii(()=>{s&&f.current&&!s.destroyed&&h(s.getSlideClasses(f.current))},[s]);const E={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},C=()=>typeof r=="function"?r(E):r,_=()=>{v(!0)};return j.createElement(n,lc({ref:f,className:o_("".concat(p).concat(a?" ".concat(a):"")),"data-swiper-slide-index":l,onLoad:_},d),i&&j.createElement(m0.Provider,{value:E},j.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof i=="number"?i:void 0},C(),o&&!m&&j.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&j.createElement(m0.Provider,{value:E},C(),o&&!m&&j.createElement("div",{className:"swiper-lazy-preloader"})))});d_.displayName="SwiperSlide";const zU=e=>{const{className:t,comments:n}=e,[r,a]=J("main-comments",t);return n.length?y("section",{className:r(),children:[c(De,{tag:"h2",className:a("title"),children:"Реальные истории. Реальные победы"}),y("div",{className:a("slider-container"),children:[c(u_,{modules:[N9],spaceBetween:24,slidesPerView:"auto",navigation:{nextEl:".main-comments__next",prevEl:".main-comments__prev"},centeredSlides:!0,loop:!0,className:a("slider"),children:n.map((s,i)=>c(d_,{className:a("slide"),children:c(W1,{comment:s,className:a("comment"),isMain:!0})},"".concat(s.id,"-").concat(i)))}),y("div",{className:a("navigation"),children:[c(V,{theme:"blue-light",icon:"arrow--bottom",className:a("prev")}),c(V,{theme:"blue-light",icon:"arrow",className:a("next")})]})]})]}):null};const g0=e=>{var x,S;const{className:t,slides:n,direction:r="up",speed:a=3}=e,s=E_(),i=g.useRef(null),o=g.useRef(null),l=g.useRef(null),[u,d]=g.useState(0),[f,p]=g.useState(0),[h,m]=g.useState(n),[v,T]=g.useState(!1),[E,C]=J("vertical-slider",t),_=[...h,...h],N=()=>{i.current&&d(i.current.clientHeight),o.current&&p(o.current.clientHeight)};return g.useEffect(()=>(typeof ResizeObserver<"u"&&(l.current=new ResizeObserver(N),i.current&&l.current.observe(i.current),o.current&&l.current.observe(o.current)),()=>{l.current&&l.current.disconnect()}),[]),g.useEffect(()=>{N()},[(x=i.current)==null?void 0:x.clientHeight,(S=o.current)==null?void 0:S.clientHeight]),g.useEffect(()=>{if(o.current){const A=o.current.querySelectorAll("img");if(A.length===0){T(!0);return}let P=0;const O=A.length,k=()=>{P++,P===O&&(T(!0),N())};return A.forEach(w=>{w.complete?k():(w.addEventListener("load",k),w.addEventListener("error",k))}),()=>{A.forEach(w=>{w.removeEventListener("load",k),w.removeEventListener("error",k)})}}},[h]),g.useEffect(()=>{m(n)},[n]),g.useEffect(()=>{if(u>0&&f>0&&v){const A=f/2;let P=!1;const O=async()=>{P||(r==="down"?(await s.set({y:-A}),await s.start({y:0,transition:{duration:a,ease:"linear"}})):(await s.set({y:0}),await s.start({y:-A,transition:{duration:a,ease:"linear"}})),O())};return O(),()=>{P=!0,s.stop()}}},[s,u,f,a,n,v,r]),c("div",{className:E(),ref:i,children:c("div",{className:C("slider-container"),children:c(_i.div,{className:C("items-container"),animate:s,ref:o,children:_.map((A,P)=>{const O="slide-".concat(P,"-").concat(Math.random().toString(36).substr(2,9));return c("div",{className:C("slide"),children:A},O)})})})})};const VU=e=>{const{className:t,leftPhotos:n,rightPhotos:r,totalCompleted:a}=e,[s,i]=J("main-header",t),{setWindow:o,setIsOpen:l}=bn,{isAuth:u}=cn,d=()=>{l(!0),o("login")};return y("section",{className:s(),children:[c("div",{className:i("slider"),children:n.length>0&&c(g0,{slides:n.map(f=>c("img",{className:i("slider-image"),src:f.imageUrl,alt:"Фотография из комментария"})),direction:"up",speed:60})}),y("div",{className:i("info"),children:[c(De,{tag:"h1",className:i("title"),children:y(ft,{children:["Превратите свои мечты в цели и начните своё путешествие в ",c("p",{className:i("gradient"),children:"лучшую жизнь"})]})}),c("p",{className:i("description"),children:"Мы уже сделали это за вас - 100 вдохновляющих целей для яркой и успешной жизни уже в вашем профиле"}),c(V,{className:i("button"),type:u?"Link":"button",theme:"gradient",size:"medium",icon:"rocket",onClick:d,href:"/categories/all",children:"Начать путь"}),y("p",{className:i("completed"),children:["🔥 Уже выполнено:"," ",c("span",{className:i("completed-number"),children:_t(a,["цель","цели","целей"])})]})]}),c("div",{className:i("slider"),children:r.length>0&&c(g0,{slides:r.map(f=>c("img",{className:i("slider-image"),src:f.imageUrl,alt:"Фотография из комментария"})),direction:"down",speed:60})})]})};const ou=e=>{const{className:t,achievement:n}=e,[r,a]=J("achievement",t);return y("div",{className:r(),children:[c("span",{className:a("image-wrapper"),children:c("img",{className:a("image"),src:n.image,alt:n.title})}),y("div",{children:[c(De,{tag:"h4",children:n.title}),c("p",{children:n.description})]})]})};const pd=e=>{const{className:t,done:n,all:r,complexity:a}=e,[s,i]=J("progress-category",t),o=g.useRef(null);return g.useEffect(()=>{if(o.current){const l=2*Math.PI*parseFloat(o.current.getAttribute("r")||"0"),u=l-l*(n/r)*100/100;o.current.style.strokeDashoffset=u.toString()}},[n,r]),y("div",{className:s(),children:[y("div",{className:i("bar"),style:{width:"40px",height:"40px"},children:[c(me,{icon:a}),y("svg",{viewBox:"0 0 40 40",className:i("svg-container"),children:[c("circle",{className:i("outer-circle"),cx:"20",cy:"20",r:"18",fill:"none",strokeWidth:4}),n&&c("circle",{className:i("progress-indicator",{complexity:a}),cx:"20",cy:"20",r:"18",fill:"none",strokeWidth:4,ref:o,strokeDasharray:"".concat(2*Math.PI*17.5),strokeDashoffset:"0",strokeLinecap:"round",transform:"rotate(-90 20 20)"})]})]}),y("div",{className:i("wrapper"),children:[c("span",{children:rv[a]}),c("span",{className:i("account"),children:"".concat(n,"/").concat(r)})]})]})};const xo=e=>{const{className:t,totalCompletedEasy:n,totalAddedEasy:r,totalAddedHard:a,totalAddedMedium:s,totalCompletedHard:i,totalCompletedMedium:o,column:l}=e,[u,d]=J("info-100-goals",t);return y("section",{className:u(),children:[y("div",{className:d("wrapper",{column:l}),children:[c(pd,{complexity:"easy",done:n,all:r}),c(tn,{vertical:!l,height:-16,margin:l?"0":"16px 0"}),c(pd,{complexity:"medium",done:o,all:s}),c(tn,{vertical:!l,height:-16,margin:l?"0":"16px 0"}),c(pd,{complexity:"hard",done:i,all:a})]}),r+a+s>0&&y(ft,{children:[c(tn,{}),y("div",{className:d("score"),children:[c("p",{className:d("text"),children:"Общий прогресс:"}),c(Qr,{done:n+i+o,all:r+a+s,goal:!0})]})]})]})};const jU=e=>{const{className:t}=e,[n,r]=J("main-info",t);return y("section",{className:n(),children:[y("div",{className:r("item"),children:[c(me,{className:r("icon"),icon:"question-circle",width:"24px",height:"24px"}),c(De,{tag:"h2",className:r("title"),children:"Почему это меняет жизнь?"}),c("p",{children:"Ты уже знаешь, куда двигаться — благодаря чёткой структуре. С помощью отслеживания прогресса и визуализации формируешь новые привычки, которые меняют мышление и поведение. А самое главное — ты не один: наше сообщество всегда поддержит тебя."}),y("div",{className:r("example"),children:[c("h3",{className:r("info-title"),children:"Невыполненных целей в “100 целей”"}),y("span",{className:r("info-count"),children:[c(me,{icon:"star"}),"76"]})]}),c(ou,{className:r("achievement"),achievement:{id:1,title:"Путешественник 1го уровня",description:"Выполнить хотя бы 1 цель из категории «Путешествия»",image:"/svg/map.svg"}}),c(xo,{totalAddedEasy:34,totalAddedHard:33,totalAddedMedium:33,totalCompletedEasy:16,totalCompletedHard:2,totalCompletedMedium:10,column:!0,className:r("info-100-goals")})]}),y("div",{className:r("item"),children:[c(me,{className:r("icon"),icon:"rocket",width:"24px",height:"24px"}),c(De,{tag:"h3",className:r("title"),children:"100 целей на жизнь"}),c("p",{children:"Список 100 целей на жизнь стимулирует всестороннее развитие и помогает охватить все аспекты жизни, от карьерных и личных до духовных и развлекательных."})]}),y("div",{className:r("item"),children:[c(me,{className:r("icon",{apps:!0}),icon:"apps",width:"24px",height:"24px"}),c(De,{tag:"h3",className:r("title"),children:"Каталог целей"}),c("p",{children:"Хотите отслеживать прогресс и ставить перед собой другие цели? Вы обязательно сможете найти что-нибудь подходящее для вас в нашем каталоге."})]}),y("div",{className:r("item"),children:[c(me,{className:r("icon"),icon:"trophy",width:"24px",height:"24px"}),c(De,{tag:"h3",className:r("title"),children:"Список лидеров"}),c("p",{children:"Зарабатывайте достижения и соревнуйтесь с друзьями. Обойдите всех в недельном рейтинге и похвастайтесь своей новой яркой жизнью."})]})]})};const vf=e=>{const{className:t,goal:n,big:r,withBtn:a,updateGoal:s,colored:i}=e,[o,l]=J("card-main",t),u=d=>{d.preventDefault(),s&&s()};return c("section",{className:o({big:r,withBtn:a}),children:c(Ze,{to:"/goals/".concat(n.code),className:l("gradient"),children:c(bh,{img:{src:n.image,alt:n.title},category:n.category.nameEn,blacked:!i&&!n.completedByUser,withBlack:n.completedByUser,children:y("div",{className:l("info"),children:[y("div",{className:l("img-tags"),children:[n.completedByUser&&c(Cn,{icon:"done",theme:"light",classNameIcon:l("img-tag-icon-done")}),c(Cn,{text:n.category.name,category:n.category.nameEn,className:l("img-tag-category")})]}),y("div",{children:[c(De,{tag:"h3",className:l("title"),theme:"white",children:n.title}),c("p",{className:l("text"),children:n.shortDescription}),a&&y(ft,{children:[c(tn,{className:l("line")}),c(V,{className:l("btn"),icon:"done",theme:n.completedByUser?"green":"blue",onClick:u,children:"Выполнено"})]})]})]})})})})};const qU=e=>{const{className:t,buttons:n,active:r,onChange:a}=e,[s,i]=J("switch-button",t),o=l=>{r!==l&&a(l)};return c("section",{className:s(),children:n.map(l=>y("button",{className:i("button",{active:r===l.id}),onClick:()=>o(l.id),type:"button",children:[l.name,!!l.count&&c("span",{className:i("count"),children:l.count})]},l.id))})};const KU=e=>{const{className:t,goalsForDay:n,goalsForAllTime:r}=e,[a,s]=J("main-popular",t),[i,o]=g.useState("top");return y("section",{className:a(),children:[y("div",{className:s("header"),children:[c(qU,{buttons:[{id:"top",name:"Топ целей"},{id:"today",name:"Популярные сегодня"}],active:i,onChange:o}),c(V,{icon:"rocket",theme:"no-border",type:"Link",href:"/categories/all",children:"Выбрать свою цель"})]}),y("div",{className:s("content"),children:[i==="top"&&(r==null?void 0:r.map((l,u)=>c(vf,{goal:l,className:s("card",{big:u<3}),big:u<3,colored:!0},l.code))),i==="today"&&(n==null?void 0:n.map((l,u)=>c(vf,{goal:l,className:s("card",{big:u<3}),big:u<3,colored:!0},l.code)))]})]})},QU=async()=>await we("comments/popular-photos"),XU=async()=>await we("goals/popular/all-time",{auth:!0}),JU=async()=>await we("goals/popular/day",{auth:!0}),ZU=async()=>await we("comments/top-liked",{auth:!0}),eH=async()=>await we("goals/total-completed");const tH=()=>{const[e]=J("main-container"),[t,n]=g.useState(0),[r,a]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState([]),[u,d]=g.useState([]),[f,p]=g.useState(0),h=async()=>{n(_=>_+1);const C=await QU();C.success&&a(C.data.photos),n(_=>_-1)},m=async()=>{n(_=>_+1);const C=await JU();C.success&&i(C.data),n(_=>_-1)},v=async()=>{n(_=>_+1);const C=await XU();C.success&&l(C.data),n(_=>_-1)},T=async()=>{n(_=>_+1);const C=await eH();C.success&&p(C.data.totalCompletedGoals),n(_=>_-1)},E=async()=>{n(_=>_+1);const C=await ZU();C.success&&d(C.data),n(_=>_-1)};return g.useEffect(()=>{h(),m(),v(),E(),T()},[]),y(ht,{isLoading:!!t,className:e(),children:[c(VU,{leftPhotos:r.slice(0,10),rightPhotos:r.slice(10,20),totalCompleted:f}),c(KU,{goalsForDay:s,goalsForAllTime:o}),c(jU,{}),c(zU,{comments:[...u,...u]}),c(qE,{tag:"h2",title:"Что тебе интересно?"})]})},nH=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return g.useEffect(()=>{t("white"),n(e),r(!1)},[]),c(tH,{page:e})};const xs=e=>{const{className:t,goals:n,complexity:r,withBtn:a,updateGoal:s,allGoalsCompleted:i}=e,[o,l]=J("main-cards",t);return y("section",{className:o(),children:[y(De,{className:l("title"),tag:"h2",children:[c(me,{icon:r,width:"22px",height:"22px"}),rv[r]]}),y("section",{className:l("cards"),children:[n.length>0&&(n==null?void 0:n.map((u,d)=>c(vf,{goal:u,className:l("card",{big:d<3}),big:d<3,withBtn:a,updateGoal:()=>s&&s(d,r,u.code,u.completedByUser)},u.code))),i&&c("p",{className:l("empty"),children:ZN[r]})]})]})},Gh=async e=>await we("100-goals",{auth:!0,get:{user_id:e}});const rH=()=>{const[e,t]=J("main-goals"),[n,r]=g.useState(!0),[a,s]=g.useState(!1),[i,o]=g.useState(!1),[l,u]=g.useState({easyGoals:{data:[],countCompleted:0},mediumGoals:{data:[],countCompleted:0},hardGoals:{data:[],countCompleted:0}});if(g.useEffect(()=>{(async()=>{r(!0);const f=await Gh();f.success&&u(f.data),r(!1)})()},[]),g.useEffect(()=>{l.easyGoals.data.length!==0&&o(l.easyGoals.countCompleted===l.easyGoals.data.length&&l.mediumGoals.countCompleted===l.mediumGoals.data.length&&l.hardGoals.countCompleted===l.hardGoals.data.length)},[l]),!l)return null;const d=async(f,p,h,m)=>{const v=await Co(h,!m);if(v.success){const T={completedByUser:!m,totalAdded:v.data.totalAdded,totalCompleted:v.data.totalCompleted},E="".concat(p,"Goals"),C=l[E],_=C.data.findIndex(x=>x.code===h);if(_===-1)return;const N={data:[...C.data.slice(0,_),{...C.data[_],...T},...C.data.slice(_+1)],countCompleted:C.countCompleted+(m?-1:1)};u({...l,[E]:N})}};return c("main",{className:e(),children:c(ht,{isLoading:n,children:y(ft,{children:[y("div",{className:t("info"),children:[y("div",{className:t("description"),children:[c(De,{className:t("title"),tag:"h1",children:"Твои 100 целей на жизнь!"}),c("p",{children:"Сколько всего вы бы хотели сделать, увидеть, испытать за свою жизнь, но мечты постоянно откладываются? Превратите свои мечты в цели, и скоро вы заметите, как ваша жизнь изменилась. Мы уже сделали это за вас - дерзайте!"})]}),c(xo,{className:t("stats"),totalAddedEasy:l.easyGoals.data.length,totalAddedMedium:l.mediumGoals.data.length,totalAddedHard:l.hardGoals.data.length,totalCompletedEasy:l.easyGoals.countCompleted,totalCompletedMedium:l.mediumGoals.countCompleted,totalCompletedHard:l.hardGoals.countCompleted})]}),y("div",{className:t("filter"),children:[i&&y("div",{className:t("all-completed-container"),children:[c("p",{className:t("all-completed"),children:"Поздравляем! Ты достиг всего, что задумал. Но не спеши грустить — впереди ещё целый мир открытий, идей и впечатлений, которые ждут именно тебя, а мы уже готовы помочь тебе сделать следующий шаг."}),c("img",{className:t("all-completed-image"),src:"https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHYxaXJnZWF2NXB2ODVpeXF2MGFnMHBvaXU4czBoYTJtZHpwOXQzeCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/g9582DNuQppxC/giphy.gif",alt:"Наши поздравления"})]}),c(Jn,{id:"hide-completed-main",text:"Скрыть выполненные",checked:a,setChecked:s})]}),c(xs,{className:t("goals"),goals:a?l.easyGoals.data.filter(f=>!f.completedByUser):l.easyGoals.data,complexity:"easy",withBtn:!0,updateGoal:d,allGoalsCompleted:i}),c(xs,{className:t("goals"),goals:a?l.mediumGoals.data.filter(f=>!f.completedByUser):l.mediumGoals.data,complexity:"medium",withBtn:!0,updateGoal:d,allGoalsCompleted:i}),c(xs,{className:t("goals"),goals:a?l.hardGoals.data.filter(f=>!f.completedByUser):l.hardGoals.data,complexity:"hard",withBtn:!0,updateGoal:d,allGoalsCompleted:i})]})})})},b0=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return g.useEffect(()=>{t("white"),n(e),r(!1)},[]),c(rH,{page:e})};const aH=je(()=>{const[e,t]=J("not-found");return y("main",{className:e(),children:[c(De,{tag:"h1",children:"404"}),c(De,{tag:"h2",children:"Такой страницы не существует"}),c("p",{children:"Возможно страница была удалена или перемещена. Попробуйте обновить запрос"}),c(V,{className:t("link"),href:"/",type:"Link",theme:"blue",size:"medium",children:"Вернуться на главную"})]})}),sH=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt;return g.useEffect(()=>{t("white"),n(e),r(!1)},[]),c(aH,{})},iH=({page:e})=>{const{setHeader:t,setPage:n,setFull:r}=yt,{setName:a,setIsAuth:s,setAvatar:i}=cn,o=Rn(),l=u=>{Ft.set("name",u.name||""),a(u.name||""),s(!0),i(Ft.get("avatar")||""),o("/list/100-goals")};return g.useEffect(()=>{t("white"),n(e),r(!0)},[]),c(sv,{isPage:!0,openLogin:()=>o("/sign-in"),successRegistration:l})};class oH{constructor(){this.friends=[],this.friendRequests=[],this.searchResults=[],this.isLoading=!1,this.isSearching=!1,this.selectedFriend=null,this.comparison=null,this.setFriends=t=>{this.friends=t},this.setFriendRequests=t=>{this.friendRequests=t},this.setSearchResults=t=>{this.searchResults=t},this.setIsLoading=t=>{this.isLoading=t},this.setIsSearching=t=>{this.isSearching=t},this.setSelectedFriend=t=>{this.selectedFriend=t},this.setComparison=t=>{this.comparison=t},this.addFriend=t=>{this.friends.push(t)},this.removeFriend=t=>{this.friends=this.friends.filter(n=>n.id!==t)},this.addFriendRequest=t=>{this.friendRequests.push(t)},this.removeFriendRequest=t=>{this.friendRequests=this.friendRequests.filter(n=>n.requestId!==t)},this.updateSearchResultStatus=(t,n)=>{this.searchResults=this.searchResults.map(r=>r.id===t?{...r,...n}:r)},this.clearSearchResults=()=>{this.searchResults=[]},this.clearComparison=()=>{this.comparison=null},Jr(this)}get friendsCount(){return this.friends.length}get pendingRequestsCount(){return this.friendRequests.length}get isEmptyFriends(){return this.friends.length===0}get isEmptyRequests(){return this.friendRequests.length===0}get hasSearchResults(){return this.searchResults.length>0}}const rt=new oH,f_=async()=>{try{const e=await Uw();Wn.setNotifications(e.results),Wn.setUnreadCount(e.unreadCount)}catch(e){console.error("Ошибка обновления уведомлений:",e)}},lH=async()=>{const e=await we("friends",{showSuccessNotification:!1,auth:!0});if(!e.success)throw new Error(e.errors||"Не удалось получить список друзей");return e.data},cH=async()=>{const e=await we("friends/requests",{showSuccessNotification:!1,auth:!0});if(!e.success)throw new Error(e.errors||"Не удалось получить запросы на дружбу");return e.data},h_=async e=>{var n;const t=await Je("friends/send-request",{auth:!0,body:{user_id:e},success:{type:"success",title:"Успешно",message:"Запрос в друзья отправлен"},error:{type:"error",title:"Ошибка",message:""},showErrorNotification:!1});if(!t.success){const r=((n=t.data)==null?void 0:n.error)||t.errors||"Не удалось отправить запрос в друзья";throw new Error(r)}return await f_(),t.data},v0=async(e,t)=>{var r;const n=await Je("friends/respond",{auth:!0,body:{request_id:e,action:t},success:{type:"success",title:"Успешно",message:t==="accept"?"Запрос в друзья принят":"Запрос в друзья отклонен"},error:{type:"error",title:"Ошибка",message:""},showErrorNotification:!1});if(!n.success){const a=((r=n.data)==null?void 0:r.error)||n.errors||"Не удалось обработать запрос на дружбу";throw new Error(a)}return await f_(),n.data},uH=async e=>{var n;const t=await xn("friends/remove/".concat(e),{auth:!0,success:{type:"warning",title:"Выполнено",message:"Пользователь удален из друзей"},error:{type:"error",title:"Ошибка",message:""},showErrorNotification:!1});if(!t.success){const r=((n=t.data)==null?void 0:n.error)||t.errors||"Не удалось удалить друга";throw new Error(r)}return t.data},dH=async e=>{const t=await we("friends/search?query=".concat(encodeURIComponent(e)),{showSuccessNotification:!1,showErrorNotification:!1,auth:!0});if(!t.success)throw new Error(t.errors||"Не удалось выполнить поиск пользователей");return t.data},fH=async e=>{const t=await we("friends/compare/".concat(e),{showSuccessNotification:!1,auth:!0});if(!t.success)throw new Error(t.errors||"Не удалось получить сравнение с другом");return t.data};const hH=je(e=>{const{background:t,avatar:n,name:r,totalAdded:a,totalCompleted:s,page:i,id:o,totalAddedLists:l,totalCompletedLists:u,totalAchievements:d}=e,[f,p]=J("user-info"),[h,m]=g.useState(!1),v=cn.userSelf.id.toString()===o,T=rt.friends.some(N=>N.id.toString()===o),E=rt.friendRequests.some(N=>(N==null?void 0:N.id.toString())===o),C=async()=>{if(!h)try{m(!0),await h_(parseInt(o,10)),pe.addNotification({type:"success",title:"Заявка отправлена",message:"Заявка в друзья отправлена пользователю ".concat(r)})}catch(N){pe.addNotification({type:"error",title:"Ошибка",message:N instanceof Error?N.message:"Не удалось отправить заявку в друзья"})}finally{m(!1)}},_=g.useMemo(()=>[{url:"/user/".concat(o,"/showcase"),name:"Витрина",page:"isUserShowcase"},{url:"/user/".concat(o,"/100-goal"),name:"100 целей",page:"isUser100Goals"},{url:"/user/".concat(o,"/active-goals"),name:"Активные цели и списки",page:"isUserActiveGoals",count:l+a-(u+s)},{url:"/user/".concat(o,"/done-goals"),name:"Выполненные",page:"isUserDoneGoals",count:u+s},{url:"/user/".concat(o,"/achievements"),name:"Достижения",page:"isUserAchievements",count:d}],[o,d,a,l,s,u]);return y("article",{className:f(),children:[t&&c("div",{style:{backgroundImage:"url('".concat(t,"')")},className:p("bg")}),y("section",{className:p("about"),children:[c(Dr,{avatar:n,className:p("avatar"),size:"large"}),y("div",{className:p("wrapper"),children:[c(De,{tag:"h2",className:p("name"),children:r}),y("div",{className:p("right"),children:[v?c(V,{type:"Link",theme:"blue",icon:"plus",href:"/goals/create",children:"Добавить цель"}):y("div",{className:p("friend-actions"),children:[!T&&!E&&c(V,{theme:"blue",icon:"plus",onClick:h?void 0:C,disabled:h,children:h?"Отправка...":"Добавить в друзья"}),T&&c(V,{theme:"green",icon:"check",children:"В друзьях"}),E&&!T&&c(V,{theme:"blue-light",disabled:!0,children:"Заявка отправлена"})]}),c(iu,{items:[{title:"Всего целей",value:a},{title:"Выполнено",value:s}],className:p("goals")})]})]})]}),c(Bh,{tabs:_,active:i})]})});const pH=je(e=>{const{id:t}=e,[n,r]=J("user-100-goals"),{mainGoals:a,setMainGoals:s}=cn,[i,o]=g.useState(!0),l=async()=>{o(!0);const u=await Gh(t);u.success&&s(u.data),o(!1)};return g.useEffect(()=>{l()},[]),y(ht,{isLoading:i,className:n(),children:[c(xo,{className:r("stats"),totalAddedEasy:a.easyGoals.data.length,totalAddedMedium:a.mediumGoals.data.length,totalAddedHard:a.hardGoals.data.length,totalCompletedEasy:a.easyGoals.countCompleted,totalCompletedMedium:a.mediumGoals.countCompleted,totalCompletedHard:a.hardGoals.countCompleted}),c(xs,{className:r("goals"),goals:a.easyGoals.data,complexity:"easy"}),c(xs,{className:r("goals"),goals:a.mediumGoals.data,complexity:"medium"}),c(xs,{className:r("goals"),goals:a.hardGoals.data,complexity:"hard"})]})});const mH=je(e=>{const{id:t}=e,[n,r]=J("user-achievements"),[a,s]=g.useState([]),[i,o]=g.useState(!0);return g.useEffect(()=>{(async()=>{o(!0);const l=await we("achievements",{get:{user_id:t}});l.success&&s(l.data.data),o(!1)})()},[]),c(ht,{isLoading:i,className:n(),children:a.map(l=>c(ou,{className:r("achievement"),achievement:l},l.id))})});const y0=je(e=>{const{id:t,subPage:n,completed:r=!1}=e,[a]=J("user-goals"),[s,i]=g.useState([]),[o,l]=g.useState(!0);return g.useEffect(()=>{(async()=>{l(!0);const u=await vc();u.success&&i(u.data),l(!1)})()},[]),c(ht,{isLoading:o,className:a(),children:c(Rh,{userId:t,beginUrl:"/user/".concat(t,"/").concat(r?"done":"active","-goals"),completed:r,subPage:n,categories:s})})});const gH=je(e=>{const{id:t}=e,[n,r]=J("user-showcase"),[a,s]=g.useState([]),[i,o]=g.useState(!0),{mainGoals:l,setMainGoals:u}=cn,[d,f]=g.useState([]);return g.useEffect(()=>{(async()=>{o(!0);try{const[p,h,m]=await Promise.all([Gh(t),we("achievements",{get:{user_id:t}}),we("comments/".concat(t),{auth:!0})]);p.success&&u(p.data),h.success&&f(h.data.data),m.success&&s(m.data.data)}finally{o(!1)}})()},[]),y(ht,{isLoading:i,className:n(),children:[c(Y1,{comments:a,setComments:s,isUser:!0}),y("aside",{className:r("sidebar"),children:[y("div",{className:r("title"),children:[c(De,{tag:"h2",children:"100 целей"}),c(V,{theme:"blue-light",size:"small",type:"Link",href:"/user/".concat(t,"/100-goal"),children:"Смотреть все"})]}),c(xo,{className:r("stats"),totalAddedEasy:l.easyGoals.data.length,totalAddedMedium:l.mediumGoals.data.length,totalAddedHard:l.hardGoals.data.length,totalCompletedEasy:l.easyGoals.countCompleted,totalCompletedMedium:l.mediumGoals.countCompleted,totalCompletedHard:l.hardGoals.countCompleted,column:!0}),y("div",{className:r("title"),children:[c(De,{tag:"h2",children:"Достижения"}),c(V,{theme:"blue-light",size:"small",type:"Link",href:"/user/".concat(t,"/achievements"),children:"Смотреть все"})]}),d.map(p=>c(ou,{className:r("achievement"),achievement:p},p.id))]})]})}),bH=je(({page:e,subPage:t})=>{const[n]=J("user"),{userInfo:r}=cn,{id:a}=ja(),[s,i]=g.useState(!0),[o,l]=g.useState(!1);if(!a)return null;g.useEffect(()=>{(async()=>(i(!0),await If(a),o||l(!0),i(!1)))()},[a,o]);const u=()=>{switch(e){case"isUserShowcase":return c(gH,{id:a});case"isUser100Goals":return c(pH,{id:a});case"isUserActiveGoals":return c(y0,{id:a,subPage:t||""});case"isUserDoneGoals":return c(y0,{id:a,subPage:t||"",completed:!0});case"isUserAchievements":return c(mH,{id:a});default:return null}};return y("main",{className:n(),children:[c(ht,{isLoading:s,children:c(hH,{avatar:r.avatar||null,name:r.name,totalAdded:r.totalAddedGoals,totalCompleted:r.totalCompletedGoals,page:e,id:a,totalAddedLists:r.totalAddedLists,totalCompletedLists:r.totalCompletedLists,totalAchievements:r.totalAchievements,background:r.coverImage})}),u()]})}),Ca=({page:e,subPage:t})=>{const{setHeader:n,setPage:r,setFull:a}=yt;return g.useEffect(()=>{n("white"),r(e),a(!1)},[]),c(bH,{page:e,subPage:t})};const vH=je(()=>{const[e,t]=J("user-self-achievements"),[n,r]=g.useState([]),[a,s]=g.useState(!0);return g.useEffect(()=>{(async()=>{s(!0);const i=await we("achievements",{auth:!0});i.success&&r(i.data.data),s(!1)})()},[]),c(ht,{isLoading:a,className:e(),children:n.map(i=>c(ou,{className:t("achievement"),achievement:i},i.id))})}),yH=async(e="year")=>{try{return await we("users/activity",{auth:!0,get:{period:e},showErrorNotification:!0,showSuccessNotification:!1})}catch(t){return{success:!1,errors:"Не удалось загрузить данные активности"}}};const EH=({className:e,period:t="year"})=>{const[n,r]=J("activity-heatmap",e),[a,s]=g.useState(null),[i,o]=g.useState("loading"),[l,u]=g.useState(null);g.useEffect(()=>{(async()=>{o("loading");try{const A=await yH(t);A.success&&A.data?(A.data.stats&&A.data.stats.is_active_today!==void 0&&(A.data.stats.isActiveToday=A.data.stats.is_active_today),s(A.data),o("success")):o("error")}catch(A){o("error")}})()},[t]);const d=()=>{if(!a||!a.dates.length)return[];const S=new Date(a.dates[0].date),A=S.getDay()===0?6:S.getDay()-1,P={};let O=0,k=A;const w=[...a.dates].sort((U,G)=>new Date(U.date).getTime()-new Date(G.date).getTime()),D=Array(7).fill(null);return w.forEach(U=>{k===7&&(k=0,O+=1);const G="week-".concat(O);P[G]||(P[G]=Array(7).fill(null)),O===0?D[k]=U:P[G][k]=U,k+=1}),(O===0||Object.keys(P).length>0)&&(P["week-0"]=D),Object.entries(P).sort(([U],[G])=>parseInt(U.split("-")[1],10)-parseInt(G.split("-")[1],10)).map(([U,G])=>({id:U,days:G}))},f=g.useMemo(()=>d(),[a]),p=S=>{const A=[];return S.goalCount>0&&A.push(_t(S.goalCount,["цель выполнена","цели выполнено","целей выполнено"])),S.listCount>0&&A.push(_t(S.listCount,["список выполнен","списка выполнено","списков выполнено"])),S.progressCount>0&&A.push(_t(S.progressCount,["прогресс обновлен","прогресса обновлено","прогрессов обновлено"])),S.dailyCount>0&&A.push(_t(S.dailyCount,["ежедневная цель","ежедневные цели","ежедневных целей"])),S.regularCount>0&&A.push(_t(S.regularCount,["регулярная цель","регулярные цели","регулярных целей"])),A.join(", ")},h=S=>{u(S)},m=S=>new Date(S).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}),v=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],T=()=>{if(!a||!a.dates.length)return{monthPositions:[],totalWeeks:0};const{dates:S}=a,A=[...S].sort((M,U)=>new Date(M.date).getTime()-new Date(U.date).getTime()),P=d(),O=P.length,k={};return A.forEach(M=>{var q;const U=new Date(M.date),G=U.getFullYear(),F=U.getMonth(),I="".concat(G,"-").concat(F);if(!k[I]){const L=a.months.find(te=>te.month===F+1&&te.year===G);L&&(k[I]={year:G,month:F+1,monthInfo:L,weeks:new Set})}const H=(q=P.find(L=>L.days.some(te=>te&&te.date===M.date)))==null?void 0:q.id;k[I]&&H&&k[I].weeks.add(H)}),{monthPositions:Object.values(k).sort((M,U)=>M.year!==U.year?M.year-U.year:M.month-U.month).map(M=>{const U=M.weeks.size,G=U/O*100,F=[...M.weeks][0],I=P.findIndex(H=>H.id===F);return{month:M.monthInfo,startWeek:I!==-1?I:0,weekSpan:U,width:Math.max(G,5)}}),totalWeeks:O}},{monthPositions:E}=g.useMemo(()=>a?T():{monthPositions:[],totalWeeks:0},[a]),[C,_]=g.useState(window.innerWidth<=768?10:19);g.useEffect(()=>{const S=()=>{_(window.innerWidth<=768?10:19)};return window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[]);const N=(S,A,P)=>{if(!S)return c("div",{className:r("day",{empty:!0}),"data-testid":"empty-day-".concat(P,"-").concat(A)},"empty-cell-".concat(P,"-").concat(A));const O="".concat(m(S.date),": ").concat(p(S));return c("button",{className:r("day",{level:"".concat(S.level),type:S.activityType}),onClick:()=>h(S),title:O,"aria-label":O,type:"button","data-testid":"day-".concat(S.date)},"day-".concat(S.date))},x=S=>{if(!S.activities||S.activities.length===0)return c("p",{children:"Нет активности в этот день"});const A=S.activities.reduce((P,O)=>(P[O.type]||(P[O.type]=[]),P[O.type].push(O),P),{});return y("div",{className:r("activities-content"),children:[A.goal_completion&&y("div",{className:r("activity-section"),children:[y("div",{className:r("activity-header"),children:[c(me,{icon:"star",width:"16px",height:"16px",className:r("activity-icon")}),c("span",{children:_t(A.goal_completion.length,["цель выполнена","цели выполнено","целей выполнено"])})]}),c("ul",{className:r("activity-list"),children:A.goal_completion.map(P=>c("li",{className:r("activity-item"),children:P.title},"goal-".concat(P.id)))})]}),A.list_completion&&y("div",{className:r("activity-section"),children:[y("div",{className:r("activity-header"),children:[c(me,{icon:"apps",width:"16px",height:"16px",className:r("activity-icon")}),c("span",{children:_t(A.list_completion.length,["список выполнен","списка выполнено","списков выполнено"])})]}),c("ul",{className:r("activity-list"),children:A.list_completion.map(P=>c("li",{className:r("activity-item"),children:P.title},"list-".concat(P.id)))})]}),A.goal_progress&&y("div",{className:r("activity-section"),children:[y("div",{className:r("activity-header"),children:[c(me,{icon:"level",width:"16px",height:"16px",className:r("activity-icon")}),c("span",{children:_t(A.goal_progress.length,["прогресс обновлен","прогресса обновлено","прогрессов обновлено"])})]}),c("ul",{className:r("activity-list"),children:A.goal_progress.map(P=>y("li",{className:r("activity-item"),children:[y("div",{className:r("progress-info"),children:[c("span",{className:r("progress-title"),children:P.title}),P.percentageChange&&y("span",{className:r("progress-change",{positive:P.percentageChange>0}),children:[P.percentageChange>0?"+":"",P.percentageChange,"%"]})]}),P.notes&&c("div",{className:r("progress-notes"),children:P.notes})]},"progress-".concat(P.id)))})]}),A.daily_goal&&y("div",{className:r("activity-section"),children:[y("div",{className:r("activity-header"),children:[c(me,{icon:"calender",width:"16px",height:"16px",className:r("activity-icon")}),c("span",{children:_t(A.daily_goal.length,["ежедневная цель","ежедневные цели","ежедневных целей"])})]}),c("ul",{className:r("activity-list"),children:A.daily_goal.map(P=>y("li",{className:r("activity-item"),children:[c("div",{className:r("daily-info"),children:c("span",{className:r("daily-title"),children:P.title})}),P.notes&&c("div",{className:r("daily-notes"),children:P.notes})]},"daily-".concat(P.id)))})]}),A.regular_goal&&y("div",{className:r("activity-section"),children:[y("div",{className:r("activity-header"),children:[c(me,{icon:"watch",width:"16px",height:"16px",className:r("activity-icon")}),c("span",{children:_t(A.regular_goal.length,["регулярная цель","регулярные цели","регулярных целей"])})]}),c("ul",{className:r("activity-list"),children:A.regular_goal.map(P=>y("li",{className:r("activity-item"),children:[y("div",{className:r("regular-info"),children:[c("span",{className:r("regular-title"),children:P.title}),P.currentStreak&&y("span",{className:r("regular-streak"),children:["Серия: ",P.currentStreak]})]}),P.notes&&c("div",{className:r("regular-notes"),children:P.notes})]},"regular-".concat(P.id)))})]})]})};return y("div",{className:n(),children:[c(De,{className:r("title"),tag:"h2",children:"Активность выполнения целей и списков"}),c(ht,{isLoading:i==="loading",children:i==="error"?c("div",{className:r("error"),children:c("p",{children:"Не удалось загрузить данные активности"})}):a?y(ft,{children:[y("div",{className:r("stats"),children:[y("div",{className:r("stat-item"),children:[c("span",{className:r("stat-value"),children:a.stats.totalGoalsCompleted}),c("span",{className:r("stat-label"),children:_t(a.stats.totalGoalsCompleted,["цель выполнена","цели выполнено","целей выполнено"],!1)})]}),y("div",{className:r("stat-item"),children:[c("span",{className:r("stat-value"),children:a.stats.totalListsCompleted}),c("span",{className:r("stat-label"),children:_t(a.stats.totalListsCompleted,["список выполнен","списка выполнено","списков выполнено"],!1)})]}),y("div",{className:r("stat-item"),children:[c("span",{className:r("stat-value"),children:a.stats.totalProgressUpdates}),c("span",{className:r("stat-label"),children:_t(a.stats.totalProgressUpdates,["прогресс обновлен","прогресса обновлено","прогрессов обновлено"],!1)})]}),y("div",{className:r("stat-item"),children:[c("span",{className:r("stat-value"),children:a.stats.totalDailyCompleted}),c("span",{className:r("stat-label"),children:_t(a.stats.totalDailyCompleted,["ежедневная цель","ежедневных цели","ежедневных целей"],!1)})]}),y("div",{className:r("stat-item"),children:[c("span",{className:r("stat-value"),children:a.stats.totalRegularCompleted}),c("span",{className:r("stat-label"),children:_t(a.stats.totalRegularCompleted,["регулярная цель","регулярных цели","регулярных целей"],!1)})]}),y("div",{className:r("stat-item"),children:[c("span",{className:r("stat-value"),children:a.stats.currentStreak}),c("span",{className:r("stat-label"),children:"текущая серия"})]}),y("div",{className:r("stat-item"),children:[c("span",{className:r("stat-value"),children:a.stats.maxStreak}),c("span",{className:r("stat-label"),children:"макс. серия"})]}),y("div",{className:r("stat-item"),children:[y("span",{className:r("stat-value"),children:[a.stats.activityPercentage,"%"]}),c("span",{className:r("stat-label"),children:"активность"})]}),y("div",{className:r("stat-item"),children:[c("span",{className:r("stat-value",{active:a.stats.isActiveToday,inactive:!a.stats.isActiveToday}),children:a.stats.isActiveToday?"Да":"Нет"}),c("span",{className:r("stat-label"),children:"сегодня"})]})]}),y("div",{className:r("container"),children:[c("div",{className:r("months"),children:E.map(S=>S.month&&c("div",{className:r("month-label"),style:{left:"".concat(S.startWeek*C,"px"),width:"".concat(S.weekSpan*C,"px")},children:S.month.name},"month-".concat(S.month.year,"-").concat(S.month.month)))}),y("div",{className:r("grid"),children:[c("div",{className:r("weekdays"),children:v.map(S=>c("div",{className:r("weekday-label"),children:S},"weekday-".concat(S)))}),c("div",{className:r("cells"),children:f.map(S=>c("div",{className:r("week"),"data-testid":"week-".concat(S.id),children:S.days.map((A,P)=>N(A,P,S.id))},S.id))})]}),y("div",{className:r("legend"),children:[y("div",{className:r("legend-section"),children:[c("div",{className:r("legend-label"),children:"Интенсивность:"}),y("div",{className:r("legend-scale"),children:[c("div",{className:r("legend-cell",{level:"0"})}),c("div",{className:r("legend-cell",{level:"1"})}),c("div",{className:r("legend-cell",{level:"2"})}),c("div",{className:r("legend-cell",{level:"3"})}),c("div",{className:r("legend-cell",{level:"4"})})]}),c("div",{className:r("legend-label"),children:"больше"})]}),y("div",{className:r("legend-section"),children:[c("div",{className:r("legend-label"),children:"Тип активности:"}),y("div",{className:r("legend-types"),children:[y("div",{className:r("legend-type"),children:[c("div",{className:r("legend-cell",{type:"goal"})}),c("span",{className:r("legend-type-label"),children:"Цели"})]}),y("div",{className:r("legend-type"),children:[c("div",{className:r("legend-cell",{type:"progress"})}),c("span",{className:r("legend-type-label"),children:"Прогресс"})]}),y("div",{className:r("legend-type"),children:[c("div",{className:r("legend-cell",{type:"daily"})}),c("span",{className:r("legend-type-label"),children:"Ежедневные"})]}),y("div",{className:r("legend-type"),children:[c("div",{className:r("legend-cell",{type:"regular"})}),c("span",{className:r("legend-type-label"),children:"Регулярные"})]}),y("div",{className:r("legend-type"),children:[c("div",{className:r("legend-cell",{type:"mixed"})}),c("span",{className:r("legend-type-label"),children:"Смешанная"})]})]})]})]})]}),l&&y("div",{className:r("day-details"),children:[c("h3",{children:m(l.date)}),l.totalCount===0?c("p",{children:"Нет активности в этот день"}):x(l)]})]}):null})]})},_H=j.memo(EH);const TH=({timer:e})=>{var o;const[t,n]=J("goal-timer-item"),r=Rn(),a=new Date(e.deadline),s=Xr(a,"d MMMM yyyy",{locale:wh}),i=()=>{r("/goals/".concat(e.goal.code))};return y("div",{className:t({expired:e.isExpired}),children:[((o=e.goal)==null?void 0:o.image)&&c("div",{className:n("image-container"),children:c("img",{src:e.goal.image,alt:e.goal.title,className:n("image")})}),y("div",{className:n("content"),children:[c("h3",{className:n("title"),children:e.goal.title}),y("div",{className:n("timer-info"),children:[y("div",{className:n("deadline"),children:[c("span",{className:n("label"),children:"Дедлайн: "}),s]}),e.isExpired?c("div",{className:n("expired"),children:"Время истекло"}):y("div",{children:[c("span",{className:n("label"),children:"Осталось: "}),e.daysLeft," ",e.daysLeft===1?"день":e.daysLeft<5?"дня":"дней"]})]}),c(V,{theme:"blue-light",onClick:i,className:n("button"),children:"Перейти к цели"})]})]})},SH=()=>{const[e,t]=J("goal-timers"),[n,r]=g.useState([]),[a,s]=g.useState(!0),[i,o]=g.useState(!1);g.useEffect(()=>{(async()=>{try{s(!0);const d=await FB(i);d.success&&d.data?r(d.data):pe.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить таймеры"})}catch(d){console.error("Ошибка при загрузке таймеров:",d),pe.addNotification({type:"error",title:"Ошибка",message:"Произошла ошибка при загрузке таймеров"})}finally{s(!1)}})()},[i]);const l=()=>{o(u=>!u)};return y("div",{className:e(),children:[y("div",{className:t("header"),children:[c(De,{tag:"h1",className:t("title"),children:"Мои таймеры"}),c(V,{theme:"blue-light",onClick:l,className:t("toggle-button"),size:"medium",children:i?"Скрыть истекшие":"Показать истекшие"})]}),a?c("div",{className:t("loading"),children:c(ht,{isLoading:a})}):n.length>0?c("div",{className:t("list"),children:n.map((u,d)=>c(TH,{timer:u},u.id?"timer-".concat(u.id):"timer-".concat(u.goal.code,"-").concat(d)))}):y("div",{className:t("empty"),children:[c("p",{children:"У вас пока нет активных таймеров"}),c("p",{children:"Установите таймер для своих целей, чтобы не пропустить дедлайн"})]})]})};const wH=e=>{const{className:t,statistics:n}=e,[r,a]=J("user-statistics",t);return y("section",{className:r(),children:[y("div",{className:a("level"),children:[c("p",{className:a("level-text"),children:"Текущий уровень"}),y("p",{className:a("level-number"),children:[c(me,{icon:"level"}),n.currentStats.level]}),c(Qr,{done:n.currentStats.currentExperience,all:n.currentStats.nextLevelExperience,text:"".concat(n.currentStats.currentExperience,"/").concat(n.currentStats.nextLevelExperience)})]}),c(tn,{height:-16,margin:"16px 0"}),y("p",{className:a("text"),children:[c("span",{children:"Заработано очков"}),c("span",{children:n.currentStats.currentExperience})]}),y("p",{className:a("text"),children:[c("span",{children:"Следующий уровень через"}),c("span",{children:n.currentStats.nextLevelExperience-n.currentStats.currentExperience})]}),y("p",{className:a("text"),children:[c("span",{children:"Заработано за отзывы"}),c("span",{children:n.totalStats.reviewsCount})]}),y("p",{className:a("text"),children:[c("span",{children:"Выполнение целей"}),c("span",{children:n.totalStats.completedGoals})]}),y("p",{className:a("text"),children:[c("span",{children:"Достижения"}),c("span",{children:n.totalStats.achievementsCount})]}),n.totalStats.weeklyCompletedChallenges!==void 0&&y("p",{className:a("text"),children:[c("span",{children:"Еженедельные задания"}),y("span",{children:[n.totalStats.weeklyCompletedChallenges,"/",n.totalStats.totalWeeklyChallenges]})]})]})};const CH=e=>{const{className:t,weeks:n}=e,[r,a]=J("weekly-schedule",t),[s,i]=g.useState(0);return g.useEffect(()=>{let o=0;n.forEach(({completedGoals:l})=>{l>o&&(o=l)}),i(o)},[n]),y("section",{className:r(),children:[c("h3",{className:a("info-title"),children:"Выполнено целей за неделю"}),y("span",{className:a("info-count"),children:[c(me,{icon:"rocket"}),n[n.length-1].completedGoals]}),c("div",{className:a("weeks"),children:n.map(o=>y("div",{className:a("week"),children:[c("div",{className:a("column"),children:c("div",{className:a("column-active"),style:{height:"".concat(o.completedGoals/s*100,"%")}})}),c("p",{className:a("count-week"),children:o.weekNumber}),c("p",{className:a("month"),children:YB(o.startDate)})]},o.weekNumber))})]})},NH=async()=>await we("statistics",{auth:!0});const xH=je(()=>{const[e,t]=J("user-self-dashboard"),[n,r]=g.useState(null);return g.useEffect(()=>{(async()=>{const a=await NH();a.success&&r(a.data)})()},[]),y("section",{className:e(),children:[y("div",{className:t("info-wrapper"),children:[y(Ze,{to:"/list/100-goals",className:t("info"),children:[c("h3",{className:t("info-title"),children:'Невыполненных целей в "100 целей"'}),y("span",{className:t("info-count"),children:[c(me,{icon:"star"}),n&&n.hundredGoals.easy.total+n.hundredGoals.medium.total+n.hundredGoals.hard.total-n.hundredGoals.easy.completed-n.hundredGoals.medium.completed-n.hundredGoals.hard.completed]})]}),y(Ze,{to:"/leaders",className:t("info"),children:[c("h3",{className:t("info-title"),children:"Место в рейтинге недели"}),y("span",{className:t("info-count"),children:[c(me,{icon:"award"}),n==null?void 0:n.currentStats.weeklyRank]})]}),y(Ze,{to:"/user/self/active-goals",className:t("info"),children:[c("h3",{className:t("info-title"),children:"Активные цели и списки"}),y("p",{className:t("info-count-wrapper"),children:[y("span",{className:t("info-count"),children:[c(me,{icon:"rocket"}),n==null?void 0:n.currentStats.activeGoals]}),y("span",{className:t("info-count"),children:[c(me,{icon:"apps"}),n==null?void 0:n.currentStats.activeLists]})]})]}),n&&c(xo,{totalAddedEasy:n.hundredGoals.easy.total,totalAddedHard:n.hundredGoals.hard.total,totalAddedMedium:n.hundredGoals.medium.total,totalCompletedEasy:n.hundredGoals.easy.completed,totalCompletedHard:n.hundredGoals.hard.completed,totalCompletedMedium:n.hundredGoals.medium.completed,column:!0,className:t("info-100-goals")}),(n==null?void 0:n.weeklyProgress)&&c(CH,{weeks:n==null?void 0:n.weeklyProgress,className:t("weekly")}),n&&c(wH,{statistics:n})]}),c(_H,{}),c(SH,{})]})});const md=je(({className:e,id:t,text:n,value:r,setValue:a,options:s,placeholder:i="Выберите опцию",required:o=!1,disabled:l=!1})=>{const[u,d]=J("field-select",e);return y("div",{className:u(),children:[y("label",{htmlFor:t,className:d("label"),children:[n,o&&c("span",{className:d("required"),children:"*"})]}),y("select",{id:t,className:d("select"),value:r,onChange:f=>a(f.target.value),disabled:l,required:o,children:[c("option",{value:"",disabled:!0,children:i}),s.map(f=>c("option",{value:f.value,children:f.text},f.value))]})]})});const kH={AUTO_ADD_CATEGORY:["category"],AUTO_ADD_COMPLEXITY:["complexity"],AUTO_ADD_KEYWORD:["keywords"],AUTO_ADD_COMPLETED_CATEGORY:["category"],AUTO_ADD_COMPLETED_COMPLEXITY:["complexity"],AUTO_ADD_COMPLETED_KEYWORD:["keywords"],ON_COMPLETE_ADD:[],ON_COMPLETE_REMOVE:[],ON_PROGRESS_START_ADD:[],ON_PROGRESS_START_REMOVE:[],ON_DEADLINE_APPROACHING_ADD:["daysBeforeDeadline"],ON_HIGH_PROGRESS_ADD:["progressThreshold"],ON_STALLED_PROGRESS_ADD:["daysWithoutProgress"]},AH=e=>{const t=[];return e.categoryName&&t.push("Категория: ".concat(e.categoryName)),e.complexity&&t.push("Сложность: ".concat(e.complexity)),e.keywords&&t.push("Ключевые слова: ".concat(e.keywords)),e.ruleType==="ON_DEADLINE_APPROACHING_ADD"&&e.daysBeforeDeadline&&t.push("Дней до дедлайна: ".concat(e.daysBeforeDeadline)),e.ruleType==="ON_HIGH_PROGRESS_ADD"&&e.progressThreshold&&t.push("Порог прогресса: ".concat(e.progressThreshold,"%")),e.ruleType==="ON_STALLED_PROGRESS_ADD"&&e.daysWithoutProgress&&t.push("Дней без прогресса: ".concat(e.daysWithoutProgress)),t},DH=je(({className:e,folder:t,rules:n,onRulesUpdate:r})=>{const[a,s]=J("folder-rules-manager",e),[i,o]=g.useState(null),[l,u]=g.useState(!0),[d,f]=g.useState(!1),[p,h]=g.useState(!1),[m,v]=g.useState(null),[T,E]=g.useState(null),[C,_]=g.useState({folder:t.id,ruleType:"",isActive:!0,daysBeforeDeadline:7,progressThreshold:80,daysWithoutProgress:7}),N=g.useCallback(async()=>{u(!0);try{const D=await Ax();D.success&&D.data&&o(D.data)}catch(D){console.error("Ошибка загрузки параметров правил:",D)}u(!1)},[]);g.useEffect(()=>{N()},[N]);const x=()=>{_({folder:t.id,ruleType:"",isActive:!0,daysBeforeDeadline:7,progressThreshold:80,daysWithoutProgress:7})},S=async()=>{if(C.ruleType)try{(await Dx(t.id,C)).success&&(f(!1),x(),r())}catch(D){console.error("Ошибка создания правила:",D)}},A=async()=>{if(!(!(m!=null&&m.id)||!C.ruleType))try{(await Ix(t.id,m.id,C)).success&&(h(!1),v(null),x(),r())}catch(D){console.error("Ошибка обновления правила:",D)}},P=async D=>{try{(await Ox(t.id,D)).success&&(E(null),r())}catch(M){console.error("Ошибка удаления правила:",M)}},O=D=>{v(D),_({folder:D.folder,ruleType:D.ruleType,category:D.category,complexity:D.complexity,keywords:D.keywords,removeFromFolder:D.removeFromFolder,daysBeforeDeadline:D.daysBeforeDeadline||7,progressThreshold:D.progressThreshold||80,daysWithoutProgress:D.daysWithoutProgress||7,isActive:D.isActive}),h(!0)},k=()=>C.ruleType?kH[C.ruleType]||[]:[],w=()=>{var M,U,G,F,I;const D=k();return y("div",{className:s("form"),children:[c(md,{id:"rule-type",text:"Тип правила",value:C.ruleType||"",setValue:H=>_({...C,ruleType:H}),options:(i==null?void 0:i.ruleTypes.map(H=>({value:H.value,text:H.label})))||[],placeholder:"Выберите тип правила",required:!0}),C.ruleType&&c("div",{className:s("rule-description"),children:(M=i==null?void 0:i.ruleTypes.find(H=>H.value===C.ruleType))==null?void 0:M.description}),D.includes("category")&&c(md,{id:"rule-category",text:"Категория",value:((U=C.category)==null?void 0:U.toString())||"",setValue:H=>_({...C,category:Number(H)}),options:(i==null?void 0:i.categories.map(H=>({value:H.id.toString(),text:H.name})))||[],placeholder:"Выберите категорию",required:!0}),D.includes("complexity")&&c(md,{id:"rule-complexity",text:"Сложность",value:C.complexity||"",setValue:H=>_({...C,complexity:H}),options:(i==null?void 0:i.complexities.map(H=>({value:H.value,text:H.label})))||[],placeholder:"Выберите сложность",required:!0}),D.includes("keywords")&&c(Oe,{id:"rule-keywords",text:"Ключевые слова",value:C.keywords||"",setValue:H=>_({...C,keywords:H}),placeholder:"Введите слова через запятую",required:!0}),D.includes("daysBeforeDeadline")&&c(Oe,{id:"rule-days-deadline",text:"Дней до дедлайна",value:((G=C.daysBeforeDeadline)==null?void 0:G.toString())||"7",setValue:H=>_({...C,daysBeforeDeadline:Number(H)}),type:"number",required:!0,placeholder:"Введите количество дней"}),D.includes("progressThreshold")&&c(Oe,{id:"rule-progress-threshold",text:"Порог прогресса (%)",value:((F=C.progressThreshold)==null?void 0:F.toString())||"80",setValue:H=>_({...C,progressThreshold:Number(H)}),type:"number",required:!0,placeholder:"Введите порог прогресса"}),D.includes("daysWithoutProgress")&&c(Oe,{id:"rule-days-stalled",text:"Дней без прогресса",value:((I=C.daysWithoutProgress)==null?void 0:I.toString())||"7",setValue:H=>_({...C,daysWithoutProgress:Number(H)}),type:"number",required:!0,placeholder:"Введите количество дней"}),c(Jn,{id:"rule-active",text:"Активное правило",checked:C.isActive||!1,setChecked:H=>_({...C,isActive:H})}),c("div",{className:s("form-actions"),children:p?y(ft,{children:[c(V,{theme:"blue",onClick:A,disabled:!C.ruleType,children:"Сохранить изменения"}),c(V,{theme:"blue-light",onClick:()=>{h(!1),v(null),x()},children:"Отмена"})]}):y(ft,{children:[c(V,{theme:"blue",onClick:S,disabled:!C.ruleType,children:"Создать правило"}),c(V,{theme:"blue-light",onClick:()=>{f(!1),x()},children:"Отмена"})]})})]})};return l?c(ht,{isLoading:!0}):y("div",{className:a(),children:[y("div",{className:s("header"),children:[y("h3",{children:['Правила папки "',t.name,'"']}),c(V,{theme:"blue",icon:"plus",onClick:()=>f(!0),size:"medium",children:"Добавить правило"})]}),c("div",{className:s("rules-list"),children:n.length===0?y("div",{className:s("empty"),children:[c("p",{children:"У этой папки пока нет автоматических правил"}),c("p",{children:"Создайте правило, чтобы автоматизировать управление целями"})]}):c("div",{className:s("rules"),children:n.map(D=>y("div",{className:s("rule",{inactive:!D.isActive}),children:[y("div",{className:s("rule-info"),children:[c("h4",{className:s("rule-title"),children:D.ruleTypeDisplay}),c("div",{className:s("rule-details"),children:AH(D).map((M,U)=>c("span",{children:M},U))}),!D.isActive&&c("span",{className:s("inactive-badge"),children:"Неактивно"})]}),y("div",{className:s("rule-actions"),children:[c(V,{theme:"blue-light",icon:"edit",size:"small",onClick:()=>O(D),children:"Редактировать"}),c(V,{theme:"red",icon:"trash",size:"small",onClick:()=>E(D.id),children:"Удалить"})]})]},D.id))})}),c(Ls,{isOpen:d,onClose:()=>{f(!1),x()},title:"Создать новое правило",children:w()}),c(Ls,{isOpen:p,onClose:()=>{h(!1),v(null),x()},title:"Редактировать правило",children:w()}),c(Bs,{title:"Удалить правило?",isOpen:T!==null,onClose:()=>E(null),handleBtn:()=>P(T),textBtn:"Удалить",text:"Вы уверены, что хотите удалить это правило? Действие нельзя отменить.",themeBtn:"red"})]})});const IH=e=>{const{className:t,img:n,title:r,vertical:a}=e,[s,i]=J("item-goal",t);return y("section",{className:s({vertical:a}),children:[c("img",{src:n,alt:r,className:i("img")}),c("div",{className:i("info"),children:c(De,{tag:"h3",className:i("title"),children:r})})]})};const OH=je(({className:e})=>{var F;const[t,n]=J("goal-folder-manager",e),r=Rn(),{folderId:a}=ja(),[s,i]=g.useState([]),[o,l]=g.useState(null),[u,d]=g.useState([]),[f,p]=g.useState(!0),[h,m]=g.useState(!1),[v,T]=g.useState(!1),[E,C]=g.useState("goals"),[_,N]=g.useState({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1}),[x,S]=g.useState(null),A=g.useCallback(async()=>{p(!0);try{const I=await vx();I.success&&I.data&&i(I.data||[])}catch(I){console.error("Ошибка загрузки папок:",I)}p(!1)},[]),P=g.useCallback(async I=>{try{const H=await Sx(I);H.success&&H.data&&d(H.data.items||[])}catch(H){console.error("Ошибка загрузки целей папки:",H)}},[]);g.useEffect(()=>{A()},[A]),g.useEffect(()=>{if(s.length&&a){const I=Number(a),H=s.find(q=>q.id===I);H&&(l(H),P(H.id))}},[s,a,P]);const O=async()=>{if(_.name.trim())try{(await Ex(_)).success&&(await A(),m(!1),N({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1}))}catch(I){console.error("Ошибка создания папки:",I)}},k=async()=>{if(!(!o||!_.name.trim()))try{(await _x(o.id,_)).success&&(await A(),T(!1),l(null),N({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1}))}catch(I){console.error("Ошибка обновления папки:",I)}},w=async I=>{try{(await Tx(I)).success&&(await A(),(o==null?void 0:o.id)===I&&(l(null),d([]),r("/user/self/folders",{replace:!0})))}catch(H){console.error("Ошибка удаления папки:",H)}},D=async I=>{l(I),r("/user/self/folders/".concat(I.id)),await P(I.id)},M=I=>{l(I),N({name:I.name,description:I.description||"",color:I.color||"#3A89D8",icon:I.icon||"folder",is_private:I.isPrivate}),T(!0)},U=async I=>{if(o)try{(await Cx(o.id,I)).success&&(await P(o.id),await A())}catch(H){console.error("Ошибка удаления цели из папки:",H)}},G=(I,H)=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),D(H))};return f?c(ht,{isLoading:!0}):y("div",{className:t(),children:[y("div",{className:n("header"),children:[c("h2",{className:n("title"),children:"Папки целей"}),c(V,{theme:"blue",icon:"plus",onClick:()=>m(!0),size:"medium",children:"Создать папку"})]}),y("div",{className:n("content"),children:[y("div",{className:n("folders-list"),children:[y("h3",{children:["Мои папки (",s.length,")"]}),s.length===0?y("div",{className:n("empty"),children:[c("p",{children:"У вас пока нет папок для целей"}),c("p",{children:"Создайте первую папку, чтобы организовать свои цели"})]}):c("div",{className:n("folders"),children:s.map(I=>y("div",{className:n("folder",{active:(o==null?void 0:o.id)===I.id}),onClick:()=>D(I),onKeyDown:H=>G(H,I),role:"button",tabIndex:0,"aria-label":"Выбрать папку ".concat(I.name),children:[c("div",{className:n("folder-badge"),style:{backgroundColor:I.color}}),y("div",{className:n("folder-info"),children:[y("h4",{className:n("folder-name"),children:[I.name,I.isPrivate&&c("span",{className:n("private-badge"),children:"Приватная"})]}),I.description&&c("p",{className:n("folder-description"),children:I.description}),y("p",{className:n("folder-meta"),children:["Целей: ",I.goalsCount]})]}),y("div",{className:n("folder-actions"),children:[c(V,{theme:"blue-light",icon:"edit",size:"small",onClick:H=>{H.stopPropagation(),M(I)}}),c(V,{theme:"red",icon:"trash",size:"small",onClick:H=>{H.stopPropagation(),S(I)}})]})]},I.id))})]}),o&&y("div",{className:n("folder-content"),children:[y("div",{className:n("folder-header"),children:[y("h3",{children:[c("span",{className:n("folder-badge",{inline:!0}),style:{backgroundColor:o.color}}),'Папка "',o.name,'"']}),y("div",{className:n("folder-tabs"),children:[y("button",{type:"button",className:n("tab",{active:E==="goals"}),onClick:()=>C("goals"),children:["Цели (",u.length,")"]}),y("button",{type:"button",className:n("tab",{active:E==="rules"}),onClick:()=>C("rules"),children:["Правила (",((F=o.rules)==null?void 0:F.length)||0,")"]})]})]}),E==="goals"&&c("div",{className:n("tab-content"),children:u.length===0?y("div",{className:n("empty"),children:[c("p",{children:"В этой папке пока нет целей"}),c("p",{children:"Добавьте цели в папку из страницы цели"})]}):c("div",{className:n("goals"),children:u.map(I=>y("div",{className:n("goal-item"),children:[c(Ze,{to:"/goals/".concat(I.code),className:n("goal-link"),children:c(IH,{img:I.image||"/public/svg/goal-default.svg",title:I.title,className:n("goal-card")})}),c(V,{theme:"red",icon:"trash",size:"small",onClick:()=>U(I.goal),children:"Удалить из папки"})]},I.id))})}),E==="rules"&&c("div",{className:n("tab-content"),children:c(DH,{folder:o,rules:o.rules||[],onRulesUpdate:A,className:n("rules-manager")})})]})]}),c(Ls,{isOpen:h,onClose:()=>{m(!1),N({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1})},title:"Создать новую папку",children:y("div",{className:n("form"),children:[c(Oe,{id:"folder-name",text:"Название папки",value:_.name,setValue:I=>N({..._,name:I}),placeholder:"Введите название папки",required:!0}),c(Oe,{id:"folder-description",text:"Описание (необязательно)",value:_.description||"",setValue:I=>N({..._,description:I}),placeholder:"Краткое описание папки",type:"textarea"}),c("div",{className:n("color-picker"),children:["#3A89D8","#7C3AED","#10B981","#F59E0B","#EF4444","#0EA5E9","#8B5CF6","#14B8A6","#F97316"].map(I=>c("button",{type:"button",style:{backgroundColor:I},className:n("color-option",{active:_.color===I}),onClick:()=>N({..._,color:I}),"aria-label":"Выбрать цвет ".concat(I)},I))}),c(Jn,{id:"folder-private",text:"Приватная папка (видна только вам)",checked:_.is_private||!1,setChecked:I=>N({..._,is_private:I})}),y("div",{className:n("form-actions"),children:[c(V,{theme:"blue",onClick:O,disabled:!_.name.trim(),children:"Создать папку"}),c(V,{theme:"blue-light",onClick:()=>{m(!1),N({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1})},children:"Отмена"})]})]})}),c(Ls,{isOpen:v,onClose:()=>{T(!1),l(null),N({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1})},title:"Редактировать папку",children:y("div",{className:n("form"),children:[c(Oe,{id:"edit-folder-name",text:"Название папки",value:_.name,setValue:I=>N({..._,name:I}),placeholder:"Введите название папки",required:!0}),c(Oe,{id:"edit-folder-description",text:"Описание (необязательно)",value:_.description||"",setValue:I=>N({..._,description:I}),placeholder:"Краткое описание папки",type:"textarea"}),c("div",{className:n("color-picker"),children:["#3A89D8","#7C3AED","#10B981","#F59E0B","#EF4444","#0EA5E9","#8B5CF6","#14B8A6","#F97316"].map(I=>c("button",{type:"button",style:{backgroundColor:I},className:n("color-option",{active:_.color===I}),onClick:()=>N({..._,color:I}),"aria-label":"Выбрать цвет ".concat(I)},I))}),c(Jn,{id:"edit-folder-private",text:"Приватная папка (видна только вам)",checked:_.is_private||!1,setChecked:I=>N({..._,is_private:I})}),y("div",{className:n("form-actions"),children:[c(V,{theme:"blue",onClick:k,disabled:!_.name.trim(),children:"Сохранить изменения"}),c(V,{theme:"blue-light",onClick:()=>{T(!1),l(null),N({name:"",description:"",color:"#3A89D8",icon:"folder",is_private:!1})},children:"Отмена"})]})]})}),c(Bs,{title:"Удалить папку?",isOpen:x!==null,onClose:()=>S(null),handleBtn:()=>{x&&(w(x.id),S(null))},textBtn:"Удалить папку",text:'Вы уверены, что хотите удалить папку "'.concat(x==null?void 0:x.name,'"? Цели не будут удалены.'),themeBtn:"red"})]})});const PH=je(()=>{const[e,t]=J("user-self-folders");return c("section",{className:e(),children:c("div",{className:t("content"),children:c(OH,{})})})});const LH=je(({friend:e,onRemove:t,onCompare:n,showActions:r=!0})=>{const[a,s]=J("friend-card"),[i,o]=g.useState(!1),l=async()=>{try{o(!0),await uH(e.id),rt.removeFriend(e.id),t==null||t(e.id)}catch(p){pe.addNotification({type:"error",title:"Ошибка",message:p instanceof Error?p.message:"Не удалось удалить друга"})}finally{o(!1)}},u=()=>{n==null||n(e.id)},d=e.firstName&&e.lastName?"".concat(e.firstName," ").concat(e.lastName):e.username,f=p=>{try{const h=new Date(p);return Number.isNaN(h.getTime())?"Недавно":h.toLocaleDateString("ru-RU")}catch(h){return"Недавно"}};return y(ht,{isLoading:i,className:a(),children:[c("div",{className:s("avatar"),children:e.avatar?c(Dr,{size:"medium-56",avatar:e.avatar}):c("div",{className:s("avatar-placeholder"),children:d.charAt(0).toUpperCase()})}),y("div",{className:s("info"),children:[c("h3",{className:s("name"),children:d}),y("p",{className:s("username"),children:["@",e.username]}),y("p",{className:s("since"),children:["Друзья с ",f(e.createdAt)]})]}),r&&y("div",{className:s("actions"),children:[c(V,{type:"Link",theme:"blue-light",size:"small",href:"/user/".concat(e.id,"/showcase"),children:"Профиль"}),c(V,{theme:"blue-light",size:"small",onClick:u,children:"Сравнить"}),c(V,{theme:"red",size:"small",onClick:l,children:"Удалить"})]})]})});const RH=je(()=>{const[e,t]=J("friends-content");g.useEffect(()=>{(async()=>{try{rt.setIsLoading(!0);const s=(await lH()).results.map(i=>({id:i.id,username:i.username,firstName:i.firstName,lastName:i.lastName,status:i.status,createdAt:i.createdAt,avatar:i.avatar}));rt.setFriends(s)}catch(a){console.error("Ошибка при загрузке списка друзей:",a),pe.addNotification({type:"error",title:"Ошибка",message:a instanceof Error?a.message:"Не удалось загрузить список друзей"})}finally{rt.setIsLoading(!1)}})()},[]);const n=async r=>{try{rt.setIsLoading(!0);const a=await fH(r);rt.setComparison(a),pe.addNotification({type:"success",title:"Сравнение готово",message:"Данные для сравнения загружены"})}catch(a){pe.addNotification({type:"error",title:"Ошибка",message:a instanceof Error?a.message:"Не удалось получить данные для сравнения"})}finally{rt.setIsLoading(!1)}};return rt.isLoading?c("section",{className:e(),children:c("div",{className:t("loading"),children:c("p",{children:"Загрузка..."})})}):y("section",{className:e(),children:[y("div",{className:t("header"),children:[y("h1",{className:t("title"),children:["Мои друзья (",rt.friendsCount,")"]}),c("p",{className:t("subtitle"),children:"Управляйте списком друзей и сравнивайте достижения"})]}),rt.isEmptyFriends?y("div",{className:t("empty-state"),children:[c("div",{className:t("empty-icon"),children:"👥"}),c("h3",{className:t("empty-title"),children:"У вас пока нет друзей"}),c("p",{className:t("empty-text"),children:"Найдите единомышленников среди пользователей Bucket List и добавьте их в друзья"}),c(V,{theme:"blue",type:"Link",href:"/user/self/friends/search",children:"Найти друзей"})]}):c("div",{className:t("friends-list"),children:rt.friends.map(r=>c(LH,{friend:r,onCompare:n},r.id))})]})});const MH=je(({request:e})=>{const[t,n]=J("friend-request-card"),[r,a]=g.useState(!1),s=async()=>{if(!r)try{a(!0),await v0(e.requestId,"accept"),rt.removeFriendRequest(e.requestId),rt.addFriend({id:e.id,username:e.username,firstName:e.firstName,lastName:e.lastName,avatar:e.avatar,status:"accepted",createdAt:new Date().toISOString()})}catch(u){pe.addNotification({type:"error",title:"Ошибка",message:u instanceof Error?u.message:"Не удалось принять запрос"})}finally{a(!1)}},i=async()=>{if(!r)try{a(!0),await v0(e.requestId,"reject"),rt.removeFriendRequest(e.requestId)}catch(u){pe.addNotification({type:"error",title:"Ошибка",message:u instanceof Error?u.message:"Не удалось отклонить запрос"})}finally{a(!1)}},o=e.firstName&&e.lastName?"".concat(e.firstName," ").concat(e.lastName):e.username,l=e.type==="incoming";return y("div",{className:t({outgoing:!l}),children:[c("div",{className:n("avatar"),children:c(Dr,{size:"medium-56",avatar:e.avatar})}),y("div",{className:n("info"),children:[c("h3",{className:n("name"),children:o}),y("p",{className:n("username"),children:["@",e.username]}),c("p",{className:n("date"),children:new Date(e.createdAt).toLocaleDateString("ru-RU")}),!l&&c("p",{className:n("status"),children:"Заявка отправлена"})]}),y("div",{className:n("actions"),children:[c(V,{theme:"blue-light",type:"Link",href:"/user/".concat(e.id,"/showcase"),size:"small",children:"Профиль"}),l?y(ft,{children:[c(V,{theme:"green",size:"small",onClick:s,disabled:r,children:"Принять"}),c(V,{theme:"red",size:"small",onClick:i,disabled:r,children:"Отклонить"})]}):c(V,{theme:"blue-light",size:"small",disabled:!0,children:"Ожидает ответа"})]})]})});const FH=je(()=>{const[e,t]=J("friends-requests");return g.useEffect(()=>{(async()=>{try{rt.setIsLoading(!0);const r=await cH();rt.setFriendRequests(r.results)}catch(r){console.error("Ошибка при загрузке заявок в друзья:",r),pe.addNotification({type:"error",title:"Ошибка",message:r instanceof Error?r.message:"Не удалось загрузить заявки в друзья"})}finally{rt.setIsLoading(!1)}})()},[]),rt.isLoading?c("section",{className:e(),children:c("div",{className:t("loading"),children:c("p",{children:"Загрузка..."})})}):y("section",{className:e(),children:[y("div",{className:t("header"),children:[y("h1",{className:t("title"),children:["Заявки в друзья (",rt.pendingRequestsCount,")"]}),c("p",{className:t("subtitle"),children:"Принимайте или отклоняйте входящие заявки в друзья"})]}),rt.isEmptyRequests?y("div",{className:t("empty-state"),children:[c("div",{className:t("empty-icon"),children:"📮"}),c("h3",{className:t("empty-title"),children:"Нет новых заявок"}),c("p",{className:t("empty-text"),children:"Когда другие пользователи отправят вам заявки в друзья, они появятся здесь"})]}):c("div",{className:t("requests-list"),children:rt.friendRequests.map(n=>c(MH,{request:n},n.requestId))})]})});const BH=je(({placeholder:e="Поиск пользователей..."})=>{const[t,n]=J("user-search"),[r,a]=g.useState(""),[s,i]=g.useState({}),o=g.useCallback(No(async f=>{if(f.trim().length<3){rt.clearSearchResults();return}try{rt.setIsSearching(!0);const p=await dH(f);rt.setSearchResults(p.results)}catch(p){pe.addNotification({type:"error",title:"Ошибка поиска",message:p instanceof Error?p.message:"Не удалось выполнить поиск"})}finally{rt.setIsSearching(!1)}},300),[]),l=f=>{a(f),o(f)},u=async f=>{try{i(p=>({...p,[f]:!0})),await h_(f),rt.updateSearchResultStatus(f,{hasPendingRequest:!0,isRequestFromMe:!0})}catch(p){pe.addNotification({type:"error",title:"Ошибка",message:p instanceof Error?p.message:"Не удалось отправить запрос"})}finally{i(p=>({...p,[f]:!1}))}},d=f=>{const p=f.firstName&&f.lastName?"".concat(f.firstName," ").concat(f.lastName):f.username,h=s[f.id]||f.isFriend||f.hasPendingRequest;let m="Добавить в друзья",v="blue-light";return f.isFriend?(m="Уже друзья",v="secondary"):f.hasPendingRequest&&(m=f.isRequestFromMe?"Запрос отправлен":"Ответить на запрос",v="secondary"),y("div",{className:n("result-card"),children:[c("div",{className:n("result-avatar"),children:f.avatar?c("img",{src:f.avatar,alt:p}):c("div",{className:n("result-avatar-placeholder"),children:p.charAt(0).toUpperCase()})}),y("div",{className:n("result-info"),children:[c("h4",{className:n("result-name"),children:p}),y("p",{className:n("result-username"),children:["@",f.username]}),c("p",{className:n("result-email"),children:f.email})]}),y("div",{className:n("result-actions"),children:[c(V,{theme:"blue-light",size:"small",type:"Link",href:"/user/".concat(f.id,"/showcase"),children:"Профиль"}),c(V,{theme:v,size:"small",onClick:()=>u(f.id),disabled:h,children:m})]})]},f.id)};return y("div",{className:t(),children:[c("div",{className:n("input-container"),children:c(Oe,{value:r,setValue:l,placeholder:e,id:"user-search-input"})}),c(ht,{isLoading:rt.isSearching}),rt.hasSearchResults&&y("div",{className:n("results"),children:[y("h3",{className:n("results-title"),children:["Найдено пользователей: ",rt.searchResults.length]}),c("div",{className:n("results-list"),children:rt.searchResults.map(d)})]}),r.trim().length>=2&&!rt.isSearching&&!rt.hasSearchResults&&c("div",{className:n("no-results"),children:c("p",{children:"Пользователи не найдены"})})]})});const UH=je(()=>{const[e,t]=J("friends-search");return y("section",{className:e(),children:[y("div",{className:t("header"),children:[c(De,{tag:"h1",className:t("title"),children:"Поиск пользователей"}),c("p",{className:t("subtitle"),children:"Найдите единомышленников и отправьте им заявки в друзья"})]}),c("div",{className:t("search-container"),children:c(BH,{})}),rt.searchResults.length>0&&y("div",{className:t("tips"),children:[c("h3",{className:t("tips-title"),children:"Полезные советы:"}),y("ul",{className:t("tips-list"),children:[c("li",{children:"Просмотрите профиль пользователя перед отправкой заявки"}),c("li",{children:"Добавляйте пользователей с похожими целями и интересами"}),c("li",{children:"Сравнивайте свои достижения с друзьями для мотивации"})]})]})]})});const HH=je(({subPage:e="friends"})=>{const[t,n]=J("user-self-friends"),r=()=>{switch(e){case"requests":return c(FH,{});case"search":return c(UH,{});default:return c(RH,{})}},a=g.useMemo(()=>[{url:"/user/self/friends",name:"Мои друзья",page:"friends"},{url:"/user/self/friends/requests",name:"Заявки",page:"requests"},{url:"/user/self/friends/search",name:"Поиск",page:"search"}],[]);return y("section",{className:t(),children:[y("div",{className:n("header"),children:[c("h1",{className:n("title"),children:"Друзья"}),c(B1,{className:n("switch"),buttons:a,active:e})]}),c("div",{className:n("content"),children:r()})]})});const E0=je(e=>{const{subPage:t,completed:n}=e,[r,a]=J("user-self-goals"),[s,i]=g.useState(!0),[o,l]=g.useState([]);return g.useEffect(()=>{(async()=>{i(!0);const u=await vc();u.success&&l(u.data),i(!1)})()},[]),y(ht,{isLoading:s,className:r(),children:[c(De,{tag:"h2",className:a("title"),children:n?"Выполненные цели и списки":"Все активные цели и списки"}),c(Rh,{userId:Ft.get("user-id"),beginUrl:"/user/self/".concat(n?"done":"active","-goals"),completed:n,subPage:t,columns:"3",categories:o})]})});const GH=je(()=>{const[e,t]=J("user-self-progress"),[n,r]=g.useState([]),[a,s]=g.useState(!0),{setIsOpen:i,setWindow:o,setModalProps:l}=bn,u=async()=>{s(!0);try{const m=await Nx();m.success&&m.data&&r(m.data)}catch(m){console.error("Ошибка загрузки целей в процессе:",m)}s(!1)};g.useEffect(()=>{u()},[]);const d=m=>{o("progress-update"),i(!0),l({goalId:m.goal,goalTitle:m.goalTitle,currentProgress:m,onProgressUpdate:v=>{v.progressPercentage>=100?r(n.filter(T=>T.id!==v.id)):r(n.map(T=>T.id===v.id?v:T))},onGoalCompleted:()=>{r(n.filter(v=>v.id!==m.id))}})},f=async m=>{try{(await lv(m.goal,{progress_percentage:100,daily_notes:m.dailyNotes||"",is_working_today:!0})).success&&r(n.filter(T=>T.id!==m.id))}catch(v){console.error("Ошибка отметки цели как выполненной:",v)}},p=m=>m===0?"var(--color-primary)":m<25?"var(--color-red-1)":m<50?"var(--color-orange)":m<75?"var(--color-yellow)":"var(--color-green-1)",h=m=>m===0?"Начали выполнение":m<25?"Только начали":m<50?"В процессе":m<75?"Хороший прогресс":"Почти готово";return a?c(ht,{isLoading:!0}):c("section",{className:e(),children:y("div",{className:t("content"),children:[y("div",{className:t("header"),children:[c("h1",{className:t("title"),children:"Прогресс целей"}),c("p",{className:t("description"),children:"Здесь отображаются ваши цели, которые находятся в процессе выполнения"})]}),n.length===0?y("div",{className:t("empty"),children:[c("div",{className:t("empty-icon"),children:"📈"}),c("h3",{className:t("empty-title"),children:"Нет целей в процессе"}),c("p",{className:t("empty-text"),children:"Начните выполнение целей, чтобы отслеживать прогресс здесь"}),c(V,{theme:"blue",type:"Link",href:"/user/self/active-goals",children:"Перейти к активным целям"})]}):c("div",{className:t("goals"),children:n.map(m=>y("div",{className:t("goal-card"),children:[y("div",{className:t("goal-header"),children:[m.goalImage&&c("img",{src:m.goalImage,alt:m.goalTitle,className:t("goal-image")}),y("div",{className:t("goal-info"),children:[c("h3",{className:t("goal-title"),children:c(Ze,{to:"/goals/".concat(m.goalCode),className:t("goal-link"),children:m.goalTitle})}),y("span",{className:t("goal-category"),children:[m.goalCategory," (",m.goalCategoryNameEn,")"]})]})]}),y("div",{className:t("progress-section"),children:[y("div",{className:t("progress-header"),children:[c("span",{className:t("progress-label"),children:h(m.progressPercentage)}),y("span",{className:t("progress-value"),style:{color:p(m.progressPercentage)},children:[m.progressPercentage,"%"]})]}),c("button",{type:"button",className:t("progress-wrapper"),onClick:()=>d(m),style:{cursor:"pointer",border:"none",background:"transparent",padding:0,width:"100%","--progress-color":p(m.progressPercentage)},"aria-label":"Изменить прогресс",children:c(Qr,{done:m.progressPercentage,all:100,goal:!0,className:t("progress-bar")})})]}),m.dailyNotes&&c("div",{className:t("notes"),children:c("p",{className:t("notes-text"),children:m.dailyNotes})}),y("div",{className:t("goal-meta"),children:[y("span",{className:t("last-updated"),children:["Обновлено: ",new Date(m.lastUpdated).toLocaleDateString("ru-RU")]}),m.isWorkingToday&&c("span",{className:t("working-badge"),children:"Работаю сегодня"})]}),y("div",{className:t("goal-actions"),children:[c(V,{theme:"blue-light",onClick:()=>d(m),icon:"trending-up",size:"small",children:"Изменить прогресс"}),c(V,{theme:"green",onClick:()=>f(m),icon:"check",size:"small",children:"Отметить выполненной"})]}),m.recentEntries&&m.recentEntries.length>0&&y("div",{className:t("recent-activity"),children:[c("h4",{className:t("activity-title"),children:"Последние изменения"}),c("div",{className:t("activity-list"),children:m.recentEntries.map(v=>y("div",{className:t("activity-item"),children:[c("span",{className:t("activity-date"),children:new Date(v.date).toLocaleDateString("ru-RU")}),y("span",{className:t("activity-change",{positive:v.percentageChange>0,negative:v.percentageChange<0}),children:[v.percentageChange>0?"+":"",v.percentageChange,"%"]}),v.notes&&c("span",{className:t("activity-notes"),children:v.notes})]},v.id))})]})]},m.id))})]})})});const $H=({goal:e,statistics:t,onProgressUpdate:n,className:r})=>{const[a,s]=J("regular-goal-card",r),i=async()=>{if(!(!e.regularConfig||!t.canCompleteToday))try{const d=await Gf({regular_goal_id:e.regularConfig.id,completed:!0,notes:""});d.success&&d.data&&n&&n()}catch(d){console.error("Ошибка отметки прогресса:",d)}},o=()=>{if(!e.regularConfig)return"";switch(e.regularConfig.frequency){case"daily":return"Ежедневно";case"weekly":return"".concat(e.regularConfig.weeklyFrequency," раз в неделю");case"custom":return"Пользовательский график";default:return""}},u=(()=>{if(!t.currentPeriodProgress)return null;const d=t.currentPeriodProgress;return d.type==="daily"?{completed:d.completedToday||!1,text:d.completedToday?"Выполнено сегодня":"Не выполнено сегодня",streak:d.streak||0}:d.type==="weekly"?{completed:(d.currentWeekCompletions||0)>=(d.requiredPerWeek||1),text:"".concat(d.currentWeekCompletions||0," из ").concat(d.requiredPerWeek||1," на этой неделе"),progress:d.weekProgress||0}:null})();return y("div",{className:a(),children:[y("div",{className:s("header"),children:[c("img",{src:e.image,alt:e.title,className:s("image")}),y("div",{className:s("info"),children:[c("h3",{className:s("title"),children:e.title}),c("p",{className:s("frequency"),children:o()}),c("div",{className:s("category"),children:e.category.name})]})]}),y("div",{className:s("progress-section"),children:[u&&c("div",{className:s("current-progress"),children:u.progress!==void 0?y(ft,{children:[y("div",{className:s("progress-header"),children:[c("span",{className:s("progress-text"),children:u.text}),y("span",{className:s("progress-percent"),children:[Math.round(u.progress),"%"]})]}),c(Qr,{done:u.progress,all:100,goal:!0})]}):y("div",{className:s("daily-status",{completed:u.completed}),children:[c(me,{icon:u.completed?"done":"clock",className:s("status-icon")}),c("span",{children:u.text}),u.streak>0&&y("span",{className:s("streak"),children:["Серия: ",u.streak]})]})}),y("div",{className:s("stats"),children:[y("div",{className:s("stat"),children:[c("span",{className:s("stat-value"),children:t.totalCompletions}),c("span",{className:s("stat-label"),children:"Выполнений"})]}),y("div",{className:s("stat"),children:[c("span",{className:s("stat-value"),children:t.currentStreak}),c("span",{className:s("stat-label"),children:"Текущая серия"})]}),y("div",{className:s("stat"),children:[y("span",{className:s("stat-value"),children:[Math.round(t.completionPercentage),"%"]}),c("span",{className:s("stat-label"),children:"Общий прогресс"})]})]})]}),y("div",{className:s("actions"),children:[t.canCompleteToday&&c(V,{theme:"green",onClick:i,icon:"plus",className:s("mark-button"),children:"Отметить сегодня"}),c(V,{type:"Link",theme:"blue-light",href:"/goals/".concat(e.code),className:s("view-button"),children:"Подробнее"})]})]})};const WH=je(({className:e})=>{const[t,n]=J("user-self-regular",e),[r,a]=g.useState([]),[s,i]=g.useState(!0),o=async()=>{i(!0);try{const E=await kx();E.success&&E.data&&a(E.data)}catch(E){pe.addNotification({type:"error",title:"Ошибка",message:"Не удалось загрузить регулярные цели"})}finally{i(!1)}};g.useEffect(()=>{o()},[]);const l=async E=>{try{const C=await Gf({regular_goal_id:E,completed:!0,notes:""});C.success&&C.data&&(await o(),pe.addNotification({type:"success",title:"Успешно!",message:"Прогресс отмечен"}))}catch(C){pe.addNotification({type:"error",title:"Ошибка",message:"Не удалось отметить прогресс"})}},u=()=>r.filter(E=>E&&E.isActive&&!E.isPaused),d=()=>r.filter(E=>{var C;return E&&((C=E.currentPeriodProgress)==null?void 0:C.completedToday)}),f=()=>r.filter(E=>{var C;return E&&E.canCompleteToday&&!((C=E.currentPeriodProgress)!=null&&C.completedToday)}),p=()=>r.filter(E=>E&&E.nextTargetDate&&!E.canCompleteToday),h=E=>({id:E.regularGoalData.goal,title:E.regularGoalData.goalTitle,description:"",shortDescription:"",category:{id:0,name:E.regularGoalData.goalCategory,nameEn:E.regularGoalData.goalCategory,parentCategory:null},complexity:"medium",image:E.regularGoalData.goalImage,code:E.regularGoalData.goalCode,estimatedTime:void 0,createdBy:{id:E.user,username:E.userUsername,avatar:void 0},location:void 0,totalAdded:0,totalCompleted:0,addedByUser:!0,completedByUser:!1,createdAt:E.regularGoalData.createdAt,addedFromList:[],timer:null,userVisitedLocation:!1,progressPercentage:0,isCompletedByUser:!1,isDailyGoal:!1,userFolders:[],regularConfig:{id:E.regularGoal,frequency:E.regularGoalData.frequency,weeklyFrequency:E.regularGoalData.weeklyFrequency,customSchedule:E.regularGoalData.customSchedule,durationType:E.regularGoalData.durationType,durationValue:E.regularGoalData.durationValue,endDate:E.regularGoalData.endDate,allowSkipDays:E.regularGoalData.allowSkipDays,resetOnSkip:E.regularGoalData.resetOnSkip,isActive:E.regularGoalData.isActive,createdAt:E.regularGoalData.createdAt,statistics:E},createdByUser:!0,isCanEdit:!1,totalComments:0,totalLists:0,categoryRank:1,totalAdditions:0}),m=(E,C,_)=>E.length===0?y("div",{className:n("empty-section"),children:[c("h3",{className:n("section-title"),children:C}),c("p",{className:n("empty-message"),children:_})]}):y("div",{className:n("section"),children:[y("h3",{className:n("section-title"),children:[C," ",y("span",{className:n("count"),children:["(",E.length,")"]})]}),c("div",{className:n("goals-grid"),children:E.map(N=>{const x=h(N);return c($H,{goal:x,statistics:N,onProgressUpdate:()=>l(N.regularGoal)},N.regularGoal)})})]}),T=(()=>{if(r.length===0)return null;const E=r.filter(S=>S&&typeof S.totalCompletions=="number"&&typeof S.completionPercentage=="number"&&typeof S.currentStreak=="number"&&typeof S.maxStreak=="number");if(E.length===0)return null;const C=E.reduce((S,A)=>S+A.totalCompletions,0),_=E.reduce((S,A)=>S+A.completionPercentage,0)/E.length,N=E.filter(S=>S.currentStreak>0).length,x=Math.max(...E.map(S=>S.maxStreak));return{totalCompletions:C,averageCompletion:_,activeStreaks:N,maxStreak:x,totalGoals:E.length}})();return s?c(ht,{isLoading:!0}):r.length===0?y("div",{className:t(),children:[c(De,{tag:"h1",className:n("title"),children:"Регулярные цели"}),y("div",{className:n("empty-state"),children:[c("p",{children:"У вас пока нет регулярных целей."}),c("p",{children:"Создайте цель и настройте для неё регулярность выполнения!"})]})]}):y("div",{className:t(),children:[y("div",{className:n("header"),children:[c(De,{tag:"h1",className:n("title"),children:"Регулярные цели"}),T&&y("div",{className:n("overall-stats"),children:[y("div",{className:n("stat-card"),children:[c("span",{className:n("stat-value"),children:T.totalGoals}),c("span",{className:n("stat-label"),children:"Активных целей"})]}),y("div",{className:n("stat-card"),children:[c("span",{className:n("stat-value"),children:T.totalCompletions}),c("span",{className:n("stat-label"),children:"Всего выполнений"})]}),y("div",{className:n("stat-card"),children:[y("span",{className:n("stat-value"),children:[Math.round(T.averageCompletion),"%"]}),c("span",{className:n("stat-label"),children:"Средний прогресс"})]}),y("div",{className:n("stat-card"),children:[c("span",{className:n("stat-value"),children:T.maxStreak}),c("span",{className:n("stat-label"),children:"Лучшая серия"})]})]})]}),y("div",{className:n("content"),children:[m(f(),"Нужно выполнить сегодня","Все цели на сегодня выполнены!"),m(d(),"Выполнено сегодня","Пока ничего не выполнено сегодня"),m(p(),"Запланированные","Нет запланированных целей"),m(u(),"Все активные цели","Нет активных регулярных целей")]})]})}),YH=async()=>await xn("users/avatar/delete",{auth:!0}),zH=async e=>await Je("users/avatar/upload",{body:e,auth:!0,file:!0}),VH=async e=>await Je("users/cover/upload",{body:e,auth:!0,file:!0}),jH=async e=>await sr("users/update-profile",{body:e,auth:!0}),sl=[{name:"Афганистан",value:"AF"},{name:"Аландские острова",value:"AX"},{name:"Албания",value:"AL"},{name:"Алжир",value:"DZ"},{name:"Американское Самоа",value:"AS"},{name:"Андорра",value:"AD"},{name:"Ангола",value:"AO"},{name:"Ангилья",value:"AI"},{name:"Антарктика",value:"AQ"},{name:"Антигуа и Барбуда",value:"AG"},{name:"Аргентина",value:"AR"},{name:"Армения",value:"AM"},{name:"Аруба",value:"AW"},{name:"Австралия",value:"AU"},{name:"Австрия",value:"AT"},{name:"Азербайджан",value:"AZ"},{name:"Багамы",value:"BS"},{name:"Бахрейн",value:"BH"},{name:"Бангладеш",value:"BD"},{name:"Барбадос",value:"BB"},{name:"Беларусь",value:"BY"},{name:"Бельгия",value:"BE"},{name:"Белиз",value:"BZ"},{name:"Бенин",value:"BJ"},{name:"Бермудские острова",value:"BM"},{name:"Бутан",value:"BT"},{name:"Боливия",value:"BO"},{name:"Бонэйр, Синт-Эстатиус и Саба",value:"BQ"},{name:"Босния и Герцеговина",value:"BA"},{name:"Ботсвана",value:"BW"},{name:"Буве",value:"BV"},{name:"Бразилия",value:"BR"},{name:"Британская территория в Индийском океане",value:"IO"},{name:"Бруней",value:"BN"},{name:"Болгария",value:"BG"},{name:"Буркина-Фасо",value:"BF"},{name:"Бурунди",value:"BI"},{name:"Камбоджа",value:"KH"},{name:"Камерун",value:"CM"},{name:"Канада",value:"CA"},{name:"Кабо-Верде",value:"CV"},{name:"Каймановы острова",value:"KY"},{name:"Центральноафриканская Республика",value:"CF"},{name:"Чад",value:"TD"},{name:"Чили",value:"CL"},{name:"Китай",value:"CN"},{name:"Остров Рождества",value:"CX"},{name:"Кокосовые (Килинг) острова",value:"CC"},{name:"Колумбия",value:"CO"},{name:"Коморы",value:"KM"},{name:"Конго",value:"CG"},{name:"Конго (Демократическая Республика)",value:"CD"},{name:"Острова Кука",value:"CK"},{name:"Коста-Рика",value:"CR"},{name:"Кот-д'Ивуар",value:"CI"},{name:"Хорватия",value:"HR"},{name:"Куба",value:"CU"},{name:"Кюрасао",value:"CW"},{name:"Кипр",value:"CY"},{name:"Чехия",value:"CZ"},{name:"Дания",value:"DK"},{name:"Джибути",value:"DJ"},{name:"Доминика",value:"DM"},{name:"Доминиканская Республика",value:"DO"},{name:"Эквадор",value:"EC"},{name:"Египет",value:"EG"},{name:"Сальвадор",value:"SV"},{name:"Экваториальная Гвинея",value:"GQ"},{name:"Эритрея",value:"ER"},{name:"Эстония",value:"EE"},{name:"Эфиопия",value:"ET"},{name:"Фолклендские (Мальвинские) острова",value:"FK"},{name:"Фарерские острова",value:"FO"},{name:"Фиджи",value:"FJ"},{name:"Финляндия",value:"FI"},{name:"Франция",value:"FR"},{name:"Французская Гвиана",value:"GF"},{name:"Французская Полинезия",value:"PF"},{name:"Французские Южные территории",value:"TF"},{name:"Габон",value:"GA"},{name:"Гамбия",value:"GM"},{name:"Грузия",value:"GE"},{name:"Германия",value:"DE"},{name:"Гана",value:"GH"},{name:"Гибралтар",value:"GI"},{name:"Греция",value:"GR"},{name:"Гренландия",value:"GL"},{name:"Гренада",value:"GD"},{name:"Гваделупа",value:"GP"},{name:"Гуам",value:"GU"},{name:"Гватемала",value:"GT"},{name:"Гернси",value:"GG"},{name:"Гвинея",value:"GN"},{name:"Гвинея-Бисау",value:"GW"},{name:"Гайана",value:"GY"},{name:"Гаити",value:"HT"},{name:"Остров Херд и острова Макдональд",value:"HM"},{name:"Ватикан",value:"VA"},{name:"Гондурас",value:"HN"},{name:"Гонконг",value:"HK"},{name:"Венгрия",value:"HU"},{name:"Исландия",value:"IS"},{name:"Индия",value:"IN"},{name:"Индонезия",value:"ID"},{name:"Иран",value:"IR"},{name:"Ирак",value:"IQ"},{name:"Ирландия",value:"IE"},{name:"Остров Мэн",value:"IM"},{name:"Израиль",value:"IL"},{name:"Италия",value:"IT"},{name:"Ямайка",value:"JM"},{name:"Япония",value:"JP"},{name:"Джерси",value:"JE"},{name:"Иордания",value:"JO"},{name:"Казахстан",value:"KZ"},{name:"Кения",value:"KE"},{name:"Кирибати",value:"KI"},{name:"Северная Корея",value:"KP"},{name:"Южная Корея",value:"KR"},{name:"Кувейт",value:"KW"},{name:"Киргизия",value:"KG"},{name:"Лаос",value:"LA"},{name:"Латвия",value:"LV"},{name:"Ливан",value:"LB"},{name:"Лесото",value:"LS"},{name:"Либерия",value:"LR"},{name:"Ливия",value:"LY"},{name:"Лихтенштейн",value:"LI"},{name:"Литва",value:"LT"},{name:"Люксембург",value:"LU"},{name:"Макао",value:"MO"},{name:"Македония",value:"MK"},{name:"Мадагаскар",value:"MG"},{name:"Малави",value:"MW"},{name:"Малайзия",value:"MY"},{name:"Мальдивы",value:"MV"},{name:"Мали",value:"ML"},{name:"Мальта",value:"MT"},{name:"Маршалловы острова",value:"MH"},{name:"Мартиника",value:"MQ"},{name:"Мавритания",value:"MR"},{name:"Маврикий",value:"MU"},{name:"Майотта",value:"YT"},{name:"Мексика",value:"MX"},{name:"Микронезия",value:"FM"},{name:"Молдавия",value:"MD"},{name:"Монако",value:"MC"},{name:"Монголия",value:"MN"},{name:"Черногория",value:"ME"},{name:"Монтсеррат",value:"MS"},{name:"Марокко",value:"MA"},{name:"Мозамбик",value:"MZ"},{name:"Мьянма",value:"MM"},{name:"Намибия",value:"NA"},{name:"Науру",value:"NR"},{name:"Непал",value:"NP"},{name:"Нидерланды",value:"NL"},{name:"Новая Каледония",value:"NC"},{name:"Новая Зеландия",value:"NZ"},{name:"Никарагуа",value:"NI"},{name:"Нигер",value:"NE"},{name:"Нигерия",value:"NG"},{name:"Ниуэ",value:"NU"},{name:"Норфолк",value:"NF"},{name:"Северные Марианские острова",value:"MP"},{name:"Норвегия",value:"NO"},{name:"Оман",value:"OM"},{name:"Пакистан",value:"PK"},{name:"Палау",value:"PW"},{name:"Палестина",value:"PS"},{name:"Панама",value:"PA"},{name:"Папуа — Новая Гвинея",value:"PG"},{name:"Парагвай",value:"PY"},{name:"Перу",value:"PE"},{name:"Филиппины",value:"PH"},{name:"Острова Питкэрн",value:"PN"},{name:"Польша",value:"PL"},{name:"Португалия",value:"PT"},{name:"Пуэрто-Рико",value:"PR"},{name:"Катар",value:"QA"},{name:"Реюньон",value:"RE"},{name:"Румыния",value:"RO"},{name:"Россия",value:"RU"},{name:"Руанда",value:"RW"},{name:"Сен-Бартелеми",value:"BL"},{name:"Остров Святой Елены",value:"SH"},{name:"Сент-Китс и Невис",value:"KN"},{name:"Сент-Люсия",value:"LC"},{name:"Сен-Мартен",value:"MF"},{name:"Сен-Пьер и Микелон",value:"PM"},{name:"Сент-Винсент и Гренадины",value:"VC"},{name:"Самоа",value:"WS"},{name:"Сан-Марино",value:"SM"},{name:"Сан-Томе и Принсипи",value:"ST"},{name:"Саудовская Аравия",value:"SA"},{name:"Сенегал",value:"SN"},{name:"Сербия",value:"RS"},{name:"Сейшельские острова",value:"SC"},{name:"Сьерра-Леоне",value:"SL"},{name:"Сингапур",value:"SG"},{name:"Синт-Мартен",value:"SX"},{name:"Словакия",value:"SK"},{name:"Словения",value:"SI"},{name:"Соломоновы острова",value:"SB"},{name:"Сомали",value:"SO"},{name:"Южно-Африканская Республика",value:"ZA"},{name:"Южная Георгия и Южные Сандвичевы острова",value:"GS"},{name:"Южный Судан",value:"SS"},{name:"Испания",value:"ES"},{name:"Шри-Ланка",value:"LK"},{name:"Судан",value:"SD"},{name:"Суринам",value:"SR"},{name:"Шпицберген и Ян-Майен",value:"SJ"},{name:"Свазиленд",value:"SZ"},{name:"Швеция",value:"SE"},{name:"Швейцария",value:"CH"},{name:"Сирия",value:"SY"},{name:"Тайвань",value:"TW"},{name:"Таджикистан",value:"TJ"},{name:"Танзания",value:"TZ"},{name:"Таиланд",value:"TH"},{name:"Восточный Тимор",value:"TL"},{name:"Того",value:"TG"},{name:"Токелау",value:"TK"},{name:"Тонга",value:"TO"},{name:"Тринидад и Тобаго",value:"TT"},{name:"Тунис",value:"TN"},{name:"Турция",value:"TR"},{name:"Туркмения",value:"TM"},{name:"Теркс и Кайкос",value:"TC"},{name:"Тувалу",value:"TV"},{name:"Уганда",value:"UG"},{name:"Украина",value:"UA"},{name:"Объединенные Арабские Эмираты",value:"AE"},{name:"Великобритания",value:"GB"},{name:"Соединенные Штаты Америки",value:"US"},{name:"Малые Тихоокеанские отдаленные острова США",value:"UM"},{name:"Уругвай",value:"UY"},{name:"Узбекистан",value:"UZ"},{name:"Вануату",value:"VU"},{name:"Венесуэла",value:"VE"},{name:"Вьетнам",value:"VN"},{name:"Виргинские острова (Великобритания)",value:"VG"},{name:"Виргинские острова (США)",value:"VI"},{name:"Уоллис и Футуна",value:"WF"},{name:"Западная Сахара",value:"EH"},{name:"Йемен",value:"YE"},{name:"Замбия",value:"ZM"},{name:"Зимбабве",value:"ZW"}];const qH=je(()=>{const{userInfo:e,setUserInfo:t,setAvatar:n}=cn,{setWindow:r,setIsOpen:a}=bn,[s,i]=g.useState(e.name),[o,l]=g.useState(e.lastName),[u,d]=g.useState(e.aboutMe),[f,p]=g.useState(null),h=g.useRef(null),m=g.useRef(null),[v,T]=J("user-self-settings");g.useEffect(()=>{i(e.firstName),l(e.lastName),d(e.aboutMe),e.country&&p(sl.findIndex(w=>w.value===e.country))},[e]);const E=w=>{const{id:D,value:M}=w.target;switch(D){case"name":i(M);break;case"surname":l(M);break;case"about":d(M);break}},C=w=>{if(w&&w.length>0){const D=new FormData;D.append("avatar",w[0],w[0].name),(async()=>(await zH(D)).success&&(t({...e,avatar:Ft.get("avatar")}),n(Ft.get("avatar")||"")))()}},_=w=>{if(w&&w.length>0){const D=new FormData;D.append("cover",w[0],w[0].name),(async()=>(await VH(D)).success&&t({...e,coverImage:Ft.get("cover")}))()}},N=()=>{h.current&&h.current.click()},x=()=>{m.current&&m.current.click()},S=w=>{w.target.files&&C(w.target.files)},A=w=>{w.target.files&&_(w.target.files)},P=async()=>{(await YH()).success&&t({...e,avatar:Ft.get("avatar")})},O=async()=>{const w={};if(s!==e.firstName&&(w.firstName=s),o!==e.lastName&&(w.lastName=o),f!==null&&sl[f].value!==e.country&&(w.country=sl[f].value),u!==e.aboutMe&&(w.aboutMe=u),Object.keys(w).length>0){const D=await jH(w);D.success&&t(D.data)}},k=()=>{r("change-password"),a(!0)};return y("section",{className:v(),children:[c(De,{tag:"h2",className:T("title"),children:"Настройки"}),y("section",{className:T("edit-fields"),children:[c("div",{style:{backgroundImage:"url('".concat(e.coverImage,"')")},className:T("bg"),children:c("div",{className:T("btn-cover"),onClick:x,role:"button",tabIndex:0,"aria-label":"Изменить обложку",onKeyPress:w=>{(w.key==="Enter"||w.key===" ")&&x()},children:y(ma,{onDrop:w=>w&&_(w),children:[c("input",{type:"file",style:{display:"none"},ref:m,onChange:A,accept:"image/*"}),c(V,{theme:"blue-light",icon:"image-edit",size:"small",children:"Изменить обложку"})]})})}),y("section",{className:T("avatar-wrapper"),children:[c(Dr,{avatar:e.avatar,className:T("avatar"),size:"large"}),c("div",{onClick:N,role:"button",tabIndex:0,"aria-label":"Изменить фотографию",onKeyPress:w=>{(w.key==="Enter"||w.key===" ")&&N()},children:y(ma,{onDrop:w=>w&&C(w),children:[c("input",{type:"file",style:{display:"none"},ref:h,onChange:S,accept:"image/*"}),c(V,{icon:"image-edit",theme:"blue",size:"small",children:"Изменить фотографию"})]})}),c(V,{className:T("delete-avatar"),icon:"trash",theme:"blue-light",onClick:P,size:"small",children:"Удалить фото"})]}),c(tn,{margin:"24px 0"}),y("section",{className:T("info"),children:[c(De,{tag:"h3",className:T("title"),children:"Информация пользователя"}),y("div",{className:T("input-group"),children:[c(Oe,{text:"Имя",placeholder:"Имя",id:"name",value:s,setValueTarget:E}),c(Oe,{text:"Фамилия",placeholder:"Фамилия",id:"surname",value:o,setValueTarget:E}),c("div",{children:c(Wt,{text:"Страна",options:sl,activeOption:f,onSelect:p,className:T("country")})}),c(Oe,{text:"Обо мне",type:"textarea",placeholder:"Обо мне",id:"about",value:u,setValueTarget:E})]}),c(V,{className:T("btn-save"),theme:"blue",onClick:O,children:"Сохранить изменения"}),c(tn,{margin:"24px 0"}),c(De,{tag:"h3",className:T("title"),children:"Безопасность и вход"}),c(V,{theme:"no-border",icon:"lock",onClick:k,children:"Изменить пароль"})]})]})]})});const KH=je(({page:e,subPage:t})=>{const[n,r]=J("user-self");g.useEffect(()=>{(async()=>await If())()},[]);const a=()=>{switch(e){case"isUserSelfActive":return c(E0,{subPage:t,completed:!1});case"isUserSelfDone":return c(E0,{subPage:t,completed:!0});case"isUserSelfSettings":return c(qH,{});case"isUserSelfAchievements":return c(vH,{});case"isUserSelfFriends":return c(HH,{subPage:t});case"isUserSelfFolders":return c(PH,{});case"isUserSelfProgress":return c(GH,{});case"isUserSelfRegular":return c(WH,{});default:return c(xH,{})}},s=g.useMemo(()=>[{url:"/user/self",name:"Дашборд",page:"isUserSelf"},{url:"/user/self/achievements",name:"Достижения",page:"isUserSelfAchievements"},{url:"/user/self/friends",name:"Друзья",page:"isUserSelfFriends"},{url:"/user/self/folders",name:"Папки целей",page:"isUserSelfFolders"},{url:"/user/self/progress",name:"Прогресс целей",page:"isUserSelfProgress"},{url:"/user/self/regular",name:"Регулярные цели",page:"isUserSelfRegular"},{url:"/user/self/active-goals",name:"Активные цели и списки",page:"isUserSelfActive"},{url:"/user/self/done-goals",name:"Выполненные",page:"isUserSelfDone"},{url:"/user/self/settings",name:"Настройки",page:"isUserSelfSettings"}],[]);return y("main",{className:n(),children:[c("aside",{className:r("sidebar"),children:c(Bh,{tabs:s,active:e,vertical:!0})}),a()]})}),Sn=({page:e,subPage:t})=>{const{setHeader:n,setPage:r,setFull:a}=yt;return g.useEffect(()=>{n("white"),r(e),a(!1)},[]),c(KH,{page:e,subPage:t})};const QH=je(({page:e})=>{var p,h,m;const[t,n]=g.useState(null),[r,a]=g.useState(!0),[s]=g.useState("locations"),[i,o]=J("user-map-page"),{setHeader:l,setPage:u,setFull:d}=yt;g.useEffect(()=>{l("white"),u(e),d(!1)},[]);const f=async()=>{try{a(!0);const v=await pf.getUserMapData();n(v)}catch(v){console.error("Error loading user map data:",v)}finally{a(!1)}};return g.useEffect(()=>{f()},[]),y(ht,{isLoading:r,className:i(),children:[y("div",{className:o("header"),children:[c("h1",{children:"Мои карты"}),c("p",{children:"Отслеживайте свои путешествия и достижения на карте"})]}),c("div",{className:o("map-content"),children:s==="locations"&&y("div",{className:o("locations-tab"),children:[y("div",{className:o("map-section"),children:[c("div",{className:o("section-header"),children:c("h2",{children:"Места из ваших целей"})}),t&&((p=t.goals)==null?void 0:p.length)>0?c(cv,{goals:t.goals.filter(v=>v.location&&typeof v.location.latitude=="number"&&typeof v.location.longitude=="number").map(v=>({location:v.location,userVisitedLocation:v.completedByUser,name:v.title,address:v.location.address,description:v.description}))}):y("div",{className:o("empty-state"),children:[c("h3",{children:"У вас пока нет целей с местами"}),c("p",{children:"Добавьте цели с географическими местами, чтобы увидеть их на карте"})]})]}),t&&((h=t.visited_locations)==null?void 0:h.length)>0&&y("div",{className:o("visited-locations-list"),children:[y("h3",{children:["Посещенные места (",(m=t.visited_locations)==null?void 0:m.length,")"]}),c("div",{className:o("locations-grid"),children:t.visited_locations.map(v=>y("div",{className:o("location-card"),children:[c("h4",{children:v.location.name}),c("p",{className:"location-country",children:v.location.country}),v.location.city&&c("p",{className:"location-city",children:v.location.city}),v.goal_title&&y("p",{className:"related-goal",children:["Цель: ",v.goal_title]}),y("p",{className:"visit-date",children:["Посещено: ",new Date(v.visited_at).toLocaleDateString("ru-RU")]})]},v.id))})]})]})})]})});const an=({element:e})=>{const{isAuth:t}=cn;return t?e:c(ol,{to:"/sign-in",replace:!0})},XH=je(()=>c("main",{className:"main",children:y(__,{children:[c(ze,{path:"/",element:c(nH,{page:"isMain"})}),c(ze,{path:"/100-goals",element:c(b0,{page:"isMainGoals"})}),c(ze,{path:"/news",element:c(C6,{})}),c(ze,{path:"/news/:id",element:c(w6,{})}),c(ze,{path:"/list/:id",element:c(a9,{page:"isList"})}),c(ze,{path:"/edit-list/:id",element:c(o9,{page:"isEditList"})}),c(ze,{path:"/list/100-goals",element:c(b0,{page:"isMainGoals"})}),c(ze,{path:"/categories",element:c(x6,{page:"isCategories"})}),c(ze,{path:"/categories/all",element:c(ds,{page:"isCategoriesAll",subPage:"goals"})}),c(ze,{path:"/categories/all/lists",element:c(ds,{page:"isCategoriesAll",subPage:"lists"})}),c(ze,{path:"/categories/:id",element:c(ds,{page:"isCategories",subPage:"goals"})}),c(ze,{path:"/categories/:categories/:id/",element:c(ds,{page:"isSubCategories",subPage:"goals"})}),c(ze,{path:"/categories/:id/lists",element:c(ds,{page:"isCategories",subPage:"lists"})}),c(ze,{path:"/categories/:categories/:id/lists",element:c(ds,{page:"isSubCategories",subPage:"lists"})}),c(ze,{path:"/goals/:id/lists",element:c(o0,{page:"isGoalLists"})}),c(ze,{path:"/goals/:id",element:c(o0,{page:"isGoal"})}),c(ze,{path:"/sign-in",element:c(h9,{page:"isLogin"})}),c(ze,{path:"/sign-up",element:c(iH,{page:"isRegistration"})}),c(ze,{path:"/leaders",element:c(f9,{page:"isLeaders"})}),c(ze,{path:"/user/:id/showcase",element:c(Ca,{page:"isUserShowcase"})}),c(ze,{path:"/user/:id/100-goal",element:c(Ca,{page:"isUser100Goals"})}),c(ze,{path:"/user/:id/active-goals",element:c(Ca,{page:"isUserActiveGoals",subPage:"goals"})}),c(ze,{path:"/user/:id/active-goals/lists",element:c(Ca,{page:"isUserActiveGoals",subPage:"lists"})}),c(ze,{path:"/user/:id/done-goals",element:c(Ca,{page:"isUserDoneGoals",subPage:"goals"})}),c(ze,{path:"/user/:id/done-goals/lists",element:c(Ca,{page:"isUserDoneGoals",subPage:"lists"})}),c(ze,{path:"/user/:id/achievements",element:c(Ca,{page:"isUserAchievements"})}),c(ze,{path:"/goals/create",element:c(an,{element:c(IB,{page:"isCreateGoal"})})}),c(ze,{path:"/list/create",element:c(an,{element:c(MB,{page:"isCreateGoalList"})})}),c(ze,{path:"/user/self",element:c(an,{element:c(Sn,{page:"isUserSelf"})})}),c(ze,{path:"/user/self/maps",element:c(an,{element:c(QH,{page:"isUserSelfMaps"})})}),c(ze,{path:"/user/self/achievements",element:c(an,{element:c(Sn,{page:"isUserSelfAchievements"})})}),c(ze,{path:"/user/self/settings",element:c(an,{element:c(Sn,{page:"isUserSelfSettings"})})}),c(ze,{path:"/user/self/active-goals",element:c(an,{element:c(Sn,{page:"isUserSelfActive",subPage:"goals"})})}),c(ze,{path:"/user/self/folders",element:c(an,{element:c(Sn,{page:"isUserSelfFolders"})})}),c(ze,{path:"/user/self/folders/:folderId",element:c(an,{element:c(Sn,{page:"isUserSelfFolders"})})}),c(ze,{path:"/user/self/progress",element:c(an,{element:c(Sn,{page:"isUserSelfProgress"})})}),c(ze,{path:"/user/self/regular",element:c(an,{element:c(Sn,{page:"isUserSelfRegular"})})}),c(ze,{path:"/user/self/done-goals",element:c(an,{element:c(Sn,{page:"isUserSelfDone",subPage:"goals"})})}),c(ze,{path:"/user/self/active-goals/lists",element:c(an,{element:c(Sn,{page:"isUserSelfActive",subPage:"lists"})})}),c(ze,{path:"/user/self/done-goals/lists",element:c(an,{element:c(Sn,{page:"isUserSelfDone",subPage:"lists"})})}),c(ze,{path:"/user/self/friends",element:c(an,{element:c(Sn,{page:"isUserSelfFriends",subPage:"friends"})})}),c(ze,{path:"/user/self/friends/requests",element:c(an,{element:c(Sn,{page:"isUserSelfFriends",subPage:"requests"})})}),c(ze,{path:"/user/self/friends/search",element:c(an,{element:c(Sn,{page:"isUserSelfFriends",subPage:"search"})})}),c(ze,{path:"/friends",element:c(ol,{to:"/user/self/friends",replace:!0})}),c(ze,{path:"/friends/requests",element:c(ol,{to:"/user/self/friends/requests",replace:!0})}),c(ze,{path:"/friends/search",element:c(ol,{to:"/user/self/friends/search",replace:!0})}),c(ze,{path:"*",element:c(sH,{page:"NotFound"})})]})}));const JH=je(()=>{const[e]=J("layout"),{full:t}=yt;return y(T_,{children:[c(tx,{}),y("div",{className:e({full:t}),children:[c(XH,{}),c(Ls,{}),c(Ux,{}),c($f,{title:"delting.ru - достигайте своих целей"})]})]})}),ZH=()=>c(g.StrictMode,{children:c(eT,{children:c(tT,{children:c(A0,{children:c(JH,{})})})})});(async()=>{const e=document.getElementById("root");T0(e).render(c(ZH,{}))})();export{t7 as __vite_legacy_guard};
